import{r as n,R as O,j as C}from"./vendor-query-BiSH4r2z.js";import{n as _,p as T,P as h,r as $,q as D}from"./index-Bu9eWVvM.js";import{u as M}from"./index-BeIkvURR.js";function k(e,s,{checkForDefaultPrevented:o=!0}={}){return function(t){if(e?.(t),o===!1||!t.defaultPrevented)return s?.(t)}}var F=O[" useInsertionEffect ".trim().toString()]||_;function L({prop:e,defaultProp:s,onChange:o=()=>{},caller:r}){const[t,a,c]=q({defaultProp:s,onChange:o}),l=e!==void 0,p=l?e:t;{const i=n.useRef(e!==void 0);n.useEffect(()=>{const d=i.current;d!==l&&console.warn(`${r} is changing from ${d?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),i.current=l},[l,r])}const f=n.useCallback(i=>{if(l){const d=B(i)?i(e):i;d!==e&&c.current?.(d)}else a(i)},[l,e,a,c]);return[p,f]}function q({defaultProp:e,onChange:s}){const[o,r]=n.useState(e),t=n.useRef(o),a=n.useRef(s);return F(()=>{a.current=s},[s]),n.useEffect(()=>{t.current!==o&&(a.current?.(o),t.current=o)},[o,t]),[o,r,a]}function B(e){return typeof e=="function"}var b="Collapsible",[G]=T(b),[U,x]=G(b),I=n.forwardRef((e,s)=>{const{__scopeCollapsible:o,open:r,defaultOpen:t,disabled:a,onOpenChange:c,...l}=e,[p,f]=L({prop:r,defaultProp:t??!1,onChange:c,caller:b});return C.jsx(U,{scope:o,disabled:a,contentId:M(),open:p,onOpenToggle:n.useCallback(()=>f(i=>!i),[f]),children:C.jsx(h.div,{"data-state":E(p),"data-disabled":a?"":void 0,...l,ref:s})})});I.displayName=b;var S="CollapsibleTrigger",j=n.forwardRef((e,s)=>{const{__scopeCollapsible:o,...r}=e,t=x(S,o);return C.jsx(h.button,{type:"button","aria-controls":t.contentId,"aria-expanded":t.open||!1,"data-state":E(t.open),"data-disabled":t.disabled?"":void 0,disabled:t.disabled,...r,ref:s,onClick:k(e.onClick,t.onOpenToggle)})});j.displayName=S;var P="CollapsibleContent",A=n.forwardRef((e,s)=>{const{forceMount:o,...r}=e,t=x(P,e.__scopeCollapsible);return C.jsx($,{present:o||t.open,children:({present:a})=>C.jsx(H,{...r,ref:s,present:a})})});A.displayName=P;var H=n.forwardRef((e,s)=>{const{__scopeCollapsible:o,present:r,children:t,...a}=e,c=x(P,o),[l,p]=n.useState(r),f=n.useRef(null),i=D(s,f),d=n.useRef(0),v=d.current,R=n.useRef(0),y=R.current,g=c.open||l,N=n.useRef(g),m=n.useRef(void 0);return n.useEffect(()=>{const u=requestAnimationFrame(()=>N.current=!1);return()=>cancelAnimationFrame(u)},[]),_(()=>{const u=f.current;if(u){m.current=m.current||{transitionDuration:u.style.transitionDuration,animationName:u.style.animationName},u.style.transitionDuration="0s",u.style.animationName="none";const w=u.getBoundingClientRect();d.current=w.height,R.current=w.width,N.current||(u.style.transitionDuration=m.current.transitionDuration,u.style.animationName=m.current.animationName),p(r)}},[c.open,r]),C.jsx(h.div,{"data-state":E(c.open),"data-disabled":c.disabled?"":void 0,id:c.contentId,hidden:!g,...a,ref:i,style:{"--radix-collapsible-content-height":v?`${v}px`:void 0,"--radix-collapsible-content-width":y?`${y}px`:void 0,...e.style},children:g&&t})});function E(e){return e?"open":"closed"}var z=I;const V=z,W=j,X=A;export{V as C,W as a,X as b};
