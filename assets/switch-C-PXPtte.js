import{r,R as T,j as f}from"./vendor-query-BiSH4r2z.js";import{n as M,q as R,p as U,P as E,N as H,a as C}from"./index-6muuOvs8.js";import{u as $}from"./select-nd3Hyo6s.js";function q(e,n,{checkForDefaultPrevented:t=!0}={}){return function(o){if(e?.(o),t===!1||!o.defaultPrevented)return n?.(o)}}var A=T[" useInsertionEffect ".trim().toString()]||M;function L({prop:e,defaultProp:n,onChange:t=()=>{},caller:a}){const[o,i,l]=z({defaultProp:n,onChange:t}),s=e!==void 0,d=s?e:o;{const c=r.useRef(e!==void 0);r.useEffect(()=>{const u=c.current;u!==s&&console.warn(`${a} is changing from ${u?"controlled":"uncontrolled"} to ${s?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),c.current=s},[s,a])}const p=r.useCallback(c=>{if(s){const u=D(c)?c(e):c;u!==e&&l.current?.(u)}else i(c)},[s,e,i,l]);return[d,p]}function z({defaultProp:e,onChange:n}){const[t,a]=r.useState(e),o=r.useRef(t),i=r.useRef(n);return A(()=>{i.current=n},[n]),r.useEffect(()=>{o.current!==t&&(i.current?.(t),o.current=t)},[t,o]),[t,a,i]}function D(e){return typeof e=="function"}var w="Switch",[F]=U(w),[O,W]=F(w),x=r.forwardRef((e,n)=>{const{__scopeSwitch:t,name:a,checked:o,defaultChecked:i,required:l,disabled:s,value:d="on",onCheckedChange:p,form:c,...u}=e,[h,m]=r.useState(null),S=R(n,v=>m(v)),g=r.useRef(!1),k=h?c||!!h.closest("form"):!0,[b,I]=L({prop:o,defaultProp:i??!1,onChange:p,caller:w});return f.jsxs(O,{scope:t,checked:b,disabled:s,children:[f.jsx(E.button,{type:"button",role:"switch","aria-checked":b,"aria-required":l,"data-state":j(b),"data-disabled":s?"":void 0,disabled:s,value:d,...u,ref:S,onClick:q(e.onClick,v=>{I(B=>!B),k&&(g.current=v.isPropagationStopped(),g.current||v.stopPropagation())})}),k&&f.jsx(N,{control:h,bubbles:!g.current,name:a,value:d,checked:b,required:l,disabled:s,form:c,style:{transform:"translateX(-100%)"}})]})});x.displayName=w;var y="SwitchThumb",P=r.forwardRef((e,n)=>{const{__scopeSwitch:t,...a}=e,o=W(y,t);return f.jsx(E.span,{"data-state":j(o.checked),"data-disabled":o.disabled?"":void 0,...a,ref:n})});P.displayName=y;var X="SwitchBubbleInput",N=r.forwardRef(({__scopeSwitch:e,control:n,checked:t,bubbles:a=!0,...o},i)=>{const l=r.useRef(null),s=R(l,i),d=$(t),p=H(n);return r.useEffect(()=>{const c=l.current;if(!c)return;const u=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(u,"checked").set;if(d!==t&&m){const S=new Event("click",{bubbles:a});m.call(c,t),c.dispatchEvent(S)}},[d,t,a]),f.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:t,...o,tabIndex:-1,ref:s,style:{...o.style,...p,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});N.displayName=X;function j(e){return e?"checked":"unchecked"}var _=x,G=P;const J=r.forwardRef(({className:e,...n},t)=>f.jsx(_,{className:C("peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...n,ref:t,children:f.jsx(G,{className:C("pointer-events-none block h-4 w-4 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0")})}));J.displayName=_.displayName;export{J as S};
