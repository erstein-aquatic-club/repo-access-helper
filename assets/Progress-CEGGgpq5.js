import{r as A,j as e}from"./vendor-ui-C9ymspZo.js";import{u as ce,d as Ue}from"./vendor-query-kM2vrB_e.js";import{u as Ze,C as i,b as o,c as d,f as c,B as et,g as X}from"./index-CMwkteNF.js";import{T as tt,a as st,b as ue,c as R,d as at,e as b}from"./table-DIyt31jY.js";import{T as nt,a as rt,b as we,c as Ce}from"./tabs-g3XwtasH.js";import{S as De,a as ke,b as Le,c as Pe,d as T}from"./select-DnkUOUCr.js";import{s as U}from"./score-CwBbkHfb.js";import{B as Re}from"./badge-sCkYel0L.js";import{s as lt,a as me,e as it,f as _}from"./vendor-date-cQbdWov0.js";import{R as w,B as J,C as K,X as V,T as C,a as F,Y as xe,b as Me,P as ot,d as dt,L as Ae,e as ct,f as he,g as ut}from"./vendor-charts-DSuxWnoS.js";import"./vendor-react-BzrpNAyj.js";import"./vendor-supabase-B2MyMyC0.js";import"./chevron-up-BonayVPE.js";import"./check-BrYunlGc.js";const Te="rounded-full px-3 py-1 text-sm font-mono font-bold",_e=S=>{const D=S.match(/hsl\((\d+(?:\.\d+)?)\s+(\d+(?:\.\d+)?)%\s+(\d+(?:\.\d+)?)%\)/);if(!D)return"#000";const[,k,L,P]=D,r=Number(k),m=Number(L)/100,j=Number(P)/100,h=(1-Math.abs(2*j-1))*m,f=h*(1-Math.abs(r/60%2-1)),I=j-h/2;let N=0,M=0,y=0;r>=0&&r<60?(N=h,M=f):r>=60&&r<120?(N=f,M=h):r>=120&&r<180?(M=h,y=f):r>=180&&r<240?(M=f,y=h):r>=240&&r<300?(N=f,y=h):(N=h,y=f);const ge=Math.round((N+I)*255),v=Math.round((M+I)*255),Z=Math.round((y+I)*255);return .2126*ge+.7152*v+.0722*Z>155?"#000":"#fff"};function mt({avgRpe:S,avgPerformance:D,avgEngagement:k,avgFatigue:L}){const P=[{key:"rpe",title:"Difficulté Moy",value:S,invert:!0},{key:"performance",title:"Performance Moy",value:D,invert:!1},{key:"engagement",title:"Engagement Moy",value:k,invert:!1},{key:"fatigue",title:"Fatigue Moy",value:L,invert:!0}];return e.jsx("div",{className:"grid grid-cols-2 gap-3 md:grid-cols-4",children:P.map(r=>{const m=U(r.value??null,{invert:r.invert})??"hsl(var(--muted-foreground))";return e.jsxs(i,{children:[e.jsx(o,{className:"p-4 pb-2",children:e.jsx(d,{className:"text-xs uppercase text-muted-foreground",children:r.title})}),e.jsx(c,{className:"p-4 pt-0",children:e.jsx(Re,{className:Te,style:{backgroundColor:m,color:_e(m)},children:r.value?r.value.toFixed(1):"-"})})]},r.key)})})}function q(){return e.jsxs("div",{className:"space-y-4 animate-pulse motion-reduce:animate-none",children:[e.jsx("div",{className:"h-6 w-48 rounded-lg bg-muted"}),e.jsx("div",{className:"h-[200px] w-full rounded-xl bg-muted"}),e.jsx("div",{className:"flex gap-2",children:[1,2,3].map(S=>e.jsx("div",{className:"h-4 w-16 rounded bg-muted"},S))})]})}function kt(){const{user:S,userId:D,role:k,selectedAthleteId:L,selectedAthleteName:P}=Ze(),r=(k==="coach"||k==="admin")&&(L!==null||!!P),m=r?P:S,j=r?L:D,h=j??m,[f,I]=A.useState("all"),[N,M]=A.useState(""),[y,ge]=A.useState(""),[v,Z]=A.useState(30),[p,Ke]=A.useState(30),{data:$,isLoading:fe}=ce({queryKey:["sessions",h],queryFn:()=>X.getSessions(m,j),enabled:!!m}),E=Ue({queryKey:["strength_history",h,"progress",f,N,y],queryFn:({pageParam:t=0})=>X.getStrengthHistory(m,{athleteId:j,limit:10,offset:t,order:"desc",status:f==="all"?void 0:f,from:N||void 0,to:y||void 0}),enabled:!!m,getNextPageParam:t=>{const s=t.pagination.offset+t.pagination.limit;return s<t.pagination.total?s:void 0},initialPageParam:0}),pe=E.data?.pages.flatMap(t=>t.runs)??[],z=lt(me(new Date,p)).toISOString(),Q=it(new Date).toISOString(),{data:je,isLoading:Ve}=ce({queryKey:["strength_history_summary",h,"progress",p,z,Q],queryFn:()=>X.getStrengthHistory(m,{athleteId:j,limit:200,order:"desc",from:z,to:Q}),enabled:!!m}),{data:Fe,isLoading:Ee}=ce({queryKey:["strength_history_aggregate",h,"progress",p,z,Q],queryFn:()=>X.getStrengthHistoryAggregate(m,{athleteId:j,period:"day",limit:200,order:"asc",from:z,to:Q}),enabled:!!m}),ee=Ve||Ee,te=je?.runs??[],Be=je?.exercise_summary??[],se=Fe?.periods??[],Oe=t=>{if(!$)return[];const s=me(new Date,t),x=$.filter(a=>new Date(a.date)>=s).reverse(),g=new Map;return x.forEach(a=>{const n=_(new Date(a.date),"dd/MM");g.has(n)||g.set(n,{date:n,distance:0,effort:0,rpe:0,performance:0,engagement:0,fatigue:0,count:0,rpeCount:0,performanceCount:0,engagementCount:0,fatigueCount:0});const l=g.get(n);l.distance+=a.distance,l.effort+=a.effort,l.count+=1,a.rpe!==null&&a.rpe!==void 0&&(l.rpe+=a.rpe,l.rpeCount+=1),a.performance!==null&&a.performance!==void 0&&(l.performance+=a.performance,l.performanceCount+=1),a.engagement!==null&&a.engagement!==void 0&&(l.engagement+=a.engagement,l.engagementCount+=1),a.fatigue!==null&&a.fatigue!==void 0&&(l.fatigue+=a.fatigue,l.fatigueCount+=1)}),Array.from(g.values()).map(a=>({...a,effort:Math.round(a.effort/a.count*10)/10,rpe:a.rpeCount?Math.round(a.rpe/a.rpeCount*10)/10:null,performance:a.performanceCount?Math.round(a.performance/a.performanceCount*10)/10:null,engagement:a.engagementCount?Math.round(a.engagement/a.engagementCount*10)/10:null,fatigue:a.fatigueCount?Math.round(a.fatigue/a.fatigueCount*10)/10:null}))},B=$?$.filter(t=>new Date(t.date)>=me(new Date,v)):[],O=B.length,u=B.reduce((t,s)=>(t.distance+=s.distance,t.duration+=s.duration,s.rpe!==null&&s.rpe!==void 0&&(t.rpeSum+=s.rpe,t.rpeCount+=1),s.performance!==null&&s.performance!==void 0&&(t.performanceSum+=s.performance,t.performanceCount+=1),s.engagement!==null&&s.engagement!==void 0&&(t.engagementSum+=s.engagement,t.engagementCount+=1),s.fatigue!==null&&s.fatigue!==void 0&&(t.fatigueSum+=s.fatigue,t.fatigueCount+=1),t),{distance:0,duration:0,rpeSum:0,rpeCount:0,performanceSum:0,performanceCount:0,engagementSum:0,engagementCount:0,fatigueSum:0,fatigueCount:0}),He=u.rpeCount?u.rpeSum/u.rpeCount:null,qe=u.performanceCount?u.performanceSum/u.performanceCount:null,Ie=u.engagementCount?u.engagementSum/u.engagementCount:null,$e=u.fatigueCount?u.fatigueSum/u.fatigueCount:null;O&&u.duration/O;const ze=O?u.distance/O:0,H=Oe(v),ae=["NL","DOS","BR","PAP","QN"],Ne={NL:"NL",DOS:"Dos",BR:"Brasse",PAP:"Pap",QN:"4N"},ye={NL:"hsl(210, 80%, 55%)",DOS:"hsl(160, 60%, 45%)",BR:"hsl(35, 85%, 55%)",PAP:"hsl(280, 60%, 55%)",QN:"hsl(340, 70%, 55%)"},W=A.useMemo(()=>{if(!B.length)return{pie:[],daily:[],hasData:!1};const t={NL:0,DOS:0,BR:0,PAP:0,QN:0};let s=!1;const x=new Map;for(const n of B){const l=n.stroke_distances;if(!l)continue;const oe=_(new Date(n.date),"dd/MM");x.has(oe)||x.set(oe,{NL:0,DOS:0,BR:0,PAP:0,QN:0});const Je=x.get(oe);for(const de of ae){const G=l[de];G&&G>0&&(t[de]+=G,Je[de]+=G,s=!0)}}const g=ae.filter(n=>t[n]>0).map(n=>({name:Ne[n],value:t[n],fill:ye[n]})),a=Array.from(x.entries()).map(([n,l])=>({date:n,...l}));return{pie:g,daily:a,hasData:s}},[B]),ne=t=>t==="rpe"||t==="effort"||t==="fatigue",re=t=>{const x=(Array.isArray(t?.logs)?t.logs:[]).map(n=>n?.rpe!==null&&n?.rpe!==void 0?Number(n.rpe):null).filter(n=>n!==null&&Number.isFinite(n));if(x.length>0)return x.reduce((n,l)=>n+l,0)/x.length;const g=t?.feeling??t?.rpe??null,a=g!=null?Number(g):null;return a!==null&&Number.isFinite(a)?a:null},Qe=t=>t==null||Number.isNaN(t)?"-":t.toFixed(1),ve=[...te].sort((t,s)=>{const x=new Date(t.started_at||t.date||t.created_at||0).getTime(),g=new Date(s.started_at||s.date||s.created_at||0).getTime();return x-g}).map(t=>({date:_(new Date(t.started_at||t.date||t.created_at||new Date),"dd/MM"),feeling:re(t)})),Se=se.map(t=>({date:t.period,label:_(new Date(t.period),"dd/MM"),tonnage:Math.round(t.tonnage??0),volume:Math.round(t.volume??0)})),We=se.reduce((t,s)=>t+(s.tonnage??0),0),Ye=se.reduce((t,s)=>t+(s.volume??0),0),Ge=te.length,le=te.map(t=>re(t)).filter(t=>t!==null&&Number.isFinite(t)),Y=le.length?le.reduce((t,s)=>t+s,0)/le.length:null,ie=[...Be].map(t=>({exerciseId:Number(t.exercise_id),name:t.exercise_name||`Exercice ${t.exercise_id}`,totalSets:Number(t.total_sets??0),totalReps:Number(t.total_reps??0),totalVolume:Number(t.total_volume??0),maxWeight:t.max_weight!==null&&t.max_weight!==void 0?Number(t.max_weight):null,lastPerformedAt:t.last_performed_at??null})).sort((t,s)=>s.totalVolume-t.totalVolume),be=ie.slice(0,8),Xe=t=>{if(!t)return"-";const s=new Date(t);return Number.isNaN(s.getTime())?"-":_(s,"dd/MM/yyyy")};return e.jsxs("div",{className:"space-y-6 pb-8",children:[e.jsx("h1",{className:"text-3xl font-display font-bold uppercase italic text-primary",children:"Progression"}),e.jsxs(nt,{defaultValue:"swim",className:"w-full",children:[e.jsxs(rt,{className:"grid w-full grid-cols-2",children:[e.jsx(we,{value:"swim",children:"Natation"}),e.jsx(we,{value:"strength",children:"Musculation"})]}),e.jsxs(Ce,{value:"swim",className:"space-y-6 animate-in fade-in motion-reduce:animate-none",children:[e.jsxs("div",{className:"flex flex-wrap items-center justify-end gap-2",children:[e.jsx("span",{className:"text-xs uppercase text-muted-foreground",children:"Période"}),e.jsxs(De,{value:String(v),onValueChange:t=>Z(Number(t)),children:[e.jsx(ke,{className:"h-8 w-[140px]",children:e.jsx(Le,{})}),e.jsxs(Pe,{children:[e.jsx(T,{value:"7",children:"7 jours"}),e.jsx(T,{value:"30",children:"30 jours"}),e.jsx(T,{value:"365",children:"365 jours"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 md:grid-cols-3",children:[e.jsxs(i,{children:[e.jsx(o,{className:"p-4 pb-2",children:e.jsxs(d,{className:"text-xs uppercase text-muted-foreground",children:["Volume (",v,"j)"]})}),e.jsxs(c,{className:"p-4 pt-0 text-2xl font-bold font-mono",children:[u.distance.toLocaleString(),"m"]})]}),e.jsxs(i,{children:[e.jsx(o,{className:"p-4 pb-2",children:e.jsxs(d,{className:"text-xs uppercase text-muted-foreground",children:["Séances (",v,"j)"]})}),e.jsx(c,{className:"p-4 pt-0 text-2xl font-bold font-mono",children:O})]}),e.jsxs(i,{children:[e.jsx(o,{className:"p-4 pb-2",children:e.jsx(d,{className:"text-xs uppercase text-muted-foreground",children:"Distance Moy"})}),e.jsxs(c,{className:"p-4 pt-0 text-2xl font-bold font-mono",children:[Math.round(ze).toLocaleString(),"m"]})]})]}),e.jsx(mt,{avgRpe:He,avgPerformance:qe,avgEngagement:Ie,avgFatigue:$e}),e.jsxs(i,{children:[e.jsx(o,{children:e.jsx(d,{children:"Volume Quotidien"})}),e.jsx(c,{className:"h-[250px] w-full",children:fe?e.jsx(q,{}):H.length===0?e.jsx("div",{className:"flex h-full items-center justify-center text-sm text-muted-foreground",children:"Aucune donnée disponible."}):e.jsx(w,{width:"100%",height:"100%",children:e.jsxs(J,{data:H,children:[e.jsx(K,{strokeDasharray:"3 3",opacity:.1,vertical:!1}),e.jsx(V,{dataKey:"date",fontSize:10,tickLine:!1,axisLine:!1}),e.jsx(C,{cursor:{fill:"transparent"}}),e.jsx(F,{dataKey:"distance",fill:"hsl(var(--primary))",radius:[4,4,0,0]})]})})})]}),e.jsx("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[{key:"rpe",title:"RPE"},{key:"performance",title:"Performance"},{key:"engagement",title:"Engagement"},{key:"fatigue",title:"Fatigue"}].map(t=>e.jsxs(i,{children:[e.jsx(o,{children:e.jsx(d,{children:t.title})}),e.jsx(c,{className:"h-[240px] w-full",children:fe?e.jsx(q,{}):H.length===0?e.jsx("div",{className:"flex h-full items-center justify-center text-sm text-muted-foreground",children:"Aucune donnée disponible."}):e.jsx(w,{width:"100%",height:"100%",children:e.jsxs(J,{data:H,children:[e.jsx(K,{strokeDasharray:"3 3",opacity:.1,vertical:!1}),e.jsx(V,{dataKey:"date",fontSize:10,tickLine:!1,axisLine:!1}),e.jsx(xe,{domain:[0,5],tickLine:!1,axisLine:!1,fontSize:10}),e.jsx(C,{cursor:{fill:"transparent"},formatter:s=>[s??"-",t.title]}),e.jsx(F,{dataKey:t.key,radius:[4,4,0,0],children:H.map((s,x)=>e.jsx(Me,{fill:U(s[t.key],{invert:ne(t.key)})},`${t.key}-${s.date}-${x}`))})]})})})]},t.key))}),W.hasData&&e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[e.jsxs(i,{children:[e.jsx(o,{children:e.jsxs(d,{children:["Répartition par nage (",v,"j)"]})}),e.jsx(c,{className:"h-[280px] w-full",children:e.jsx(w,{width:"100%",height:"100%",children:e.jsxs(ot,{children:[e.jsx(dt,{data:W.pie,dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",outerRadius:90,label:({name:t,percent:s})=>`${t} ${(s*100).toFixed(0)}%`,children:W.pie.map((t,s)=>e.jsx(Me,{fill:t.fill},`pie-${s}`))}),e.jsx(C,{formatter:t=>[`${t.toLocaleString()}m`,"Distance"]}),e.jsx(Ae,{})]})})})]}),e.jsxs(i,{children:[e.jsx(o,{children:e.jsx(d,{children:"Distance par nage / jour"})}),e.jsx(c,{className:"h-[280px] w-full",children:e.jsx(w,{width:"100%",height:"100%",children:e.jsxs(J,{data:W.daily,children:[e.jsx(K,{strokeDasharray:"3 3",opacity:.1,vertical:!1}),e.jsx(V,{dataKey:"date",fontSize:10,tickLine:!1,axisLine:!1}),e.jsx(xe,{fontSize:10,tickLine:!1,axisLine:!1}),e.jsx(C,{}),ae.map(t=>e.jsx(F,{dataKey:t,stackId:"strokes",name:Ne[t],fill:ye[t],radius:0},t)),e.jsx(Ae,{})]})})})]})]})]}),e.jsxs(Ce,{value:"strength",className:"space-y-6 animate-in fade-in motion-reduce:animate-none",children:[e.jsxs("div",{className:"flex flex-wrap items-center justify-end gap-2",children:[e.jsx("span",{className:"text-xs uppercase text-muted-foreground",children:"Période"}),e.jsxs(De,{value:String(p),onValueChange:t=>Ke(Number(t)),children:[e.jsx(ke,{className:"h-8 w-[140px]",children:e.jsx(Le,{})}),e.jsxs(Pe,{children:[e.jsx(T,{value:"7",children:"7 jours"}),e.jsx(T,{value:"30",children:"30 jours"}),e.jsx(T,{value:"365",children:"365 jours"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 md:grid-cols-4",children:[e.jsxs(i,{children:[e.jsx(o,{className:"p-4 pb-2",children:e.jsxs(d,{className:"text-xs uppercase text-muted-foreground",children:["Tonnage (",p,"j)"]})}),e.jsxs(c,{className:"p-4 pt-0 text-2xl font-bold font-mono",children:[Math.round(We).toLocaleString()," kg"]})]}),e.jsxs(i,{children:[e.jsx(o,{className:"p-4 pb-2",children:e.jsxs(d,{className:"text-xs uppercase text-muted-foreground",children:["Volume (",p,"j)"]})}),e.jsxs(c,{className:"p-4 pt-0 text-2xl font-bold font-mono",children:[Math.round(Ye).toLocaleString()," reps"]})]}),e.jsxs(i,{children:[e.jsx(o,{className:"p-4 pb-2",children:e.jsxs(d,{className:"text-xs uppercase text-muted-foreground",children:["Séances (",p,"j)"]})}),e.jsx(c,{className:"p-4 pt-0 text-2xl font-bold font-mono",children:Ge})]}),e.jsxs(i,{children:[e.jsx(o,{className:"p-4 pb-2",children:e.jsx(d,{className:"text-xs uppercase text-muted-foreground",children:"Ressenti Moy"})}),e.jsx(c,{className:"p-4 pt-0",children:e.jsx(Re,{className:Te,style:{backgroundColor:U(Y??null,{invert:ne("rpe")})??"hsl(var(--muted-foreground))",color:_e(U(Y??null,{invert:ne("rpe")})??"hsl(var(--muted-foreground))")},children:Y!==null?Y.toFixed(1):"-"})})]})]}),e.jsxs(i,{children:[e.jsx(o,{children:e.jsxs(d,{children:["Tonnage & Volume (",p,"j)"]})}),e.jsx(c,{className:"h-[250px] w-full",children:ee?e.jsx(q,{}):Se.length===0?e.jsx("div",{className:"flex h-full items-center justify-center text-sm text-muted-foreground",children:"Aucune donnée disponible."}):e.jsx(w,{width:"100%",height:"100%",children:e.jsxs(ct,{data:Se,children:[e.jsx(K,{strokeDasharray:"3 3",opacity:.1,vertical:!1}),e.jsx(V,{dataKey:"label",fontSize:10,tickLine:!1,axisLine:!1}),e.jsx(C,{}),e.jsx(F,{dataKey:"tonnage",name:"Tonnage",fill:"hsl(var(--primary))",radius:[4,4,0,0]}),e.jsx(F,{dataKey:"volume",name:"Volume",fill:"hsl(var(--accent))",radius:[4,4,0,0]}),e.jsx(he,{type:"monotone",dataKey:"tonnage",stroke:"hsl(var(--primary))",strokeWidth:2,dot:!1}),e.jsx(he,{type:"monotone",dataKey:"volume",stroke:"hsl(var(--accent))",strokeWidth:2,dot:!1})]})})})]}),e.jsxs(i,{children:[e.jsx(o,{children:e.jsx(d,{children:"Ressenti Séances"})}),e.jsx(c,{className:"h-[250px] w-full",children:ee?e.jsx(q,{}):ve.length===0?e.jsx("div",{className:"flex h-full items-center justify-center text-sm text-muted-foreground",children:"Aucune donnée disponible."}):e.jsx(w,{width:"100%",height:"100%",children:e.jsxs(ut,{data:ve,children:[e.jsx(K,{strokeDasharray:"3 3",opacity:.1,vertical:!1}),e.jsx(V,{dataKey:"date",fontSize:10,tickLine:!1,axisLine:!1}),e.jsx(xe,{domain:[0,10],hide:!0}),e.jsx(C,{}),e.jsx(he,{type:"monotone",dataKey:"feeling",stroke:"hsl(var(--foreground))",strokeWidth:2,dot:{r:4}})]})})})]}),e.jsxs(i,{children:[e.jsx(o,{children:e.jsx(d,{children:"Volume par exercice"})}),e.jsx(c,{className:"h-[260px] w-full",children:ee?e.jsx(q,{}):be.length===0?e.jsx("div",{className:"flex h-full items-center justify-center text-sm text-muted-foreground",children:"Aucune donnée d'exercice disponible."}):e.jsx(w,{width:"100%",height:"100%",children:e.jsxs(J,{data:be,children:[e.jsx(K,{strokeDasharray:"3 3",opacity:.1,vertical:!1}),e.jsx(V,{dataKey:"name",fontSize:10,tickLine:!1,axisLine:!1,interval:0}),e.jsx(C,{cursor:{fill:"transparent"},formatter:t=>[`${Number(t).toLocaleString()} kg`,"Volume"]}),e.jsx(F,{dataKey:"totalVolume",fill:"hsl(var(--primary))",radius:[4,4,0,0]})]})})})]}),e.jsxs(i,{children:[e.jsx(o,{children:e.jsx(d,{children:"Stats par exercice"})}),e.jsx(c,{children:e.jsx("div",{className:"w-full overflow-x-auto",children:e.jsxs(tt,{children:[e.jsx(st,{children:e.jsxs(ue,{children:[e.jsx(R,{children:"Exercice"}),e.jsx(R,{className:"text-right",children:"Séries"}),e.jsx(R,{className:"text-right",children:"Répétitions"}),e.jsx(R,{className:"text-right",children:"Volume"}),e.jsx(R,{className:"text-right",children:"Charge max"}),e.jsx(R,{className:"text-right",children:"Dernière séance"})]})}),e.jsx(at,{children:ie.length===0?e.jsx(ue,{children:e.jsx(b,{colSpan:6,className:"text-center text-sm text-muted-foreground",children:"Aucun exercice enregistré."})}):ie.map(t=>e.jsxs(ue,{children:[e.jsx(b,{className:"font-medium",children:t.name}),e.jsx(b,{className:"text-right font-mono",children:t.totalSets}),e.jsx(b,{className:"text-right font-mono",children:t.totalReps}),e.jsxs(b,{className:"text-right font-mono",children:[t.totalVolume.toLocaleString()," kg"]}),e.jsx(b,{className:"text-right font-mono",children:t.maxWeight!==null?`${t.maxWeight} kg`:"-"}),e.jsx(b,{className:"text-right text-sm text-muted-foreground",children:Xe(t.lastPerformedAt)})]},t.exerciseId))})]})})})]}),e.jsxs(i,{children:[e.jsx(o,{children:e.jsx(d,{children:"Historique récent"})}),e.jsxs(c,{className:"space-y-3",children:[pe.length===0&&e.jsx("div",{className:"text-center text-sm text-muted-foreground py-6",children:"Aucun historique disponible."}),pe.map(t=>e.jsxs("div",{className:"flex items-center justify-between border-b border-border/60 pb-2 last:border-b-0 last:pb-0",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-semibold",children:_(new Date(t.started_at||t.date||t.created_at||new Date),"dd/MM/yyyy")}),e.jsx("div",{className:"text-xs uppercase text-muted-foreground",children:t.status||"Séance"})]}),e.jsxs("div",{className:"text-sm font-mono font-semibold",children:[Qe(re(t)),"/10"]})]},t.id)),E.hasNextPage&&e.jsx(et,{variant:"outline",size:"sm",className:"w-full",onClick:()=>E.fetchNextPage(),disabled:E.isFetchingNextPage,children:E.isFetchingNextPage?"Chargement...":"Charger plus"})]})]})]})]})]})}export{mt as SwimKpiCompactGrid,kt as default};
