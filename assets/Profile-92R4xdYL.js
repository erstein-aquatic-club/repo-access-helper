import{r as l,b as Ne,h as P,j as e,d as be,s as we,l as M,t as Se,u as Ce,g as ye}from"./vendor-ui-Cp7LoSvI.js";import{c as _e,t as Re,v as Pe,a as T,u as Fe,f as Ee,S as g,C as L,g as z,i as A,B as b,L as j,I as _,h as Le,l as Ae,r as Ie,j as $e,d as R}from"./index-bF_flMZb.js";import{b as ke,u as K,c as k}from"./vendor-query-DWM3xq1x.js";import{T as Me}from"./textarea-WuRolWba.js";import{S as Te,a as Ue,b as De,c as Oe,d as qe}from"./select-W_K7_xI9.js";import{B as Be}from"./badge-U-0hSLAM.js";import{S as Ge,a as He,b as Ve,c as ze,e as Ke}from"./sheet-BBplgXBS.js";import{u as Q,t as W,o as J,s as w,l as Qe}from"./types-DPaQBEwS.js";import{m as We,f as Ze}from"./animations-B_laV44n.js";import{C as Je}from"./circle-alert-Bn-IPMxU.js";import{P as Xe}from"./pen-BBsPG8yE.js";import{S as Ye}from"./save-BV10Y3Yh.js";import{C as es}from"./chevron-right-B8q-dR8X.js";import"./vendor-react-BzrpNAyj.js";import"./vendor-charts-BtSE1gaf.js";import"./vendor-supabase-Cs1gO9iU.js";import"./chevron-up-qECYr6gR.js";import"./check-DVkUw4X6.js";import"./design-tokens-CGMys_0P.js";/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ss=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],ts=_e("log-out",ss);function rs(s,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(s?.(a),r===!1||!a.defaultPrevented)return t?.(a)}}var as=Ne[" useInsertionEffect ".trim().toString()]||P;function ns({prop:s,defaultProp:t,onChange:r=()=>{},caller:o}){const[a,n,d]=os({defaultProp:t,onChange:r}),u=s!==void 0,f=u?s:a;{const p=l.useRef(s!==void 0);l.useEffect(()=>{const c=p.current;c!==u&&console.warn(`${o} is changing from ${c?"controlled":"uncontrolled"} to ${u?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),p.current=u},[u,o])}const x=l.useCallback(p=>{if(u){const c=is(p)?p(s):p;c!==s&&d.current?.(c)}else n(p)},[u,s,n,d]);return[f,x]}function os({defaultProp:s,onChange:t}){const[r,o]=l.useState(s),a=l.useRef(r),n=l.useRef(t);return as(()=>{n.current=t},[t]),l.useEffect(()=>{a.current!==r&&(n.current?.(r),a.current=r)},[r,a]),[r,o,n]}function is(s){return typeof s=="function"}var I="Collapsible",[ls]=be(I),[cs,U]=ls(I),X=l.forwardRef((s,t)=>{const{__scopeCollapsible:r,open:o,defaultOpen:a,disabled:n,onOpenChange:d,...u}=s,[f,x]=ns({prop:o,defaultProp:a??!1,onChange:d,caller:I});return e.jsx(cs,{scope:r,disabled:n,contentId:we(),open:f,onOpenToggle:l.useCallback(()=>x(p=>!p),[x]),children:e.jsx(M.div,{"data-state":O(f),"data-disabled":n?"":void 0,...u,ref:t})})});X.displayName=I;var Y="CollapsibleTrigger",ee=l.forwardRef((s,t)=>{const{__scopeCollapsible:r,...o}=s,a=U(Y,r);return e.jsx(M.button,{type:"button","aria-controls":a.contentId,"aria-expanded":a.open||!1,"data-state":O(a.open),"data-disabled":a.disabled?"":void 0,disabled:a.disabled,...o,ref:t,onClick:rs(s.onClick,a.onOpenToggle)})});ee.displayName=Y;var D="CollapsibleContent",se=l.forwardRef((s,t)=>{const{forceMount:r,...o}=s,a=U(D,s.__scopeCollapsible);return e.jsx(Se,{present:r||a.open,children:({present:n})=>e.jsx(ds,{...o,ref:t,present:n})})});se.displayName=D;var ds=l.forwardRef((s,t)=>{const{__scopeCollapsible:r,present:o,children:a,...n}=s,d=U(D,r),[u,f]=l.useState(o),x=l.useRef(null),p=Ce(t,x),c=l.useRef(0),h=c.current,m=l.useRef(0),N=m.current,S=d.open||u,y=l.useRef(S),C=l.useRef(void 0);return l.useEffect(()=>{const v=requestAnimationFrame(()=>y.current=!1);return()=>cancelAnimationFrame(v)},[]),P(()=>{const v=x.current;if(v){C.current=C.current||{transitionDuration:v.style.transitionDuration,animationName:v.style.animationName},v.style.transitionDuration="0s",v.style.animationName="none";const F=v.getBoundingClientRect();c.current=F.height,m.current=F.width,y.current||(v.style.transitionDuration=C.current.transitionDuration,v.style.animationName=C.current.animationName),f(o)}},[d.open,o]),e.jsx(M.div,{"data-state":O(d.open),"data-disabled":d.disabled?"":void 0,id:d.contentId,hidden:!S,...n,ref:p,style:{"--radix-collapsible-content-height":h?`${h}px`:void 0,"--radix-collapsible-content-width":N?`${N}px`:void 0,...s.style},children:S&&a})});function O(s){return s?"open":"closed"}var us=X;const ms=us,fs=ee,ps=se;function xs(s,t=[]){let r=[];function o(n,d){const u=l.createContext(d);u.displayName=n+"Context";const f=r.length;r=[...r,d];const x=c=>{const{scope:h,children:m,...N}=c,S=h?.[s]?.[f]||u,y=l.useMemo(()=>N,Object.values(N));return e.jsx(S.Provider,{value:y,children:m})};x.displayName=n+"Provider";function p(c,h){const m=h?.[s]?.[f]||u,N=l.useContext(m);if(N)return N;if(d!==void 0)return d;throw new Error(`\`${c}\` must be used within \`${n}\``)}return[x,p]}const a=()=>{const n=r.map(d=>l.createContext(d));return function(u){const f=u?.[s]||n;return l.useMemo(()=>({[`__scope${s}`]:{...u,[s]:f}}),[u,f])}};return a.scopeName=s,[o,hs(a,...t)]}function hs(...s){const t=s[0];if(s.length===1)return t;const r=()=>{const o=s.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(n){const d=o.reduce((u,{useScope:f,scopeName:x})=>{const c=f(n)[`__scope${x}`];return{...u,...c}},{});return l.useMemo(()=>({[`__scope${t.scopeName}`]:d}),[d])}};return r.scopeName=t.scopeName,r}var gs=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],q=gs.reduce((s,t)=>{const r=Re(`Primitive.${t}`),o=l.forwardRef((a,n)=>{const{asChild:d,...u}=a,f=d?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),e.jsx(f,{...u,ref:n})});return o.displayName=`Primitive.${t}`,{...s,[t]:o}},{});function vs(){return Pe.useSyncExternalStore(js,()=>!0,()=>!1)}function js(){return()=>{}}var B="Avatar",[Ns]=xs(B),[bs,te]=Ns(B),re=l.forwardRef((s,t)=>{const{__scopeAvatar:r,...o}=s,[a,n]=l.useState("idle");return e.jsx(bs,{scope:r,imageLoadingStatus:a,onImageLoadingStatusChange:n,children:e.jsx(q.span,{...o,ref:t})})});re.displayName=B;var ae="AvatarImage",ne=l.forwardRef((s,t)=>{const{__scopeAvatar:r,src:o,onLoadingStatusChange:a=()=>{},...n}=s,d=te(ae,r),u=ws(o,n),f=ye(x=>{a(x),d.onImageLoadingStatusChange(x)});return P(()=>{u!=="idle"&&f(u)},[u,f]),u==="loaded"?e.jsx(q.img,{...n,ref:t,src:o}):null});ne.displayName=ae;var oe="AvatarFallback",ie=l.forwardRef((s,t)=>{const{__scopeAvatar:r,delayMs:o,...a}=s,n=te(oe,r),[d,u]=l.useState(o===void 0);return l.useEffect(()=>{if(o!==void 0){const f=window.setTimeout(()=>u(!0),o);return()=>window.clearTimeout(f)}},[o]),d&&n.imageLoadingStatus!=="loaded"?e.jsx(q.span,{...a,ref:t}):null});ie.displayName=oe;function Z(s,t){return s?t?(s.src!==t&&(s.src=t),s.complete&&s.naturalWidth>0?"loaded":"loading"):"error":"idle"}function ws(s,{referrerPolicy:t,crossOrigin:r}){const o=vs(),a=l.useRef(null),n=o?(a.current||(a.current=new window.Image),a.current):null,[d,u]=l.useState(()=>Z(n,s));return P(()=>{u(Z(n,s))},[n,s]),P(()=>{const f=c=>()=>{u(c)};if(!n)return;const x=f("loaded"),p=f("error");return n.addEventListener("load",x),n.addEventListener("error",p),t&&(n.referrerPolicy=t),typeof r=="string"&&(n.crossOrigin=r),()=>{n.removeEventListener("load",x),n.removeEventListener("error",p)}},[n,r,t]),d}var le=re,ce=ne,de=ie;const ue=l.forwardRef(({className:s,...t},r)=>e.jsx(le,{ref:r,className:T("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",s),...t}));ue.displayName=le.displayName;const me=l.forwardRef(({className:s,...t},r)=>e.jsx(ce,{ref:r,className:T("aspect-square h-full w-full",s),...t}));me.displayName=ce.displayName;const fe=l.forwardRef(({className:s,...t},r)=>e.jsx(de,{ref:r,className:T("flex h-full w-full items-center justify-center rounded-full bg-muted",s),...t}));fe.displayName=de.displayName;const Ss=s=>s!=="coach"&&s!=="admin"&&s!=="comite",Cs=s=>{switch(s){case"coach":return"Entraineur EAC";case"admin":return"Admin";case"comite":return"Comité";default:return"Nageur"}};function ys(s){if(!s)return"-";const t=new Date(s);return Number.isNaN(t.getTime())?s:t.toLocaleDateString("fr-FR")}const _s=J({group_id:w().optional(),objectives:w().optional(),bio:w().optional(),avatar_url:w().url("URL invalide").optional().or(Qe("")),birthdate:w().optional().refine(s=>{if(!s)return!0;const t=new Date(s);if(isNaN(t.getTime()))return!1;const r=(new Date().getTime()-t.getTime())/(1e3*60*60*24*365.25);return r>=6&&r<=100},{message:"L'âge doit être entre 6 et 100 ans"}),ffn_iuf:w().optional().refine(s=>s?/^\d+$/.test(s):!0,{message:"L'IUF FFN doit être un nombre"})}),Rs=J({password:w().min(8,"Le mot de passe doit contenir au moins 8 caractères").regex(/[A-Z]/,"Le mot de passe doit contenir au moins une majuscule").regex(/\d/,"Le mot de passe doit contenir au moins un chiffre"),confirmPassword:w()}).refine(s=>s.password===s.confirmPassword,{message:"Les mots de passe ne correspondent pas",path:["confirmPassword"]});function Ks(){const{user:s,userId:t,logout:r,role:o}=Fe(),{toast:a}=Ee(),n=ke(),d=Ss(o),u=o==="athlete"||o==="coach"||o==="admin",f=Cs(o),[x,p]=l.useState(!1),c=Q({resolver:W(_s),defaultValues:{group_id:"",objectives:"",bio:"",avatar_url:"",birthdate:"",ffn_iuf:""}}),h=Q({resolver:W(Rs),defaultValues:{password:"",confirmPassword:""}}),{data:m,isLoading:N,error:S,refetch:y}=K({queryKey:["profile",s,t],queryFn:()=>R.getProfile({displayName:s,userId:t}),enabled:!!s}),{data:C=[],isLoading:v,error:F,refetch:pe}=K({queryKey:["profile-groups"],queryFn:()=>R.getGroups(),enabled:!!s}),G=S||F,xe=()=>{y(),pe()},he=l.useMemo(()=>{const i=m?.avatar_url;return i||(s?`https://api.dicebear.com/7.x/initials/svg?seed=${encodeURIComponent(s)}`:"")},[m,s]),$=k({mutationFn:i=>R.updateProfile({userId:t,profile:{group_id:i.group_id?Number(i.group_id):null,birthdate:i.birthdate||null,objectives:i.objectives,bio:i.bio,avatar_url:i.avatar_url,ffn_iuf:(i.ffn_iuf||"").trim()||null}}),onSuccess:()=>{n.invalidateQueries({queryKey:["profile"]}),p(!1),a({title:"Profil mis à jour"})},onError:i=>{a({title:"Mise à jour impossible",description:String(i?.message||i),variant:"destructive"})}}),H=k({mutationFn:i=>R.authPasswordUpdate(i),onSuccess:()=>{h.reset(),a({title:"Mot de passe mis à jour"})},onError:i=>{a({title:"Mise à jour impossible",description:String(i?.message||i),variant:"destructive"})}}),E=k({mutationFn:async()=>{const i=String(m?.ffn_iuf??"").trim();if(!i)throw new Error("IUF FFN manquant. Ajoutez-le dans votre profil.");return R.syncFfnSwimRecords({athleteId:t??void 0,athleteName:s??void 0,iuf:i})},onSuccess:i=>{n.invalidateQueries({queryKey:["swim-records"]}),a({title:"Records FFN importés",description:`${i?.inserted??0} ajouté(s), ${i?.updated??0} mis à jour, ${i?.skipped??0} inchangé(s)`})},onError:i=>{a({title:"Import FFN impossible",description:String(i?.message||i),variant:"destructive"})}}),ge=()=>{c.reset({group_id:m?.group_id?String(m.group_id):"",objectives:m?.objectives||"",bio:m?.bio||"",avatar_url:m?.avatar_url||"",birthdate:m?.birthdate?String(m.birthdate).split("T")[0]:"",ffn_iuf:m?.ffn_iuf?String(m.ffn_iuf):""}),p(!0)},ve=c.handleSubmit(i=>{$.mutate(i)}),je=h.handleSubmit(i=>{H.mutate({password:i.password})}),V=C.find(i=>i.id===m?.group_id)?.name||m?.group_label||"Non défini";return N?e.jsxs("div",{className:"space-y-6",children:[e.jsx(g,{className:"h-10 w-32"}),e.jsxs(L,{children:[e.jsx(z,{children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(g,{className:"h-16 w-16 rounded-full"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(g,{className:"h-6 w-32"}),e.jsx(g,{className:"h-4 w-24"})]})]})}),e.jsx(A,{children:e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(g,{className:"h-4 w-16"}),e.jsx(g,{className:"h-5 w-24"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(g,{className:"h-4 w-24"}),e.jsx(g,{className:"h-5 w-20"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(g,{className:"h-4 w-20"}),e.jsx(g,{className:"h-5 w-28"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(g,{className:"h-4 w-16"}),e.jsx(g,{className:"h-5 w-32"})]}),e.jsxs("div",{className:"col-span-2 space-y-2",children:[e.jsx(g,{className:"h-4 w-12"}),e.jsx(g,{className:"h-12 w-full"})]})]})})]})]}):G?e.jsxs("div",{className:"flex flex-col items-center justify-center p-8 text-center",children:[e.jsx(Je,{className:"h-12 w-12 text-destructive mb-4"}),e.jsx("h3",{className:"font-semibold",children:"Impossible de charger les données"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:G.message}),e.jsx(b,{onClick:()=>xe(),className:"mt-4",children:"Réessayer"})]}):e.jsxs(We.div,{className:"space-y-6",variants:Ze,initial:"hidden",animate:"visible",children:[e.jsx("div",{className:"rounded-xl bg-accent text-accent-foreground p-5",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs(ue,{className:"h-20 w-20 ring-2 ring-primary ring-offset-2 ring-offset-accent",children:[e.jsx(me,{src:he,alt:s||"Profil"}),e.jsx(fe,{className:"text-lg",children:(s||"?").slice(0,2).toUpperCase()})]}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("h1",{className:"text-2xl font-display font-bold uppercase italic text-accent-foreground truncate",children:s}),e.jsxs("div",{className:"flex flex-wrap items-center gap-2 mt-1",children:[e.jsx(Be,{variant:"secondary",className:"text-xs",children:f}),e.jsx("span",{className:"text-sm opacity-80",children:V})]}),d&&String(m?.ffn_iuf??"").trim()&&e.jsxs("p",{className:"text-xs opacity-60 mt-1",children:["IUF ",m?.ffn_iuf]})]}),e.jsx(b,{variant:"ghost",size:"icon",className:"shrink-0 text-accent-foreground hover:bg-accent-foreground/10",onClick:ge,"aria-label":"Modifier le profil",children:e.jsx(Xe,{className:"h-4 w-4"})})]})}),e.jsx(L,{children:e.jsx(A,{className:"space-y-4 pt-6",children:e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx(j,{className:"text-xs text-muted-foreground uppercase",children:"Groupe"}),e.jsx("div",{className:"font-medium",children:V})]}),e.jsxs("div",{children:[e.jsx(j,{className:"text-xs text-muted-foreground uppercase",children:"Date de naissance"}),e.jsx("div",{className:"font-medium",children:ys(m?.birthdate??null)})]}),d?e.jsxs("div",{children:[e.jsx(j,{className:"text-xs text-muted-foreground uppercase",children:"IUF FFN"}),e.jsx("div",{className:"font-medium",children:String(m?.ffn_iuf??"")||"Non renseigné"})]}):null,e.jsxs("div",{className:d?"":"col-span-2",children:[e.jsx(j,{className:"text-xs text-muted-foreground uppercase",children:"Objectifs"}),e.jsx("div",{className:"font-medium",children:m?.objectives||"Aucun objectif défini."})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsx(j,{className:"text-xs text-muted-foreground uppercase",children:"Bio"}),e.jsx("div",{className:"font-medium",children:m?.bio||"Non renseignée."})]})]})})}),e.jsx(Ge,{open:x,onOpenChange:p,children:e.jsxs(He,{side:"bottom",className:"max-h-[85vh] overflow-y-auto",children:[e.jsxs(Ve,{children:[e.jsx(ze,{children:"Modifier le profil"}),e.jsx(Ke,{children:"Mettez à jour vos informations personnelles."})]}),e.jsxs("form",{onSubmit:ve,className:"space-y-4 mt-4",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(j,{children:"Groupe"}),e.jsxs(Te,{value:c.watch("group_id"),onValueChange:i=>c.setValue("group_id",i),disabled:v,children:[e.jsx(Ue,{children:e.jsx(De,{placeholder:v?"Chargement...":"Choisir un groupe"})}),e.jsx(Oe,{children:C.map(i=>e.jsx(qe,{value:String(i.id),children:i.name},i.id))})]})]}),d?e.jsxs("div",{className:"grid gap-2",children:[e.jsx(j,{children:"IUF FFN"}),e.jsx(_,{...c.register("ffn_iuf"),placeholder:"879576",inputMode:"numeric"}),c.formState.errors.ffn_iuf&&e.jsx("p",{className:"text-xs text-destructive",role:"alert","aria-live":"assertive",children:c.formState.errors.ffn_iuf.message}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Identifiant unique FFN (utilisé pour importer vos records compétition)."})]}):null,e.jsxs("div",{className:"grid gap-2",children:[e.jsx(j,{children:"Objectifs"}),e.jsx(_,{...c.register("objectives")}),c.formState.errors.objectives&&e.jsx("p",{className:"text-xs text-destructive",role:"alert","aria-live":"assertive",children:c.formState.errors.objectives.message})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(j,{children:"Bio"}),e.jsx(Me,{...c.register("bio")}),c.formState.errors.bio&&e.jsx("p",{className:"text-xs text-destructive",role:"alert","aria-live":"assertive",children:c.formState.errors.bio.message})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(j,{children:"Avatar (URL)"}),e.jsx(_,{...c.register("avatar_url"),placeholder:"https://..."}),c.formState.errors.avatar_url&&e.jsx("p",{className:"text-xs text-destructive",role:"alert","aria-live":"assertive",children:c.formState.errors.avatar_url.message})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(j,{children:"Date de naissance"}),e.jsx(_,{type:"date",...c.register("birthdate")}),c.formState.errors.birthdate&&e.jsx("p",{className:"text-xs text-destructive",role:"alert","aria-live":"assertive",children:c.formState.errors.birthdate.message})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(b,{type:"submit",disabled:$.isPending,className:"w-full",children:[e.jsx(Ye,{className:"mr-2 h-4 w-4"}),"Enregistrer"]}),e.jsx(b,{type:"button",variant:"outline",onClick:()=>p(!1),disabled:$.isPending,children:"Annuler"})]})]})]})}),d?e.jsxs(L,{children:[e.jsxs(z,{children:[e.jsx(Le,{children:"FFN & Records"}),e.jsx(Ae,{children:"Gérez vos records de natation et l'import FFN."})]}),e.jsxs(A,{className:"space-y-3",children:[e.jsxs("div",{className:"text-sm text-muted-foreground",children:["IUF enregistré : ",e.jsx("span",{className:"font-medium text-foreground",children:String(m?.ffn_iuf??"")||"—"})]}),e.jsxs(b,{className:"w-full gap-2",onClick:()=>E.mutate(),disabled:E.isPending||!String(m?.ffn_iuf??"").trim(),children:[e.jsx(Ie,{className:["h-4 w-4",E.isPending?"animate-spin":""].join(" ")}),E.isPending?"Import en cours...":"Récupérer records depuis FFN"]}),String(m?.ffn_iuf??"").trim()?null:e.jsx("div",{className:"text-xs text-muted-foreground",children:"Ajoutez votre IUF FFN dans le profil (bouton crayon) pour activer l'import."}),e.jsx($e,{href:"/records",children:e.jsx(b,{variant:"outline",className:"w-full",children:"Voir mes records"})})]})]}):null,u?e.jsxs(ms,{className:"group",children:[e.jsx(fs,{asChild:!0,children:e.jsxs("button",{className:"flex items-center gap-2 w-full text-left py-3 px-1 text-sm font-semibold uppercase tracking-wider text-muted-foreground hover:text-foreground transition-colors",children:[e.jsx(es,{className:"h-4 w-4 transition-transform duration-200 group-data-[state=open]:rotate-90"}),"Sécurité"]})}),e.jsx(ps,{children:e.jsx(L,{children:e.jsx(A,{className:"pt-4",children:e.jsxs("form",{onSubmit:je,className:"space-y-3",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(j,{children:"Nouveau mot de passe"}),e.jsx(_,{type:"password",...h.register("password"),placeholder:"••••••••"}),h.formState.errors.password&&e.jsx("p",{className:"text-xs text-destructive",role:"alert","aria-live":"assertive",children:h.formState.errors.password.message})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(j,{children:"Confirmer"}),e.jsx(_,{type:"password",...h.register("confirmPassword"),placeholder:"••••••••"}),h.formState.errors.confirmPassword&&e.jsx("p",{className:"text-xs text-destructive",role:"alert","aria-live":"assertive",children:h.formState.errors.confirmPassword.message})]}),e.jsx(b,{type:"submit",className:"w-full",disabled:H.isPending,children:"Mettre à jour le mot de passe"})]})})})})]}):null,e.jsxs(b,{variant:"ghost",onClick:r,className:"w-full gap-2 text-muted-foreground",children:[e.jsx(ts,{className:"h-4 w-4"}),"Se déconnecter"]})]})}export{Ks as default,Cs as getRoleLabel,Ss as shouldShowRecords};
