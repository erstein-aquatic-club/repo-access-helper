import{r as c,b as O,h as U,j as l,d as H,p as z,o as P,u as S,q as G}from"./vendor-ui-C9ymspZo.js";import{u as K}from"./select-BfTNK-GR.js";import{c as j}from"./index-Ckx1yfUE.js";import{C as X}from"./check-CO911p3d.js";function N(e,r,{checkForDefaultPrevented:o=!0}={}){return function(n){if(e?.(n),o===!1||!n.defaultPrevented)return r?.(n)}}var J=O[" useInsertionEffect ".trim().toString()]||U;function Q({prop:e,defaultProp:r,onChange:o=()=>{},caller:i}){const[n,t,p]=V({defaultProp:r,onChange:o}),s=e!==void 0,f=s?e:n;{const d=c.useRef(e!==void 0);c.useEffect(()=>{const a=d.current;a!==s&&console.warn(`${i} is changing from ${a?"controlled":"uncontrolled"} to ${s?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=s},[s,i])}const m=c.useCallback(d=>{if(s){const a=W(d)?d(e):d;a!==e&&p.current?.(a)}else t(d)},[s,e,t,p]);return[f,m]}function V({defaultProp:e,onChange:r}){const[o,i]=c.useState(e),n=c.useRef(o),t=c.useRef(r);return J(()=>{t.current=r},[r]),c.useEffect(()=>{n.current!==o&&(t.current?.(o),n.current=o)},[o,n]),[o,i,t]}function W(e){return typeof e=="function"}var g="Checkbox",[Y]=H(g),[Z,I]=Y(g);function ee(e){const{__scopeCheckbox:r,checked:o,children:i,defaultChecked:n,disabled:t,form:p,name:s,onCheckedChange:f,required:m,value:d="on",internal_do_not_use_render:a}=e,[b,v]=Q({prop:o,defaultProp:n??!1,onChange:f,caller:g}),[k,x]=c.useState(null),[R,u]=c.useState(null),h=c.useRef(!1),E=k?!!p||!!k.closest("form"):!0,y={checked:b,disabled:t,setChecked:v,control:k,setControl:x,name:s,form:p,value:d,hasConsumerStoppedPropagationRef:h,required:m,defaultChecked:C(n)?!1:n,isFormControl:E,bubbleInput:R,setBubbleInput:u};return l.jsx(Z,{scope:r,...y,children:te(a)?a(y):i})}var B="CheckboxTrigger",q=c.forwardRef(({__scopeCheckbox:e,onKeyDown:r,onClick:o,...i},n)=>{const{control:t,value:p,disabled:s,checked:f,required:m,setControl:d,setChecked:a,hasConsumerStoppedPropagationRef:b,isFormControl:v,bubbleInput:k}=I(B,e),x=S(n,d),R=c.useRef(f);return c.useEffect(()=>{const u=t?.form;if(u){const h=()=>a(R.current);return u.addEventListener("reset",h),()=>u.removeEventListener("reset",h)}},[t,a]),l.jsx(P.button,{type:"button",role:"checkbox","aria-checked":C(f)?"mixed":f,"aria-required":m,"data-state":F(f),"data-disabled":s?"":void 0,disabled:s,value:p,...i,ref:x,onKeyDown:N(r,u=>{u.key==="Enter"&&u.preventDefault()}),onClick:N(o,u=>{a(h=>C(h)?!0:!h),k&&v&&(b.current=u.isPropagationStopped(),b.current||u.stopPropagation())})})});q.displayName=B;var _=c.forwardRef((e,r)=>{const{__scopeCheckbox:o,name:i,checked:n,defaultChecked:t,required:p,disabled:s,value:f,onCheckedChange:m,form:d,...a}=e;return l.jsx(ee,{__scopeCheckbox:o,checked:n,defaultChecked:t,disabled:s,required:p,onCheckedChange:m,name:i,form:d,value:f,internal_do_not_use_render:({isFormControl:b})=>l.jsxs(l.Fragment,{children:[l.jsx(q,{...a,ref:r,__scopeCheckbox:o}),b&&l.jsx(D,{__scopeCheckbox:o})]})})});_.displayName=g;var M="CheckboxIndicator",T=c.forwardRef((e,r)=>{const{__scopeCheckbox:o,forceMount:i,...n}=e,t=I(M,o);return l.jsx(z,{present:i||C(t.checked)||t.checked===!0,children:l.jsx(P.span,{"data-state":F(t.checked),"data-disabled":t.disabled?"":void 0,...n,ref:r,style:{pointerEvents:"none",...e.style}})})});T.displayName=M;var A="CheckboxBubbleInput",D=c.forwardRef(({__scopeCheckbox:e,...r},o)=>{const{control:i,hasConsumerStoppedPropagationRef:n,checked:t,defaultChecked:p,required:s,disabled:f,name:m,value:d,form:a,bubbleInput:b,setBubbleInput:v}=I(A,e),k=S(o,v),x=K(t),R=G(i);c.useEffect(()=>{const h=b;if(!h)return;const E=window.HTMLInputElement.prototype,w=Object.getOwnPropertyDescriptor(E,"checked").set,L=!n.current;if(x!==t&&w){const $=new Event("click",{bubbles:L});h.indeterminate=C(t),w.call(h,C(t)?!1:t),h.dispatchEvent($)}},[b,x,t,n]);const u=c.useRef(C(t)?!1:t);return l.jsx(P.input,{type:"checkbox","aria-hidden":!0,defaultChecked:p??u.current,required:s,disabled:f,name:m,value:d,form:a,...r,tabIndex:-1,ref:k,style:{...r.style,...R,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});D.displayName=A;function te(e){return typeof e=="function"}function C(e){return e==="indeterminate"}function F(e){return C(e)?"indeterminate":e?"checked":"unchecked"}const oe=c.forwardRef(({className:e,...r},o)=>l.jsx(_,{ref:o,className:j("grid place-content-center peer h-4 w-4 shrink-0 rounded-sm border border-primary shadow focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...r,children:l.jsx(T,{className:j("grid place-content-center text-current"),children:l.jsx(X,{className:"h-4 w-4"})})}));oe.displayName=_.displayName;export{oe as C};
