import{r,j as e}from"./vendor-query-BiSH4r2z.js";import{b as p,S as o,B as l,W as h}from"./index-dJTQaNU8.js";import{S as f}from"./SwimSessionTimeline-K4v4A7IE.js";import{u as j}from"./swim-DqyPe04L.js";import{C as g}from"./circle-alert-CisG-JlM.js";import"./vendor-react-BzrpNAyj.js";import"./vendor-supabase-6k692oZB.js";import"./eye-Z5IMXPKN.js";import"./chevron-down-BaAYQCpb.js";import"./clock--mIv53JK.js";function z(){const[d]=p(),[s,m]=r.useState(null),[x,i]=r.useState(!0),[u,n]=r.useState(!1),c=d.split("/s/")[1]?.split("?")[0]??"";return r.useEffect(()=>{if(!c){n(!0),i(!1);return}let t=!1;return j(c).then(a=>{t||(a?m(a):n(!0),i(!1))}).catch(()=>{t||(n(!0),i(!1))}),()=>{t=!0}},[c]),x?e.jsx("div",{className:"min-h-screen bg-background p-4 pt-8",children:e.jsxs("div",{className:"mx-auto max-w-lg space-y-4",children:[e.jsx(o,{className:"h-8 w-48"}),e.jsx(o,{className:"h-6 w-32"}),e.jsx("div",{className:"space-y-3",children:Array.from({length:4}).map((t,a)=>e.jsx(o,{className:"h-16 w-full"},a))})]})}):u||!s?e.jsxs("div",{className:"flex min-h-screen flex-col items-center justify-center gap-4 bg-background p-4 text-center",children:[e.jsx(g,{className:"h-12 w-12 text-muted-foreground"}),e.jsx("h1",{className:"font-display text-xl font-bold uppercase",children:"Séance introuvable"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Ce lien de partage n'existe pas ou a été désactivé."}),e.jsx(l,{onClick:()=>window.location.hash="#/",children:"Accueil"})]}):e.jsxs("div",{className:"min-h-screen bg-background pb-20",children:[e.jsx("div",{className:"border-b border-border bg-card px-4 py-4",children:e.jsxs("div",{className:"mx-auto max-w-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 text-xs uppercase tracking-[0.2em] text-muted-foreground",children:[e.jsx(h,{className:"h-4 w-4"}),"Séance partagée"]}),e.jsx("h1",{className:"mt-1 font-display text-2xl font-bold uppercase tracking-tight",children:s.name}),s.description?e.jsx("p",{className:"mt-1 text-sm text-muted-foreground",children:s.description}):null]})}),e.jsx("div",{className:"mx-auto max-w-lg px-4 pt-4",children:e.jsx(f,{title:s.name,description:s.description??void 0,items:s.items,showHeader:!0})}),e.jsx("div",{className:"fixed inset-x-0 bottom-0 z-[var(--z-index-bar)] border-t border-border bg-card/95 px-4 py-3 backdrop-blur-sm",children:e.jsxs("div",{className:"mx-auto flex max-w-lg items-center justify-between gap-3",children:[e.jsxs("div",{className:"min-w-0",children:[e.jsx("p",{className:"text-sm font-semibold text-foreground",children:"Rejoins l'EAC"}),e.jsx("p",{className:"truncate text-xs text-muted-foreground",children:"Crée ton compte pour accéder à toutes tes séances"})]}),e.jsx(l,{size:"sm",onClick:()=>window.location.hash="#/",className:"shrink-0",children:"S'inscrire"})]})})]})}export{z as default};
