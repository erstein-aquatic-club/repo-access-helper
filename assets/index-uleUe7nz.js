function hQ(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var bg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function sn(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Ew={exports:{}},Of={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GM;function mQ(){if(GM)return Of;GM=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,i,a){var o=null;if(a!==void 0&&(o=""+a),i.key!==void 0&&(o=""+i.key),"key"in i){a={};for(var l in i)l!=="key"&&(a[l]=i[l])}else a=i;return i=a.ref,{$$typeof:e,type:r,key:o,ref:i!==void 0?i:null,props:a}}return Of.Fragment=t,Of.jsx=n,Of.jsxs=n,Of}var KM;function pQ(){return KM||(KM=1,Ew.exports=mQ()),Ew.exports}var c=pQ(),Aw={exports:{}},Cf={},Tw={exports:{}},Ow={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var WM;function gQ(){return WM||(WM=1,(function(e){function t(D,G){var z=D.length;D.push(G);e:for(;0<z;){var Y=z-1>>>1,de=D[Y];if(0<i(de,G))D[Y]=G,D[z]=de,z=Y;else break e}}function n(D){return D.length===0?null:D[0]}function r(D){if(D.length===0)return null;var G=D[0],z=D.pop();if(z!==G){D[0]=z;e:for(var Y=0,de=D.length,H=de>>>1;Y<H;){var K=2*(Y+1)-1,Z=D[K],le=K+1,be=D[le];if(0>i(Z,z))le<de&&0>i(be,Z)?(D[Y]=be,D[le]=z,Y=le):(D[Y]=Z,D[K]=z,Y=K);else if(le<de&&0>i(be,z))D[Y]=be,D[le]=z,Y=le;else break e}}return G}function i(D,G){var z=D.sortIndex-G.sortIndex;return z!==0?z:D.id-G.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var d=[],f=[],m=1,p=null,v=3,y=!1,x=!1,b=!1,w=!1,N=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;function O(D){for(var G=n(f);G!==null;){if(G.callback===null)r(f);else if(G.startTime<=D)r(f),G.sortIndex=G.expirationTime,t(d,G);else break;G=n(f)}}function T(D){if(b=!1,O(D),!x)if(n(d)!==null)x=!0,C||(C=!0,I());else{var G=n(f);G!==null&&U(T,G.startTime-D)}}var C=!1,R=-1,P=5,k=-1;function $(){return w?!0:!(e.unstable_now()-k<P)}function B(){if(w=!1,C){var D=e.unstable_now();k=D;var G=!0;try{e:{x=!1,b&&(b=!1,E(R),R=-1),y=!0;var z=v;try{t:{for(O(D),p=n(d);p!==null&&!(p.expirationTime>D&&$());){var Y=p.callback;if(typeof Y=="function"){p.callback=null,v=p.priorityLevel;var de=Y(p.expirationTime<=D);if(D=e.unstable_now(),typeof de=="function"){p.callback=de,O(D),G=!0;break t}p===n(d)&&r(d),O(D)}else r(d);p=n(d)}if(p!==null)G=!0;else{var H=n(f);H!==null&&U(T,H.startTime-D),G=!1}}break e}finally{p=null,v=z,y=!1}G=void 0}}finally{G?I():C=!1}}}var I;if(typeof j=="function")I=function(){j(B)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,V=F.port2;F.port1.onmessage=B,I=function(){V.postMessage(null)}}else I=function(){N(B,0)};function U(D,G){R=N(function(){D(e.unstable_now())},G)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(D){D.callback=null},e.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<D?Math.floor(1e3/D):5},e.unstable_getCurrentPriorityLevel=function(){return v},e.unstable_next=function(D){switch(v){case 1:case 2:case 3:var G=3;break;default:G=v}var z=v;v=G;try{return D()}finally{v=z}},e.unstable_requestPaint=function(){w=!0},e.unstable_runWithPriority=function(D,G){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var z=v;v=D;try{return G()}finally{v=z}},e.unstable_scheduleCallback=function(D,G,z){var Y=e.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?Y+z:Y):z=Y,D){case 1:var de=-1;break;case 2:de=250;break;case 5:de=1073741823;break;case 4:de=1e4;break;default:de=5e3}return de=z+de,D={id:m++,callback:G,priorityLevel:D,startTime:z,expirationTime:de,sortIndex:-1},z>Y?(D.sortIndex=z,t(f,D),n(d)===null&&D===n(f)&&(b?(E(R),R=-1):b=!0,U(T,z-Y))):(D.sortIndex=de,t(d,D),x||y||(x=!0,C||(C=!0,I()))),D},e.unstable_shouldYield=$,e.unstable_wrapCallback=function(D){var G=v;return function(){var z=v;v=G;try{return D.apply(this,arguments)}finally{v=z}}}})(Ow)),Ow}var YM;function vQ(){return YM||(YM=1,Tw.exports=gQ()),Tw.exports}var Cw={exports:{}},_t={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XM;function yQ(){if(XM)return _t;XM=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),p=Symbol.for("react.activity"),v=Symbol.iterator;function y(H){return H===null||typeof H!="object"?null:(H=v&&H[v]||H["@@iterator"],typeof H=="function"?H:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,w={};function N(H,K,Z){this.props=H,this.context=K,this.refs=w,this.updater=Z||x}N.prototype.isReactComponent={},N.prototype.setState=function(H,K){if(typeof H!="object"&&typeof H!="function"&&H!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,H,K,"setState")},N.prototype.forceUpdate=function(H){this.updater.enqueueForceUpdate(this,H,"forceUpdate")};function E(){}E.prototype=N.prototype;function j(H,K,Z){this.props=H,this.context=K,this.refs=w,this.updater=Z||x}var O=j.prototype=new E;O.constructor=j,b(O,N.prototype),O.isPureReactComponent=!0;var T=Array.isArray;function C(){}var R={H:null,A:null,T:null,S:null},P=Object.prototype.hasOwnProperty;function k(H,K,Z){var le=Z.ref;return{$$typeof:e,type:H,key:K,ref:le!==void 0?le:null,props:Z}}function $(H,K){return k(H.type,K,H.props)}function B(H){return typeof H=="object"&&H!==null&&H.$$typeof===e}function I(H){var K={"=":"=0",":":"=2"};return"$"+H.replace(/[=:]/g,function(Z){return K[Z]})}var F=/\/+/g;function V(H,K){return typeof H=="object"&&H!==null&&H.key!=null?I(""+H.key):K.toString(36)}function U(H){switch(H.status){case"fulfilled":return H.value;case"rejected":throw H.reason;default:switch(typeof H.status=="string"?H.then(C,C):(H.status="pending",H.then(function(K){H.status==="pending"&&(H.status="fulfilled",H.value=K)},function(K){H.status==="pending"&&(H.status="rejected",H.reason=K)})),H.status){case"fulfilled":return H.value;case"rejected":throw H.reason}}throw H}function D(H,K,Z,le,be){var ae=typeof H;(ae==="undefined"||ae==="boolean")&&(H=null);var J=!1;if(H===null)J=!0;else switch(ae){case"bigint":case"string":case"number":J=!0;break;case"object":switch(H.$$typeof){case e:case t:J=!0;break;case m:return J=H._init,D(J(H._payload),K,Z,le,be)}}if(J)return be=be(H),J=le===""?"."+V(H,0):le,T(be)?(Z="",J!=null&&(Z=J.replace(F,"$&/")+"/"),D(be,K,Z,"",function(pe){return pe})):be!=null&&(B(be)&&(be=$(be,Z+(be.key==null||H&&H.key===be.key?"":(""+be.key).replace(F,"$&/")+"/")+J)),K.push(be)),1;J=0;var me=le===""?".":le+":";if(T(H))for(var oe=0;oe<H.length;oe++)le=H[oe],ae=me+V(le,oe),J+=D(le,K,Z,ae,be);else if(oe=y(H),typeof oe=="function")for(H=oe.call(H),oe=0;!(le=H.next()).done;)le=le.value,ae=me+V(le,oe++),J+=D(le,K,Z,ae,be);else if(ae==="object"){if(typeof H.then=="function")return D(U(H),K,Z,le,be);throw K=String(H),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(H).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return J}function G(H,K,Z){if(H==null)return H;var le=[],be=0;return D(H,le,"","",function(ae){return K.call(Z,ae,be++)}),le}function z(H){if(H._status===-1){var K=H._result;K=K(),K.then(function(Z){(H._status===0||H._status===-1)&&(H._status=1,H._result=Z)},function(Z){(H._status===0||H._status===-1)&&(H._status=2,H._result=Z)}),H._status===-1&&(H._status=0,H._result=K)}if(H._status===1)return H._result.default;throw H._result}var Y=typeof reportError=="function"?reportError:function(H){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof H=="object"&&H!==null&&typeof H.message=="string"?String(H.message):String(H),error:H});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",H);return}console.error(H)},de={map:G,forEach:function(H,K,Z){G(H,function(){K.apply(this,arguments)},Z)},count:function(H){var K=0;return G(H,function(){K++}),K},toArray:function(H){return G(H,function(K){return K})||[]},only:function(H){if(!B(H))throw Error("React.Children.only expected to receive a single React element child.");return H}};return _t.Activity=p,_t.Children=de,_t.Component=N,_t.Fragment=n,_t.Profiler=i,_t.PureComponent=j,_t.StrictMode=r,_t.Suspense=d,_t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,_t.__COMPILER_RUNTIME={__proto__:null,c:function(H){return R.H.useMemoCache(H)}},_t.cache=function(H){return function(){return H.apply(null,arguments)}},_t.cacheSignal=function(){return null},_t.cloneElement=function(H,K,Z){if(H==null)throw Error("The argument must be a React element, but you passed "+H+".");var le=b({},H.props),be=H.key;if(K!=null)for(ae in K.key!==void 0&&(be=""+K.key),K)!P.call(K,ae)||ae==="key"||ae==="__self"||ae==="__source"||ae==="ref"&&K.ref===void 0||(le[ae]=K[ae]);var ae=arguments.length-2;if(ae===1)le.children=Z;else if(1<ae){for(var J=Array(ae),me=0;me<ae;me++)J[me]=arguments[me+2];le.children=J}return k(H.type,be,le)},_t.createContext=function(H){return H={$$typeof:o,_currentValue:H,_currentValue2:H,_threadCount:0,Provider:null,Consumer:null},H.Provider=H,H.Consumer={$$typeof:a,_context:H},H},_t.createElement=function(H,K,Z){var le,be={},ae=null;if(K!=null)for(le in K.key!==void 0&&(ae=""+K.key),K)P.call(K,le)&&le!=="key"&&le!=="__self"&&le!=="__source"&&(be[le]=K[le]);var J=arguments.length-2;if(J===1)be.children=Z;else if(1<J){for(var me=Array(J),oe=0;oe<J;oe++)me[oe]=arguments[oe+2];be.children=me}if(H&&H.defaultProps)for(le in J=H.defaultProps,J)be[le]===void 0&&(be[le]=J[le]);return k(H,ae,be)},_t.createRef=function(){return{current:null}},_t.forwardRef=function(H){return{$$typeof:l,render:H}},_t.isValidElement=B,_t.lazy=function(H){return{$$typeof:m,_payload:{_status:-1,_result:H},_init:z}},_t.memo=function(H,K){return{$$typeof:f,type:H,compare:K===void 0?null:K}},_t.startTransition=function(H){var K=R.T,Z={};R.T=Z;try{var le=H(),be=R.S;be!==null&&be(Z,le),typeof le=="object"&&le!==null&&typeof le.then=="function"&&le.then(C,Y)}catch(ae){Y(ae)}finally{K!==null&&Z.types!==null&&(K.types=Z.types),R.T=K}},_t.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},_t.use=function(H){return R.H.use(H)},_t.useActionState=function(H,K,Z){return R.H.useActionState(H,K,Z)},_t.useCallback=function(H,K){return R.H.useCallback(H,K)},_t.useContext=function(H){return R.H.useContext(H)},_t.useDebugValue=function(){},_t.useDeferredValue=function(H,K){return R.H.useDeferredValue(H,K)},_t.useEffect=function(H,K){return R.H.useEffect(H,K)},_t.useEffectEvent=function(H){return R.H.useEffectEvent(H)},_t.useId=function(){return R.H.useId()},_t.useImperativeHandle=function(H,K,Z){return R.H.useImperativeHandle(H,K,Z)},_t.useInsertionEffect=function(H,K){return R.H.useInsertionEffect(H,K)},_t.useLayoutEffect=function(H,K){return R.H.useLayoutEffect(H,K)},_t.useMemo=function(H,K){return R.H.useMemo(H,K)},_t.useOptimistic=function(H,K){return R.H.useOptimistic(H,K)},_t.useReducer=function(H,K,Z){return R.H.useReducer(H,K,Z)},_t.useRef=function(H){return R.H.useRef(H)},_t.useState=function(H){return R.H.useState(H)},_t.useSyncExternalStore=function(H,K,Z){return R.H.useSyncExternalStore(H,K,Z)},_t.useTransition=function(){return R.H.useTransition()},_t.version="19.2.0",_t}var QM;function Yy(){return QM||(QM=1,Cw.exports=yQ()),Cw.exports}var Rw={exports:{}},jr={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JM;function bQ(){if(JM)return jr;JM=1;var e=Yy();function t(d){var f="https://react.dev/errors/"+d;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)f+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+d+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function a(d,f,m){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:p==null?null:""+p,children:d,containerInfo:f,implementation:m}}var o=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function l(d,f){if(d==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return jr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,jr.createPortal=function(d,f){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(t(299));return a(d,f,null,m)},jr.flushSync=function(d){var f=o.T,m=r.p;try{if(o.T=null,r.p=2,d)return d()}finally{o.T=f,r.p=m,r.d.f()}},jr.preconnect=function(d,f){typeof d=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,r.d.C(d,f))},jr.prefetchDNS=function(d){typeof d=="string"&&r.d.D(d)},jr.preinit=function(d,f){if(typeof d=="string"&&f&&typeof f.as=="string"){var m=f.as,p=l(m,f.crossOrigin),v=typeof f.integrity=="string"?f.integrity:void 0,y=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;m==="style"?r.d.S(d,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:p,integrity:v,fetchPriority:y}):m==="script"&&r.d.X(d,{crossOrigin:p,integrity:v,fetchPriority:y,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},jr.preinitModule=function(d,f){if(typeof d=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var m=l(f.as,f.crossOrigin);r.d.M(d,{crossOrigin:m,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&r.d.M(d)},jr.preload=function(d,f){if(typeof d=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var m=f.as,p=l(m,f.crossOrigin);r.d.L(d,m,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},jr.preloadModule=function(d,f){if(typeof d=="string")if(f){var m=l(f.as,f.crossOrigin);r.d.m(d,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:m,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else r.d.m(d)},jr.requestFormReset=function(d){r.d.r(d)},jr.unstable_batchedUpdates=function(d,f){return d(f)},jr.useFormState=function(d,f,m){return o.H.useFormState(d,f,m)},jr.useFormStatus=function(){return o.H.useHostTransitionStatus()},jr.version="19.2.0",jr}var ZM;function V6(){if(ZM)return Rw.exports;ZM=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Rw.exports=bQ(),Rw.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ek;function xQ(){if(ek)return Cf;ek=1;var e=vQ(),t=Yy(),n=V6();function r(s){var u="https://react.dev/errors/"+s;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)u+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+s+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function a(s){var u=s,h=s;if(s.alternate)for(;u.return;)u=u.return;else{s=u;do u=s,(u.flags&4098)!==0&&(h=u.return),s=u.return;while(s)}return u.tag===3?h:null}function o(s){if(s.tag===13){var u=s.memoizedState;if(u===null&&(s=s.alternate,s!==null&&(u=s.memoizedState)),u!==null)return u.dehydrated}return null}function l(s){if(s.tag===31){var u=s.memoizedState;if(u===null&&(s=s.alternate,s!==null&&(u=s.memoizedState)),u!==null)return u.dehydrated}return null}function d(s){if(a(s)!==s)throw Error(r(188))}function f(s){var u=s.alternate;if(!u){if(u=a(s),u===null)throw Error(r(188));return u!==s?null:s}for(var h=s,g=u;;){var S=h.return;if(S===null)break;var A=S.alternate;if(A===null){if(g=S.return,g!==null){h=g;continue}break}if(S.child===A.child){for(A=S.child;A;){if(A===h)return d(S),s;if(A===g)return d(S),u;A=A.sibling}throw Error(r(188))}if(h.return!==g.return)h=S,g=A;else{for(var M=!1,L=S.child;L;){if(L===h){M=!0,h=S,g=A;break}if(L===g){M=!0,g=S,h=A;break}L=L.sibling}if(!M){for(L=A.child;L;){if(L===h){M=!0,h=A,g=S;break}if(L===g){M=!0,g=A,h=S;break}L=L.sibling}if(!M)throw Error(r(189))}}if(h.alternate!==g)throw Error(r(190))}if(h.tag!==3)throw Error(r(188));return h.stateNode.current===h?s:u}function m(s){var u=s.tag;if(u===5||u===26||u===27||u===6)return s;for(s=s.child;s!==null;){if(u=m(s),u!==null)return u;s=s.sibling}return null}var p=Object.assign,v=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),b=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),E=Symbol.for("react.consumer"),j=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),C=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),P=Symbol.for("react.lazy"),k=Symbol.for("react.activity"),$=Symbol.for("react.memo_cache_sentinel"),B=Symbol.iterator;function I(s){return s===null||typeof s!="object"?null:(s=B&&s[B]||s["@@iterator"],typeof s=="function"?s:null)}var F=Symbol.for("react.client.reference");function V(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===F?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case b:return"Fragment";case N:return"Profiler";case w:return"StrictMode";case T:return"Suspense";case C:return"SuspenseList";case k:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case x:return"Portal";case j:return s.displayName||"Context";case E:return(s._context.displayName||"Context")+".Consumer";case O:var u=s.render;return s=s.displayName,s||(s=u.displayName||u.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case R:return u=s.displayName||null,u!==null?u:V(s.type)||"Memo";case P:u=s._payload,s=s._init;try{return V(s(u))}catch{}}return null}var U=Array.isArray,D=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,G=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,z={pending:!1,data:null,method:null,action:null},Y=[],de=-1;function H(s){return{current:s}}function K(s){0>de||(s.current=Y[de],Y[de]=null,de--)}function Z(s,u){de++,Y[de]=s.current,s.current=u}var le=H(null),be=H(null),ae=H(null),J=H(null);function me(s,u){switch(Z(ae,u),Z(be,s),Z(le,null),u.nodeType){case 9:case 11:s=(s=u.documentElement)&&(s=s.namespaceURI)?pM(s):0;break;default:if(s=u.tagName,u=u.namespaceURI)u=pM(u),s=gM(u,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}K(le),Z(le,s)}function oe(){K(le),K(be),K(ae)}function pe(s){s.memoizedState!==null&&Z(J,s);var u=le.current,h=gM(u,s.type);u!==h&&(Z(be,s),Z(le,h))}function we(s){be.current===s&&(K(le),K(be)),J.current===s&&(K(J),Nf._currentValue=z)}var ee,qe;function ve(s){if(ee===void 0)try{throw Error()}catch(h){var u=h.stack.trim().match(/\n( *(at )?)/);ee=u&&u[1]||"",qe=-1<h.stack.indexOf(`
    at`)?" (<anonymous>)":-1<h.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ee+s+qe}var Ge=!1;function ne(s,u){if(!s||Ge)return"";Ge=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var g={DetermineComponentFrameRoot:function(){try{if(u){var Ne=function(){throw Error()};if(Object.defineProperty(Ne.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ne,[])}catch(ge){var fe=ge}Reflect.construct(s,[],Ne)}else{try{Ne.call()}catch(ge){fe=ge}s.call(Ne.prototype)}}else{try{throw Error()}catch(ge){fe=ge}(Ne=s())&&typeof Ne.catch=="function"&&Ne.catch(function(){})}}catch(ge){if(ge&&fe&&typeof ge.stack=="string")return[ge.stack,fe.stack]}return[null,null]}};g.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var S=Object.getOwnPropertyDescriptor(g.DetermineComponentFrameRoot,"name");S&&S.configurable&&Object.defineProperty(g.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var A=g.DetermineComponentFrameRoot(),M=A[0],L=A[1];if(M&&L){var W=M.split(`
`),ue=L.split(`
`);for(S=g=0;g<W.length&&!W[g].includes("DetermineComponentFrameRoot");)g++;for(;S<ue.length&&!ue[S].includes("DetermineComponentFrameRoot");)S++;if(g===W.length||S===ue.length)for(g=W.length-1,S=ue.length-1;1<=g&&0<=S&&W[g]!==ue[S];)S--;for(;1<=g&&0<=S;g--,S--)if(W[g]!==ue[S]){if(g!==1||S!==1)do if(g--,S--,0>S||W[g]!==ue[S]){var ye=`
`+W[g].replace(" at new "," at ");return s.displayName&&ye.includes("<anonymous>")&&(ye=ye.replace("<anonymous>",s.displayName)),ye}while(1<=g&&0<=S);break}}}finally{Ge=!1,Error.prepareStackTrace=h}return(h=s?s.displayName||s.name:"")?ve(h):""}function ie(s,u){switch(s.tag){case 26:case 27:case 5:return ve(s.type);case 16:return ve("Lazy");case 13:return s.child!==u&&u!==null?ve("Suspense Fallback"):ve("Suspense");case 19:return ve("SuspenseList");case 0:case 15:return ne(s.type,!1);case 11:return ne(s.type.render,!1);case 1:return ne(s.type,!0);case 31:return ve("Activity");default:return""}}function De(s){try{var u="",h=null;do u+=ie(s,h),h=s,s=s.return;while(s);return u}catch(g){return`
Error generating stack: `+g.message+`
`+g.stack}}var dt=Object.prototype.hasOwnProperty,Ie=e.unstable_scheduleCallback,Xe=e.unstable_cancelCallback,te=e.unstable_shouldYield,Pe=e.unstable_requestPaint,Ue=e.unstable_now,Lt=e.unstable_getCurrentPriorityLevel,jt=e.unstable_ImmediatePriority,je=e.unstable_UserBlockingPriority,Qe=e.unstable_NormalPriority,yt=e.unstable_LowPriority,wt=e.unstable_IdlePriority,qt=e.log,ir=e.unstable_setDisableYieldValue,se=null,X=null;function _e(s){if(typeof qt=="function"&&ir(s),X&&typeof X.setStrictMode=="function")try{X.setStrictMode(se,s)}catch{}}var Ee=Math.clz32?Math.clz32:$e,nt=Math.log,ft=Math.LN2;function $e(s){return s>>>=0,s===0?32:31-(nt(s)/ft|0)|0}var ut=256,ot=262144,Fe=4194304;function he(s){var u=s&42;if(u!==0)return u;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function ze(s,u,h){var g=s.pendingLanes;if(g===0)return 0;var S=0,A=s.suspendedLanes,M=s.pingedLanes;s=s.warmLanes;var L=g&134217727;return L!==0?(g=L&~A,g!==0?S=he(g):(M&=L,M!==0?S=he(M):h||(h=L&~s,h!==0&&(S=he(h))))):(L=g&~A,L!==0?S=he(L):M!==0?S=he(M):h||(h=g&~s,h!==0&&(S=he(h)))),S===0?0:u!==0&&u!==S&&(u&A)===0&&(A=S&-S,h=u&-u,A>=h||A===32&&(h&4194048)!==0)?u:S}function Ct(s,u){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&u)===0}function lt(s,u){switch(s){case 1:case 2:case 4:case 8:case 64:return u+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function bn(){var s=Fe;return Fe<<=1,(Fe&62914560)===0&&(Fe=4194304),s}function Pn(s){for(var u=[],h=0;31>h;h++)u.push(s);return u}function Ln(s,u){s.pendingLanes|=u,u!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function ur(s,u,h,g,S,A){var M=s.pendingLanes;s.pendingLanes=h,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=h,s.entangledLanes&=h,s.errorRecoveryDisabledLanes&=h,s.shellSuspendCounter=0;var L=s.entanglements,W=s.expirationTimes,ue=s.hiddenUpdates;for(h=M&~h;0<h;){var ye=31-Ee(h),Ne=1<<ye;L[ye]=0,W[ye]=-1;var fe=ue[ye];if(fe!==null)for(ue[ye]=null,ye=0;ye<fe.length;ye++){var ge=fe[ye];ge!==null&&(ge.lane&=-536870913)}h&=~Ne}g!==0&&Fi(s,g,0),A!==0&&S===0&&s.tag!==0&&(s.suspendedLanes|=A&~(M&~u))}function Fi(s,u,h){s.pendingLanes|=u,s.suspendedLanes&=~u;var g=31-Ee(u);s.entangledLanes|=u,s.entanglements[g]=s.entanglements[g]|1073741824|h&261930}function Do(s,u){var h=s.entangledLanes|=u;for(s=s.entanglements;h;){var g=31-Ee(h),S=1<<g;S&u|s[g]&u&&(s[g]|=u),h&=~S}}function sp(s,u){var h=u&-u;return h=(h&42)!==0?1:pb(h),(h&(s.suspendedLanes|u))!==0?0:h}function pb(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function gb(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function eC(){var s=G.p;return s!==0?s:(s=window.event,s===void 0?32:BM(s.type))}function tC(s,u){var h=G.p;try{return G.p=s,u()}finally{G.p=h}}var Es=Math.random().toString(36).slice(2),dr="__reactFiber$"+Es,Lr="__reactProps$"+Es,Ql="__reactContainer$"+Es,vb="__reactEvents$"+Es,nY="__reactListeners$"+Es,rY="__reactHandles$"+Es,nC="__reactResources$"+Es,Bd="__reactMarker$"+Es;function yb(s){delete s[dr],delete s[Lr],delete s[vb],delete s[nY],delete s[rY]}function Jl(s){var u=s[dr];if(u)return u;for(var h=s.parentNode;h;){if(u=h[Ql]||h[dr]){if(h=u.alternate,u.child!==null||h!==null&&h.child!==null)for(s=SM(s);s!==null;){if(h=s[dr])return h;s=SM(s)}return u}s=h,h=s.parentNode}return null}function Zl(s){if(s=s[dr]||s[Ql]){var u=s.tag;if(u===5||u===6||u===13||u===31||u===26||u===27||u===3)return s}return null}function qd(s){var u=s.tag;if(u===5||u===26||u===27||u===6)return s.stateNode;throw Error(r(33))}function ec(s){var u=s[nC];return u||(u=s[nC]={hoistableStyles:new Map,hoistableScripts:new Map}),u}function ar(s){s[Bd]=!0}var rC=new Set,iC={};function Io(s,u){tc(s,u),tc(s+"Capture",u)}function tc(s,u){for(iC[s]=u,s=0;s<u.length;s++)rC.add(u[s])}var iY=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),aC={},sC={};function aY(s){return dt.call(sC,s)?!0:dt.call(aC,s)?!1:iY.test(s)?sC[s]=!0:(aC[s]=!0,!1)}function op(s,u,h){if(aY(u))if(h===null)s.removeAttribute(u);else{switch(typeof h){case"undefined":case"function":case"symbol":s.removeAttribute(u);return;case"boolean":var g=u.toLowerCase().slice(0,5);if(g!=="data-"&&g!=="aria-"){s.removeAttribute(u);return}}s.setAttribute(u,""+h)}}function lp(s,u,h){if(h===null)s.removeAttribute(u);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(u);return}s.setAttribute(u,""+h)}}function $a(s,u,h,g){if(g===null)s.removeAttribute(h);else{switch(typeof g){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(h);return}s.setAttributeNS(u,h,""+g)}}function gi(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function oC(s){var u=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(u==="checkbox"||u==="radio")}function sY(s,u,h){var g=Object.getOwnPropertyDescriptor(s.constructor.prototype,u);if(!s.hasOwnProperty(u)&&typeof g<"u"&&typeof g.get=="function"&&typeof g.set=="function"){var S=g.get,A=g.set;return Object.defineProperty(s,u,{configurable:!0,get:function(){return S.call(this)},set:function(M){h=""+M,A.call(this,M)}}),Object.defineProperty(s,u,{enumerable:g.enumerable}),{getValue:function(){return h},setValue:function(M){h=""+M},stopTracking:function(){s._valueTracker=null,delete s[u]}}}}function bb(s){if(!s._valueTracker){var u=oC(s)?"checked":"value";s._valueTracker=sY(s,u,""+s[u])}}function lC(s){if(!s)return!1;var u=s._valueTracker;if(!u)return!0;var h=u.getValue(),g="";return s&&(g=oC(s)?s.checked?"true":"false":s.value),s=g,s!==h?(u.setValue(s),!0):!1}function cp(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var oY=/[\n"\\]/g;function vi(s){return s.replace(oY,function(u){return"\\"+u.charCodeAt(0).toString(16)+" "})}function xb(s,u,h,g,S,A,M,L){s.name="",M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"?s.type=M:s.removeAttribute("type"),u!=null?M==="number"?(u===0&&s.value===""||s.value!=u)&&(s.value=""+gi(u)):s.value!==""+gi(u)&&(s.value=""+gi(u)):M!=="submit"&&M!=="reset"||s.removeAttribute("value"),u!=null?wb(s,M,gi(u)):h!=null?wb(s,M,gi(h)):g!=null&&s.removeAttribute("value"),S==null&&A!=null&&(s.defaultChecked=!!A),S!=null&&(s.checked=S&&typeof S!="function"&&typeof S!="symbol"),L!=null&&typeof L!="function"&&typeof L!="symbol"&&typeof L!="boolean"?s.name=""+gi(L):s.removeAttribute("name")}function cC(s,u,h,g,S,A,M,L){if(A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"&&(s.type=A),u!=null||h!=null){if(!(A!=="submit"&&A!=="reset"||u!=null)){bb(s);return}h=h!=null?""+gi(h):"",u=u!=null?""+gi(u):h,L||u===s.value||(s.value=u),s.defaultValue=u}g=g??S,g=typeof g!="function"&&typeof g!="symbol"&&!!g,s.checked=L?s.checked:!!g,s.defaultChecked=!!g,M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"&&(s.name=M),bb(s)}function wb(s,u,h){u==="number"&&cp(s.ownerDocument)===s||s.defaultValue===""+h||(s.defaultValue=""+h)}function nc(s,u,h,g){if(s=s.options,u){u={};for(var S=0;S<h.length;S++)u["$"+h[S]]=!0;for(h=0;h<s.length;h++)S=u.hasOwnProperty("$"+s[h].value),s[h].selected!==S&&(s[h].selected=S),S&&g&&(s[h].defaultSelected=!0)}else{for(h=""+gi(h),u=null,S=0;S<s.length;S++){if(s[S].value===h){s[S].selected=!0,g&&(s[S].defaultSelected=!0);return}u!==null||s[S].disabled||(u=s[S])}u!==null&&(u.selected=!0)}}function uC(s,u,h){if(u!=null&&(u=""+gi(u),u!==s.value&&(s.value=u),h==null)){s.defaultValue!==u&&(s.defaultValue=u);return}s.defaultValue=h!=null?""+gi(h):""}function dC(s,u,h,g){if(u==null){if(g!=null){if(h!=null)throw Error(r(92));if(U(g)){if(1<g.length)throw Error(r(93));g=g[0]}h=g}h==null&&(h=""),u=h}h=gi(u),s.defaultValue=h,g=s.textContent,g===h&&g!==""&&g!==null&&(s.value=g),bb(s)}function rc(s,u){if(u){var h=s.firstChild;if(h&&h===s.lastChild&&h.nodeType===3){h.nodeValue=u;return}}s.textContent=u}var lY=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function fC(s,u,h){var g=u.indexOf("--")===0;h==null||typeof h=="boolean"||h===""?g?s.setProperty(u,""):u==="float"?s.cssFloat="":s[u]="":g?s.setProperty(u,h):typeof h!="number"||h===0||lY.has(u)?u==="float"?s.cssFloat=h:s[u]=(""+h).trim():s[u]=h+"px"}function hC(s,u,h){if(u!=null&&typeof u!="object")throw Error(r(62));if(s=s.style,h!=null){for(var g in h)!h.hasOwnProperty(g)||u!=null&&u.hasOwnProperty(g)||(g.indexOf("--")===0?s.setProperty(g,""):g==="float"?s.cssFloat="":s[g]="");for(var S in u)g=u[S],u.hasOwnProperty(S)&&h[S]!==g&&fC(s,S,g)}else for(var A in u)u.hasOwnProperty(A)&&fC(s,A,u[A])}function _b(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var cY=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),uY=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function up(s){return uY.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function La(){}var Sb=null;function jb(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var ic=null,ac=null;function mC(s){var u=Zl(s);if(u&&(s=u.stateNode)){var h=s[Lr]||null;e:switch(s=u.stateNode,u.type){case"input":if(xb(s,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name),u=h.name,h.type==="radio"&&u!=null){for(h=s;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll('input[name="'+vi(""+u)+'"][type="radio"]'),u=0;u<h.length;u++){var g=h[u];if(g!==s&&g.form===s.form){var S=g[Lr]||null;if(!S)throw Error(r(90));xb(g,S.value,S.defaultValue,S.defaultValue,S.checked,S.defaultChecked,S.type,S.name)}}for(u=0;u<h.length;u++)g=h[u],g.form===s.form&&lC(g)}break e;case"textarea":uC(s,h.value,h.defaultValue);break e;case"select":u=h.value,u!=null&&nc(s,!!h.multiple,u,!1)}}}var Nb=!1;function pC(s,u,h){if(Nb)return s(u,h);Nb=!0;try{var g=s(u);return g}finally{if(Nb=!1,(ic!==null||ac!==null)&&(Qp(),ic&&(u=ic,s=ac,ac=ic=null,mC(u),s)))for(u=0;u<s.length;u++)mC(s[u])}}function zd(s,u){var h=s.stateNode;if(h===null)return null;var g=h[Lr]||null;if(g===null)return null;h=g[u];e:switch(u){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(s=s.type,g=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!g;break e;default:s=!1}if(s)return null;if(h&&typeof h!="function")throw Error(r(231,u,typeof h));return h}var Ba=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Eb=!1;if(Ba)try{var Fd={};Object.defineProperty(Fd,"passive",{get:function(){Eb=!0}}),window.addEventListener("test",Fd,Fd),window.removeEventListener("test",Fd,Fd)}catch{Eb=!1}var As=null,Ab=null,dp=null;function gC(){if(dp)return dp;var s,u=Ab,h=u.length,g,S="value"in As?As.value:As.textContent,A=S.length;for(s=0;s<h&&u[s]===S[s];s++);var M=h-s;for(g=1;g<=M&&u[h-g]===S[A-g];g++);return dp=S.slice(s,1<g?1-g:void 0)}function fp(s){var u=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&u===13&&(s=13)):s=u,s===10&&(s=13),32<=s||s===13?s:0}function hp(){return!0}function vC(){return!1}function Br(s){function u(h,g,S,A,M){this._reactName=h,this._targetInst=S,this.type=g,this.nativeEvent=A,this.target=M,this.currentTarget=null;for(var L in s)s.hasOwnProperty(L)&&(h=s[L],this[L]=h?h(A):A[L]);return this.isDefaultPrevented=(A.defaultPrevented!=null?A.defaultPrevented:A.returnValue===!1)?hp:vC,this.isPropagationStopped=vC,this}return p(u.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=hp)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=hp)},persist:function(){},isPersistent:hp}),u}var $o={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},mp=Br($o),Ud=p({},$o,{view:0,detail:0}),dY=Br(Ud),Tb,Ob,Vd,pp=p({},Ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Rb,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Vd&&(Vd&&s.type==="mousemove"?(Tb=s.screenX-Vd.screenX,Ob=s.screenY-Vd.screenY):Ob=Tb=0,Vd=s),Tb)},movementY:function(s){return"movementY"in s?s.movementY:Ob}}),yC=Br(pp),fY=p({},pp,{dataTransfer:0}),hY=Br(fY),mY=p({},Ud,{relatedTarget:0}),Cb=Br(mY),pY=p({},$o,{animationName:0,elapsedTime:0,pseudoElement:0}),gY=Br(pY),vY=p({},$o,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),yY=Br(vY),bY=p({},$o,{data:0}),bC=Br(bY),xY={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wY={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_Y={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function SY(s){var u=this.nativeEvent;return u.getModifierState?u.getModifierState(s):(s=_Y[s])?!!u[s]:!1}function Rb(){return SY}var jY=p({},Ud,{key:function(s){if(s.key){var u=xY[s.key]||s.key;if(u!=="Unidentified")return u}return s.type==="keypress"?(s=fp(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?wY[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Rb,charCode:function(s){return s.type==="keypress"?fp(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?fp(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),NY=Br(jY),EY=p({},pp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),xC=Br(EY),AY=p({},Ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Rb}),TY=Br(AY),OY=p({},$o,{propertyName:0,elapsedTime:0,pseudoElement:0}),CY=Br(OY),RY=p({},pp,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),PY=Br(RY),MY=p({},$o,{newState:0,oldState:0}),kY=Br(MY),DY=[9,13,27,32],Pb=Ba&&"CompositionEvent"in window,Hd=null;Ba&&"documentMode"in document&&(Hd=document.documentMode);var IY=Ba&&"TextEvent"in window&&!Hd,wC=Ba&&(!Pb||Hd&&8<Hd&&11>=Hd),_C=" ",SC=!1;function jC(s,u){switch(s){case"keyup":return DY.indexOf(u.keyCode)!==-1;case"keydown":return u.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function NC(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var sc=!1;function $Y(s,u){switch(s){case"compositionend":return NC(u);case"keypress":return u.which!==32?null:(SC=!0,_C);case"textInput":return s=u.data,s===_C&&SC?null:s;default:return null}}function LY(s,u){if(sc)return s==="compositionend"||!Pb&&jC(s,u)?(s=gC(),dp=Ab=As=null,sc=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(u.ctrlKey||u.altKey||u.metaKey)||u.ctrlKey&&u.altKey){if(u.char&&1<u.char.length)return u.char;if(u.which)return String.fromCharCode(u.which)}return null;case"compositionend":return wC&&u.locale!=="ko"?null:u.data;default:return null}}var BY={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function EC(s){var u=s&&s.nodeName&&s.nodeName.toLowerCase();return u==="input"?!!BY[s.type]:u==="textarea"}function AC(s,u,h,g){ic?ac?ac.push(g):ac=[g]:ic=g,u=ig(u,"onChange"),0<u.length&&(h=new mp("onChange","change",null,h,g),s.push({event:h,listeners:u}))}var Gd=null,Kd=null;function qY(s){cM(s,0)}function gp(s){var u=qd(s);if(lC(u))return s}function TC(s,u){if(s==="change")return u}var OC=!1;if(Ba){var Mb;if(Ba){var kb="oninput"in document;if(!kb){var CC=document.createElement("div");CC.setAttribute("oninput","return;"),kb=typeof CC.oninput=="function"}Mb=kb}else Mb=!1;OC=Mb&&(!document.documentMode||9<document.documentMode)}function RC(){Gd&&(Gd.detachEvent("onpropertychange",PC),Kd=Gd=null)}function PC(s){if(s.propertyName==="value"&&gp(Kd)){var u=[];AC(u,Kd,s,jb(s)),pC(qY,u)}}function zY(s,u,h){s==="focusin"?(RC(),Gd=u,Kd=h,Gd.attachEvent("onpropertychange",PC)):s==="focusout"&&RC()}function FY(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return gp(Kd)}function UY(s,u){if(s==="click")return gp(u)}function VY(s,u){if(s==="input"||s==="change")return gp(u)}function HY(s,u){return s===u&&(s!==0||1/s===1/u)||s!==s&&u!==u}var Qr=typeof Object.is=="function"?Object.is:HY;function Wd(s,u){if(Qr(s,u))return!0;if(typeof s!="object"||s===null||typeof u!="object"||u===null)return!1;var h=Object.keys(s),g=Object.keys(u);if(h.length!==g.length)return!1;for(g=0;g<h.length;g++){var S=h[g];if(!dt.call(u,S)||!Qr(s[S],u[S]))return!1}return!0}function MC(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function kC(s,u){var h=MC(s);s=0;for(var g;h;){if(h.nodeType===3){if(g=s+h.textContent.length,s<=u&&g>=u)return{node:h,offset:u-s};s=g}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=MC(h)}}function DC(s,u){return s&&u?s===u?!0:s&&s.nodeType===3?!1:u&&u.nodeType===3?DC(s,u.parentNode):"contains"in s?s.contains(u):s.compareDocumentPosition?!!(s.compareDocumentPosition(u)&16):!1:!1}function IC(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var u=cp(s.document);u instanceof s.HTMLIFrameElement;){try{var h=typeof u.contentWindow.location.href=="string"}catch{h=!1}if(h)s=u.contentWindow;else break;u=cp(s.document)}return u}function Db(s){var u=s&&s.nodeName&&s.nodeName.toLowerCase();return u&&(u==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||u==="textarea"||s.contentEditable==="true")}var GY=Ba&&"documentMode"in document&&11>=document.documentMode,oc=null,Ib=null,Yd=null,$b=!1;function $C(s,u,h){var g=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;$b||oc==null||oc!==cp(g)||(g=oc,"selectionStart"in g&&Db(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),Yd&&Wd(Yd,g)||(Yd=g,g=ig(Ib,"onSelect"),0<g.length&&(u=new mp("onSelect","select",null,u,h),s.push({event:u,listeners:g}),u.target=oc)))}function Lo(s,u){var h={};return h[s.toLowerCase()]=u.toLowerCase(),h["Webkit"+s]="webkit"+u,h["Moz"+s]="moz"+u,h}var lc={animationend:Lo("Animation","AnimationEnd"),animationiteration:Lo("Animation","AnimationIteration"),animationstart:Lo("Animation","AnimationStart"),transitionrun:Lo("Transition","TransitionRun"),transitionstart:Lo("Transition","TransitionStart"),transitioncancel:Lo("Transition","TransitionCancel"),transitionend:Lo("Transition","TransitionEnd")},Lb={},LC={};Ba&&(LC=document.createElement("div").style,"AnimationEvent"in window||(delete lc.animationend.animation,delete lc.animationiteration.animation,delete lc.animationstart.animation),"TransitionEvent"in window||delete lc.transitionend.transition);function Bo(s){if(Lb[s])return Lb[s];if(!lc[s])return s;var u=lc[s],h;for(h in u)if(u.hasOwnProperty(h)&&h in LC)return Lb[s]=u[h];return s}var BC=Bo("animationend"),qC=Bo("animationiteration"),zC=Bo("animationstart"),KY=Bo("transitionrun"),WY=Bo("transitionstart"),YY=Bo("transitioncancel"),FC=Bo("transitionend"),UC=new Map,Bb="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Bb.push("scrollEnd");function Ui(s,u){UC.set(s,u),Io(u,[s])}var vp=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var u=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(u))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},yi=[],cc=0,qb=0;function yp(){for(var s=cc,u=qb=cc=0;u<s;){var h=yi[u];yi[u++]=null;var g=yi[u];yi[u++]=null;var S=yi[u];yi[u++]=null;var A=yi[u];if(yi[u++]=null,g!==null&&S!==null){var M=g.pending;M===null?S.next=S:(S.next=M.next,M.next=S),g.pending=S}A!==0&&VC(h,S,A)}}function bp(s,u,h,g){yi[cc++]=s,yi[cc++]=u,yi[cc++]=h,yi[cc++]=g,qb|=g,s.lanes|=g,s=s.alternate,s!==null&&(s.lanes|=g)}function zb(s,u,h,g){return bp(s,u,h,g),xp(s)}function qo(s,u){return bp(s,null,null,u),xp(s)}function VC(s,u,h){s.lanes|=h;var g=s.alternate;g!==null&&(g.lanes|=h);for(var S=!1,A=s.return;A!==null;)A.childLanes|=h,g=A.alternate,g!==null&&(g.childLanes|=h),A.tag===22&&(s=A.stateNode,s===null||s._visibility&1||(S=!0)),s=A,A=A.return;return s.tag===3?(A=s.stateNode,S&&u!==null&&(S=31-Ee(h),s=A.hiddenUpdates,g=s[S],g===null?s[S]=[u]:g.push(u),u.lane=h|536870912),A):null}function xp(s){if(50<yf)throw yf=0,Xx=null,Error(r(185));for(var u=s.return;u!==null;)s=u,u=s.return;return s.tag===3?s.stateNode:null}var uc={};function XY(s,u,h,g){this.tag=s,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Jr(s,u,h,g){return new XY(s,u,h,g)}function Fb(s){return s=s.prototype,!(!s||!s.isReactComponent)}function qa(s,u){var h=s.alternate;return h===null?(h=Jr(s.tag,u,s.key,s.mode),h.elementType=s.elementType,h.type=s.type,h.stateNode=s.stateNode,h.alternate=s,s.alternate=h):(h.pendingProps=u,h.type=s.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=s.flags&65011712,h.childLanes=s.childLanes,h.lanes=s.lanes,h.child=s.child,h.memoizedProps=s.memoizedProps,h.memoizedState=s.memoizedState,h.updateQueue=s.updateQueue,u=s.dependencies,h.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},h.sibling=s.sibling,h.index=s.index,h.ref=s.ref,h.refCleanup=s.refCleanup,h}function HC(s,u){s.flags&=65011714;var h=s.alternate;return h===null?(s.childLanes=0,s.lanes=u,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=h.childLanes,s.lanes=h.lanes,s.child=h.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=h.memoizedProps,s.memoizedState=h.memoizedState,s.updateQueue=h.updateQueue,s.type=h.type,u=h.dependencies,s.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext}),s}function wp(s,u,h,g,S,A){var M=0;if(g=s,typeof s=="function")Fb(s)&&(M=1);else if(typeof s=="string")M=tQ(s,h,le.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case k:return s=Jr(31,h,u,S),s.elementType=k,s.lanes=A,s;case b:return zo(h.children,S,A,u);case w:M=8,S|=24;break;case N:return s=Jr(12,h,u,S|2),s.elementType=N,s.lanes=A,s;case T:return s=Jr(13,h,u,S),s.elementType=T,s.lanes=A,s;case C:return s=Jr(19,h,u,S),s.elementType=C,s.lanes=A,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case j:M=10;break e;case E:M=9;break e;case O:M=11;break e;case R:M=14;break e;case P:M=16,g=null;break e}M=29,h=Error(r(130,s===null?"null":typeof s,"")),g=null}return u=Jr(M,h,u,S),u.elementType=s,u.type=g,u.lanes=A,u}function zo(s,u,h,g){return s=Jr(7,s,g,u),s.lanes=h,s}function Ub(s,u,h){return s=Jr(6,s,null,u),s.lanes=h,s}function GC(s){var u=Jr(18,null,null,0);return u.stateNode=s,u}function Vb(s,u,h){return u=Jr(4,s.children!==null?s.children:[],s.key,u),u.lanes=h,u.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},u}var KC=new WeakMap;function bi(s,u){if(typeof s=="object"&&s!==null){var h=KC.get(s);return h!==void 0?h:(u={value:s,source:u,stack:De(u)},KC.set(s,u),u)}return{value:s,source:u,stack:De(u)}}var dc=[],fc=0,_p=null,Xd=0,xi=[],wi=0,Ts=null,ha=1,ma="";function za(s,u){dc[fc++]=Xd,dc[fc++]=_p,_p=s,Xd=u}function WC(s,u,h){xi[wi++]=ha,xi[wi++]=ma,xi[wi++]=Ts,Ts=s;var g=ha;s=ma;var S=32-Ee(g)-1;g&=~(1<<S),h+=1;var A=32-Ee(u)+S;if(30<A){var M=S-S%5;A=(g&(1<<M)-1).toString(32),g>>=M,S-=M,ha=1<<32-Ee(u)+S|h<<S|g,ma=A+s}else ha=1<<A|h<<S|g,ma=s}function Hb(s){s.return!==null&&(za(s,1),WC(s,1,0))}function Gb(s){for(;s===_p;)_p=dc[--fc],dc[fc]=null,Xd=dc[--fc],dc[fc]=null;for(;s===Ts;)Ts=xi[--wi],xi[wi]=null,ma=xi[--wi],xi[wi]=null,ha=xi[--wi],xi[wi]=null}function YC(s,u){xi[wi++]=ha,xi[wi++]=ma,xi[wi++]=Ts,ha=u.id,ma=u.overflow,Ts=s}var fr=null,gn=null,Bt=!1,Os=null,_i=!1,Kb=Error(r(519));function Cs(s){var u=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Qd(bi(u,s)),Kb}function XC(s){var u=s.stateNode,h=s.type,g=s.memoizedProps;switch(u[dr]=s,u[Lr]=g,h){case"dialog":Dt("cancel",u),Dt("close",u);break;case"iframe":case"object":case"embed":Dt("load",u);break;case"video":case"audio":for(h=0;h<xf.length;h++)Dt(xf[h],u);break;case"source":Dt("error",u);break;case"img":case"image":case"link":Dt("error",u),Dt("load",u);break;case"details":Dt("toggle",u);break;case"input":Dt("invalid",u),cC(u,g.value,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name,!0);break;case"select":Dt("invalid",u);break;case"textarea":Dt("invalid",u),dC(u,g.value,g.defaultValue,g.children)}h=g.children,typeof h!="string"&&typeof h!="number"&&typeof h!="bigint"||u.textContent===""+h||g.suppressHydrationWarning===!0||hM(u.textContent,h)?(g.popover!=null&&(Dt("beforetoggle",u),Dt("toggle",u)),g.onScroll!=null&&Dt("scroll",u),g.onScrollEnd!=null&&Dt("scrollend",u),g.onClick!=null&&(u.onclick=La),u=!0):u=!1,u||Cs(s,!0)}function QC(s){for(fr=s.return;fr;)switch(fr.tag){case 5:case 31:case 13:_i=!1;return;case 27:case 3:_i=!0;return;default:fr=fr.return}}function hc(s){if(s!==fr)return!1;if(!Bt)return QC(s),Bt=!0,!1;var u=s.tag,h;if((h=u!==3&&u!==27)&&((h=u===5)&&(h=s.type,h=!(h!=="form"&&h!=="button")||dw(s.type,s.memoizedProps)),h=!h),h&&gn&&Cs(s),QC(s),u===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));gn=_M(s)}else if(u===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));gn=_M(s)}else u===27?(u=gn,Vs(s.type)?(s=gw,gw=null,gn=s):gn=u):gn=fr?ji(s.stateNode.nextSibling):null;return!0}function Fo(){gn=fr=null,Bt=!1}function Wb(){var s=Os;return s!==null&&(Ur===null?Ur=s:Ur.push.apply(Ur,s),Os=null),s}function Qd(s){Os===null?Os=[s]:Os.push(s)}var Yb=H(null),Uo=null,Fa=null;function Rs(s,u,h){Z(Yb,u._currentValue),u._currentValue=h}function Ua(s){s._currentValue=Yb.current,K(Yb)}function Xb(s,u,h){for(;s!==null;){var g=s.alternate;if((s.childLanes&u)!==u?(s.childLanes|=u,g!==null&&(g.childLanes|=u)):g!==null&&(g.childLanes&u)!==u&&(g.childLanes|=u),s===h)break;s=s.return}}function Qb(s,u,h,g){var S=s.child;for(S!==null&&(S.return=s);S!==null;){var A=S.dependencies;if(A!==null){var M=S.child;A=A.firstContext;e:for(;A!==null;){var L=A;A=S;for(var W=0;W<u.length;W++)if(L.context===u[W]){A.lanes|=h,L=A.alternate,L!==null&&(L.lanes|=h),Xb(A.return,h,s),g||(M=null);break e}A=L.next}}else if(S.tag===18){if(M=S.return,M===null)throw Error(r(341));M.lanes|=h,A=M.alternate,A!==null&&(A.lanes|=h),Xb(M,h,s),M=null}else M=S.child;if(M!==null)M.return=S;else for(M=S;M!==null;){if(M===s){M=null;break}if(S=M.sibling,S!==null){S.return=M.return,M=S;break}M=M.return}S=M}}function mc(s,u,h,g){s=null;for(var S=u,A=!1;S!==null;){if(!A){if((S.flags&524288)!==0)A=!0;else if((S.flags&262144)!==0)break}if(S.tag===10){var M=S.alternate;if(M===null)throw Error(r(387));if(M=M.memoizedProps,M!==null){var L=S.type;Qr(S.pendingProps.value,M.value)||(s!==null?s.push(L):s=[L])}}else if(S===J.current){if(M=S.alternate,M===null)throw Error(r(387));M.memoizedState.memoizedState!==S.memoizedState.memoizedState&&(s!==null?s.push(Nf):s=[Nf])}S=S.return}s!==null&&Qb(u,s,h,g),u.flags|=262144}function Sp(s){for(s=s.firstContext;s!==null;){if(!Qr(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function Vo(s){Uo=s,Fa=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function hr(s){return JC(Uo,s)}function jp(s,u){return Uo===null&&Vo(s),JC(s,u)}function JC(s,u){var h=u._currentValue;if(u={context:u,memoizedValue:h,next:null},Fa===null){if(s===null)throw Error(r(308));Fa=u,s.dependencies={lanes:0,firstContext:u},s.flags|=524288}else Fa=Fa.next=u;return h}var QY=typeof AbortController<"u"?AbortController:function(){var s=[],u=this.signal={aborted:!1,addEventListener:function(h,g){s.push(g)}};this.abort=function(){u.aborted=!0,s.forEach(function(h){return h()})}},JY=e.unstable_scheduleCallback,ZY=e.unstable_NormalPriority,Bn={$$typeof:j,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Jb(){return{controller:new QY,data:new Map,refCount:0}}function Jd(s){s.refCount--,s.refCount===0&&JY(ZY,function(){s.controller.abort()})}var Zd=null,Zb=0,pc=0,gc=null;function eX(s,u){if(Zd===null){var h=Zd=[];Zb=0,pc=nw(),gc={status:"pending",value:void 0,then:function(g){h.push(g)}}}return Zb++,u.then(ZC,ZC),u}function ZC(){if(--Zb===0&&Zd!==null){gc!==null&&(gc.status="fulfilled");var s=Zd;Zd=null,pc=0,gc=null;for(var u=0;u<s.length;u++)(0,s[u])()}}function tX(s,u){var h=[],g={status:"pending",value:null,reason:null,then:function(S){h.push(S)}};return s.then(function(){g.status="fulfilled",g.value=u;for(var S=0;S<h.length;S++)(0,h[S])(u)},function(S){for(g.status="rejected",g.reason=S,S=0;S<h.length;S++)(0,h[S])(void 0)}),g}var eR=D.S;D.S=function(s,u){$P=Ue(),typeof u=="object"&&u!==null&&typeof u.then=="function"&&eX(s,u),eR!==null&&eR(s,u)};var Ho=H(null);function ex(){var s=Ho.current;return s!==null?s:on.pooledCache}function Np(s,u){u===null?Z(Ho,Ho.current):Z(Ho,u.pool)}function tR(){var s=ex();return s===null?null:{parent:Bn._currentValue,pool:s}}var vc=Error(r(460)),tx=Error(r(474)),Ep=Error(r(542)),Ap={then:function(){}};function nR(s){return s=s.status,s==="fulfilled"||s==="rejected"}function rR(s,u,h){switch(h=s[h],h===void 0?s.push(u):h!==u&&(u.then(La,La),u=h),u.status){case"fulfilled":return u.value;case"rejected":throw s=u.reason,aR(s),s;default:if(typeof u.status=="string")u.then(La,La);else{if(s=on,s!==null&&100<s.shellSuspendCounter)throw Error(r(482));s=u,s.status="pending",s.then(function(g){if(u.status==="pending"){var S=u;S.status="fulfilled",S.value=g}},function(g){if(u.status==="pending"){var S=u;S.status="rejected",S.reason=g}})}switch(u.status){case"fulfilled":return u.value;case"rejected":throw s=u.reason,aR(s),s}throw Ko=u,vc}}function Go(s){try{var u=s._init;return u(s._payload)}catch(h){throw h!==null&&typeof h=="object"&&typeof h.then=="function"?(Ko=h,vc):h}}var Ko=null;function iR(){if(Ko===null)throw Error(r(459));var s=Ko;return Ko=null,s}function aR(s){if(s===vc||s===Ep)throw Error(r(483))}var yc=null,ef=0;function Tp(s){var u=ef;return ef+=1,yc===null&&(yc=[]),rR(yc,s,u)}function tf(s,u){u=u.props.ref,s.ref=u!==void 0?u:null}function Op(s,u){throw u.$$typeof===v?Error(r(525)):(s=Object.prototype.toString.call(u),Error(r(31,s==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":s)))}function sR(s){function u(re,Q){if(s){var ce=re.deletions;ce===null?(re.deletions=[Q],re.flags|=16):ce.push(Q)}}function h(re,Q){if(!s)return null;for(;Q!==null;)u(re,Q),Q=Q.sibling;return null}function g(re){for(var Q=new Map;re!==null;)re.key!==null?Q.set(re.key,re):Q.set(re.index,re),re=re.sibling;return Q}function S(re,Q){return re=qa(re,Q),re.index=0,re.sibling=null,re}function A(re,Q,ce){return re.index=ce,s?(ce=re.alternate,ce!==null?(ce=ce.index,ce<Q?(re.flags|=67108866,Q):ce):(re.flags|=67108866,Q)):(re.flags|=1048576,Q)}function M(re){return s&&re.alternate===null&&(re.flags|=67108866),re}function L(re,Q,ce,Se){return Q===null||Q.tag!==6?(Q=Ub(ce,re.mode,Se),Q.return=re,Q):(Q=S(Q,ce),Q.return=re,Q)}function W(re,Q,ce,Se){var ct=ce.type;return ct===b?ye(re,Q,ce.props.children,Se,ce.key):Q!==null&&(Q.elementType===ct||typeof ct=="object"&&ct!==null&&ct.$$typeof===P&&Go(ct)===Q.type)?(Q=S(Q,ce.props),tf(Q,ce),Q.return=re,Q):(Q=wp(ce.type,ce.key,ce.props,null,re.mode,Se),tf(Q,ce),Q.return=re,Q)}function ue(re,Q,ce,Se){return Q===null||Q.tag!==4||Q.stateNode.containerInfo!==ce.containerInfo||Q.stateNode.implementation!==ce.implementation?(Q=Vb(ce,re.mode,Se),Q.return=re,Q):(Q=S(Q,ce.children||[]),Q.return=re,Q)}function ye(re,Q,ce,Se,ct){return Q===null||Q.tag!==7?(Q=zo(ce,re.mode,Se,ct),Q.return=re,Q):(Q=S(Q,ce),Q.return=re,Q)}function Ne(re,Q,ce){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return Q=Ub(""+Q,re.mode,ce),Q.return=re,Q;if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case y:return ce=wp(Q.type,Q.key,Q.props,null,re.mode,ce),tf(ce,Q),ce.return=re,ce;case x:return Q=Vb(Q,re.mode,ce),Q.return=re,Q;case P:return Q=Go(Q),Ne(re,Q,ce)}if(U(Q)||I(Q))return Q=zo(Q,re.mode,ce,null),Q.return=re,Q;if(typeof Q.then=="function")return Ne(re,Tp(Q),ce);if(Q.$$typeof===j)return Ne(re,jp(re,Q),ce);Op(re,Q)}return null}function fe(re,Q,ce,Se){var ct=Q!==null?Q.key:null;if(typeof ce=="string"&&ce!==""||typeof ce=="number"||typeof ce=="bigint")return ct!==null?null:L(re,Q,""+ce,Se);if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case y:return ce.key===ct?W(re,Q,ce,Se):null;case x:return ce.key===ct?ue(re,Q,ce,Se):null;case P:return ce=Go(ce),fe(re,Q,ce,Se)}if(U(ce)||I(ce))return ct!==null?null:ye(re,Q,ce,Se,null);if(typeof ce.then=="function")return fe(re,Q,Tp(ce),Se);if(ce.$$typeof===j)return fe(re,Q,jp(re,ce),Se);Op(re,ce)}return null}function ge(re,Q,ce,Se,ct){if(typeof Se=="string"&&Se!==""||typeof Se=="number"||typeof Se=="bigint")return re=re.get(ce)||null,L(Q,re,""+Se,ct);if(typeof Se=="object"&&Se!==null){switch(Se.$$typeof){case y:return re=re.get(Se.key===null?ce:Se.key)||null,W(Q,re,Se,ct);case x:return re=re.get(Se.key===null?ce:Se.key)||null,ue(Q,re,Se,ct);case P:return Se=Go(Se),ge(re,Q,ce,Se,ct)}if(U(Se)||I(Se))return re=re.get(ce)||null,ye(Q,re,Se,ct,null);if(typeof Se.then=="function")return ge(re,Q,ce,Tp(Se),ct);if(Se.$$typeof===j)return ge(re,Q,ce,jp(Q,Se),ct);Op(Q,Se)}return null}function He(re,Q,ce,Se){for(var ct=null,zt=null,Je=Q,Tt=Q=0,$t=null;Je!==null&&Tt<ce.length;Tt++){Je.index>Tt?($t=Je,Je=null):$t=Je.sibling;var Ft=fe(re,Je,ce[Tt],Se);if(Ft===null){Je===null&&(Je=$t);break}s&&Je&&Ft.alternate===null&&u(re,Je),Q=A(Ft,Q,Tt),zt===null?ct=Ft:zt.sibling=Ft,zt=Ft,Je=$t}if(Tt===ce.length)return h(re,Je),Bt&&za(re,Tt),ct;if(Je===null){for(;Tt<ce.length;Tt++)Je=Ne(re,ce[Tt],Se),Je!==null&&(Q=A(Je,Q,Tt),zt===null?ct=Je:zt.sibling=Je,zt=Je);return Bt&&za(re,Tt),ct}for(Je=g(Je);Tt<ce.length;Tt++)$t=ge(Je,re,Tt,ce[Tt],Se),$t!==null&&(s&&$t.alternate!==null&&Je.delete($t.key===null?Tt:$t.key),Q=A($t,Q,Tt),zt===null?ct=$t:zt.sibling=$t,zt=$t);return s&&Je.forEach(function(Ys){return u(re,Ys)}),Bt&&za(re,Tt),ct}function ht(re,Q,ce,Se){if(ce==null)throw Error(r(151));for(var ct=null,zt=null,Je=Q,Tt=Q=0,$t=null,Ft=ce.next();Je!==null&&!Ft.done;Tt++,Ft=ce.next()){Je.index>Tt?($t=Je,Je=null):$t=Je.sibling;var Ys=fe(re,Je,Ft.value,Se);if(Ys===null){Je===null&&(Je=$t);break}s&&Je&&Ys.alternate===null&&u(re,Je),Q=A(Ys,Q,Tt),zt===null?ct=Ys:zt.sibling=Ys,zt=Ys,Je=$t}if(Ft.done)return h(re,Je),Bt&&za(re,Tt),ct;if(Je===null){for(;!Ft.done;Tt++,Ft=ce.next())Ft=Ne(re,Ft.value,Se),Ft!==null&&(Q=A(Ft,Q,Tt),zt===null?ct=Ft:zt.sibling=Ft,zt=Ft);return Bt&&za(re,Tt),ct}for(Je=g(Je);!Ft.done;Tt++,Ft=ce.next())Ft=ge(Je,re,Tt,Ft.value,Se),Ft!==null&&(s&&Ft.alternate!==null&&Je.delete(Ft.key===null?Tt:Ft.key),Q=A(Ft,Q,Tt),zt===null?ct=Ft:zt.sibling=Ft,zt=Ft);return s&&Je.forEach(function(fQ){return u(re,fQ)}),Bt&&za(re,Tt),ct}function tn(re,Q,ce,Se){if(typeof ce=="object"&&ce!==null&&ce.type===b&&ce.key===null&&(ce=ce.props.children),typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case y:e:{for(var ct=ce.key;Q!==null;){if(Q.key===ct){if(ct=ce.type,ct===b){if(Q.tag===7){h(re,Q.sibling),Se=S(Q,ce.props.children),Se.return=re,re=Se;break e}}else if(Q.elementType===ct||typeof ct=="object"&&ct!==null&&ct.$$typeof===P&&Go(ct)===Q.type){h(re,Q.sibling),Se=S(Q,ce.props),tf(Se,ce),Se.return=re,re=Se;break e}h(re,Q);break}else u(re,Q);Q=Q.sibling}ce.type===b?(Se=zo(ce.props.children,re.mode,Se,ce.key),Se.return=re,re=Se):(Se=wp(ce.type,ce.key,ce.props,null,re.mode,Se),tf(Se,ce),Se.return=re,re=Se)}return M(re);case x:e:{for(ct=ce.key;Q!==null;){if(Q.key===ct)if(Q.tag===4&&Q.stateNode.containerInfo===ce.containerInfo&&Q.stateNode.implementation===ce.implementation){h(re,Q.sibling),Se=S(Q,ce.children||[]),Se.return=re,re=Se;break e}else{h(re,Q);break}else u(re,Q);Q=Q.sibling}Se=Vb(ce,re.mode,Se),Se.return=re,re=Se}return M(re);case P:return ce=Go(ce),tn(re,Q,ce,Se)}if(U(ce))return He(re,Q,ce,Se);if(I(ce)){if(ct=I(ce),typeof ct!="function")throw Error(r(150));return ce=ct.call(ce),ht(re,Q,ce,Se)}if(typeof ce.then=="function")return tn(re,Q,Tp(ce),Se);if(ce.$$typeof===j)return tn(re,Q,jp(re,ce),Se);Op(re,ce)}return typeof ce=="string"&&ce!==""||typeof ce=="number"||typeof ce=="bigint"?(ce=""+ce,Q!==null&&Q.tag===6?(h(re,Q.sibling),Se=S(Q,ce),Se.return=re,re=Se):(h(re,Q),Se=Ub(ce,re.mode,Se),Se.return=re,re=Se),M(re)):h(re,Q)}return function(re,Q,ce,Se){try{ef=0;var ct=tn(re,Q,ce,Se);return yc=null,ct}catch(Je){if(Je===vc||Je===Ep)throw Je;var zt=Jr(29,Je,null,re.mode);return zt.lanes=Se,zt.return=re,zt}finally{}}}var Wo=sR(!0),oR=sR(!1),Ps=!1;function nx(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function rx(s,u){s=s.updateQueue,u.updateQueue===s&&(u.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function Ms(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function ks(s,u,h){var g=s.updateQueue;if(g===null)return null;if(g=g.shared,(Ht&2)!==0){var S=g.pending;return S===null?u.next=u:(u.next=S.next,S.next=u),g.pending=u,u=xp(s),VC(s,null,h),u}return bp(s,g,u,h),xp(s)}function nf(s,u,h){if(u=u.updateQueue,u!==null&&(u=u.shared,(h&4194048)!==0)){var g=u.lanes;g&=s.pendingLanes,h|=g,u.lanes=h,Do(s,h)}}function ix(s,u){var h=s.updateQueue,g=s.alternate;if(g!==null&&(g=g.updateQueue,h===g)){var S=null,A=null;if(h=h.firstBaseUpdate,h!==null){do{var M={lane:h.lane,tag:h.tag,payload:h.payload,callback:null,next:null};A===null?S=A=M:A=A.next=M,h=h.next}while(h!==null);A===null?S=A=u:A=A.next=u}else S=A=u;h={baseState:g.baseState,firstBaseUpdate:S,lastBaseUpdate:A,shared:g.shared,callbacks:g.callbacks},s.updateQueue=h;return}s=h.lastBaseUpdate,s===null?h.firstBaseUpdate=u:s.next=u,h.lastBaseUpdate=u}var ax=!1;function rf(){if(ax){var s=gc;if(s!==null)throw s}}function af(s,u,h,g){ax=!1;var S=s.updateQueue;Ps=!1;var A=S.firstBaseUpdate,M=S.lastBaseUpdate,L=S.shared.pending;if(L!==null){S.shared.pending=null;var W=L,ue=W.next;W.next=null,M===null?A=ue:M.next=ue,M=W;var ye=s.alternate;ye!==null&&(ye=ye.updateQueue,L=ye.lastBaseUpdate,L!==M&&(L===null?ye.firstBaseUpdate=ue:L.next=ue,ye.lastBaseUpdate=W))}if(A!==null){var Ne=S.baseState;M=0,ye=ue=W=null,L=A;do{var fe=L.lane&-536870913,ge=fe!==L.lane;if(ge?(It&fe)===fe:(g&fe)===fe){fe!==0&&fe===pc&&(ax=!0),ye!==null&&(ye=ye.next={lane:0,tag:L.tag,payload:L.payload,callback:null,next:null});e:{var He=s,ht=L;fe=u;var tn=h;switch(ht.tag){case 1:if(He=ht.payload,typeof He=="function"){Ne=He.call(tn,Ne,fe);break e}Ne=He;break e;case 3:He.flags=He.flags&-65537|128;case 0:if(He=ht.payload,fe=typeof He=="function"?He.call(tn,Ne,fe):He,fe==null)break e;Ne=p({},Ne,fe);break e;case 2:Ps=!0}}fe=L.callback,fe!==null&&(s.flags|=64,ge&&(s.flags|=8192),ge=S.callbacks,ge===null?S.callbacks=[fe]:ge.push(fe))}else ge={lane:fe,tag:L.tag,payload:L.payload,callback:L.callback,next:null},ye===null?(ue=ye=ge,W=Ne):ye=ye.next=ge,M|=fe;if(L=L.next,L===null){if(L=S.shared.pending,L===null)break;ge=L,L=ge.next,ge.next=null,S.lastBaseUpdate=ge,S.shared.pending=null}}while(!0);ye===null&&(W=Ne),S.baseState=W,S.firstBaseUpdate=ue,S.lastBaseUpdate=ye,A===null&&(S.shared.lanes=0),Bs|=M,s.lanes=M,s.memoizedState=Ne}}function lR(s,u){if(typeof s!="function")throw Error(r(191,s));s.call(u)}function cR(s,u){var h=s.callbacks;if(h!==null)for(s.callbacks=null,s=0;s<h.length;s++)lR(h[s],u)}var bc=H(null),Cp=H(0);function uR(s,u){s=Ja,Z(Cp,s),Z(bc,u),Ja=s|u.baseLanes}function sx(){Z(Cp,Ja),Z(bc,bc.current)}function ox(){Ja=Cp.current,K(bc),K(Cp)}var Zr=H(null),Si=null;function Ds(s){var u=s.alternate;Z(Mn,Mn.current&1),Z(Zr,s),Si===null&&(u===null||bc.current!==null||u.memoizedState!==null)&&(Si=s)}function lx(s){Z(Mn,Mn.current),Z(Zr,s),Si===null&&(Si=s)}function dR(s){s.tag===22?(Z(Mn,Mn.current),Z(Zr,s),Si===null&&(Si=s)):Is()}function Is(){Z(Mn,Mn.current),Z(Zr,Zr.current)}function ei(s){K(Zr),Si===s&&(Si=null),K(Mn)}var Mn=H(0);function Rp(s){for(var u=s;u!==null;){if(u.tag===13){var h=u.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||mw(h)||pw(h)))return u}else if(u.tag===19&&(u.memoizedProps.revealOrder==="forwards"||u.memoizedProps.revealOrder==="backwards"||u.memoizedProps.revealOrder==="unstable_legacy-backwards"||u.memoizedProps.revealOrder==="together")){if((u.flags&128)!==0)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===s)break;for(;u.sibling===null;){if(u.return===null||u.return===s)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}var Va=0,Et=null,Zt=null,qn=null,Pp=!1,xc=!1,Yo=!1,Mp=0,sf=0,wc=null,nX=0;function En(){throw Error(r(321))}function cx(s,u){if(u===null)return!1;for(var h=0;h<u.length&&h<s.length;h++)if(!Qr(s[h],u[h]))return!1;return!0}function ux(s,u,h,g,S,A){return Va=A,Et=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,D.H=s===null||s.memoizedState===null?WR:Nx,Yo=!1,A=h(g,S),Yo=!1,xc&&(A=hR(u,h,g,S)),fR(s),A}function fR(s){D.H=cf;var u=Zt!==null&&Zt.next!==null;if(Va=0,qn=Zt=Et=null,Pp=!1,sf=0,wc=null,u)throw Error(r(300));s===null||zn||(s=s.dependencies,s!==null&&Sp(s)&&(zn=!0))}function hR(s,u,h,g){Et=s;var S=0;do{if(xc&&(wc=null),sf=0,xc=!1,25<=S)throw Error(r(301));if(S+=1,qn=Zt=null,s.updateQueue!=null){var A=s.updateQueue;A.lastEffect=null,A.events=null,A.stores=null,A.memoCache!=null&&(A.memoCache.index=0)}D.H=YR,A=u(h,g)}while(xc);return A}function rX(){var s=D.H,u=s.useState()[0];return u=typeof u.then=="function"?of(u):u,s=s.useState()[0],(Zt!==null?Zt.memoizedState:null)!==s&&(Et.flags|=1024),u}function dx(){var s=Mp!==0;return Mp=0,s}function fx(s,u,h){u.updateQueue=s.updateQueue,u.flags&=-2053,s.lanes&=~h}function hx(s){if(Pp){for(s=s.memoizedState;s!==null;){var u=s.queue;u!==null&&(u.pending=null),s=s.next}Pp=!1}Va=0,qn=Zt=Et=null,xc=!1,sf=Mp=0,wc=null}function Pr(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return qn===null?Et.memoizedState=qn=s:qn=qn.next=s,qn}function kn(){if(Zt===null){var s=Et.alternate;s=s!==null?s.memoizedState:null}else s=Zt.next;var u=qn===null?Et.memoizedState:qn.next;if(u!==null)qn=u,Zt=s;else{if(s===null)throw Et.alternate===null?Error(r(467)):Error(r(310));Zt=s,s={memoizedState:Zt.memoizedState,baseState:Zt.baseState,baseQueue:Zt.baseQueue,queue:Zt.queue,next:null},qn===null?Et.memoizedState=qn=s:qn=qn.next=s}return qn}function kp(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function of(s){var u=sf;return sf+=1,wc===null&&(wc=[]),s=rR(wc,s,u),u=Et,(qn===null?u.memoizedState:qn.next)===null&&(u=u.alternate,D.H=u===null||u.memoizedState===null?WR:Nx),s}function Dp(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return of(s);if(s.$$typeof===j)return hr(s)}throw Error(r(438,String(s)))}function mx(s){var u=null,h=Et.updateQueue;if(h!==null&&(u=h.memoCache),u==null){var g=Et.alternate;g!==null&&(g=g.updateQueue,g!==null&&(g=g.memoCache,g!=null&&(u={data:g.data.map(function(S){return S.slice()}),index:0})))}if(u==null&&(u={data:[],index:0}),h===null&&(h=kp(),Et.updateQueue=h),h.memoCache=u,h=u.data[u.index],h===void 0)for(h=u.data[u.index]=Array(s),g=0;g<s;g++)h[g]=$;return u.index++,h}function Ha(s,u){return typeof u=="function"?u(s):u}function Ip(s){var u=kn();return px(u,Zt,s)}function px(s,u,h){var g=s.queue;if(g===null)throw Error(r(311));g.lastRenderedReducer=h;var S=s.baseQueue,A=g.pending;if(A!==null){if(S!==null){var M=S.next;S.next=A.next,A.next=M}u.baseQueue=S=A,g.pending=null}if(A=s.baseState,S===null)s.memoizedState=A;else{u=S.next;var L=M=null,W=null,ue=u,ye=!1;do{var Ne=ue.lane&-536870913;if(Ne!==ue.lane?(It&Ne)===Ne:(Va&Ne)===Ne){var fe=ue.revertLane;if(fe===0)W!==null&&(W=W.next={lane:0,revertLane:0,gesture:null,action:ue.action,hasEagerState:ue.hasEagerState,eagerState:ue.eagerState,next:null}),Ne===pc&&(ye=!0);else if((Va&fe)===fe){ue=ue.next,fe===pc&&(ye=!0);continue}else Ne={lane:0,revertLane:ue.revertLane,gesture:null,action:ue.action,hasEagerState:ue.hasEagerState,eagerState:ue.eagerState,next:null},W===null?(L=W=Ne,M=A):W=W.next=Ne,Et.lanes|=fe,Bs|=fe;Ne=ue.action,Yo&&h(A,Ne),A=ue.hasEagerState?ue.eagerState:h(A,Ne)}else fe={lane:Ne,revertLane:ue.revertLane,gesture:ue.gesture,action:ue.action,hasEagerState:ue.hasEagerState,eagerState:ue.eagerState,next:null},W===null?(L=W=fe,M=A):W=W.next=fe,Et.lanes|=Ne,Bs|=Ne;ue=ue.next}while(ue!==null&&ue!==u);if(W===null?M=A:W.next=L,!Qr(A,s.memoizedState)&&(zn=!0,ye&&(h=gc,h!==null)))throw h;s.memoizedState=A,s.baseState=M,s.baseQueue=W,g.lastRenderedState=A}return S===null&&(g.lanes=0),[s.memoizedState,g.dispatch]}function gx(s){var u=kn(),h=u.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=s;var g=h.dispatch,S=h.pending,A=u.memoizedState;if(S!==null){h.pending=null;var M=S=S.next;do A=s(A,M.action),M=M.next;while(M!==S);Qr(A,u.memoizedState)||(zn=!0),u.memoizedState=A,u.baseQueue===null&&(u.baseState=A),h.lastRenderedState=A}return[A,g]}function mR(s,u,h){var g=Et,S=kn(),A=Bt;if(A){if(h===void 0)throw Error(r(407));h=h()}else h=u();var M=!Qr((Zt||S).memoizedState,h);if(M&&(S.memoizedState=h,zn=!0),S=S.queue,bx(vR.bind(null,g,S,s),[s]),S.getSnapshot!==u||M||qn!==null&&qn.memoizedState.tag&1){if(g.flags|=2048,_c(9,{destroy:void 0},gR.bind(null,g,S,h,u),null),on===null)throw Error(r(349));A||(Va&127)!==0||pR(g,u,h)}return h}function pR(s,u,h){s.flags|=16384,s={getSnapshot:u,value:h},u=Et.updateQueue,u===null?(u=kp(),Et.updateQueue=u,u.stores=[s]):(h=u.stores,h===null?u.stores=[s]:h.push(s))}function gR(s,u,h,g){u.value=h,u.getSnapshot=g,yR(u)&&bR(s)}function vR(s,u,h){return h(function(){yR(u)&&bR(s)})}function yR(s){var u=s.getSnapshot;s=s.value;try{var h=u();return!Qr(s,h)}catch{return!0}}function bR(s){var u=qo(s,2);u!==null&&Vr(u,s,2)}function vx(s){var u=Pr();if(typeof s=="function"){var h=s;if(s=h(),Yo){_e(!0);try{h()}finally{_e(!1)}}}return u.memoizedState=u.baseState=s,u.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ha,lastRenderedState:s},u}function xR(s,u,h,g){return s.baseState=h,px(s,Zt,typeof g=="function"?g:Ha)}function iX(s,u,h,g,S){if(Bp(s))throw Error(r(485));if(s=u.action,s!==null){var A={payload:S,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(M){A.listeners.push(M)}};D.T!==null?h(!0):A.isTransition=!1,g(A),h=u.pending,h===null?(A.next=u.pending=A,wR(u,A)):(A.next=h.next,u.pending=h.next=A)}}function wR(s,u){var h=u.action,g=u.payload,S=s.state;if(u.isTransition){var A=D.T,M={};D.T=M;try{var L=h(S,g),W=D.S;W!==null&&W(M,L),_R(s,u,L)}catch(ue){yx(s,u,ue)}finally{A!==null&&M.types!==null&&(A.types=M.types),D.T=A}}else try{A=h(S,g),_R(s,u,A)}catch(ue){yx(s,u,ue)}}function _R(s,u,h){h!==null&&typeof h=="object"&&typeof h.then=="function"?h.then(function(g){SR(s,u,g)},function(g){return yx(s,u,g)}):SR(s,u,h)}function SR(s,u,h){u.status="fulfilled",u.value=h,jR(u),s.state=h,u=s.pending,u!==null&&(h=u.next,h===u?s.pending=null:(h=h.next,u.next=h,wR(s,h)))}function yx(s,u,h){var g=s.pending;if(s.pending=null,g!==null){g=g.next;do u.status="rejected",u.reason=h,jR(u),u=u.next;while(u!==g)}s.action=null}function jR(s){s=s.listeners;for(var u=0;u<s.length;u++)(0,s[u])()}function NR(s,u){return u}function ER(s,u){if(Bt){var h=on.formState;if(h!==null){e:{var g=Et;if(Bt){if(gn){t:{for(var S=gn,A=_i;S.nodeType!==8;){if(!A){S=null;break t}if(S=ji(S.nextSibling),S===null){S=null;break t}}A=S.data,S=A==="F!"||A==="F"?S:null}if(S){gn=ji(S.nextSibling),g=S.data==="F!";break e}}Cs(g)}g=!1}g&&(u=h[0])}}return h=Pr(),h.memoizedState=h.baseState=u,g={pending:null,lanes:0,dispatch:null,lastRenderedReducer:NR,lastRenderedState:u},h.queue=g,h=HR.bind(null,Et,g),g.dispatch=h,g=vx(!1),A=jx.bind(null,Et,!1,g.queue),g=Pr(),S={state:u,dispatch:null,action:s,pending:null},g.queue=S,h=iX.bind(null,Et,S,A,h),S.dispatch=h,g.memoizedState=s,[u,h,!1]}function AR(s){var u=kn();return TR(u,Zt,s)}function TR(s,u,h){if(u=px(s,u,NR)[0],s=Ip(Ha)[0],typeof u=="object"&&u!==null&&typeof u.then=="function")try{var g=of(u)}catch(M){throw M===vc?Ep:M}else g=u;u=kn();var S=u.queue,A=S.dispatch;return h!==u.memoizedState&&(Et.flags|=2048,_c(9,{destroy:void 0},aX.bind(null,S,h),null)),[g,A,s]}function aX(s,u){s.action=u}function OR(s){var u=kn(),h=Zt;if(h!==null)return TR(u,h,s);kn(),u=u.memoizedState,h=kn();var g=h.queue.dispatch;return h.memoizedState=s,[u,g,!1]}function _c(s,u,h,g){return s={tag:s,create:h,deps:g,inst:u,next:null},u=Et.updateQueue,u===null&&(u=kp(),Et.updateQueue=u),h=u.lastEffect,h===null?u.lastEffect=s.next=s:(g=h.next,h.next=s,s.next=g,u.lastEffect=s),s}function CR(){return kn().memoizedState}function $p(s,u,h,g){var S=Pr();Et.flags|=s,S.memoizedState=_c(1|u,{destroy:void 0},h,g===void 0?null:g)}function Lp(s,u,h,g){var S=kn();g=g===void 0?null:g;var A=S.memoizedState.inst;Zt!==null&&g!==null&&cx(g,Zt.memoizedState.deps)?S.memoizedState=_c(u,A,h,g):(Et.flags|=s,S.memoizedState=_c(1|u,A,h,g))}function RR(s,u){$p(8390656,8,s,u)}function bx(s,u){Lp(2048,8,s,u)}function sX(s){Et.flags|=4;var u=Et.updateQueue;if(u===null)u=kp(),Et.updateQueue=u,u.events=[s];else{var h=u.events;h===null?u.events=[s]:h.push(s)}}function PR(s){var u=kn().memoizedState;return sX({ref:u,nextImpl:s}),function(){if((Ht&2)!==0)throw Error(r(440));return u.impl.apply(void 0,arguments)}}function MR(s,u){return Lp(4,2,s,u)}function kR(s,u){return Lp(4,4,s,u)}function DR(s,u){if(typeof u=="function"){s=s();var h=u(s);return function(){typeof h=="function"?h():u(null)}}if(u!=null)return s=s(),u.current=s,function(){u.current=null}}function IR(s,u,h){h=h!=null?h.concat([s]):null,Lp(4,4,DR.bind(null,u,s),h)}function xx(){}function $R(s,u){var h=kn();u=u===void 0?null:u;var g=h.memoizedState;return u!==null&&cx(u,g[1])?g[0]:(h.memoizedState=[s,u],s)}function LR(s,u){var h=kn();u=u===void 0?null:u;var g=h.memoizedState;if(u!==null&&cx(u,g[1]))return g[0];if(g=s(),Yo){_e(!0);try{s()}finally{_e(!1)}}return h.memoizedState=[g,u],g}function wx(s,u,h){return h===void 0||(Va&1073741824)!==0&&(It&261930)===0?s.memoizedState=u:(s.memoizedState=h,s=BP(),Et.lanes|=s,Bs|=s,h)}function BR(s,u,h,g){return Qr(h,u)?h:bc.current!==null?(s=wx(s,h,g),Qr(s,u)||(zn=!0),s):(Va&42)===0||(Va&1073741824)!==0&&(It&261930)===0?(zn=!0,s.memoizedState=h):(s=BP(),Et.lanes|=s,Bs|=s,u)}function qR(s,u,h,g,S){var A=G.p;G.p=A!==0&&8>A?A:8;var M=D.T,L={};D.T=L,jx(s,!1,u,h);try{var W=S(),ue=D.S;if(ue!==null&&ue(L,W),W!==null&&typeof W=="object"&&typeof W.then=="function"){var ye=tX(W,g);lf(s,u,ye,ri(s))}else lf(s,u,g,ri(s))}catch(Ne){lf(s,u,{then:function(){},status:"rejected",reason:Ne},ri())}finally{G.p=A,M!==null&&L.types!==null&&(M.types=L.types),D.T=M}}function oX(){}function _x(s,u,h,g){if(s.tag!==5)throw Error(r(476));var S=zR(s).queue;qR(s,S,u,z,h===null?oX:function(){return FR(s),h(g)})}function zR(s){var u=s.memoizedState;if(u!==null)return u;u={memoizedState:z,baseState:z,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ha,lastRenderedState:z},next:null};var h={};return u.next={memoizedState:h,baseState:h,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ha,lastRenderedState:h},next:null},s.memoizedState=u,s=s.alternate,s!==null&&(s.memoizedState=u),u}function FR(s){var u=zR(s);u.next===null&&(u=s.alternate.memoizedState),lf(s,u.next.queue,{},ri())}function Sx(){return hr(Nf)}function UR(){return kn().memoizedState}function VR(){return kn().memoizedState}function lX(s){for(var u=s.return;u!==null;){switch(u.tag){case 24:case 3:var h=ri();s=Ms(h);var g=ks(u,s,h);g!==null&&(Vr(g,u,h),nf(g,u,h)),u={cache:Jb()},s.payload=u;return}u=u.return}}function cX(s,u,h){var g=ri();h={lane:g,revertLane:0,gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null},Bp(s)?GR(u,h):(h=zb(s,u,h,g),h!==null&&(Vr(h,s,g),KR(h,u,g)))}function HR(s,u,h){var g=ri();lf(s,u,h,g)}function lf(s,u,h,g){var S={lane:g,revertLane:0,gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null};if(Bp(s))GR(u,S);else{var A=s.alternate;if(s.lanes===0&&(A===null||A.lanes===0)&&(A=u.lastRenderedReducer,A!==null))try{var M=u.lastRenderedState,L=A(M,h);if(S.hasEagerState=!0,S.eagerState=L,Qr(L,M))return bp(s,u,S,0),on===null&&yp(),!1}catch{}finally{}if(h=zb(s,u,S,g),h!==null)return Vr(h,s,g),KR(h,u,g),!0}return!1}function jx(s,u,h,g){if(g={lane:2,revertLane:nw(),gesture:null,action:g,hasEagerState:!1,eagerState:null,next:null},Bp(s)){if(u)throw Error(r(479))}else u=zb(s,h,g,2),u!==null&&Vr(u,s,2)}function Bp(s){var u=s.alternate;return s===Et||u!==null&&u===Et}function GR(s,u){xc=Pp=!0;var h=s.pending;h===null?u.next=u:(u.next=h.next,h.next=u),s.pending=u}function KR(s,u,h){if((h&4194048)!==0){var g=u.lanes;g&=s.pendingLanes,h|=g,u.lanes=h,Do(s,h)}}var cf={readContext:hr,use:Dp,useCallback:En,useContext:En,useEffect:En,useImperativeHandle:En,useLayoutEffect:En,useInsertionEffect:En,useMemo:En,useReducer:En,useRef:En,useState:En,useDebugValue:En,useDeferredValue:En,useTransition:En,useSyncExternalStore:En,useId:En,useHostTransitionStatus:En,useFormState:En,useActionState:En,useOptimistic:En,useMemoCache:En,useCacheRefresh:En};cf.useEffectEvent=En;var WR={readContext:hr,use:Dp,useCallback:function(s,u){return Pr().memoizedState=[s,u===void 0?null:u],s},useContext:hr,useEffect:RR,useImperativeHandle:function(s,u,h){h=h!=null?h.concat([s]):null,$p(4194308,4,DR.bind(null,u,s),h)},useLayoutEffect:function(s,u){return $p(4194308,4,s,u)},useInsertionEffect:function(s,u){$p(4,2,s,u)},useMemo:function(s,u){var h=Pr();u=u===void 0?null:u;var g=s();if(Yo){_e(!0);try{s()}finally{_e(!1)}}return h.memoizedState=[g,u],g},useReducer:function(s,u,h){var g=Pr();if(h!==void 0){var S=h(u);if(Yo){_e(!0);try{h(u)}finally{_e(!1)}}}else S=u;return g.memoizedState=g.baseState=S,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:S},g.queue=s,s=s.dispatch=cX.bind(null,Et,s),[g.memoizedState,s]},useRef:function(s){var u=Pr();return s={current:s},u.memoizedState=s},useState:function(s){s=vx(s);var u=s.queue,h=HR.bind(null,Et,u);return u.dispatch=h,[s.memoizedState,h]},useDebugValue:xx,useDeferredValue:function(s,u){var h=Pr();return wx(h,s,u)},useTransition:function(){var s=vx(!1);return s=qR.bind(null,Et,s.queue,!0,!1),Pr().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,u,h){var g=Et,S=Pr();if(Bt){if(h===void 0)throw Error(r(407));h=h()}else{if(h=u(),on===null)throw Error(r(349));(It&127)!==0||pR(g,u,h)}S.memoizedState=h;var A={value:h,getSnapshot:u};return S.queue=A,RR(vR.bind(null,g,A,s),[s]),g.flags|=2048,_c(9,{destroy:void 0},gR.bind(null,g,A,h,u),null),h},useId:function(){var s=Pr(),u=on.identifierPrefix;if(Bt){var h=ma,g=ha;h=(g&~(1<<32-Ee(g)-1)).toString(32)+h,u="_"+u+"R_"+h,h=Mp++,0<h&&(u+="H"+h.toString(32)),u+="_"}else h=nX++,u="_"+u+"r_"+h.toString(32)+"_";return s.memoizedState=u},useHostTransitionStatus:Sx,useFormState:ER,useActionState:ER,useOptimistic:function(s){var u=Pr();u.memoizedState=u.baseState=s;var h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return u.queue=h,u=jx.bind(null,Et,!0,h),h.dispatch=u,[s,u]},useMemoCache:mx,useCacheRefresh:function(){return Pr().memoizedState=lX.bind(null,Et)},useEffectEvent:function(s){var u=Pr(),h={impl:s};return u.memoizedState=h,function(){if((Ht&2)!==0)throw Error(r(440));return h.impl.apply(void 0,arguments)}}},Nx={readContext:hr,use:Dp,useCallback:$R,useContext:hr,useEffect:bx,useImperativeHandle:IR,useInsertionEffect:MR,useLayoutEffect:kR,useMemo:LR,useReducer:Ip,useRef:CR,useState:function(){return Ip(Ha)},useDebugValue:xx,useDeferredValue:function(s,u){var h=kn();return BR(h,Zt.memoizedState,s,u)},useTransition:function(){var s=Ip(Ha)[0],u=kn().memoizedState;return[typeof s=="boolean"?s:of(s),u]},useSyncExternalStore:mR,useId:UR,useHostTransitionStatus:Sx,useFormState:AR,useActionState:AR,useOptimistic:function(s,u){var h=kn();return xR(h,Zt,s,u)},useMemoCache:mx,useCacheRefresh:VR};Nx.useEffectEvent=PR;var YR={readContext:hr,use:Dp,useCallback:$R,useContext:hr,useEffect:bx,useImperativeHandle:IR,useInsertionEffect:MR,useLayoutEffect:kR,useMemo:LR,useReducer:gx,useRef:CR,useState:function(){return gx(Ha)},useDebugValue:xx,useDeferredValue:function(s,u){var h=kn();return Zt===null?wx(h,s,u):BR(h,Zt.memoizedState,s,u)},useTransition:function(){var s=gx(Ha)[0],u=kn().memoizedState;return[typeof s=="boolean"?s:of(s),u]},useSyncExternalStore:mR,useId:UR,useHostTransitionStatus:Sx,useFormState:OR,useActionState:OR,useOptimistic:function(s,u){var h=kn();return Zt!==null?xR(h,Zt,s,u):(h.baseState=s,[s,h.queue.dispatch])},useMemoCache:mx,useCacheRefresh:VR};YR.useEffectEvent=PR;function Ex(s,u,h,g){u=s.memoizedState,h=h(g,u),h=h==null?u:p({},u,h),s.memoizedState=h,s.lanes===0&&(s.updateQueue.baseState=h)}var Ax={enqueueSetState:function(s,u,h){s=s._reactInternals;var g=ri(),S=Ms(g);S.payload=u,h!=null&&(S.callback=h),u=ks(s,S,g),u!==null&&(Vr(u,s,g),nf(u,s,g))},enqueueReplaceState:function(s,u,h){s=s._reactInternals;var g=ri(),S=Ms(g);S.tag=1,S.payload=u,h!=null&&(S.callback=h),u=ks(s,S,g),u!==null&&(Vr(u,s,g),nf(u,s,g))},enqueueForceUpdate:function(s,u){s=s._reactInternals;var h=ri(),g=Ms(h);g.tag=2,u!=null&&(g.callback=u),u=ks(s,g,h),u!==null&&(Vr(u,s,h),nf(u,s,h))}};function XR(s,u,h,g,S,A,M){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(g,A,M):u.prototype&&u.prototype.isPureReactComponent?!Wd(h,g)||!Wd(S,A):!0}function QR(s,u,h,g){s=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(h,g),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(h,g),u.state!==s&&Ax.enqueueReplaceState(u,u.state,null)}function Xo(s,u){var h=u;if("ref"in u){h={};for(var g in u)g!=="ref"&&(h[g]=u[g])}if(s=s.defaultProps){h===u&&(h=p({},h));for(var S in s)h[S]===void 0&&(h[S]=s[S])}return h}function JR(s){vp(s)}function ZR(s){console.error(s)}function eP(s){vp(s)}function qp(s,u){try{var h=s.onUncaughtError;h(u.value,{componentStack:u.stack})}catch(g){setTimeout(function(){throw g})}}function tP(s,u,h){try{var g=s.onCaughtError;g(h.value,{componentStack:h.stack,errorBoundary:u.tag===1?u.stateNode:null})}catch(S){setTimeout(function(){throw S})}}function Tx(s,u,h){return h=Ms(h),h.tag=3,h.payload={element:null},h.callback=function(){qp(s,u)},h}function nP(s){return s=Ms(s),s.tag=3,s}function rP(s,u,h,g){var S=h.type.getDerivedStateFromError;if(typeof S=="function"){var A=g.value;s.payload=function(){return S(A)},s.callback=function(){tP(u,h,g)}}var M=h.stateNode;M!==null&&typeof M.componentDidCatch=="function"&&(s.callback=function(){tP(u,h,g),typeof S!="function"&&(qs===null?qs=new Set([this]):qs.add(this));var L=g.stack;this.componentDidCatch(g.value,{componentStack:L!==null?L:""})})}function uX(s,u,h,g,S){if(h.flags|=32768,g!==null&&typeof g=="object"&&typeof g.then=="function"){if(u=h.alternate,u!==null&&mc(u,h,S,!0),h=Zr.current,h!==null){switch(h.tag){case 31:case 13:return Si===null?Jp():h.alternate===null&&An===0&&(An=3),h.flags&=-257,h.flags|=65536,h.lanes=S,g===Ap?h.flags|=16384:(u=h.updateQueue,u===null?h.updateQueue=new Set([g]):u.add(g),Zx(s,g,S)),!1;case 22:return h.flags|=65536,g===Ap?h.flags|=16384:(u=h.updateQueue,u===null?(u={transitions:null,markerInstances:null,retryQueue:new Set([g])},h.updateQueue=u):(h=u.retryQueue,h===null?u.retryQueue=new Set([g]):h.add(g)),Zx(s,g,S)),!1}throw Error(r(435,h.tag))}return Zx(s,g,S),Jp(),!1}if(Bt)return u=Zr.current,u!==null?((u.flags&65536)===0&&(u.flags|=256),u.flags|=65536,u.lanes=S,g!==Kb&&(s=Error(r(422),{cause:g}),Qd(bi(s,h)))):(g!==Kb&&(u=Error(r(423),{cause:g}),Qd(bi(u,h))),s=s.current.alternate,s.flags|=65536,S&=-S,s.lanes|=S,g=bi(g,h),S=Tx(s.stateNode,g,S),ix(s,S),An!==4&&(An=2)),!1;var A=Error(r(520),{cause:g});if(A=bi(A,h),vf===null?vf=[A]:vf.push(A),An!==4&&(An=2),u===null)return!0;g=bi(g,h),h=u;do{switch(h.tag){case 3:return h.flags|=65536,s=S&-S,h.lanes|=s,s=Tx(h.stateNode,g,s),ix(h,s),!1;case 1:if(u=h.type,A=h.stateNode,(h.flags&128)===0&&(typeof u.getDerivedStateFromError=="function"||A!==null&&typeof A.componentDidCatch=="function"&&(qs===null||!qs.has(A))))return h.flags|=65536,S&=-S,h.lanes|=S,S=nP(S),rP(S,s,h,g),ix(h,S),!1}h=h.return}while(h!==null);return!1}var Ox=Error(r(461)),zn=!1;function mr(s,u,h,g){u.child=s===null?oR(u,null,h,g):Wo(u,s.child,h,g)}function iP(s,u,h,g,S){h=h.render;var A=u.ref;if("ref"in g){var M={};for(var L in g)L!=="ref"&&(M[L]=g[L])}else M=g;return Vo(u),g=ux(s,u,h,M,A,S),L=dx(),s!==null&&!zn?(fx(s,u,S),Ga(s,u,S)):(Bt&&L&&Hb(u),u.flags|=1,mr(s,u,g,S),u.child)}function aP(s,u,h,g,S){if(s===null){var A=h.type;return typeof A=="function"&&!Fb(A)&&A.defaultProps===void 0&&h.compare===null?(u.tag=15,u.type=A,sP(s,u,A,g,S)):(s=wp(h.type,null,g,u,u.mode,S),s.ref=u.ref,s.return=u,u.child=s)}if(A=s.child,!$x(s,S)){var M=A.memoizedProps;if(h=h.compare,h=h!==null?h:Wd,h(M,g)&&s.ref===u.ref)return Ga(s,u,S)}return u.flags|=1,s=qa(A,g),s.ref=u.ref,s.return=u,u.child=s}function sP(s,u,h,g,S){if(s!==null){var A=s.memoizedProps;if(Wd(A,g)&&s.ref===u.ref)if(zn=!1,u.pendingProps=g=A,$x(s,S))(s.flags&131072)!==0&&(zn=!0);else return u.lanes=s.lanes,Ga(s,u,S)}return Cx(s,u,h,g,S)}function oP(s,u,h,g){var S=g.children,A=s!==null?s.memoizedState:null;if(s===null&&u.stateNode===null&&(u.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),g.mode==="hidden"){if((u.flags&128)!==0){if(A=A!==null?A.baseLanes|h:h,s!==null){for(g=u.child=s.child,S=0;g!==null;)S=S|g.lanes|g.childLanes,g=g.sibling;g=S&~A}else g=0,u.child=null;return lP(s,u,A,h,g)}if((h&536870912)!==0)u.memoizedState={baseLanes:0,cachePool:null},s!==null&&Np(u,A!==null?A.cachePool:null),A!==null?uR(u,A):sx(),dR(u);else return g=u.lanes=536870912,lP(s,u,A!==null?A.baseLanes|h:h,h,g)}else A!==null?(Np(u,A.cachePool),uR(u,A),Is(),u.memoizedState=null):(s!==null&&Np(u,null),sx(),Is());return mr(s,u,S,h),u.child}function uf(s,u){return s!==null&&s.tag===22||u.stateNode!==null||(u.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.sibling}function lP(s,u,h,g,S){var A=ex();return A=A===null?null:{parent:Bn._currentValue,pool:A},u.memoizedState={baseLanes:h,cachePool:A},s!==null&&Np(u,null),sx(),dR(u),s!==null&&mc(s,u,g,!0),u.childLanes=S,null}function zp(s,u){return u=Up({mode:u.mode,children:u.children},s.mode),u.ref=s.ref,s.child=u,u.return=s,u}function cP(s,u,h){return Wo(u,s.child,null,h),s=zp(u,u.pendingProps),s.flags|=2,ei(u),u.memoizedState=null,s}function dX(s,u,h){var g=u.pendingProps,S=(u.flags&128)!==0;if(u.flags&=-129,s===null){if(Bt){if(g.mode==="hidden")return s=zp(u,g),u.lanes=536870912,uf(null,s);if(lx(u),(s=gn)?(s=wM(s,_i),s=s!==null&&s.data==="&"?s:null,s!==null&&(u.memoizedState={dehydrated:s,treeContext:Ts!==null?{id:ha,overflow:ma}:null,retryLane:536870912,hydrationErrors:null},h=GC(s),h.return=u,u.child=h,fr=u,gn=null)):s=null,s===null)throw Cs(u);return u.lanes=536870912,null}return zp(u,g)}var A=s.memoizedState;if(A!==null){var M=A.dehydrated;if(lx(u),S)if(u.flags&256)u.flags&=-257,u=cP(s,u,h);else if(u.memoizedState!==null)u.child=s.child,u.flags|=128,u=null;else throw Error(r(558));else if(zn||mc(s,u,h,!1),S=(h&s.childLanes)!==0,zn||S){if(g=on,g!==null&&(M=sp(g,h),M!==0&&M!==A.retryLane))throw A.retryLane=M,qo(s,M),Vr(g,s,M),Ox;Jp(),u=cP(s,u,h)}else s=A.treeContext,gn=ji(M.nextSibling),fr=u,Bt=!0,Os=null,_i=!1,s!==null&&YC(u,s),u=zp(u,g),u.flags|=4096;return u}return s=qa(s.child,{mode:g.mode,children:g.children}),s.ref=u.ref,u.child=s,s.return=u,s}function Fp(s,u){var h=u.ref;if(h===null)s!==null&&s.ref!==null&&(u.flags|=4194816);else{if(typeof h!="function"&&typeof h!="object")throw Error(r(284));(s===null||s.ref!==h)&&(u.flags|=4194816)}}function Cx(s,u,h,g,S){return Vo(u),h=ux(s,u,h,g,void 0,S),g=dx(),s!==null&&!zn?(fx(s,u,S),Ga(s,u,S)):(Bt&&g&&Hb(u),u.flags|=1,mr(s,u,h,S),u.child)}function uP(s,u,h,g,S,A){return Vo(u),u.updateQueue=null,h=hR(u,g,h,S),fR(s),g=dx(),s!==null&&!zn?(fx(s,u,A),Ga(s,u,A)):(Bt&&g&&Hb(u),u.flags|=1,mr(s,u,h,A),u.child)}function dP(s,u,h,g,S){if(Vo(u),u.stateNode===null){var A=uc,M=h.contextType;typeof M=="object"&&M!==null&&(A=hr(M)),A=new h(g,A),u.memoizedState=A.state!==null&&A.state!==void 0?A.state:null,A.updater=Ax,u.stateNode=A,A._reactInternals=u,A=u.stateNode,A.props=g,A.state=u.memoizedState,A.refs={},nx(u),M=h.contextType,A.context=typeof M=="object"&&M!==null?hr(M):uc,A.state=u.memoizedState,M=h.getDerivedStateFromProps,typeof M=="function"&&(Ex(u,h,M,g),A.state=u.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof A.getSnapshotBeforeUpdate=="function"||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(M=A.state,typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount(),M!==A.state&&Ax.enqueueReplaceState(A,A.state,null),af(u,g,A,S),rf(),A.state=u.memoizedState),typeof A.componentDidMount=="function"&&(u.flags|=4194308),g=!0}else if(s===null){A=u.stateNode;var L=u.memoizedProps,W=Xo(h,L);A.props=W;var ue=A.context,ye=h.contextType;M=uc,typeof ye=="object"&&ye!==null&&(M=hr(ye));var Ne=h.getDerivedStateFromProps;ye=typeof Ne=="function"||typeof A.getSnapshotBeforeUpdate=="function",L=u.pendingProps!==L,ye||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(L||ue!==M)&&QR(u,A,g,M),Ps=!1;var fe=u.memoizedState;A.state=fe,af(u,g,A,S),rf(),ue=u.memoizedState,L||fe!==ue||Ps?(typeof Ne=="function"&&(Ex(u,h,Ne,g),ue=u.memoizedState),(W=Ps||XR(u,h,W,g,fe,ue,M))?(ye||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount()),typeof A.componentDidMount=="function"&&(u.flags|=4194308)):(typeof A.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=g,u.memoizedState=ue),A.props=g,A.state=ue,A.context=M,g=W):(typeof A.componentDidMount=="function"&&(u.flags|=4194308),g=!1)}else{A=u.stateNode,rx(s,u),M=u.memoizedProps,ye=Xo(h,M),A.props=ye,Ne=u.pendingProps,fe=A.context,ue=h.contextType,W=uc,typeof ue=="object"&&ue!==null&&(W=hr(ue)),L=h.getDerivedStateFromProps,(ue=typeof L=="function"||typeof A.getSnapshotBeforeUpdate=="function")||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(M!==Ne||fe!==W)&&QR(u,A,g,W),Ps=!1,fe=u.memoizedState,A.state=fe,af(u,g,A,S),rf();var ge=u.memoizedState;M!==Ne||fe!==ge||Ps||s!==null&&s.dependencies!==null&&Sp(s.dependencies)?(typeof L=="function"&&(Ex(u,h,L,g),ge=u.memoizedState),(ye=Ps||XR(u,h,ye,g,fe,ge,W)||s!==null&&s.dependencies!==null&&Sp(s.dependencies))?(ue||typeof A.UNSAFE_componentWillUpdate!="function"&&typeof A.componentWillUpdate!="function"||(typeof A.componentWillUpdate=="function"&&A.componentWillUpdate(g,ge,W),typeof A.UNSAFE_componentWillUpdate=="function"&&A.UNSAFE_componentWillUpdate(g,ge,W)),typeof A.componentDidUpdate=="function"&&(u.flags|=4),typeof A.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof A.componentDidUpdate!="function"||M===s.memoizedProps&&fe===s.memoizedState||(u.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||M===s.memoizedProps&&fe===s.memoizedState||(u.flags|=1024),u.memoizedProps=g,u.memoizedState=ge),A.props=g,A.state=ge,A.context=W,g=ye):(typeof A.componentDidUpdate!="function"||M===s.memoizedProps&&fe===s.memoizedState||(u.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||M===s.memoizedProps&&fe===s.memoizedState||(u.flags|=1024),g=!1)}return A=g,Fp(s,u),g=(u.flags&128)!==0,A||g?(A=u.stateNode,h=g&&typeof h.getDerivedStateFromError!="function"?null:A.render(),u.flags|=1,s!==null&&g?(u.child=Wo(u,s.child,null,S),u.child=Wo(u,null,h,S)):mr(s,u,h,S),u.memoizedState=A.state,s=u.child):s=Ga(s,u,S),s}function fP(s,u,h,g){return Fo(),u.flags|=256,mr(s,u,h,g),u.child}var Rx={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Px(s){return{baseLanes:s,cachePool:tR()}}function Mx(s,u,h){return s=s!==null?s.childLanes&~h:0,u&&(s|=ni),s}function hP(s,u,h){var g=u.pendingProps,S=!1,A=(u.flags&128)!==0,M;if((M=A)||(M=s!==null&&s.memoizedState===null?!1:(Mn.current&2)!==0),M&&(S=!0,u.flags&=-129),M=(u.flags&32)!==0,u.flags&=-33,s===null){if(Bt){if(S?Ds(u):Is(),(s=gn)?(s=wM(s,_i),s=s!==null&&s.data!=="&"?s:null,s!==null&&(u.memoizedState={dehydrated:s,treeContext:Ts!==null?{id:ha,overflow:ma}:null,retryLane:536870912,hydrationErrors:null},h=GC(s),h.return=u,u.child=h,fr=u,gn=null)):s=null,s===null)throw Cs(u);return pw(s)?u.lanes=32:u.lanes=536870912,null}var L=g.children;return g=g.fallback,S?(Is(),S=u.mode,L=Up({mode:"hidden",children:L},S),g=zo(g,S,h,null),L.return=u,g.return=u,L.sibling=g,u.child=L,g=u.child,g.memoizedState=Px(h),g.childLanes=Mx(s,M,h),u.memoizedState=Rx,uf(null,g)):(Ds(u),kx(u,L))}var W=s.memoizedState;if(W!==null&&(L=W.dehydrated,L!==null)){if(A)u.flags&256?(Ds(u),u.flags&=-257,u=Dx(s,u,h)):u.memoizedState!==null?(Is(),u.child=s.child,u.flags|=128,u=null):(Is(),L=g.fallback,S=u.mode,g=Up({mode:"visible",children:g.children},S),L=zo(L,S,h,null),L.flags|=2,g.return=u,L.return=u,g.sibling=L,u.child=g,Wo(u,s.child,null,h),g=u.child,g.memoizedState=Px(h),g.childLanes=Mx(s,M,h),u.memoizedState=Rx,u=uf(null,g));else if(Ds(u),pw(L)){if(M=L.nextSibling&&L.nextSibling.dataset,M)var ue=M.dgst;M=ue,g=Error(r(419)),g.stack="",g.digest=M,Qd({value:g,source:null,stack:null}),u=Dx(s,u,h)}else if(zn||mc(s,u,h,!1),M=(h&s.childLanes)!==0,zn||M){if(M=on,M!==null&&(g=sp(M,h),g!==0&&g!==W.retryLane))throw W.retryLane=g,qo(s,g),Vr(M,s,g),Ox;mw(L)||Jp(),u=Dx(s,u,h)}else mw(L)?(u.flags|=192,u.child=s.child,u=null):(s=W.treeContext,gn=ji(L.nextSibling),fr=u,Bt=!0,Os=null,_i=!1,s!==null&&YC(u,s),u=kx(u,g.children),u.flags|=4096);return u}return S?(Is(),L=g.fallback,S=u.mode,W=s.child,ue=W.sibling,g=qa(W,{mode:"hidden",children:g.children}),g.subtreeFlags=W.subtreeFlags&65011712,ue!==null?L=qa(ue,L):(L=zo(L,S,h,null),L.flags|=2),L.return=u,g.return=u,g.sibling=L,u.child=g,uf(null,g),g=u.child,L=s.child.memoizedState,L===null?L=Px(h):(S=L.cachePool,S!==null?(W=Bn._currentValue,S=S.parent!==W?{parent:W,pool:W}:S):S=tR(),L={baseLanes:L.baseLanes|h,cachePool:S}),g.memoizedState=L,g.childLanes=Mx(s,M,h),u.memoizedState=Rx,uf(s.child,g)):(Ds(u),h=s.child,s=h.sibling,h=qa(h,{mode:"visible",children:g.children}),h.return=u,h.sibling=null,s!==null&&(M=u.deletions,M===null?(u.deletions=[s],u.flags|=16):M.push(s)),u.child=h,u.memoizedState=null,h)}function kx(s,u){return u=Up({mode:"visible",children:u},s.mode),u.return=s,s.child=u}function Up(s,u){return s=Jr(22,s,null,u),s.lanes=0,s}function Dx(s,u,h){return Wo(u,s.child,null,h),s=kx(u,u.pendingProps.children),s.flags|=2,u.memoizedState=null,s}function mP(s,u,h){s.lanes|=u;var g=s.alternate;g!==null&&(g.lanes|=u),Xb(s.return,u,h)}function Ix(s,u,h,g,S,A){var M=s.memoizedState;M===null?s.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:g,tail:h,tailMode:S,treeForkCount:A}:(M.isBackwards=u,M.rendering=null,M.renderingStartTime=0,M.last=g,M.tail=h,M.tailMode=S,M.treeForkCount=A)}function pP(s,u,h){var g=u.pendingProps,S=g.revealOrder,A=g.tail;g=g.children;var M=Mn.current,L=(M&2)!==0;if(L?(M=M&1|2,u.flags|=128):M&=1,Z(Mn,M),mr(s,u,g,h),g=Bt?Xd:0,!L&&s!==null&&(s.flags&128)!==0)e:for(s=u.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&mP(s,h,u);else if(s.tag===19)mP(s,h,u);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===u)break e;for(;s.sibling===null;){if(s.return===null||s.return===u)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(S){case"forwards":for(h=u.child,S=null;h!==null;)s=h.alternate,s!==null&&Rp(s)===null&&(S=h),h=h.sibling;h=S,h===null?(S=u.child,u.child=null):(S=h.sibling,h.sibling=null),Ix(u,!1,S,h,A,g);break;case"backwards":case"unstable_legacy-backwards":for(h=null,S=u.child,u.child=null;S!==null;){if(s=S.alternate,s!==null&&Rp(s)===null){u.child=S;break}s=S.sibling,S.sibling=h,h=S,S=s}Ix(u,!0,h,null,A,g);break;case"together":Ix(u,!1,null,null,void 0,g);break;default:u.memoizedState=null}return u.child}function Ga(s,u,h){if(s!==null&&(u.dependencies=s.dependencies),Bs|=u.lanes,(h&u.childLanes)===0)if(s!==null){if(mc(s,u,h,!1),(h&u.childLanes)===0)return null}else return null;if(s!==null&&u.child!==s.child)throw Error(r(153));if(u.child!==null){for(s=u.child,h=qa(s,s.pendingProps),u.child=h,h.return=u;s.sibling!==null;)s=s.sibling,h=h.sibling=qa(s,s.pendingProps),h.return=u;h.sibling=null}return u.child}function $x(s,u){return(s.lanes&u)!==0?!0:(s=s.dependencies,!!(s!==null&&Sp(s)))}function fX(s,u,h){switch(u.tag){case 3:me(u,u.stateNode.containerInfo),Rs(u,Bn,s.memoizedState.cache),Fo();break;case 27:case 5:pe(u);break;case 4:me(u,u.stateNode.containerInfo);break;case 10:Rs(u,u.type,u.memoizedProps.value);break;case 31:if(u.memoizedState!==null)return u.flags|=128,lx(u),null;break;case 13:var g=u.memoizedState;if(g!==null)return g.dehydrated!==null?(Ds(u),u.flags|=128,null):(h&u.child.childLanes)!==0?hP(s,u,h):(Ds(u),s=Ga(s,u,h),s!==null?s.sibling:null);Ds(u);break;case 19:var S=(s.flags&128)!==0;if(g=(h&u.childLanes)!==0,g||(mc(s,u,h,!1),g=(h&u.childLanes)!==0),S){if(g)return pP(s,u,h);u.flags|=128}if(S=u.memoizedState,S!==null&&(S.rendering=null,S.tail=null,S.lastEffect=null),Z(Mn,Mn.current),g)break;return null;case 22:return u.lanes=0,oP(s,u,h,u.pendingProps);case 24:Rs(u,Bn,s.memoizedState.cache)}return Ga(s,u,h)}function gP(s,u,h){if(s!==null)if(s.memoizedProps!==u.pendingProps)zn=!0;else{if(!$x(s,h)&&(u.flags&128)===0)return zn=!1,fX(s,u,h);zn=(s.flags&131072)!==0}else zn=!1,Bt&&(u.flags&1048576)!==0&&WC(u,Xd,u.index);switch(u.lanes=0,u.tag){case 16:e:{var g=u.pendingProps;if(s=Go(u.elementType),u.type=s,typeof s=="function")Fb(s)?(g=Xo(s,g),u.tag=1,u=dP(null,u,s,g,h)):(u.tag=0,u=Cx(null,u,s,g,h));else{if(s!=null){var S=s.$$typeof;if(S===O){u.tag=11,u=iP(null,u,s,g,h);break e}else if(S===R){u.tag=14,u=aP(null,u,s,g,h);break e}}throw u=V(s)||s,Error(r(306,u,""))}}return u;case 0:return Cx(s,u,u.type,u.pendingProps,h);case 1:return g=u.type,S=Xo(g,u.pendingProps),dP(s,u,g,S,h);case 3:e:{if(me(u,u.stateNode.containerInfo),s===null)throw Error(r(387));g=u.pendingProps;var A=u.memoizedState;S=A.element,rx(s,u),af(u,g,null,h);var M=u.memoizedState;if(g=M.cache,Rs(u,Bn,g),g!==A.cache&&Qb(u,[Bn],h,!0),rf(),g=M.element,A.isDehydrated)if(A={element:g,isDehydrated:!1,cache:M.cache},u.updateQueue.baseState=A,u.memoizedState=A,u.flags&256){u=fP(s,u,g,h);break e}else if(g!==S){S=bi(Error(r(424)),u),Qd(S),u=fP(s,u,g,h);break e}else{switch(s=u.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(gn=ji(s.firstChild),fr=u,Bt=!0,Os=null,_i=!0,h=oR(u,null,g,h),u.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling}else{if(Fo(),g===S){u=Ga(s,u,h);break e}mr(s,u,g,h)}u=u.child}return u;case 26:return Fp(s,u),s===null?(h=AM(u.type,null,u.pendingProps,null))?u.memoizedState=h:Bt||(h=u.type,s=u.pendingProps,g=ag(ae.current).createElement(h),g[dr]=u,g[Lr]=s,pr(g,h,s),ar(g),u.stateNode=g):u.memoizedState=AM(u.type,s.memoizedProps,u.pendingProps,s.memoizedState),null;case 27:return pe(u),s===null&&Bt&&(g=u.stateNode=jM(u.type,u.pendingProps,ae.current),fr=u,_i=!0,S=gn,Vs(u.type)?(gw=S,gn=ji(g.firstChild)):gn=S),mr(s,u,u.pendingProps.children,h),Fp(s,u),s===null&&(u.flags|=4194304),u.child;case 5:return s===null&&Bt&&((S=g=gn)&&(g=FX(g,u.type,u.pendingProps,_i),g!==null?(u.stateNode=g,fr=u,gn=ji(g.firstChild),_i=!1,S=!0):S=!1),S||Cs(u)),pe(u),S=u.type,A=u.pendingProps,M=s!==null?s.memoizedProps:null,g=A.children,dw(S,A)?g=null:M!==null&&dw(S,M)&&(u.flags|=32),u.memoizedState!==null&&(S=ux(s,u,rX,null,null,h),Nf._currentValue=S),Fp(s,u),mr(s,u,g,h),u.child;case 6:return s===null&&Bt&&((s=h=gn)&&(h=UX(h,u.pendingProps,_i),h!==null?(u.stateNode=h,fr=u,gn=null,s=!0):s=!1),s||Cs(u)),null;case 13:return hP(s,u,h);case 4:return me(u,u.stateNode.containerInfo),g=u.pendingProps,s===null?u.child=Wo(u,null,g,h):mr(s,u,g,h),u.child;case 11:return iP(s,u,u.type,u.pendingProps,h);case 7:return mr(s,u,u.pendingProps,h),u.child;case 8:return mr(s,u,u.pendingProps.children,h),u.child;case 12:return mr(s,u,u.pendingProps.children,h),u.child;case 10:return g=u.pendingProps,Rs(u,u.type,g.value),mr(s,u,g.children,h),u.child;case 9:return S=u.type._context,g=u.pendingProps.children,Vo(u),S=hr(S),g=g(S),u.flags|=1,mr(s,u,g,h),u.child;case 14:return aP(s,u,u.type,u.pendingProps,h);case 15:return sP(s,u,u.type,u.pendingProps,h);case 19:return pP(s,u,h);case 31:return dX(s,u,h);case 22:return oP(s,u,h,u.pendingProps);case 24:return Vo(u),g=hr(Bn),s===null?(S=ex(),S===null&&(S=on,A=Jb(),S.pooledCache=A,A.refCount++,A!==null&&(S.pooledCacheLanes|=h),S=A),u.memoizedState={parent:g,cache:S},nx(u),Rs(u,Bn,S)):((s.lanes&h)!==0&&(rx(s,u),af(u,null,null,h),rf()),S=s.memoizedState,A=u.memoizedState,S.parent!==g?(S={parent:g,cache:g},u.memoizedState=S,u.lanes===0&&(u.memoizedState=u.updateQueue.baseState=S),Rs(u,Bn,g)):(g=A.cache,Rs(u,Bn,g),g!==S.cache&&Qb(u,[Bn],h,!0))),mr(s,u,u.pendingProps.children,h),u.child;case 29:throw u.pendingProps}throw Error(r(156,u.tag))}function Ka(s){s.flags|=4}function Lx(s,u,h,g,S){if((u=(s.mode&32)!==0)&&(u=!1),u){if(s.flags|=16777216,(S&335544128)===S)if(s.stateNode.complete)s.flags|=8192;else if(UP())s.flags|=8192;else throw Ko=Ap,tx}else s.flags&=-16777217}function vP(s,u){if(u.type!=="stylesheet"||(u.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!PM(u))if(UP())s.flags|=8192;else throw Ko=Ap,tx}function Vp(s,u){u!==null&&(s.flags|=4),s.flags&16384&&(u=s.tag!==22?bn():536870912,s.lanes|=u,Ec|=u)}function df(s,u){if(!Bt)switch(s.tailMode){case"hidden":u=s.tail;for(var h=null;u!==null;)u.alternate!==null&&(h=u),u=u.sibling;h===null?s.tail=null:h.sibling=null;break;case"collapsed":h=s.tail;for(var g=null;h!==null;)h.alternate!==null&&(g=h),h=h.sibling;g===null?u||s.tail===null?s.tail=null:s.tail.sibling=null:g.sibling=null}}function vn(s){var u=s.alternate!==null&&s.alternate.child===s.child,h=0,g=0;if(u)for(var S=s.child;S!==null;)h|=S.lanes|S.childLanes,g|=S.subtreeFlags&65011712,g|=S.flags&65011712,S.return=s,S=S.sibling;else for(S=s.child;S!==null;)h|=S.lanes|S.childLanes,g|=S.subtreeFlags,g|=S.flags,S.return=s,S=S.sibling;return s.subtreeFlags|=g,s.childLanes=h,u}function hX(s,u,h){var g=u.pendingProps;switch(Gb(u),u.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return vn(u),null;case 1:return vn(u),null;case 3:return h=u.stateNode,g=null,s!==null&&(g=s.memoizedState.cache),u.memoizedState.cache!==g&&(u.flags|=2048),Ua(Bn),oe(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(s===null||s.child===null)&&(hc(u)?Ka(u):s===null||s.memoizedState.isDehydrated&&(u.flags&256)===0||(u.flags|=1024,Wb())),vn(u),null;case 26:var S=u.type,A=u.memoizedState;return s===null?(Ka(u),A!==null?(vn(u),vP(u,A)):(vn(u),Lx(u,S,null,g,h))):A?A!==s.memoizedState?(Ka(u),vn(u),vP(u,A)):(vn(u),u.flags&=-16777217):(s=s.memoizedProps,s!==g&&Ka(u),vn(u),Lx(u,S,s,g,h)),null;case 27:if(we(u),h=ae.current,S=u.type,s!==null&&u.stateNode!=null)s.memoizedProps!==g&&Ka(u);else{if(!g){if(u.stateNode===null)throw Error(r(166));return vn(u),null}s=le.current,hc(u)?XC(u):(s=jM(S,g,h),u.stateNode=s,Ka(u))}return vn(u),null;case 5:if(we(u),S=u.type,s!==null&&u.stateNode!=null)s.memoizedProps!==g&&Ka(u);else{if(!g){if(u.stateNode===null)throw Error(r(166));return vn(u),null}if(A=le.current,hc(u))XC(u);else{var M=ag(ae.current);switch(A){case 1:A=M.createElementNS("http://www.w3.org/2000/svg",S);break;case 2:A=M.createElementNS("http://www.w3.org/1998/Math/MathML",S);break;default:switch(S){case"svg":A=M.createElementNS("http://www.w3.org/2000/svg",S);break;case"math":A=M.createElementNS("http://www.w3.org/1998/Math/MathML",S);break;case"script":A=M.createElement("div"),A.innerHTML="<script><\/script>",A=A.removeChild(A.firstChild);break;case"select":A=typeof g.is=="string"?M.createElement("select",{is:g.is}):M.createElement("select"),g.multiple?A.multiple=!0:g.size&&(A.size=g.size);break;default:A=typeof g.is=="string"?M.createElement(S,{is:g.is}):M.createElement(S)}}A[dr]=u,A[Lr]=g;e:for(M=u.child;M!==null;){if(M.tag===5||M.tag===6)A.appendChild(M.stateNode);else if(M.tag!==4&&M.tag!==27&&M.child!==null){M.child.return=M,M=M.child;continue}if(M===u)break e;for(;M.sibling===null;){if(M.return===null||M.return===u)break e;M=M.return}M.sibling.return=M.return,M=M.sibling}u.stateNode=A;e:switch(pr(A,S,g),S){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break e;case"img":g=!0;break e;default:g=!1}g&&Ka(u)}}return vn(u),Lx(u,u.type,s===null?null:s.memoizedProps,u.pendingProps,h),null;case 6:if(s&&u.stateNode!=null)s.memoizedProps!==g&&Ka(u);else{if(typeof g!="string"&&u.stateNode===null)throw Error(r(166));if(s=ae.current,hc(u)){if(s=u.stateNode,h=u.memoizedProps,g=null,S=fr,S!==null)switch(S.tag){case 27:case 5:g=S.memoizedProps}s[dr]=u,s=!!(s.nodeValue===h||g!==null&&g.suppressHydrationWarning===!0||hM(s.nodeValue,h)),s||Cs(u,!0)}else s=ag(s).createTextNode(g),s[dr]=u,u.stateNode=s}return vn(u),null;case 31:if(h=u.memoizedState,s===null||s.memoizedState!==null){if(g=hc(u),h!==null){if(s===null){if(!g)throw Error(r(318));if(s=u.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(557));s[dr]=u}else Fo(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;vn(u),s=!1}else h=Wb(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=h),s=!0;if(!s)return u.flags&256?(ei(u),u):(ei(u),null);if((u.flags&128)!==0)throw Error(r(558))}return vn(u),null;case 13:if(g=u.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(S=hc(u),g!==null&&g.dehydrated!==null){if(s===null){if(!S)throw Error(r(318));if(S=u.memoizedState,S=S!==null?S.dehydrated:null,!S)throw Error(r(317));S[dr]=u}else Fo(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;vn(u),S=!1}else S=Wb(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=S),S=!0;if(!S)return u.flags&256?(ei(u),u):(ei(u),null)}return ei(u),(u.flags&128)!==0?(u.lanes=h,u):(h=g!==null,s=s!==null&&s.memoizedState!==null,h&&(g=u.child,S=null,g.alternate!==null&&g.alternate.memoizedState!==null&&g.alternate.memoizedState.cachePool!==null&&(S=g.alternate.memoizedState.cachePool.pool),A=null,g.memoizedState!==null&&g.memoizedState.cachePool!==null&&(A=g.memoizedState.cachePool.pool),A!==S&&(g.flags|=2048)),h!==s&&h&&(u.child.flags|=8192),Vp(u,u.updateQueue),vn(u),null);case 4:return oe(),s===null&&sw(u.stateNode.containerInfo),vn(u),null;case 10:return Ua(u.type),vn(u),null;case 19:if(K(Mn),g=u.memoizedState,g===null)return vn(u),null;if(S=(u.flags&128)!==0,A=g.rendering,A===null)if(S)df(g,!1);else{if(An!==0||s!==null&&(s.flags&128)!==0)for(s=u.child;s!==null;){if(A=Rp(s),A!==null){for(u.flags|=128,df(g,!1),s=A.updateQueue,u.updateQueue=s,Vp(u,s),u.subtreeFlags=0,s=h,h=u.child;h!==null;)HC(h,s),h=h.sibling;return Z(Mn,Mn.current&1|2),Bt&&za(u,g.treeForkCount),u.child}s=s.sibling}g.tail!==null&&Ue()>Yp&&(u.flags|=128,S=!0,df(g,!1),u.lanes=4194304)}else{if(!S)if(s=Rp(A),s!==null){if(u.flags|=128,S=!0,s=s.updateQueue,u.updateQueue=s,Vp(u,s),df(g,!0),g.tail===null&&g.tailMode==="hidden"&&!A.alternate&&!Bt)return vn(u),null}else 2*Ue()-g.renderingStartTime>Yp&&h!==536870912&&(u.flags|=128,S=!0,df(g,!1),u.lanes=4194304);g.isBackwards?(A.sibling=u.child,u.child=A):(s=g.last,s!==null?s.sibling=A:u.child=A,g.last=A)}return g.tail!==null?(s=g.tail,g.rendering=s,g.tail=s.sibling,g.renderingStartTime=Ue(),s.sibling=null,h=Mn.current,Z(Mn,S?h&1|2:h&1),Bt&&za(u,g.treeForkCount),s):(vn(u),null);case 22:case 23:return ei(u),ox(),g=u.memoizedState!==null,s!==null?s.memoizedState!==null!==g&&(u.flags|=8192):g&&(u.flags|=8192),g?(h&536870912)!==0&&(u.flags&128)===0&&(vn(u),u.subtreeFlags&6&&(u.flags|=8192)):vn(u),h=u.updateQueue,h!==null&&Vp(u,h.retryQueue),h=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(h=s.memoizedState.cachePool.pool),g=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),g!==h&&(u.flags|=2048),s!==null&&K(Ho),null;case 24:return h=null,s!==null&&(h=s.memoizedState.cache),u.memoizedState.cache!==h&&(u.flags|=2048),Ua(Bn),vn(u),null;case 25:return null;case 30:return null}throw Error(r(156,u.tag))}function mX(s,u){switch(Gb(u),u.tag){case 1:return s=u.flags,s&65536?(u.flags=s&-65537|128,u):null;case 3:return Ua(Bn),oe(),s=u.flags,(s&65536)!==0&&(s&128)===0?(u.flags=s&-65537|128,u):null;case 26:case 27:case 5:return we(u),null;case 31:if(u.memoizedState!==null){if(ei(u),u.alternate===null)throw Error(r(340));Fo()}return s=u.flags,s&65536?(u.flags=s&-65537|128,u):null;case 13:if(ei(u),s=u.memoizedState,s!==null&&s.dehydrated!==null){if(u.alternate===null)throw Error(r(340));Fo()}return s=u.flags,s&65536?(u.flags=s&-65537|128,u):null;case 19:return K(Mn),null;case 4:return oe(),null;case 10:return Ua(u.type),null;case 22:case 23:return ei(u),ox(),s!==null&&K(Ho),s=u.flags,s&65536?(u.flags=s&-65537|128,u):null;case 24:return Ua(Bn),null;case 25:return null;default:return null}}function yP(s,u){switch(Gb(u),u.tag){case 3:Ua(Bn),oe();break;case 26:case 27:case 5:we(u);break;case 4:oe();break;case 31:u.memoizedState!==null&&ei(u);break;case 13:ei(u);break;case 19:K(Mn);break;case 10:Ua(u.type);break;case 22:case 23:ei(u),ox(),s!==null&&K(Ho);break;case 24:Ua(Bn)}}function ff(s,u){try{var h=u.updateQueue,g=h!==null?h.lastEffect:null;if(g!==null){var S=g.next;h=S;do{if((h.tag&s)===s){g=void 0;var A=h.create,M=h.inst;g=A(),M.destroy=g}h=h.next}while(h!==S)}}catch(L){Qt(u,u.return,L)}}function $s(s,u,h){try{var g=u.updateQueue,S=g!==null?g.lastEffect:null;if(S!==null){var A=S.next;g=A;do{if((g.tag&s)===s){var M=g.inst,L=M.destroy;if(L!==void 0){M.destroy=void 0,S=u;var W=h,ue=L;try{ue()}catch(ye){Qt(S,W,ye)}}}g=g.next}while(g!==A)}}catch(ye){Qt(u,u.return,ye)}}function bP(s){var u=s.updateQueue;if(u!==null){var h=s.stateNode;try{cR(u,h)}catch(g){Qt(s,s.return,g)}}}function xP(s,u,h){h.props=Xo(s.type,s.memoizedProps),h.state=s.memoizedState;try{h.componentWillUnmount()}catch(g){Qt(s,u,g)}}function hf(s,u){try{var h=s.ref;if(h!==null){switch(s.tag){case 26:case 27:case 5:var g=s.stateNode;break;case 30:g=s.stateNode;break;default:g=s.stateNode}typeof h=="function"?s.refCleanup=h(g):h.current=g}}catch(S){Qt(s,u,S)}}function pa(s,u){var h=s.ref,g=s.refCleanup;if(h!==null)if(typeof g=="function")try{g()}catch(S){Qt(s,u,S)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof h=="function")try{h(null)}catch(S){Qt(s,u,S)}else h.current=null}function wP(s){var u=s.type,h=s.memoizedProps,g=s.stateNode;try{e:switch(u){case"button":case"input":case"select":case"textarea":h.autoFocus&&g.focus();break e;case"img":h.src?g.src=h.src:h.srcSet&&(g.srcset=h.srcSet)}}catch(S){Qt(s,s.return,S)}}function Bx(s,u,h){try{var g=s.stateNode;IX(g,s.type,h,u),g[Lr]=u}catch(S){Qt(s,s.return,S)}}function _P(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&Vs(s.type)||s.tag===4}function qx(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||_P(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&Vs(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function zx(s,u,h){var g=s.tag;if(g===5||g===6)s=s.stateNode,u?(h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h).insertBefore(s,u):(u=h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h,u.appendChild(s),h=h._reactRootContainer,h!=null||u.onclick!==null||(u.onclick=La));else if(g!==4&&(g===27&&Vs(s.type)&&(h=s.stateNode,u=null),s=s.child,s!==null))for(zx(s,u,h),s=s.sibling;s!==null;)zx(s,u,h),s=s.sibling}function Hp(s,u,h){var g=s.tag;if(g===5||g===6)s=s.stateNode,u?h.insertBefore(s,u):h.appendChild(s);else if(g!==4&&(g===27&&Vs(s.type)&&(h=s.stateNode),s=s.child,s!==null))for(Hp(s,u,h),s=s.sibling;s!==null;)Hp(s,u,h),s=s.sibling}function SP(s){var u=s.stateNode,h=s.memoizedProps;try{for(var g=s.type,S=u.attributes;S.length;)u.removeAttributeNode(S[0]);pr(u,g,h),u[dr]=s,u[Lr]=h}catch(A){Qt(s,s.return,A)}}var Wa=!1,Fn=!1,Fx=!1,jP=typeof WeakSet=="function"?WeakSet:Set,sr=null;function pX(s,u){if(s=s.containerInfo,cw=fg,s=IC(s),Db(s)){if("selectionStart"in s)var h={start:s.selectionStart,end:s.selectionEnd};else e:{h=(h=s.ownerDocument)&&h.defaultView||window;var g=h.getSelection&&h.getSelection();if(g&&g.rangeCount!==0){h=g.anchorNode;var S=g.anchorOffset,A=g.focusNode;g=g.focusOffset;try{h.nodeType,A.nodeType}catch{h=null;break e}var M=0,L=-1,W=-1,ue=0,ye=0,Ne=s,fe=null;t:for(;;){for(var ge;Ne!==h||S!==0&&Ne.nodeType!==3||(L=M+S),Ne!==A||g!==0&&Ne.nodeType!==3||(W=M+g),Ne.nodeType===3&&(M+=Ne.nodeValue.length),(ge=Ne.firstChild)!==null;)fe=Ne,Ne=ge;for(;;){if(Ne===s)break t;if(fe===h&&++ue===S&&(L=M),fe===A&&++ye===g&&(W=M),(ge=Ne.nextSibling)!==null)break;Ne=fe,fe=Ne.parentNode}Ne=ge}h=L===-1||W===-1?null:{start:L,end:W}}else h=null}h=h||{start:0,end:0}}else h=null;for(uw={focusedElem:s,selectionRange:h},fg=!1,sr=u;sr!==null;)if(u=sr,s=u.child,(u.subtreeFlags&1028)!==0&&s!==null)s.return=u,sr=s;else for(;sr!==null;){switch(u=sr,A=u.alternate,s=u.flags,u.tag){case 0:if((s&4)!==0&&(s=u.updateQueue,s=s!==null?s.events:null,s!==null))for(h=0;h<s.length;h++)S=s[h],S.ref.impl=S.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&A!==null){s=void 0,h=u,S=A.memoizedProps,A=A.memoizedState,g=h.stateNode;try{var He=Xo(h.type,S);s=g.getSnapshotBeforeUpdate(He,A),g.__reactInternalSnapshotBeforeUpdate=s}catch(ht){Qt(h,h.return,ht)}}break;case 3:if((s&1024)!==0){if(s=u.stateNode.containerInfo,h=s.nodeType,h===9)hw(s);else if(h===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":hw(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(r(163))}if(s=u.sibling,s!==null){s.return=u.return,sr=s;break}sr=u.return}}function NP(s,u,h){var g=h.flags;switch(h.tag){case 0:case 11:case 15:Xa(s,h),g&4&&ff(5,h);break;case 1:if(Xa(s,h),g&4)if(s=h.stateNode,u===null)try{s.componentDidMount()}catch(M){Qt(h,h.return,M)}else{var S=Xo(h.type,u.memoizedProps);u=u.memoizedState;try{s.componentDidUpdate(S,u,s.__reactInternalSnapshotBeforeUpdate)}catch(M){Qt(h,h.return,M)}}g&64&&bP(h),g&512&&hf(h,h.return);break;case 3:if(Xa(s,h),g&64&&(s=h.updateQueue,s!==null)){if(u=null,h.child!==null)switch(h.child.tag){case 27:case 5:u=h.child.stateNode;break;case 1:u=h.child.stateNode}try{cR(s,u)}catch(M){Qt(h,h.return,M)}}break;case 27:u===null&&g&4&&SP(h);case 26:case 5:Xa(s,h),u===null&&g&4&&wP(h),g&512&&hf(h,h.return);break;case 12:Xa(s,h);break;case 31:Xa(s,h),g&4&&TP(s,h);break;case 13:Xa(s,h),g&4&&OP(s,h),g&64&&(s=h.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(h=jX.bind(null,h),VX(s,h))));break;case 22:if(g=h.memoizedState!==null||Wa,!g){u=u!==null&&u.memoizedState!==null||Fn,S=Wa;var A=Fn;Wa=g,(Fn=u)&&!A?Qa(s,h,(h.subtreeFlags&8772)!==0):Xa(s,h),Wa=S,Fn=A}break;case 30:break;default:Xa(s,h)}}function EP(s){var u=s.alternate;u!==null&&(s.alternate=null,EP(u)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(u=s.stateNode,u!==null&&yb(u)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var xn=null,qr=!1;function Ya(s,u,h){for(h=h.child;h!==null;)AP(s,u,h),h=h.sibling}function AP(s,u,h){if(X&&typeof X.onCommitFiberUnmount=="function")try{X.onCommitFiberUnmount(se,h)}catch{}switch(h.tag){case 26:Fn||pa(h,u),Ya(s,u,h),h.memoizedState?h.memoizedState.count--:h.stateNode&&(h=h.stateNode,h.parentNode.removeChild(h));break;case 27:Fn||pa(h,u);var g=xn,S=qr;Vs(h.type)&&(xn=h.stateNode,qr=!1),Ya(s,u,h),_f(h.stateNode),xn=g,qr=S;break;case 5:Fn||pa(h,u);case 6:if(g=xn,S=qr,xn=null,Ya(s,u,h),xn=g,qr=S,xn!==null)if(qr)try{(xn.nodeType===9?xn.body:xn.nodeName==="HTML"?xn.ownerDocument.body:xn).removeChild(h.stateNode)}catch(A){Qt(h,u,A)}else try{xn.removeChild(h.stateNode)}catch(A){Qt(h,u,A)}break;case 18:xn!==null&&(qr?(s=xn,bM(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,h.stateNode),kc(s)):bM(xn,h.stateNode));break;case 4:g=xn,S=qr,xn=h.stateNode.containerInfo,qr=!0,Ya(s,u,h),xn=g,qr=S;break;case 0:case 11:case 14:case 15:$s(2,h,u),Fn||$s(4,h,u),Ya(s,u,h);break;case 1:Fn||(pa(h,u),g=h.stateNode,typeof g.componentWillUnmount=="function"&&xP(h,u,g)),Ya(s,u,h);break;case 21:Ya(s,u,h);break;case 22:Fn=(g=Fn)||h.memoizedState!==null,Ya(s,u,h),Fn=g;break;default:Ya(s,u,h)}}function TP(s,u){if(u.memoizedState===null&&(s=u.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{kc(s)}catch(h){Qt(u,u.return,h)}}}function OP(s,u){if(u.memoizedState===null&&(s=u.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{kc(s)}catch(h){Qt(u,u.return,h)}}function gX(s){switch(s.tag){case 31:case 13:case 19:var u=s.stateNode;return u===null&&(u=s.stateNode=new jP),u;case 22:return s=s.stateNode,u=s._retryCache,u===null&&(u=s._retryCache=new jP),u;default:throw Error(r(435,s.tag))}}function Gp(s,u){var h=gX(s);u.forEach(function(g){if(!h.has(g)){h.add(g);var S=NX.bind(null,s,g);g.then(S,S)}})}function zr(s,u){var h=u.deletions;if(h!==null)for(var g=0;g<h.length;g++){var S=h[g],A=s,M=u,L=M;e:for(;L!==null;){switch(L.tag){case 27:if(Vs(L.type)){xn=L.stateNode,qr=!1;break e}break;case 5:xn=L.stateNode,qr=!1;break e;case 3:case 4:xn=L.stateNode.containerInfo,qr=!0;break e}L=L.return}if(xn===null)throw Error(r(160));AP(A,M,S),xn=null,qr=!1,A=S.alternate,A!==null&&(A.return=null),S.return=null}if(u.subtreeFlags&13886)for(u=u.child;u!==null;)CP(u,s),u=u.sibling}var Vi=null;function CP(s,u){var h=s.alternate,g=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:zr(u,s),Fr(s),g&4&&($s(3,s,s.return),ff(3,s),$s(5,s,s.return));break;case 1:zr(u,s),Fr(s),g&512&&(Fn||h===null||pa(h,h.return)),g&64&&Wa&&(s=s.updateQueue,s!==null&&(g=s.callbacks,g!==null&&(h=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=h===null?g:h.concat(g))));break;case 26:var S=Vi;if(zr(u,s),Fr(s),g&512&&(Fn||h===null||pa(h,h.return)),g&4){var A=h!==null?h.memoizedState:null;if(g=s.memoizedState,h===null)if(g===null)if(s.stateNode===null){e:{g=s.type,h=s.memoizedProps,S=S.ownerDocument||S;t:switch(g){case"title":A=S.getElementsByTagName("title")[0],(!A||A[Bd]||A[dr]||A.namespaceURI==="http://www.w3.org/2000/svg"||A.hasAttribute("itemprop"))&&(A=S.createElement(g),S.head.insertBefore(A,S.querySelector("head > title"))),pr(A,g,h),A[dr]=s,ar(A),g=A;break e;case"link":var M=CM("link","href",S).get(g+(h.href||""));if(M){for(var L=0;L<M.length;L++)if(A=M[L],A.getAttribute("href")===(h.href==null||h.href===""?null:h.href)&&A.getAttribute("rel")===(h.rel==null?null:h.rel)&&A.getAttribute("title")===(h.title==null?null:h.title)&&A.getAttribute("crossorigin")===(h.crossOrigin==null?null:h.crossOrigin)){M.splice(L,1);break t}}A=S.createElement(g),pr(A,g,h),S.head.appendChild(A);break;case"meta":if(M=CM("meta","content",S).get(g+(h.content||""))){for(L=0;L<M.length;L++)if(A=M[L],A.getAttribute("content")===(h.content==null?null:""+h.content)&&A.getAttribute("name")===(h.name==null?null:h.name)&&A.getAttribute("property")===(h.property==null?null:h.property)&&A.getAttribute("http-equiv")===(h.httpEquiv==null?null:h.httpEquiv)&&A.getAttribute("charset")===(h.charSet==null?null:h.charSet)){M.splice(L,1);break t}}A=S.createElement(g),pr(A,g,h),S.head.appendChild(A);break;default:throw Error(r(468,g))}A[dr]=s,ar(A),g=A}s.stateNode=g}else RM(S,s.type,s.stateNode);else s.stateNode=OM(S,g,s.memoizedProps);else A!==g?(A===null?h.stateNode!==null&&(h=h.stateNode,h.parentNode.removeChild(h)):A.count--,g===null?RM(S,s.type,s.stateNode):OM(S,g,s.memoizedProps)):g===null&&s.stateNode!==null&&Bx(s,s.memoizedProps,h.memoizedProps)}break;case 27:zr(u,s),Fr(s),g&512&&(Fn||h===null||pa(h,h.return)),h!==null&&g&4&&Bx(s,s.memoizedProps,h.memoizedProps);break;case 5:if(zr(u,s),Fr(s),g&512&&(Fn||h===null||pa(h,h.return)),s.flags&32){S=s.stateNode;try{rc(S,"")}catch(He){Qt(s,s.return,He)}}g&4&&s.stateNode!=null&&(S=s.memoizedProps,Bx(s,S,h!==null?h.memoizedProps:S)),g&1024&&(Fx=!0);break;case 6:if(zr(u,s),Fr(s),g&4){if(s.stateNode===null)throw Error(r(162));g=s.memoizedProps,h=s.stateNode;try{h.nodeValue=g}catch(He){Qt(s,s.return,He)}}break;case 3:if(lg=null,S=Vi,Vi=sg(u.containerInfo),zr(u,s),Vi=S,Fr(s),g&4&&h!==null&&h.memoizedState.isDehydrated)try{kc(u.containerInfo)}catch(He){Qt(s,s.return,He)}Fx&&(Fx=!1,RP(s));break;case 4:g=Vi,Vi=sg(s.stateNode.containerInfo),zr(u,s),Fr(s),Vi=g;break;case 12:zr(u,s),Fr(s);break;case 31:zr(u,s),Fr(s),g&4&&(g=s.updateQueue,g!==null&&(s.updateQueue=null,Gp(s,g)));break;case 13:zr(u,s),Fr(s),s.child.flags&8192&&s.memoizedState!==null!=(h!==null&&h.memoizedState!==null)&&(Wp=Ue()),g&4&&(g=s.updateQueue,g!==null&&(s.updateQueue=null,Gp(s,g)));break;case 22:S=s.memoizedState!==null;var W=h!==null&&h.memoizedState!==null,ue=Wa,ye=Fn;if(Wa=ue||S,Fn=ye||W,zr(u,s),Fn=ye,Wa=ue,Fr(s),g&8192)e:for(u=s.stateNode,u._visibility=S?u._visibility&-2:u._visibility|1,S&&(h===null||W||Wa||Fn||Qo(s)),h=null,u=s;;){if(u.tag===5||u.tag===26){if(h===null){W=h=u;try{if(A=W.stateNode,S)M=A.style,typeof M.setProperty=="function"?M.setProperty("display","none","important"):M.display="none";else{L=W.stateNode;var Ne=W.memoizedProps.style,fe=Ne!=null&&Ne.hasOwnProperty("display")?Ne.display:null;L.style.display=fe==null||typeof fe=="boolean"?"":(""+fe).trim()}}catch(He){Qt(W,W.return,He)}}}else if(u.tag===6){if(h===null){W=u;try{W.stateNode.nodeValue=S?"":W.memoizedProps}catch(He){Qt(W,W.return,He)}}}else if(u.tag===18){if(h===null){W=u;try{var ge=W.stateNode;S?xM(ge,!0):xM(W.stateNode,!1)}catch(He){Qt(W,W.return,He)}}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===s)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===s)break e;for(;u.sibling===null;){if(u.return===null||u.return===s)break e;h===u&&(h=null),u=u.return}h===u&&(h=null),u.sibling.return=u.return,u=u.sibling}g&4&&(g=s.updateQueue,g!==null&&(h=g.retryQueue,h!==null&&(g.retryQueue=null,Gp(s,h))));break;case 19:zr(u,s),Fr(s),g&4&&(g=s.updateQueue,g!==null&&(s.updateQueue=null,Gp(s,g)));break;case 30:break;case 21:break;default:zr(u,s),Fr(s)}}function Fr(s){var u=s.flags;if(u&2){try{for(var h,g=s.return;g!==null;){if(_P(g)){h=g;break}g=g.return}if(h==null)throw Error(r(160));switch(h.tag){case 27:var S=h.stateNode,A=qx(s);Hp(s,A,S);break;case 5:var M=h.stateNode;h.flags&32&&(rc(M,""),h.flags&=-33);var L=qx(s);Hp(s,L,M);break;case 3:case 4:var W=h.stateNode.containerInfo,ue=qx(s);zx(s,ue,W);break;default:throw Error(r(161))}}catch(ye){Qt(s,s.return,ye)}s.flags&=-3}u&4096&&(s.flags&=-4097)}function RP(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var u=s;RP(u),u.tag===5&&u.flags&1024&&u.stateNode.reset(),s=s.sibling}}function Xa(s,u){if(u.subtreeFlags&8772)for(u=u.child;u!==null;)NP(s,u.alternate,u),u=u.sibling}function Qo(s){for(s=s.child;s!==null;){var u=s;switch(u.tag){case 0:case 11:case 14:case 15:$s(4,u,u.return),Qo(u);break;case 1:pa(u,u.return);var h=u.stateNode;typeof h.componentWillUnmount=="function"&&xP(u,u.return,h),Qo(u);break;case 27:_f(u.stateNode);case 26:case 5:pa(u,u.return),Qo(u);break;case 22:u.memoizedState===null&&Qo(u);break;case 30:Qo(u);break;default:Qo(u)}s=s.sibling}}function Qa(s,u,h){for(h=h&&(u.subtreeFlags&8772)!==0,u=u.child;u!==null;){var g=u.alternate,S=s,A=u,M=A.flags;switch(A.tag){case 0:case 11:case 15:Qa(S,A,h),ff(4,A);break;case 1:if(Qa(S,A,h),g=A,S=g.stateNode,typeof S.componentDidMount=="function")try{S.componentDidMount()}catch(ue){Qt(g,g.return,ue)}if(g=A,S=g.updateQueue,S!==null){var L=g.stateNode;try{var W=S.shared.hiddenCallbacks;if(W!==null)for(S.shared.hiddenCallbacks=null,S=0;S<W.length;S++)lR(W[S],L)}catch(ue){Qt(g,g.return,ue)}}h&&M&64&&bP(A),hf(A,A.return);break;case 27:SP(A);case 26:case 5:Qa(S,A,h),h&&g===null&&M&4&&wP(A),hf(A,A.return);break;case 12:Qa(S,A,h);break;case 31:Qa(S,A,h),h&&M&4&&TP(S,A);break;case 13:Qa(S,A,h),h&&M&4&&OP(S,A);break;case 22:A.memoizedState===null&&Qa(S,A,h),hf(A,A.return);break;case 30:break;default:Qa(S,A,h)}u=u.sibling}}function Ux(s,u){var h=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(h=s.memoizedState.cachePool.pool),s=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(s=u.memoizedState.cachePool.pool),s!==h&&(s!=null&&s.refCount++,h!=null&&Jd(h))}function Vx(s,u){s=null,u.alternate!==null&&(s=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==s&&(u.refCount++,s!=null&&Jd(s))}function Hi(s,u,h,g){if(u.subtreeFlags&10256)for(u=u.child;u!==null;)PP(s,u,h,g),u=u.sibling}function PP(s,u,h,g){var S=u.flags;switch(u.tag){case 0:case 11:case 15:Hi(s,u,h,g),S&2048&&ff(9,u);break;case 1:Hi(s,u,h,g);break;case 3:Hi(s,u,h,g),S&2048&&(s=null,u.alternate!==null&&(s=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==s&&(u.refCount++,s!=null&&Jd(s)));break;case 12:if(S&2048){Hi(s,u,h,g),s=u.stateNode;try{var A=u.memoizedProps,M=A.id,L=A.onPostCommit;typeof L=="function"&&L(M,u.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(W){Qt(u,u.return,W)}}else Hi(s,u,h,g);break;case 31:Hi(s,u,h,g);break;case 13:Hi(s,u,h,g);break;case 23:break;case 22:A=u.stateNode,M=u.alternate,u.memoizedState!==null?A._visibility&2?Hi(s,u,h,g):mf(s,u):A._visibility&2?Hi(s,u,h,g):(A._visibility|=2,Sc(s,u,h,g,(u.subtreeFlags&10256)!==0||!1)),S&2048&&Ux(M,u);break;case 24:Hi(s,u,h,g),S&2048&&Vx(u.alternate,u);break;default:Hi(s,u,h,g)}}function Sc(s,u,h,g,S){for(S=S&&((u.subtreeFlags&10256)!==0||!1),u=u.child;u!==null;){var A=s,M=u,L=h,W=g,ue=M.flags;switch(M.tag){case 0:case 11:case 15:Sc(A,M,L,W,S),ff(8,M);break;case 23:break;case 22:var ye=M.stateNode;M.memoizedState!==null?ye._visibility&2?Sc(A,M,L,W,S):mf(A,M):(ye._visibility|=2,Sc(A,M,L,W,S)),S&&ue&2048&&Ux(M.alternate,M);break;case 24:Sc(A,M,L,W,S),S&&ue&2048&&Vx(M.alternate,M);break;default:Sc(A,M,L,W,S)}u=u.sibling}}function mf(s,u){if(u.subtreeFlags&10256)for(u=u.child;u!==null;){var h=s,g=u,S=g.flags;switch(g.tag){case 22:mf(h,g),S&2048&&Ux(g.alternate,g);break;case 24:mf(h,g),S&2048&&Vx(g.alternate,g);break;default:mf(h,g)}u=u.sibling}}var pf=8192;function jc(s,u,h){if(s.subtreeFlags&pf)for(s=s.child;s!==null;)MP(s,u,h),s=s.sibling}function MP(s,u,h){switch(s.tag){case 26:jc(s,u,h),s.flags&pf&&s.memoizedState!==null&&nQ(h,Vi,s.memoizedState,s.memoizedProps);break;case 5:jc(s,u,h);break;case 3:case 4:var g=Vi;Vi=sg(s.stateNode.containerInfo),jc(s,u,h),Vi=g;break;case 22:s.memoizedState===null&&(g=s.alternate,g!==null&&g.memoizedState!==null?(g=pf,pf=16777216,jc(s,u,h),pf=g):jc(s,u,h));break;default:jc(s,u,h)}}function kP(s){var u=s.alternate;if(u!==null&&(s=u.child,s!==null)){u.child=null;do u=s.sibling,s.sibling=null,s=u;while(s!==null)}}function gf(s){var u=s.deletions;if((s.flags&16)!==0){if(u!==null)for(var h=0;h<u.length;h++){var g=u[h];sr=g,IP(g,s)}kP(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)DP(s),s=s.sibling}function DP(s){switch(s.tag){case 0:case 11:case 15:gf(s),s.flags&2048&&$s(9,s,s.return);break;case 3:gf(s);break;case 12:gf(s);break;case 22:var u=s.stateNode;s.memoizedState!==null&&u._visibility&2&&(s.return===null||s.return.tag!==13)?(u._visibility&=-3,Kp(s)):gf(s);break;default:gf(s)}}function Kp(s){var u=s.deletions;if((s.flags&16)!==0){if(u!==null)for(var h=0;h<u.length;h++){var g=u[h];sr=g,IP(g,s)}kP(s)}for(s=s.child;s!==null;){switch(u=s,u.tag){case 0:case 11:case 15:$s(8,u,u.return),Kp(u);break;case 22:h=u.stateNode,h._visibility&2&&(h._visibility&=-3,Kp(u));break;default:Kp(u)}s=s.sibling}}function IP(s,u){for(;sr!==null;){var h=sr;switch(h.tag){case 0:case 11:case 15:$s(8,h,u);break;case 23:case 22:if(h.memoizedState!==null&&h.memoizedState.cachePool!==null){var g=h.memoizedState.cachePool.pool;g!=null&&g.refCount++}break;case 24:Jd(h.memoizedState.cache)}if(g=h.child,g!==null)g.return=h,sr=g;else e:for(h=s;sr!==null;){g=sr;var S=g.sibling,A=g.return;if(EP(g),g===h){sr=null;break e}if(S!==null){S.return=A,sr=S;break e}sr=A}}}var vX={getCacheForType:function(s){var u=hr(Bn),h=u.data.get(s);return h===void 0&&(h=s(),u.data.set(s,h)),h},cacheSignal:function(){return hr(Bn).controller.signal}},yX=typeof WeakMap=="function"?WeakMap:Map,Ht=0,on=null,kt=null,It=0,Xt=0,ti=null,Ls=!1,Nc=!1,Hx=!1,Ja=0,An=0,Bs=0,Jo=0,Gx=0,ni=0,Ec=0,vf=null,Ur=null,Kx=!1,Wp=0,$P=0,Yp=1/0,Xp=null,qs=null,Wn=0,zs=null,Ac=null,Za=0,Wx=0,Yx=null,LP=null,yf=0,Xx=null;function ri(){return(Ht&2)!==0&&It!==0?It&-It:D.T!==null?nw():eC()}function BP(){if(ni===0)if((It&536870912)===0||Bt){var s=ot;ot<<=1,(ot&3932160)===0&&(ot=262144),ni=s}else ni=536870912;return s=Zr.current,s!==null&&(s.flags|=32),ni}function Vr(s,u,h){(s===on&&(Xt===2||Xt===9)||s.cancelPendingCommit!==null)&&(Tc(s,0),Fs(s,It,ni,!1)),Ln(s,h),((Ht&2)===0||s!==on)&&(s===on&&((Ht&2)===0&&(Jo|=h),An===4&&Fs(s,It,ni,!1)),ga(s))}function qP(s,u,h){if((Ht&6)!==0)throw Error(r(327));var g=!h&&(u&127)===0&&(u&s.expiredLanes)===0||Ct(s,u),S=g?wX(s,u):Jx(s,u,!0),A=g;do{if(S===0){Nc&&!g&&Fs(s,u,0,!1);break}else{if(h=s.current.alternate,A&&!bX(h)){S=Jx(s,u,!1),A=!1;continue}if(S===2){if(A=u,s.errorRecoveryDisabledLanes&A)var M=0;else M=s.pendingLanes&-536870913,M=M!==0?M:M&536870912?536870912:0;if(M!==0){u=M;e:{var L=s;S=vf;var W=L.current.memoizedState.isDehydrated;if(W&&(Tc(L,M).flags|=256),M=Jx(L,M,!1),M!==2){if(Hx&&!W){L.errorRecoveryDisabledLanes|=A,Jo|=A,S=4;break e}A=Ur,Ur=S,A!==null&&(Ur===null?Ur=A:Ur.push.apply(Ur,A))}S=M}if(A=!1,S!==2)continue}}if(S===1){Tc(s,0),Fs(s,u,0,!0);break}e:{switch(g=s,A=S,A){case 0:case 1:throw Error(r(345));case 4:if((u&4194048)!==u)break;case 6:Fs(g,u,ni,!Ls);break e;case 2:Ur=null;break;case 3:case 5:break;default:throw Error(r(329))}if((u&62914560)===u&&(S=Wp+300-Ue(),10<S)){if(Fs(g,u,ni,!Ls),ze(g,0,!0)!==0)break e;Za=u,g.timeoutHandle=vM(zP.bind(null,g,h,Ur,Xp,Kx,u,ni,Jo,Ec,Ls,A,"Throttled",-0,0),S);break e}zP(g,h,Ur,Xp,Kx,u,ni,Jo,Ec,Ls,A,null,-0,0)}}break}while(!0);ga(s)}function zP(s,u,h,g,S,A,M,L,W,ue,ye,Ne,fe,ge){if(s.timeoutHandle=-1,Ne=u.subtreeFlags,Ne&8192||(Ne&16785408)===16785408){Ne={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:La},MP(u,A,Ne);var He=(A&62914560)===A?Wp-Ue():(A&4194048)===A?$P-Ue():0;if(He=rQ(Ne,He),He!==null){Za=A,s.cancelPendingCommit=He(YP.bind(null,s,u,A,h,g,S,M,L,W,ye,Ne,null,fe,ge)),Fs(s,A,M,!ue);return}}YP(s,u,A,h,g,S,M,L,W)}function bX(s){for(var u=s;;){var h=u.tag;if((h===0||h===11||h===15)&&u.flags&16384&&(h=u.updateQueue,h!==null&&(h=h.stores,h!==null)))for(var g=0;g<h.length;g++){var S=h[g],A=S.getSnapshot;S=S.value;try{if(!Qr(A(),S))return!1}catch{return!1}}if(h=u.child,u.subtreeFlags&16384&&h!==null)h.return=u,u=h;else{if(u===s)break;for(;u.sibling===null;){if(u.return===null||u.return===s)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function Fs(s,u,h,g){u&=~Gx,u&=~Jo,s.suspendedLanes|=u,s.pingedLanes&=~u,g&&(s.warmLanes|=u),g=s.expirationTimes;for(var S=u;0<S;){var A=31-Ee(S),M=1<<A;g[A]=-1,S&=~M}h!==0&&Fi(s,h,u)}function Qp(){return(Ht&6)===0?(bf(0),!1):!0}function Qx(){if(kt!==null){if(Xt===0)var s=kt.return;else s=kt,Fa=Uo=null,hx(s),yc=null,ef=0,s=kt;for(;s!==null;)yP(s.alternate,s),s=s.return;kt=null}}function Tc(s,u){var h=s.timeoutHandle;h!==-1&&(s.timeoutHandle=-1,BX(h)),h=s.cancelPendingCommit,h!==null&&(s.cancelPendingCommit=null,h()),Za=0,Qx(),on=s,kt=h=qa(s.current,null),It=u,Xt=0,ti=null,Ls=!1,Nc=Ct(s,u),Hx=!1,Ec=ni=Gx=Jo=Bs=An=0,Ur=vf=null,Kx=!1,(u&8)!==0&&(u|=u&32);var g=s.entangledLanes;if(g!==0)for(s=s.entanglements,g&=u;0<g;){var S=31-Ee(g),A=1<<S;u|=s[S],g&=~A}return Ja=u,yp(),h}function FP(s,u){Et=null,D.H=cf,u===vc||u===Ep?(u=iR(),Xt=3):u===tx?(u=iR(),Xt=4):Xt=u===Ox?8:u!==null&&typeof u=="object"&&typeof u.then=="function"?6:1,ti=u,kt===null&&(An=1,qp(s,bi(u,s.current)))}function UP(){var s=Zr.current;return s===null?!0:(It&4194048)===It?Si===null:(It&62914560)===It||(It&536870912)!==0?s===Si:!1}function VP(){var s=D.H;return D.H=cf,s===null?cf:s}function HP(){var s=D.A;return D.A=vX,s}function Jp(){An=4,Ls||(It&4194048)!==It&&Zr.current!==null||(Nc=!0),(Bs&134217727)===0&&(Jo&134217727)===0||on===null||Fs(on,It,ni,!1)}function Jx(s,u,h){var g=Ht;Ht|=2;var S=VP(),A=HP();(on!==s||It!==u)&&(Xp=null,Tc(s,u)),u=!1;var M=An;e:do try{if(Xt!==0&&kt!==null){var L=kt,W=ti;switch(Xt){case 8:Qx(),M=6;break e;case 3:case 2:case 9:case 6:Zr.current===null&&(u=!0);var ue=Xt;if(Xt=0,ti=null,Oc(s,L,W,ue),h&&Nc){M=0;break e}break;default:ue=Xt,Xt=0,ti=null,Oc(s,L,W,ue)}}xX(),M=An;break}catch(ye){FP(s,ye)}while(!0);return u&&s.shellSuspendCounter++,Fa=Uo=null,Ht=g,D.H=S,D.A=A,kt===null&&(on=null,It=0,yp()),M}function xX(){for(;kt!==null;)GP(kt)}function wX(s,u){var h=Ht;Ht|=2;var g=VP(),S=HP();on!==s||It!==u?(Xp=null,Yp=Ue()+500,Tc(s,u)):Nc=Ct(s,u);e:do try{if(Xt!==0&&kt!==null){u=kt;var A=ti;t:switch(Xt){case 1:Xt=0,ti=null,Oc(s,u,A,1);break;case 2:case 9:if(nR(A)){Xt=0,ti=null,KP(u);break}u=function(){Xt!==2&&Xt!==9||on!==s||(Xt=7),ga(s)},A.then(u,u);break e;case 3:Xt=7;break e;case 4:Xt=5;break e;case 7:nR(A)?(Xt=0,ti=null,KP(u)):(Xt=0,ti=null,Oc(s,u,A,7));break;case 5:var M=null;switch(kt.tag){case 26:M=kt.memoizedState;case 5:case 27:var L=kt;if(M?PM(M):L.stateNode.complete){Xt=0,ti=null;var W=L.sibling;if(W!==null)kt=W;else{var ue=L.return;ue!==null?(kt=ue,Zp(ue)):kt=null}break t}}Xt=0,ti=null,Oc(s,u,A,5);break;case 6:Xt=0,ti=null,Oc(s,u,A,6);break;case 8:Qx(),An=6;break e;default:throw Error(r(462))}}_X();break}catch(ye){FP(s,ye)}while(!0);return Fa=Uo=null,D.H=g,D.A=S,Ht=h,kt!==null?0:(on=null,It=0,yp(),An)}function _X(){for(;kt!==null&&!te();)GP(kt)}function GP(s){var u=gP(s.alternate,s,Ja);s.memoizedProps=s.pendingProps,u===null?Zp(s):kt=u}function KP(s){var u=s,h=u.alternate;switch(u.tag){case 15:case 0:u=uP(h,u,u.pendingProps,u.type,void 0,It);break;case 11:u=uP(h,u,u.pendingProps,u.type.render,u.ref,It);break;case 5:hx(u);default:yP(h,u),u=kt=HC(u,Ja),u=gP(h,u,Ja)}s.memoizedProps=s.pendingProps,u===null?Zp(s):kt=u}function Oc(s,u,h,g){Fa=Uo=null,hx(u),yc=null,ef=0;var S=u.return;try{if(uX(s,S,u,h,It)){An=1,qp(s,bi(h,s.current)),kt=null;return}}catch(A){if(S!==null)throw kt=S,A;An=1,qp(s,bi(h,s.current)),kt=null;return}u.flags&32768?(Bt||g===1?s=!0:Nc||(It&536870912)!==0?s=!1:(Ls=s=!0,(g===2||g===9||g===3||g===6)&&(g=Zr.current,g!==null&&g.tag===13&&(g.flags|=16384))),WP(u,s)):Zp(u)}function Zp(s){var u=s;do{if((u.flags&32768)!==0){WP(u,Ls);return}s=u.return;var h=hX(u.alternate,u,Ja);if(h!==null){kt=h;return}if(u=u.sibling,u!==null){kt=u;return}kt=u=s}while(u!==null);An===0&&(An=5)}function WP(s,u){do{var h=mX(s.alternate,s);if(h!==null){h.flags&=32767,kt=h;return}if(h=s.return,h!==null&&(h.flags|=32768,h.subtreeFlags=0,h.deletions=null),!u&&(s=s.sibling,s!==null)){kt=s;return}kt=s=h}while(s!==null);An=6,kt=null}function YP(s,u,h,g,S,A,M,L,W){s.cancelPendingCommit=null;do eg();while(Wn!==0);if((Ht&6)!==0)throw Error(r(327));if(u!==null){if(u===s.current)throw Error(r(177));if(A=u.lanes|u.childLanes,A|=qb,ur(s,h,A,M,L,W),s===on&&(kt=on=null,It=0),Ac=u,zs=s,Za=h,Wx=A,Yx=S,LP=g,(u.subtreeFlags&10256)!==0||(u.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,EX(Qe,function(){return eM(),null})):(s.callbackNode=null,s.callbackPriority=0),g=(u.flags&13878)!==0,(u.subtreeFlags&13878)!==0||g){g=D.T,D.T=null,S=G.p,G.p=2,M=Ht,Ht|=4;try{pX(s,u,h)}finally{Ht=M,G.p=S,D.T=g}}Wn=1,XP(),QP(),JP()}}function XP(){if(Wn===1){Wn=0;var s=zs,u=Ac,h=(u.flags&13878)!==0;if((u.subtreeFlags&13878)!==0||h){h=D.T,D.T=null;var g=G.p;G.p=2;var S=Ht;Ht|=4;try{CP(u,s);var A=uw,M=IC(s.containerInfo),L=A.focusedElem,W=A.selectionRange;if(M!==L&&L&&L.ownerDocument&&DC(L.ownerDocument.documentElement,L)){if(W!==null&&Db(L)){var ue=W.start,ye=W.end;if(ye===void 0&&(ye=ue),"selectionStart"in L)L.selectionStart=ue,L.selectionEnd=Math.min(ye,L.value.length);else{var Ne=L.ownerDocument||document,fe=Ne&&Ne.defaultView||window;if(fe.getSelection){var ge=fe.getSelection(),He=L.textContent.length,ht=Math.min(W.start,He),tn=W.end===void 0?ht:Math.min(W.end,He);!ge.extend&&ht>tn&&(M=tn,tn=ht,ht=M);var re=kC(L,ht),Q=kC(L,tn);if(re&&Q&&(ge.rangeCount!==1||ge.anchorNode!==re.node||ge.anchorOffset!==re.offset||ge.focusNode!==Q.node||ge.focusOffset!==Q.offset)){var ce=Ne.createRange();ce.setStart(re.node,re.offset),ge.removeAllRanges(),ht>tn?(ge.addRange(ce),ge.extend(Q.node,Q.offset)):(ce.setEnd(Q.node,Q.offset),ge.addRange(ce))}}}}for(Ne=[],ge=L;ge=ge.parentNode;)ge.nodeType===1&&Ne.push({element:ge,left:ge.scrollLeft,top:ge.scrollTop});for(typeof L.focus=="function"&&L.focus(),L=0;L<Ne.length;L++){var Se=Ne[L];Se.element.scrollLeft=Se.left,Se.element.scrollTop=Se.top}}fg=!!cw,uw=cw=null}finally{Ht=S,G.p=g,D.T=h}}s.current=u,Wn=2}}function QP(){if(Wn===2){Wn=0;var s=zs,u=Ac,h=(u.flags&8772)!==0;if((u.subtreeFlags&8772)!==0||h){h=D.T,D.T=null;var g=G.p;G.p=2;var S=Ht;Ht|=4;try{NP(s,u.alternate,u)}finally{Ht=S,G.p=g,D.T=h}}Wn=3}}function JP(){if(Wn===4||Wn===3){Wn=0,Pe();var s=zs,u=Ac,h=Za,g=LP;(u.subtreeFlags&10256)!==0||(u.flags&10256)!==0?Wn=5:(Wn=0,Ac=zs=null,ZP(s,s.pendingLanes));var S=s.pendingLanes;if(S===0&&(qs=null),gb(h),u=u.stateNode,X&&typeof X.onCommitFiberRoot=="function")try{X.onCommitFiberRoot(se,u,void 0,(u.current.flags&128)===128)}catch{}if(g!==null){u=D.T,S=G.p,G.p=2,D.T=null;try{for(var A=s.onRecoverableError,M=0;M<g.length;M++){var L=g[M];A(L.value,{componentStack:L.stack})}}finally{D.T=u,G.p=S}}(Za&3)!==0&&eg(),ga(s),S=s.pendingLanes,(h&261930)!==0&&(S&42)!==0?s===Xx?yf++:(yf=0,Xx=s):yf=0,bf(0)}}function ZP(s,u){(s.pooledCacheLanes&=u)===0&&(u=s.pooledCache,u!=null&&(s.pooledCache=null,Jd(u)))}function eg(){return XP(),QP(),JP(),eM()}function eM(){if(Wn!==5)return!1;var s=zs,u=Wx;Wx=0;var h=gb(Za),g=D.T,S=G.p;try{G.p=32>h?32:h,D.T=null,h=Yx,Yx=null;var A=zs,M=Za;if(Wn=0,Ac=zs=null,Za=0,(Ht&6)!==0)throw Error(r(331));var L=Ht;if(Ht|=4,DP(A.current),PP(A,A.current,M,h),Ht=L,bf(0,!1),X&&typeof X.onPostCommitFiberRoot=="function")try{X.onPostCommitFiberRoot(se,A)}catch{}return!0}finally{G.p=S,D.T=g,ZP(s,u)}}function tM(s,u,h){u=bi(h,u),u=Tx(s.stateNode,u,2),s=ks(s,u,2),s!==null&&(Ln(s,2),ga(s))}function Qt(s,u,h){if(s.tag===3)tM(s,s,h);else for(;u!==null;){if(u.tag===3){tM(u,s,h);break}else if(u.tag===1){var g=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(qs===null||!qs.has(g))){s=bi(h,s),h=nP(2),g=ks(u,h,2),g!==null&&(rP(h,g,u,s),Ln(g,2),ga(g));break}}u=u.return}}function Zx(s,u,h){var g=s.pingCache;if(g===null){g=s.pingCache=new yX;var S=new Set;g.set(u,S)}else S=g.get(u),S===void 0&&(S=new Set,g.set(u,S));S.has(h)||(Hx=!0,S.add(h),s=SX.bind(null,s,u,h),u.then(s,s))}function SX(s,u,h){var g=s.pingCache;g!==null&&g.delete(u),s.pingedLanes|=s.suspendedLanes&h,s.warmLanes&=~h,on===s&&(It&h)===h&&(An===4||An===3&&(It&62914560)===It&&300>Ue()-Wp?(Ht&2)===0&&Tc(s,0):Gx|=h,Ec===It&&(Ec=0)),ga(s)}function nM(s,u){u===0&&(u=bn()),s=qo(s,u),s!==null&&(Ln(s,u),ga(s))}function jX(s){var u=s.memoizedState,h=0;u!==null&&(h=u.retryLane),nM(s,h)}function NX(s,u){var h=0;switch(s.tag){case 31:case 13:var g=s.stateNode,S=s.memoizedState;S!==null&&(h=S.retryLane);break;case 19:g=s.stateNode;break;case 22:g=s.stateNode._retryCache;break;default:throw Error(r(314))}g!==null&&g.delete(u),nM(s,h)}function EX(s,u){return Ie(s,u)}var tg=null,Cc=null,ew=!1,ng=!1,tw=!1,Us=0;function ga(s){s!==Cc&&s.next===null&&(Cc===null?tg=Cc=s:Cc=Cc.next=s),ng=!0,ew||(ew=!0,TX())}function bf(s,u){if(!tw&&ng){tw=!0;do for(var h=!1,g=tg;g!==null;){if(s!==0){var S=g.pendingLanes;if(S===0)var A=0;else{var M=g.suspendedLanes,L=g.pingedLanes;A=(1<<31-Ee(42|s)+1)-1,A&=S&~(M&~L),A=A&201326741?A&201326741|1:A?A|2:0}A!==0&&(h=!0,sM(g,A))}else A=It,A=ze(g,g===on?A:0,g.cancelPendingCommit!==null||g.timeoutHandle!==-1),(A&3)===0||Ct(g,A)||(h=!0,sM(g,A));g=g.next}while(h);tw=!1}}function AX(){rM()}function rM(){ng=ew=!1;var s=0;Us!==0&&LX()&&(s=Us);for(var u=Ue(),h=null,g=tg;g!==null;){var S=g.next,A=iM(g,u);A===0?(g.next=null,h===null?tg=S:h.next=S,S===null&&(Cc=h)):(h=g,(s!==0||(A&3)!==0)&&(ng=!0)),g=S}Wn!==0&&Wn!==5||bf(s),Us!==0&&(Us=0)}function iM(s,u){for(var h=s.suspendedLanes,g=s.pingedLanes,S=s.expirationTimes,A=s.pendingLanes&-62914561;0<A;){var M=31-Ee(A),L=1<<M,W=S[M];W===-1?((L&h)===0||(L&g)!==0)&&(S[M]=lt(L,u)):W<=u&&(s.expiredLanes|=L),A&=~L}if(u=on,h=It,h=ze(s,s===u?h:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),g=s.callbackNode,h===0||s===u&&(Xt===2||Xt===9)||s.cancelPendingCommit!==null)return g!==null&&g!==null&&Xe(g),s.callbackNode=null,s.callbackPriority=0;if((h&3)===0||Ct(s,h)){if(u=h&-h,u===s.callbackPriority)return u;switch(g!==null&&Xe(g),gb(h)){case 2:case 8:h=je;break;case 32:h=Qe;break;case 268435456:h=wt;break;default:h=Qe}return g=aM.bind(null,s),h=Ie(h,g),s.callbackPriority=u,s.callbackNode=h,u}return g!==null&&g!==null&&Xe(g),s.callbackPriority=2,s.callbackNode=null,2}function aM(s,u){if(Wn!==0&&Wn!==5)return s.callbackNode=null,s.callbackPriority=0,null;var h=s.callbackNode;if(eg()&&s.callbackNode!==h)return null;var g=It;return g=ze(s,s===on?g:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),g===0?null:(qP(s,g,u),iM(s,Ue()),s.callbackNode!=null&&s.callbackNode===h?aM.bind(null,s):null)}function sM(s,u){if(eg())return null;qP(s,u,!0)}function TX(){qX(function(){(Ht&6)!==0?Ie(jt,AX):rM()})}function nw(){if(Us===0){var s=pc;s===0&&(s=ut,ut<<=1,(ut&261888)===0&&(ut=256)),Us=s}return Us}function oM(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:up(""+s)}function lM(s,u){var h=u.ownerDocument.createElement("input");return h.name=u.name,h.value=u.value,s.id&&h.setAttribute("form",s.id),u.parentNode.insertBefore(h,u),s=new FormData(s),h.parentNode.removeChild(h),s}function OX(s,u,h,g,S){if(u==="submit"&&h&&h.stateNode===S){var A=oM((S[Lr]||null).action),M=g.submitter;M&&(u=(u=M[Lr]||null)?oM(u.formAction):M.getAttribute("formAction"),u!==null&&(A=u,M=null));var L=new mp("action","action",null,g,S);s.push({event:L,listeners:[{instance:null,listener:function(){if(g.defaultPrevented){if(Us!==0){var W=M?lM(S,M):new FormData(S);_x(h,{pending:!0,data:W,method:S.method,action:A},null,W)}}else typeof A=="function"&&(L.preventDefault(),W=M?lM(S,M):new FormData(S),_x(h,{pending:!0,data:W,method:S.method,action:A},A,W))},currentTarget:S}]})}}for(var rw=0;rw<Bb.length;rw++){var iw=Bb[rw],CX=iw.toLowerCase(),RX=iw[0].toUpperCase()+iw.slice(1);Ui(CX,"on"+RX)}Ui(BC,"onAnimationEnd"),Ui(qC,"onAnimationIteration"),Ui(zC,"onAnimationStart"),Ui("dblclick","onDoubleClick"),Ui("focusin","onFocus"),Ui("focusout","onBlur"),Ui(KY,"onTransitionRun"),Ui(WY,"onTransitionStart"),Ui(YY,"onTransitionCancel"),Ui(FC,"onTransitionEnd"),tc("onMouseEnter",["mouseout","mouseover"]),tc("onMouseLeave",["mouseout","mouseover"]),tc("onPointerEnter",["pointerout","pointerover"]),tc("onPointerLeave",["pointerout","pointerover"]),Io("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Io("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Io("onBeforeInput",["compositionend","keypress","textInput","paste"]),Io("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Io("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Io("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),PX=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(xf));function cM(s,u){u=(u&4)!==0;for(var h=0;h<s.length;h++){var g=s[h],S=g.event;g=g.listeners;e:{var A=void 0;if(u)for(var M=g.length-1;0<=M;M--){var L=g[M],W=L.instance,ue=L.currentTarget;if(L=L.listener,W!==A&&S.isPropagationStopped())break e;A=L,S.currentTarget=ue;try{A(S)}catch(ye){vp(ye)}S.currentTarget=null,A=W}else for(M=0;M<g.length;M++){if(L=g[M],W=L.instance,ue=L.currentTarget,L=L.listener,W!==A&&S.isPropagationStopped())break e;A=L,S.currentTarget=ue;try{A(S)}catch(ye){vp(ye)}S.currentTarget=null,A=W}}}}function Dt(s,u){var h=u[vb];h===void 0&&(h=u[vb]=new Set);var g=s+"__bubble";h.has(g)||(uM(u,s,2,!1),h.add(g))}function aw(s,u,h){var g=0;u&&(g|=4),uM(h,s,g,u)}var rg="_reactListening"+Math.random().toString(36).slice(2);function sw(s){if(!s[rg]){s[rg]=!0,rC.forEach(function(h){h!=="selectionchange"&&(PX.has(h)||aw(h,!1,s),aw(h,!0,s))});var u=s.nodeType===9?s:s.ownerDocument;u===null||u[rg]||(u[rg]=!0,aw("selectionchange",!1,u))}}function uM(s,u,h,g){switch(BM(u)){case 2:var S=sQ;break;case 8:S=oQ;break;default:S=ww}h=S.bind(null,u,h,s),S=void 0,!Eb||u!=="touchstart"&&u!=="touchmove"&&u!=="wheel"||(S=!0),g?S!==void 0?s.addEventListener(u,h,{capture:!0,passive:S}):s.addEventListener(u,h,!0):S!==void 0?s.addEventListener(u,h,{passive:S}):s.addEventListener(u,h,!1)}function ow(s,u,h,g,S){var A=g;if((u&1)===0&&(u&2)===0&&g!==null)e:for(;;){if(g===null)return;var M=g.tag;if(M===3||M===4){var L=g.stateNode.containerInfo;if(L===S)break;if(M===4)for(M=g.return;M!==null;){var W=M.tag;if((W===3||W===4)&&M.stateNode.containerInfo===S)return;M=M.return}for(;L!==null;){if(M=Jl(L),M===null)return;if(W=M.tag,W===5||W===6||W===26||W===27){g=A=M;continue e}L=L.parentNode}}g=g.return}pC(function(){var ue=A,ye=jb(h),Ne=[];e:{var fe=UC.get(s);if(fe!==void 0){var ge=mp,He=s;switch(s){case"keypress":if(fp(h)===0)break e;case"keydown":case"keyup":ge=NY;break;case"focusin":He="focus",ge=Cb;break;case"focusout":He="blur",ge=Cb;break;case"beforeblur":case"afterblur":ge=Cb;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ge=yC;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ge=hY;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ge=TY;break;case BC:case qC:case zC:ge=gY;break;case FC:ge=CY;break;case"scroll":case"scrollend":ge=dY;break;case"wheel":ge=PY;break;case"copy":case"cut":case"paste":ge=yY;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ge=xC;break;case"toggle":case"beforetoggle":ge=kY}var ht=(u&4)!==0,tn=!ht&&(s==="scroll"||s==="scrollend"),re=ht?fe!==null?fe+"Capture":null:fe;ht=[];for(var Q=ue,ce;Q!==null;){var Se=Q;if(ce=Se.stateNode,Se=Se.tag,Se!==5&&Se!==26&&Se!==27||ce===null||re===null||(Se=zd(Q,re),Se!=null&&ht.push(wf(Q,Se,ce))),tn)break;Q=Q.return}0<ht.length&&(fe=new ge(fe,He,null,h,ye),Ne.push({event:fe,listeners:ht}))}}if((u&7)===0){e:{if(fe=s==="mouseover"||s==="pointerover",ge=s==="mouseout"||s==="pointerout",fe&&h!==Sb&&(He=h.relatedTarget||h.fromElement)&&(Jl(He)||He[Ql]))break e;if((ge||fe)&&(fe=ye.window===ye?ye:(fe=ye.ownerDocument)?fe.defaultView||fe.parentWindow:window,ge?(He=h.relatedTarget||h.toElement,ge=ue,He=He?Jl(He):null,He!==null&&(tn=a(He),ht=He.tag,He!==tn||ht!==5&&ht!==27&&ht!==6)&&(He=null)):(ge=null,He=ue),ge!==He)){if(ht=yC,Se="onMouseLeave",re="onMouseEnter",Q="mouse",(s==="pointerout"||s==="pointerover")&&(ht=xC,Se="onPointerLeave",re="onPointerEnter",Q="pointer"),tn=ge==null?fe:qd(ge),ce=He==null?fe:qd(He),fe=new ht(Se,Q+"leave",ge,h,ye),fe.target=tn,fe.relatedTarget=ce,Se=null,Jl(ye)===ue&&(ht=new ht(re,Q+"enter",He,h,ye),ht.target=ce,ht.relatedTarget=tn,Se=ht),tn=Se,ge&&He)t:{for(ht=MX,re=ge,Q=He,ce=0,Se=re;Se;Se=ht(Se))ce++;Se=0;for(var ct=Q;ct;ct=ht(ct))Se++;for(;0<ce-Se;)re=ht(re),ce--;for(;0<Se-ce;)Q=ht(Q),Se--;for(;ce--;){if(re===Q||Q!==null&&re===Q.alternate){ht=re;break t}re=ht(re),Q=ht(Q)}ht=null}else ht=null;ge!==null&&dM(Ne,fe,ge,ht,!1),He!==null&&tn!==null&&dM(Ne,tn,He,ht,!0)}}e:{if(fe=ue?qd(ue):window,ge=fe.nodeName&&fe.nodeName.toLowerCase(),ge==="select"||ge==="input"&&fe.type==="file")var zt=TC;else if(EC(fe))if(OC)zt=VY;else{zt=FY;var Je=zY}else ge=fe.nodeName,!ge||ge.toLowerCase()!=="input"||fe.type!=="checkbox"&&fe.type!=="radio"?ue&&_b(ue.elementType)&&(zt=TC):zt=UY;if(zt&&(zt=zt(s,ue))){AC(Ne,zt,h,ye);break e}Je&&Je(s,fe,ue),s==="focusout"&&ue&&fe.type==="number"&&ue.memoizedProps.value!=null&&wb(fe,"number",fe.value)}switch(Je=ue?qd(ue):window,s){case"focusin":(EC(Je)||Je.contentEditable==="true")&&(oc=Je,Ib=ue,Yd=null);break;case"focusout":Yd=Ib=oc=null;break;case"mousedown":$b=!0;break;case"contextmenu":case"mouseup":case"dragend":$b=!1,$C(Ne,h,ye);break;case"selectionchange":if(GY)break;case"keydown":case"keyup":$C(Ne,h,ye)}var Tt;if(Pb)e:{switch(s){case"compositionstart":var $t="onCompositionStart";break e;case"compositionend":$t="onCompositionEnd";break e;case"compositionupdate":$t="onCompositionUpdate";break e}$t=void 0}else sc?jC(s,h)&&($t="onCompositionEnd"):s==="keydown"&&h.keyCode===229&&($t="onCompositionStart");$t&&(wC&&h.locale!=="ko"&&(sc||$t!=="onCompositionStart"?$t==="onCompositionEnd"&&sc&&(Tt=gC()):(As=ye,Ab="value"in As?As.value:As.textContent,sc=!0)),Je=ig(ue,$t),0<Je.length&&($t=new bC($t,s,null,h,ye),Ne.push({event:$t,listeners:Je}),Tt?$t.data=Tt:(Tt=NC(h),Tt!==null&&($t.data=Tt)))),(Tt=IY?$Y(s,h):LY(s,h))&&($t=ig(ue,"onBeforeInput"),0<$t.length&&(Je=new bC("onBeforeInput","beforeinput",null,h,ye),Ne.push({event:Je,listeners:$t}),Je.data=Tt)),OX(Ne,s,ue,h,ye)}cM(Ne,u)})}function wf(s,u,h){return{instance:s,listener:u,currentTarget:h}}function ig(s,u){for(var h=u+"Capture",g=[];s!==null;){var S=s,A=S.stateNode;if(S=S.tag,S!==5&&S!==26&&S!==27||A===null||(S=zd(s,h),S!=null&&g.unshift(wf(s,S,A)),S=zd(s,u),S!=null&&g.push(wf(s,S,A))),s.tag===3)return g;s=s.return}return[]}function MX(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function dM(s,u,h,g,S){for(var A=u._reactName,M=[];h!==null&&h!==g;){var L=h,W=L.alternate,ue=L.stateNode;if(L=L.tag,W!==null&&W===g)break;L!==5&&L!==26&&L!==27||ue===null||(W=ue,S?(ue=zd(h,A),ue!=null&&M.unshift(wf(h,ue,W))):S||(ue=zd(h,A),ue!=null&&M.push(wf(h,ue,W)))),h=h.return}M.length!==0&&s.push({event:u,listeners:M})}var kX=/\r\n?/g,DX=/\u0000|\uFFFD/g;function fM(s){return(typeof s=="string"?s:""+s).replace(kX,`
`).replace(DX,"")}function hM(s,u){return u=fM(u),fM(s)===u}function en(s,u,h,g,S,A){switch(h){case"children":typeof g=="string"?u==="body"||u==="textarea"&&g===""||rc(s,g):(typeof g=="number"||typeof g=="bigint")&&u!=="body"&&rc(s,""+g);break;case"className":lp(s,"class",g);break;case"tabIndex":lp(s,"tabindex",g);break;case"dir":case"role":case"viewBox":case"width":case"height":lp(s,h,g);break;case"style":hC(s,g,A);break;case"data":if(u!=="object"){lp(s,"data",g);break}case"src":case"href":if(g===""&&(u!=="a"||h!=="href")){s.removeAttribute(h);break}if(g==null||typeof g=="function"||typeof g=="symbol"||typeof g=="boolean"){s.removeAttribute(h);break}g=up(""+g),s.setAttribute(h,g);break;case"action":case"formAction":if(typeof g=="function"){s.setAttribute(h,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof A=="function"&&(h==="formAction"?(u!=="input"&&en(s,u,"name",S.name,S,null),en(s,u,"formEncType",S.formEncType,S,null),en(s,u,"formMethod",S.formMethod,S,null),en(s,u,"formTarget",S.formTarget,S,null)):(en(s,u,"encType",S.encType,S,null),en(s,u,"method",S.method,S,null),en(s,u,"target",S.target,S,null)));if(g==null||typeof g=="symbol"||typeof g=="boolean"){s.removeAttribute(h);break}g=up(""+g),s.setAttribute(h,g);break;case"onClick":g!=null&&(s.onclick=La);break;case"onScroll":g!=null&&Dt("scroll",s);break;case"onScrollEnd":g!=null&&Dt("scrollend",s);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(r(61));if(h=g.__html,h!=null){if(S.children!=null)throw Error(r(60));s.innerHTML=h}}break;case"multiple":s.multiple=g&&typeof g!="function"&&typeof g!="symbol";break;case"muted":s.muted=g&&typeof g!="function"&&typeof g!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(g==null||typeof g=="function"||typeof g=="boolean"||typeof g=="symbol"){s.removeAttribute("xlink:href");break}h=up(""+g),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",h);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":g!=null&&typeof g!="function"&&typeof g!="symbol"?s.setAttribute(h,""+g):s.removeAttribute(h);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":g&&typeof g!="function"&&typeof g!="symbol"?s.setAttribute(h,""):s.removeAttribute(h);break;case"capture":case"download":g===!0?s.setAttribute(h,""):g!==!1&&g!=null&&typeof g!="function"&&typeof g!="symbol"?s.setAttribute(h,g):s.removeAttribute(h);break;case"cols":case"rows":case"size":case"span":g!=null&&typeof g!="function"&&typeof g!="symbol"&&!isNaN(g)&&1<=g?s.setAttribute(h,g):s.removeAttribute(h);break;case"rowSpan":case"start":g==null||typeof g=="function"||typeof g=="symbol"||isNaN(g)?s.removeAttribute(h):s.setAttribute(h,g);break;case"popover":Dt("beforetoggle",s),Dt("toggle",s),op(s,"popover",g);break;case"xlinkActuate":$a(s,"http://www.w3.org/1999/xlink","xlink:actuate",g);break;case"xlinkArcrole":$a(s,"http://www.w3.org/1999/xlink","xlink:arcrole",g);break;case"xlinkRole":$a(s,"http://www.w3.org/1999/xlink","xlink:role",g);break;case"xlinkShow":$a(s,"http://www.w3.org/1999/xlink","xlink:show",g);break;case"xlinkTitle":$a(s,"http://www.w3.org/1999/xlink","xlink:title",g);break;case"xlinkType":$a(s,"http://www.w3.org/1999/xlink","xlink:type",g);break;case"xmlBase":$a(s,"http://www.w3.org/XML/1998/namespace","xml:base",g);break;case"xmlLang":$a(s,"http://www.w3.org/XML/1998/namespace","xml:lang",g);break;case"xmlSpace":$a(s,"http://www.w3.org/XML/1998/namespace","xml:space",g);break;case"is":op(s,"is",g);break;case"innerText":case"textContent":break;default:(!(2<h.length)||h[0]!=="o"&&h[0]!=="O"||h[1]!=="n"&&h[1]!=="N")&&(h=cY.get(h)||h,op(s,h,g))}}function lw(s,u,h,g,S,A){switch(h){case"style":hC(s,g,A);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(r(61));if(h=g.__html,h!=null){if(S.children!=null)throw Error(r(60));s.innerHTML=h}}break;case"children":typeof g=="string"?rc(s,g):(typeof g=="number"||typeof g=="bigint")&&rc(s,""+g);break;case"onScroll":g!=null&&Dt("scroll",s);break;case"onScrollEnd":g!=null&&Dt("scrollend",s);break;case"onClick":g!=null&&(s.onclick=La);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!iC.hasOwnProperty(h))e:{if(h[0]==="o"&&h[1]==="n"&&(S=h.endsWith("Capture"),u=h.slice(2,S?h.length-7:void 0),A=s[Lr]||null,A=A!=null?A[h]:null,typeof A=="function"&&s.removeEventListener(u,A,S),typeof g=="function")){typeof A!="function"&&A!==null&&(h in s?s[h]=null:s.hasAttribute(h)&&s.removeAttribute(h)),s.addEventListener(u,g,S);break e}h in s?s[h]=g:g===!0?s.setAttribute(h,""):op(s,h,g)}}}function pr(s,u,h){switch(u){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Dt("error",s),Dt("load",s);var g=!1,S=!1,A;for(A in h)if(h.hasOwnProperty(A)){var M=h[A];if(M!=null)switch(A){case"src":g=!0;break;case"srcSet":S=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,u));default:en(s,u,A,M,h,null)}}S&&en(s,u,"srcSet",h.srcSet,h,null),g&&en(s,u,"src",h.src,h,null);return;case"input":Dt("invalid",s);var L=A=M=S=null,W=null,ue=null;for(g in h)if(h.hasOwnProperty(g)){var ye=h[g];if(ye!=null)switch(g){case"name":S=ye;break;case"type":M=ye;break;case"checked":W=ye;break;case"defaultChecked":ue=ye;break;case"value":A=ye;break;case"defaultValue":L=ye;break;case"children":case"dangerouslySetInnerHTML":if(ye!=null)throw Error(r(137,u));break;default:en(s,u,g,ye,h,null)}}cC(s,A,L,W,ue,M,S,!1);return;case"select":Dt("invalid",s),g=M=A=null;for(S in h)if(h.hasOwnProperty(S)&&(L=h[S],L!=null))switch(S){case"value":A=L;break;case"defaultValue":M=L;break;case"multiple":g=L;default:en(s,u,S,L,h,null)}u=A,h=M,s.multiple=!!g,u!=null?nc(s,!!g,u,!1):h!=null&&nc(s,!!g,h,!0);return;case"textarea":Dt("invalid",s),A=S=g=null;for(M in h)if(h.hasOwnProperty(M)&&(L=h[M],L!=null))switch(M){case"value":g=L;break;case"defaultValue":S=L;break;case"children":A=L;break;case"dangerouslySetInnerHTML":if(L!=null)throw Error(r(91));break;default:en(s,u,M,L,h,null)}dC(s,g,S,A);return;case"option":for(W in h)if(h.hasOwnProperty(W)&&(g=h[W],g!=null))switch(W){case"selected":s.selected=g&&typeof g!="function"&&typeof g!="symbol";break;default:en(s,u,W,g,h,null)}return;case"dialog":Dt("beforetoggle",s),Dt("toggle",s),Dt("cancel",s),Dt("close",s);break;case"iframe":case"object":Dt("load",s);break;case"video":case"audio":for(g=0;g<xf.length;g++)Dt(xf[g],s);break;case"image":Dt("error",s),Dt("load",s);break;case"details":Dt("toggle",s);break;case"embed":case"source":case"link":Dt("error",s),Dt("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ue in h)if(h.hasOwnProperty(ue)&&(g=h[ue],g!=null))switch(ue){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,u));default:en(s,u,ue,g,h,null)}return;default:if(_b(u)){for(ye in h)h.hasOwnProperty(ye)&&(g=h[ye],g!==void 0&&lw(s,u,ye,g,h,void 0));return}}for(L in h)h.hasOwnProperty(L)&&(g=h[L],g!=null&&en(s,u,L,g,h,null))}function IX(s,u,h,g){switch(u){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var S=null,A=null,M=null,L=null,W=null,ue=null,ye=null;for(ge in h){var Ne=h[ge];if(h.hasOwnProperty(ge)&&Ne!=null)switch(ge){case"checked":break;case"value":break;case"defaultValue":W=Ne;default:g.hasOwnProperty(ge)||en(s,u,ge,null,g,Ne)}}for(var fe in g){var ge=g[fe];if(Ne=h[fe],g.hasOwnProperty(fe)&&(ge!=null||Ne!=null))switch(fe){case"type":A=ge;break;case"name":S=ge;break;case"checked":ue=ge;break;case"defaultChecked":ye=ge;break;case"value":M=ge;break;case"defaultValue":L=ge;break;case"children":case"dangerouslySetInnerHTML":if(ge!=null)throw Error(r(137,u));break;default:ge!==Ne&&en(s,u,fe,ge,g,Ne)}}xb(s,M,L,W,ue,ye,A,S);return;case"select":ge=M=L=fe=null;for(A in h)if(W=h[A],h.hasOwnProperty(A)&&W!=null)switch(A){case"value":break;case"multiple":ge=W;default:g.hasOwnProperty(A)||en(s,u,A,null,g,W)}for(S in g)if(A=g[S],W=h[S],g.hasOwnProperty(S)&&(A!=null||W!=null))switch(S){case"value":fe=A;break;case"defaultValue":L=A;break;case"multiple":M=A;default:A!==W&&en(s,u,S,A,g,W)}u=L,h=M,g=ge,fe!=null?nc(s,!!h,fe,!1):!!g!=!!h&&(u!=null?nc(s,!!h,u,!0):nc(s,!!h,h?[]:"",!1));return;case"textarea":ge=fe=null;for(L in h)if(S=h[L],h.hasOwnProperty(L)&&S!=null&&!g.hasOwnProperty(L))switch(L){case"value":break;case"children":break;default:en(s,u,L,null,g,S)}for(M in g)if(S=g[M],A=h[M],g.hasOwnProperty(M)&&(S!=null||A!=null))switch(M){case"value":fe=S;break;case"defaultValue":ge=S;break;case"children":break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(r(91));break;default:S!==A&&en(s,u,M,S,g,A)}uC(s,fe,ge);return;case"option":for(var He in h)if(fe=h[He],h.hasOwnProperty(He)&&fe!=null&&!g.hasOwnProperty(He))switch(He){case"selected":s.selected=!1;break;default:en(s,u,He,null,g,fe)}for(W in g)if(fe=g[W],ge=h[W],g.hasOwnProperty(W)&&fe!==ge&&(fe!=null||ge!=null))switch(W){case"selected":s.selected=fe&&typeof fe!="function"&&typeof fe!="symbol";break;default:en(s,u,W,fe,g,ge)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ht in h)fe=h[ht],h.hasOwnProperty(ht)&&fe!=null&&!g.hasOwnProperty(ht)&&en(s,u,ht,null,g,fe);for(ue in g)if(fe=g[ue],ge=h[ue],g.hasOwnProperty(ue)&&fe!==ge&&(fe!=null||ge!=null))switch(ue){case"children":case"dangerouslySetInnerHTML":if(fe!=null)throw Error(r(137,u));break;default:en(s,u,ue,fe,g,ge)}return;default:if(_b(u)){for(var tn in h)fe=h[tn],h.hasOwnProperty(tn)&&fe!==void 0&&!g.hasOwnProperty(tn)&&lw(s,u,tn,void 0,g,fe);for(ye in g)fe=g[ye],ge=h[ye],!g.hasOwnProperty(ye)||fe===ge||fe===void 0&&ge===void 0||lw(s,u,ye,fe,g,ge);return}}for(var re in h)fe=h[re],h.hasOwnProperty(re)&&fe!=null&&!g.hasOwnProperty(re)&&en(s,u,re,null,g,fe);for(Ne in g)fe=g[Ne],ge=h[Ne],!g.hasOwnProperty(Ne)||fe===ge||fe==null&&ge==null||en(s,u,Ne,fe,g,ge)}function mM(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function $X(){if(typeof performance.getEntriesByType=="function"){for(var s=0,u=0,h=performance.getEntriesByType("resource"),g=0;g<h.length;g++){var S=h[g],A=S.transferSize,M=S.initiatorType,L=S.duration;if(A&&L&&mM(M)){for(M=0,L=S.responseEnd,g+=1;g<h.length;g++){var W=h[g],ue=W.startTime;if(ue>L)break;var ye=W.transferSize,Ne=W.initiatorType;ye&&mM(Ne)&&(W=W.responseEnd,M+=ye*(W<L?1:(L-ue)/(W-ue)))}if(--g,u+=8*(A+M)/(S.duration/1e3),s++,10<s)break}}if(0<s)return u/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var cw=null,uw=null;function ag(s){return s.nodeType===9?s:s.ownerDocument}function pM(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function gM(s,u){if(s===0)switch(u){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&u==="foreignObject"?0:s}function dw(s,u){return s==="textarea"||s==="noscript"||typeof u.children=="string"||typeof u.children=="number"||typeof u.children=="bigint"||typeof u.dangerouslySetInnerHTML=="object"&&u.dangerouslySetInnerHTML!==null&&u.dangerouslySetInnerHTML.__html!=null}var fw=null;function LX(){var s=window.event;return s&&s.type==="popstate"?s===fw?!1:(fw=s,!0):(fw=null,!1)}var vM=typeof setTimeout=="function"?setTimeout:void 0,BX=typeof clearTimeout=="function"?clearTimeout:void 0,yM=typeof Promise=="function"?Promise:void 0,qX=typeof queueMicrotask=="function"?queueMicrotask:typeof yM<"u"?function(s){return yM.resolve(null).then(s).catch(zX)}:vM;function zX(s){setTimeout(function(){throw s})}function Vs(s){return s==="head"}function bM(s,u){var h=u,g=0;do{var S=h.nextSibling;if(s.removeChild(h),S&&S.nodeType===8)if(h=S.data,h==="/$"||h==="/&"){if(g===0){s.removeChild(S),kc(u);return}g--}else if(h==="$"||h==="$?"||h==="$~"||h==="$!"||h==="&")g++;else if(h==="html")_f(s.ownerDocument.documentElement);else if(h==="head"){h=s.ownerDocument.head,_f(h);for(var A=h.firstChild;A;){var M=A.nextSibling,L=A.nodeName;A[Bd]||L==="SCRIPT"||L==="STYLE"||L==="LINK"&&A.rel.toLowerCase()==="stylesheet"||h.removeChild(A),A=M}}else h==="body"&&_f(s.ownerDocument.body);h=S}while(h);kc(u)}function xM(s,u){var h=s;s=0;do{var g=h.nextSibling;if(h.nodeType===1?u?(h._stashedDisplay=h.style.display,h.style.display="none"):(h.style.display=h._stashedDisplay||"",h.getAttribute("style")===""&&h.removeAttribute("style")):h.nodeType===3&&(u?(h._stashedText=h.nodeValue,h.nodeValue=""):h.nodeValue=h._stashedText||""),g&&g.nodeType===8)if(h=g.data,h==="/$"){if(s===0)break;s--}else h!=="$"&&h!=="$?"&&h!=="$~"&&h!=="$!"||s++;h=g}while(h)}function hw(s){var u=s.firstChild;for(u&&u.nodeType===10&&(u=u.nextSibling);u;){var h=u;switch(u=u.nextSibling,h.nodeName){case"HTML":case"HEAD":case"BODY":hw(h),yb(h);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(h.rel.toLowerCase()==="stylesheet")continue}s.removeChild(h)}}function FX(s,u,h,g){for(;s.nodeType===1;){var S=h;if(s.nodeName.toLowerCase()!==u.toLowerCase()){if(!g&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(g){if(!s[Bd])switch(u){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(A=s.getAttribute("rel"),A==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(A!==S.rel||s.getAttribute("href")!==(S.href==null||S.href===""?null:S.href)||s.getAttribute("crossorigin")!==(S.crossOrigin==null?null:S.crossOrigin)||s.getAttribute("title")!==(S.title==null?null:S.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(A=s.getAttribute("src"),(A!==(S.src==null?null:S.src)||s.getAttribute("type")!==(S.type==null?null:S.type)||s.getAttribute("crossorigin")!==(S.crossOrigin==null?null:S.crossOrigin))&&A&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(u==="input"&&s.type==="hidden"){var A=S.name==null?null:""+S.name;if(S.type==="hidden"&&s.getAttribute("name")===A)return s}else return s;if(s=ji(s.nextSibling),s===null)break}return null}function UX(s,u,h){if(u==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!h||(s=ji(s.nextSibling),s===null))return null;return s}function wM(s,u){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!u||(s=ji(s.nextSibling),s===null))return null;return s}function mw(s){return s.data==="$?"||s.data==="$~"}function pw(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function VX(s,u){var h=s.ownerDocument;if(s.data==="$~")s._reactRetry=u;else if(s.data!=="$?"||h.readyState!=="loading")u();else{var g=function(){u(),h.removeEventListener("DOMContentLoaded",g)};h.addEventListener("DOMContentLoaded",g),s._reactRetry=g}}function ji(s){for(;s!=null;s=s.nextSibling){var u=s.nodeType;if(u===1||u===3)break;if(u===8){if(u=s.data,u==="$"||u==="$!"||u==="$?"||u==="$~"||u==="&"||u==="F!"||u==="F")break;if(u==="/$"||u==="/&")return null}}return s}var gw=null;function _M(s){s=s.nextSibling;for(var u=0;s;){if(s.nodeType===8){var h=s.data;if(h==="/$"||h==="/&"){if(u===0)return ji(s.nextSibling);u--}else h!=="$"&&h!=="$!"&&h!=="$?"&&h!=="$~"&&h!=="&"||u++}s=s.nextSibling}return null}function SM(s){s=s.previousSibling;for(var u=0;s;){if(s.nodeType===8){var h=s.data;if(h==="$"||h==="$!"||h==="$?"||h==="$~"||h==="&"){if(u===0)return s;u--}else h!=="/$"&&h!=="/&"||u++}s=s.previousSibling}return null}function jM(s,u,h){switch(u=ag(h),s){case"html":if(s=u.documentElement,!s)throw Error(r(452));return s;case"head":if(s=u.head,!s)throw Error(r(453));return s;case"body":if(s=u.body,!s)throw Error(r(454));return s;default:throw Error(r(451))}}function _f(s){for(var u=s.attributes;u.length;)s.removeAttributeNode(u[0]);yb(s)}var Ni=new Map,NM=new Set;function sg(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var es=G.d;G.d={f:HX,r:GX,D:KX,C:WX,L:YX,m:XX,X:JX,S:QX,M:ZX};function HX(){var s=es.f(),u=Qp();return s||u}function GX(s){var u=Zl(s);u!==null&&u.tag===5&&u.type==="form"?FR(u):es.r(s)}var Rc=typeof document>"u"?null:document;function EM(s,u,h){var g=Rc;if(g&&typeof u=="string"&&u){var S=vi(u);S='link[rel="'+s+'"][href="'+S+'"]',typeof h=="string"&&(S+='[crossorigin="'+h+'"]'),NM.has(S)||(NM.add(S),s={rel:s,crossOrigin:h,href:u},g.querySelector(S)===null&&(u=g.createElement("link"),pr(u,"link",s),ar(u),g.head.appendChild(u)))}}function KX(s){es.D(s),EM("dns-prefetch",s,null)}function WX(s,u){es.C(s,u),EM("preconnect",s,u)}function YX(s,u,h){es.L(s,u,h);var g=Rc;if(g&&s&&u){var S='link[rel="preload"][as="'+vi(u)+'"]';u==="image"&&h&&h.imageSrcSet?(S+='[imagesrcset="'+vi(h.imageSrcSet)+'"]',typeof h.imageSizes=="string"&&(S+='[imagesizes="'+vi(h.imageSizes)+'"]')):S+='[href="'+vi(s)+'"]';var A=S;switch(u){case"style":A=Pc(s);break;case"script":A=Mc(s)}Ni.has(A)||(s=p({rel:"preload",href:u==="image"&&h&&h.imageSrcSet?void 0:s,as:u},h),Ni.set(A,s),g.querySelector(S)!==null||u==="style"&&g.querySelector(Sf(A))||u==="script"&&g.querySelector(jf(A))||(u=g.createElement("link"),pr(u,"link",s),ar(u),g.head.appendChild(u)))}}function XX(s,u){es.m(s,u);var h=Rc;if(h&&s){var g=u&&typeof u.as=="string"?u.as:"script",S='link[rel="modulepreload"][as="'+vi(g)+'"][href="'+vi(s)+'"]',A=S;switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":A=Mc(s)}if(!Ni.has(A)&&(s=p({rel:"modulepreload",href:s},u),Ni.set(A,s),h.querySelector(S)===null)){switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(h.querySelector(jf(A)))return}g=h.createElement("link"),pr(g,"link",s),ar(g),h.head.appendChild(g)}}}function QX(s,u,h){es.S(s,u,h);var g=Rc;if(g&&s){var S=ec(g).hoistableStyles,A=Pc(s);u=u||"default";var M=S.get(A);if(!M){var L={loading:0,preload:null};if(M=g.querySelector(Sf(A)))L.loading=5;else{s=p({rel:"stylesheet",href:s,"data-precedence":u},h),(h=Ni.get(A))&&vw(s,h);var W=M=g.createElement("link");ar(W),pr(W,"link",s),W._p=new Promise(function(ue,ye){W.onload=ue,W.onerror=ye}),W.addEventListener("load",function(){L.loading|=1}),W.addEventListener("error",function(){L.loading|=2}),L.loading|=4,og(M,u,g)}M={type:"stylesheet",instance:M,count:1,state:L},S.set(A,M)}}}function JX(s,u){es.X(s,u);var h=Rc;if(h&&s){var g=ec(h).hoistableScripts,S=Mc(s),A=g.get(S);A||(A=h.querySelector(jf(S)),A||(s=p({src:s,async:!0},u),(u=Ni.get(S))&&yw(s,u),A=h.createElement("script"),ar(A),pr(A,"link",s),h.head.appendChild(A)),A={type:"script",instance:A,count:1,state:null},g.set(S,A))}}function ZX(s,u){es.M(s,u);var h=Rc;if(h&&s){var g=ec(h).hoistableScripts,S=Mc(s),A=g.get(S);A||(A=h.querySelector(jf(S)),A||(s=p({src:s,async:!0,type:"module"},u),(u=Ni.get(S))&&yw(s,u),A=h.createElement("script"),ar(A),pr(A,"link",s),h.head.appendChild(A)),A={type:"script",instance:A,count:1,state:null},g.set(S,A))}}function AM(s,u,h,g){var S=(S=ae.current)?sg(S):null;if(!S)throw Error(r(446));switch(s){case"meta":case"title":return null;case"style":return typeof h.precedence=="string"&&typeof h.href=="string"?(u=Pc(h.href),h=ec(S).hoistableStyles,g=h.get(u),g||(g={type:"style",instance:null,count:0,state:null},h.set(u,g)),g):{type:"void",instance:null,count:0,state:null};case"link":if(h.rel==="stylesheet"&&typeof h.href=="string"&&typeof h.precedence=="string"){s=Pc(h.href);var A=ec(S).hoistableStyles,M=A.get(s);if(M||(S=S.ownerDocument||S,M={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},A.set(s,M),(A=S.querySelector(Sf(s)))&&!A._p&&(M.instance=A,M.state.loading=5),Ni.has(s)||(h={rel:"preload",as:"style",href:h.href,crossOrigin:h.crossOrigin,integrity:h.integrity,media:h.media,hrefLang:h.hrefLang,referrerPolicy:h.referrerPolicy},Ni.set(s,h),A||eQ(S,s,h,M.state))),u&&g===null)throw Error(r(528,""));return M}if(u&&g!==null)throw Error(r(529,""));return null;case"script":return u=h.async,h=h.src,typeof h=="string"&&u&&typeof u!="function"&&typeof u!="symbol"?(u=Mc(h),h=ec(S).hoistableScripts,g=h.get(u),g||(g={type:"script",instance:null,count:0,state:null},h.set(u,g)),g):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,s))}}function Pc(s){return'href="'+vi(s)+'"'}function Sf(s){return'link[rel="stylesheet"]['+s+"]"}function TM(s){return p({},s,{"data-precedence":s.precedence,precedence:null})}function eQ(s,u,h,g){s.querySelector('link[rel="preload"][as="style"]['+u+"]")?g.loading=1:(u=s.createElement("link"),g.preload=u,u.addEventListener("load",function(){return g.loading|=1}),u.addEventListener("error",function(){return g.loading|=2}),pr(u,"link",h),ar(u),s.head.appendChild(u))}function Mc(s){return'[src="'+vi(s)+'"]'}function jf(s){return"script[async]"+s}function OM(s,u,h){if(u.count++,u.instance===null)switch(u.type){case"style":var g=s.querySelector('style[data-href~="'+vi(h.href)+'"]');if(g)return u.instance=g,ar(g),g;var S=p({},h,{"data-href":h.href,"data-precedence":h.precedence,href:null,precedence:null});return g=(s.ownerDocument||s).createElement("style"),ar(g),pr(g,"style",S),og(g,h.precedence,s),u.instance=g;case"stylesheet":S=Pc(h.href);var A=s.querySelector(Sf(S));if(A)return u.state.loading|=4,u.instance=A,ar(A),A;g=TM(h),(S=Ni.get(S))&&vw(g,S),A=(s.ownerDocument||s).createElement("link"),ar(A);var M=A;return M._p=new Promise(function(L,W){M.onload=L,M.onerror=W}),pr(A,"link",g),u.state.loading|=4,og(A,h.precedence,s),u.instance=A;case"script":return A=Mc(h.src),(S=s.querySelector(jf(A)))?(u.instance=S,ar(S),S):(g=h,(S=Ni.get(A))&&(g=p({},h),yw(g,S)),s=s.ownerDocument||s,S=s.createElement("script"),ar(S),pr(S,"link",g),s.head.appendChild(S),u.instance=S);case"void":return null;default:throw Error(r(443,u.type))}else u.type==="stylesheet"&&(u.state.loading&4)===0&&(g=u.instance,u.state.loading|=4,og(g,h.precedence,s));return u.instance}function og(s,u,h){for(var g=h.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),S=g.length?g[g.length-1]:null,A=S,M=0;M<g.length;M++){var L=g[M];if(L.dataset.precedence===u)A=L;else if(A!==S)break}A?A.parentNode.insertBefore(s,A.nextSibling):(u=h.nodeType===9?h.head:h,u.insertBefore(s,u.firstChild))}function vw(s,u){s.crossOrigin==null&&(s.crossOrigin=u.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=u.referrerPolicy),s.title==null&&(s.title=u.title)}function yw(s,u){s.crossOrigin==null&&(s.crossOrigin=u.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=u.referrerPolicy),s.integrity==null&&(s.integrity=u.integrity)}var lg=null;function CM(s,u,h){if(lg===null){var g=new Map,S=lg=new Map;S.set(h,g)}else S=lg,g=S.get(h),g||(g=new Map,S.set(h,g));if(g.has(s))return g;for(g.set(s,null),h=h.getElementsByTagName(s),S=0;S<h.length;S++){var A=h[S];if(!(A[Bd]||A[dr]||s==="link"&&A.getAttribute("rel")==="stylesheet")&&A.namespaceURI!=="http://www.w3.org/2000/svg"){var M=A.getAttribute(u)||"";M=s+M;var L=g.get(M);L?L.push(A):g.set(M,[A])}}return g}function RM(s,u,h){s=s.ownerDocument||s,s.head.insertBefore(h,u==="title"?s.querySelector("head > title"):null)}function tQ(s,u,h){if(h===1||u.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof u.precedence!="string"||typeof u.href!="string"||u.href==="")break;return!0;case"link":if(typeof u.rel!="string"||typeof u.href!="string"||u.href===""||u.onLoad||u.onError)break;switch(u.rel){case"stylesheet":return s=u.disabled,typeof u.precedence=="string"&&s==null;default:return!0}case"script":if(u.async&&typeof u.async!="function"&&typeof u.async!="symbol"&&!u.onLoad&&!u.onError&&u.src&&typeof u.src=="string")return!0}return!1}function PM(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function nQ(s,u,h,g){if(h.type==="stylesheet"&&(typeof g.media!="string"||matchMedia(g.media).matches!==!1)&&(h.state.loading&4)===0){if(h.instance===null){var S=Pc(g.href),A=u.querySelector(Sf(S));if(A){u=A._p,u!==null&&typeof u=="object"&&typeof u.then=="function"&&(s.count++,s=cg.bind(s),u.then(s,s)),h.state.loading|=4,h.instance=A,ar(A);return}A=u.ownerDocument||u,g=TM(g),(S=Ni.get(S))&&vw(g,S),A=A.createElement("link"),ar(A);var M=A;M._p=new Promise(function(L,W){M.onload=L,M.onerror=W}),pr(A,"link",g),h.instance=A}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(h,u),(u=h.state.preload)&&(h.state.loading&3)===0&&(s.count++,h=cg.bind(s),u.addEventListener("load",h),u.addEventListener("error",h))}}var bw=0;function rQ(s,u){return s.stylesheets&&s.count===0&&dg(s,s.stylesheets),0<s.count||0<s.imgCount?function(h){var g=setTimeout(function(){if(s.stylesheets&&dg(s,s.stylesheets),s.unsuspend){var A=s.unsuspend;s.unsuspend=null,A()}},6e4+u);0<s.imgBytes&&bw===0&&(bw=62500*$X());var S=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&dg(s,s.stylesheets),s.unsuspend)){var A=s.unsuspend;s.unsuspend=null,A()}},(s.imgBytes>bw?50:800)+u);return s.unsuspend=h,function(){s.unsuspend=null,clearTimeout(g),clearTimeout(S)}}:null}function cg(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)dg(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var ug=null;function dg(s,u){s.stylesheets=null,s.unsuspend!==null&&(s.count++,ug=new Map,u.forEach(iQ,s),ug=null,cg.call(s))}function iQ(s,u){if(!(u.state.loading&4)){var h=ug.get(s);if(h)var g=h.get(null);else{h=new Map,ug.set(s,h);for(var S=s.querySelectorAll("link[data-precedence],style[data-precedence]"),A=0;A<S.length;A++){var M=S[A];(M.nodeName==="LINK"||M.getAttribute("media")!=="not all")&&(h.set(M.dataset.precedence,M),g=M)}g&&h.set(null,g)}S=u.instance,M=S.getAttribute("data-precedence"),A=h.get(M)||g,A===g&&h.set(null,S),h.set(M,S),this.count++,g=cg.bind(this),S.addEventListener("load",g),S.addEventListener("error",g),A?A.parentNode.insertBefore(S,A.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(S,s.firstChild)),u.state.loading|=4}}var Nf={$$typeof:j,Provider:null,Consumer:null,_currentValue:z,_currentValue2:z,_threadCount:0};function aQ(s,u,h,g,S,A,M,L,W){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Pn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Pn(0),this.hiddenUpdates=Pn(null),this.identifierPrefix=g,this.onUncaughtError=S,this.onCaughtError=A,this.onRecoverableError=M,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=W,this.incompleteTransitions=new Map}function MM(s,u,h,g,S,A,M,L,W,ue,ye,Ne){return s=new aQ(s,u,h,M,W,ue,ye,Ne,L),u=1,A===!0&&(u|=24),A=Jr(3,null,null,u),s.current=A,A.stateNode=s,u=Jb(),u.refCount++,s.pooledCache=u,u.refCount++,A.memoizedState={element:g,isDehydrated:h,cache:u},nx(A),s}function kM(s){return s?(s=uc,s):uc}function DM(s,u,h,g,S,A){S=kM(S),g.context===null?g.context=S:g.pendingContext=S,g=Ms(u),g.payload={element:h},A=A===void 0?null:A,A!==null&&(g.callback=A),h=ks(s,g,u),h!==null&&(Vr(h,s,u),nf(h,s,u))}function IM(s,u){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var h=s.retryLane;s.retryLane=h!==0&&h<u?h:u}}function xw(s,u){IM(s,u),(s=s.alternate)&&IM(s,u)}function $M(s){if(s.tag===13||s.tag===31){var u=qo(s,67108864);u!==null&&Vr(u,s,67108864),xw(s,67108864)}}function LM(s){if(s.tag===13||s.tag===31){var u=ri();u=pb(u);var h=qo(s,u);h!==null&&Vr(h,s,u),xw(s,u)}}var fg=!0;function sQ(s,u,h,g){var S=D.T;D.T=null;var A=G.p;try{G.p=2,ww(s,u,h,g)}finally{G.p=A,D.T=S}}function oQ(s,u,h,g){var S=D.T;D.T=null;var A=G.p;try{G.p=8,ww(s,u,h,g)}finally{G.p=A,D.T=S}}function ww(s,u,h,g){if(fg){var S=_w(g);if(S===null)ow(s,u,g,hg,h),qM(s,g);else if(cQ(S,s,u,h,g))g.stopPropagation();else if(qM(s,g),u&4&&-1<lQ.indexOf(s)){for(;S!==null;){var A=Zl(S);if(A!==null)switch(A.tag){case 3:if(A=A.stateNode,A.current.memoizedState.isDehydrated){var M=he(A.pendingLanes);if(M!==0){var L=A;for(L.pendingLanes|=2,L.entangledLanes|=2;M;){var W=1<<31-Ee(M);L.entanglements[1]|=W,M&=~W}ga(A),(Ht&6)===0&&(Yp=Ue()+500,bf(0))}}break;case 31:case 13:L=qo(A,2),L!==null&&Vr(L,A,2),Qp(),xw(A,2)}if(A=_w(g),A===null&&ow(s,u,g,hg,h),A===S)break;S=A}S!==null&&g.stopPropagation()}else ow(s,u,g,null,h)}}function _w(s){return s=jb(s),Sw(s)}var hg=null;function Sw(s){if(hg=null,s=Jl(s),s!==null){var u=a(s);if(u===null)s=null;else{var h=u.tag;if(h===13){if(s=o(u),s!==null)return s;s=null}else if(h===31){if(s=l(u),s!==null)return s;s=null}else if(h===3){if(u.stateNode.current.memoizedState.isDehydrated)return u.tag===3?u.stateNode.containerInfo:null;s=null}else u!==s&&(s=null)}}return hg=s,null}function BM(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Lt()){case jt:return 2;case je:return 8;case Qe:case yt:return 32;case wt:return 268435456;default:return 32}default:return 32}}var jw=!1,Hs=null,Gs=null,Ks=null,Ef=new Map,Af=new Map,Ws=[],lQ="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function qM(s,u){switch(s){case"focusin":case"focusout":Hs=null;break;case"dragenter":case"dragleave":Gs=null;break;case"mouseover":case"mouseout":Ks=null;break;case"pointerover":case"pointerout":Ef.delete(u.pointerId);break;case"gotpointercapture":case"lostpointercapture":Af.delete(u.pointerId)}}function Tf(s,u,h,g,S,A){return s===null||s.nativeEvent!==A?(s={blockedOn:u,domEventName:h,eventSystemFlags:g,nativeEvent:A,targetContainers:[S]},u!==null&&(u=Zl(u),u!==null&&$M(u)),s):(s.eventSystemFlags|=g,u=s.targetContainers,S!==null&&u.indexOf(S)===-1&&u.push(S),s)}function cQ(s,u,h,g,S){switch(u){case"focusin":return Hs=Tf(Hs,s,u,h,g,S),!0;case"dragenter":return Gs=Tf(Gs,s,u,h,g,S),!0;case"mouseover":return Ks=Tf(Ks,s,u,h,g,S),!0;case"pointerover":var A=S.pointerId;return Ef.set(A,Tf(Ef.get(A)||null,s,u,h,g,S)),!0;case"gotpointercapture":return A=S.pointerId,Af.set(A,Tf(Af.get(A)||null,s,u,h,g,S)),!0}return!1}function zM(s){var u=Jl(s.target);if(u!==null){var h=a(u);if(h!==null){if(u=h.tag,u===13){if(u=o(h),u!==null){s.blockedOn=u,tC(s.priority,function(){LM(h)});return}}else if(u===31){if(u=l(h),u!==null){s.blockedOn=u,tC(s.priority,function(){LM(h)});return}}else if(u===3&&h.stateNode.current.memoizedState.isDehydrated){s.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}s.blockedOn=null}function mg(s){if(s.blockedOn!==null)return!1;for(var u=s.targetContainers;0<u.length;){var h=_w(s.nativeEvent);if(h===null){h=s.nativeEvent;var g=new h.constructor(h.type,h);Sb=g,h.target.dispatchEvent(g),Sb=null}else return u=Zl(h),u!==null&&$M(u),s.blockedOn=h,!1;u.shift()}return!0}function FM(s,u,h){mg(s)&&h.delete(u)}function uQ(){jw=!1,Hs!==null&&mg(Hs)&&(Hs=null),Gs!==null&&mg(Gs)&&(Gs=null),Ks!==null&&mg(Ks)&&(Ks=null),Ef.forEach(FM),Af.forEach(FM)}function pg(s,u){s.blockedOn===u&&(s.blockedOn=null,jw||(jw=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,uQ)))}var gg=null;function UM(s){gg!==s&&(gg=s,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){gg===s&&(gg=null);for(var u=0;u<s.length;u+=3){var h=s[u],g=s[u+1],S=s[u+2];if(typeof g!="function"){if(Sw(g||h)===null)continue;break}var A=Zl(h);A!==null&&(s.splice(u,3),u-=3,_x(A,{pending:!0,data:S,method:h.method,action:g},g,S))}}))}function kc(s){function u(W){return pg(W,s)}Hs!==null&&pg(Hs,s),Gs!==null&&pg(Gs,s),Ks!==null&&pg(Ks,s),Ef.forEach(u),Af.forEach(u);for(var h=0;h<Ws.length;h++){var g=Ws[h];g.blockedOn===s&&(g.blockedOn=null)}for(;0<Ws.length&&(h=Ws[0],h.blockedOn===null);)zM(h),h.blockedOn===null&&Ws.shift();if(h=(s.ownerDocument||s).$$reactFormReplay,h!=null)for(g=0;g<h.length;g+=3){var S=h[g],A=h[g+1],M=S[Lr]||null;if(typeof A=="function")M||UM(h);else if(M){var L=null;if(A&&A.hasAttribute("formAction")){if(S=A,M=A[Lr]||null)L=M.formAction;else if(Sw(S)!==null)continue}else L=M.action;typeof L=="function"?h[g+1]=L:(h.splice(g,3),g-=3),UM(h)}}}function VM(){function s(A){A.canIntercept&&A.info==="react-transition"&&A.intercept({handler:function(){return new Promise(function(M){return S=M})},focusReset:"manual",scroll:"manual"})}function u(){S!==null&&(S(),S=null),g||setTimeout(h,20)}function h(){if(!g&&!navigation.transition){var A=navigation.currentEntry;A&&A.url!=null&&navigation.navigate(A.url,{state:A.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var g=!1,S=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",u),navigation.addEventListener("navigateerror",u),setTimeout(h,100),function(){g=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",u),navigation.removeEventListener("navigateerror",u),S!==null&&(S(),S=null)}}}function Nw(s){this._internalRoot=s}vg.prototype.render=Nw.prototype.render=function(s){var u=this._internalRoot;if(u===null)throw Error(r(409));var h=u.current,g=ri();DM(h,g,s,u,null,null)},vg.prototype.unmount=Nw.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var u=s.containerInfo;DM(s.current,2,null,s,null,null),Qp(),u[Ql]=null}};function vg(s){this._internalRoot=s}vg.prototype.unstable_scheduleHydration=function(s){if(s){var u=eC();s={blockedOn:null,target:s,priority:u};for(var h=0;h<Ws.length&&u!==0&&u<Ws[h].priority;h++);Ws.splice(h,0,s),h===0&&zM(s)}};var HM=t.version;if(HM!=="19.2.0")throw Error(r(527,HM,"19.2.0"));G.findDOMNode=function(s){var u=s._reactInternals;if(u===void 0)throw typeof s.render=="function"?Error(r(188)):(s=Object.keys(s).join(","),Error(r(268,s)));return s=f(u),s=s!==null?m(s):null,s=s===null?null:s.stateNode,s};var dQ={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:D,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yg.isDisabled&&yg.supportsFiber)try{se=yg.inject(dQ),X=yg}catch{}}return Cf.createRoot=function(s,u){if(!i(s))throw Error(r(299));var h=!1,g="",S=JR,A=ZR,M=eP;return u!=null&&(u.unstable_strictMode===!0&&(h=!0),u.identifierPrefix!==void 0&&(g=u.identifierPrefix),u.onUncaughtError!==void 0&&(S=u.onUncaughtError),u.onCaughtError!==void 0&&(A=u.onCaughtError),u.onRecoverableError!==void 0&&(M=u.onRecoverableError)),u=MM(s,1,!1,null,null,h,g,null,S,A,M,VM),s[Ql]=u.current,sw(s),new Nw(u)},Cf.hydrateRoot=function(s,u,h){if(!i(s))throw Error(r(299));var g=!1,S="",A=JR,M=ZR,L=eP,W=null;return h!=null&&(h.unstable_strictMode===!0&&(g=!0),h.identifierPrefix!==void 0&&(S=h.identifierPrefix),h.onUncaughtError!==void 0&&(A=h.onUncaughtError),h.onCaughtError!==void 0&&(M=h.onCaughtError),h.onRecoverableError!==void 0&&(L=h.onRecoverableError),h.formState!==void 0&&(W=h.formState)),u=MM(s,1,!0,u,h??null,g,S,W,A,M,L,VM),u.context=kM(null),h=u.current,g=ri(),g=pb(g),S=Ms(g),S.callback=null,ks(h,S,g),h=g,u.current.lanes=h,Ln(u,h),ga(u),s[Ql]=u.current,sw(s),new vg(u)},Cf.version="19.2.0",Cf}var tk;function wQ(){if(tk)return Aw.exports;tk=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Aw.exports=xQ(),Aw.exports}var _Q=wQ(),_=Yy();const q=sn(_),Cr=hQ({__proto__:null,default:q},[_]);function SQ(e,t){if(e instanceof RegExp)return{keys:!1,pattern:e};var n,r,i,a,o=[],l="",d=e.split("/");for(d[0]||d.shift();i=d.shift();)n=i[0],n==="*"?(o.push(n),l+=i[1]==="?"?"(?:/(.*))?":"/(.*)"):n===":"?(r=i.indexOf("?",1),a=i.indexOf(".",1),o.push(i.substring(1,~r?r:~a?a:i.length)),l+=~r&&!~a?"(?:/([^/]+?))?":"/([^/]+?)",~a&&(l+=(~r?"?":"")+"\\"+i.substring(a))):l+="/"+i;return{keys:o,pattern:new RegExp("^"+l+(t?"(?=$|/)":"/?$"),"i")}}var Pw={exports:{}},Mw={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nk;function jQ(){if(nk)return Mw;nk=1;var e=Yy();function t(p,v){return p===v&&(p!==0||1/p===1/v)||p!==p&&v!==v}var n=typeof Object.is=="function"?Object.is:t,r=e.useState,i=e.useEffect,a=e.useLayoutEffect,o=e.useDebugValue;function l(p,v){var y=v(),x=r({inst:{value:y,getSnapshot:v}}),b=x[0].inst,w=x[1];return a(function(){b.value=y,b.getSnapshot=v,d(b)&&w({inst:b})},[p,y,v]),i(function(){return d(b)&&w({inst:b}),p(function(){d(b)&&w({inst:b})})},[p]),o(y),y}function d(p){var v=p.getSnapshot;p=p.value;try{var y=v();return!n(p,y)}catch{return!0}}function f(p,v){return v()}var m=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:l;return Mw.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:m,Mw}var rk;function NQ(){return rk||(rk=1,Pw.exports=jQ()),Pw.exports}var H6=NQ();const EQ=Cr.useInsertionEffect,AQ=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",G6=AQ?_.useLayoutEffect:_.useEffect,TQ=EQ||G6,bA=e=>{const t=_.useRef([e,(...n)=>t[0](...n)]).current;return TQ(()=>{t[0]=e}),t[1]},OQ="popstate",xA="pushState",wA="replaceState",CQ="hashchange",ik=[OQ,xA,wA,CQ],RQ=e=>{for(const t of ik)addEventListener(t,e);return()=>{for(const t of ik)removeEventListener(t,e)}},K6=(e,t)=>H6.useSyncExternalStore(RQ,e,t),PQ=()=>location.search,MQ=({ssrSearch:e=""}={})=>K6(PQ,()=>e),ak=()=>location.pathname,kQ=({ssrPath:e}={})=>K6(ak,e?()=>e:ak),DQ=(e,{replace:t=!1,state:n=null}={})=>history[t?wA:xA](n,"",e),IQ=(e={})=>[kQ(e),DQ],sk=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[sk]>"u"){for(const e of[xA,wA]){const t=history[e];history[e]=function(){const n=t.apply(this,arguments),r=new Event(e);return r.arguments=arguments,dispatchEvent(r),n}}Object.defineProperty(window,sk,{value:!0})}const $Q=(e,t)=>t.toLowerCase().indexOf(e.toLowerCase())?"~"+t:t.slice(e.length)||"/",W6=(e="")=>e==="/"?"":e,LQ=(e,t)=>e[0]==="~"?e.slice(1):W6(t)+e,BQ=(e="",t)=>$Q(ok(W6(e)),ok(t)),ok=e=>{try{return decodeURI(e)}catch{return e}},Y6={hook:IQ,searchHook:MQ,parser:SQ,base:"",ssrPath:void 0,ssrSearch:void 0,hrefs:e=>e},X6=_.createContext(Y6),$m=()=>_.useContext(X6),Q6={},J6=_.createContext(Q6),qQ=()=>_.useContext(J6),Xy=e=>{const[t,n]=e.hook(e);return[BQ(e.base,t),bA((r,i)=>n(LQ(r,e.base),i))]},ud=()=>Xy($m()),Z6=(e,t,n,r)=>{const{pattern:i,keys:a}=t instanceof RegExp?{keys:!1,pattern:t}:e(t||"*",r),o=i.exec(n)||[],[l,...d]=o;return l!==void 0?[!0,(()=>{const f=a!==!1?Object.fromEntries(a.map((p,v)=>[p,d[v]])):o.groups;let m={...d};return f&&Object.assign(m,f),m})(),...r?[l]:[]]:[!1,null]},ez=({children:e,...t})=>{const n=$m(),r=t.hook?Y6:n;let i=r;const[a,o]=t.ssrPath?.split("?")??[];o&&(t.ssrSearch=o,t.ssrPath=a),t.hrefs=t.hrefs??t.hook?.hrefs;let l=_.useRef({}),d=l.current,f=d;for(let m in r){const p=m==="base"?r[m]+(t[m]||""):t[m]||r[m];d===f&&p!==f[m]&&(l.current=f={...f}),f[m]=p,p!==r[m]&&(i=f)}return _.createElement(X6.Provider,{value:i,children:e})},lk=({children:e,component:t},n)=>t?_.createElement(t,{params:n}):typeof e=="function"?e(n):e,zQ=e=>{let t=_.useRef(Q6),n=t.current;for(const r in e)e[r]!==n[r]&&(n=e);return Object.keys(e).length===0&&(n=e),t.current=n},or=({path:e,nest:t,match:n,...r})=>{const i=$m(),[a]=Xy(i),[o,l,d]=n??Z6(i.parser,e,a,t),f=zQ({...qQ(),...l});if(!o)return null;const m=d?_.createElement(ez,{base:d},lk(r,f)):lk(r,f);return _.createElement(J6.Provider,{value:f,children:m})},Sv=_.forwardRef((e,t)=>{const n=$m(),[r,i]=Xy(n),{to:a="",href:o=a,onClick:l,asChild:d,children:f,className:m,replace:p,state:v,...y}=e,x=bA(w=>{w.ctrlKey||w.metaKey||w.altKey||w.shiftKey||w.button!==0||(l?.(w),w.defaultPrevented||(w.preventDefault(),i(o,e)))}),b=n.hrefs(o[0]==="~"?o.slice(1):n.base+o,n);return d&&_.isValidElement(f)?_.cloneElement(f,{onClick:x,href:b}):_.createElement("a",{...y,onClick:x,href:b,className:m?.call?m(r===o):m,children:f,ref:t})}),tz=e=>Array.isArray(e)?e.flatMap(t=>tz(t&&t.type===_.Fragment?t.props.children:t)):[e],ck=({children:e,location:t})=>{const n=$m(),[r]=Xy(n);for(const i of tz(e)){let a=0;if(_.isValidElement(i)&&(a=Z6(n.parser,i.props.path,t||r,i.props.nest))[0])return _.cloneElement(i,{match:a})}return null},Qy=e=>{const{to:t,href:n=t}=e,[,r]=ud(),i=bA(()=>r(t||n,e));return G6(()=>{i()},[]),null};var dd=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Cl=typeof window>"u"||"Deno"in globalThis;function Pi(){}function FQ(e,t){return typeof e=="function"?e(t):e}function Lj(e){return typeof e=="number"&&e>=0&&e!==1/0}function nz(e,t){return Math.max(e+(t||0)-Date.now(),0)}function pu(e,t){return typeof e=="function"?e(t):e}function ea(e,t){return typeof e=="function"?e(t):e}function uk(e,t){const{type:n="all",exact:r,fetchStatus:i,predicate:a,queryKey:o,stale:l}=e;if(o){if(r){if(t.queryHash!==_A(o,t.options))return!1}else if(!Ah(t.queryKey,o))return!1}if(n!=="all"){const d=t.isActive();if(n==="active"&&!d||n==="inactive"&&d)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||i&&i!==t.state.fetchStatus||a&&!a(t))}function dk(e,t){const{exact:n,status:r,predicate:i,mutationKey:a}=e;if(a){if(!t.options.mutationKey)return!1;if(n){if(Rl(t.options.mutationKey)!==Rl(a))return!1}else if(!Ah(t.options.mutationKey,a))return!1}return!(r&&t.state.status!==r||i&&!i(t))}function _A(e,t){return(t?.queryKeyHashFn||Rl)(e)}function Rl(e){return JSON.stringify(e,(t,n)=>Bj(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function Ah(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(n=>!Ah(e[n],t[n])):!1}function rz(e,t){if(e===t)return e;const n=fk(e)&&fk(t);if(n||Bj(e)&&Bj(t)){const r=n?e:Object.keys(e),i=r.length,a=n?t:Object.keys(t),o=a.length,l=n?[]:{};let d=0;for(let f=0;f<o;f++){const m=n?f:a[f];(!n&&r.includes(m)||n)&&e[m]===void 0&&t[m]===void 0?(l[m]=void 0,d++):(l[m]=rz(e[m],t[m]),l[m]===e[m]&&e[m]!==void 0&&d++)}return i===o&&d===i?e:l}return t}function jv(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function fk(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Bj(e){if(!hk(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!hk(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function hk(e){return Object.prototype.toString.call(e)==="[object Object]"}function UQ(e){return new Promise(t=>{setTimeout(t,e)})}function qj(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?rz(e,t):t}function VQ(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function HQ(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var SA=Symbol();function iz(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:!e.queryFn||e.queryFn===SA?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var GQ=class extends dd{#e;#t;#r;constructor(){super(),this.#r=e=>{if(!Cl&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#t||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#r=e,this.#t?.(),this.#t=e(t=>{typeof t=="boolean"?this.setFocused(t):this.onFocus()})}setFocused(e){this.#e!==e&&(this.#e=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},jA=new GQ,KQ=class extends dd{#e=!0;#t;#r;constructor(){super(),this.#r=e=>{if(!Cl&&window.addEventListener){const t=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#t||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#r=e,this.#t?.(),this.#t=e(this.setOnline.bind(this))}setOnline(e){this.#e!==e&&(this.#e=e,this.listeners.forEach(n=>{n(e)}))}isOnline(){return this.#e}},Nv=new KQ;function zj(){let e,t;const n=new Promise((i,a)=>{e=i,t=a});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),e(i)},n.reject=i=>{r({status:"rejected",reason:i}),t(i)},n}function WQ(e){return Math.min(1e3*2**e,3e4)}function az(e){return(e??"online")==="online"?Nv.isOnline():!0}var sz=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function kw(e){return e instanceof sz}function oz(e){let t=!1,n=0,r=!1,i;const a=zj(),o=b=>{r||(v(new sz(b)),e.abort?.())},l=()=>{t=!0},d=()=>{t=!1},f=()=>jA.isFocused()&&(e.networkMode==="always"||Nv.isOnline())&&e.canRun(),m=()=>az(e.networkMode)&&e.canRun(),p=b=>{r||(r=!0,e.onSuccess?.(b),i?.(),a.resolve(b))},v=b=>{r||(r=!0,e.onError?.(b),i?.(),a.reject(b))},y=()=>new Promise(b=>{i=w=>{(r||f())&&b(w)},e.onPause?.()}).then(()=>{i=void 0,r||e.onContinue?.()}),x=()=>{if(r)return;let b;const w=n===0?e.initialPromise:void 0;try{b=w??e.fn()}catch(N){b=Promise.reject(N)}Promise.resolve(b).then(p).catch(N=>{if(r)return;const E=e.retry??(Cl?0:3),j=e.retryDelay??WQ,O=typeof j=="function"?j(n,N):j,T=E===!0||typeof E=="number"&&n<E||typeof E=="function"&&E(n,N);if(t||!T){v(N);return}n++,e.onFail?.(n,N),UQ(O).then(()=>f()?void 0:y()).then(()=>{t?v(N):x()})})};return{promise:a,cancel:o,continue:()=>(i?.(),a),cancelRetry:l,continueRetry:d,canStart:m,start:()=>(m()?x():y().then(x),a)}}function YQ(){let e=[],t=0,n=l=>{l()},r=l=>{l()},i=l=>setTimeout(l,0);const a=l=>{t?e.push(l):i(()=>{n(l)})},o=()=>{const l=e;e=[],l.length&&i(()=>{r(()=>{l.forEach(d=>{n(d)})})})};return{batch:l=>{let d;t++;try{d=l()}finally{t--,t||o()}return d},batchCalls:l=>(...d)=>{a(()=>{l(...d)})},schedule:a,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{r=l},setScheduler:l=>{i=l}}}var er=YQ(),lz=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Lj(this.gcTime)&&(this.#e=setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Cl?1/0:300*1e3))}clearGcTimeout(){this.#e&&(clearTimeout(this.#e),this.#e=void 0)}},XQ=class extends lz{#e;#t;#r;#n;#s;#a;constructor(e){super(),this.#a=!1,this.#s=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#r=e.cache,this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#e=QQ(this.options),this.state=e.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#n?.promise}setOptions(e){this.options={...this.#s,...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#r.remove(this)}setData(e,t){const n=qj(this.state.data,e,this.options);return this.#i({data:n,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),n}setState(e,t){this.#i({type:"setState",state:e,setStateOptions:t})}cancel(e){const t=this.#n?.promise;return this.#n?.cancel(e),t?t.then(Pi).catch(Pi):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(e=>ea(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===SA||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!nz(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(t=>t.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#n?.continue()}onOnline(){this.observers.find(t=>t.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#n?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#r.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.#n&&(this.#a?this.#n.cancel({revert:!0}):this.#n.cancelRetry()),this.scheduleGc()),this.#r.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#i({type:"invalidate"})}fetch(e,t){if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#n)return this.#n.continueRetry(),this.#n.promise}if(e&&this.setOptions(e),!this.options.queryFn){const l=this.observers.find(d=>d.options.queryFn);l&&this.setOptions(l.options)}const n=new AbortController,r=l=>{Object.defineProperty(l,"signal",{enumerable:!0,get:()=>(this.#a=!0,n.signal)})},i=()=>{const l=iz(this.options,t),d={queryKey:this.queryKey,meta:this.meta};return r(d),this.#a=!1,this.options.persister?this.options.persister(l,d,this):l(d)},a={fetchOptions:t,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:i};r(a),this.options.behavior?.onFetch(a,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==a.fetchOptions?.meta)&&this.#i({type:"fetch",meta:a.fetchOptions?.meta});const o=l=>{kw(l)&&l.silent||this.#i({type:"error",error:l}),kw(l)||(this.#r.config.onError?.(l,this),this.#r.config.onSettled?.(this.state.data,l,this)),this.scheduleGc()};return this.#n=oz({initialPromise:t?.initialPromise,fn:a.fetchFn,abort:n.abort.bind(n),onSuccess:l=>{if(l===void 0){o(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(l)}catch(d){o(d);return}this.#r.config.onSuccess?.(l,this),this.#r.config.onSettled?.(l,this.state.error,this),this.scheduleGc()},onError:o,onFail:(l,d)=>{this.#i({type:"failed",failureCount:l,error:d})},onPause:()=>{this.#i({type:"pause"})},onContinue:()=>{this.#i({type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0}),this.#n.start()}#i(e){const t=n=>{switch(e.type){case"failed":return{...n,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...cz(n.data,this.options),fetchMeta:e.meta??null};case"success":return{...n,data:e.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const r=e.error;return kw(r)&&r.revert&&this.#t?{...this.#t,fetchStatus:"idle"}:{...n,error:r,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:r,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...e.state}}};this.state=t(this.state),er.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),this.#r.notify({query:this,type:"updated",action:e})})}};function cz(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:az(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function QQ(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var JQ=class extends dd{constructor(e={}){super(),this.config=e,this.#e=new Map}#e;build(e,t,n){const r=t.queryKey,i=t.queryHash??_A(r,t);let a=this.get(i);return a||(a=new XQ({cache:this,queryKey:r,queryHash:i,options:e.defaultQueryOptions(t),state:n,defaultOptions:e.getQueryDefaults(r)}),this.add(a)),a}add(e){this.#e.has(e.queryHash)||(this.#e.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=this.#e.get(e.queryHash);t&&(e.destroy(),t===e&&this.#e.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){er.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#e.get(e)}getAll(){return[...this.#e.values()]}find(e){const t={exact:!0,...e};return this.getAll().find(n=>uk(t,n))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(n=>uk(e,n)):t}notify(e){er.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){er.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){er.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},ZQ=class extends lz{#e;#t;#r;constructor(e){super(),this.mutationId=e.mutationId,this.#t=e.mutationCache,this.#e=[],this.state=e.state||uz(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#e.includes(e)||(this.#e.push(e),this.clearGcTimeout(),this.#t.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#e=this.#e.filter(t=>t!==e),this.scheduleGc(),this.#t.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#e.length||(this.state.status==="pending"?this.scheduleGc():this.#t.remove(this))}continue(){return this.#r?.continue()??this.execute(this.state.variables)}async execute(e){this.#r=oz({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(r,i)=>{this.#n({type:"failed",failureCount:r,error:i})},onPause:()=>{this.#n({type:"pause"})},onContinue:()=>{this.#n({type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#t.canRun(this)});const t=this.state.status==="pending",n=!this.#r.canStart();try{if(!t){this.#n({type:"pending",variables:e,isPaused:n}),await this.#t.config.onMutate?.(e,this);const i=await this.options.onMutate?.(e);i!==this.state.context&&this.#n({type:"pending",context:i,variables:e,isPaused:n})}const r=await this.#r.start();return await this.#t.config.onSuccess?.(r,e,this.state.context,this),await this.options.onSuccess?.(r,e,this.state.context),await this.#t.config.onSettled?.(r,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(r,null,e,this.state.context),this.#n({type:"success",data:r}),r}catch(r){try{throw await this.#t.config.onError?.(r,e,this.state.context,this),await this.options.onError?.(r,e,this.state.context),await this.#t.config.onSettled?.(void 0,r,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,r,e,this.state.context),r}finally{this.#n({type:"error",error:r})}}finally{this.#t.runNext(this)}}#n(e){const t=n=>{switch(e.type){case"failed":return{...n,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...n,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:e.error,failureCount:n.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),er.batch(()=>{this.#e.forEach(n=>{n.onMutationUpdate(e)}),this.#t.notify({mutation:this,type:"updated",action:e})})}};function uz(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var eJ=class extends dd{constructor(e={}){super(),this.config=e,this.#e=new Map,this.#t=Date.now()}#e;#t;build(e,t,n){const r=new ZQ({mutationCache:this,mutationId:++this.#t,options:e.defaultMutationOptions(t),state:n});return this.add(r),r}add(e){const t=xg(e),n=this.#e.get(t)??[];n.push(e),this.#e.set(t,n),this.notify({type:"added",mutation:e})}remove(e){const t=xg(e);if(this.#e.has(t)){const n=this.#e.get(t)?.filter(r=>r!==e);n&&(n.length===0?this.#e.delete(t):this.#e.set(t,n))}this.notify({type:"removed",mutation:e})}canRun(e){const t=this.#e.get(xg(e))?.find(n=>n.state.status==="pending");return!t||t===e}runNext(e){return this.#e.get(xg(e))?.find(n=>n!==e&&n.state.isPaused)?.continue()??Promise.resolve()}clear(){er.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...this.#e.values()].flat()}find(e){const t={exact:!0,...e};return this.getAll().find(n=>dk(t,n))}findAll(e={}){return this.getAll().filter(t=>dk(e,t))}notify(e){er.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return er.batch(()=>Promise.all(e.map(t=>t.continue().catch(Pi))))}};function xg(e){return e.options.scope?.id??String(e.mutationId)}function Ev(e){return{onFetch:(t,n)=>{const r=t.options,i=t.fetchOptions?.meta?.fetchMore?.direction,a=t.state.data?.pages||[],o=t.state.data?.pageParams||[];let l={pages:[],pageParams:[]},d=0;const f=async()=>{let m=!1;const p=x=>{Object.defineProperty(x,"signal",{enumerable:!0,get:()=>(t.signal.aborted?m=!0:t.signal.addEventListener("abort",()=>{m=!0}),t.signal)})},v=iz(t.options,t.fetchOptions),y=async(x,b,w)=>{if(m)return Promise.reject();if(b==null&&x.pages.length)return Promise.resolve(x);const N={queryKey:t.queryKey,pageParam:b,direction:w?"backward":"forward",meta:t.options.meta};p(N);const E=await v(N),{maxPages:j}=t.options,O=w?HQ:VQ;return{pages:O(x.pages,E,j),pageParams:O(x.pageParams,b,j)}};if(i&&a.length){const x=i==="backward",b=x?dz:Fj,w={pages:a,pageParams:o},N=b(r,w);l=await y(w,N,x)}else{const x=e??a.length;do{const b=d===0?o[0]??r.initialPageParam:Fj(r,l);if(d>0&&b==null)break;l=await y(l,b),d++}while(d<x)}return l};t.options.persister?t.fetchFn=()=>t.options.persister?.(f,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n):t.fetchFn=f}}}function Fj(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function dz(e,{pages:t,pageParams:n}){return t.length>0?e.getPreviousPageParam?.(t[0],t,n[0],n):void 0}function tJ(e,t){return t?Fj(e,t)!=null:!1}function nJ(e,t){return!t||!e.getPreviousPageParam?!1:dz(e,t)!=null}var rJ=class{#e;#t;#r;#n;#s;#a;#i;#o;constructor(e={}){this.#e=e.queryCache||new JQ,this.#t=e.mutationCache||new eJ,this.#r=e.defaultOptions||{},this.#n=new Map,this.#s=new Map,this.#a=0}mount(){this.#a++,this.#a===1&&(this.#i=jA.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#o=Nv.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#a--,this.#a===0&&(this.#i?.(),this.#i=void 0,this.#o?.(),this.#o=void 0)}isFetching(e){return this.#e.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#t.findAll({...e,status:"pending"}).length}getQueryData(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const n=this.defaultQueryOptions(e),r=this.#e.build(this,n);return e.revalidateIfStale&&r.isStaleByTime(pu(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(t)}}getQueriesData(e){return this.#e.findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),a=this.#e.get(r.queryHash)?.state.data,o=FQ(t,a);if(o!==void 0)return this.#e.build(this,r).setData(o,{...n,manual:!0})}setQueriesData(e,t,n){return er.batch(()=>this.#e.findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state}removeQueries(e){const t=this.#e;er.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=this.#e,r={type:"active",...e};return er.batch(()=>(n.findAll(e).forEach(i=>{i.reset()}),this.refetchQueries(r,t)))}cancelQueries(e={},t={}){const n={revert:!0,...t},r=er.batch(()=>this.#e.findAll(e).map(i=>i.cancel(n)));return Promise.all(r).then(Pi).catch(Pi)}invalidateQueries(e={},t={}){return er.batch(()=>{if(this.#e.findAll(e).forEach(r=>{r.invalidate()}),e.refetchType==="none")return Promise.resolve();const n={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(n,t)})}refetchQueries(e={},t){const n={...t,cancelRefetch:t?.cancelRefetch??!0},r=er.batch(()=>this.#e.findAll(e).filter(i=>!i.isDisabled()).map(i=>{let a=i.fetch(void 0,n);return n.throwOnError||(a=a.catch(Pi)),i.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(r).then(Pi)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=this.#e.build(this,t);return n.isStaleByTime(pu(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Pi).catch(Pi)}fetchInfiniteQuery(e){return e.behavior=Ev(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Pi).catch(Pi)}ensureInfiniteQueryData(e){return e.behavior=Ev(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Nv.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#r}setDefaultOptions(e){this.#r=e}setQueryDefaults(e,t){this.#n.set(Rl(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...this.#n.values()];let n={};return t.forEach(r=>{Ah(e,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(e,t){this.#s.set(Rl(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...this.#s.values()];let n={};return t.forEach(r=>{Ah(e,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...this.#r.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=_A(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===SA&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#r.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},fz=class extends dd{constructor(e,t){super(),this.options=t,this.#e=e,this.#o=null,this.#i=zj(),this.options.experimental_prefetchInRender||this.#i.reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(t)}#e;#t=void 0;#r=void 0;#n=void 0;#s;#a;#i;#o;#p;#f;#h;#c;#u;#l;#m=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),mk(this.#t,this.options)?this.#d():this.updateResult(),this.#b())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Uj(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Uj(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#x(),this.#w(),this.#t.removeObserver(this)}setOptions(e,t){const n=this.options,r=this.#t;if(this.options=this.#e.defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof ea(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#_(),this.#t.setOptions(this.options),n._defaulted&&!jv(this.options,n)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const i=this.hasListeners();i&&pk(this.#t,r,this.options,n)&&this.#d(),this.updateResult(t),i&&(this.#t!==r||ea(this.options.enabled,this.#t)!==ea(n.enabled,this.#t)||pu(this.options.staleTime,this.#t)!==pu(n.staleTime,this.#t))&&this.#g();const a=this.#v();i&&(this.#t!==r||ea(this.options.enabled,this.#t)!==ea(n.enabled,this.#t)||a!==this.#l)&&this.#y(a)}getOptimisticResult(e){const t=this.#e.getQueryCache().build(this.#e,e),n=this.createResult(t,e);return aJ(this,n)&&(this.#n=n,this.#a=this.options,this.#s=this.#t.state),n}getCurrentResult(){return this.#n}trackResult(e,t){const n={};return Object.keys(e).forEach(r=>{Object.defineProperty(n,r,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(r),t?.(r),e[r])})}),n}trackProp(e){this.#m.add(e)}getCurrentQuery(){return this.#t}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=this.#e.defaultQueryOptions(e),n=this.#e.getQueryCache().build(this.#e,t);return n.fetch().then(()=>this.createResult(n,t))}fetch(e){return this.#d({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#n))}#d(e){this.#_();let t=this.#t.fetch(this.options,e);return e?.throwOnError||(t=t.catch(Pi)),t}#g(){this.#x();const e=pu(this.options.staleTime,this.#t);if(Cl||this.#n.isStale||!Lj(e))return;const n=nz(this.#n.dataUpdatedAt,e)+1;this.#c=setTimeout(()=>{this.#n.isStale||this.updateResult()},n)}#v(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#y(e){this.#w(),this.#l=e,!(Cl||ea(this.options.enabled,this.#t)===!1||!Lj(this.#l)||this.#l===0)&&(this.#u=setInterval(()=>{(this.options.refetchIntervalInBackground||jA.isFocused())&&this.#d()},this.#l))}#b(){this.#g(),this.#y(this.#v())}#x(){this.#c&&(clearTimeout(this.#c),this.#c=void 0)}#w(){this.#u&&(clearInterval(this.#u),this.#u=void 0)}createResult(e,t){const n=this.#t,r=this.options,i=this.#n,a=this.#s,o=this.#a,d=e!==n?e.state:this.#r,{state:f}=e;let m={...f},p=!1,v;if(t._optimisticResults){const R=this.hasListeners(),P=!R&&mk(e,t),k=R&&pk(e,n,t,r);(P||k)&&(m={...m,...cz(f.data,e.options)}),t._optimisticResults==="isRestoring"&&(m.fetchStatus="idle")}let{error:y,errorUpdatedAt:x,status:b}=m;if(t.select&&m.data!==void 0)if(i&&m.data===a?.data&&t.select===this.#p)v=this.#f;else try{this.#p=t.select,v=t.select(m.data),v=qj(i?.data,v,t),this.#f=v,this.#o=null}catch(R){this.#o=R}else v=m.data;if(t.placeholderData!==void 0&&v===void 0&&b==="pending"){let R;if(i?.isPlaceholderData&&t.placeholderData===o?.placeholderData)R=i.data;else if(R=typeof t.placeholderData=="function"?t.placeholderData(this.#h?.state.data,this.#h):t.placeholderData,t.select&&R!==void 0)try{R=t.select(R),this.#o=null}catch(P){this.#o=P}R!==void 0&&(b="success",v=qj(i?.data,R,t),p=!0)}this.#o&&(y=this.#o,v=this.#f,x=Date.now(),b="error");const w=m.fetchStatus==="fetching",N=b==="pending",E=b==="error",j=N&&w,O=v!==void 0,C={status:b,fetchStatus:m.fetchStatus,isPending:N,isSuccess:b==="success",isError:E,isInitialLoading:j,isLoading:j,data:v,dataUpdatedAt:m.dataUpdatedAt,error:y,errorUpdatedAt:x,failureCount:m.fetchFailureCount,failureReason:m.fetchFailureReason,errorUpdateCount:m.errorUpdateCount,isFetched:m.dataUpdateCount>0||m.errorUpdateCount>0,isFetchedAfterMount:m.dataUpdateCount>d.dataUpdateCount||m.errorUpdateCount>d.errorUpdateCount,isFetching:w,isRefetching:w&&!N,isLoadingError:E&&!O,isPaused:m.fetchStatus==="paused",isPlaceholderData:p,isRefetchError:E&&O,isStale:NA(e,t),refetch:this.refetch,promise:this.#i};if(this.options.experimental_prefetchInRender){const R=$=>{C.status==="error"?$.reject(C.error):C.data!==void 0&&$.resolve(C.data)},P=()=>{const $=this.#i=C.promise=zj();R($)},k=this.#i;switch(k.status){case"pending":e.queryHash===n.queryHash&&R(k);break;case"fulfilled":(C.status==="error"||C.data!==k.value)&&P();break;case"rejected":(C.status!=="error"||C.error!==k.reason)&&P();break}}return C}updateResult(e){const t=this.#n,n=this.createResult(this.#t,this.options);if(this.#s=this.#t.state,this.#a=this.options,this.#s.data!==void 0&&(this.#h=this.#t),jv(n,t))return;this.#n=n;const r={},i=()=>{if(!t)return!0;const{notifyOnChangeProps:a}=this.options,o=typeof a=="function"?a():a;if(o==="all"||!o&&!this.#m.size)return!0;const l=new Set(o??this.#m);return this.options.throwOnError&&l.add("error"),Object.keys(this.#n).some(d=>{const f=d;return this.#n[f]!==t[f]&&l.has(f)})};e?.listeners!==!1&&i()&&(r.listeners=!0),this.#S({...r,...e})}#_(){const e=this.#e.getQueryCache().build(this.#e,this.options);if(e===this.#t)return;const t=this.#t;this.#t=e,this.#r=e.state,this.hasListeners()&&(t?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#b()}#S(e){er.batch(()=>{e.listeners&&this.listeners.forEach(t=>{t(this.#n)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function iJ(e,t){return ea(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function mk(e,t){return iJ(e,t)||e.state.data!==void 0&&Uj(e,t,t.refetchOnMount)}function Uj(e,t,n){if(ea(t.enabled,e)!==!1){const r=typeof n=="function"?n(e):n;return r==="always"||r!==!1&&NA(e,t)}return!1}function pk(e,t,n,r){return(e!==t||ea(r.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&NA(e,n)}function NA(e,t){return ea(t.enabled,e)!==!1&&e.isStaleByTime(pu(t.staleTime,e))}function aJ(e,t){return!jv(e.getCurrentResult(),t)}var sJ=class extends fz{constructor(e,t){super(e,t)}bindMethods(){super.bindMethods(),this.fetchNextPage=this.fetchNextPage.bind(this),this.fetchPreviousPage=this.fetchPreviousPage.bind(this)}setOptions(e,t){super.setOptions({...e,behavior:Ev()},t)}getOptimisticResult(e){return e.behavior=Ev(),super.getOptimisticResult(e)}fetchNextPage(e){return this.fetch({...e,meta:{fetchMore:{direction:"forward"}}})}fetchPreviousPage(e){return this.fetch({...e,meta:{fetchMore:{direction:"backward"}}})}createResult(e,t){const{state:n}=e,r=super.createResult(e,t),{isFetching:i,isRefetching:a,isError:o,isRefetchError:l}=r,d=n.fetchMeta?.fetchMore?.direction,f=o&&d==="forward",m=i&&d==="forward",p=o&&d==="backward",v=i&&d==="backward";return{...r,fetchNextPage:this.fetchNextPage,fetchPreviousPage:this.fetchPreviousPage,hasNextPage:tJ(t,n.data),hasPreviousPage:nJ(t,n.data),isFetchNextPageError:f,isFetchingNextPage:m,isFetchPreviousPageError:p,isFetchingPreviousPage:v,isRefetchError:l&&!f&&!p,isRefetching:a&&!m&&!v}}},oJ=class extends dd{#e;#t=void 0;#r;#n;constructor(t,n){super(),this.#e=t,this.setOptions(n),this.bindMethods(),this.#s()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){const n=this.options;this.options=this.#e.defaultMutationOptions(t),jv(this.options,n)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#r,observer:this}),n?.mutationKey&&this.options.mutationKey&&Rl(n.mutationKey)!==Rl(this.options.mutationKey)?this.reset():this.#r?.state.status==="pending"&&this.#r.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#r?.removeObserver(this)}onMutationUpdate(t){this.#s(),this.#a(t)}getCurrentResult(){return this.#t}reset(){this.#r?.removeObserver(this),this.#r=void 0,this.#s(),this.#a()}mutate(t,n){return this.#n=n,this.#r?.removeObserver(this),this.#r=this.#e.getMutationCache().build(this.#e,this.options),this.#r.addObserver(this),this.#r.execute(t)}#s(){const t=this.#r?.state??uz();this.#t={...t,isPending:t.status==="pending",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset}}#a(t){er.batch(()=>{if(this.#n&&this.hasListeners()){const n=this.#t.variables,r=this.#t.context;t?.type==="success"?(this.#n.onSuccess?.(t.data,n,r),this.#n.onSettled?.(t.data,null,n,r)):t?.type==="error"&&(this.#n.onError?.(t.error,n,r),this.#n.onSettled?.(void 0,t.error,n,r))}this.listeners.forEach(n=>{n(this.#t)})})}},hz=_.createContext(void 0),qi=e=>{const t=_.useContext(hz);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},lJ=({client:e,children:t})=>(_.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),c.jsx(hz.Provider,{value:e,children:t})),mz=_.createContext(!1),cJ=()=>_.useContext(mz);mz.Provider;function uJ(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var dJ=_.createContext(uJ()),fJ=()=>_.useContext(dJ);function pz(e,t){return typeof e=="function"?e(...t):!!e}function Vj(){}var hJ=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},mJ=e=>{_.useEffect(()=>{e.clearReset()},[e])},pJ=({result:e,errorResetBoundary:t,throwOnError:n,query:r})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&pz(n,[e.error,r]),gJ=e=>{e.suspense&&(e.staleTime===void 0&&(e.staleTime=1e3),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3)))},vJ=(e,t)=>e.isLoading&&e.isFetching&&!t,yJ=(e,t)=>e?.suspense&&t.isPending,gk=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function gz(e,t,n){const r=qi(),i=cJ(),a=fJ(),o=r.defaultQueryOptions(e);r.getDefaultOptions().queries?._experimental_beforeQuery?.(o),o._optimisticResults=i?"isRestoring":"optimistic",gJ(o),hJ(o,a),mJ(a);const l=!r.getQueryCache().get(o.queryHash),[d]=_.useState(()=>new t(r,o)),f=d.getOptimisticResult(o);if(_.useSyncExternalStore(_.useCallback(m=>{const p=i?Vj:d.subscribe(er.batchCalls(m));return d.updateResult(),p},[d,i]),()=>d.getCurrentResult(),()=>d.getCurrentResult()),_.useEffect(()=>{d.setOptions(o,{listeners:!1})},[o,d]),yJ(o,f))throw gk(o,d,a);if(pJ({result:f,errorResetBoundary:a,throwOnError:o.throwOnError,query:r.getQueryCache().get(o.queryHash)}))throw f.error;return r.getDefaultOptions().queries?._experimental_afterQuery?.(o,f),o.experimental_prefetchInRender&&!Cl&&vJ(f,i)&&(l?gk(o,d,a):r.getQueryCache().get(o.queryHash)?.promise)?.catch(Vj).finally(()=>{d.updateResult()}),o.notifyOnChangeProps?f:d.trackResult(f)}function Pt(e,t){return gz(e,fz)}function Ot(e,t){const n=qi(),[r]=_.useState(()=>new oJ(n,e));_.useEffect(()=>{r.setOptions(e)},[r,e]);const i=_.useSyncExternalStore(_.useCallback(o=>r.subscribe(er.batchCalls(o)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),a=_.useCallback((o,l)=>{r.mutate(o,l).catch(Vj)},[r]);if(i.error&&pz(r.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:a,mutateAsync:i.mutate}}function vz(e,t){return gz(e,sJ)}async function bJ(e){if(!e.ok){const t=await e.text()||e.statusText;throw new Error(`${e.status}: ${t}`)}}const xJ=({on401:e})=>async({queryKey:t})=>{const n=await fetch(t.join("/"),{credentials:"include"});return await bJ(n),await n.json()},wJ=new rJ({defaultOptions:{queries:{queryFn:xJ({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),_J=1,SJ=1e6;let Dw=0;function jJ(){return Dw=(Dw+1)%Number.MAX_SAFE_INTEGER,Dw.toString()}const Iw=new Map,vk=e=>{if(Iw.has(e))return;const t=setTimeout(()=>{Iw.delete(e),ah({type:"REMOVE_TOAST",toastId:e})},SJ);Iw.set(e,t)},NJ=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,_J)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?vk(n):e.toasts.forEach(r=>{vk(r.id)}),{...e,toasts:e.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},lv=[];let cv={toasts:[]};function ah(e){cv=NJ(cv,e),lv.forEach(t=>{t(cv)})}function EJ({...e}){const t=jJ(),n=i=>ah({type:"UPDATE_TOAST",toast:{...i,id:t}}),r=()=>ah({type:"DISMISS_TOAST",toastId:t});return ah({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:i=>{i||r()}}}),{id:t,dismiss:r,update:n}}function Yr(){const[e,t]=_.useState(cv);return _.useEffect(()=>(lv.push(t),()=>{const n=lv.indexOf(t);n>-1&&lv.splice(n,1)}),[e]),{...e,toast:EJ,dismiss:n=>ah({type:"DISMISS_TOAST",toastId:n})}}var Ul=V6();const yz=sn(Ul);function ui(e,t,{checkForDefaultPrevented:n=!0}={}){return function(i){if(e?.(i),n===!1||!i.defaultPrevented)return t?.(i)}}function yk(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function So(...e){return t=>{let n=!1;const r=e.map(i=>{const a=yk(i,t);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let i=0;i<r.length;i++){const a=r[i];typeof a=="function"?a():yk(e[i],null)}}}}function At(...e){return _.useCallback(So(...e),e)}function AJ(e,t){const n=_.createContext(t),r=a=>{const{children:o,...l}=a,d=_.useMemo(()=>l,Object.values(l));return c.jsx(n.Provider,{value:d,children:o})};r.displayName=e+"Provider";function i(a){const o=_.useContext(n);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${a}\` must be used within \`${e}\``)}return[r,i]}function Rr(e,t=[]){let n=[];function r(a,o){const l=_.createContext(o),d=n.length;n=[...n,o];const f=p=>{const{scope:v,children:y,...x}=p,b=v?.[e]?.[d]||l,w=_.useMemo(()=>x,Object.values(x));return c.jsx(b.Provider,{value:w,children:y})};f.displayName=a+"Provider";function m(p,v){const y=v?.[e]?.[d]||l,x=_.useContext(y);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${p}\` must be used within \`${a}\``)}return[f,m]}const i=()=>{const a=n.map(o=>_.createContext(o));return function(l){const d=l?.[e]||a;return _.useMemo(()=>({[`__scope${e}`]:{...l,[e]:d}}),[l,d])}};return i.scopeName=e,[r,TJ(i,...t)]}function TJ(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const o=r.reduce((l,{useScope:d,scopeName:f})=>{const p=d(a)[`__scope${f}`];return{...l,...p}},{});return _.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}function Hj(e){const t=OJ(e),n=_.forwardRef((r,i)=>{const{children:a,...o}=r,l=_.Children.toArray(a),d=l.find(RJ);if(d){const f=d.props.children,m=l.map(p=>p===d?_.Children.count(f)>1?_.Children.only(null):_.isValidElement(f)?f.props.children:null:p);return c.jsx(t,{...o,ref:i,children:_.isValidElement(f)?_.cloneElement(f,void 0,m):null})}return c.jsx(t,{...o,ref:i,children:a})});return n.displayName=`${e}.Slot`,n}function OJ(e){const t=_.forwardRef((n,r)=>{const{children:i,...a}=n;if(_.isValidElement(i)){const o=MJ(i),l=PJ(a,i.props);return i.type!==_.Fragment&&(l.ref=r?So(r,o):o),_.cloneElement(i,l)}return _.Children.count(i)>1?_.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var CJ=Symbol("radix.slottable");function RJ(e){return _.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===CJ}function PJ(e,t){const n={...t};for(const r in t){const i=e[r],a=t[r];/^on[A-Z]/.test(r)?i&&a?n[r]=(...l)=>{a(...l),i(...l)}:i&&(n[r]=i):r==="style"?n[r]={...i,...a}:r==="className"&&(n[r]=[i,a].filter(Boolean).join(" "))}return{...e,...n}}function MJ(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function kJ(e){const t=e+"CollectionProvider",[n,r]=Rr(t),[i,a]=n(t,{collectionRef:{current:null},itemMap:new Map}),o=b=>{const{scope:w,children:N}=b,E=q.useRef(null),j=q.useRef(new Map).current;return c.jsx(i,{scope:w,itemMap:j,collectionRef:E,children:N})};o.displayName=t;const l=e+"CollectionSlot",d=Hj(l),f=q.forwardRef((b,w)=>{const{scope:N,children:E}=b,j=a(l,N),O=At(w,j.collectionRef);return c.jsx(d,{ref:O,children:E})});f.displayName=l;const m=e+"CollectionItemSlot",p="data-radix-collection-item",v=Hj(m),y=q.forwardRef((b,w)=>{const{scope:N,children:E,...j}=b,O=q.useRef(null),T=At(w,O),C=a(m,N);return q.useEffect(()=>(C.itemMap.set(O,{ref:O,...j}),()=>void C.itemMap.delete(O))),c.jsx(v,{[p]:"",ref:T,children:E})});y.displayName=m;function x(b){const w=a(e+"CollectionConsumer",b);return q.useCallback(()=>{const E=w.collectionRef.current;if(!E)return[];const j=Array.from(E.querySelectorAll(`[${p}]`));return Array.from(w.itemMap.values()).sort((C,R)=>j.indexOf(C.ref.current)-j.indexOf(R.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:o,Slot:f,ItemSlot:y},x,r]}var DJ=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],ka=DJ.reduce((e,t)=>{const n=Hj(`Primitive.${t}`),r=_.forwardRef((i,a)=>{const{asChild:o,...l}=i,d=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),c.jsx(d,{...l,ref:a})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function bz(e,t){e&&Ul.flushSync(()=>e.dispatchEvent(t))}function Sr(e){const t=_.useRef(e);return _.useEffect(()=>{t.current=e}),_.useMemo(()=>(...n)=>t.current?.(...n),[])}function xz(e,t=globalThis?.document){const n=Sr(e);_.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var IJ="DismissableLayer",Gj="dismissableLayer.update",$J="dismissableLayer.pointerDownOutside",LJ="dismissableLayer.focusOutside",bk,wz=_.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),_z=_.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:o,onDismiss:l,...d}=e,f=_.useContext(wz),[m,p]=_.useState(null),v=m?.ownerDocument??globalThis?.document,[,y]=_.useState({}),x=At(t,R=>p(R)),b=Array.from(f.layers),[w]=[...f.layersWithOutsidePointerEventsDisabled].slice(-1),N=b.indexOf(w),E=m?b.indexOf(m):-1,j=f.layersWithOutsidePointerEventsDisabled.size>0,O=E>=N,T=qJ(R=>{const P=R.target,k=[...f.branches].some($=>$.contains(P));!O||k||(i?.(R),o?.(R),R.defaultPrevented||l?.())},v),C=zJ(R=>{const P=R.target;[...f.branches].some($=>$.contains(P))||(a?.(R),o?.(R),R.defaultPrevented||l?.())},v);return xz(R=>{E===f.layers.size-1&&(r?.(R),!R.defaultPrevented&&l&&(R.preventDefault(),l()))},v),_.useEffect(()=>{if(m)return n&&(f.layersWithOutsidePointerEventsDisabled.size===0&&(bk=v.body.style.pointerEvents,v.body.style.pointerEvents="none"),f.layersWithOutsidePointerEventsDisabled.add(m)),f.layers.add(m),xk(),()=>{n&&f.layersWithOutsidePointerEventsDisabled.size===1&&(v.body.style.pointerEvents=bk)}},[m,v,n,f]),_.useEffect(()=>()=>{m&&(f.layers.delete(m),f.layersWithOutsidePointerEventsDisabled.delete(m),xk())},[m,f]),_.useEffect(()=>{const R=()=>y({});return document.addEventListener(Gj,R),()=>document.removeEventListener(Gj,R)},[]),c.jsx(ka.div,{...d,ref:x,style:{pointerEvents:j?O?"auto":"none":void 0,...e.style},onFocusCapture:ui(e.onFocusCapture,C.onFocusCapture),onBlurCapture:ui(e.onBlurCapture,C.onBlurCapture),onPointerDownCapture:ui(e.onPointerDownCapture,T.onPointerDownCapture)})});_z.displayName=IJ;var BJ="DismissableLayerBranch",Sz=_.forwardRef((e,t)=>{const n=_.useContext(wz),r=_.useRef(null),i=At(t,r);return _.useEffect(()=>{const a=r.current;if(a)return n.branches.add(a),()=>{n.branches.delete(a)}},[n.branches]),c.jsx(ka.div,{...e,ref:i})});Sz.displayName=BJ;function qJ(e,t=globalThis?.document){const n=Sr(e),r=_.useRef(!1),i=_.useRef(()=>{});return _.useEffect(()=>{const a=l=>{if(l.target&&!r.current){let d=function(){jz($J,n,f,{discrete:!0})};const f={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=d,t.addEventListener("click",i.current,{once:!0})):d()}else t.removeEventListener("click",i.current);r.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",a),t.removeEventListener("click",i.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function zJ(e,t=globalThis?.document){const n=Sr(e),r=_.useRef(!1);return _.useEffect(()=>{const i=a=>{a.target&&!r.current&&jz(LJ,n,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function xk(){const e=new CustomEvent(Gj);document.dispatchEvent(e)}function jz(e,t,n,{discrete:r}){const i=n.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),r?bz(i,a):i.dispatchEvent(a)}var FJ=_z,UJ=Sz,Ut=globalThis?.document?_.useLayoutEffect:()=>{},VJ="Portal",Nz=_.forwardRef((e,t)=>{const{container:n,...r}=e,[i,a]=_.useState(!1);Ut(()=>a(!0),[]);const o=n||i&&globalThis?.document?.body;return o?yz.createPortal(c.jsx(ka.div,{...r,ref:t}),o):null});Nz.displayName=VJ;function HJ(e,t){return _.useReducer((n,r)=>t[n][r]??n,e)}var Ez=e=>{const{present:t,children:n}=e,r=GJ(t),i=typeof n=="function"?n({present:r.isPresent}):_.Children.only(n),a=At(r.ref,KJ(i));return typeof n=="function"||r.isPresent?_.cloneElement(i,{ref:a}):null};Ez.displayName="Presence";function GJ(e){const[t,n]=_.useState(),r=_.useRef({}),i=_.useRef(e),a=_.useRef("none"),o=e?"mounted":"unmounted",[l,d]=HJ(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return _.useEffect(()=>{const f=wg(r.current);a.current=l==="mounted"?f:"none"},[l]),Ut(()=>{const f=r.current,m=i.current;if(m!==e){const v=a.current,y=wg(f);e?d("MOUNT"):y==="none"||f?.display==="none"?d("UNMOUNT"):d(m&&v!==y?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,d]),Ut(()=>{if(t){let f;const m=t.ownerDocument.defaultView??window,p=y=>{const b=wg(r.current).includes(y.animationName);if(y.target===t&&b&&(d("ANIMATION_END"),!i.current)){const w=t.style.animationFillMode;t.style.animationFillMode="forwards",f=m.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=w)})}},v=y=>{y.target===t&&(a.current=wg(r.current))};return t.addEventListener("animationstart",v),t.addEventListener("animationcancel",p),t.addEventListener("animationend",p),()=>{m.clearTimeout(f),t.removeEventListener("animationstart",v),t.removeEventListener("animationcancel",p),t.removeEventListener("animationend",p)}}else d("ANIMATION_END")},[t,d]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:_.useCallback(f=>{f&&(r.current=getComputedStyle(f)),n(f)},[])}}function wg(e){return e?.animationName||"none"}function KJ(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function WJ({prop:e,defaultProp:t,onChange:n=()=>{}}){const[r,i]=YJ({defaultProp:t,onChange:n}),a=e!==void 0,o=a?e:r,l=Sr(n),d=_.useCallback(f=>{if(a){const p=typeof f=="function"?f(e):f;p!==e&&l(p)}else i(f)},[a,e,i,l]);return[o,d]}function YJ({defaultProp:e,onChange:t}){const n=_.useState(e),[r]=n,i=_.useRef(r),a=Sr(t);return _.useEffect(()=>{i.current!==r&&(a(r),i.current=r)},[r,i,a]),n}var XJ="VisuallyHidden",EA=_.forwardRef((e,t)=>c.jsx(ka.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));EA.displayName=XJ;var AA="ToastProvider",[TA,QJ,JJ]=kJ("Toast"),[Az]=Rr("Toast",[JJ]),[ZJ,Jy]=Az(AA),Tz=e=>{const{__scopeToast:t,label:n="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:a=50,children:o}=e,[l,d]=_.useState(null),[f,m]=_.useState(0),p=_.useRef(!1),v=_.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${AA}\`. Expected non-empty \`string\`.`),c.jsx(TA.Provider,{scope:t,children:c.jsx(ZJ,{scope:t,label:n,duration:r,swipeDirection:i,swipeThreshold:a,toastCount:f,viewport:l,onViewportChange:d,onToastAdd:_.useCallback(()=>m(y=>y+1),[]),onToastRemove:_.useCallback(()=>m(y=>y-1),[]),isFocusedToastEscapeKeyDownRef:p,isClosePausedRef:v,children:o})})};Tz.displayName=AA;var Oz="ToastViewport",eZ=["F8"],Kj="toast.viewportPause",Wj="toast.viewportResume",Cz=_.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:r=eZ,label:i="Notifications ({hotkey})",...a}=e,o=Jy(Oz,n),l=QJ(n),d=_.useRef(null),f=_.useRef(null),m=_.useRef(null),p=_.useRef(null),v=At(t,p,o.onViewportChange),y=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),x=o.toastCount>0;_.useEffect(()=>{const w=N=>{r.length!==0&&r.every(j=>N[j]||N.code===j)&&p.current?.focus()};return document.addEventListener("keydown",w),()=>document.removeEventListener("keydown",w)},[r]),_.useEffect(()=>{const w=d.current,N=p.current;if(x&&w&&N){const E=()=>{if(!o.isClosePausedRef.current){const C=new CustomEvent(Kj);N.dispatchEvent(C),o.isClosePausedRef.current=!0}},j=()=>{if(o.isClosePausedRef.current){const C=new CustomEvent(Wj);N.dispatchEvent(C),o.isClosePausedRef.current=!1}},O=C=>{!w.contains(C.relatedTarget)&&j()},T=()=>{w.contains(document.activeElement)||j()};return w.addEventListener("focusin",E),w.addEventListener("focusout",O),w.addEventListener("pointermove",E),w.addEventListener("pointerleave",T),window.addEventListener("blur",E),window.addEventListener("focus",j),()=>{w.removeEventListener("focusin",E),w.removeEventListener("focusout",O),w.removeEventListener("pointermove",E),w.removeEventListener("pointerleave",T),window.removeEventListener("blur",E),window.removeEventListener("focus",j)}}},[x,o.isClosePausedRef]);const b=_.useCallback(({tabbingDirection:w})=>{const E=l().map(j=>{const O=j.ref.current,T=[O,...hZ(O)];return w==="forwards"?T:T.reverse()});return(w==="forwards"?E.reverse():E).flat()},[l]);return _.useEffect(()=>{const w=p.current;if(w){const N=E=>{const j=E.altKey||E.ctrlKey||E.metaKey;if(E.key==="Tab"&&!j){const T=document.activeElement,C=E.shiftKey;if(E.target===w&&C){f.current?.focus();return}const k=b({tabbingDirection:C?"backwards":"forwards"}),$=k.findIndex(B=>B===T);$w(k.slice($+1))?E.preventDefault():C?f.current?.focus():m.current?.focus()}};return w.addEventListener("keydown",N),()=>w.removeEventListener("keydown",N)}},[l,b]),c.jsxs(UJ,{ref:d,role:"region","aria-label":i.replace("{hotkey}",y),tabIndex:-1,style:{pointerEvents:x?void 0:"none"},children:[x&&c.jsx(Yj,{ref:f,onFocusFromOutsideViewport:()=>{const w=b({tabbingDirection:"forwards"});$w(w)}}),c.jsx(TA.Slot,{scope:n,children:c.jsx(ka.ol,{tabIndex:-1,...a,ref:v})}),x&&c.jsx(Yj,{ref:m,onFocusFromOutsideViewport:()=>{const w=b({tabbingDirection:"backwards"});$w(w)}})]})});Cz.displayName=Oz;var Rz="ToastFocusProxy",Yj=_.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...i}=e,a=Jy(Rz,n);return c.jsx(EA,{"aria-hidden":!0,tabIndex:0,...i,ref:t,style:{position:"fixed"},onFocus:o=>{const l=o.relatedTarget;!a.viewport?.contains(l)&&r()}})});Yj.displayName=Rz;var Zy="Toast",tZ="toast.swipeStart",nZ="toast.swipeMove",rZ="toast.swipeCancel",iZ="toast.swipeEnd",Pz=_.forwardRef((e,t)=>{const{forceMount:n,open:r,defaultOpen:i,onOpenChange:a,...o}=e,[l=!0,d]=WJ({prop:r,defaultProp:i,onChange:a});return c.jsx(Ez,{present:n||l,children:c.jsx(oZ,{open:l,...o,ref:t,onClose:()=>d(!1),onPause:Sr(e.onPause),onResume:Sr(e.onResume),onSwipeStart:ui(e.onSwipeStart,f=>{f.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:ui(e.onSwipeMove,f=>{const{x:m,y:p}=f.detail.delta;f.currentTarget.setAttribute("data-swipe","move"),f.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${m}px`),f.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${p}px`)}),onSwipeCancel:ui(e.onSwipeCancel,f=>{f.currentTarget.setAttribute("data-swipe","cancel"),f.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),f.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),f.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),f.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:ui(e.onSwipeEnd,f=>{const{x:m,y:p}=f.detail.delta;f.currentTarget.setAttribute("data-swipe","end"),f.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),f.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),f.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${m}px`),f.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${p}px`),d(!1)})})})});Pz.displayName=Zy;var[aZ,sZ]=Az(Zy,{onClose(){}}),oZ=_.forwardRef((e,t)=>{const{__scopeToast:n,type:r="foreground",duration:i,open:a,onClose:o,onEscapeKeyDown:l,onPause:d,onResume:f,onSwipeStart:m,onSwipeMove:p,onSwipeCancel:v,onSwipeEnd:y,...x}=e,b=Jy(Zy,n),[w,N]=_.useState(null),E=At(t,V=>N(V)),j=_.useRef(null),O=_.useRef(null),T=i||b.duration,C=_.useRef(0),R=_.useRef(T),P=_.useRef(0),{onToastAdd:k,onToastRemove:$}=b,B=Sr(()=>{w?.contains(document.activeElement)&&b.viewport?.focus(),o()}),I=_.useCallback(V=>{!V||V===1/0||(window.clearTimeout(P.current),C.current=new Date().getTime(),P.current=window.setTimeout(B,V))},[B]);_.useEffect(()=>{const V=b.viewport;if(V){const U=()=>{I(R.current),f?.()},D=()=>{const G=new Date().getTime()-C.current;R.current=R.current-G,window.clearTimeout(P.current),d?.()};return V.addEventListener(Kj,D),V.addEventListener(Wj,U),()=>{V.removeEventListener(Kj,D),V.removeEventListener(Wj,U)}}},[b.viewport,T,d,f,I]),_.useEffect(()=>{a&&!b.isClosePausedRef.current&&I(T)},[a,T,b.isClosePausedRef,I]),_.useEffect(()=>(k(),()=>$()),[k,$]);const F=_.useMemo(()=>w?Bz(w):null,[w]);return b.viewport?c.jsxs(c.Fragment,{children:[F&&c.jsx(lZ,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:F}),c.jsx(aZ,{scope:n,onClose:B,children:Ul.createPortal(c.jsx(TA.ItemSlot,{scope:n,children:c.jsx(FJ,{asChild:!0,onEscapeKeyDown:ui(l,()=>{b.isFocusedToastEscapeKeyDownRef.current||B(),b.isFocusedToastEscapeKeyDownRef.current=!1}),children:c.jsx(ka.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":b.swipeDirection,...x,ref:E,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:ui(e.onKeyDown,V=>{V.key==="Escape"&&(l?.(V.nativeEvent),V.nativeEvent.defaultPrevented||(b.isFocusedToastEscapeKeyDownRef.current=!0,B()))}),onPointerDown:ui(e.onPointerDown,V=>{V.button===0&&(j.current={x:V.clientX,y:V.clientY})}),onPointerMove:ui(e.onPointerMove,V=>{if(!j.current)return;const U=V.clientX-j.current.x,D=V.clientY-j.current.y,G=!!O.current,z=["left","right"].includes(b.swipeDirection),Y=["left","up"].includes(b.swipeDirection)?Math.min:Math.max,de=z?Y(0,U):0,H=z?0:Y(0,D),K=V.pointerType==="touch"?10:2,Z={x:de,y:H},le={originalEvent:V,delta:Z};G?(O.current=Z,_g(nZ,p,le,{discrete:!1})):wk(Z,b.swipeDirection,K)?(O.current=Z,_g(tZ,m,le,{discrete:!1}),V.target.setPointerCapture(V.pointerId)):(Math.abs(U)>K||Math.abs(D)>K)&&(j.current=null)}),onPointerUp:ui(e.onPointerUp,V=>{const U=O.current,D=V.target;if(D.hasPointerCapture(V.pointerId)&&D.releasePointerCapture(V.pointerId),O.current=null,j.current=null,U){const G=V.currentTarget,z={originalEvent:V,delta:U};wk(U,b.swipeDirection,b.swipeThreshold)?_g(iZ,y,z,{discrete:!0}):_g(rZ,v,z,{discrete:!0}),G.addEventListener("click",Y=>Y.preventDefault(),{once:!0})}})})})}),b.viewport)})]}):null}),lZ=e=>{const{__scopeToast:t,children:n,...r}=e,i=Jy(Zy,t),[a,o]=_.useState(!1),[l,d]=_.useState(!1);return dZ(()=>o(!0)),_.useEffect(()=>{const f=window.setTimeout(()=>d(!0),1e3);return()=>window.clearTimeout(f)},[]),l?null:c.jsx(Nz,{asChild:!0,children:c.jsx(EA,{...r,children:a&&c.jsxs(c.Fragment,{children:[i.label," ",n]})})})},cZ="ToastTitle",Mz=_.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return c.jsx(ka.div,{...r,ref:t})});Mz.displayName=cZ;var uZ="ToastDescription",kz=_.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return c.jsx(ka.div,{...r,ref:t})});kz.displayName=uZ;var Dz="ToastAction",Iz=_.forwardRef((e,t)=>{const{altText:n,...r}=e;return n.trim()?c.jsx(Lz,{altText:n,asChild:!0,children:c.jsx(OA,{...r,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${Dz}\`. Expected non-empty \`string\`.`),null)});Iz.displayName=Dz;var $z="ToastClose",OA=_.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e,i=sZ($z,n);return c.jsx(Lz,{asChild:!0,children:c.jsx(ka.button,{type:"button",...r,ref:t,onClick:ui(e.onClick,i.onClose)})})});OA.displayName=$z;var Lz=_.forwardRef((e,t)=>{const{__scopeToast:n,altText:r,...i}=e;return c.jsx(ka.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:t})});function Bz(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),fZ(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",a=r.dataset.radixToastAnnounceExclude==="";if(!i)if(a){const o=r.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...Bz(r))}}),t}function _g(e,t,n,{discrete:r}){const i=n.originalEvent.currentTarget,a=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),r?bz(i,a):i.dispatchEvent(a)}var wk=(e,t,n=0)=>{const r=Math.abs(e.x),i=Math.abs(e.y),a=r>i;return t==="left"||t==="right"?a&&r>n:!a&&i>n};function dZ(e=()=>{}){const t=Sr(e);Ut(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[t])}function fZ(e){return e.nodeType===e.ELEMENT_NODE}function hZ(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function $w(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var mZ=Tz,qz=Cz,zz=Pz,Fz=Mz,Uz=kz,Vz=Iz,Hz=OA;function Gz(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=Gz(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Mt(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=Gz(e))&&(r&&(r+=" "),r+=t);return r}const _k=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Sk=Mt,fd=(e,t)=>n=>{var r;if(t?.variants==null)return Sk(e,n?.class,n?.className);const{variants:i,defaultVariants:a}=t,o=Object.keys(i).map(f=>{const m=n?.[f],p=a?.[f];if(m===null)return null;const v=_k(m)||_k(p);return i[f][v]}),l=n&&Object.entries(n).reduce((f,m)=>{let[p,v]=m;return v===void 0||(f[p]=v),f},{}),d=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((f,m)=>{let{class:p,className:v,...y}=m;return Object.entries(y).every(x=>{let[b,w]=x;return Array.isArray(w)?w.includes({...a,...l}[b]):{...a,...l}[b]===w})?[...f,p,v]:f},[]);return Sk(e,o,d,n?.class,n?.className)};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pZ=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),gZ=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),jk=e=>{const t=gZ(e);return t.charAt(0).toUpperCase()+t.slice(1)},Kz=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim(),vZ=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var yZ={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bZ=_.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:o,...l},d)=>_.createElement("svg",{ref:d,...yZ,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:Kz("lucide",i),...!a&&!vZ(l)&&{"aria-hidden":"true"},...l},[...o.map(([f,m])=>_.createElement(f,m)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tt=(e,t)=>{const n=_.forwardRef(({className:r,...i},a)=>_.createElement(bZ,{ref:a,iconNode:t,className:Kz(`lucide-${pZ(jk(e))}`,`lucide-${e}`,r),...i}));return n.displayName=jk(e),n};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xZ=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],wZ=tt("archive",xZ);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _Z=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],Nk=tt("arrow-down",_Z);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SZ=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Wz=tt("arrow-left",SZ);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jZ=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],Ek=tt("arrow-up",jZ);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NZ=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Th=tt("bell",NZ);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EZ=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],AZ=tt("calendar",EZ);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TZ=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],go=tt("check",TZ);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OZ=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],CA=tt("chevron-down",OZ);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CZ=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Oh=tt("chevron-left",CZ);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RZ=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Av=tt("chevron-right",RZ);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PZ=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],MZ=tt("chevron-up",PZ);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kZ=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],DZ=tt("circle-alert",kZ);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IZ=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],$Z=tt("circle-check",IZ);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LZ=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Xf=tt("circle",LZ);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BZ=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],qZ=tt("clock",BZ);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zZ=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],FZ=tt("crown",zZ);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UZ=[["path",{d:"M17.596 12.768a2 2 0 1 0 2.829-2.829l-1.768-1.767a2 2 0 0 0 2.828-2.829l-2.828-2.828a2 2 0 0 0-2.829 2.828l-1.767-1.768a2 2 0 1 0-2.829 2.829z",key:"9m4mmf"}],["path",{d:"m2.5 21.5 1.4-1.4",key:"17g3f0"}],["path",{d:"m20.1 3.9 1.4-1.4",key:"1qn309"}],["path",{d:"M5.343 21.485a2 2 0 1 0 2.829-2.828l1.767 1.768a2 2 0 1 0 2.829-2.829l-6.364-6.364a2 2 0 1 0-2.829 2.829l1.768 1.767a2 2 0 0 0-2.828 2.829z",key:"1t2c92"}],["path",{d:"m9.6 14.4 4.8-4.8",key:"6umqxw"}]],Mi=tt("dumbbell",UZ);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VZ=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],HZ=tt("eye",VZ);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GZ=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Xj=tt("file-text",GZ);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KZ=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],WZ=tt("funnel",KZ);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YZ=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],Yz=tt("grip-vertical",YZ);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XZ=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}],["path",{d:"M3.22 13H9.5l.5-1 2 4.5 2-7 1.5 3.5h5.27",key:"auskq0"}]],Ak=tt("heart-pulse",XZ);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QZ=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],JZ=tt("heart",QZ);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZZ=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Qj=tt("info",ZZ);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eee=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],Xz=tt("layers",eee);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tee=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],nee=tt("log-out",tee);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ree=[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]],Tk=tt("medal",ree);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iee=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],ls=tt("message-square",iee);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aee=[["path",{d:"M5 12h14",key:"1ays0h"}]],Qz=tt("minus",aee);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const see=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],oee=tt("moon",see);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lee=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],cee=tt("pause",lee);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uee=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Ch=tt("pen",uee);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dee=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],fee=tt("pencil",dee);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hee=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],Tv=tt("play",hee);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mee=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],na=tt("plus",mee);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pee=[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]],gee=tt("power",pee);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vee=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Jz=tt("refresh-cw",vee);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yee=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],bee=tt("rotate-ccw",yee);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xee=[["circle",{cx:"6",cy:"19",r:"3",key:"1kj8tv"}],["path",{d:"M9 19h8.5a3.5 3.5 0 0 0 0-7h-11a3.5 3.5 0 0 1 0-7H15",key:"1d8sl"}],["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}]],Zz=tt("route",xee);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wee=[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]],Ok=tt("ruler",wee);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _ee=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],sh=tt("save",_ee);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const See=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],RA=tt("search",See);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jee=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],Nee=tt("send",jee);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eee=[["path",{d:"M14 17H5",key:"gfn3mx"}],["path",{d:"M19 7h-9",key:"6i9tg"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]],Ck=tt("settings-2",Eee);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aee=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Tee=tt("settings",Aee);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oee=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Cee=tt("shield-check",Oee);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ree=[["path",{d:"M10 5H3",key:"1qgfaw"}],["path",{d:"M12 19H3",key:"yhmn1j"}],["path",{d:"M14 3v4",key:"1sua03"}],["path",{d:"M16 17v4",key:"1q0r14"}],["path",{d:"M21 12h-9",key:"1o4lsq"}],["path",{d:"M21 19h-5",key:"1rlt1p"}],["path",{d:"M21 5h-7",key:"1oszz2"}],["path",{d:"M8 10v4",key:"tgpxqk"}],["path",{d:"M8 12H3",key:"a7s4jb"}]],Pee=tt("sliders-horizontal",Ree);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mee=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],kee=tt("sun",Mee);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dee=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],Ov=tt("timer",Dee);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iee=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],ro=tt("trash-2",Iee);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $ee=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Lee=tt("trending-up",$ee);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bee=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],so=tt("trophy",Bee);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qee=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Rk=tt("user-check",qee);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zee=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],Fee=tt("user-minus",zee);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uee=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],Vee=tt("user-plus",Uee);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hee=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]],Sg=tt("user-x",Hee);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gee=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],gu=tt("users",Gee);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kee=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],jg=tt("user",Kee);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wee=[["path",{d:"M2 6c.6.5 1.2 1 2.5 1C7 7 7 5 9.5 5c2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"knzxuh"}],["path",{d:"M2 12c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"2jd2cc"}],["path",{d:"M2 18c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"rd2r6e"}]],mi=tt("waves",Wee);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yee=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Ii=tt("x",Yee),PA="-",Xee=e=>{const t=Jee(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:o=>{const l=o.split(PA);return l[0]===""&&l.length!==1&&l.shift(),eF(l,t)||Qee(o)},getConflictingClassGroupIds:(o,l)=>{const d=n[o]||[];return l&&r[o]?[...d,...r[o]]:d}}},eF=(e,t)=>{if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),i=r?eF(e.slice(1),r):void 0;if(i)return i;if(t.validators.length===0)return;const a=e.join(PA);return t.validators.find(({validator:o})=>o(a))?.classGroupId},Pk=/^\[(.+)\]$/,Qee=e=>{if(Pk.test(e)){const t=Pk.exec(e)[1],n=t?.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},Jee=e=>{const{theme:t,classGroups:n}=e,r={nextPart:new Map,validators:[]};for(const i in n)Jj(n[i],r,i,t);return r},Jj=(e,t,n,r)=>{e.forEach(i=>{if(typeof i=="string"){const a=i===""?t:Mk(t,i);a.classGroupId=n;return}if(typeof i=="function"){if(Zee(i)){Jj(i(r),t,n,r);return}t.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([a,o])=>{Jj(o,Mk(t,a),n,r)})})},Mk=(e,t)=>{let n=e;return t.split(PA).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},Zee=e=>e.isThemeGetter,ete=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const i=(a,o)=>{n.set(a,o),t++,t>e&&(t=0,r=n,n=new Map)};return{get(a){let o=n.get(a);if(o!==void 0)return o;if((o=r.get(a))!==void 0)return i(a,o),o},set(a,o){n.has(a)?n.set(a,o):i(a,o)}}},Zj="!",eN=":",tte=eN.length,nte=e=>{const{prefix:t,experimentalParseClassName:n}=e;let r=i=>{const a=[];let o=0,l=0,d=0,f;for(let x=0;x<i.length;x++){let b=i[x];if(o===0&&l===0){if(b===eN){a.push(i.slice(d,x)),d=x+tte;continue}if(b==="/"){f=x;continue}}b==="["?o++:b==="]"?o--:b==="("?l++:b===")"&&l--}const m=a.length===0?i:i.substring(d),p=rte(m),v=p!==m,y=f&&f>d?f-d:void 0;return{modifiers:a,hasImportantModifier:v,baseClassName:p,maybePostfixModifierPosition:y}};if(t){const i=t+eN,a=r;r=o=>o.startsWith(i)?a(o.substring(i.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:o,maybePostfixModifierPosition:void 0}}if(n){const i=r;r=a=>n({className:a,parseClassName:i})}return r},rte=e=>e.endsWith(Zj)?e.substring(0,e.length-1):e.startsWith(Zj)?e.substring(1):e,ite=e=>{const t=Object.fromEntries(e.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const i=[];let a=[];return r.forEach(o=>{o[0]==="["||t[o]?(i.push(...a.sort(),o),a=[]):a.push(o)}),i.push(...a.sort()),i}},ate=e=>({cache:ete(e.cacheSize),parseClassName:nte(e),sortModifiers:ite(e),...Xee(e)}),ste=/\s+/,ote=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i,sortModifiers:a}=t,o=[],l=e.trim().split(ste);let d="";for(let f=l.length-1;f>=0;f-=1){const m=l[f],{isExternal:p,modifiers:v,hasImportantModifier:y,baseClassName:x,maybePostfixModifierPosition:b}=n(m);if(p){d=m+(d.length>0?" "+d:d);continue}let w=!!b,N=r(w?x.substring(0,b):x);if(!N){if(!w){d=m+(d.length>0?" "+d:d);continue}if(N=r(x),!N){d=m+(d.length>0?" "+d:d);continue}w=!1}const E=a(v).join(":"),j=y?E+Zj:E,O=j+N;if(o.includes(O))continue;o.push(O);const T=i(N,w);for(let C=0;C<T.length;++C){const R=T[C];o.push(j+R)}d=m+(d.length>0?" "+d:d)}return d};function lte(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=tF(t))&&(r&&(r+=" "),r+=n);return r}const tF=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=tF(e[r]))&&(n&&(n+=" "),n+=t);return n};function cte(e,...t){let n,r,i,a=o;function o(d){const f=t.reduce((m,p)=>p(m),e());return n=ate(f),r=n.cache.get,i=n.cache.set,a=l,l(d)}function l(d){const f=r(d);if(f)return f;const m=ote(d,n);return i(d,m),m}return function(){return a(lte.apply(null,arguments))}}const Yn=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},nF=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,rF=/^\((?:(\w[\w-]*):)?(.+)\)$/i,ute=/^\d+\/\d+$/,dte=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,fte=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,hte=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,mte=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,pte=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Dc=e=>ute.test(e),Rt=e=>!!e&&!Number.isNaN(Number(e)),Xs=e=>!!e&&Number.isInteger(Number(e)),Lw=e=>e.endsWith("%")&&Rt(e.slice(0,-1)),ts=e=>dte.test(e),gte=()=>!0,vte=e=>fte.test(e)&&!hte.test(e),iF=()=>!1,yte=e=>mte.test(e),bte=e=>pte.test(e),xte=e=>!Ke(e)&&!We(e),wte=e=>hd(e,oF,iF),Ke=e=>nF.test(e),Zo=e=>hd(e,lF,vte),Bw=e=>hd(e,Ete,Rt),kk=e=>hd(e,aF,iF),_te=e=>hd(e,sF,bte),Ng=e=>hd(e,cF,yte),We=e=>rF.test(e),Rf=e=>md(e,lF),Ste=e=>md(e,Ate),Dk=e=>md(e,aF),jte=e=>md(e,oF),Nte=e=>md(e,sF),Eg=e=>md(e,cF,!0),hd=(e,t,n)=>{const r=nF.exec(e);return r?r[1]?t(r[1]):n(r[2]):!1},md=(e,t,n=!1)=>{const r=rF.exec(e);return r?r[1]?t(r[1]):n:!1},aF=e=>e==="position"||e==="percentage",sF=e=>e==="image"||e==="url",oF=e=>e==="length"||e==="size"||e==="bg-size",lF=e=>e==="length",Ete=e=>e==="number",Ate=e=>e==="family-name",cF=e=>e==="shadow",Tte=()=>{const e=Yn("color"),t=Yn("font"),n=Yn("text"),r=Yn("font-weight"),i=Yn("tracking"),a=Yn("leading"),o=Yn("breakpoint"),l=Yn("container"),d=Yn("spacing"),f=Yn("radius"),m=Yn("shadow"),p=Yn("inset-shadow"),v=Yn("text-shadow"),y=Yn("drop-shadow"),x=Yn("blur"),b=Yn("perspective"),w=Yn("aspect"),N=Yn("ease"),E=Yn("animate"),j=()=>["auto","avoid","all","avoid-page","page","left","right","column"],O=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],T=()=>[...O(),We,Ke],C=()=>["auto","hidden","clip","visible","scroll"],R=()=>["auto","contain","none"],P=()=>[We,Ke,d],k=()=>[Dc,"full","auto",...P()],$=()=>[Xs,"none","subgrid",We,Ke],B=()=>["auto",{span:["full",Xs,We,Ke]},Xs,We,Ke],I=()=>[Xs,"auto",We,Ke],F=()=>["auto","min","max","fr",We,Ke],V=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],U=()=>["start","end","center","stretch","center-safe","end-safe"],D=()=>["auto",...P()],G=()=>[Dc,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...P()],z=()=>[e,We,Ke],Y=()=>[...O(),Dk,kk,{position:[We,Ke]}],de=()=>["no-repeat",{repeat:["","x","y","space","round"]}],H=()=>["auto","cover","contain",jte,wte,{size:[We,Ke]}],K=()=>[Lw,Rf,Zo],Z=()=>["","none","full",f,We,Ke],le=()=>["",Rt,Rf,Zo],be=()=>["solid","dashed","dotted","double"],ae=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],J=()=>[Rt,Lw,Dk,kk],me=()=>["","none",x,We,Ke],oe=()=>["none",Rt,We,Ke],pe=()=>["none",Rt,We,Ke],we=()=>[Rt,We,Ke],ee=()=>[Dc,"full",...P()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[ts],breakpoint:[ts],color:[gte],container:[ts],"drop-shadow":[ts],ease:["in","out","in-out"],font:[xte],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[ts],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[ts],shadow:[ts],spacing:["px",Rt],text:[ts],"text-shadow":[ts],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Dc,Ke,We,w]}],container:["container"],columns:[{columns:[Rt,Ke,We,l]}],"break-after":[{"break-after":j()}],"break-before":[{"break-before":j()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:T()}],overflow:[{overflow:C()}],"overflow-x":[{"overflow-x":C()}],"overflow-y":[{"overflow-y":C()}],overscroll:[{overscroll:R()}],"overscroll-x":[{"overscroll-x":R()}],"overscroll-y":[{"overscroll-y":R()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:k()}],"inset-x":[{"inset-x":k()}],"inset-y":[{"inset-y":k()}],start:[{start:k()}],end:[{end:k()}],top:[{top:k()}],right:[{right:k()}],bottom:[{bottom:k()}],left:[{left:k()}],visibility:["visible","invisible","collapse"],z:[{z:[Xs,"auto",We,Ke]}],basis:[{basis:[Dc,"full","auto",l,...P()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Rt,Dc,"auto","initial","none",Ke]}],grow:[{grow:["",Rt,We,Ke]}],shrink:[{shrink:["",Rt,We,Ke]}],order:[{order:[Xs,"first","last","none",We,Ke]}],"grid-cols":[{"grid-cols":$()}],"col-start-end":[{col:B()}],"col-start":[{"col-start":I()}],"col-end":[{"col-end":I()}],"grid-rows":[{"grid-rows":$()}],"row-start-end":[{row:B()}],"row-start":[{"row-start":I()}],"row-end":[{"row-end":I()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":F()}],"auto-rows":[{"auto-rows":F()}],gap:[{gap:P()}],"gap-x":[{"gap-x":P()}],"gap-y":[{"gap-y":P()}],"justify-content":[{justify:[...V(),"normal"]}],"justify-items":[{"justify-items":[...U(),"normal"]}],"justify-self":[{"justify-self":["auto",...U()]}],"align-content":[{content:["normal",...V()]}],"align-items":[{items:[...U(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...U(),{baseline:["","last"]}]}],"place-content":[{"place-content":V()}],"place-items":[{"place-items":[...U(),"baseline"]}],"place-self":[{"place-self":["auto",...U()]}],p:[{p:P()}],px:[{px:P()}],py:[{py:P()}],ps:[{ps:P()}],pe:[{pe:P()}],pt:[{pt:P()}],pr:[{pr:P()}],pb:[{pb:P()}],pl:[{pl:P()}],m:[{m:D()}],mx:[{mx:D()}],my:[{my:D()}],ms:[{ms:D()}],me:[{me:D()}],mt:[{mt:D()}],mr:[{mr:D()}],mb:[{mb:D()}],ml:[{ml:D()}],"space-x":[{"space-x":P()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":P()}],"space-y-reverse":["space-y-reverse"],size:[{size:G()}],w:[{w:[l,"screen",...G()]}],"min-w":[{"min-w":[l,"screen","none",...G()]}],"max-w":[{"max-w":[l,"screen","none","prose",{screen:[o]},...G()]}],h:[{h:["screen","lh",...G()]}],"min-h":[{"min-h":["screen","lh","none",...G()]}],"max-h":[{"max-h":["screen","lh",...G()]}],"font-size":[{text:["base",n,Rf,Zo]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,We,Bw]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Lw,Ke]}],"font-family":[{font:[Ste,Ke,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,We,Ke]}],"line-clamp":[{"line-clamp":[Rt,"none",We,Bw]}],leading:[{leading:[a,...P()]}],"list-image":[{"list-image":["none",We,Ke]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",We,Ke]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:z()}],"text-color":[{text:z()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...be(),"wavy"]}],"text-decoration-thickness":[{decoration:[Rt,"from-font","auto",We,Zo]}],"text-decoration-color":[{decoration:z()}],"underline-offset":[{"underline-offset":[Rt,"auto",We,Ke]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:P()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",We,Ke]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",We,Ke]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:Y()}],"bg-repeat":[{bg:de()}],"bg-size":[{bg:H()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Xs,We,Ke],radial:["",We,Ke],conic:[Xs,We,Ke]},Nte,_te]}],"bg-color":[{bg:z()}],"gradient-from-pos":[{from:K()}],"gradient-via-pos":[{via:K()}],"gradient-to-pos":[{to:K()}],"gradient-from":[{from:z()}],"gradient-via":[{via:z()}],"gradient-to":[{to:z()}],rounded:[{rounded:Z()}],"rounded-s":[{"rounded-s":Z()}],"rounded-e":[{"rounded-e":Z()}],"rounded-t":[{"rounded-t":Z()}],"rounded-r":[{"rounded-r":Z()}],"rounded-b":[{"rounded-b":Z()}],"rounded-l":[{"rounded-l":Z()}],"rounded-ss":[{"rounded-ss":Z()}],"rounded-se":[{"rounded-se":Z()}],"rounded-ee":[{"rounded-ee":Z()}],"rounded-es":[{"rounded-es":Z()}],"rounded-tl":[{"rounded-tl":Z()}],"rounded-tr":[{"rounded-tr":Z()}],"rounded-br":[{"rounded-br":Z()}],"rounded-bl":[{"rounded-bl":Z()}],"border-w":[{border:le()}],"border-w-x":[{"border-x":le()}],"border-w-y":[{"border-y":le()}],"border-w-s":[{"border-s":le()}],"border-w-e":[{"border-e":le()}],"border-w-t":[{"border-t":le()}],"border-w-r":[{"border-r":le()}],"border-w-b":[{"border-b":le()}],"border-w-l":[{"border-l":le()}],"divide-x":[{"divide-x":le()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":le()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...be(),"hidden","none"]}],"divide-style":[{divide:[...be(),"hidden","none"]}],"border-color":[{border:z()}],"border-color-x":[{"border-x":z()}],"border-color-y":[{"border-y":z()}],"border-color-s":[{"border-s":z()}],"border-color-e":[{"border-e":z()}],"border-color-t":[{"border-t":z()}],"border-color-r":[{"border-r":z()}],"border-color-b":[{"border-b":z()}],"border-color-l":[{"border-l":z()}],"divide-color":[{divide:z()}],"outline-style":[{outline:[...be(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Rt,We,Ke]}],"outline-w":[{outline:["",Rt,Rf,Zo]}],"outline-color":[{outline:z()}],shadow:[{shadow:["","none",m,Eg,Ng]}],"shadow-color":[{shadow:z()}],"inset-shadow":[{"inset-shadow":["none",p,Eg,Ng]}],"inset-shadow-color":[{"inset-shadow":z()}],"ring-w":[{ring:le()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:z()}],"ring-offset-w":[{"ring-offset":[Rt,Zo]}],"ring-offset-color":[{"ring-offset":z()}],"inset-ring-w":[{"inset-ring":le()}],"inset-ring-color":[{"inset-ring":z()}],"text-shadow":[{"text-shadow":["none",v,Eg,Ng]}],"text-shadow-color":[{"text-shadow":z()}],opacity:[{opacity:[Rt,We,Ke]}],"mix-blend":[{"mix-blend":[...ae(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ae()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Rt]}],"mask-image-linear-from-pos":[{"mask-linear-from":J()}],"mask-image-linear-to-pos":[{"mask-linear-to":J()}],"mask-image-linear-from-color":[{"mask-linear-from":z()}],"mask-image-linear-to-color":[{"mask-linear-to":z()}],"mask-image-t-from-pos":[{"mask-t-from":J()}],"mask-image-t-to-pos":[{"mask-t-to":J()}],"mask-image-t-from-color":[{"mask-t-from":z()}],"mask-image-t-to-color":[{"mask-t-to":z()}],"mask-image-r-from-pos":[{"mask-r-from":J()}],"mask-image-r-to-pos":[{"mask-r-to":J()}],"mask-image-r-from-color":[{"mask-r-from":z()}],"mask-image-r-to-color":[{"mask-r-to":z()}],"mask-image-b-from-pos":[{"mask-b-from":J()}],"mask-image-b-to-pos":[{"mask-b-to":J()}],"mask-image-b-from-color":[{"mask-b-from":z()}],"mask-image-b-to-color":[{"mask-b-to":z()}],"mask-image-l-from-pos":[{"mask-l-from":J()}],"mask-image-l-to-pos":[{"mask-l-to":J()}],"mask-image-l-from-color":[{"mask-l-from":z()}],"mask-image-l-to-color":[{"mask-l-to":z()}],"mask-image-x-from-pos":[{"mask-x-from":J()}],"mask-image-x-to-pos":[{"mask-x-to":J()}],"mask-image-x-from-color":[{"mask-x-from":z()}],"mask-image-x-to-color":[{"mask-x-to":z()}],"mask-image-y-from-pos":[{"mask-y-from":J()}],"mask-image-y-to-pos":[{"mask-y-to":J()}],"mask-image-y-from-color":[{"mask-y-from":z()}],"mask-image-y-to-color":[{"mask-y-to":z()}],"mask-image-radial":[{"mask-radial":[We,Ke]}],"mask-image-radial-from-pos":[{"mask-radial-from":J()}],"mask-image-radial-to-pos":[{"mask-radial-to":J()}],"mask-image-radial-from-color":[{"mask-radial-from":z()}],"mask-image-radial-to-color":[{"mask-radial-to":z()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":O()}],"mask-image-conic-pos":[{"mask-conic":[Rt]}],"mask-image-conic-from-pos":[{"mask-conic-from":J()}],"mask-image-conic-to-pos":[{"mask-conic-to":J()}],"mask-image-conic-from-color":[{"mask-conic-from":z()}],"mask-image-conic-to-color":[{"mask-conic-to":z()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:Y()}],"mask-repeat":[{mask:de()}],"mask-size":[{mask:H()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",We,Ke]}],filter:[{filter:["","none",We,Ke]}],blur:[{blur:me()}],brightness:[{brightness:[Rt,We,Ke]}],contrast:[{contrast:[Rt,We,Ke]}],"drop-shadow":[{"drop-shadow":["","none",y,Eg,Ng]}],"drop-shadow-color":[{"drop-shadow":z()}],grayscale:[{grayscale:["",Rt,We,Ke]}],"hue-rotate":[{"hue-rotate":[Rt,We,Ke]}],invert:[{invert:["",Rt,We,Ke]}],saturate:[{saturate:[Rt,We,Ke]}],sepia:[{sepia:["",Rt,We,Ke]}],"backdrop-filter":[{"backdrop-filter":["","none",We,Ke]}],"backdrop-blur":[{"backdrop-blur":me()}],"backdrop-brightness":[{"backdrop-brightness":[Rt,We,Ke]}],"backdrop-contrast":[{"backdrop-contrast":[Rt,We,Ke]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Rt,We,Ke]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Rt,We,Ke]}],"backdrop-invert":[{"backdrop-invert":["",Rt,We,Ke]}],"backdrop-opacity":[{"backdrop-opacity":[Rt,We,Ke]}],"backdrop-saturate":[{"backdrop-saturate":[Rt,We,Ke]}],"backdrop-sepia":[{"backdrop-sepia":["",Rt,We,Ke]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":P()}],"border-spacing-x":[{"border-spacing-x":P()}],"border-spacing-y":[{"border-spacing-y":P()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",We,Ke]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Rt,"initial",We,Ke]}],ease:[{ease:["linear","initial",N,We,Ke]}],delay:[{delay:[Rt,We,Ke]}],animate:[{animate:["none",E,We,Ke]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[b,We,Ke]}],"perspective-origin":[{"perspective-origin":T()}],rotate:[{rotate:oe()}],"rotate-x":[{"rotate-x":oe()}],"rotate-y":[{"rotate-y":oe()}],"rotate-z":[{"rotate-z":oe()}],scale:[{scale:pe()}],"scale-x":[{"scale-x":pe()}],"scale-y":[{"scale-y":pe()}],"scale-z":[{"scale-z":pe()}],"scale-3d":["scale-3d"],skew:[{skew:we()}],"skew-x":[{"skew-x":we()}],"skew-y":[{"skew-y":we()}],transform:[{transform:[We,Ke,"","none","gpu","cpu"]}],"transform-origin":[{origin:T()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:ee()}],"translate-x":[{"translate-x":ee()}],"translate-y":[{"translate-y":ee()}],"translate-z":[{"translate-z":ee()}],"translate-none":["translate-none"],accent:[{accent:z()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:z()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",We,Ke]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":P()}],"scroll-mx":[{"scroll-mx":P()}],"scroll-my":[{"scroll-my":P()}],"scroll-ms":[{"scroll-ms":P()}],"scroll-me":[{"scroll-me":P()}],"scroll-mt":[{"scroll-mt":P()}],"scroll-mr":[{"scroll-mr":P()}],"scroll-mb":[{"scroll-mb":P()}],"scroll-ml":[{"scroll-ml":P()}],"scroll-p":[{"scroll-p":P()}],"scroll-px":[{"scroll-px":P()}],"scroll-py":[{"scroll-py":P()}],"scroll-ps":[{"scroll-ps":P()}],"scroll-pe":[{"scroll-pe":P()}],"scroll-pt":[{"scroll-pt":P()}],"scroll-pr":[{"scroll-pr":P()}],"scroll-pb":[{"scroll-pb":P()}],"scroll-pl":[{"scroll-pl":P()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",We,Ke]}],fill:[{fill:["none",...z()]}],"stroke-w":[{stroke:[Rt,Rf,Zo,Bw]}],stroke:[{stroke:["none",...z()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},Ote=cte(Tte);function Ae(...e){return Ote(Mt(e))}const Cte=mZ,uF=_.forwardRef(({className:e,...t},n)=>c.jsx(qz,{ref:n,className:Ae("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));uF.displayName=qz.displayName;const Rte=fd("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),dF=_.forwardRef(({className:e,variant:t,...n},r)=>c.jsx(zz,{ref:r,className:Ae(Rte({variant:t}),e),...n}));dF.displayName=zz.displayName;const Pte=_.forwardRef(({className:e,...t},n)=>c.jsx(Vz,{ref:n,className:Ae("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));Pte.displayName=Vz.displayName;const fF=_.forwardRef(({className:e,...t},n)=>c.jsx(Hz,{ref:n,className:Ae("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:c.jsx(Ii,{className:"h-4 w-4"})}));fF.displayName=Hz.displayName;const hF=_.forwardRef(({className:e,...t},n)=>c.jsx(Fz,{ref:n,className:Ae("text-sm font-semibold",e),...t}));hF.displayName=Fz.displayName;const mF=_.forwardRef(({className:e,...t},n)=>c.jsx(Uz,{ref:n,className:Ae("text-sm opacity-90",e),...t}));mF.displayName=Uz.displayName;function Mte(){const{toasts:e}=Yr();return c.jsxs(Cte,{children:[e.map(function({id:t,title:n,description:r,action:i,...a}){return c.jsxs(dF,{...a,children:[c.jsxs("div",{className:"grid gap-1",children:[n&&c.jsx(hF,{children:n}),r&&c.jsx(mF,{children:r})]}),i,c.jsx(fF,{})]},t)}),c.jsx(uF,{})]})}function Ic(e,t,{checkForDefaultPrevented:n=!0}={}){return function(i){if(e?.(i),n===!1||!i.defaultPrevented)return t?.(i)}}function qw(e,t,{checkForDefaultPrevented:n=!0}={}){return function(i){if(e?.(i),n===!1||!i.defaultPrevented)return t?.(i)}}function kte(e){const t=Dte(e),n=_.forwardRef((r,i)=>{const{children:a,...o}=r,l=_.Children.toArray(a),d=l.find($te);if(d){const f=d.props.children,m=l.map(p=>p===d?_.Children.count(f)>1?_.Children.only(null):_.isValidElement(f)?f.props.children:null:p);return c.jsx(t,{...o,ref:i,children:_.isValidElement(f)?_.cloneElement(f,void 0,m):null})}return c.jsx(t,{...o,ref:i,children:a})});return n.displayName=`${e}.Slot`,n}function Dte(e){const t=_.forwardRef((n,r)=>{const{children:i,...a}=n;if(_.isValidElement(i)){const o=Bte(i),l=Lte(a,i.props);return i.type!==_.Fragment&&(l.ref=r?So(r,o):o),_.cloneElement(i,l)}return _.Children.count(i)>1?_.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Ite=Symbol("radix.slottable");function $te(e){return _.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Ite}function Lte(e,t){const n={...t};for(const r in t){const i=e[r],a=t[r];/^on[A-Z]/.test(r)?i&&a?n[r]=(...l)=>{const d=a(...l);return i(...l),d}:i&&(n[r]=i):r==="style"?n[r]={...i,...a}:r==="className"&&(n[r]=[i,a].filter(Boolean).join(" "))}return{...e,...n}}function Bte(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var qte=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],bt=qte.reduce((e,t)=>{const n=kte(`Primitive.${t}`),r=_.forwardRef((i,a)=>{const{asChild:o,...l}=i,d=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),c.jsx(d,{...l,ref:a})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function zte(e,t){e&&Ul.flushSync(()=>e.dispatchEvent(t))}var Fte="DismissableLayer",tN="dismissableLayer.update",Ute="dismissableLayer.pointerDownOutside",Vte="dismissableLayer.focusOutside",Ik,pF=_.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Lm=_.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:o,onDismiss:l,...d}=e,f=_.useContext(pF),[m,p]=_.useState(null),v=m?.ownerDocument??globalThis?.document,[,y]=_.useState({}),x=At(t,R=>p(R)),b=Array.from(f.layers),[w]=[...f.layersWithOutsidePointerEventsDisabled].slice(-1),N=b.indexOf(w),E=m?b.indexOf(m):-1,j=f.layersWithOutsidePointerEventsDisabled.size>0,O=E>=N,T=Kte(R=>{const P=R.target,k=[...f.branches].some($=>$.contains(P));!O||k||(i?.(R),o?.(R),R.defaultPrevented||l?.())},v),C=Wte(R=>{const P=R.target;[...f.branches].some($=>$.contains(P))||(a?.(R),o?.(R),R.defaultPrevented||l?.())},v);return xz(R=>{E===f.layers.size-1&&(r?.(R),!R.defaultPrevented&&l&&(R.preventDefault(),l()))},v),_.useEffect(()=>{if(m)return n&&(f.layersWithOutsidePointerEventsDisabled.size===0&&(Ik=v.body.style.pointerEvents,v.body.style.pointerEvents="none"),f.layersWithOutsidePointerEventsDisabled.add(m)),f.layers.add(m),$k(),()=>{n&&f.layersWithOutsidePointerEventsDisabled.size===1&&(v.body.style.pointerEvents=Ik)}},[m,v,n,f]),_.useEffect(()=>()=>{m&&(f.layers.delete(m),f.layersWithOutsidePointerEventsDisabled.delete(m),$k())},[m,f]),_.useEffect(()=>{const R=()=>y({});return document.addEventListener(tN,R),()=>document.removeEventListener(tN,R)},[]),c.jsx(bt.div,{...d,ref:x,style:{pointerEvents:j?O?"auto":"none":void 0,...e.style},onFocusCapture:qw(e.onFocusCapture,C.onFocusCapture),onBlurCapture:qw(e.onBlurCapture,C.onBlurCapture),onPointerDownCapture:qw(e.onPointerDownCapture,T.onPointerDownCapture)})});Lm.displayName=Fte;var Hte="DismissableLayerBranch",Gte=_.forwardRef((e,t)=>{const n=_.useContext(pF),r=_.useRef(null),i=At(t,r);return _.useEffect(()=>{const a=r.current;if(a)return n.branches.add(a),()=>{n.branches.delete(a)}},[n.branches]),c.jsx(bt.div,{...e,ref:i})});Gte.displayName=Hte;function Kte(e,t=globalThis?.document){const n=Sr(e),r=_.useRef(!1),i=_.useRef(()=>{});return _.useEffect(()=>{const a=l=>{if(l.target&&!r.current){let d=function(){gF(Ute,n,f,{discrete:!0})};const f={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=d,t.addEventListener("click",i.current,{once:!0})):d()}else t.removeEventListener("click",i.current);r.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",a),t.removeEventListener("click",i.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function Wte(e,t=globalThis?.document){const n=Sr(e),r=_.useRef(!1);return _.useEffect(()=>{const i=a=>{a.target&&!r.current&&gF(Vte,n,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function $k(){const e=new CustomEvent(tN);document.dispatchEvent(e)}function gF(e,t,n,{discrete:r}){const i=n.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),r?zte(i,a):i.dispatchEvent(a)}var Yte=Cr[" useId ".trim().toString()]||(()=>{}),Xte=0;function cs(e){const[t,n]=_.useState(Yte());return Ut(()=>{n(r=>r??String(Xte++))},[e]),t?`radix-${t}`:""}const Qte=["top","right","bottom","left"],vo=Math.min,ci=Math.max,Cv=Math.round,Ag=Math.floor,Sa=e=>({x:e,y:e}),Jte={left:"right",right:"left",bottom:"top",top:"bottom"},Zte={start:"end",end:"start"};function nN(e,t,n){return ci(e,vo(t,n))}function hs(e,t){return typeof e=="function"?e(t):e}function ms(e){return e.split("-")[0]}function pd(e){return e.split("-")[1]}function MA(e){return e==="x"?"y":"x"}function kA(e){return e==="y"?"height":"width"}const ene=new Set(["top","bottom"]);function xa(e){return ene.has(ms(e))?"y":"x"}function DA(e){return MA(xa(e))}function tne(e,t,n){n===void 0&&(n=!1);const r=pd(e),i=DA(e),a=kA(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(o=Rv(o)),[o,Rv(o)]}function nne(e){const t=Rv(e);return[rN(e),t,rN(t)]}function rN(e){return e.replace(/start|end/g,t=>Zte[t])}const Lk=["left","right"],Bk=["right","left"],rne=["top","bottom"],ine=["bottom","top"];function ane(e,t,n){switch(e){case"top":case"bottom":return n?t?Bk:Lk:t?Lk:Bk;case"left":case"right":return t?rne:ine;default:return[]}}function sne(e,t,n,r){const i=pd(e);let a=ane(ms(e),n==="start",r);return i&&(a=a.map(o=>o+"-"+i),t&&(a=a.concat(a.map(rN)))),a}function Rv(e){return e.replace(/left|right|bottom|top/g,t=>Jte[t])}function one(e){return{top:0,right:0,bottom:0,left:0,...e}}function vF(e){return typeof e!="number"?one(e):{top:e,right:e,bottom:e,left:e}}function Pv(e){const{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}function qk(e,t,n){let{reference:r,floating:i}=e;const a=xa(t),o=DA(t),l=kA(o),d=ms(t),f=a==="y",m=r.x+r.width/2-i.width/2,p=r.y+r.height/2-i.height/2,v=r[l]/2-i[l]/2;let y;switch(d){case"top":y={x:m,y:r.y-i.height};break;case"bottom":y={x:m,y:r.y+r.height};break;case"right":y={x:r.x+r.width,y:p};break;case"left":y={x:r.x-i.width,y:p};break;default:y={x:r.x,y:r.y}}switch(pd(t)){case"start":y[o]-=v*(n&&f?-1:1);break;case"end":y[o]+=v*(n&&f?-1:1);break}return y}const lne=async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:a=[],platform:o}=n,l=a.filter(Boolean),d=await(o.isRTL==null?void 0:o.isRTL(t));let f=await o.getElementRects({reference:e,floating:t,strategy:i}),{x:m,y:p}=qk(f,r,d),v=r,y={},x=0;for(let b=0;b<l.length;b++){const{name:w,fn:N}=l[b],{x:E,y:j,data:O,reset:T}=await N({x:m,y:p,initialPlacement:r,placement:v,strategy:i,middlewareData:y,rects:f,platform:o,elements:{reference:e,floating:t}});m=E??m,p=j??p,y={...y,[w]:{...y[w],...O}},T&&x<=50&&(x++,typeof T=="object"&&(T.placement&&(v=T.placement),T.rects&&(f=T.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:i}):T.rects),{x:m,y:p}=qk(f,v,d)),b=-1)}return{x:m,y:p,placement:v,strategy:i,middlewareData:y}};async function Rh(e,t){var n;t===void 0&&(t={});const{x:r,y:i,platform:a,rects:o,elements:l,strategy:d}=e,{boundary:f="clippingAncestors",rootBoundary:m="viewport",elementContext:p="floating",altBoundary:v=!1,padding:y=0}=hs(t,e),x=vF(y),w=l[v?p==="floating"?"reference":"floating":p],N=Pv(await a.getClippingRect({element:(n=await(a.isElement==null?void 0:a.isElement(w)))==null||n?w:w.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(l.floating)),boundary:f,rootBoundary:m,strategy:d})),E=p==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,j=await(a.getOffsetParent==null?void 0:a.getOffsetParent(l.floating)),O=await(a.isElement==null?void 0:a.isElement(j))?await(a.getScale==null?void 0:a.getScale(j))||{x:1,y:1}:{x:1,y:1},T=Pv(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:E,offsetParent:j,strategy:d}):E);return{top:(N.top-T.top+x.top)/O.y,bottom:(T.bottom-N.bottom+x.bottom)/O.y,left:(N.left-T.left+x.left)/O.x,right:(T.right-N.right+x.right)/O.x}}const cne=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:i,rects:a,platform:o,elements:l,middlewareData:d}=t,{element:f,padding:m=0}=hs(e,t)||{};if(f==null)return{};const p=vF(m),v={x:n,y:r},y=DA(i),x=kA(y),b=await o.getDimensions(f),w=y==="y",N=w?"top":"left",E=w?"bottom":"right",j=w?"clientHeight":"clientWidth",O=a.reference[x]+a.reference[y]-v[y]-a.floating[x],T=v[y]-a.reference[y],C=await(o.getOffsetParent==null?void 0:o.getOffsetParent(f));let R=C?C[j]:0;(!R||!await(o.isElement==null?void 0:o.isElement(C)))&&(R=l.floating[j]||a.floating[x]);const P=O/2-T/2,k=R/2-b[x]/2-1,$=vo(p[N],k),B=vo(p[E],k),I=$,F=R-b[x]-B,V=R/2-b[x]/2+P,U=nN(I,V,F),D=!d.arrow&&pd(i)!=null&&V!==U&&a.reference[x]/2-(V<I?$:B)-b[x]/2<0,G=D?V<I?V-I:V-F:0;return{[y]:v[y]+G,data:{[y]:U,centerOffset:V-U-G,...D&&{alignmentOffset:G}},reset:D}}}),une=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:i,middlewareData:a,rects:o,initialPlacement:l,platform:d,elements:f}=t,{mainAxis:m=!0,crossAxis:p=!0,fallbackPlacements:v,fallbackStrategy:y="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:b=!0,...w}=hs(e,t);if((n=a.arrow)!=null&&n.alignmentOffset)return{};const N=ms(i),E=xa(l),j=ms(l)===l,O=await(d.isRTL==null?void 0:d.isRTL(f.floating)),T=v||(j||!b?[Rv(l)]:nne(l)),C=x!=="none";!v&&C&&T.push(...sne(l,b,x,O));const R=[l,...T],P=await Rh(t,w),k=[];let $=((r=a.flip)==null?void 0:r.overflows)||[];if(m&&k.push(P[N]),p){const V=tne(i,o,O);k.push(P[V[0]],P[V[1]])}if($=[...$,{placement:i,overflows:k}],!k.every(V=>V<=0)){var B,I;const V=(((B=a.flip)==null?void 0:B.index)||0)+1,U=R[V];if(U&&(!(p==="alignment"?E!==xa(U):!1)||$.every(z=>xa(z.placement)===E?z.overflows[0]>0:!0)))return{data:{index:V,overflows:$},reset:{placement:U}};let D=(I=$.filter(G=>G.overflows[0]<=0).sort((G,z)=>G.overflows[1]-z.overflows[1])[0])==null?void 0:I.placement;if(!D)switch(y){case"bestFit":{var F;const G=(F=$.filter(z=>{if(C){const Y=xa(z.placement);return Y===E||Y==="y"}return!0}).map(z=>[z.placement,z.overflows.filter(Y=>Y>0).reduce((Y,de)=>Y+de,0)]).sort((z,Y)=>z[1]-Y[1])[0])==null?void 0:F[0];G&&(D=G);break}case"initialPlacement":D=l;break}if(i!==D)return{reset:{placement:D}}}return{}}}};function zk(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Fk(e){return Qte.some(t=>e[t]>=0)}const dne=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...i}=hs(e,t);switch(r){case"referenceHidden":{const a=await Rh(t,{...i,elementContext:"reference"}),o=zk(a,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:Fk(o)}}}case"escaped":{const a=await Rh(t,{...i,altBoundary:!0}),o=zk(a,n.floating);return{data:{escapedOffsets:o,escaped:Fk(o)}}}default:return{}}}}},yF=new Set(["left","top"]);async function fne(e,t){const{placement:n,platform:r,elements:i}=e,a=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=ms(n),l=pd(n),d=xa(n)==="y",f=yF.has(o)?-1:1,m=a&&d?-1:1,p=hs(t,e);let{mainAxis:v,crossAxis:y,alignmentAxis:x}=typeof p=="number"?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:p.mainAxis||0,crossAxis:p.crossAxis||0,alignmentAxis:p.alignmentAxis};return l&&typeof x=="number"&&(y=l==="end"?x*-1:x),d?{x:y*m,y:v*f}:{x:v*f,y:y*m}}const hne=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:i,y:a,placement:o,middlewareData:l}=t,d=await fne(t,e);return o===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:i+d.x,y:a+d.y,data:{...d,placement:o}}}}},mne=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i}=t,{mainAxis:a=!0,crossAxis:o=!1,limiter:l={fn:w=>{let{x:N,y:E}=w;return{x:N,y:E}}},...d}=hs(e,t),f={x:n,y:r},m=await Rh(t,d),p=xa(ms(i)),v=MA(p);let y=f[v],x=f[p];if(a){const w=v==="y"?"top":"left",N=v==="y"?"bottom":"right",E=y+m[w],j=y-m[N];y=nN(E,y,j)}if(o){const w=p==="y"?"top":"left",N=p==="y"?"bottom":"right",E=x+m[w],j=x-m[N];x=nN(E,x,j)}const b=l.fn({...t,[v]:y,[p]:x});return{...b,data:{x:b.x-n,y:b.y-r,enabled:{[v]:a,[p]:o}}}}}},pne=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:i,rects:a,middlewareData:o}=t,{offset:l=0,mainAxis:d=!0,crossAxis:f=!0}=hs(e,t),m={x:n,y:r},p=xa(i),v=MA(p);let y=m[v],x=m[p];const b=hs(l,t),w=typeof b=="number"?{mainAxis:b,crossAxis:0}:{mainAxis:0,crossAxis:0,...b};if(d){const j=v==="y"?"height":"width",O=a.reference[v]-a.floating[j]+w.mainAxis,T=a.reference[v]+a.reference[j]-w.mainAxis;y<O?y=O:y>T&&(y=T)}if(f){var N,E;const j=v==="y"?"width":"height",O=yF.has(ms(i)),T=a.reference[p]-a.floating[j]+(O&&((N=o.offset)==null?void 0:N[p])||0)+(O?0:w.crossAxis),C=a.reference[p]+a.reference[j]+(O?0:((E=o.offset)==null?void 0:E[p])||0)-(O?w.crossAxis:0);x<T?x=T:x>C&&(x=C)}return{[v]:y,[p]:x}}}},gne=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:i,rects:a,platform:o,elements:l}=t,{apply:d=()=>{},...f}=hs(e,t),m=await Rh(t,f),p=ms(i),v=pd(i),y=xa(i)==="y",{width:x,height:b}=a.floating;let w,N;p==="top"||p==="bottom"?(w=p,N=v===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(N=p,w=v==="end"?"top":"bottom");const E=b-m.top-m.bottom,j=x-m.left-m.right,O=vo(b-m[w],E),T=vo(x-m[N],j),C=!t.middlewareData.shift;let R=O,P=T;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(P=j),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(R=E),C&&!v){const $=ci(m.left,0),B=ci(m.right,0),I=ci(m.top,0),F=ci(m.bottom,0);y?P=x-2*($!==0||B!==0?$+B:ci(m.left,m.right)):R=b-2*(I!==0||F!==0?I+F:ci(m.top,m.bottom))}await d({...t,availableWidth:P,availableHeight:R});const k=await o.getDimensions(l.floating);return x!==k.width||b!==k.height?{reset:{rects:!0}}:{}}}};function e0(){return typeof window<"u"}function gd(e){return bF(e)?(e.nodeName||"").toLowerCase():"#document"}function pi(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Da(e){var t;return(t=(bF(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function bF(e){return e0()?e instanceof Node||e instanceof pi(e).Node:!1}function sa(e){return e0()?e instanceof Element||e instanceof pi(e).Element:!1}function Ra(e){return e0()?e instanceof HTMLElement||e instanceof pi(e).HTMLElement:!1}function Uk(e){return!e0()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof pi(e).ShadowRoot}const vne=new Set(["inline","contents"]);function Bm(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=oa(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!vne.has(i)}const yne=new Set(["table","td","th"]);function bne(e){return yne.has(gd(e))}const xne=[":popover-open",":modal"];function t0(e){return xne.some(t=>{try{return e.matches(t)}catch{return!1}})}const wne=["transform","translate","scale","rotate","perspective"],_ne=["transform","translate","scale","rotate","perspective","filter"],Sne=["paint","layout","strict","content"];function IA(e){const t=$A(),n=sa(e)?oa(e):e;return wne.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||_ne.some(r=>(n.willChange||"").includes(r))||Sne.some(r=>(n.contain||"").includes(r))}function jne(e){let t=yo(e);for(;Ra(t)&&!Cu(t);){if(IA(t))return t;if(t0(t))return null;t=yo(t)}return null}function $A(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Nne=new Set(["html","body","#document"]);function Cu(e){return Nne.has(gd(e))}function oa(e){return pi(e).getComputedStyle(e)}function n0(e){return sa(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function yo(e){if(gd(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Uk(e)&&e.host||Da(e);return Uk(t)?t.host:t}function xF(e){const t=yo(e);return Cu(t)?e.ownerDocument?e.ownerDocument.body:e.body:Ra(t)&&Bm(t)?t:xF(t)}function Ph(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const i=xF(e),a=i===((r=e.ownerDocument)==null?void 0:r.body),o=pi(i);if(a){const l=iN(o);return t.concat(o,o.visualViewport||[],Bm(i)?i:[],l&&n?Ph(l):[])}return t.concat(i,Ph(i,[],n))}function iN(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function wF(e){const t=oa(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=Ra(e),a=i?e.offsetWidth:n,o=i?e.offsetHeight:r,l=Cv(n)!==a||Cv(r)!==o;return l&&(n=a,r=o),{width:n,height:r,$:l}}function LA(e){return sa(e)?e:e.contextElement}function vu(e){const t=LA(e);if(!Ra(t))return Sa(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:a}=wF(t);let o=(a?Cv(n.width):n.width)/r,l=(a?Cv(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const Ene=Sa(0);function _F(e){const t=pi(e);return!$A()||!t.visualViewport?Ene:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Ane(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==pi(e)?!1:t}function Pl(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),a=LA(e);let o=Sa(1);t&&(r?sa(r)&&(o=vu(r)):o=vu(e));const l=Ane(a,n,r)?_F(a):Sa(0);let d=(i.left+l.x)/o.x,f=(i.top+l.y)/o.y,m=i.width/o.x,p=i.height/o.y;if(a){const v=pi(a),y=r&&sa(r)?pi(r):r;let x=v,b=iN(x);for(;b&&r&&y!==x;){const w=vu(b),N=b.getBoundingClientRect(),E=oa(b),j=N.left+(b.clientLeft+parseFloat(E.paddingLeft))*w.x,O=N.top+(b.clientTop+parseFloat(E.paddingTop))*w.y;d*=w.x,f*=w.y,m*=w.x,p*=w.y,d+=j,f+=O,x=pi(b),b=iN(x)}}return Pv({width:m,height:p,x:d,y:f})}function r0(e,t){const n=n0(e).scrollLeft;return t?t.left+n:Pl(Da(e)).left+n}function SF(e,t){const n=e.getBoundingClientRect(),r=n.left+t.scrollLeft-r0(e,n),i=n.top+t.scrollTop;return{x:r,y:i}}function Tne(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e;const a=i==="fixed",o=Da(r),l=t?t0(t.floating):!1;if(r===o||l&&a)return n;let d={scrollLeft:0,scrollTop:0},f=Sa(1);const m=Sa(0),p=Ra(r);if((p||!p&&!a)&&((gd(r)!=="body"||Bm(o))&&(d=n0(r)),Ra(r))){const y=Pl(r);f=vu(r),m.x=y.x+r.clientLeft,m.y=y.y+r.clientTop}const v=o&&!p&&!a?SF(o,d):Sa(0);return{width:n.width*f.x,height:n.height*f.y,x:n.x*f.x-d.scrollLeft*f.x+m.x+v.x,y:n.y*f.y-d.scrollTop*f.y+m.y+v.y}}function One(e){return Array.from(e.getClientRects())}function Cne(e){const t=Da(e),n=n0(e),r=e.ownerDocument.body,i=ci(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),a=ci(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+r0(e);const l=-n.scrollTop;return oa(r).direction==="rtl"&&(o+=ci(t.clientWidth,r.clientWidth)-i),{width:i,height:a,x:o,y:l}}const Vk=25;function Rne(e,t){const n=pi(e),r=Da(e),i=n.visualViewport;let a=r.clientWidth,o=r.clientHeight,l=0,d=0;if(i){a=i.width,o=i.height;const m=$A();(!m||m&&t==="fixed")&&(l=i.offsetLeft,d=i.offsetTop)}const f=r0(r);if(f<=0){const m=r.ownerDocument,p=m.body,v=getComputedStyle(p),y=m.compatMode==="CSS1Compat"&&parseFloat(v.marginLeft)+parseFloat(v.marginRight)||0,x=Math.abs(r.clientWidth-p.clientWidth-y);x<=Vk&&(a-=x)}else f<=Vk&&(a+=f);return{width:a,height:o,x:l,y:d}}const Pne=new Set(["absolute","fixed"]);function Mne(e,t){const n=Pl(e,!0,t==="fixed"),r=n.top+e.clientTop,i=n.left+e.clientLeft,a=Ra(e)?vu(e):Sa(1),o=e.clientWidth*a.x,l=e.clientHeight*a.y,d=i*a.x,f=r*a.y;return{width:o,height:l,x:d,y:f}}function Hk(e,t,n){let r;if(t==="viewport")r=Rne(e,n);else if(t==="document")r=Cne(Da(e));else if(sa(t))r=Mne(t,n);else{const i=_F(e);r={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return Pv(r)}function jF(e,t){const n=yo(e);return n===t||!sa(n)||Cu(n)?!1:oa(n).position==="fixed"||jF(n,t)}function kne(e,t){const n=t.get(e);if(n)return n;let r=Ph(e,[],!1).filter(l=>sa(l)&&gd(l)!=="body"),i=null;const a=oa(e).position==="fixed";let o=a?yo(e):e;for(;sa(o)&&!Cu(o);){const l=oa(o),d=IA(o);!d&&l.position==="fixed"&&(i=null),(a?!d&&!i:!d&&l.position==="static"&&!!i&&Pne.has(i.position)||Bm(o)&&!d&&jF(e,o))?r=r.filter(m=>m!==o):i=l,o=yo(o)}return t.set(e,r),r}function Dne(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const o=[...n==="clippingAncestors"?t0(t)?[]:kne(t,this._c):[].concat(n),r],l=o[0],d=o.reduce((f,m)=>{const p=Hk(t,m,i);return f.top=ci(p.top,f.top),f.right=vo(p.right,f.right),f.bottom=vo(p.bottom,f.bottom),f.left=ci(p.left,f.left),f},Hk(t,l,i));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function Ine(e){const{width:t,height:n}=wF(e);return{width:t,height:n}}function $ne(e,t,n){const r=Ra(t),i=Da(t),a=n==="fixed",o=Pl(e,!0,a,t);let l={scrollLeft:0,scrollTop:0};const d=Sa(0);function f(){d.x=r0(i)}if(r||!r&&!a)if((gd(t)!=="body"||Bm(i))&&(l=n0(t)),r){const y=Pl(t,!0,a,t);d.x=y.x+t.clientLeft,d.y=y.y+t.clientTop}else i&&f();a&&!r&&i&&f();const m=i&&!r&&!a?SF(i,l):Sa(0),p=o.left+l.scrollLeft-d.x-m.x,v=o.top+l.scrollTop-d.y-m.y;return{x:p,y:v,width:o.width,height:o.height}}function zw(e){return oa(e).position==="static"}function Gk(e,t){if(!Ra(e)||oa(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Da(e)===n&&(n=n.ownerDocument.body),n}function NF(e,t){const n=pi(e);if(t0(e))return n;if(!Ra(e)){let i=yo(e);for(;i&&!Cu(i);){if(sa(i)&&!zw(i))return i;i=yo(i)}return n}let r=Gk(e,t);for(;r&&bne(r)&&zw(r);)r=Gk(r,t);return r&&Cu(r)&&zw(r)&&!IA(r)?n:r||jne(e)||n}const Lne=async function(e){const t=this.getOffsetParent||NF,n=this.getDimensions,r=await n(e.floating);return{reference:$ne(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function Bne(e){return oa(e).direction==="rtl"}const qne={convertOffsetParentRelativeRectToViewportRelativeRect:Tne,getDocumentElement:Da,getClippingRect:Dne,getOffsetParent:NF,getElementRects:Lne,getClientRects:One,getDimensions:Ine,getScale:vu,isElement:sa,isRTL:Bne};function EF(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function zne(e,t){let n=null,r;const i=Da(e);function a(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function o(l,d){l===void 0&&(l=!1),d===void 0&&(d=1),a();const f=e.getBoundingClientRect(),{left:m,top:p,width:v,height:y}=f;if(l||t(),!v||!y)return;const x=Ag(p),b=Ag(i.clientWidth-(m+v)),w=Ag(i.clientHeight-(p+y)),N=Ag(m),j={rootMargin:-x+"px "+-b+"px "+-w+"px "+-N+"px",threshold:ci(0,vo(1,d))||1};let O=!0;function T(C){const R=C[0].intersectionRatio;if(R!==d){if(!O)return o();R?o(!1,R):r=setTimeout(()=>{o(!1,1e-7)},1e3)}R===1&&!EF(f,e.getBoundingClientRect())&&o(),O=!1}try{n=new IntersectionObserver(T,{...j,root:i.ownerDocument})}catch{n=new IntersectionObserver(T,j)}n.observe(e)}return o(!0),a}function Fne(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:d=!1}=r,f=LA(e),m=i||a?[...f?Ph(f):[],...Ph(t)]:[];m.forEach(N=>{i&&N.addEventListener("scroll",n,{passive:!0}),a&&N.addEventListener("resize",n)});const p=f&&l?zne(f,n):null;let v=-1,y=null;o&&(y=new ResizeObserver(N=>{let[E]=N;E&&E.target===f&&y&&(y.unobserve(t),cancelAnimationFrame(v),v=requestAnimationFrame(()=>{var j;(j=y)==null||j.observe(t)})),n()}),f&&!d&&y.observe(f),y.observe(t));let x,b=d?Pl(e):null;d&&w();function w(){const N=Pl(e);b&&!EF(b,N)&&n(),b=N,x=requestAnimationFrame(w)}return n(),()=>{var N;m.forEach(E=>{i&&E.removeEventListener("scroll",n),a&&E.removeEventListener("resize",n)}),p?.(),(N=y)==null||N.disconnect(),y=null,d&&cancelAnimationFrame(x)}}const Une=hne,Vne=mne,Hne=une,Gne=gne,Kne=dne,Kk=cne,Wne=pne,Yne=(e,t,n)=>{const r=new Map,i={platform:qne,...n},a={...i.platform,_c:r};return lne(e,t,{...i,platform:a})};var Xne=typeof document<"u",Qne=function(){},uv=Xne?_.useLayoutEffect:Qne;function Mv(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!Mv(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,i[r]))return!1;for(r=n;r--!==0;){const a=i[r];if(!(a==="_owner"&&e.$$typeof)&&!Mv(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function AF(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Wk(e,t){const n=AF(e);return Math.round(t*n)/n}function Fw(e){const t=_.useRef(e);return uv(()=>{t.current=e}),t}function Jne(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:a,floating:o}={},transform:l=!0,whileElementsMounted:d,open:f}=e,[m,p]=_.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[v,y]=_.useState(r);Mv(v,r)||y(r);const[x,b]=_.useState(null),[w,N]=_.useState(null),E=_.useCallback(z=>{z!==C.current&&(C.current=z,b(z))},[]),j=_.useCallback(z=>{z!==R.current&&(R.current=z,N(z))},[]),O=a||x,T=o||w,C=_.useRef(null),R=_.useRef(null),P=_.useRef(m),k=d!=null,$=Fw(d),B=Fw(i),I=Fw(f),F=_.useCallback(()=>{if(!C.current||!R.current)return;const z={placement:t,strategy:n,middleware:v};B.current&&(z.platform=B.current),Yne(C.current,R.current,z).then(Y=>{const de={...Y,isPositioned:I.current!==!1};V.current&&!Mv(P.current,de)&&(P.current=de,Ul.flushSync(()=>{p(de)}))})},[v,t,n,B,I]);uv(()=>{f===!1&&P.current.isPositioned&&(P.current.isPositioned=!1,p(z=>({...z,isPositioned:!1})))},[f]);const V=_.useRef(!1);uv(()=>(V.current=!0,()=>{V.current=!1}),[]),uv(()=>{if(O&&(C.current=O),T&&(R.current=T),O&&T){if($.current)return $.current(O,T,F);F()}},[O,T,F,$,k]);const U=_.useMemo(()=>({reference:C,floating:R,setReference:E,setFloating:j}),[E,j]),D=_.useMemo(()=>({reference:O,floating:T}),[O,T]),G=_.useMemo(()=>{const z={position:n,left:0,top:0};if(!D.floating)return z;const Y=Wk(D.floating,m.x),de=Wk(D.floating,m.y);return l?{...z,transform:"translate("+Y+"px, "+de+"px)",...AF(D.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:Y,top:de}},[n,l,D.floating,m.x,m.y]);return _.useMemo(()=>({...m,update:F,refs:U,elements:D,floatingStyles:G}),[m,F,U,D,G])}const Zne=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:i}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?Kk({element:r.current,padding:i}).fn(n):{}:r?Kk({element:r,padding:i}).fn(n):{}}}},ere=(e,t)=>({...Une(e),options:[e,t]}),tre=(e,t)=>({...Vne(e),options:[e,t]}),nre=(e,t)=>({...Wne(e),options:[e,t]}),rre=(e,t)=>({...Hne(e),options:[e,t]}),ire=(e,t)=>({...Gne(e),options:[e,t]}),are=(e,t)=>({...Kne(e),options:[e,t]}),sre=(e,t)=>({...Zne(e),options:[e,t]});var ore="Arrow",TF=_.forwardRef((e,t)=>{const{children:n,width:r=10,height:i=5,...a}=e;return c.jsx(bt.svg,{...a,ref:t,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:c.jsx("polygon",{points:"0,0 30,0 15,10"})})});TF.displayName=ore;var lre=TF;function i0(e){const[t,n]=_.useState(void 0);return Ut(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const a=i[0];let o,l;if("borderBoxSize"in a){const d=a.borderBoxSize,f=Array.isArray(d)?d[0]:d;o=f.inlineSize,l=f.blockSize}else o=e.offsetWidth,l=e.offsetHeight;n({width:o,height:l})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var BA="Popper",[OF,vd]=Rr(BA),[cre,CF]=OF(BA),RF=e=>{const{__scopePopper:t,children:n}=e,[r,i]=_.useState(null);return c.jsx(cre,{scope:t,anchor:r,onAnchorChange:i,children:n})};RF.displayName=BA;var PF="PopperAnchor",MF=_.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...i}=e,a=CF(PF,n),o=_.useRef(null),l=At(t,o),d=_.useRef(null);return _.useEffect(()=>{const f=d.current;d.current=r?.current||o.current,f!==d.current&&a.onAnchorChange(d.current)}),r?null:c.jsx(bt.div,{...i,ref:l})});MF.displayName=PF;var qA="PopperContent",[ure,dre]=OF(qA),kF=_.forwardRef((e,t)=>{const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:a="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:d=!0,collisionBoundary:f=[],collisionPadding:m=0,sticky:p="partial",hideWhenDetached:v=!1,updatePositionStrategy:y="optimized",onPlaced:x,...b}=e,w=CF(qA,n),[N,E]=_.useState(null),j=At(t,J=>E(J)),[O,T]=_.useState(null),C=i0(O),R=C?.width??0,P=C?.height??0,k=r+(a!=="center"?"-"+a:""),$=typeof m=="number"?m:{top:0,right:0,bottom:0,left:0,...m},B=Array.isArray(f)?f:[f],I=B.length>0,F={padding:$,boundary:B.filter(hre),altBoundary:I},{refs:V,floatingStyles:U,placement:D,isPositioned:G,middlewareData:z}=Jne({strategy:"fixed",placement:k,whileElementsMounted:(...J)=>Fne(...J,{animationFrame:y==="always"}),elements:{reference:w.anchor},middleware:[ere({mainAxis:i+P,alignmentAxis:o}),d&&tre({mainAxis:!0,crossAxis:!1,limiter:p==="partial"?nre():void 0,...F}),d&&rre({...F}),ire({...F,apply:({elements:J,rects:me,availableWidth:oe,availableHeight:pe})=>{const{width:we,height:ee}=me.reference,qe=J.floating.style;qe.setProperty("--radix-popper-available-width",`${oe}px`),qe.setProperty("--radix-popper-available-height",`${pe}px`),qe.setProperty("--radix-popper-anchor-width",`${we}px`),qe.setProperty("--radix-popper-anchor-height",`${ee}px`)}}),O&&sre({element:O,padding:l}),mre({arrowWidth:R,arrowHeight:P}),v&&are({strategy:"referenceHidden",...F})]}),[Y,de]=$F(D),H=Sr(x);Ut(()=>{G&&H?.()},[G,H]);const K=z.arrow?.x,Z=z.arrow?.y,le=z.arrow?.centerOffset!==0,[be,ae]=_.useState();return Ut(()=>{N&&ae(window.getComputedStyle(N).zIndex)},[N]),c.jsx("div",{ref:V.setFloating,"data-radix-popper-content-wrapper":"",style:{...U,transform:G?U.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:be,"--radix-popper-transform-origin":[z.transformOrigin?.x,z.transformOrigin?.y].join(" "),...z.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:c.jsx(ure,{scope:n,placedSide:Y,onArrowChange:T,arrowX:K,arrowY:Z,shouldHideArrow:le,children:c.jsx(bt.div,{"data-side":Y,"data-align":de,...b,ref:j,style:{...b.style,animation:G?void 0:"none"}})})})});kF.displayName=qA;var DF="PopperArrow",fre={top:"bottom",right:"left",bottom:"top",left:"right"},IF=_.forwardRef(function(t,n){const{__scopePopper:r,...i}=t,a=dre(DF,r),o=fre[a.placedSide];return c.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:c.jsx(lre,{...i,ref:n,style:{...i.style,display:"block"}})})});IF.displayName=DF;function hre(e){return e!==null}var mre=e=>({name:"transformOrigin",options:e,fn(t){const{placement:n,rects:r,middlewareData:i}=t,o=i.arrow?.centerOffset!==0,l=o?0:e.arrowWidth,d=o?0:e.arrowHeight,[f,m]=$F(n),p={start:"0%",center:"50%",end:"100%"}[m],v=(i.arrow?.x??0)+l/2,y=(i.arrow?.y??0)+d/2;let x="",b="";return f==="bottom"?(x=o?p:`${v}px`,b=`${-d}px`):f==="top"?(x=o?p:`${v}px`,b=`${r.floating.height+d}px`):f==="right"?(x=`${-d}px`,b=o?p:`${y}px`):f==="left"&&(x=`${r.floating.width+d}px`,b=o?p:`${y}px`),{data:{x,y:b}}}});function $F(e){const[t,n="center"]=e.split("-");return[t,n]}var LF=RF,a0=MF,zA=kF,FA=IF,pre="Portal",qm=_.forwardRef((e,t)=>{const{container:n,...r}=e,[i,a]=_.useState(!1);Ut(()=>a(!0),[]);const o=n||i&&globalThis?.document?.body;return o?yz.createPortal(c.jsx(bt.div,{...r,ref:t}),o):null});qm.displayName=pre;function gre(e,t){return _.useReducer((n,r)=>t[n][r]??n,e)}var ua=e=>{const{present:t,children:n}=e,r=vre(t),i=typeof n=="function"?n({present:r.isPresent}):_.Children.only(n),a=At(r.ref,yre(i));return typeof n=="function"||r.isPresent?_.cloneElement(i,{ref:a}):null};ua.displayName="Presence";function vre(e){const[t,n]=_.useState(),r=_.useRef(null),i=_.useRef(e),a=_.useRef("none"),o=e?"mounted":"unmounted",[l,d]=gre(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return _.useEffect(()=>{const f=Tg(r.current);a.current=l==="mounted"?f:"none"},[l]),Ut(()=>{const f=r.current,m=i.current;if(m!==e){const v=a.current,y=Tg(f);e?d("MOUNT"):y==="none"||f?.display==="none"?d("UNMOUNT"):d(m&&v!==y?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,d]),Ut(()=>{if(t){let f;const m=t.ownerDocument.defaultView??window,p=y=>{const b=Tg(r.current).includes(CSS.escape(y.animationName));if(y.target===t&&b&&(d("ANIMATION_END"),!i.current)){const w=t.style.animationFillMode;t.style.animationFillMode="forwards",f=m.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=w)})}},v=y=>{y.target===t&&(a.current=Tg(r.current))};return t.addEventListener("animationstart",v),t.addEventListener("animationcancel",p),t.addEventListener("animationend",p),()=>{m.clearTimeout(f),t.removeEventListener("animationstart",v),t.removeEventListener("animationcancel",p),t.removeEventListener("animationend",p)}}else d("ANIMATION_END")},[t,d]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:_.useCallback(f=>{r.current=f?getComputedStyle(f):null,n(f)},[])}}function Tg(e){return e?.animationName||"none"}function yre(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var bre=Symbol("radix.slottable");function xre(e){const t=({children:n})=>c.jsx(c.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=bre,t}var BF=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),wre="VisuallyHidden",qF=_.forwardRef((e,t)=>c.jsx(bt.span,{...e,ref:t,style:{...BF,...e.style}}));qF.displayName=wre;var _re=qF,[s0]=Rr("Tooltip",[vd]),UA=vd(),zF="TooltipProvider",Sre=700,Yk="tooltip.open",[jre,FF]=s0(zF),UF=e=>{const{__scopeTooltip:t,delayDuration:n=Sre,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:a}=e,o=_.useRef(!0),l=_.useRef(!1),d=_.useRef(0);return _.useEffect(()=>{const f=d.current;return()=>window.clearTimeout(f)},[]),c.jsx(jre,{scope:t,isOpenDelayedRef:o,delayDuration:n,onOpen:_.useCallback(()=>{window.clearTimeout(d.current),o.current=!1},[]),onClose:_.useCallback(()=>{window.clearTimeout(d.current),d.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:_.useCallback(f=>{l.current=f},[]),disableHoverableContent:i,children:a})};UF.displayName=zF;var VF="Tooltip",[Mke,zm]=s0(VF),aN="TooltipTrigger",Nre=_.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,i=zm(aN,n),a=FF(aN,n),o=UA(n),l=_.useRef(null),d=At(t,l,i.onTriggerChange),f=_.useRef(!1),m=_.useRef(!1),p=_.useCallback(()=>f.current=!1,[]);return _.useEffect(()=>()=>document.removeEventListener("pointerup",p),[p]),c.jsx(a0,{asChild:!0,...o,children:c.jsx(bt.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:d,onPointerMove:Ic(e.onPointerMove,v=>{v.pointerType!=="touch"&&!m.current&&!a.isPointerInTransitRef.current&&(i.onTriggerEnter(),m.current=!0)}),onPointerLeave:Ic(e.onPointerLeave,()=>{i.onTriggerLeave(),m.current=!1}),onPointerDown:Ic(e.onPointerDown,()=>{i.open&&i.onClose(),f.current=!0,document.addEventListener("pointerup",p,{once:!0})}),onFocus:Ic(e.onFocus,()=>{f.current||i.onOpen()}),onBlur:Ic(e.onBlur,i.onClose),onClick:Ic(e.onClick,i.onClose)})})});Nre.displayName=aN;var VA="TooltipPortal",[Ere,Are]=s0(VA,{forceMount:void 0}),HF=e=>{const{__scopeTooltip:t,forceMount:n,children:r,container:i}=e,a=zm(VA,t);return c.jsx(Ere,{scope:t,forceMount:n,children:c.jsx(ua,{present:n||a.open,children:c.jsx(qm,{asChild:!0,container:i,children:r})})})};HF.displayName=VA;var Ru="TooltipContent",GF=_.forwardRef((e,t)=>{const n=Are(Ru,e.__scopeTooltip),{forceMount:r=n.forceMount,side:i="top",...a}=e,o=zm(Ru,e.__scopeTooltip);return c.jsx(ua,{present:r||o.open,children:o.disableHoverableContent?c.jsx(KF,{side:i,...a,ref:t}):c.jsx(Tre,{side:i,...a,ref:t})})}),Tre=_.forwardRef((e,t)=>{const n=zm(Ru,e.__scopeTooltip),r=FF(Ru,e.__scopeTooltip),i=_.useRef(null),a=At(t,i),[o,l]=_.useState(null),{trigger:d,onClose:f}=n,m=i.current,{onPointerInTransitChange:p}=r,v=_.useCallback(()=>{l(null),p(!1)},[p]),y=_.useCallback((x,b)=>{const w=x.currentTarget,N={x:x.clientX,y:x.clientY},E=Mre(N,w.getBoundingClientRect()),j=kre(N,E),O=Dre(b.getBoundingClientRect()),T=$re([...j,...O]);l(T),p(!0)},[p]);return _.useEffect(()=>()=>v(),[v]),_.useEffect(()=>{if(d&&m){const x=w=>y(w,m),b=w=>y(w,d);return d.addEventListener("pointerleave",x),m.addEventListener("pointerleave",b),()=>{d.removeEventListener("pointerleave",x),m.removeEventListener("pointerleave",b)}}},[d,m,y,v]),_.useEffect(()=>{if(o){const x=b=>{const w=b.target,N={x:b.clientX,y:b.clientY},E=d?.contains(w)||m?.contains(w),j=!Ire(N,o);E?v():j&&(v(),f())};return document.addEventListener("pointermove",x),()=>document.removeEventListener("pointermove",x)}},[d,m,o,f,v]),c.jsx(KF,{...e,ref:a})}),[Ore,Cre]=s0(VF,{isInside:!1}),Rre=xre("TooltipContent"),KF=_.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:a,onPointerDownOutside:o,...l}=e,d=zm(Ru,n),f=UA(n),{onClose:m}=d;return _.useEffect(()=>(document.addEventListener(Yk,m),()=>document.removeEventListener(Yk,m)),[m]),_.useEffect(()=>{if(d.trigger){const p=v=>{v.target?.contains(d.trigger)&&m()};return window.addEventListener("scroll",p,{capture:!0}),()=>window.removeEventListener("scroll",p,{capture:!0})}},[d.trigger,m]),c.jsx(Lm,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:p=>p.preventDefault(),onDismiss:m,children:c.jsxs(zA,{"data-state":d.stateAttribute,...f,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[c.jsx(Rre,{children:r}),c.jsx(Ore,{scope:n,isInside:!0,children:c.jsx(_re,{id:d.contentId,role:"tooltip",children:i||r})})]})})});GF.displayName=Ru;var WF="TooltipArrow",Pre=_.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,i=UA(n);return Cre(WF,n).isInside?null:c.jsx(FA,{...i,...r,ref:t})});Pre.displayName=WF;function Mre(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),i=Math.abs(t.right-e.x),a=Math.abs(t.left-e.x);switch(Math.min(n,r,i,a)){case a:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function kre(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function Dre(e){const{top:t,right:n,bottom:r,left:i}=e;return[{x:i,y:t},{x:n,y:t},{x:n,y:r},{x:i,y:r}]}function Ire(e,t){const{x:n,y:r}=e;let i=!1;for(let a=0,o=t.length-1;a<t.length;o=a++){const l=t[a],d=t[o],f=l.x,m=l.y,p=d.x,v=d.y;m>r!=v>r&&n<(p-f)*(r-m)/(v-m)+f&&(i=!i)}return i}function $re(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),Lre(t)}function Lre(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const i=e[r];for(;t.length>=2;){const a=t[t.length-1],o=t[t.length-2];if((a.x-o.x)*(i.y-o.y)>=(a.y-o.y)*(i.x-o.x))t.pop();else break}t.push(i)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const i=e[r];for(;n.length>=2;){const a=n[n.length-1],o=n[n.length-2];if((a.x-o.x)*(i.y-o.y)>=(a.y-o.y)*(i.x-o.x))n.pop();else break}n.push(i)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var Bre=UF,qre=HF,YF=GF;const zre=Bre,Fre=_.forwardRef(({className:e,sideOffset:t=4,...n},r)=>c.jsx(qre,{children:c.jsx(YF,{ref:r,sideOffset:t,className:Ae("z-50 overflow-hidden rounded-md bg-primary px-3 py-1.5 text-xs text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",e),...n})}));Fre.displayName=YF.displayName;const Xk=e=>{let t;const n=new Set,r=(f,m)=>{const p=typeof f=="function"?f(t):f;if(!Object.is(p,t)){const v=t;t=m??(typeof p!="object"||p===null)?p:Object.assign({},t,p),n.forEach(y=>y(t,v))}},i=()=>t,l={setState:r,getState:i,getInitialState:()=>d,subscribe:f=>(n.add(f),()=>n.delete(f))},d=t=e(r,i,l);return l},Ure=(e=>e?Xk(e):Xk),Vre=e=>e;function Hre(e,t=Vre){const n=q.useSyncExternalStore(e.subscribe,q.useCallback(()=>t(e.getState()),[e,t]),q.useCallback(()=>t(e.getInitialState()),[e,t]));return q.useDebugValue(n),n}const Qk=e=>{const t=Ure(e),n=r=>Hre(t,r);return Object.assign(n,t),n},Gre=(e=>e?Qk(e):Qk);var va=function(){return va=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},va.apply(this,arguments)};function yd(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function Kre(e,t,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function l(m){try{f(r.next(m))}catch(p){o(p)}}function d(m){try{f(r.throw(m))}catch(p){o(p)}}function f(m){m.done?a(m.value):i(m.value).then(l,d)}f((r=r.apply(e,t||[])).next())})}function Wre(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,a;r<i;r++)(a||!(r in t))&&(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))}const Yre=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class HA extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class Xre extends HA{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Jk extends HA{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Zk extends HA{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var sN;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(sN||(sN={}));class Qre{constructor(t,{headers:n={},customFetch:r,region:i=sN.Any}={}){this.url=t,this.headers=n,this.region=i,this.fetch=Yre(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return Kre(this,arguments,void 0,function*(n,r={}){var i;let a,o;try{const{headers:l,method:d,body:f,signal:m,timeout:p}=r;let v={},{region:y}=r;y||(y=this.region);const x=new URL(`${this.url}/${n}`);y&&y!=="any"&&(v["x-region"]=y,x.searchParams.set("forceFunctionRegion",y));let b;f&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)?typeof Blob<"u"&&f instanceof Blob||f instanceof ArrayBuffer?(v["Content-Type"]="application/octet-stream",b=f):typeof f=="string"?(v["Content-Type"]="text/plain",b=f):typeof FormData<"u"&&f instanceof FormData?b=f:(v["Content-Type"]="application/json",b=JSON.stringify(f)):f&&typeof f!="string"&&!(typeof Blob<"u"&&f instanceof Blob)&&!(f instanceof ArrayBuffer)&&!(typeof FormData<"u"&&f instanceof FormData)?b=JSON.stringify(f):b=f;let w=m;p&&(o=new AbortController,a=setTimeout(()=>o.abort(),p),m?(w=o.signal,m.addEventListener("abort",()=>o.abort())):w=o.signal);const N=yield this.fetch(x.toString(),{method:d||"POST",headers:Object.assign(Object.assign(Object.assign({},v),this.headers),l),body:b,signal:w}).catch(T=>{throw new Xre(T)}),E=N.headers.get("x-relay-error");if(E&&E==="true")throw new Jk(N);if(!N.ok)throw new Zk(N);let j=((i=N.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),O;return j==="application/json"?O=yield N.json():j==="application/octet-stream"||j==="application/pdf"?O=yield N.blob():j==="text/event-stream"?O=N:j==="multipart/form-data"?O=yield N.formData():O=yield N.text(),{data:O,error:null,response:N}}catch(l){return{data:null,error:l,response:l instanceof Zk||l instanceof Jk?l.context:void 0}}finally{a&&clearTimeout(a)}})}}var Jre=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},Zre=class{constructor(e){var t,n;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(n=e.isMaybeSingle)!==null&&n!==void 0?n:!1,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var n=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{let o=null,l=null,d=null,f=a.status,m=a.statusText;if(a.ok){var p,v;if(n.method!=="HEAD"){var y;const N=await a.text();N===""||(n.headers.get("Accept")==="text/csv"||n.headers.get("Accept")&&(!((y=n.headers.get("Accept"))===null||y===void 0)&&y.includes("application/vnd.pgrst.plan+text"))?l=N:l=JSON.parse(N))}const b=(p=n.headers.get("Prefer"))===null||p===void 0?void 0:p.match(/count=(exact|planned|estimated)/),w=(v=a.headers.get("content-range"))===null||v===void 0?void 0:v.split("/");b&&w&&w.length>1&&(d=parseInt(w[1])),n.isMaybeSingle&&n.method==="GET"&&Array.isArray(l)&&(l.length>1?(o={code:"PGRST116",details:`Results contain ${l.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},l=null,d=null,f=406,m="Not Acceptable"):l.length===1?l=l[0]:l=null)}else{var x;const b=await a.text();try{o=JSON.parse(b),Array.isArray(o)&&a.status===404&&(l=[],o=null,f=200,m="OK")}catch{a.status===404&&b===""?(f=204,m="No Content"):o={message:b}}if(o&&n.isMaybeSingle&&(!(o==null||(x=o.details)===null||x===void 0)&&x.includes("0 rows"))&&(o=null,f=200,m="OK"),o&&n.shouldThrowOnError)throw new Jre(o)}return{error:o,data:l,count:d,status:f,statusText:m}});return this.shouldThrowOnError||(i=i.catch(a=>{var o;let l="";const d=a?.cause;if(d){var f,m,p,v;const x=(f=d?.message)!==null&&f!==void 0?f:"",b=(m=d?.code)!==null&&m!==void 0?m:"";l=`${(p=a?.name)!==null&&p!==void 0?p:"FetchError"}: ${a?.message}`,l+=`

Caused by: ${(v=d?.name)!==null&&v!==void 0?v:"Error"}: ${x}`,b&&(l+=` (${b})`),d?.stack&&(l+=`
${d.stack}`)}else{var y;l=(y=a?.stack)!==null&&y!==void 0?y:""}return{error:{message:`${(o=a?.name)!==null&&o!==void 0?o:"FetchError"}: ${a?.message}`,details:l,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),i.then(e,t)}returns(){return this}overrideTypes(){return this}},eie=class extends Zre{select(e){let t=!1;const n=(e??"*").split("").map(r=>/\s/.test(r)&&!t?"":(r==='"'&&(t=!t),r)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:n,foreignTable:r,referencedTable:i=r}={}){const a=i?`${i}.order`:"order",o=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${o?`${o},`:""}${e}.${t?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:n=t}={}){const r=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(r,`${e}`),this}range(e,t,{foreignTable:n,referencedTable:r=n}={}){const i=typeof r>"u"?"offset":`${r}.offset`,a=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(a,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:n=!1,buffers:r=!1,wal:i=!1,format:a="text"}={}){var o;const l=[e?"analyze":null,t?"verbose":null,n?"settings":null,r?"buffers":null,i?"wal":null].filter(Boolean).join("|"),d=(o=this.headers.get("Accept"))!==null&&o!==void 0?o:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${a}; for="${d}"; options=${l};`),a==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const eD=new RegExp("[,()]");var eu=class extends eie{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const n=Array.from(new Set(t)).map(r=>typeof r=="string"&&eD.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}notIn(e,t){const n=Array.from(new Set(t)).map(r=>typeof r=="string"&&eD.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(e,`not.in.(${n})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:n,type:r}={}){let i="";r==="plain"?i="pl":r==="phrase"?i="ph":r==="websearch"&&(i="w");const a=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${i}fts${a}.${t}`),this}match(e){return Object.entries(e).forEach(([t,n])=>{this.url.searchParams.append(t,`eq.${n}`)}),this}not(e,t,n){return this.url.searchParams.append(e,`not.${t}.${n}`),this}or(e,{foreignTable:t,referencedTable:n=t}={}){const r=n?`${n}.or`:"or";return this.url.searchParams.append(r,`(${e})`),this}filter(e,t,n){return this.url.searchParams.append(e,`${t}.${n}`),this}},tie=class{constructor(e,{headers:t={},schema:n,fetch:r}){this.url=e,this.headers=new Headers(t),this.schema=n,this.fetch=r}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(e,t){const{head:n=!1,count:r}=t??{},i=n?"HEAD":"GET";let a=!1;const o=(e??"*").split("").map(f=>/\s/.test(f)&&!a?"":(f==='"'&&(a=!a),f)).join(""),{url:l,headers:d}=this.cloneRequestState();return l.searchParams.set("select",o),r&&d.append("Prefer",`count=${r}`),new eu({method:i,url:l,headers:d,schema:this.schema,fetch:this.fetch})}insert(e,{count:t,defaultToNull:n=!0}={}){var r;const i="POST",{url:a,headers:o}=this.cloneRequestState();if(t&&o.append("Prefer",`count=${t}`),n||o.append("Prefer","missing=default"),Array.isArray(e)){const l=e.reduce((d,f)=>d.concat(Object.keys(f)),[]);if(l.length>0){const d=[...new Set(l)].map(f=>`"${f}"`);a.searchParams.set("columns",d.join(","))}}return new eu({method:i,url:a,headers:o,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}upsert(e,{onConflict:t,ignoreDuplicates:n=!1,count:r,defaultToNull:i=!0}={}){var a;const o="POST",{url:l,headers:d}=this.cloneRequestState();if(d.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),t!==void 0&&l.searchParams.set("on_conflict",t),r&&d.append("Prefer",`count=${r}`),i||d.append("Prefer","missing=default"),Array.isArray(e)){const f=e.reduce((m,p)=>m.concat(Object.keys(p)),[]);if(f.length>0){const m=[...new Set(f)].map(p=>`"${p}"`);l.searchParams.set("columns",m.join(","))}}return new eu({method:o,url:l,headers:d,schema:this.schema,body:e,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}update(e,{count:t}={}){var n;const r="PATCH",{url:i,headers:a}=this.cloneRequestState();return t&&a.append("Prefer",`count=${t}`),new eu({method:r,url:i,headers:a,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:e}={}){var t;const n="DELETE",{url:r,headers:i}=this.cloneRequestState();return e&&i.append("Prefer",`count=${e}`),new eu({method:n,url:r,headers:i,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}},nie=class XF{constructor(t,{headers:n={},schema:r,fetch:i}={}){this.url=t,this.headers=new Headers(n),this.schemaName=r,this.fetch=i}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new tie(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new XF(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:i=!1,count:a}={}){var o;let l;const d=new URL(`${this.url}/rpc/${t}`);let f;const m=y=>y!==null&&typeof y=="object"&&(!Array.isArray(y)||y.some(m)),p=r&&Object.values(n).some(m);p?(l="POST",f=n):r||i?(l=r?"HEAD":"GET",Object.entries(n).filter(([y,x])=>x!==void 0).map(([y,x])=>[y,Array.isArray(x)?`{${x.join(",")}}`:`${x}`]).forEach(([y,x])=>{d.searchParams.append(y,x)})):(l="POST",f=n);const v=new Headers(this.headers);return p?v.set("Prefer",a?`count=${a},return=minimal`:"return=minimal"):a&&v.set("Prefer",`count=${a}`),new eu({method:l,url:d,headers:v,schema:this.schemaName,body:f,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};class rie{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const n=globalThis.process;if(n){const r=n.versions;if(r&&r.node){const i=r.node,a=parseInt(i.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const r=this.getWebSocketConstructor();return new r(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const iie="2.93.3",aie=`realtime-js/${iie}`,sie="1.0.0",QF="2.0.0",tD=QF,oN=1e4,oie=1e3,lie=100;var to;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(to||(to={}));var Jn;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Jn||(Jn={}));var Qi;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Qi||(Qi={}));var lN;(function(e){e.websocket="websocket"})(lN||(lN={}));var dl;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(dl||(dl={}));class cie{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,n){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(t));let r=[t.join_ref,t.ref,t.topic,t.event,t.payload];return n(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(t){var n;return this._isArrayBuffer((n=t.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var n,r;const i=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(t){var n,r;const i=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:{},o=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,o)}_encodeUserBroadcastPush(t,n,r){var i,a;const o=t.topic,l=(i=t.ref)!==null&&i!==void 0?i:"",d=(a=t.join_ref)!==null&&a!==void 0?a:"",f=t.payload.event,m=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},p=Object.keys(m).length===0?"":JSON.stringify(m);if(d.length>255)throw new Error(`joinRef length ${d.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`ref length ${l.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`topic length ${o.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`userEvent length ${f.length} exceeds maximum of 255`);if(p.length>255)throw new Error(`metadata length ${p.length} exceeds maximum of 255`);const v=this.USER_BROADCAST_PUSH_META_LENGTH+d.length+l.length+o.length+f.length+p.length,y=new ArrayBuffer(this.HEADER_LENGTH+v);let x=new DataView(y),b=0;x.setUint8(b++,this.KINDS.userBroadcastPush),x.setUint8(b++,d.length),x.setUint8(b++,l.length),x.setUint8(b++,o.length),x.setUint8(b++,f.length),x.setUint8(b++,p.length),x.setUint8(b++,n),Array.from(d,N=>x.setUint8(b++,N.charCodeAt(0))),Array.from(l,N=>x.setUint8(b++,N.charCodeAt(0))),Array.from(o,N=>x.setUint8(b++,N.charCodeAt(0))),Array.from(f,N=>x.setUint8(b++,N.charCodeAt(0))),Array.from(p,N=>x.setUint8(b++,N.charCodeAt(0)));var w=new Uint8Array(y.byteLength+r.byteLength);return w.set(new Uint8Array(y),0),w.set(new Uint8Array(r),y.byteLength),w.buffer}decode(t,n){if(this._isArrayBuffer(t)){let r=this._binaryDecode(t);return n(r)}if(typeof t=="string"){const r=JSON.parse(t),[i,a,o,l,d]=r;return n({join_ref:i,ref:a,topic:o,event:l,payload:d})}return n({})}_binaryDecode(t){const n=new DataView(t),r=n.getUint8(0),i=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,n,i)}}_decodeUserBroadcast(t,n,r){const i=n.getUint8(1),a=n.getUint8(2),o=n.getUint8(3),l=n.getUint8(4);let d=this.HEADER_LENGTH+4;const f=r.decode(t.slice(d,d+i));d=d+i;const m=r.decode(t.slice(d,d+a));d=d+a;const p=r.decode(t.slice(d,d+o));d=d+o;const v=t.slice(d,t.byteLength),y=l===this.JSON_ENCODING?JSON.parse(r.decode(v)):v,x={type:this.BROADCAST_EVENT,event:m,payload:y};return o>0&&(x.meta=JSON.parse(p)),{join_ref:null,ref:null,topic:f,event:this.BROADCAST_EVENT,payload:x}}_isArrayBuffer(t){var n;return t instanceof ArrayBuffer||((n=t?.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(t,n){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([r])=>n.includes(r)))}}class JF{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var mn;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(mn||(mn={}));const nD=(e,t,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return t?Object.keys(t).reduce((a,o)=>(a[o]=uie(o,e,t,i),a),{}):{}},uie=(e,t,n,r)=>{const i=t.find(l=>l.name===e),a=i?.type,o=n[e];return a&&!r.includes(a)?ZF(a,o):cN(o)},ZF=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return mie(t,n)}switch(e){case mn.bool:return die(t);case mn.float4:case mn.float8:case mn.int2:case mn.int4:case mn.int8:case mn.numeric:case mn.oid:return fie(t);case mn.json:case mn.jsonb:return hie(t);case mn.timestamp:return pie(t);case mn.abstime:case mn.date:case mn.daterange:case mn.int4range:case mn.int8range:case mn.money:case mn.reltime:case mn.text:case mn.time:case mn.timestamptz:case mn.timetz:case mn.tsrange:case mn.tstzrange:return cN(t);default:return cN(t)}},cN=e=>e,die=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},fie=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},hie=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},mie=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let a;const o=e.slice(1,n);try{a=JSON.parse("["+o+"]")}catch{a=o?o.split(","):[]}return a.map(l=>ZF(t,l))}return e},pie=e=>typeof e=="string"?e.replace(" ","T"):e,eU=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Uw{constructor(t,n,r={},i=oN){this.channel=t,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var rD;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(rD||(rD={}));class oh{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:a,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=oh.syncState(this.state,i,a,o),this.pendingDiffs.forEach(d=>{this.state=oh.syncDiff(this.state,d,a,o)}),this.pendingDiffs=[],l()}),this.channel._on(r.diff,{},i=>{const{onJoin:a,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=oh.syncDiff(this.state,i,a,o),l())}),this.onJoin((i,a,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:o})}),this.onLeave((i,a,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,i){const a=this.cloneDeep(t),o=this.transformState(n),l={},d={};return this.map(a,(f,m)=>{o[f]||(d[f]=m)}),this.map(o,(f,m)=>{const p=a[f];if(p){const v=m.map(w=>w.presence_ref),y=p.map(w=>w.presence_ref),x=m.filter(w=>y.indexOf(w.presence_ref)<0),b=p.filter(w=>v.indexOf(w.presence_ref)<0);x.length>0&&(l[f]=x),b.length>0&&(d[f]=b)}else l[f]=m}),this.syncDiff(a,{joins:l,leaves:d},r,i)}static syncDiff(t,n,r,i){const{joins:a,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(a,(l,d)=>{var f;const m=(f=t[l])!==null&&f!==void 0?f:[];if(t[l]=this.cloneDeep(d),m.length>0){const p=t[l].map(y=>y.presence_ref),v=m.filter(y=>p.indexOf(y.presence_ref)<0);t[l].unshift(...v)}r(l,m,d)}),this.map(o,(l,d)=>{let f=t[l];if(!f)return;const m=d.map(p=>p.presence_ref);f=f.filter(p=>m.indexOf(p.presence_ref)<0),t[l]=f,i(l,f,d),f.length===0&&delete t[l]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const i=t[r];return"metas"in i?n[r]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):n[r]=i,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var iD;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(iD||(iD={}));var lh;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(lh||(lh={}));var is;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(is||(is={}));class au{constructor(t,n={config:{}},r){var i,a;if(this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=Jn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Uw(this,Qi.join,this.params,this.timeout),this.rejoinTimer=new JF(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Jn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Jn.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Jn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Jn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Jn.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Qi.reply,{},(o,l)=>{this._trigger(this._replyEventName(l),o)}),this.presence=new oh(this),this.broadcastEndpointURL=eU(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((a=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||a===void 0)&&a.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var r,i,a;if(this.socket.isConnected()||this.socket.connect(),this.state==Jn.closed){const{config:{broadcast:o,presence:l,private:d}}=this.params,f=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(y=>y.filter))!==null&&i!==void 0?i:[],m=!!this.bindings[lh.PRESENCE]&&this.bindings[lh.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,p={},v={broadcast:o,presence:Object.assign(Object.assign({},l),{enabled:m}),postgres_changes:f,private:d};this.socket.accessTokenValue&&(p.access_token=this.socket.accessTokenValue),this._onError(y=>t?.(is.CHANNEL_ERROR,y)),this._onClose(()=>t?.(is.CLOSED)),this.updateJoinPayload(Object.assign({config:v},p)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:y})=>{var x;if(this.socket._isManualToken()||this.socket.setAuth(),y===void 0){t?.(is.SUBSCRIBED);return}else{const b=this.bindings.postgres_changes,w=(x=b?.length)!==null&&x!==void 0?x:0,N=[];for(let E=0;E<w;E++){const j=b[E],{filter:{event:O,schema:T,table:C,filter:R}}=j,P=y&&y[E];if(P&&P.event===O&&au.isFilterValueEqual(P.schema,T)&&au.isFilterValueEqual(P.table,C)&&au.isFilterValueEqual(P.filter,R))N.push(Object.assign(Object.assign({},j),{id:P.id}));else{this.unsubscribe(),this.state=Jn.errored,t?.(is.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=N,t&&t(is.SUBSCRIBED);return}}).receive("error",y=>{this.state=Jn.errored,t?.(is.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(y).join(", ")||"error")))}).receive("timeout",()=>{t?.(is.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this.state===Jn.joined&&t===lh.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,n,r)}async httpSend(t,n,r={}){var i;if(n==null)return Promise.reject("Payload is required for httpSend()");const a={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(a.Authorization=`Bearer ${this.socket.accessTokenValue}`);const o={method:"POST",headers:a,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:n,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(i=r.timeout)!==null&&i!==void 0?i:this.timeout);if(l.status===202)return{success:!0};let d=l.statusText;try{const f=await l.json();d=f.error||f.message||d}catch{}return Promise.reject(new Error(d))}async send(t,n={}){var r,i;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:a,payload:o}=t,l={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(l.Authorization=`Bearer ${this.socket.accessTokenValue}`);const d={method:"POST",headers:l,body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:o,private:this.private}]})};try{const f=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=f.body)===null||i===void 0?void 0:i.cancel()),f.ok?"ok":"error"}catch(f){return f.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var o,l,d;const f=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((d=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||d===void 0)&&d.ack)&&a("ok"),f.receive("ok",()=>a("ok")),f.receive("error",()=>a("error")),f.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Jn.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Qi.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new Uw(this,Qi.leave,{},t),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Jn.closed,this.bindings={}}async _fetchWithTimeout(t,n,r){const i=new AbortController,a=setTimeout(()=>i.abort(),r),o=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(a),o}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Uw(this,t,n,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>lie){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var i,a;const o=t.toLocaleLowerCase(),{close:l,error:d,leave:f,join:m}=Qi;if(r&&[l,d,f,m].indexOf(o)>=0&&r!==this._joinRef())return;let v=this._onMessage(o,n,r);if(n&&!v)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(y=>{var x,b,w;return((x=y.filter)===null||x===void 0?void 0:x.event)==="*"||((w=(b=y.filter)===null||b===void 0?void 0:b.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===o}).map(y=>y.callback(v,r)):(a=this.bindings[o])===null||a===void 0||a.filter(y=>{var x,b,w,N,E,j;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in y){const O=y.id,T=(x=y.filter)===null||x===void 0?void 0:x.event;return O&&((b=n.ids)===null||b===void 0?void 0:b.includes(O))&&(T==="*"||T?.toLocaleLowerCase()===((w=n.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))}else{const O=(E=(N=y?.filter)===null||N===void 0?void 0:N.event)===null||E===void 0?void 0:E.toLocaleLowerCase();return O==="*"||O===((j=n?.event)===null||j===void 0?void 0:j.toLocaleLowerCase())}else return y.type.toLocaleLowerCase()===o}).map(y=>{if(typeof v=="object"&&"ids"in v){const x=v.data,{schema:b,table:w,commit_timestamp:N,type:E,errors:j}=x;v=Object.assign(Object.assign({},{schema:b,table:w,commit_timestamp:N,eventType:E,new:{},old:{},errors:j}),this._getPayloadRecords(x))}y.callback(v,r)})}_isClosed(){return this.state===Jn.closed}_isJoined(){return this.state===Jn.joined}_isJoining(){return this.state===Jn.joining}_isLeaving(){return this.state===Jn.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const i=t.toLocaleLowerCase(),a={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===r&&au.isEqual(i.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}static isFilterValueEqual(t,n){return(t??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Qi.close,{},t)}_onError(t){this._on(Qi.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Jn.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=nD(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=nD(t.columns,t.old_record)),n}}const Vw=()=>{},Og={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},gie=[1e3,2e3,5e3,1e4],vie=1e4,yie=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class bie{constructor(t,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=oN,this.transport=null,this.heartbeatIntervalMs=Og.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Vw,this.ref=0,this.reconnectTimer=null,this.vsn=tD,this.logger=Vw,this.conn=null,this.sendBuffer=[],this.serializer=new cie,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=i=>i?(...a)=>i(...a):(...a)=>fetch(...a),!(!((r=n?.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${lN.websocket}`,this.httpEndpoint=eU(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=rie.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case to.connecting:return dl.Connecting;case to.open:return dl.Open;case to.closing:return dl.Closing;default:return dl.Closed}}isConnected(){return this.connectionState()===dl.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const r=`realtime:${t}`,i=this.getChannels().find(a=>a.topic===r);if(i)return i;{const a=new au(`realtime:${t}`,n,this);return this.channels.push(a),a}}push(t){const{topic:n,event:r,payload:i,ref:a}=t,o=()=>{this.encode(t,l=>{var d;(d=this.conn)===null||d===void 0||d.send(l)})};this.log("push",`${n} ${r} (${a})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(oie,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Og.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply"&&n.ref&&n.ref===this.pendingHeartbeatRef){const f=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error",f)}catch(m){this.log("error","error in heartbeat callback",m)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:r,event:i,payload:a,ref:o}=n,l=o?`(${o})`:"",d=a.status||"";this.log("receive",`${d} ${r} ${i} ${l}`.trim(),a),this.channels.filter(f=>f._isMember(r)).forEach(f=>f._trigger(i,a,o)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===to.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===to.open||this.conn.readyState===to.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t);try{this.heartbeatCallback("error")}catch(n){this.log("error","error in heartbeat callback",n)}}_triggerChanError(){this.channels.forEach(t=>t._trigger(Qi.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${t}${r}${i}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([yie],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n,r=!1;if(t)n=t,r=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(i){this.log("error","Error fetching access token from callback",i),n=this.accessTokenValue}else n=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(i=>{const a={access_token:n,version:aie};n&&i.updateJoinPayload(a),i.joinedOnce&&i._isJoined()&&i._push(Qi.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(n)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new JF(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Og.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,r,i,a,o,l,d,f,m,p,v,y;switch(this.transport=(n=t?.transport)!==null&&n!==void 0?n:null,this.timeout=(r=t?.timeout)!==null&&r!==void 0?r:oN,this.heartbeatIntervalMs=(i=t?.heartbeatIntervalMs)!==null&&i!==void 0?i:Og.HEARTBEAT_INTERVAL,this.worker=(a=t?.worker)!==null&&a!==void 0?a:!1,this.accessToken=(o=t?.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(l=t?.heartbeatCallback)!==null&&l!==void 0?l:Vw,this.vsn=(d=t?.vsn)!==null&&d!==void 0?d:tD,t?.params&&(this.params=t.params),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(f=t?.reconnectAfterMs)!==null&&f!==void 0?f:(x=>gie[x-1]||vie),this.vsn){case sie:this.encode=(m=t?.encode)!==null&&m!==void 0?m:((x,b)=>b(JSON.stringify(x))),this.decode=(p=t?.decode)!==null&&p!==void 0?p:((x,b)=>b(JSON.parse(x)));break;case QF:this.encode=(v=t?.encode)!==null&&v!==void 0?v:this.serializer.encode.bind(this.serializer),this.decode=(y=t?.decode)!==null&&y!==void 0?y:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t?.workerUrl}}}var Mh=class extends Error{constructor(e,t){super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&t.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function xie(e,t,n){const r=new URL(t,e);if(n)for(const[i,a]of Object.entries(n))a!==void 0&&r.searchParams.set(i,a);return r.toString()}async function wie(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function _ie(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:n,path:r,query:i,body:a,headers:o}){const l=xie(e.baseUrl,r,i),d=await wie(e.auth),f=await t(l,{method:n,headers:{...a?{"Content-Type":"application/json"}:{},...d,...o},body:a?JSON.stringify(a):void 0}),m=await f.text(),p=(f.headers.get("content-type")||"").includes("application/json"),v=p&&m?JSON.parse(m):m;if(!f.ok){const y=p?v:void 0,x=y?.error;throw new Mh(x?.message??`Request failed with status ${f.status}`,{status:f.status,icebergType:x?.type,icebergCode:x?.code,details:y})}return{status:f.status,headers:f.headers,data:v}}}}function Cg(e){return e.join("")}var Sie=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:Cg(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(e,t){const n={namespace:e.namespace,properties:t?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Cg(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Cg(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Cg(e.namespace)}`}),!0}catch(t){if(t instanceof Mh&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(n){if(n instanceof Mh&&n.status===409)return;throw n}}};function $c(e){return e.join("")}var jie=class{constructor(e,t="",n){this.client=e,this.prefix=t,this.accessDelegation=n}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${$c(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${$c(e.namespace)}/tables`,body:t,headers:n})).data.metadata}async updateTable(e,t){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${$c(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${$c(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String(t?.purge??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${$c(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${$c(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(n){if(n instanceof Mh&&n.status===404)return!1;throw n}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(n){if(n instanceof Mh&&n.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw n}}},Nie=class{constructor(e){let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const n=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=_ie({baseUrl:n,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=e.accessDelegation?.join(","),this.namespaceOps=new Sie(this.client,t),this.tableOps=new jie(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},o0=class extends Error{constructor(e,t="storage",n,r){super(e),this.__isStorageError=!0,this.namespace=t,this.name=t==="vectors"?"StorageVectorsError":"StorageError",this.status=n,this.statusCode=r}};function l0(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var Rg=class extends o0{constructor(e,t,n,r="storage"){super(e,r,t,n),this.name=r==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},tU=class extends o0{constructor(e,t,n="storage"){super(e,n),this.name=n==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=t}};const Eie=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),Aie=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},uN=e=>{if(Array.isArray(e))return e.map(n=>uN(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[i]=uN(r)}),t},Tie=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function kh(e){"@babel/helpers - typeof";return kh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kh(e)}function Oie(e,t){if(kh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(kh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Cie(e){var t=Oie(e,"string");return kh(t)=="symbol"?t:t+""}function Rie(e,t,n){return(t=Cie(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function aD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function gt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?aD(Object(n),!0).forEach(function(r){Rie(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}const sD=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},Pie=async(e,t,n,r)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!n?.noResolveJson){const i=e,a=i.status||500;if(typeof i.json=="function")i.json().then(o=>{const l=o?.statusCode||o?.code||a+"";t(new Rg(sD(o),a,l,r))}).catch(()=>{if(r==="vectors"){const o=a+"";t(new Rg(i.statusText||`HTTP ${a} error`,a,o,r))}else{const o=a+"";t(new Rg(i.statusText||`HTTP ${a} error`,a,o,r))}});else{const o=a+"";t(new Rg(i.statusText||`HTTP ${a} error`,a,o,r))}}else t(new tU(sD(e),e,r))},Mie=(e,t,n,r)=>{const i={method:e,headers:t?.headers||{}};return e==="GET"||e==="HEAD"||!r?gt(gt({},i),n):(Aie(r)?(i.headers=gt({"Content-Type":"application/json"},t?.headers),i.body=JSON.stringify(r)):i.body=r,t?.duplex&&(i.duplex=t.duplex),gt(gt({},i),n))};async function Pf(e,t,n,r,i,a,o){return new Promise((l,d)=>{e(n,Mie(t,r,i,a)).then(f=>{if(!f.ok)throw f;if(r?.noResolveJson)return f;if(o==="vectors"){const m=f.headers.get("content-type");if(f.headers.get("content-length")==="0"||f.status===204)return{};if(!m||!m.includes("application/json"))return{}}return f.json()}).then(f=>l(f)).catch(f=>Pie(f,d,r,o))})}function nU(e="storage"){return{get:async(t,n,r,i)=>Pf(t,"GET",n,r,i,void 0,e),post:async(t,n,r,i,a)=>Pf(t,"POST",n,i,a,r,e),put:async(t,n,r,i,a)=>Pf(t,"PUT",n,i,a,r,e),head:async(t,n,r,i)=>Pf(t,"HEAD",n,gt(gt({},r),{},{noResolveJson:!0}),i,void 0,e),remove:async(t,n,r,i,a)=>Pf(t,"DELETE",n,i,a,r,e)}}const kie=nU("storage"),{get:Dh,post:Xi,put:dN,head:Die,remove:GA}=kie,di=nU("vectors");var bd=class{constructor(e,t={},n,r="storage"){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.fetch=Eie(n),this.namespace=r}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(e){var t=this;try{return{data:await e(),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(l0(n))return{data:null,error:n};throw n}}},Iie=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(l0(t))return{data:null,error:t};throw t}}};let rU;rU=Symbol.toStringTag;var $ie=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[rU]="BlobDownloadBuilder",this.promise=null}asStream(){return new Iie(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(l0(t))return{data:null,error:t};throw t}}};const Lie={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},oD={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var Bie=class extends bd{constructor(e,t={},n,r){super(e,t,r,"storage"),this.bucketId=n}async uploadOrUpdate(e,t,n,r){var i=this;return i.handleOperation(async()=>{let a;const o=gt(gt({},oD),r);let l=gt(gt({},i.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const d=o.metadata;typeof Blob<"u"&&n instanceof Blob?(a=new FormData,a.append("cacheControl",o.cacheControl),d&&a.append("metadata",i.encodeMetadata(d)),a.append("",n)):typeof FormData<"u"&&n instanceof FormData?(a=n,a.has("cacheControl")||a.append("cacheControl",o.cacheControl),d&&!a.has("metadata")&&a.append("metadata",i.encodeMetadata(d))):(a=n,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,d&&(l["x-metadata"]=i.toBase64(i.encodeMetadata(d))),(typeof ReadableStream<"u"&&a instanceof ReadableStream||a&&typeof a=="object"&&"pipe"in a&&typeof a.pipe=="function")&&!o.duplex&&(o.duplex="half")),r?.headers&&(l=gt(gt({},l),r.headers));const f=i._removeEmptyFolders(t),m=i._getFinalPath(f),p=await(e=="PUT"?dN:Xi)(i.fetch,`${i.url}/object/${m}`,a,gt({headers:l},o?.duplex?{duplex:o.duplex}:{}));return{path:f,id:p.Id,fullPath:p.Key}})}async upload(e,t,n){return this.uploadOrUpdate("POST",e,t,n)}async uploadToSignedUrl(e,t,n,r){var i=this;const a=i._removeEmptyFolders(e),o=i._getFinalPath(a),l=new URL(i.url+`/object/upload/sign/${o}`);return l.searchParams.set("token",t),i.handleOperation(async()=>{let d;const f=gt({upsert:oD.upsert},r),m=gt(gt({},i.headers),{"x-upsert":String(f.upsert)});return typeof Blob<"u"&&n instanceof Blob?(d=new FormData,d.append("cacheControl",f.cacheControl),d.append("",n)):typeof FormData<"u"&&n instanceof FormData?(d=n,d.append("cacheControl",f.cacheControl)):(d=n,m["cache-control"]=`max-age=${f.cacheControl}`,m["content-type"]=f.contentType),{path:a,fullPath:(await dN(i.fetch,l.toString(),d,{headers:m})).Key}})}async createSignedUploadUrl(e,t){var n=this;return n.handleOperation(async()=>{let r=n._getFinalPath(e);const i=gt({},n.headers);t?.upsert&&(i["x-upsert"]="true");const a=await Xi(n.fetch,`${n.url}/object/upload/sign/${r}`,{},{headers:i}),o=new URL(n.url+a.url),l=o.searchParams.get("token");if(!l)throw new o0("No token returned by API");return{signedUrl:o.toString(),path:e,token:l}})}async update(e,t,n){return this.uploadOrUpdate("PUT",e,t,n)}async move(e,t,n){var r=this;return r.handleOperation(async()=>await Xi(r.fetch,`${r.url}/object/move`,{bucketId:r.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n?.destinationBucket},{headers:r.headers}))}async copy(e,t,n){var r=this;return r.handleOperation(async()=>({path:(await Xi(r.fetch,`${r.url}/object/copy`,{bucketId:r.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n?.destinationBucket},{headers:r.headers})).Key}))}async createSignedUrl(e,t,n){var r=this;return r.handleOperation(async()=>{let i=r._getFinalPath(e),a=await Xi(r.fetch,`${r.url}/object/sign/${i}`,gt({expiresIn:t},n?.transform?{transform:n.transform}:{}),{headers:r.headers});const o=n?.download?`&download=${n.download===!0?"":n.download}`:"";return{signedUrl:encodeURI(`${r.url}${a.signedURL}${o}`)}})}async createSignedUrls(e,t,n){var r=this;return r.handleOperation(async()=>{const i=await Xi(r.fetch,`${r.url}/object/sign/${r.bucketId}`,{expiresIn:t,paths:e},{headers:r.headers}),a=n?.download?`&download=${n.download===!0?"":n.download}`:"";return i.map(o=>gt(gt({},o),{},{signedUrl:o.signedURL?encodeURI(`${r.url}${o.signedURL}${a}`):null}))})}download(e,t){const n=typeof t?.transform<"u"?"render/image/authenticated":"object",r=this.transformOptsToQueryString(t?.transform||{}),i=r?`?${r}`:"",a=this._getFinalPath(e),o=()=>Dh(this.fetch,`${this.url}/${n}/${a}${i}`,{headers:this.headers,noResolveJson:!0});return new $ie(o,this.shouldThrowOnError)}async info(e){var t=this;const n=t._getFinalPath(e);return t.handleOperation(async()=>uN(await Dh(t.fetch,`${t.url}/object/info/${n}`,{headers:t.headers})))}async exists(e){var t=this;const n=t._getFinalPath(e);try{return await Die(t.fetch,`${t.url}/object/${n}`,{headers:t.headers}),{data:!0,error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(l0(r)&&r instanceof tU){const i=r.originalError;if([400,404].includes(i?.status))return{data:!1,error:r}}throw r}}getPublicUrl(e,t){const n=this._getFinalPath(e),r=[],i=t?.download?`download=${t.download===!0?"":t.download}`:"";i!==""&&r.push(i);const a=typeof t?.transform<"u"?"render/image":"object",o=this.transformOptsToQueryString(t?.transform||{});o!==""&&r.push(o);let l=r.join("&");return l!==""&&(l=`?${l}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${n}${l}`)}}}async remove(e){var t=this;return t.handleOperation(async()=>await GA(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}))}async list(e,t,n){var r=this;return r.handleOperation(async()=>{const i=gt(gt(gt({},Lie),t),{},{prefix:e||""});return await Xi(r.fetch,`${r.url}/object/list/${r.bucketId}`,i,{headers:r.headers},n)})}async listV2(e,t){var n=this;return n.handleOperation(async()=>{const r=gt({},e);return await Xi(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,r,{headers:n.headers},t)})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const qie="2.93.3",Fm={"X-Client-Info":`storage-js/${qie}`};var zie=class extends bd{constructor(e,t={},n,r){const i=new URL(e);r?.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase."));const a=i.href.replace(/\/$/,""),o=gt(gt({},Fm),t);super(a,o,n,"storage")}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const n=t.listBucketOptionsToQueryString(e);return await Dh(t.fetch,`${t.url}/bucket${n}`,{headers:t.headers})})}async getBucket(e){var t=this;return t.handleOperation(async()=>await Dh(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}))}async createBucket(e,t={public:!1}){var n=this;return n.handleOperation(async()=>await Xi(n.fetch,`${n.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}))}async updateBucket(e,t){var n=this;return n.handleOperation(async()=>await dN(n.fetch,`${n.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}))}async emptyBucket(e){var t=this;return t.handleOperation(async()=>await Xi(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await GA(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},Fie=class extends bd{constructor(e,t={},n){const r=e.replace(/\/$/,""),i=gt(gt({},Fm),t);super(r,i,n,"storage")}async createBucket(e){var t=this;return t.handleOperation(async()=>await Xi(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}))}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const n=new URLSearchParams;e?.limit!==void 0&&n.set("limit",e.limit.toString()),e?.offset!==void 0&&n.set("offset",e.offset.toString()),e?.sortColumn&&n.set("sortColumn",e.sortColumn),e?.sortOrder&&n.set("sortOrder",e.sortOrder),e?.search&&n.set("search",e.search);const r=n.toString(),i=r?`${t.url}/bucket?${r}`:`${t.url}/bucket`;return await Dh(t.fetch,i,{headers:t.headers})})}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await GA(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}from(e){var t=this;if(!Tie(e))throw new o0("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new Nie({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(n,{get(i,a){const o=i[a];return typeof o!="function"?o:async(...l)=>{try{return{data:await o.apply(i,l),error:null}}catch(d){if(r)throw d;return{data:null,error:d}}}}})}},Uie=class extends bd{constructor(e,t={},n){const r=e.replace(/\/$/,""),i=gt(gt({},Fm),{},{"Content-Type":"application/json"},t);super(r,i,n,"vectors")}async createIndex(e){var t=this;return t.handleOperation(async()=>await di.post(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{})}async getIndex(e,t){var n=this;return n.handleOperation(async()=>await di.post(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:n.headers}))}async listIndexes(e){var t=this;return t.handleOperation(async()=>await di.post(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}))}async deleteIndex(e,t){var n=this;return n.handleOperation(async()=>await di.post(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:n.headers})||{})}},Vie=class extends bd{constructor(e,t={},n){const r=e.replace(/\/$/,""),i=gt(gt({},Fm),{},{"Content-Type":"application/json"},t);super(r,i,n,"vectors")}async putVectors(e){var t=this;if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return t.handleOperation(async()=>await di.post(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{})}async getVectors(e){var t=this;return t.handleOperation(async()=>await di.post(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}))}async listVectors(e){var t=this;if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return t.handleOperation(async()=>await di.post(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}))}async queryVectors(e){var t=this;return t.handleOperation(async()=>await di.post(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}))}async deleteVectors(e){var t=this;if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return t.handleOperation(async()=>await di.post(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{})}},Hie=class extends bd{constructor(e,t={},n){const r=e.replace(/\/$/,""),i=gt(gt({},Fm),{},{"Content-Type":"application/json"},t);super(r,i,n,"vectors")}async createBucket(e){var t=this;return t.handleOperation(async()=>await di.post(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}async getBucket(e){var t=this;return t.handleOperation(async()=>await di.post(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}))}async listBuckets(e={}){var t=this;return t.handleOperation(async()=>await di.post(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await di.post(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}},Gie=class extends Hie{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new Kie(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,n=this;return t().call(n,e)}async getBucket(e){var t=()=>super.getBucket,n=this;return t().call(n,e)}async listBuckets(e={}){var t=()=>super.listBuckets,n=this;return t().call(n,e)}async deleteBucket(e){var t=()=>super.deleteBucket,n=this;return t().call(n,e)}},Kie=class extends Uie{constructor(e,t,n,r){super(e,t,r),this.vectorBucketName=n}async createIndex(e){var t=()=>super.createIndex,n=this;return t().call(n,gt(gt({},e),{},{vectorBucketName:n.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,n=this;return t().call(n,gt(gt({},e),{},{vectorBucketName:n.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,n=this;return t().call(n,n.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,n=this;return t().call(n,n.vectorBucketName,e)}index(e){return new Wie(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},Wie=class extends Vie{constructor(e,t,n,r,i){super(e,t,i),this.vectorBucketName=n,this.indexName=r}async putVectors(e){var t=()=>super.putVectors,n=this;return t().call(n,gt(gt({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async getVectors(e){var t=()=>super.getVectors,n=this;return t().call(n,gt(gt({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,n=this;return t().call(n,gt(gt({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,n=this;return t().call(n,gt(gt({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,n=this;return t().call(n,gt(gt({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}},Yie=class extends zie{constructor(e,t={},n,r){super(e,t,n,r)}from(e){return new Bie(this.url,this.headers,e,this.fetch)}get vectors(){return new Gie(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Fie(this.url+"/iceberg",this.headers,this.fetch)}};const iU="2.93.3",tu=30*1e3,fN=3,Hw=fN*tu,Xie="http://localhost:9999",Qie="supabase.auth.token",Jie={"X-Client-Info":`gotrue-js/${iU}`},hN="X-Supabase-Api-Version",aU={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Zie=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,eae=600*1e3;class Ih extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function rt(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class tae extends Ih{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function nae(e){return rt(e)&&e.name==="AuthApiError"}class fl extends Ih{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class xs extends Ih{constructor(t,n,r,i){super(t,r,i),this.name=n,this.status=r}}class ii extends xs{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Gw(e){return rt(e)&&e.name==="AuthSessionMissingError"}class Lc extends xs{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Pg extends xs{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Mg extends xs{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function rae(e){return rt(e)&&e.name==="AuthImplicitGrantRedirectError"}class lD extends xs{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class iae extends xs{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class mN extends xs{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function Kw(e){return rt(e)&&e.name==="AuthRetryableFetchError"}class cD extends xs{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class pN extends xs{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const kv="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),uD=` 	
\r=`.split(""),aae=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<uD.length;t+=1)e[uD[t].charCodeAt(0)]=-2;for(let t=0;t<kv.length;t+=1)e[kv[t].charCodeAt(0)]=t;return e})();function dD(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(kv[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(kv[r]),t.queuedBits-=6}}function sU(e,t,n){const r=aae[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function fD(e){const t=[],n=o=>{t.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=o=>{lae(o,r,n)};for(let o=0;o<e.length;o+=1)sU(e.charCodeAt(o),i,a);return t.join("")}function sae(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function oae(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}sae(r,t)}}function lae(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if((e>>7-r&1)===0){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function yu(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)sU(e.charCodeAt(i),n,r);return new Uint8Array(t)}function cae(e){const t=[];return oae(e,n=>t.push(n)),new Uint8Array(t)}function ml(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};return e.forEach(i=>dD(i,n,r)),dD(null,n,r),t.join("")}function uae(e){return Math.round(Date.now()/1e3)+e}function dae(){return Symbol("auth-callback")}const vr=()=>typeof window<"u"&&typeof document<"u",el={tested:!1,writable:!1},oU=()=>{if(!vr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(el.tested)return el.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),el.tested=!0,el.writable=!0}catch{el.tested=!0,el.writable=!1}return el.writable};function fae(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,a)=>{t[a]=i})}catch{}return n.searchParams.forEach((r,i)=>{t[i]=r}),t}const lU=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),hae=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",nu=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},tl=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},gr=async(e,t)=>{await e.removeItem(t)};class c0{constructor(){this.promise=new c0.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}c0.promiseConstructor=Promise;function kg(e){const t=e.split(".");if(t.length!==3)throw new pN("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!Zie.test(t[r]))throw new pN("JWT not in base64url format");return{header:JSON.parse(fD(t[0])),payload:JSON.parse(fD(t[1])),signature:yu(t[2]),raw:{header:t[0],payload:t[1]}}}async function mae(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function pae(e,t){return new Promise((r,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const o=await e(a);if(!t(a,null,o)){r(o);return}}catch(o){if(!t(a,o)){i(o);return}}})()})}function gae(e){return("0"+e.toString(16)).substr(-2)}function vae(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let a=0;a<56;a++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(t),Array.from(t,gae).join("")}async function yae(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function bae(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await yae(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Bc(e,t,n=!1){const r=vae();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await nu(e,`${t}-code-verifier`,i);const a=await bae(r);return[a,r===a?"plain":"s256"]}const xae=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function wae(e){const t=e.headers.get(hN);if(!t||!t.match(xae))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function _ae(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function Sae(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const jae=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function qc(e){if(!jae.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Ww(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Nae(e,t){return new Proxy(e,{get:(n,r,i)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const a=r.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)"||a==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,i)}return!t.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(n,r,i)}})}function hD(e){return JSON.parse(JSON.stringify(e))}const sl=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Eae=[502,503,504];async function mD(e){var t;if(!hae(e))throw new mN(sl(e),0);if(Eae.includes(e.status))throw new mN(sl(e),e.status);let n;try{n=await e.json()}catch(a){throw new fl(sl(a),a)}let r;const i=wae(e);if(i&&i.getTime()>=aU["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new cD(sl(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new ii}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((a,o)=>a&&typeof o=="string",!0))throw new cD(sl(n),e.status,n.weak_password.reasons);throw new tae(sl(n),e.status||500,r)}const Aae=(e,t,n,r)=>{const i={method:e,headers:t?.headers||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function pt(e,t,n,r){var i;const a=Object.assign({},r?.headers);a[hN]||(a[hN]=aU["2024-01-01"].name),r?.jwt&&(a.Authorization=`Bearer ${r.jwt}`);const o=(i=r?.query)!==null&&i!==void 0?i:{};r?.redirectTo&&(o.redirect_to=r.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",d=await Tae(e,t,n+l,{headers:a,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(d):{data:Object.assign({},d),error:null}}async function Tae(e,t,n,r,i,a){const o=Aae(t,r,i,a);let l;try{l=await e(n,Object.assign({},o))}catch(d){throw console.error(d),new mN(sl(d),0)}if(l.ok||await mD(l),r?.noResolveJson)return l;try{return await l.json()}catch(d){await mD(d)}}function Ki(e){var t;let n=null;Rae(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=uae(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function pD(e){const t=Ki(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function io(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function Oae(e){return{data:e,error:null}}function Cae(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:a}=e,o=yd(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:a},d=Object.assign({},o);return{data:{properties:l,user:d},error:null}}function gD(e){return e}function Rae(e){return e.access_token&&e.refresh_token&&e.expires_in}const Yw=["global","local","others"];class Pae{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=lU(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,n=Yw[0]){if(Yw.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Yw.join(", ")}`);try{return await pt(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(rt(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await pt(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:io})}catch(r){if(rt(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=yd(t,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r?.newEmail,delete i.newEmail),await pt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:Cae,redirectTo:n?.redirectTo})}catch(n){if(rt(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await pt(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:io})}catch(n){if(rt(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,i,a,o,l,d;try{const f={nextPage:null,lastPage:0,total:0},m=await pt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t?.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(a=(i=t?.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:gD});if(m.error)throw m.error;const p=await m.json(),v=(o=m.headers.get("x-total-count"))!==null&&o!==void 0?o:0,y=(d=(l=m.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&d!==void 0?d:[];return y.length>0&&(y.forEach(x=>{const b=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(x.split(";")[1].split("=")[1]);f[`${w}Page`]=b}),f.total=parseInt(v)),{data:Object.assign(Object.assign({},p),f),error:null}}catch(f){if(rt(f))return{data:{users:[]},error:f};throw f}}async getUserById(t){qc(t);try{return await pt(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:io})}catch(n){if(rt(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){qc(t);try{return await pt(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:io})}catch(r){if(rt(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){qc(t);try{return await pt(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:io})}catch(r){if(rt(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){qc(t.userId);try{const{data:n,error:r}=await pt(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(rt(n))return{data:null,error:n};throw n}}async _deleteFactor(t){qc(t.userId),qc(t.id);try{return{data:await pt(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(rt(n))return{data:null,error:n};throw n}}async _listOAuthClients(t){var n,r,i,a,o,l,d;try{const f={nextPage:null,lastPage:0,total:0},m=await pt(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t?.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(a=(i=t?.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:gD});if(m.error)throw m.error;const p=await m.json(),v=(o=m.headers.get("x-total-count"))!==null&&o!==void 0?o:0,y=(d=(l=m.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&d!==void 0?d:[];return y.length>0&&(y.forEach(x=>{const b=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(x.split(";")[1].split("=")[1]);f[`${w}Page`]=b}),f.total=parseInt(v)),{data:Object.assign(Object.assign({},p),f),error:null}}catch(f){if(rt(f))return{data:{clients:[]},error:f};throw f}}async _createOAuthClient(t){try{return await pt(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(rt(n))return{data:null,error:n};throw n}}async _getOAuthClient(t){try{return await pt(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(rt(n))return{data:null,error:n};throw n}}async _updateOAuthClient(t,n){try{return await pt(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(rt(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(t){try{return await pt(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(rt(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(t){try{return await pt(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(rt(n))return{data:null,error:n};throw n}}}function vD(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const zc={debug:!!(globalThis&&oU()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class cU extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class Mae extends cU{}async function kae(e,t,n){zc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),zc.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){zc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await n()}finally{zc.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw zc.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Mae(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(zc.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function Dae(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function uU(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function Iae(e){return parseInt(e,16)}function $ae(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,r=>r.toString(16).padStart(2,"0")).join("")}function Lae(e){var t;const{chainId:n,domain:r,expirationTime:i,issuedAt:a=new Date,nonce:o,notBefore:l,requestId:d,resources:f,scheme:m,uri:p,version:v}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!p)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(v!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${v}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const y=uU(e.address),x=m?`${m}://${r}`:r,b=e.statement?`${e.statement}
`:"",w=`${x} wants you to sign in with your Ethereum account:
${y}

${b}`;let N=`URI: ${p}
Version: ${v}
Chain ID: ${n}${o?`
Nonce: ${o}`:""}
Issued At: ${a.toISOString()}`;if(i&&(N+=`
Expiration Time: ${i.toISOString()}`),l&&(N+=`
Not Before: ${l.toISOString()}`),d&&(N+=`
Request ID: ${d}`),f){let E=`
Resources:`;for(const j of f){if(!j||typeof j!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${j}`);E+=`
- ${j}`}N+=E}return`${w}
${N}`}class Vn extends Error{constructor({message:t,code:n,cause:r,name:i}){var a;super(t,{cause:r}),this.__isWebAuthnError=!0,this.name=(a=i??(r instanceof Error?r.name:void 0))!==null&&a!==void 0?a:"Unknown Error",this.code=n}}class Dv extends Vn{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}}function Bae({error:e,options:t}){var n,r,i;const{publicKey:a}=t;if(!a)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Vn({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=a.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new Vn({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((r=a.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new Vn({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((i=a.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Vn({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Vn({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Vn({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return a.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new Vn({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Vn({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const o=window.location.hostname;if(dU(o)){if(a.rp.id!==o)return new Vn({message:`The RP ID "${a.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Vn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(a.user.id.byteLength<1||a.user.id.byteLength>64)return new Vn({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Vn({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Vn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function qae({error:e,options:t}){const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Vn({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Vn({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const r=window.location.hostname;if(dU(r)){if(n.rpId!==r)return new Vn({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Vn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Vn({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Vn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class zae{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const Fae=new zae;function Uae(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:n,excludeCredentials:r}=e,i=yd(e,["challenge","user","excludeCredentials"]),a=yu(t).buffer,o=Object.assign(Object.assign({},n),{id:yu(n.id).buffer}),l=Object.assign(Object.assign({},i),{challenge:a,user:o});if(r&&r.length>0){l.excludeCredentials=new Array(r.length);for(let d=0;d<r.length;d++){const f=r[d];l.excludeCredentials[d]=Object.assign(Object.assign({},f),{id:yu(f.id).buffer,type:f.type||"public-key",transports:f.transports})}}return l}function Vae(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:n}=e,r=yd(e,["challenge","allowCredentials"]),i=yu(t).buffer,a=Object.assign(Object.assign({},r),{challenge:i});if(n&&n.length>0){a.allowCredentials=new Array(n.length);for(let o=0;o<n.length;o++){const l=n[o];a.allowCredentials[o]=Object.assign(Object.assign({},l),{id:yu(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return a}function Hae(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e;return{id:e.id,rawId:e.id,response:{attestationObject:ml(new Uint8Array(e.response.attestationObject)),clientDataJSON:ml(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function Gae(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e,r=e.getClientExtensionResults(),i=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:ml(new Uint8Array(i.authenticatorData)),clientDataJSON:ml(new Uint8Array(i.clientDataJSON)),signature:ml(new Uint8Array(i.signature)),userHandle:i.userHandle?ml(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function dU(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function yD(){var e,t;return!!(vr()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.get)=="function")}async function Kae(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Dv("Browser returned unexpected credential type",t)}:{data:null,error:new Dv("Empty credential response",t)}}catch(t){return{data:null,error:Bae({error:t,options:e})}}}async function Wae(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Dv("Browser returned unexpected credential type",t)}:{data:null,error:new Dv("Empty credential response",t)}}catch(t){return{data:null,error:qae({error:t,options:e})}}}const Yae={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},Xae={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Iv(...e){const t=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),n=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),r={};for(const i of e)if(i)for(const a in i){const o=i[a];if(o!==void 0)if(Array.isArray(o))r[a]=o;else if(n(o))r[a]=o;else if(t(o)){const l=r[a];t(l)?r[a]=Iv(l,o):r[a]=Iv(o)}else r[a]=o}return r}function Qae(e,t){return Iv(Yae,e,t||{})}function Jae(e,t){return Iv(Xae,e,t||{})}class Zae{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:n,friendlyName:r,signal:i},a){var o;try{const{data:l,error:d}=await this.client.mfa.challenge({factorId:t,webauthn:n});if(!l)return{data:null,error:d};const f=i??Fae.createNewAbortSignal();if(l.webauthn.type==="create"){const{user:m}=l.webauthn.credential_options.publicKey;if(!m.name){const p=r;if(p)m.name=`${m.id}:${p}`;else{const y=(await this.client.getUser()).data.user,x=((o=y?.user_metadata)===null||o===void 0?void 0:o.name)||y?.email||y?.id||"User";m.name=`${m.id}:${x}`}}m.displayName||(m.displayName=m.name)}switch(l.webauthn.type){case"create":{const m=Qae(l.webauthn.credential_options.publicKey,a?.create),{data:p,error:v}=await Kae({publicKey:m,signal:f});return p?{data:{factorId:t,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:p}},error:null}:{data:null,error:v}}case"request":{const m=Jae(l.webauthn.credential_options.publicKey,a?.request),{data:p,error:v}=await Wae(Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:m,signal:f}));return p?{data:{factorId:t,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:p}},error:null}:{data:null,error:v}}}}catch(l){return rt(l)?{data:null,error:l}:{data:null,error:new fl("Unexpected error in challenge",l)}}}async _verify({challengeId:t,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:r})}async _authenticate({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},a){if(!n)return{data:null,error:new Ih("rpId is required for WebAuthn authentication")};try{if(!yD())return{data:null,error:new fl("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:r},signal:i},{request:a});if(!o)return{data:null,error:l};const{webauthn:d}=o;return this._verify({factorId:t,challengeId:o.challengeId,webauthn:{type:d.type,rpId:n,rpOrigins:r,credential_response:d.credential_response}})}catch(o){return rt(o)?{data:null,error:o}:{data:null,error:new fl("Unexpected error in authenticate",o)}}}async _register({friendlyName:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},a){if(!n)return{data:null,error:new Ih("rpId is required for WebAuthn registration")};try{if(!yD())return{data:null,error:new fl("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this._enroll({friendlyName:t});if(!o)return await this.client.mfa.listFactors().then(m=>{var p;return(p=m.data)===null||p===void 0?void 0:p.all.find(v=>v.factor_type==="webauthn"&&v.friendly_name===t&&v.status!=="unverified")}).then(m=>m?this.client.mfa.unenroll({factorId:m?.id}):void 0),{data:null,error:l};const{data:d,error:f}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:i},{create:a});return d?this._verify({factorId:o.id,challengeId:d.challengeId,webauthn:{rpId:n,rpOrigins:r,type:d.webauthn.type,credential_response:d.webauthn.credential_response}}):{data:null,error:f}}catch(o){return rt(o)?{data:null,error:o}:{data:null,error:new fl("Unexpected error in register",o)}}}}Dae();const ese={url:Xie,storageKey:Qie,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Jie,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function bD(e,t,n){return await n()}const Fc={};class $h{get jwks(){var t,n;return(n=(t=Fc[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){Fc[this.storageKey]=Object.assign(Object.assign({},Fc[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=Fc[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Fc[this.storageKey]=Object.assign(Object.assign({},Fc[this.storageKey]),{cachedAt:t})}constructor(t){var n,r,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const a=Object.assign(Object.assign({},ese),t);if(this.storageKey=a.storageKey,this.instanceID=(n=$h.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,$h.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.instanceID>0&&vr()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=a.persistSession,this.autoRefreshToken=a.autoRefreshToken,this.admin=new Pae({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=lU(a.fetch),this.lock=a.lock||bD,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,this.throwOnError=a.throwOnError,this.lockAcquireTimeout=a.lockAcquireTimeout,a.lock?this.lock=a.lock:this.persistSession&&vr()&&(!((r=globalThis?.navigator)===null||r===void 0)&&r.locks)?this.lock=kae:this.lock=bD,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Zae(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:oU()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=vD(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=vD(this.memoryStorage)),vr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o);try{await this._notifyAllSubscribers(o.data.event,o.data.session,!1)}catch(l){this._debug("#broadcastChannel","error",l)}})}this.initialize().catch(o=>{this._debug("#initialize()","error",o)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${iU}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let n={},r="none";if(vr()&&(n=fae(window.location.href),this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce")),vr()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:a}=await this._getSessionFromURL(n,r);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),rae(a)){const d=(t=a.details)===null||t===void 0?void 0:t.code;if(d==="identity_already_exists"||d==="identity_not_found"||d==="single_identity_not_deletable")return{error:a}}return{error:a}}const{session:o,redirectType:l}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return rt(n)?this._returnResult({error:n}):this._returnResult({error:new fl("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,i;try{const a=await pt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t?.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=t?.options)===null||i===void 0?void 0:i.captchaToken}},xform:Ki}),{data:o,error:l}=a;if(l||!o)return this._returnResult({data:{user:null,session:null},error:l});const d=o.session,f=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",d)),this._returnResult({data:{user:f,session:d},error:null})}catch(a){if(rt(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signUp(t){var n,r,i;try{let a;if("email"in t){const{email:m,password:p,options:v}=t;let y=null,x=null;this.flowType==="pkce"&&([y,x]=await Bc(this.storage,this.storageKey)),a=await pt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:v?.emailRedirectTo,body:{email:m,password:p,data:(n=v?.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:v?.captchaToken},code_challenge:y,code_challenge_method:x},xform:Ki})}else if("phone"in t){const{phone:m,password:p,options:v}=t;a=await pt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:m,password:p,data:(r=v?.data)!==null&&r!==void 0?r:{},channel:(i=v?.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:v?.captchaToken}},xform:Ki})}else throw new Pg("You must provide either an email or phone number and a password");const{data:o,error:l}=a;if(l||!o)return await gr(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:l});const d=o.session,f=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",d)),this._returnResult({data:{user:f,session:d},error:null})}catch(a){if(await gr(this.storage,`${this.storageKey}-code-verifier`),rt(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithPassword(t){try{let n;if("email"in t){const{email:a,password:o,options:l}=t;n=await pt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:o,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:pD})}else if("phone"in t){const{phone:a,password:o,options:l}=t;n=await pt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:o,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:pD})}else throw new Pg("You must provide either an email or phone number and a password");const{data:r,error:i}=n;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!r||!r.session||!r.user){const a=new Lc;return this._returnResult({data:{user:null,session:null},error:a})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(rt(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(t){var n,r,i,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;switch(n){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(t){var n,r,i,a,o,l,d,f,m,p,v;let y,x;if("message"in t)y=t.message,x=t.signature;else{const{chain:b,wallet:w,statement:N,options:E}=t;let j;if(vr())if(typeof w=="object")j=w;else{const k=window;if("ethereum"in k&&typeof k.ethereum=="object"&&"request"in k.ethereum&&typeof k.ethereum.request=="function")j=k.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof w!="object"||!E?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");j=w}const O=new URL((n=E?.url)!==null&&n!==void 0?n:window.location.href),T=await j.request({method:"eth_requestAccounts"}).then(k=>k).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!T||T.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const C=uU(T[0]);let R=(r=E?.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!R){const k=await j.request({method:"eth_chainId"});R=Iae(k)}const P={domain:O.host,address:C,statement:N,uri:O.href,version:"1",chainId:R,nonce:(i=E?.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(o=(a=E?.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(l=E?.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(d=E?.signInWithEthereum)===null||d===void 0?void 0:d.notBefore,requestId:(f=E?.signInWithEthereum)===null||f===void 0?void 0:f.requestId,resources:(m=E?.signInWithEthereum)===null||m===void 0?void 0:m.resources};y=Lae(P),x=await j.request({method:"personal_sign",params:[$ae(y),C]})}try{const{data:b,error:w}=await pt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:y,signature:x},!((p=t.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(v=t.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:Ki});if(w)throw w;if(!b||!b.session||!b.user){const N=new Lc;return this._returnResult({data:{user:null,session:null},error:N})}return b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),this._returnResult({data:Object.assign({},b),error:w})}catch(b){if(rt(b))return this._returnResult({data:{user:null,session:null},error:b});throw b}}async signInWithSolana(t){var n,r,i,a,o,l,d,f,m,p,v,y;let x,b;if("message"in t)x=t.message,b=t.signature;else{const{chain:w,wallet:N,statement:E,options:j}=t;let O;if(vr())if(typeof N=="object")O=N;else{const C=window;if("solana"in C&&typeof C.solana=="object"&&("signIn"in C.solana&&typeof C.solana.signIn=="function"||"signMessage"in C.solana&&typeof C.solana.signMessage=="function"))O=C.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof N!="object"||!j?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");O=N}const T=new URL((n=j?.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in O&&O.signIn){const C=await O.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},j?.signInWithSolana),{version:"1",domain:T.host,uri:T.href}),E?{statement:E}:null));let R;if(Array.isArray(C)&&C[0]&&typeof C[0]=="object")R=C[0];else if(C&&typeof C=="object"&&"signedMessage"in C&&"signature"in C)R=C;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in R&&"signature"in R&&(typeof R.signedMessage=="string"||R.signedMessage instanceof Uint8Array)&&R.signature instanceof Uint8Array)x=typeof R.signedMessage=="string"?R.signedMessage:new TextDecoder().decode(R.signedMessage),b=R.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in O)||typeof O.signMessage!="function"||!("publicKey"in O)||typeof O!="object"||!O.publicKey||!("toBase58"in O.publicKey)||typeof O.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");x=[`${T.host} wants you to sign in with your Solana account:`,O.publicKey.toBase58(),...E?["",E,""]:[""],"Version: 1",`URI: ${T.href}`,`Issued At: ${(i=(r=j?.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=j?.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${j.signInWithSolana.notBefore}`]:[],...!((o=j?.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${j.signInWithSolana.expirationTime}`]:[],...!((l=j?.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${j.signInWithSolana.chainId}`]:[],...!((d=j?.signInWithSolana)===null||d===void 0)&&d.nonce?[`Nonce: ${j.signInWithSolana.nonce}`]:[],...!((f=j?.signInWithSolana)===null||f===void 0)&&f.requestId?[`Request ID: ${j.signInWithSolana.requestId}`]:[],...!((p=(m=j?.signInWithSolana)===null||m===void 0?void 0:m.resources)===null||p===void 0)&&p.length?["Resources",...j.signInWithSolana.resources.map(R=>`- ${R}`)]:[]].join(`
`);const C=await O.signMessage(new TextEncoder().encode(x),"utf8");if(!C||!(C instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");b=C}}try{const{data:w,error:N}=await pt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:x,signature:ml(b)},!((v=t.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(y=t.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:Ki});if(N)throw N;if(!w||!w.session||!w.user){const E=new Lc;return this._returnResult({data:{user:null,session:null},error:E})}return w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),this._returnResult({data:Object.assign({},w),error:N})}catch(w){if(rt(w))return this._returnResult({data:{user:null,session:null},error:w});throw w}}async _exchangeCodeForSession(t){const n=await tl(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{if(!r&&this.flowType==="pkce")throw new iae;const{data:a,error:o}=await pt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:Ki});if(await gr(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!a||!a.session||!a.user){const l=new Lc;return this._returnResult({data:{user:null,session:null,redirectType:null},error:l})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:o})}catch(a){if(await gr(this.storage,`${this.storageKey}-code-verifier`),rt(a))return this._returnResult({data:{user:null,session:null,redirectType:null},error:a});throw a}}async signInWithIdToken(t){try{const{options:n,provider:r,token:i,access_token:a,nonce:o}=t,l=await pt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:a,nonce:o,gotrue_meta_security:{captcha_token:n?.captchaToken}},xform:Ki}),{data:d,error:f}=l;if(f)return this._returnResult({data:{user:null,session:null},error:f});if(!d||!d.session||!d.user){const m=new Lc;return this._returnResult({data:{user:null,session:null},error:m})}return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),this._returnResult({data:d,error:f})}catch(n){if(rt(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(t){var n,r,i,a,o;try{if("email"in t){const{email:l,options:d}=t;let f=null,m=null;this.flowType==="pkce"&&([f,m]=await Bc(this.storage,this.storageKey));const{error:p}=await pt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(n=d?.data)!==null&&n!==void 0?n:{},create_user:(r=d?.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:d?.captchaToken},code_challenge:f,code_challenge_method:m},redirectTo:d?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:p})}if("phone"in t){const{phone:l,options:d}=t,{data:f,error:m}=await pt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(i=d?.data)!==null&&i!==void 0?i:{},create_user:(a=d?.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:d?.captchaToken},channel:(o=d?.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:f?.message_id},error:m})}throw new Pg("You must provide either an email or phone number.")}catch(l){if(await gr(this.storage,`${this.storageKey}-code-verifier`),rt(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async verifyOtp(t){var n,r;try{let i,a;"options"in t&&(i=(n=t.options)===null||n===void 0?void 0:n.redirectTo,a=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:l}=await pt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:Ki});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const d=o.session,f=o.user;return d?.access_token&&(await this._saveSession(d),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",d)),this._returnResult({data:{user:f,session:d},error:null})}catch(i){if(rt(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(t){var n,r,i,a,o;try{let l=null,d=null;this.flowType==="pkce"&&([l,d]=await Bc(this.storage,this.storageKey));const f=await pt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=t?.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:d}),headers:this.headers,xform:Oae});return!((a=f.data)===null||a===void 0)&&a.url&&vr()&&!(!((o=t.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(f.data.url),this._returnResult(f)}catch(l){if(await gr(this.storage,`${this.storageKey}-code-verifier`),rt(l))return this._returnResult({data:null,error:l});throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new ii;const{error:i}=await pt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(t){if(rt(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:i,options:a}=t,{error:o}=await pt(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:a?.captchaToken}},redirectTo:a?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in t){const{phone:r,type:i,options:a}=t,{data:o,error:l}=await pt(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:a?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o?.message_id},error:l})}throw new Pg("You must provide either an email or phone number and a type")}catch(n){if(rt(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await tl(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<Hw:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const o=await tl(this.userStorage,this.storageKey+"-user");o?.user?t.user=o.user:t.user=Ww()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};t.user=Nae(t.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?this._returnResult({data:{session:null},error:a}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const n=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(t){try{return t?await pt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:io}):await this._useSession(async n=>{var r,i,a;const{data:o,error:l}=n;if(l)throw l;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ii}:await pt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:io})})}catch(n){if(rt(n))return Gw(n)&&(await this._removeSession(),await gr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:i,error:a}=r;if(a)throw a;if(!i.session)throw new ii;const o=i.session;let l=null,d=null;this.flowType==="pkce"&&t.email!=null&&([l,d]=await Bc(this.storage,this.storageKey));const{data:f,error:m}=await pt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:d}),jwt:o.access_token,xform:io});if(m)throw m;return o.user=f.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(r){if(await gr(this.storage,`${this.storageKey}-code-verifier`),rt(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new ii;const n=Date.now()/1e3;let r=n,i=!0,a=null;const{payload:o}=kg(t.access_token);if(o.exp&&(r=o.exp,i=r<=n),i){const{data:l,error:d}=await this._callRefreshToken(t.refresh_token);if(d)return this._returnResult({data:{user:null,session:null},error:d});if(!l)return{data:{user:null,session:null},error:null};a=l}else{const{data:l,error:d}=await this._getUser(t.access_token);if(d)return this._returnResult({data:{user:null,session:null},error:d});a={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return this._returnResult({data:{user:a.user,session:a},error:null})}catch(n){if(rt(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:o,error:l}=n;if(l)throw l;t=(r=o.session)!==null&&r!==void 0?r:void 0}if(!t?.refresh_token)throw new ii;const{data:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?this._returnResult({data:{user:null,session:null},error:a}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(rt(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(t,n){try{if(!vr())throw new Mg("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Mg(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new lD("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Mg("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new lD("No code detected.");const{data:E,error:j}=await this._exchangeCodeForSession(t.code);if(j)throw j;const O=new URL(window.location.href);return O.searchParams.delete("code"),window.history.replaceState(window.history.state,"",O.toString()),{data:{session:E.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:a,refresh_token:o,expires_in:l,expires_at:d,token_type:f}=t;if(!a||!l||!o||!f)throw new Mg("No session defined in URL");const m=Math.round(Date.now()/1e3),p=parseInt(l);let v=m+p;d&&(v=parseInt(d));const y=v-m;y*1e3<=tu&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${y}s, should have been closer to ${p}s`);const x=v-p;m-x>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",x,v,m):m-x<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",x,v,m);const{data:b,error:w}=await this._getUser(a);if(w)throw w;const N={provider_token:r,provider_refresh_token:i,access_token:a,expires_in:p,expires_at:v,refresh_token:o,token_type:f,user:b.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:N,redirectType:t.type},error:null})}catch(r){if(rt(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await tl(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a&&!Gw(a))return this._returnResult({error:a});const o=(r=i.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(nae(l)&&(l.status===404||l.status===401||l.status===403)||Gw(l)))return this._returnResult({error:l})}return t!=="others"&&(await this._removeSession(),await gr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const n=dae(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,i;try{const{data:{session:a},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await Bc(this.storage,this.storageKey,!0));try{return await pt(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(a){if(await gr(this.storage,`${this.storageKey}-code-verifier`),rt(a))return this._returnResult({data:null,error:a});throw a}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(n){if(rt(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var n;try{const{data:r,error:i}=await this._useSession(async a=>{var o,l,d,f,m;const{data:p,error:v}=a;if(v)throw v;const y=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(d=t.options)===null||d===void 0?void 0:d.queryParams,skipBrowserRedirect:!0});return await pt(this.fetch,"GET",y,{headers:this.headers,jwt:(m=(f=p.session)===null||f===void 0?void 0:f.access_token)!==null&&m!==void 0?m:void 0})});if(i)throw i;return vr()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r?.url),this._returnResult({data:{provider:t.provider,url:r?.url},error:null})}catch(r){if(rt(r))return this._returnResult({data:{provider:t.provider,url:null},error:r});throw r}}async linkIdentityIdToken(t){return await this._useSession(async n=>{var r;try{const{error:i,data:{session:a}}=n;if(i)throw i;const{options:o,provider:l,token:d,access_token:f,nonce:m}=t,p=await pt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=a?.access_token)!==null&&r!==void 0?r:void 0,body:{provider:l,id_token:d,access_token:f,nonce:m,link_identity:!0,gotrue_meta_security:{captcha_token:o?.captchaToken}},xform:Ki}),{data:v,error:y}=p;return y?this._returnResult({data:{user:null,session:null},error:y}):!v||!v.session||!v.user?this._returnResult({data:{user:null,session:null},error:new Lc}):(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("USER_UPDATED",v.session)),this._returnResult({data:v,error:y}))}catch(i){if(await gr(this.storage,`${this.storageKey}-code-verifier`),rt(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,i;const{data:a,error:o}=n;if(o)throw o;return await pt(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(r=a.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(rt(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await pae(async i=>(i>0&&await mae(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await pt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Ki})),(i,a)=>{const o=200*Math.pow(2,i);return a&&Kw(a)&&Date.now()+o-r<tu})}catch(r){if(this._debug(n,"error",r),rt(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),vr()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await tl(this.storage,this.storageKey);if(i&&this.userStorage){let o=await tl(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:i.user},await nu(this.userStorage,this.storageKey+"-user",o)),i.user=(t=o?.user)!==null&&t!==void 0?t:Ww()}else if(i&&!i.user&&!i.user){const o=await tl(this.storage,this.storageKey+"-user");o&&o?.user?(i.user=o.user,await gr(this.storage,this.storageKey+"-user"),await nu(this.storage,this.storageKey,i)):i.user=Ww()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const a=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Hw;if(this._debug(r,`session has${a?"":" not"} expired with margin of ${Hw}s`),a){if(this.autoRefreshToken&&i.refresh_token){const{error:o}=await this._callRefreshToken(i.refresh_token);o&&(console.error(o),Kw(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(i.access_token);!l&&o?.user?(i.user=o.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(r,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new ii;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new c0;const{data:a,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!a.session)throw new ii;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const l={data:a.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(a){if(this._debug(i,"error",a),rt(a)){const o={data:null,error:a};return Kw(a)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,n,r=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const a=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,n)}catch(d){a.push(d)}});if(await Promise.all(o),a.length>0){for(let l=0;l<a.length;l+=1)console.error(a[l]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await gr(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await nu(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const a=hD(i);await nu(this.storage,this.storageKey,a)}else{const i=hD(n);await nu(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await gr(this.storage,this.storageKey),await gr(this.storage,this.storageKey+"-code-verifier"),await gr(this.storage,this.storageKey+"-user"),this.userStorage&&await gr(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&vr()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),tu);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t);const n=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t);const n=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,n&&clearTimeout(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-t)/tu);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${tu}ms, refresh threshold is ${fN} ticks`),i<=fN&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof cU)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!vr()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(t){this._debug("#visibilityChangedCallback","error",t)}},window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r?.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r?.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[a,o]=await Bc(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(l.toString())}if(r?.queryParams){const a=new URLSearchParams(r.queryParams);i.push(a.toString())}return r?.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;return a?this._returnResult({data:null,error:a}):await pt(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(rt(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,i;const{data:a,error:o}=n;if(o)return this._returnResult({data:null,error:o});const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:d,error:f}=await pt(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(r=a?.session)===null||r===void 0?void 0:r.access_token});return f?this._returnResult({data:null,error:f}):(t.factorType==="totp"&&d.type==="totp"&&(!((i=d?.totp)===null||i===void 0)&&i.qr_code)&&(d.totp.qr_code=`data:image/svg+xml;utf-8,${d.totp.qr_code}`),this._returnResult({data:d,error:null}))})}catch(n){if(rt(n))return this._returnResult({data:null,error:n});throw n}}async _verify(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return this._returnResult({data:null,error:a});const o=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?Hae(t.webauthn.credential_response):Gae(t.webauthn.credential_response)})}:{code:t.code}),{data:l,error:d}=await pt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:o,headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token});return d?this._returnResult({data:null,error:d}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),this._returnResult({data:l,error:d}))})}catch(n){if(rt(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return this._returnResult({data:null,error:a});const o=await pt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token});if(o.error)return o;const{data:l}=o;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:Uae(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:Vae(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(rt(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){var t;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const i={all:[],phone:[],totp:[],webauthn:[]};for(const a of(t=n?.factors)!==null&&t!==void 0?t:[])i.all.push(a),a.status==="verified"&&i[a.factor_type].push(a);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(t){var n,r,i,a;if(t)try{const{payload:y}=kg(t);let x=null;y.aal&&(x=y.aal);let b=x;const{data:{user:w},error:N}=await this.getUser(t);if(N)return this._returnResult({data:null,error:N});((r=(n=w?.factors)===null||n===void 0?void 0:n.filter(O=>O.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(b="aal2");const j=y.amr||[];return{data:{currentLevel:x,nextLevel:b,currentAuthenticationMethods:j},error:null}}catch(y){if(rt(y))return this._returnResult({data:null,error:y});throw y}const{data:{session:o},error:l}=await this.getSession();if(l)return this._returnResult({data:null,error:l});if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:d}=kg(o.access_token);let f=null;d.aal&&(f=d.aal);let m=f;((a=(i=o.user.factors)===null||i===void 0?void 0:i.filter(y=>y.status==="verified"))!==null&&a!==void 0?a:[]).length>0&&(m="aal2");const v=d.amr||[];return{data:{currentLevel:f,nextLevel:m,currentAuthenticationMethods:v},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?await pt(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:r.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new ii})})}catch(n){if(rt(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:i},error:a}=r;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new ii});const o=await pt(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return o.data&&o.data.redirect_url&&vr()&&!n?.skipBrowserRedirect&&window.location.assign(o.data.redirect_url),o})}catch(r){if(rt(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:i},error:a}=r;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new ii});const o=await pt(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return o.data&&o.data.redirect_url&&vr()&&!n?.skipBrowserRedirect&&window.location.assign(o.data.redirect_url),o})}catch(r){if(rt(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;return r?this._returnResult({data:null,error:r}):n?await pt(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new ii})})}catch(t){if(rt(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?(await pt(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new ii})})}catch(n){if(rt(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(l=>l.kid===t);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(l=>l.kid===t),r&&this.jwks_cached_at+eae>i)return r;const{data:a,error:o}=await pt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=i,r=a.keys.find(l=>l.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:y,error:x}=await this.getSession();if(x||!y.session)return this._returnResult({data:null,error:x});r=y.session.access_token}const{header:i,payload:a,signature:o,raw:{header:l,payload:d}}=kg(r);n?.allowExpired||_ae(a.exp);const f=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n?.keys?{keys:n.keys}:n?.jwks);if(!f){const{error:y}=await this.getUser(r);if(y)throw y;return{data:{claims:a,header:i,signature:o},error:null}}const m=Sae(i.alg),p=await crypto.subtle.importKey("jwk",f,m,!0,["verify"]);if(!await crypto.subtle.verify(m,p,o,cae(`${l}.${d}`)))throw new pN("Invalid JWT signature");return{data:{claims:a,header:i,signature:o},error:null}}catch(r){if(rt(r))return this._returnResult({data:null,error:r});throw r}}}$h.nextInstanceID={};const tse=$h,nse="2.93.3";let Qf="";typeof Deno<"u"?Qf="deno":typeof document<"u"?Qf="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Qf="react-native":Qf="node";const rse={"X-Client-Info":`supabase-js-${Qf}/${nse}`},ise={headers:rse},ase={schema:"public"},sse={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},ose={};function Lh(e){"@babel/helpers - typeof";return Lh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lh(e)}function lse(e,t){if(Lh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Lh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function cse(e){var t=lse(e,"string");return Lh(t)=="symbol"?t:t+""}function use(e,t,n){return(t=cse(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Tn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?xD(Object(n),!0).forEach(function(r){use(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}const dse=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),fse=()=>Headers,hse=(e,t,n)=>{const r=dse(n),i=fse();return async(a,o)=>{var l;const d=(l=await t())!==null&&l!==void 0?l:e;let f=new i(o?.headers);return f.has("apikey")||f.set("apikey",e),f.has("Authorization")||f.set("Authorization",`Bearer ${d}`),r(a,Tn(Tn({},o),{},{headers:f}))}};function mse(e){return e.endsWith("/")?e:e+"/"}function pse(e,t){var n,r;const{db:i,auth:a,realtime:o,global:l}=e,{db:d,auth:f,realtime:m,global:p}=t,v={db:Tn(Tn({},d),i),auth:Tn(Tn({},f),a),realtime:Tn(Tn({},m),o),storage:{},global:Tn(Tn(Tn({},p),l),{},{headers:Tn(Tn({},(n=p?.headers)!==null&&n!==void 0?n:{}),(r=l?.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return e.accessToken?v.accessToken=e.accessToken:delete v.accessToken,v}function gse(e){const t=e?.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(mse(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var vse=class extends tse{constructor(e){super(e)}},yse=class{constructor(e,t,n){var r,i;this.supabaseUrl=e,this.supabaseKey=t;const a=gse(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const o=`sb-${a.hostname.split(".")[0]}-auth-token`,l={db:ase,realtime:ose,auth:Tn(Tn({},sse),{},{storageKey:o}),global:ise},d=pse(n??{},l);if(this.storageKey=(r=d.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken)this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(m,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}});else{var f;this.auth=this._initSupabaseAuthClient((f=d.auth)!==null&&f!==void 0?f:{},this.headers,d.global.fetch)}this.fetch=hse(t,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Tn({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(m=>this.realtime.setAuth(m)).catch(m=>console.warn("Failed to set initial Realtime auth token:",m)),this.rest=new nie(new URL("rest/v1",a).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new Yie(this.storageUrl.href,this.headers,this.fetch,n?.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new Qre(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,n)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,n;if(e.accessToken)return await e.accessToken();const{data:r}=await e.auth.getSession();return(t=(n=r.session)===null||n===void 0?void 0:n.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:r,userStorage:i,storageKey:a,flowType:o,lock:l,debug:d,throwOnError:f},m,p){const v={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new vse({url:this.authUrl.href,headers:Tn(Tn({},v),m),storageKey:a,autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:r,userStorage:i,flowType:o,lock:l,debug:d,throwOnError:f,fetch:p,hasCustomAuthorizationHeader:Object.keys(this.headers).some(y=>y.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new bie(this.realtimeUrl.href,Tn(Tn({},e),{},{params:Tn(Tn({},{apikey:this.supabaseKey}),e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t?.access_token)})}_handleTokenChanged(e,t,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const bse=(e,t,n)=>new yse(e,t,n);function xse(){if(typeof window<"u")return!1;const e=globalThis.process;if(!e)return!1;const t=e.version;if(t==null)return!1;const n=t.match(/^v(\d+)\./);return n?parseInt(n[1],10)<=18:!1}xse()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const wse="https://fscnobivsgornxdwqwlk.supabase.co",fU="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImZzY25vYml2c2dvcm54ZHdxd2xrIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njk4Njc3NTIsImV4cCI6MjA4NTQ0Mzc1Mn0.lX74HG_hI-0eaEDsyEJnzgFODCErUfQ-WW-5GFsoND8",hU=!!fU;hU||console.warn("[supabase] VITE_SUPABASE_URL or VITE_SUPABASE_ANON_KEY is missing. Supabase features will not work.");const Re=hU?bse(wse,fU):new Proxy({},{get:(e,t)=>{if(t==="auth")return{getSession:async()=>({data:{session:null},error:null}),refreshSession:async()=>({data:{session:null},error:null}),signInWithPassword:async()=>({data:{session:null,user:null},error:{message:"Supabase not configured"}}),signUp:async()=>({data:{session:null,user:null},error:{message:"Supabase not configured"}}),signOut:async()=>({error:null}),onAuthStateChange:()=>({data:{subscription:{unsubscribe:()=>{}}}}),updateUser:async()=>({data:{user:null},error:{message:"Supabase not configured"}}),getUser:async()=>({data:{user:null},error:null})};if(t==="from")return()=>new Proxy({},{get:()=>()=>Promise.resolve({data:null,error:{message:"Supabase not configured"}})});if(t==="rpc")return()=>Promise.resolve({data:null,error:{message:"Supabase not configured"}});if(t==="functions")return{invoke:async()=>({data:null,error:{message:"Supabase not configured"}})}}}),dv="coach_selected_athlete_id",fv="coach_selected_athlete_name",mU=e=>{if(typeof window>"u")return null;try{return window.localStorage.getItem(e)}catch(t){return console.warn(`[auth] Unable to read ${e} from storage`,t),null}},Uc=(e,t)=>{if(!(typeof window>"u"))try{t===null?window.localStorage.removeItem(e):window.localStorage.setItem(e,t)}catch(n){console.warn(`[auth] Unable to update ${e} in storage`,n)}},_se=()=>{const e=mU(dv);if(!e)return null;const t=Number(e);return Number.isFinite(t)?t:null},Sse=()=>mU(fv)||null,wD=e=>{if(!e)return null;const t=e.app_metadata??e.user_metadata??{},n=t.app_user_id??t.user_id,r=Number(n);return Number.isFinite(r)?r:null},_D=e=>{if(!e)return null;const t=e.app_metadata??e.user_metadata??{};return t.app_user_role??t.role??"athlete"},SD=e=>{if(!e)return null;const t=e.user_metadata??{};return t.display_name??t.full_name??e.email??null},dn=Gre(e=>({user:null,userId:null,role:null,selectedAthleteId:_se(),selectedAthleteName:Sse(),accessToken:null,refreshToken:null,loginFromSession:t=>{const n=t.user,r=SD(n),i=wD(n),a=_D(n);e({user:r,userId:i,role:a,accessToken:t.access_token,refreshToken:t.refresh_token})},login:({user:t,accessToken:n,refreshToken:r,userId:i,role:a})=>{e({user:t,accessToken:n,refreshToken:r,userId:i??null,role:a??null})},logout:async()=>{await Re.auth.signOut(),Uc(dv,null),Uc(fv,null),e({user:null,userId:null,role:null,accessToken:null,refreshToken:null,selectedAthleteId:null,selectedAthleteName:null})},updateAccessToken:t=>{e({accessToken:t})},setSelectedAthlete:t=>{if(!t){Uc(dv,null),Uc(fv,null),e({selectedAthleteId:null,selectedAthleteName:null});return}Uc(dv,t.id!==null&&t.id!==void 0?String(t.id):null),Uc(fv,t.name??null),e({selectedAthleteId:t.id??null,selectedAthleteName:t.name??null})},loadUser:async()=>{const{data:t,error:n}=await Re.auth.getSession();if(n||!t.session)return e({user:null,userId:null,role:null,accessToken:null,refreshToken:null}),null;const r=t.session,i=r.user,a=SD(i),o=wD(i),l=_D(i);return e({user:a,userId:o,role:l,accessToken:r.access_token,refreshToken:r.refresh_token}),a}}));Re.auth.onAuthStateChange((e,t)=>{const n=dn.getState();t?n.loginFromSession(t):dn.setState({user:null,userId:null,role:null,accessToken:null,refreshToken:null})});const pU="/competition-V2/assets/logo-eac-CbBi48or.png",jse=e=>{const t=e??"athlete";return t==="admin"?[{href:"/profile",icon:jg,label:"Profil"},{href:"/admin",icon:Tee,label:"Gestion des comptes"}]:t==="comite"?[{href:"/notifications",icon:ls,label:"Messagerie"},{href:"/administratif",icon:Xj,label:"Administratif"},{href:"/profile",icon:jg,label:"Profil"},{href:"/comite",icon:gu,label:"Comit"}]:t==="coach"?[{href:"/coach",icon:gu,label:"Coach"},{href:"/notifications",icon:ls,label:"Messagerie"},{href:"/administratif",icon:Xj,label:"Administratif"},{href:"/profile",icon:jg,label:"Profil"}]:[{href:"/",icon:mi,label:"Sance"},{href:"/progress",icon:Lee,label:"Progression"},{href:"/strength",icon:Mi,label:"Muscu"},{href:"/notifications",icon:ls,label:"Messagerie"},{href:"/hall-of-fame",icon:so,label:"H.O.F"},{href:"/profile",icon:jg,label:"Profil"}]},Nse={BASE_URL:"/competition-V2/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImZzY25vYml2c2dvcm54ZHdxd2xrIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njk4Njc3NTIsImV4cCI6MjA4NTQ0Mzc1Mn0.lX74HG_hI-0eaEDsyEJnzgFODCErUfQ-WW-5GFsoND8",VITE_SUPABASE_URL:"https://fscnobivsgornxdwqwlk.supabase.co"},Ese=e=>e?String(e).trim():"",gU=e=>{const t=typeof import.meta>"u"?void 0:Nse;return t?Ese(t?.[e]):""},Ase=gU("VITE_SUPABASE_URL"),Tse=gU("VITE_SUPABASE_ANON_KEY"),Sl={hasSupabase:!!(Ase&&Tse)};console.info("[config] supabase:",Sl.hasSupabase);const Ose=()=>typeof navigator>"u"?!0:navigator.onLine,Ye=()=>Sl.hasSupabase&&Ose(),Te={SESSIONS:"suivi_natation_sessions",EXERCISES:"suivi_natation_exercises",STRENGTH_SESSIONS:"suivi_natation_strength_sessions",SWIM_SESSIONS:"suivi_natation_swim_sessions",ASSIGNMENTS:"suivi_natation_assignments",STRENGTH_RUNS:"suivi_natation_strength_runs",NOTIFICATIONS:"suivi_natation_notifications",ONE_RM:"suivi_natation_1rm",SWIM_RECORDS:"suivi_natation_swim_records",TIMESHEET_SHIFTS:"suivi_natation_timesheet_shifts",TIMESHEET_LOCATIONS:"suivi_natation_timesheet_locations"},Nr=e=>new Promise(t=>setTimeout(t,e)),jD=["Piscine","Comptition"],ND=e=>{if(!e)return null;if(typeof e=="string")try{return JSON.parse(e)}catch{return null}return typeof e=="object"?e:null},ED=async e=>{if(!e||!Ye())return[];const{data:t,error:n}=await Re.from("group_members").select("group_id").eq("user_id",e);return n||!t?[]:t.map(r=>r.group_id).filter(r=>r>0)},Cse=e=>({id:xr(e.id),numero_exercice:Ze(e.numero_exercice),nom_exercice:e.nom_exercice??"",description:e.description??null,illustration_gif:e.illustration_gif??null,exercise_type:yU(e.exercise_type),warmup_reps:null,warmup_duration:null,Nb_series_endurance:Ze(e.nb_series_endurance),Nb_reps_endurance:Ze(e.nb_reps_endurance),pct_1rm_endurance:bu(e.pourcentage_charge_1rm_endurance),recup_endurance:Ze(e.recup_series_endurance),recup_exercices_endurance:Ze(e.recup_exercices_endurance),Nb_series_hypertrophie:Ze(e.nb_series_hypertrophie),Nb_reps_hypertrophie:Ze(e.nb_reps_hypertrophie),pct_1rm_hypertrophie:bu(e.pourcentage_charge_1rm_hypertrophie),recup_hypertrophie:Ze(e.recup_series_hypertrophie),recup_exercices_hypertrophie:Ze(e.recup_exercices_hypertrophie),Nb_series_force:Ze(e.nb_series_force),Nb_reps_force:Ze(e.nb_reps_force),pct_1rm_force:bu(e.pourcentage_charge_1rm_force),recup_force:Ze(e.recup_series_force),recup_exercices_force:Ze(e.recup_exercices_force)}),AD=e=>({numero_exercice:e.numero_exercice??null,nom_exercice:e.nom_exercice??e.name??"",description:e.description??null,illustration_gif:e.illustration_gif??null,exercise_type:e.exercise_type??"strength",nb_series_endurance:e.Nb_series_endurance??null,nb_reps_endurance:e.Nb_reps_endurance??null,pourcentage_charge_1rm_endurance:e.pct_1rm_endurance??null,recup_series_endurance:e.recup_endurance??null,recup_exercices_endurance:e.recup_exercices_endurance??null,nb_series_hypertrophie:e.Nb_series_hypertrophie??null,nb_reps_hypertrophie:e.Nb_reps_hypertrophie??null,pourcentage_charge_1rm_hypertrophie:e.pct_1rm_hypertrophie??null,recup_series_hypertrophie:e.recup_hypertrophie??null,recup_exercices_hypertrophie:e.recup_exercices_hypertrophie??null,nb_series_force:e.Nb_series_force??null,nb_reps_force:e.Nb_reps_force??null,pourcentage_charge_1rm_force:e.pct_1rm_force??null,recup_series_force:e.recup_force??null,recup_exercices_force:e.recup_exercices_force??null}),xr=(e,t=0)=>{const n=Number(e);return Number.isFinite(n)?Math.round(n):t},Ze=e=>{const t=Number(e);return Number.isFinite(t)?Math.round(t):null},TD=new Set,Rse=e=>{if(e instanceof Error){const t=e;return{message:t.message||"Erreur inconnue",code:t.code,status:t.status}}return{message:String(e||"Erreur inconnue")}},Mr=(e,t)=>{const n=Rse(e),r=n.status,i=n.code;let a=n.message||t;i==="unknown_action"?a="Action inconnue ct serveur.":i==="table_missing"?a="Base de donnes non initialise (table manquante).":r===401?a="Authentification expire ou manquante.":r===403&&(a="Accs refus pour ce rle.");const o=`${i??"none"}:${r??"none"}:${a}`;return TD.has(o)||(console.error("[api] error:",n),TD.add(o)),{...n,message:a}},ta=e=>{if(e==null)return null;const t=Number(e);return Number.isFinite(t)?t<=5?Math.max(1,Math.round(t)):Math.min(5,Math.max(1,Math.round(t/2))):null},oo=e=>{if(e==null)return null;const t=Number(e);return Number.isFinite(t)?t<=5?Math.round(t*2):Math.round(t):null},bu=e=>{const t=Number(e);return Number.isFinite(t)?t:null},Xw=(e,t)=>!Number.isFinite(e)||!Number.isFinite(t)||(e??0)<=0||(t??0)<=0?null:Math.round(t===1?e:e*(1+t/30)),hv=e=>{const t=String(e??"").trim().toLowerCase();return t==="hypertrophie"||t==="force"||t==="endurance"?t:"endurance"},Qw=(e,t,n)=>({exercise_id:xr(e.exercise_id),order_index:Ze(e.ordre??e.order_index)??t,sets:Ze(e.sets)??0,reps:Ze(e.reps)??0,rest_seconds:Ze(e.rest_series_s??e.rest_seconds)??0,percent_1rm:Ze(e.pct_1rm??e.percent_1rm)??0,cycle_type:hv(e.cycle_type??n),notes:e.notes??"",exercise_name:e.exercise_name??e.nom_exercice??void 0,category:e.category??e.exercise_type??void 0}),OD=e=>{for(let t=0;t<e.length;t+=1){const n=e[t];if(!Number.isFinite(n.sets)||n.sets<0)throw new Error(`Sries invalides pour l'exercice #${t+1}`);if(!Number.isFinite(n.reps)||n.reps<0)throw new Error(`Reps invalides pour l'exercice #${t+1}`);if(!Number.isFinite(n.rest_seconds)||n.rest_seconds<0)throw new Error(`Repos invalide pour l'exercice #${t+1}`)}},vU=e=>e==="strength"||e==="warmup",yU=e=>vU(e)?e:"strength",CD=e=>{if(vU(e))return e;throw new Error("exercise_type must be 'strength' or 'warmup'")},Jw=e=>({id:xr(e.id),numero_exercice:Ze(e.numero_exercice??e.numero),nom_exercice:e.nom_exercice??e.name??"",description:e.description??null,illustration_gif:e.illustration_gif??null,exercise_type:yU(e.exercise_type??e.type??(e.is_warmup?"warmup":"strength")),warmup_reps:Ze(e.warmup_reps),warmup_duration:Ze(e.warmup_duration),Nb_series_endurance:Ze(e.Nb_series_endurance),Nb_reps_endurance:Ze(e.Nb_reps_endurance),pct_1rm_endurance:bu(e.pct_1rm_endurance),recup_endurance:Ze(e.recup_endurance),recup_exercices_endurance:Ze(e.recup_exercices_endurance),Nb_series_hypertrophie:Ze(e.Nb_series_hypertrophie),Nb_reps_hypertrophie:Ze(e.Nb_reps_hypertrophie),pct_1rm_hypertrophie:bu(e.pct_1rm_hypertrophie),recup_hypertrophie:Ze(e.recup_hypertrophie),recup_exercices_hypertrophie:Ze(e.recup_exercices_hypertrophie),Nb_series_force:Ze(e.Nb_series_force),Nb_reps_force:Ze(e.Nb_reps_force),pct_1rm_force:bu(e.pct_1rm_force),recup_force:Ze(e.recup_force),recup_exercices_force:Ze(e.recup_exercices_force)}),Pse=e=>{const t={athlete_name:e.athlete_name,session_date:e.date,time_slot:e.slot,distance:e.distance,duration:e.duration,rpe:oo(e.effort),performance:oo(e.performance??e.feeling),engagement:oo(e.engagement??e.feeling),fatigue:oo(e.feeling),comments:e.comments};return e.athlete_id!==null&&e.athlete_id!==void 0&&String(e.athlete_id)!==""&&(t.athlete_id=e.athlete_id),t},Mse=e=>{if(!e)return null;const t=String(e.athlete_name||"").trim(),n=String(e.session_date||e.date||"").trim();if(!t||!n)return null;const r=ta(Ze(e.rpe??e.effort)),i=ta(Ze(e.performance??e.feeling)),a=ta(Ze(e.engagement??e.feeling)),o=ta(Ze(e.fatigue??e.feeling)),l=r??3,d=ta(Ze(e.performance??e.engagement??e.fatigue??e.feeling))??3;return{id:xr(e.id,Date.now()),athlete_id:e.athlete_id?xr(e.athlete_id):void 0,athlete_name:t,date:n,slot:String(e.time_slot||e.slot||""),effort:l,feeling:d,rpe:r,performance:i,engagement:a,fatigue:o,distance:xr(e.distance,0),duration:xr(e.duration,0),comments:e.comments||"",created_at:e.created_at||e.updated_at||new Date().toISOString()}},Me={async getCapabilities(){return Ye()?{mode:"supabase",version:null,timesheet:{available:!0},messaging:{available:!0}}:{mode:"local",version:null,timesheet:{available:!0},messaging:{available:!0}}},async syncFfnSwimRecords(e){if(!Ye())throw new Error("Supabase not configured");const{data:t,error:n}=await Re.functions.invoke("ffn-sync",{body:{athlete_id:e.athleteId??null,athlete_name:e.athleteName??null,iuf:e.iuf}});if(n)throw new Error(n.message);return t??{inserted:0,updated:0,skipped:0}},async syncSession(e){if(Ye()){const r=Pse(e),{error:i}=await Re.from("dim_sessions").insert(r);if(i)throw new Error(i.message);return{status:"ok"}}await Nr(300);const t=this._get(Te.SESSIONS)||[],n={...e,id:Date.now(),created_at:new Date().toISOString()};return this._save(Te.SESSIONS,[...t,n]),{status:"ok"}},async getSessions(e,t){const n=t!=null&&String(t)!=="";if(Ye()){let i=Re.from("dim_sessions").select("*").order("session_date",{ascending:!1});n?i=i.eq("athlete_id",Number(t)):i=i.eq("athlete_name",e);const{data:a,error:o}=await i;if(o)throw new Error(o.message);return(a??[]).map(Mse).filter(l=>!!l)}return await Nr(200),(this._get(Te.SESSIONS)||[]).filter(i=>n&&i.athlete_id?String(i.athlete_id)===String(t):i.athlete_name.toLowerCase()===e.toLowerCase()).map(i=>({...i,effort:ta(i.effort)??i.effort,feeling:ta(i.feeling)??i.feeling,rpe:ta(i.rpe??null),performance:ta(i.performance??null),engagement:ta(i.engagement??null),fatigue:ta(i.fatigue??null)})).sort((i,a)=>new Date(a.date).getTime()-new Date(i.date).getTime())},async updateSession(e){if(Ye()){const i={athlete_name:e.athlete_name,session_date:e.date,time_slot:e.slot,distance:e.distance,duration:e.duration,rpe:oo(e.effort),performance:oo(e.performance??e.feeling),engagement:oo(e.engagement??e.feeling),fatigue:oo(e.feeling),comments:e.comments},{error:a}=await Re.from("dim_sessions").update(i).eq("id",e.id);if(a)throw new Error(a.message);return{status:"updated"}}await Nr(200);const t=this._get(Te.SESSIONS)||[],n=t.findIndex(i=>i.id===e.id);if(n===-1)return{status:"missing"};const r=[...t];return r[n]={...r[n],...e},this._save(Te.SESSIONS,r),{status:"updated"}},async deleteSession(e){if(Ye()){const{error:r}=await Re.from("dim_sessions").delete().eq("id",e);if(r)throw new Error(r.message);return{status:"deleted"}}await Nr(200);const n=(this._get(Te.SESSIONS)||[]).filter(r=>r.id!==e);return this._save(Te.SESSIONS,n),{status:"deleted"}},async getHallOfFame(){if(Ye()){const{data:o,error:l}=await Re.rpc("get_hall_of_fame");if(!l&&o){const d=Array.isArray(o)?o:[],f=[...d].map(v=>({athlete_name:v.athlete_name,total_distance:Number(v.total_distance??0)})).sort((v,y)=>y.total_distance-v.total_distance).slice(0,5),m=[...d].map(v=>({athlete_name:v.athlete_name,avg_effort:Number(v.avg_performance??v.avg_engagement??0)})).sort((v,y)=>y.avg_effort-v.avg_effort).slice(0,5),p=[...d].map(v=>({athlete_name:v.athlete_name,avg_engagement:Number(v.avg_engagement??0)})).sort((v,y)=>y.avg_engagement-v.avg_engagement).slice(0,5);return{distance:f,performance:m,engagement:p,strength:[]}}}await Nr(300);const e=this._get(Te.SESSIONS)||[],t=this._get(Te.STRENGTH_RUNS)||[],n=new Map;e.forEach(o=>{n.has(o.athlete_name)||n.set(o.athlete_name,{distance:0,effortSum:0,count:0,engagementSum:0,engagementCount:0});const l=n.get(o.athlete_name);l.distance+=o.distance,l.effortSum+=o.effort,l.count+=1,o.engagement!==null&&o.engagement!==void 0&&Number.isFinite(o.engagement)&&(l.engagementSum+=o.engagement,l.engagementCount+=1)});const r=Array.from(n.entries()).map(([o,l])=>({athlete_name:o,total_distance:l.distance,avg_effort:l.effortSum/l.count,avg_engagement:l.engagementCount?l.engagementSum/l.engagementCount:0})),i=new Map;t.forEach(o=>{i.has(o.athlete_name)||i.set(o.athlete_name,{volume:0,reps:0,sets:0,maxWeight:0});const l=i.get(o.athlete_name);o.logs&&o.logs.forEach(d=>{const f=Number(d.reps??0),m=Number(d.weight??0);l.volume+=f*m,l.reps+=f,l.sets+=1,m>l.maxWeight&&(l.maxWeight=m)})});const a=Array.from(i.entries()).map(([o,l])=>({athlete_name:o,total_volume:l.volume,total_reps:l.reps,total_sets:l.sets,max_weight:l.maxWeight}));return{distance:[...r].sort((o,l)=>l.total_distance-o.total_distance).slice(0,5),performance:[...r].sort((o,l)=>l.avg_effort-o.avg_effort).slice(0,5),engagement:[...r].sort((o,l)=>l.avg_engagement-o.avg_engagement).slice(0,5),strength:[...a].sort((o,l)=>l.total_volume-o.total_volume).slice(0,5)}},async getClubRecords(e){if(!Ye())return[];let t=Re.from("club_records").select("*");e.pool_m&&(t=t.eq("pool_m",e.pool_m)),e.sex&&(t=t.eq("sex",e.sex)),e.age&&(t=t.eq("age",e.age)),e.event_code&&(t=t.eq("event_code",e.event_code));const{data:n,error:r}=await t;if(r)throw new Error(r.message);return n??[]},async getClubRecordSwimmers(){if(!Ye())return[];const{data:e,error:t}=await Re.from("club_record_swimmers").select("*");if(t)throw new Error(t.message);return(e??[]).map(n=>({...n,is_active:n.is_active?1:0}))},async createClubRecordSwimmer(e){if(!Ye())return null;const{data:t,error:n}=await Re.from("club_record_swimmers").insert({source_type:"manual",display_name:e.display_name,iuf:e.iuf??null,sex:e.sex??null,birthdate:e.birthdate??null,is_active:e.is_active!==!1}).select().single();if(n)throw new Error(n.message);return t?{...t,is_active:t.is_active?1:0}:null},async updateClubRecordSwimmer(e,t){if(!Ye())return null;const n={};t.iuf!==void 0&&(n.iuf=t.iuf),t.is_active!==void 0&&(n.is_active=t.is_active),t.sex!==void 0&&(n.sex=t.sex),t.birthdate!==void 0&&(n.birthdate=t.birthdate);const{data:r,error:i}=await Re.from("club_record_swimmers").update(n).eq("id",e).select().single();if(i)throw new Error(i.message);return r?{...r,is_active:r.is_active?1:0}:null},async updateClubRecordSwimmerForUser(e,t){if(!Ye())return null;const n={};t.iuf!==void 0&&(n.iuf=t.iuf),t.is_active!==void 0&&(n.is_active=t.is_active),t.sex!==void 0&&(n.sex=t.sex),t.birthdate!==void 0&&(n.birthdate=t.birthdate);const{data:r,error:i}=await Re.from("club_record_swimmers").update(n).eq("user_id",e).eq("source_type","user").select().single();if(i)throw new Error(i.message);return r?{...r,is_active:r.is_active?1:0}:null},async importClubRecords(){if(!Ye())return null;const{data:e,error:t}=await Re.functions.invoke("import-club-records");if(t)throw new Error(t.message);return e?.summary??e},async getExercises(){if(Ye()){const{data:n,error:r}=await Re.from("dim_exercices").select("*");if(r)throw new Error(r.message);return(n??[]).map(Cse)}const e=this._get(Te.EXERCISES)||[];return(Array.isArray(e)?e:[]).map(n=>Jw(n))},async createExercise(e){const t=CD(e.exercise_type);if(Ye()){const i=AD({...e,exercise_type:t}),{error:a}=await Re.from("dim_exercices").insert(i);if(a)throw new Error(a.message);return{status:"created"}}const n=this._get(Te.EXERCISES)||[],r=Jw({...e,exercise_type:t,id:Date.now()});return this._save(Te.EXERCISES,[...n,r]),{status:"created"}},async updateExercise(e){const t=CD(e.exercise_type);if(Ye()){const o=AD({...e,exercise_type:t}),{error:l}=await Re.from("dim_exercices").update(o).eq("id",e.id);if(l)throw new Error(l.message);return{status:"updated"}}const n=this._get(Te.EXERCISES)||[],r=n.findIndex(o=>o.id===e.id);if(r===-1)throw new Error("Exercice introuvable");const i=Jw({...n[r],...e,exercise_type:t}),a=[...n];return a[r]=i,this._save(Te.EXERCISES,a),{status:"updated"}},async deleteExercise(e){if(Ye()){const{error:a}=await Re.from("dim_exercices").delete().eq("id",e);if(a)throw new Error(a.message);return{status:"deleted"}}const n=(this._get(Te.EXERCISES)||[]).filter(a=>a.id!==e);this._save(Te.EXERCISES,n);const i=(this._get(Te.STRENGTH_SESSIONS)||[]).map(a=>({...a,items:Array.isArray(a.items)?a.items.filter(o=>o.exercise_id!==e):a.items}));return this._save(Te.STRENGTH_SESSIONS,i),{status:"deleted"}},async getStrengthSessions(){if(Ye()){const{data:e,error:t}=await Re.from("strength_sessions").select("*, strength_session_items(*, dim_exercices(nom_exercice, exercise_type))").order("created_at",{ascending:!1});if(t)throw new Error(t.message);return(e??[]).map(n=>{const r=Array.isArray(n.strength_session_items)?n.strength_session_items:[],i=hv(r[0]?.cycle_type);return{id:xr(n.id,Date.now()),title:String(n.name||""),description:n.description??"",cycle:i,items:r.sort((a,o)=>(a.ordre??0)-(o.ordre??0)).map((a,o)=>({...Qw(a,o,i),exercise_name:a.dim_exercices?.nom_exercice??void 0,category:a.dim_exercices?.exercise_type??void 0}))}})}return this._get(Te.STRENGTH_SESSIONS)||[]},async createStrengthSession(e){const t=hv(e?.cycle??e?.cycle_type),r=(Array.isArray(e?.items)?e.items:[]).map((d,f)=>Qw(d,f,t));OD(r);const i=r.sort((d,f)=>d.order_index-f.order_index).map(d=>({ordre:d.order_index,exercise_id:d.exercise_id,cycle_type:d.cycle_type,sets:d.sets,reps:d.reps,pct_1rm:d.percent_1rm,rest_series_s:d.rest_seconds,notes:d.notes}));if(Ye()){const{data:d,error:f}=await Re.from("strength_sessions").insert({name:e?.title??e?.name??"",description:e?.description??""}).select("id").single();if(f)throw new Error(f.message);const m=d.id;if(i.length>0){const{error:p}=await Re.from("strength_session_items").insert(i.map(v=>({session_id:m,ordre:v.ordre,exercise_id:v.exercise_id,block:"main",cycle_type:v.cycle_type??t,sets:v.sets,reps:v.reps,pct_1rm:v.pct_1rm,rest_series_s:v.rest_series_s,notes:v.notes})));if(p)throw new Error(p.message)}return{status:"created",id:m}}const a=this._get(Te.STRENGTH_SESSIONS)||[],o=Date.now(),l=r.map(d=>{const f=(this._get(Te.EXERCISES)||[]).find(m=>m.id===d.exercise_id);return{...d,exercise_name:f?.nom_exercice,category:f?.exercise_type}});return this._save(Te.STRENGTH_SESSIONS,[...a,{...e,title:e?.title??e?.name??"",cycle:t,items:l,id:o}]),{status:"created",id:o}},async updateStrengthSession(e){if(!e?.id)throw new Error("Session id manquant");const t=hv(e?.cycle??e?.cycle_type),r=(Array.isArray(e?.items)?e.items:[]).map((m,p)=>Qw(m,p,t));OD(r);const i=r.sort((m,p)=>m.order_index-p.order_index).map(m=>({ordre:m.order_index,exercise_id:m.exercise_id,cycle_type:m.cycle_type,sets:m.sets,reps:m.reps,pct_1rm:m.percent_1rm,rest_series_s:m.rest_seconds,notes:m.notes}));if(Ye()){const{error:m}=await Re.from("strength_sessions").update({name:e?.title??e?.name??"",description:e?.description??""}).eq("id",e.id);if(m)throw new Error(m.message);if(await Re.from("strength_session_items").delete().eq("session_id",e.id),i.length>0){const{error:p}=await Re.from("strength_session_items").insert(i.map(v=>({session_id:e.id,ordre:v.ordre,exercise_id:v.exercise_id,block:"main",cycle_type:v.cycle_type??t,sets:v.sets,reps:v.reps,pct_1rm:v.pct_1rm,rest_series_s:v.rest_series_s,notes:v.notes})));if(p)throw new Error(p.message)}return{status:"updated"}}const a=this._get(Te.STRENGTH_SESSIONS)||[],o=a.findIndex(m=>m.id===e.id);if(o===-1)throw new Error("Sance introuvable");const l=r.map(m=>{const p=(this._get(Te.EXERCISES)||[]).find(v=>v.id===m.exercise_id);return{...m,exercise_name:p?.nom_exercice,category:p?.exercise_type}}),d={...a[o],...e,title:e?.title??e?.name??"",cycle:t,items:l},f=[...a];return f[o]=d,this._save(Te.STRENGTH_SESSIONS,f),{status:"updated"}},async persistStrengthSessionOrder(e){return this.updateStrengthSession(e)},async deleteStrengthSession(e){if(Ye()){const{error:r}=await Re.from("strength_sessions").delete().eq("id",e);if(r)throw new Error(r.message);return{status:"deleted"}}const n=(this._get(Te.STRENGTH_SESSIONS)||[]).filter(r=>r.id!==e);return this._save(Te.STRENGTH_SESSIONS,n),{status:"deleted"}},async startStrengthRun(e){if(Ye()){const{data:i,error:a}=await Re.from("strength_session_runs").insert({assignment_id:e.assignment_id??null,athlete_id:e.athlete_id??null,status:"in_progress",progress_pct:e.progress_pct??0,started_at:new Date().toISOString()}).select("id").single();if(a)throw new Error(a.message);return e.assignment_id&&await Re.from("session_assignments").update({status:"in_progress"}).eq("id",e.assignment_id),{run_id:i.id}}const t=this._get(Te.STRENGTH_RUNS)||[],n=Date.now(),r={id:n,assignment_id:e.assignment_id,athlete_id:e.athlete_id??null,athlete_name:e.athleteName??null,session_id:e.session_id??null,cycle_type:e.cycle_type??null,status:"in_progress",progress_pct:e.progress_pct??0,started_at:new Date().toISOString(),logs:[]};if(this._save(Te.STRENGTH_RUNS,[...t,r]),e.assignment_id){const a=(this._get(Te.ASSIGNMENTS)||[]).map(o=>o.id===e.assignment_id?{...o,status:"in_progress"}:o);this._save(Te.ASSIGNMENTS,a)}return{run_id:n}},async logStrengthSet(e){const t=async p=>{const v=Xw(Number(e.weight),Number(e.reps));if(!v)return null;const y=p?.athleteId??null,x=p?.athleteName??null;if(y===null&&!x)return null;const b=await this.get1RM({athleteName:x,athleteId:y}),N=new Map((b||[]).map(E=>[E.exercise_id,Number(E.weight??0)])).get(e.exercise_id)??0;return v<=N||Ye()&&(y==null||y==="")?null:(await this.update1RM({athlete_id:y??void 0,athlete_name:x??void 0,exercise_id:e.exercise_id,one_rm:v}),v)},n=p=>{const v=e.athlete_id??e.athleteId??null,y=e.athlete_name??e.athleteName??null;if(v!==null||y)return{athleteId:v,athleteName:y};if(!p)return{athleteId:null,athleteName:null};const x=p.find(b=>b.id===e.run_id);return{athleteId:x?.athlete_id??null,athleteName:x?.athlete_name??null}};if(Ye()){const{error:p}=await Re.from("strength_set_logs").insert({run_id:e.run_id,exercise_id:e.exercise_id,set_index:e.set_index??null,reps:e.reps??null,weight:e.weight??null,pct_1rm_suggested:e.pct_1rm_suggested??null,rest_seconds:e.rest_seconds??null,rpe:e.rpe??null,notes:e.notes??null,completed_at:new Date().toISOString()});if(p)throw new Error(p.message);const v=n(),y=await t(v);return{status:"ok",one_rm_updated:!!y,one_rm:y??void 0}}const r=this._get(Te.STRENGTH_RUNS)||[],i=r.findIndex(p=>p.id===e.run_id),a=i>=0?r[i]:{id:e.run_id,logs:[]},o=[...a.logs||[],{...e,completed_at:new Date().toISOString()}],l={...a,logs:o},d=i>=0?[...r.slice(0,i),l,...r.slice(i+1)]:[...r,l];this._save(Te.STRENGTH_RUNS,d);const f=n(d),m=await t(f);return{status:"ok",one_rm_updated:!!m,one_rm:m??void 0}},async updateStrengthRun(e){if(Ye()){const l={};e.progress_pct!==void 0&&(l.progress_pct=e.progress_pct),e.status&&(l.status=e.status),e.status==="completed"&&(l.completed_at=new Date().toISOString()),e.fatigue!==void 0&&(l.raw_payload={fatigue:e.fatigue,comments:e.comments});const{error:d}=await Re.from("strength_session_runs").update(l).eq("id",e.run_id);if(d)throw new Error(d.message);return e.status==="completed"&&e.assignment_id&&await Re.from("session_assignments").update({status:"completed"}).eq("id",e.assignment_id),{status:"ok"}}const t=this._get(Te.STRENGTH_RUNS)||[],n=t.findIndex(l=>l.id===e.run_id),r=new Date().toISOString(),i=n>=0?t[n]:{id:e.run_id,started_at:r},a={...i,...e,id:e.run_id,updated_at:r};if(e.status==="completed"&&!a.completed_at&&(a.completed_at=r),e.status==="completed"){const l=e.assignment_id??i.assignment_id;if(l){const f=(this._get(Te.ASSIGNMENTS)||[]).map(m=>m.id===l?{...m,status:"completed"}:m);this._save(Te.ASSIGNMENTS,f)}}const o=n>=0?[...t.slice(0,n),a,...t.slice(n+1)]:[...t,a];return this._save(Te.STRENGTH_RUNS,o),{status:"ok"}},async deleteStrengthRun(e){if(Ye()){const{error:i}=await Re.from("strength_session_runs").delete().eq("id",e);if(i)throw new Error(i.message);return{status:"deleted",source:"remote"}}const t=this._get(Te.STRENGTH_RUNS)||[],n=t.find(i=>i.id===e),r=t.filter(i=>i.id!==e);if(this._save(Te.STRENGTH_RUNS,r),n?.assignment_id){const a=(this._get(Te.ASSIGNMENTS)||[]).map(o=>o.id===n.assignment_id?{...o,status:"assigned"}:o);this._save(Te.ASSIGNMENTS,a)}return{status:"deleted",source:"local"}},async saveStrengthRun(e){if(Ye()){let l=e.run_id;if(!l){const{data:m,error:p}=await Re.from("strength_session_runs").insert({assignment_id:e.assignment_id??null,athlete_id:e.athlete_id??null,status:"in_progress",progress_pct:e.progress_pct??0,started_at:new Date().toISOString()}).select("id").single();if(p)throw new Error(p.message);l=m.id}if(l&&Array.isArray(e.logs)&&e.logs.length>0){const{error:m}=await Re.from("strength_set_logs").insert(e.logs.map((p,v)=>({run_id:l,exercise_id:p.exercise_id,set_index:p.set_index??p.set_number??v,reps:p.reps??null,weight:p.weight??null,rpe:p.rpe??null,notes:p.notes??null,completed_at:new Date().toISOString()})));if(m)throw new Error(m.message)}const d=new Map;if((Array.isArray(e.logs)?e.logs:[]).forEach(m=>{const p=Xw(Number(m.weight),Number(m.reps));if(!p)return;const v=Number(m.exercise_id);if(!Number.isFinite(v))return;const y=d.get(v)??0;p>y&&d.set(v,p)}),d.size>0){const m=e.athlete_id??null,p=e.athlete_name??null;if(m!=null&&m!==""){const v=await this.get1RM({athleteName:p,athleteId:m}),y=new Map((v||[]).map(x=>[x.exercise_id,Number(x.weight??0)]));await Promise.all(Array.from(d.entries()).filter(([x,b])=>b>(y.get(x)??0)).map(([x,b])=>this.update1RM({athlete_id:m??void 0,athlete_name:p??void 0,exercise_id:x,one_rm:b})))}}return l&&await Re.from("strength_session_runs").update({progress_pct:e.progress_pct??100,status:"completed",completed_at:new Date().toISOString()}).eq("id",l),e.assignment_id&&await Re.from("session_assignments").update({status:"completed"}).eq("id",e.assignment_id),{status:"ok",run_id:l??null}}const t=this._get(Te.STRENGTH_RUNS)||[],n=e.run_id??Date.now(),r=t.find(l=>l.id===n)||{},i={...r,...e,id:n,status:"completed",started_at:r.started_at??e.started_at??e.date??new Date().toISOString(),completed_at:new Date().toISOString()};if(this._save(Te.STRENGTH_RUNS,[...t.filter(l=>l.id!==n),i]),e.assignment_id){const d=(this._get(Te.ASSIGNMENTS)||[]).map(f=>f.id===e.assignment_id?{...f,status:"completed"}:f);this._save(Te.ASSIGNMENTS,d)}const a=new Map;if((Array.isArray(e.logs)?e.logs:[]).forEach(l=>{const d=Xw(Number(l.weight),Number(l.reps));if(!d)return;const f=Number(l.exercise_id);if(!Number.isFinite(f))return;const m=a.get(f)??0;d>m&&a.set(f,d)}),a.size>0){const l=e.athlete_id??null,d=e.athlete_name??null,f=await this.get1RM({athleteName:d,athleteId:l}),m=new Map((f||[]).map(p=>[p.exercise_id,Number(p.weight??0)]));await Promise.all(Array.from(a.entries()).filter(([p,v])=>v>(m.get(p)??0)).map(([p,v])=>this.update1RM({athlete_id:l??void 0,athlete_name:d??void 0,exercise_id:p,one_rm:v})))}return{status:"ok",run_id:n}},async strengthRunStart(e){if(Ye()){const a=e.athleteId?Number(e.athleteId):null,{data:o,error:l}=await Re.from("strength_session_runs").insert({assignment_id:e.assignmentId,athlete_id:a,status:"in_progress",progress_pct:e.progressPct??0,started_at:new Date().toISOString()}).select("id").single();if(l)throw new Error(l.message);return await Re.from("session_assignments").update({status:"in_progress"}).eq("id",e.assignmentId),{run_id:o.id}}const t=Date.now(),n=this._get(Te.STRENGTH_RUNS)||[];this._save(Te.STRENGTH_RUNS,[...n,{id:t,assignment_id:e.assignmentId,athlete_id:e.athleteId??null,athlete_name:e.athleteName??null,status:"in_progress",progress_pct:e.progressPct??0,started_at:new Date().toISOString()}]);const i=(this._get(Te.ASSIGNMENTS)||[]).map(a=>a.id===e.assignmentId?{...a,status:"in_progress",updated_at:new Date().toISOString()}:a);return this._save(Te.ASSIGNMENTS,i),{run_id:t}},async getStrengthHistory(e,t){const n=t?.limit??50,r=Number.isFinite(n)?Math.min(Math.max(Number(n),1),200):50,i=t?.offset??0,a=Number.isFinite(i)?Math.max(Number(i),0):0,o=t?.order==="asc"?"asc":"desc",l=t?.athleteId,d=l!=null&&l!=="";if(Ye()){let E=Re.from("strength_session_runs").select("*, strength_set_logs(*)").order("started_at",{ascending:o==="asc"}).range(a,a+r-1);d&&(E=E.eq("athlete_id",Number(l))),t?.status&&(E=E.eq("status",t.status)),t?.from&&(E=E.gte("started_at",t.from)),t?.to&&(E=E.lte("started_at",t.to+"T23:59:59"));const{data:j,error:O,count:T}=await E;if(O)throw new Error(O.message);return{runs:j??[],pagination:{limit:r,offset:a,total:T??(j??[]).length},exercise_summary:[]}}const p=(this._get(Te.STRENGTH_RUNS)||[]).filter(E=>{if(d&&String(E.athlete_id)!==String(l)||!d&&e&&E.athlete_name!==e||t?.status&&E.status!==t.status)return!1;if(t?.from||t?.to){const j=new Date(E.date||E.started_at||E.created_at||0).getTime();if(t?.from){const O=new Date(t.from).getTime();if(Number.isFinite(O)&&j<O)return!1}if(t?.to){const O=new Date(t.to);O.setHours(23,59,59,999);const T=O.getTime();if(Number.isFinite(T)&&j>T)return!1}}return!0}).sort((E,j)=>{const O=new Date(E.date||E.started_at||E.created_at||0).getTime(),T=new Date(j.date||j.started_at||j.created_at||0).getTime();return o==="asc"?O-T:T-O}),v=this._get(Te.EXERCISES)||[],y=new Map((Array.isArray(v)?v:[]).map(E=>[xr(E.id),E.nom_exercice||E.name||`Exercice ${E.id}`])),x=new Map;p.forEach(E=>{(E.logs||[]).forEach(j=>{const O=xr(j.exercise_id);if(!O)return;const T=x.get(O)||{exercise_id:O,exercise_name:y.get(O)||`Exercice ${O}`,total_sets:0,total_reps:0,total_volume:0,max_weight:null,last_performed_at:null},C=Number(j.reps??0)||0,R=Number(j.weight??0)||0;T.total_sets+=1,T.total_reps+=C,T.total_volume+=C*R,T.max_weight=Math.max(T.max_weight??0,R)||T.max_weight;const P=j.completed_at||E.completed_at||E.started_at||null;if(P){const k=new Date(P).getTime(),$=T.last_performed_at?new Date(T.last_performed_at).getTime():0;(!T.last_performed_at||k>$)&&(T.last_performed_at=P)}x.set(O,T)})});const b=p.length,w=p.slice(a,a+r),N=Array.from(x.values()).sort((E,j)=>j.total_volume-E.total_volume);return{runs:w,pagination:{limit:r,offset:a,total:b},exercise_summary:N}},async getStrengthHistoryAggregate(e,t){const n=t?.limit??200,r=Number.isFinite(n)?Math.min(Math.max(Number(n),1),200):200,i=t?.offset??0,a=Number.isFinite(i)?Math.max(Number(i),0):0,o=t?.order==="asc"?"asc":"desc",l=t?.athleteId,d=l!=null&&l!=="",f=t?.period??"day";if(Ye()){const j={p_period:f};d&&(j.p_athlete_id=Number(l)),t?.from&&(j.p_from=t.from),t?.to&&(j.p_to=t.to);const{data:O,error:T}=await Re.rpc("get_strength_history_aggregate",j);if(T)throw new Error(T.message);const C=Array.isArray(O)?O:[];return{periods:C,pagination:{limit:r,offset:a,total:C.length}}}const p=(this._get(Te.STRENGTH_RUNS)||[]).filter(j=>d?j.athlete_id?String(j.athlete_id)===String(l):!1:j.athlete_name===e),v=t?.from?new Date(t.from):null,y=t?.to?new Date(t.to):null,x=new Map,b=j=>{if(f==="month")return`${j.getUTCFullYear()}-${String(j.getUTCMonth()+1).padStart(2,"0")}`;if(f==="week"){const O=new Date(Date.UTC(j.getUTCFullYear(),j.getUTCMonth(),j.getUTCDate())),T=O.getUTCDay()||7;O.setUTCDate(O.getUTCDate()+4-T);const C=new Date(Date.UTC(O.getUTCFullYear(),0,1)),R=Math.ceil(((O.getTime()-C.getTime())/864e5+1)/7);return`${O.getUTCFullYear()}-W${String(R).padStart(2,"0")}`}return j.toISOString().split("T")[0]};p.forEach(j=>{(Array.isArray(j.logs)?j.logs:[]).forEach(T=>{const C=T.completed_at||j.started_at||j.date||j.created_at;if(!C)return;const R=new Date(C);if(Number.isNaN(R.getTime())||v&&R<v||y&&R>y)return;const P=b(R),k=x.get(P)||{period:P,tonnage:0,volume:0},$=Number(T.reps)||0,B=Number(T.weight)||0;k.volume+=$,k.tonnage+=$*B,x.set(P,k)})});const w=Array.from(x.values()).sort((j,O)=>o==="asc"?j.period.localeCompare(O.period):O.period.localeCompare(j.period)),N=w.length;return{periods:w.slice(a,a+r),pagination:{limit:r,offset:a,total:N}}},async get1RM(e){const t=typeof e=="string"?e:e?.athleteName??null,n=typeof e=="string"?null:e?.athleteId??null;if(Ye()){let i=Re.from("one_rm_records").select("*");n!=null&&String(n)!==""&&(i=i.eq("athlete_id",Number(n)));const{data:a,error:o}=await i;if(o)throw new Error(o.message);return(a??[]).map(l=>({id:Ze(l.id),athlete_id:Ze(l.athlete_id),exercise_id:xr(l.exercise_id),weight:Number(l.one_rm??0),recorded_at:l.recorded_at??null}))}return(this._get(Te.ONE_RM)||[]).filter(i=>i.athlete_name===t)},async update1RM(e){if(Ye()){const i=e.athlete_id??e.athleteId,a=e.one_rm??e.weight;if(i==null||i===""||a===null||a===void 0)throw new Error("athlete_id et one_rm sont requis");const{error:o}=await Re.from("one_rm_records").upsert({athlete_id:Number(i),exercise_id:e.exercise_id,one_rm:a,recorded_at:new Date().toISOString()},{onConflict:"athlete_id,exercise_id"});if(o)throw new Error(o.message);return{status:"ok"}}const t=this._get(Te.ONE_RM)||[],n=e.athlete_name??e.athleteName,r=t.filter(i=>!(i.athlete_name===n&&i.exercise_id===e.exercise_id));return this._save(Te.ONE_RM,[...r,{...e,athlete_name:n,id:Date.now(),date:new Date().toISOString()}]),{status:"ok"}},async getSwimRecords(e){if(Ye()){let r=Re.from("swim_records").select("*").order("record_date",{ascending:!1});e.athleteId&&(r=r.eq("athlete_id",e.athleteId));const{data:i,error:a}=await r;if(a)throw new Error(a.message);const o=i??[];return{records:o,pagination:{limit:o.length,offset:0,total:o.length}}}const n=(this._get(Te.SWIM_RECORDS)||[]).filter(r=>e.athleteId?r.athlete_id===e.athleteId:e.athleteName?r.athlete_name===e.athleteName:!1);return{records:n,pagination:{limit:n.length,offset:0,total:n.length}}},async upsertSwimRecord(e){if(Ye()){const r={athlete_id:e.athlete_id??null,event_name:e.event_name,pool_length:e.pool_length??null,time_seconds:e.time_seconds??null,record_date:e.record_date??null,notes:e.notes??null};if(e.id){const{error:i}=await Re.from("swim_records").update(r).eq("id",e.id);if(i)throw new Error(i.message)}else{const{error:i}=await Re.from("swim_records").insert(r);if(i)throw new Error(i.message)}return{status:"ok"}}const t=this._get(Te.SWIM_RECORDS)||[];if(e.id){const r=t.map(i=>i.id===e.id?{...i,...e,athlete_id:e.athlete_id??i.athlete_id}:i);return this._save(Te.SWIM_RECORDS,r),{status:"ok"}}const n={...e,id:Date.now(),athlete_id:e.athlete_id??-1,athlete_name:e.athleteName??null};return this._save(Te.SWIM_RECORDS,[...t,n]),{status:"created"}},async getSwimCatalog(){if(Ye()){const{data:t,error:n}=await Re.from("swim_sessions_catalog").select("*, swim_session_items(*)").order("created_at",{ascending:!1});if(n)throw new Error(n.message);return(t??[]).map(r=>({id:xr(r.id,Date.now()),name:String(r.name||""),description:r.description??null,created_by:Ze(r.created_by)??null,created_at:r.created_at??null,updated_at:r.updated_at??null,items:Array.isArray(r.swim_session_items)?r.swim_session_items.sort((i,a)=>(i.ordre??0)-(a.ordre??0)).map((i,a)=>({id:Ze(i.id)??void 0,catalog_id:Ze(i.catalog_id)??void 0,ordre:Ze(i.ordre)??a,label:i.label??null,distance:Ze(i.distance)??null,duration:Ze(i.duration)??null,intensity:i.intensity??null,notes:i.notes??null,raw_payload:ND(i.raw_payload)})):[]}))}return(this._get(Te.SWIM_SESSIONS)||[]).map(t=>({id:xr(t.id,Date.now()),name:String(t.name||t.title||""),description:t.description??null,created_by:Ze(t.created_by)??null,created_at:t.created_at??null,updated_at:t.updated_at??null,items:Array.isArray(t.items)?t.items.map((n,r)=>({id:Ze(n.id)??void 0,catalog_id:Ze(n.catalog_id)??void 0,ordre:Ze(n.ordre)??r,label:n.label??n.section??null,distance:Ze(n.distance)??null,duration:Ze(n.duration)??null,intensity:n.intensity??null,notes:n.notes??n.instruction??null,raw_payload:ND(n.raw_payload)??(n.section||n.stroke||n.instruction||n.rest?{section:n.section,stroke:n.stroke,instruction:n.instruction,rest:n.rest}:null)})):[]}))},async createSwimSession(e){if(Ye()){const n=Array.isArray(e.items)?e.items.map((a,o)=>({ordre:a.ordre??o,label:a.label??null,distance:a.distance??null,duration:a.duration??null,intensity:a.intensity??null,notes:a.notes??null,raw_payload:a.raw_payload??null})):[];if(e.id){const{error:a}=await Re.from("swim_sessions_catalog").update({name:e.name,description:e.description??null}).eq("id",e.id);if(a)throw new Error(a.message);if(await Re.from("swim_session_items").delete().eq("catalog_id",e.id),n.length>0){const{error:o}=await Re.from("swim_session_items").insert(n.map(l=>({...l,catalog_id:e.id})));if(o)throw new Error(o.message)}return{status:"updated"}}const{data:r,error:i}=await Re.from("swim_sessions_catalog").insert({name:e.name,description:e.description??null}).select("id").single();if(i)throw new Error(i.message);if(n.length>0){const{error:a}=await Re.from("swim_session_items").insert(n.map(o=>({...o,catalog_id:r.id})));if(a)throw new Error(a.message)}return{status:"created"}}const t=this._get(Te.SWIM_SESSIONS)||[];if(e.id){const n=t.some(i=>i.id===e.id),r=n?t.map(i=>i.id===e.id?{...i,...e}:i):[...t,{...e,id:e.id}];return this._save(Te.SWIM_SESSIONS,r),{status:n?"updated":"created"}}return this._save(Te.SWIM_SESSIONS,[...t,{...e,id:Date.now()}]),{status:"created"}},async deleteSwimSession(e){if(Ye()){const{error:r}=await Re.from("swim_sessions_catalog").delete().eq("id",e);if(r)throw new Error(r.message);return{status:"deleted"}}const n=(this._get(Te.SWIM_SESSIONS)||[]).filter(r=>r.id!==e);return this._save(Te.SWIM_SESSIONS,n),{status:"deleted"}},async getAssignmentsForCoach(){return Ye()?null:(await Nr(100),this._get(Te.ASSIGNMENTS)||[])},async getAssignments(e,t,n){if(Ye()){const i=await ED(t??null),a=[];if(t!=null&&a.push(`target_user_id.eq.${t}`),i.forEach(b=>a.push(`target_group_id.eq.${b}`)),!a.length)return[];let o=Re.from("session_assignments").select("*").or(a.join(","));n?.assignmentType&&(o=o.eq("assignment_type",n.assignmentType)),n?.status?o=o.eq("status",n.status):o=o.neq("status","completed");const{data:l,error:d}=await o;if(d)throw new Error(d.message);if(!l?.length)return[];const[f,m]=await Promise.all([this.getSwimCatalog(),this.getStrengthSessions()]),p=new Map(f.map(b=>[b.id,b])),v=new Map(m.map(b=>[b.id,b])),y=l.map(b=>{const w=b.assignment_type==="strength"?"strength":"swim",N=Ze(w==="swim"?b.swim_catalog_id:b.strength_session_id)??0,E=b.scheduled_date||b.created_at||"",j=String(b.status||"assigned"),O=w==="swim"?p.get(N):void 0,T=w==="strength"?v.get(N):void 0,C={id:xr(b.id,Date.now()),session_id:N,session_type:w,title:w==="swim"?O?.name??"Sance natation":T?.title??"Sance musculation",description:O?.description??T?.description??"",assigned_date:E||new Date().toISOString(),status:j,items:T?.items??O?.items};return w==="strength"&&(C.cycle=T?.cycle??"endurance"),C}),x=new Map(y.map(b=>[b.id,b]));return Array.from(x.values())}return await Nr(200),(this._get(Te.ASSIGNMENTS)||[]).filter(i=>!(t!=null&&String(t)!==""&&String(i.target_user_id)===String(t)||i.target_athlete===e)||n?.assignmentType&&i.session_type!==n.assignmentType?!1:n?.status?i.status===n.status:i.status!=="completed")},async assignments_create(e){const t=e.assignment_type??e.session_type;if(!t)return{status:"error"};const n=e.scheduled_date??e.assigned_date??new Date().toISOString();if(Ye()){const l={assignment_type:t,scheduled_date:n,status:"assigned"};t==="swim"?l.swim_catalog_id=e.session_id:l.strength_session_id=e.session_id,e.target_user_id!==null&&e.target_user_id!==void 0?l.target_user_id=e.target_user_id:e.target_group_id!==null&&e.target_group_id!==void 0&&(l.target_group_id=e.target_group_id);const{data:d,error:f}=await Re.from("session_assignments").insert(l).select("id").single();if(f)throw new Error(f.message);const{data:m,error:p}=await Re.from("notifications").insert({title:"Nouvelle sance assigne",body:`Sance prvue le ${n}.`,type:"assignment"}).select("id").single();if(!p&&m){const v={notification_id:m.id};e.target_user_id&&(v.target_user_id=e.target_user_id),e.target_group_id&&(v.target_group_id=e.target_group_id),await Re.from("notification_targets").insert(v)}return{status:"assigned"}}let r;if(t==="swim"?r=(this._get(Te.SWIM_SESSIONS)||[]).find(l=>l.id===e.session_id):r=(this._get(Te.STRENGTH_SESSIONS)||[]).find(l=>l.id===e.session_id),!r)return{status:"error"};const i={id:Date.now(),session_id:e.session_id,session_type:t,target_athlete:e.target_athlete??"",target_user_id:e.target_user_id??null,target_group_id:e.target_group_id??null,assigned_date:n,title:r.name??r.title,description:r.description,items:r.items,status:"assigned"},a=this._get(Te.ASSIGNMENTS)||[];this._save(Te.ASSIGNMENTS,[...a,i]);const o=this._get(Te.NOTIFICATIONS)||[];return this._save(Te.NOTIFICATIONS,[...o,{id:Date.now()+1,sender:"Coach",target_athlete:e.target_athlete,target_user_id:e.target_user_id??null,target_group_id:e.target_group_id??null,title:"Nouvelle sance assigne",message:`Sance ${r.title??r.name} prvue le ${n}.`,type:"assignment",related_id:i.id,read:!1,date:new Date().toISOString()}]),{status:"assigned"}},async assignments_delete(e){if(Ye()){const{error:r}=await Re.from("session_assignments").delete().eq("id",e);if(r)throw new Error(r.message);return{status:"deleted"}}const n=(this._get(Te.ASSIGNMENTS)||[]).filter(r=>r.id!==e);return this._save(Te.ASSIGNMENTS,n),{status:"deleted"}},async getNotifications(e){return await Nr(200),(this._get(Te.NOTIFICATIONS)||[]).filter(n=>n.target_athlete===e||n.target_athlete==="All").reverse()},async notifications_send(e){if(Ye()){const{data:i,error:a}=await Re.from("notifications").insert({title:e.title,body:e.body??null,type:e.type}).select("id").single();if(a)throw new Error(a.message);if(i&&e.targets.length>0){const{error:o}=await Re.from("notification_targets").insert(e.targets.map(l=>({notification_id:i.id,target_user_id:l.target_user_id??null,target_group_id:l.target_group_id??null})));if(o)throw new Error(o.message)}return{status:"sent"}}const t=this._get(Te.NOTIFICATIONS)||[],n={sender:"Coach",title:e.title,message:e.body||"",type:e.type},r=e.targets.map((i,a)=>({...n,id:Date.now()+a,read:!1,date:new Date().toISOString(),sender_id:null,sender_email:null,target_user_id:i.target_user_id??null,target_group_id:i.target_group_id??null}));return this._save(Te.NOTIFICATIONS,[...t,...r]),{status:"sent"}},async markNotificationRead(e){const n=(this._get(Te.NOTIFICATIONS)||[]).map(r=>r.id===e?{...r,read:!0}:r);this._save(Te.NOTIFICATIONS,n)},async notifications_list(e){const t=e.limit??20,n=Number.isFinite(t)?Math.min(Math.max(Number(t),1),200):20,r=e.offset??0,i=Number.isFinite(r)?Math.max(Number(r),0):0,a=e.order==="asc"?"asc":"desc";if(Ye()){const v=await ED(e.targetUserId??null),y=[];if(e.targetUserId&&y.push(`target_user_id.eq.${e.targetUserId}`),v.forEach(O=>y.push(`target_group_id.eq.${O}`)),!y.length)return{notifications:[],pagination:{limit:n,offset:i,total:0}};let x=Re.from("notification_targets").select("*, notifications!inner(*)").or(y.join(",")).order("notifications(created_at)",{ascending:a==="asc"});e.status==="read"?x=x.not("read_at","is",null):e.status==="unread"&&(x=x.is("read_at",null)),e.type&&(x=x.eq("notifications.type",e.type)),e.from&&(x=x.gte("notifications.created_at",e.from)),e.to&&(x=x.lte("notifications.created_at",e.to+"T23:59:59"));const{data:b,error:w}=await x;if(w)throw new Error(w.message);const N=(b??[]).map(O=>{const T=O.notifications||{};return{id:xr(O.id,Date.now()),target_id:Ze(O.id)??void 0,target_user_id:Ze(O.target_user_id)??null,sender_id:Ze(T.created_by)??null,sender_email:null,target_group_id:Ze(O.target_group_id)??null,target_group_name:null,sender_name:null,sender_role:null,counterparty_id:null,counterparty_name:null,counterparty_role:null,sender:T.created_by?"Coach":"Systme",title:String(T.title||""),message:String(T.body||""),type:String(T.type||"message"),read:!!O.read_at,date:T.created_at||new Date().toISOString()}}),E=N.length;return{notifications:N.slice(i,i+n),pagination:{limit:n,offset:i,total:E}}}await Nr(200);const d=(this._get(Te.NOTIFICATIONS)||[]).filter(v=>!(e.targetUserId&&v.target_user_id!==e.targetUserId||e.targetAthleteName&&!(v.target_athlete===e.targetAthleteName||v.target_athlete==="All")||e.type&&v.type!==e.type||e.status==="read"&&!v.read||e.status==="unread"&&v.read)).sort((v,y)=>{const x=new Date(v.date||v.created_at||0).getTime(),b=new Date(y.date||y.created_at||0).getTime();return a==="asc"?x-b:b-x}),f=d.length;return{notifications:d.slice(i,i+n).map(v=>({id:xr(v.id,Date.now()),target_user_id:Ze(v.target_user_id)??null,sender_id:Ze(v.sender_id)??null,sender_email:v.sender_email?String(v.sender_email):null,sender:String(v.sender||"Coach"),title:String(v.title||""),message:String(v.message||""),type:String(v.type||"message"),read:!!v.read,date:v.date||new Date().toISOString(),related_id:v.related_id??void 0})),pagination:{limit:n,offset:i,total:f}}},async notifications_mark_read(e){const t=e.targetId??e.id;if(!t)throw new Error("Missing target id");if(Ye()){const{error:i}=await Re.from("notification_targets").update({read_at:new Date().toISOString()}).eq("id",t);if(i)throw new Error(i.message);return}const r=(this._get(Te.NOTIFICATIONS)||[]).map(i=>i.id===t?{...i,read:!0}:i);this._save(Te.NOTIFICATIONS,r)},async listTimesheetShifts(e){if(Ye()){let n=Re.from("timesheet_shifts").select("*").order("shift_date",{ascending:!1});e?.coachId&&(n=n.eq("coach_id",e.coachId)),e?.from&&(n=n.gte("shift_date",e.from)),e?.to&&(n=n.lte("shift_date",e.to));const{data:r,error:i}=await n;if(i)throw new Error(i.message);return r??[]}return await Nr(200),(this._get(Te.TIMESHEET_SHIFTS)||[]).filter(n=>!(e?.coachId&&n.coach_id!==e.coachId||e?.from&&n.shift_date<e.from||e?.to&&n.shift_date>e.to)).sort((n,r)=>n.shift_date!==r.shift_date?n.shift_date<r.shift_date?1:-1:n.start_time<r.start_time?1:-1)},async listTimesheetLocations(){if(Ye()){const{data:r,error:i}=await Re.from("timesheet_locations").select("*").order("name");if(i)throw new Error(i.message);return r??[]}await Nr(120);const e=this._get(Te.TIMESHEET_LOCATIONS);if(Array.isArray(e)&&e.length)return e;const t=new Date().toISOString(),n=jD.map((r,i)=>({id:i+1,name:r,created_at:t,updated_at:t}));return this._save(Te.TIMESHEET_LOCATIONS,n),n},async createTimesheetLocation(e){if(Ye()){const{error:d}=await Re.from("timesheet_locations").insert({name:e.name.trim()});if(d)throw new Error(d.message);return{status:"created"}}await Nr(120);const t=e.name.trim();if(!t)throw new Error("Missing location name");const n=this._get(Te.TIMESHEET_LOCATIONS),r=new Date().toISOString(),i=Array.isArray(n)&&n.length?n:jD.map((d,f)=>({id:f+1,name:d,created_at:r,updated_at:r}));if(i.some(d=>d.name.toLowerCase()===t.toLowerCase()))return{status:"exists"};const o=new Date().toISOString(),l={id:Date.now(),name:t,created_at:o,updated_at:o};return this._save(Te.TIMESHEET_LOCATIONS,[...i,l]),{status:"created"}},async deleteTimesheetLocation(e){if(Ye()){const{error:r}=await Re.from("timesheet_locations").delete().eq("id",e.id);if(r)throw new Error(r.message);return{status:"deleted"}}await Nr(120);const n=(this._get(Te.TIMESHEET_LOCATIONS)||[]).filter(r=>r.id!==e.id);return this._save(Te.TIMESHEET_LOCATIONS,n),{status:"deleted"}},async listTimesheetCoaches(){if(Ye()){const{data:e,error:t}=await Re.from("users").select("id, display_name").eq("role","coach").eq("is_active",!0);if(t)throw new Error(t.message);return(e??[]).map(n=>({id:n.id,display_name:n.display_name}))}return[]},async createTimesheetShift(e){if(Ye()){const{error:r}=await Re.from("timesheet_shifts").insert({coach_id:e.coach_id,shift_date:e.shift_date,start_time:e.start_time,end_time:e.end_time??null,location_name:e.location??null});if(r)throw new Error(r.message);return{status:"created"}}await Nr(200);const t=this._get(Te.TIMESHEET_SHIFTS)||[],n={...e,id:Date.now(),created_at:new Date().toISOString()};return this._save(Te.TIMESHEET_SHIFTS,[...t,n]),{status:"created"}},async updateTimesheetShift(e){if(Ye()){const{id:i,...a}=e,{error:o}=await Re.from("timesheet_shifts").update(a).eq("id",i);if(o)throw new Error(o.message);return{status:"updated"}}await Nr(200);const t=this._get(Te.TIMESHEET_SHIFTS)||[],n=t.findIndex(i=>i.id===e.id);if(n===-1)return{status:"missing"};const r=[...t];return r[n]={...r[n],...e,updated_at:new Date().toISOString()},this._save(Te.TIMESHEET_SHIFTS,r),{status:"updated"}},async deleteTimesheetShift(e){if(Ye()){const{error:r}=await Re.from("timesheet_shifts").delete().eq("id",e.id);if(r)throw new Error(r.message);return{status:"deleted"}}await Nr(200);const n=(this._get(Te.TIMESHEET_SHIFTS)||[]).filter(r=>r.id!==e.id);return this._save(Te.TIMESHEET_SHIFTS,n),{status:"deleted"}},async seedDemoData(){const e=[{id:1,nom_exercice:"Squat",description:"Flexion des jambes",exercise_type:"strength"},{id:2,nom_exercice:"Dvelopp Couch",description:"Pousse horizontale",exercise_type:"strength"},{id:3,nom_exercice:"Tractions",description:"Tirage vertical",exercise_type:"strength"},{id:4,nom_exercice:"Rotations lastique",description:"Coiffe des rotateurs",exercise_type:"warmup"}];this._save(Te.EXERCISES,e);const t={id:101,title:"Full Body A",description:"Sance globale",cycle:"Endurance",items:[{exercise_id:4,exercise_name:"Rotations lastique",category:"warmup",order_index:0,sets:2,reps:15,rest_seconds:30,percent_1rm:0},{exercise_id:1,exercise_name:"Squat",category:"strength",order_index:1,sets:4,reps:10,rest_seconds:90,percent_1rm:70},{exercise_id:2,exercise_name:"Dvelopp Couch",category:"strength",order_index:2,sets:4,reps:10,rest_seconds:90,percent_1rm:70}]};this._save(Te.STRENGTH_SESSIONS,[t]);const n={id:201,name:"VMA 100",description:"Travail de vitesse",created_by:1,items:[{label:"chauffement 4N",distance:400,intensity:"Souple",notes:"Progressif"},{label:"Corps NL",distance:1e3,intensity:"Max",notes:"10x100 dpart 1:30"}]};this._save(Te.SWIM_SESSIONS,[n]);const r=new Date().toISOString().split("T")[0];return await this.assignments_create({session_id:101,assignment_type:"strength",target_athlete:"Camille",assigned_date:r}),{status:"seeded"}},async getProfile(e){if(!Ye())return null;let t=Re.from("user_profiles").select("*");e.userId?t=t.eq("user_id",e.userId):e.displayName&&(t=t.eq("display_name",e.displayName));const{data:n,error:r}=await t.maybeSingle();if(r)throw new Error(r.message);return n?{id:n.user_id??null,display_name:n.display_name??null,email:n.email??null,birthdate:n.birthdate??null,group_id:Ze(n.group_id)??null,group_label:n.group_label??null,objectives:n.objectives??null,bio:n.bio??null,avatar_url:n.avatar_url??null,ffn_iuf:n.ffn_iuf??null}:null},async updateProfile(e){if(!Ye())return{status:"skipped"};const t=e.userId;if(!t)return{status:"skipped"};const{error:n}=await Re.from("user_profiles").upsert({user_id:t,...e.profile},{onConflict:"user_id"});if(n)throw new Error(n.message);return{status:"updated"}},async getAthletes(){if(!Ye()){const o=new Map,l=(p,v)=>{const y=String(p??"").trim();if(!y)return;const x=v!=null?Ze(v):null,b=x!==null?`id:${x}`:`name:${y.toLowerCase()}`;o.has(b)||o.set(b,{id:x,display_name:y})};return(this._get(Te.SESSIONS)??[]).forEach(p=>l(p.athlete_name,p.athlete_id)),(this._get(Te.STRENGTH_RUNS)??[]).forEach(p=>l(p.athlete_name,p.athlete_id)),(this._get(Te.ASSIGNMENTS)??[]).forEach(p=>l(p.target_athlete,p.target_user_id)),Array.from(o.values()).sort((p,v)=>p.display_name.localeCompare(v.display_name,"fr"))}const{data:e,error:t}=await Re.from("groups").select("id, name");if(t)throw new Error(t.message);if(!e?.length){const{data:o,error:l}=await Re.from("users").select("id, display_name").eq("role","athlete").eq("is_active",!0);if(l)throw new Error(l.message);return(o??[]).map(d=>({id:d.id,display_name:d.display_name})).filter(d=>d.display_name).sort((d,f)=>d.display_name.localeCompare(f.display_name,"fr"))}const{data:n,error:r}=await Re.from("group_members").select("user_id, group_id, users!inner(display_name, role)").eq("users.role","athlete");if(r)throw new Error(r.message);const i=new Map(e.map(o=>[o.id,o.name])),a=new Map;return(n??[]).forEach(o=>{const l=o.user_id;a.has(l)||a.set(l,{id:l,display_name:o.users?.display_name??"",group_label:i.get(o.group_id)??null})}),Array.from(a.values()).filter(o=>o.display_name).sort((o,l)=>o.display_name.localeCompare(l.display_name,"fr"))},async getGroups(){if(!Ye())return[];const{data:e,error:t}=await Re.from("groups").select("id, name, description");if(t)throw new Error(t.message);return(e??[]).map(n=>({id:xr(n.id,0),name:String(n.name??`Groupe ${n.id??""}`).trim(),member_count:null})).filter(n=>n.id>0&&n.name)},async getUpcomingBirthdays(e){if(!Ye())return[];const t=e?.days??30,{data:n,error:r}=await Re.rpc("get_upcoming_birthdays",{p_days:t});if(r)throw new Error(r.message);return Array.isArray(n)?n:[]},async listUsers(e){if(!Ye())return[];let t=Re.from("users").select("id, display_name, role, email, is_active");e?.role&&(t=t.eq("role",e.role)),e?.includeInactive||(t=t.eq("is_active",!0));const{data:n,error:r}=await t.order("display_name");if(r)throw new Error(r.message);return(n??[]).map(i=>({id:i.id,display_name:i.display_name??"",role:i.role??"",email:i.email??null,is_active:i.is_active??null,group_label:null}))},async createCoach(e){if(!Ye())return{status:"skipped",user:null,initialPassword:null};const{data:t,error:n}=await Re.functions.invoke("admin-user",{body:{action:"create_coach",display_name:e.display_name,email:e.email,password:e.password}});if(n)throw new Error(n.message);return{status:"created",user:t?.user??null,initialPassword:t?.initial_password??null}},async updateUserRole(e){if(!Ye())return{status:"skipped"};const{error:t}=await Re.functions.invoke("admin-user",{body:{action:"update_role",user_id:e.userId,role:e.role}});if(t)throw new Error(t.message);return{status:"updated"}},async disableUser(e){if(!Ye())return{status:"skipped"};const{error:t}=await Re.functions.invoke("admin-user",{body:{action:"disable_user",user_id:e.userId}});if(t)throw new Error(t.message);return{status:"disabled"}},async authPasswordUpdate(e){if(!Ye())return{status:"skipped"};const{data:{user:t}}=await Re.auth.getUser();if(!e.userId||e.userId===t?.user_metadata?.app_user_id){const{error:r}=await Re.auth.updateUser({password:e.password});if(r)throw new Error(r.message);return{status:"updated"}}const{error:n}=await Re.functions.invoke("admin-user",{body:{action:"update_password",user_id:e.userId,password:e.password}});if(n)throw new Error(n.message);return{status:"updated"}},_get(e){const t=localStorage.getItem(e);return t?JSON.parse(t):null},_save(e,t){localStorage.setItem(e,JSON.stringify(t))},resetCache(){Object.values(Te).forEach(e=>localStorage.removeItem(e)),window.location.reload()}};function kse({children:e}){const[t]=ud(),{role:n,userId:r,user:i}=dn(),[a,o]=_.useState(!1),l=jse(n),{data:d}=Pt({queryKey:["notifications",r,i,"threads"],queryFn:()=>Me.notifications_list({targetUserId:r,targetAthleteName:i,limit:200,offset:0,type:"message",order:"desc"}),enabled:!!r}),f=d?.notifications?.filter(m=>!m.read).length??0;return _.useEffect(()=>{if(typeof document>"u")return;const m=()=>{o(document.body.dataset.focusMode==="strength")};m();const p=new MutationObserver(m);return p.observe(document.body,{attributes:!0,attributeFilter:["data-focus-mode"]}),()=>p.disconnect()},[]),c.jsxs("div",{className:"min-h-screen bg-background pb-20 supports-[padding:env(safe-area-inset-bottom)]:pb-[calc(5rem+env(safe-area-inset-bottom))] md:pb-0 md:pt-16",children:[c.jsxs("header",{className:"hidden md:flex fixed top-0 w-full h-16 border-b bg-card/95 backdrop-blur z-50 items-center px-8 justify-between shadow-sm",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("img",{src:pU,alt:"Logo EAC",className:"h-8 w-8 rounded-full border-2 border-black object-cover"}),c.jsxs("div",{className:"font-display font-bold text-2xl text-foreground italic tracking-tighter",children:["SUIVI",c.jsx("span",{className:"text-primary",children:"NATATION"})]})]}),c.jsx("nav",{className:"flex gap-6",children:l.map(m=>c.jsx(Sv,{href:m.href,children:c.jsxs("a",{className:Ae("flex items-center gap-2 text-sm font-bold uppercase transition-colors hover:text-primary",t===m.href?"text-primary border-b-2 border-primary":"text-muted-foreground"),children:[c.jsx(m.icon,{className:"h-4 w-4"}),m.label]})},m.href))})]}),c.jsx("main",{className:"container max-w-md mx-auto p-4 md:max-w-3xl lg:max-w-4xl animate-in fade-in duration-300",children:e}),c.jsx("nav",{className:Ae("md:hidden fixed bottom-0 left-0 right-0 bg-card/95 backdrop-blur-lg border-t border-border/50 z-50 shadow-[0_-4px_20px_-4px_rgba(0,0,0,0.1)]","supports-[padding:env(safe-area-inset-bottom)]:pb-[env(safe-area-inset-bottom)]",a&&"hidden"),children:c.jsx("div",{className:"flex items-stretch justify-evenly h-16 overflow-x-auto scrollbar-hide",children:l.map(m=>{const p=t===m.href;return c.jsx(Sv,{href:m.href,children:c.jsxs("a",{className:Ae("flex flex-col items-center justify-center gap-0.5 py-2 flex-1 min-w-0 max-w-[72px] transition-colors relative active:scale-95",p?"text-primary":"text-muted-foreground active:text-foreground"),children:[c.jsx("div",{className:Ae("flex items-center justify-center h-7 w-7 rounded-xl transition-colors",p&&"bg-primary/10"),children:c.jsx(m.icon,{className:Ae("h-5 w-5",p&&"text-primary")})}),m.label==="Messagerie"&&f>0&&c.jsx("span",{className:"absolute top-1.5 right-1/2 translate-x-4 h-2.5 w-2.5 rounded-full bg-primary ring-2 ring-card animate-pulse"}),c.jsx("span",{className:Ae("text-[10px] font-semibold tracking-tight truncate w-full text-center px-0.5",p?"text-primary":"text-muted-foreground"),children:m.label})]})},m.href)})})})]})}var Dse=Symbol.for("react.lazy"),$v=Cr[" use ".trim().toString()];function Ise(e){return typeof e=="object"&&e!==null&&"then"in e}function bU(e){return e!=null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===Dse&&"_payload"in e&&Ise(e._payload)}function u0(e){const t=Lse(e),n=_.forwardRef((r,i)=>{let{children:a,...o}=r;bU(a)&&typeof $v=="function"&&(a=$v(a._payload));const l=_.Children.toArray(a),d=l.find(qse);if(d){const f=d.props.children,m=l.map(p=>p===d?_.Children.count(f)>1?_.Children.only(null):_.isValidElement(f)?f.props.children:null:p);return c.jsx(t,{...o,ref:i,children:_.isValidElement(f)?_.cloneElement(f,void 0,m):null})}return c.jsx(t,{...o,ref:i,children:a})});return n.displayName=`${e}.Slot`,n}var $se=u0("Slot");function Lse(e){const t=_.forwardRef((n,r)=>{let{children:i,...a}=n;if(bU(i)&&typeof $v=="function"&&(i=$v(i._payload)),_.isValidElement(i)){const o=Fse(i),l=zse(a,i.props);return i.type!==_.Fragment&&(l.ref=r?So(r,o):o),_.cloneElement(i,l)}return _.Children.count(i)>1?_.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Bse=Symbol("radix.slottable");function qse(e){return _.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Bse}function zse(e,t){const n={...t};for(const r in t){const i=e[r],a=t[r];/^on[A-Z]/.test(r)?i&&a?n[r]=(...l)=>{const d=a(...l);return i(...l),d}:i&&(n[r]=i):r==="style"?n[r]={...i,...a}:r==="className"&&(n[r]=[i,a].filter(Boolean).join(" "))}return{...e,...n}}function Fse(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}const KA=fd("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover-elevate active-elevate-2",{variants:{variant:{default:"bg-primary text-primary-foreground border border-primary-border",destructive:"bg-destructive text-destructive-foreground shadow-sm border-destructive-border",outline:" border [border-color:var(--button-outline)] shadow-xs active:shadow-none ",secondary:"border bg-secondary text-secondary-foreground border border-secondary-border ",ghost:"border border-transparent",link:"text-primary underline-offset-4 hover:underline"},size:{default:"min-h-9 px-4 py-2",sm:"min-h-8 rounded-md px-3 text-xs",lg:"min-h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),Oe=_.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...i},a)=>{const o=r?$se:"button";return c.jsx(o,{className:Ae(KA({variant:t,size:n,className:e})),ref:a,...i})});Oe.displayName="Button";const et=_.forwardRef(({className:e,type:t,...n},r)=>c.jsx("input",{type:t,className:Ae("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...n}));et.displayName="Input";const ke=_.forwardRef(({className:e,...t},n)=>c.jsx("div",{ref:n,className:Ae("rounded-xl border bg-card text-card-foreground shadow",e),...t}));ke.displayName="Card";const it=_.forwardRef(({className:e,...t},n)=>c.jsx("div",{ref:n,className:Ae("flex flex-col space-y-1.5 p-6",e),...t}));it.displayName="CardHeader";const st=_.forwardRef(({className:e,...t},n)=>c.jsx("div",{ref:n,className:Ae("font-semibold leading-none tracking-tight",e),...t}));st.displayName="CardTitle";const Yt=_.forwardRef(({className:e,...t},n)=>c.jsx("div",{ref:n,className:Ae("text-sm text-muted-foreground",e),...t}));Yt.displayName="CardDescription";const Be=_.forwardRef(({className:e,...t},n)=>c.jsx("div",{ref:n,className:Ae("p-6 pt-0",e),...t}));Be.displayName="CardContent";const WA=_.forwardRef(({className:e,...t},n)=>c.jsx("div",{ref:n,className:Ae("flex items-center p-6 pt-0",e),...t}));WA.displayName="CardFooter";function ch(e,t,{checkForDefaultPrevented:n=!0}={}){return function(i){if(e?.(i),n===!1||!i.defaultPrevented)return t?.(i)}}var Use=Cr[" useInsertionEffect ".trim().toString()]||Ut;function Vse({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[i,a,o]=Hse({defaultProp:t,onChange:n}),l=e!==void 0,d=l?e:i;{const m=_.useRef(e!==void 0);_.useEffect(()=>{const p=m.current;p!==l&&console.warn(`${r} is changing from ${p?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),m.current=l},[l,r])}const f=_.useCallback(m=>{if(l){const p=Gse(m)?m(e):m;p!==e&&o.current?.(p)}else a(m)},[l,e,a,o]);return[d,f]}function Hse({defaultProp:e,onChange:t}){const[n,r]=_.useState(e),i=_.useRef(n),a=_.useRef(t);return Use(()=>{a.current=t},[t]),_.useEffect(()=>{i.current!==n&&(a.current?.(n),i.current=n)},[n,i]),[n,r,a]}function Gse(e){return typeof e=="function"}var Zw="focusScope.autoFocusOnMount",e_="focusScope.autoFocusOnUnmount",RD={bubbles:!1,cancelable:!0},Kse="FocusScope",d0=_.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:a,...o}=e,[l,d]=_.useState(null),f=Sr(i),m=Sr(a),p=_.useRef(null),v=At(t,b=>d(b)),y=_.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;_.useEffect(()=>{if(r){let b=function(j){if(y.paused||!l)return;const O=j.target;l.contains(O)?p.current=O:Js(p.current,{select:!0})},w=function(j){if(y.paused||!l)return;const O=j.relatedTarget;O!==null&&(l.contains(O)||Js(p.current,{select:!0}))},N=function(j){if(document.activeElement===document.body)for(const T of j)T.removedNodes.length>0&&Js(l)};document.addEventListener("focusin",b),document.addEventListener("focusout",w);const E=new MutationObserver(N);return l&&E.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",b),document.removeEventListener("focusout",w),E.disconnect()}}},[r,l,y.paused]),_.useEffect(()=>{if(l){MD.add(y);const b=document.activeElement;if(!l.contains(b)){const N=new CustomEvent(Zw,RD);l.addEventListener(Zw,f),l.dispatchEvent(N),N.defaultPrevented||(Wse(Zse(xU(l)),{select:!0}),document.activeElement===b&&Js(l))}return()=>{l.removeEventListener(Zw,f),setTimeout(()=>{const N=new CustomEvent(e_,RD);l.addEventListener(e_,m),l.dispatchEvent(N),N.defaultPrevented||Js(b??document.body,{select:!0}),l.removeEventListener(e_,m),MD.remove(y)},0)}}},[l,f,m,y]);const x=_.useCallback(b=>{if(!n&&!r||y.paused)return;const w=b.key==="Tab"&&!b.altKey&&!b.ctrlKey&&!b.metaKey,N=document.activeElement;if(w&&N){const E=b.currentTarget,[j,O]=Yse(E);j&&O?!b.shiftKey&&N===O?(b.preventDefault(),n&&Js(j,{select:!0})):b.shiftKey&&N===j&&(b.preventDefault(),n&&Js(O,{select:!0})):N===E&&b.preventDefault()}},[n,r,y.paused]);return c.jsx(bt.div,{tabIndex:-1,...o,ref:v,onKeyDown:x})});d0.displayName=Kse;function Wse(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(Js(r,{select:t}),document.activeElement!==n)return}function Yse(e){const t=xU(e),n=PD(t,e),r=PD(t.reverse(),e);return[n,r]}function xU(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function PD(e,t){for(const n of e)if(!Xse(n,{upTo:t}))return n}function Xse(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Qse(e){return e instanceof HTMLInputElement&&"select"in e}function Js(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&Qse(e)&&t&&e.select()}}var MD=Jse();function Jse(){let e=[];return{add(t){const n=e[0];t!==n&&n?.pause(),e=kD(e,t),e.unshift(t)},remove(t){e=kD(e,t),e[0]?.resume()}}}function kD(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function Zse(e){return e.filter(t=>t.tagName!=="A")}var t_=0;function YA(){_.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??DD()),document.body.insertAdjacentElement("beforeend",e[1]??DD()),t_++,()=>{t_===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),t_--}},[])}function DD(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var mv="right-scroll-bar-position",pv="width-before-scroll-bar",eoe="with-scroll-bars-hidden",toe="--removed-body-scroll-bar-size";function n_(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function noe(e,t){var n=_.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=t,n.facade}var roe=typeof window<"u"?_.useLayoutEffect:_.useEffect,ID=new WeakMap;function ioe(e,t){var n=noe(null,function(r){return e.forEach(function(i){return n_(i,r)})});return roe(function(){var r=ID.get(n);if(r){var i=new Set(r),a=new Set(e),o=n.current;i.forEach(function(l){a.has(l)||n_(l,null)}),a.forEach(function(l){i.has(l)||n_(l,o)})}ID.set(n,e)},[e]),n}function aoe(e){return e}function soe(e,t){t===void 0&&(t=aoe);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(a){var o=t(a,r);return n.push(o),function(){n=n.filter(function(l){return l!==o})}},assignSyncMedium:function(a){for(r=!0;n.length;){var o=n;n=[],o.forEach(a)}n={push:function(l){return a(l)},filter:function(){return n}}},assignMedium:function(a){r=!0;var o=[];if(n.length){var l=n;n=[],l.forEach(a),o=n}var d=function(){var m=o;o=[],m.forEach(a)},f=function(){return Promise.resolve().then(d)};f(),n={push:function(m){o.push(m),f()},filter:function(m){return o=o.filter(m),n}}}};return i}function ooe(e){e===void 0&&(e={});var t=soe(null);return t.options=va({async:!0,ssr:!1},e),t}var wU=function(e){var t=e.sideCar,n=yd(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return _.createElement(r,va({},n))};wU.isSideCarExport=!0;function loe(e,t){return e.useMedium(t),wU}var _U=ooe(),r_=function(){},f0=_.forwardRef(function(e,t){var n=_.useRef(null),r=_.useState({onScrollCapture:r_,onWheelCapture:r_,onTouchMoveCapture:r_}),i=r[0],a=r[1],o=e.forwardProps,l=e.children,d=e.className,f=e.removeScrollBar,m=e.enabled,p=e.shards,v=e.sideCar,y=e.noIsolation,x=e.inert,b=e.allowPinchZoom,w=e.as,N=w===void 0?"div":w,E=e.gapMode,j=yd(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),O=v,T=ioe([n,t]),C=va(va({},j),i);return _.createElement(_.Fragment,null,m&&_.createElement(O,{sideCar:_U,removeScrollBar:f,shards:p,noIsolation:y,inert:x,setCallbacks:a,allowPinchZoom:!!b,lockRef:n,gapMode:E}),o?_.cloneElement(_.Children.only(l),va(va({},C),{ref:T})):_.createElement(N,va({},C,{className:d,ref:T}),l))});f0.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};f0.classNames={fullWidth:pv,zeroRight:mv};var coe=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function uoe(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=coe();return t&&e.setAttribute("nonce",t),e}function doe(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function foe(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var hoe=function(){var e=0,t=null;return{add:function(n){e==0&&(t=uoe())&&(doe(t,n),foe(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},moe=function(){var e=hoe();return function(t,n){_.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},SU=function(){var e=moe(),t=function(n){var r=n.styles,i=n.dynamic;return e(r,i),null};return t},poe={left:0,top:0,right:0,gap:0},i_=function(e){return parseInt(e||"",10)||0},goe=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],i=t[e==="padding"?"paddingRight":"marginRight"];return[i_(n),i_(r),i_(i)]},voe=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return poe;var t=goe(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},yoe=SU(),xu="data-scroll-locked",boe=function(e,t,n,r){var i=e.left,a=e.top,o=e.right,l=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(eoe,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(xu,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(mv,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(pv,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(mv," .").concat(mv,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(pv," .").concat(pv,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(xu,`] {
    `).concat(toe,": ").concat(l,`px;
  }
`)},$D=function(){var e=parseInt(document.body.getAttribute(xu)||"0",10);return isFinite(e)?e:0},xoe=function(){_.useEffect(function(){return document.body.setAttribute(xu,($D()+1).toString()),function(){var e=$D()-1;e<=0?document.body.removeAttribute(xu):document.body.setAttribute(xu,e.toString())}},[])},woe=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,i=r===void 0?"margin":r;xoe();var a=_.useMemo(function(){return voe(i)},[i]);return _.createElement(yoe,{styles:boe(a,!t,i,n?"":"!important")})},gN=!1;if(typeof window<"u")try{var Dg=Object.defineProperty({},"passive",{get:function(){return gN=!0,!0}});window.addEventListener("test",Dg,Dg),window.removeEventListener("test",Dg,Dg)}catch{gN=!1}var Vc=gN?{passive:!1}:!1,_oe=function(e){return e.tagName==="TEXTAREA"},jU=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!_oe(e)&&n[t]==="visible")},Soe=function(e){return jU(e,"overflowY")},joe=function(e){return jU(e,"overflowX")},LD=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=NU(e,r);if(i){var a=EU(e,r),o=a[1],l=a[2];if(o>l)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},Noe=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},Eoe=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},NU=function(e,t){return e==="v"?Soe(t):joe(t)},EU=function(e,t){return e==="v"?Noe(t):Eoe(t)},Aoe=function(e,t){return e==="h"&&t==="rtl"?-1:1},Toe=function(e,t,n,r,i){var a=Aoe(e,window.getComputedStyle(t).direction),o=a*r,l=n.target,d=t.contains(l),f=!1,m=o>0,p=0,v=0;do{var y=EU(e,l),x=y[0],b=y[1],w=y[2],N=b-w-a*x;(x||N)&&NU(e,l)&&(p+=N,v+=x),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!d&&l!==document.body||d&&(t.contains(l)||t===l));return(m&&Math.abs(p)<1||!m&&Math.abs(v)<1)&&(f=!0),f},Ig=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},BD=function(e){return[e.deltaX,e.deltaY]},qD=function(e){return e&&"current"in e?e.current:e},Ooe=function(e,t){return e[0]===t[0]&&e[1]===t[1]},Coe=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},Roe=0,Hc=[];function Poe(e){var t=_.useRef([]),n=_.useRef([0,0]),r=_.useRef(),i=_.useState(Roe++)[0],a=_.useState(SU)[0],o=_.useRef(e);_.useEffect(function(){o.current=e},[e]),_.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var b=Wre([e.lockRef.current],(e.shards||[]).map(qD),!0).filter(Boolean);return b.forEach(function(w){return w.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),b.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var l=_.useCallback(function(b,w){if("touches"in b&&b.touches.length===2||b.type==="wheel"&&b.ctrlKey)return!o.current.allowPinchZoom;var N=Ig(b),E=n.current,j="deltaX"in b?b.deltaX:E[0]-N[0],O="deltaY"in b?b.deltaY:E[1]-N[1],T,C=b.target,R=Math.abs(j)>Math.abs(O)?"h":"v";if("touches"in b&&R==="h"&&C.type==="range")return!1;var P=LD(R,C);if(!P)return!0;if(P?T=R:(T=R==="v"?"h":"v",P=LD(R,C)),!P)return!1;if(!r.current&&"changedTouches"in b&&(j||O)&&(r.current=T),!T)return!0;var k=r.current||T;return Toe(k,w,b,k==="h"?j:O)},[]),d=_.useCallback(function(b){var w=b;if(!(!Hc.length||Hc[Hc.length-1]!==a)){var N="deltaY"in w?BD(w):Ig(w),E=t.current.filter(function(T){return T.name===w.type&&(T.target===w.target||w.target===T.shadowParent)&&Ooe(T.delta,N)})[0];if(E&&E.should){w.cancelable&&w.preventDefault();return}if(!E){var j=(o.current.shards||[]).map(qD).filter(Boolean).filter(function(T){return T.contains(w.target)}),O=j.length>0?l(w,j[0]):!o.current.noIsolation;O&&w.cancelable&&w.preventDefault()}}},[]),f=_.useCallback(function(b,w,N,E){var j={name:b,delta:w,target:N,should:E,shadowParent:Moe(N)};t.current.push(j),setTimeout(function(){t.current=t.current.filter(function(O){return O!==j})},1)},[]),m=_.useCallback(function(b){n.current=Ig(b),r.current=void 0},[]),p=_.useCallback(function(b){f(b.type,BD(b),b.target,l(b,e.lockRef.current))},[]),v=_.useCallback(function(b){f(b.type,Ig(b),b.target,l(b,e.lockRef.current))},[]);_.useEffect(function(){return Hc.push(a),e.setCallbacks({onScrollCapture:p,onWheelCapture:p,onTouchMoveCapture:v}),document.addEventListener("wheel",d,Vc),document.addEventListener("touchmove",d,Vc),document.addEventListener("touchstart",m,Vc),function(){Hc=Hc.filter(function(b){return b!==a}),document.removeEventListener("wheel",d,Vc),document.removeEventListener("touchmove",d,Vc),document.removeEventListener("touchstart",m,Vc)}},[]);var y=e.removeScrollBar,x=e.inert;return _.createElement(_.Fragment,null,x?_.createElement(a,{styles:Coe(i)}):null,y?_.createElement(woe,{gapMode:e.gapMode}):null)}function Moe(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const koe=loe(_U,Poe);var h0=_.forwardRef(function(e,t){return _.createElement(f0,va({},e,{ref:t,sideCar:koe}))});h0.classNames=f0.classNames;var Doe=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Gc=new WeakMap,$g=new WeakMap,Lg={},a_=0,AU=function(e){return e&&(e.host||AU(e.parentNode))},Ioe=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=AU(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},$oe=function(e,t,n,r){var i=Ioe(t,Array.isArray(e)?e:[e]);Lg[n]||(Lg[n]=new WeakMap);var a=Lg[n],o=[],l=new Set,d=new Set(i),f=function(p){!p||l.has(p)||(l.add(p),f(p.parentNode))};i.forEach(f);var m=function(p){!p||d.has(p)||Array.prototype.forEach.call(p.children,function(v){if(l.has(v))m(v);else try{var y=v.getAttribute(r),x=y!==null&&y!=="false",b=(Gc.get(v)||0)+1,w=(a.get(v)||0)+1;Gc.set(v,b),a.set(v,w),o.push(v),b===1&&x&&$g.set(v,!0),w===1&&v.setAttribute(n,"true"),x||v.setAttribute(r,"true")}catch(N){console.error("aria-hidden: cannot operate on ",v,N)}})};return m(t),l.clear(),a_++,function(){o.forEach(function(p){var v=Gc.get(p)-1,y=a.get(p)-1;Gc.set(p,v),a.set(p,y),v||($g.has(p)||p.removeAttribute(r),$g.delete(p)),y||p.removeAttribute(n)}),a_--,a_||(Gc=new WeakMap,Gc=new WeakMap,$g=new WeakMap,Lg={})}},XA=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),i=Doe(e);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),$oe(r,i,n,"aria-hidden")):function(){return null}};function Loe(e){const t=Boe(e),n=_.forwardRef((r,i)=>{const{children:a,...o}=r,l=_.Children.toArray(a),d=l.find(zoe);if(d){const f=d.props.children,m=l.map(p=>p===d?_.Children.count(f)>1?_.Children.only(null):_.isValidElement(f)?f.props.children:null:p);return c.jsx(t,{...o,ref:i,children:_.isValidElement(f)?_.cloneElement(f,void 0,m):null})}return c.jsx(t,{...o,ref:i,children:a})});return n.displayName=`${e}.Slot`,n}function Boe(e){const t=_.forwardRef((n,r)=>{const{children:i,...a}=n;if(_.isValidElement(i)){const o=Uoe(i),l=Foe(a,i.props);return i.type!==_.Fragment&&(l.ref=r?So(r,o):o),_.cloneElement(i,l)}return _.Children.count(i)>1?_.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var qoe=Symbol("radix.slottable");function zoe(e){return _.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===qoe}function Foe(e,t){const n={...t};for(const r in t){const i=e[r],a=t[r];/^on[A-Z]/.test(r)?i&&a?n[r]=(...l)=>{const d=a(...l);return i(...l),d}:i&&(n[r]=i):r==="style"?n[r]={...i,...a}:r==="className"&&(n[r]=[i,a].filter(Boolean).join(" "))}return{...e,...n}}function Uoe(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var m0="Dialog",[TU,OU]=Rr(m0),[Voe,da]=TU(m0),CU=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:i,onOpenChange:a,modal:o=!0}=e,l=_.useRef(null),d=_.useRef(null),[f,m]=Vse({prop:r,defaultProp:i??!1,onChange:a,caller:m0});return c.jsx(Voe,{scope:t,triggerRef:l,contentRef:d,contentId:cs(),titleId:cs(),descriptionId:cs(),open:f,onOpenChange:m,onOpenToggle:_.useCallback(()=>m(p=>!p),[m]),modal:o,children:n})};CU.displayName=m0;var RU="DialogTrigger",PU=_.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=da(RU,n),a=At(t,i.triggerRef);return c.jsx(bt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":ZA(i.open),...r,ref:a,onClick:ch(e.onClick,i.onOpenToggle)})});PU.displayName=RU;var QA="DialogPortal",[Hoe,MU]=TU(QA,{forceMount:void 0}),kU=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:i}=e,a=da(QA,t);return c.jsx(Hoe,{scope:t,forceMount:n,children:_.Children.map(r,o=>c.jsx(ua,{present:n||a.open,children:c.jsx(qm,{asChild:!0,container:i,children:o})}))})};kU.displayName=QA;var Lv="DialogOverlay",DU=_.forwardRef((e,t)=>{const n=MU(Lv,e.__scopeDialog),{forceMount:r=n.forceMount,...i}=e,a=da(Lv,e.__scopeDialog);return a.modal?c.jsx(ua,{present:r||a.open,children:c.jsx(Koe,{...i,ref:t})}):null});DU.displayName=Lv;var Goe=Loe("DialogOverlay.RemoveScroll"),Koe=_.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=da(Lv,n);return c.jsx(h0,{as:Goe,allowPinchZoom:!0,shards:[i.contentRef],children:c.jsx(bt.div,{"data-state":ZA(i.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),Ml="DialogContent",IU=_.forwardRef((e,t)=>{const n=MU(Ml,e.__scopeDialog),{forceMount:r=n.forceMount,...i}=e,a=da(Ml,e.__scopeDialog);return c.jsx(ua,{present:r||a.open,children:a.modal?c.jsx(Woe,{...i,ref:t}):c.jsx(Yoe,{...i,ref:t})})});IU.displayName=Ml;var Woe=_.forwardRef((e,t)=>{const n=da(Ml,e.__scopeDialog),r=_.useRef(null),i=At(t,n.contentRef,r);return _.useEffect(()=>{const a=r.current;if(a)return XA(a)},[]),c.jsx($U,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ch(e.onCloseAutoFocus,a=>{a.preventDefault(),n.triggerRef.current?.focus()}),onPointerDownOutside:ch(e.onPointerDownOutside,a=>{const o=a.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&a.preventDefault()}),onFocusOutside:ch(e.onFocusOutside,a=>a.preventDefault())})}),Yoe=_.forwardRef((e,t)=>{const n=da(Ml,e.__scopeDialog),r=_.useRef(!1),i=_.useRef(!1);return c.jsx($U,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{e.onCloseAutoFocus?.(a),a.defaultPrevented||(r.current||n.triggerRef.current?.focus(),a.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:a=>{e.onInteractOutside?.(a),a.defaultPrevented||(r.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=a.target;n.triggerRef.current?.contains(o)&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),$U=_.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:a,...o}=e,l=da(Ml,n),d=_.useRef(null),f=At(t,d);return YA(),c.jsxs(c.Fragment,{children:[c.jsx(d0,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:a,children:c.jsx(Lm,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":ZA(l.open),...o,ref:f,onDismiss:()=>l.onOpenChange(!1)})}),c.jsxs(c.Fragment,{children:[c.jsx(Qoe,{titleId:l.titleId}),c.jsx(Zoe,{contentRef:d,descriptionId:l.descriptionId})]})]})}),JA="DialogTitle",LU=_.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=da(JA,n);return c.jsx(bt.h2,{id:i.titleId,...r,ref:t})});LU.displayName=JA;var BU="DialogDescription",qU=_.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=da(BU,n);return c.jsx(bt.p,{id:i.descriptionId,...r,ref:t})});qU.displayName=BU;var zU="DialogClose",FU=_.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=da(zU,n);return c.jsx(bt.button,{type:"button",...r,ref:t,onClick:ch(e.onClick,()=>i.onOpenChange(!1))})});FU.displayName=zU;function ZA(e){return e?"open":"closed"}var UU="DialogTitleWarning",[Xoe,VU]=AJ(UU,{contentName:Ml,titleName:JA,docsSlug:"dialog"}),Qoe=({titleId:e})=>{const t=VU(UU),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return _.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},Joe="DialogDescriptionWarning",Zoe=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${VU(Joe).contentName}}.`;return _.useEffect(()=>{const i=e.current?.getAttribute("aria-describedby");t&&i&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},p0=CU,HU=PU,g0=kU,xd=DU,wd=IU,_d=LU,Sd=qU,v0=FU;const wu=p0,ele=g0,GU=_.forwardRef(({className:e,...t},n)=>c.jsx(xd,{ref:n,className:Ae("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));GU.displayName=xd.displayName;const jl=_.forwardRef(({className:e,children:t,...n},r)=>c.jsxs(ele,{children:[c.jsx(GU,{}),c.jsxs(wd,{ref:r,className:Ae("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 max-h-[85vh] overflow-y-auto data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,c.jsxs(v0,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[c.jsx(Ii,{className:"h-4 w-4"}),c.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));jl.displayName=wd.displayName;const uh=({className:e,...t})=>c.jsx("div",{className:Ae("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});uh.displayName="DialogHeader";const dh=_.forwardRef(({className:e,...t},n)=>c.jsx(_d,{ref:n,className:Ae("text-lg font-semibold leading-none tracking-tight",e),...t}));dh.displayName=_d.displayName;const KU=_.forwardRef(({className:e,...t},n)=>c.jsx(Sd,{ref:n,className:Ae("text-sm text-muted-foreground",e),...t}));KU.displayName=Sd.displayName;var tle=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],nle=tle.reduce((e,t)=>{const n=u0(`Primitive.${t}`),r=_.forwardRef((i,a)=>{const{asChild:o,...l}=i,d=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),c.jsx(d,{...l,ref:a})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{}),rle="Label",WU=_.forwardRef((e,t)=>c.jsx(nle.label,{...e,ref:t,onMouseDown:n=>{n.target.closest("button, input, select, textarea")||(e.onMouseDown?.(n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));WU.displayName=rle;var YU=WU;const ile=fd("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Le=_.forwardRef(({className:e,...t},n)=>c.jsx(YU,{ref:n,className:Ae(ile(),e),...t}));Le.displayName=YU.displayName;function zD(e,[t,n]){return Math.min(n,Math.max(t,e))}function wr(e,t,{checkForDefaultPrevented:n=!0}={}){return function(i){if(e?.(i),n===!1||!i.defaultPrevented)return t?.(i)}}function FD(e){const t=ale(e),n=_.forwardRef((r,i)=>{const{children:a,...o}=r,l=_.Children.toArray(a),d=l.find(ole);if(d){const f=d.props.children,m=l.map(p=>p===d?_.Children.count(f)>1?_.Children.only(null):_.isValidElement(f)?f.props.children:null:p);return c.jsx(t,{...o,ref:i,children:_.isValidElement(f)?_.cloneElement(f,void 0,m):null})}return c.jsx(t,{...o,ref:i,children:a})});return n.displayName=`${e}.Slot`,n}function ale(e){const t=_.forwardRef((n,r)=>{const{children:i,...a}=n;if(_.isValidElement(i)){const o=cle(i),l=lle(a,i.props);return i.type!==_.Fragment&&(l.ref=r?So(r,o):o),_.cloneElement(i,l)}return _.Children.count(i)>1?_.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var sle=Symbol("radix.slottable");function ole(e){return _.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===sle}function lle(e,t){const n={...t};for(const r in t){const i=e[r],a=t[r];/^on[A-Z]/.test(r)?i&&a?n[r]=(...l)=>{const d=a(...l);return i(...l),d}:i&&(n[r]=i):r==="style"?n[r]={...i,...a}:r==="className"&&(n[r]=[i,a].filter(Boolean).join(" "))}return{...e,...n}}function cle(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function XU(e){const t=e+"CollectionProvider",[n,r]=Rr(t),[i,a]=n(t,{collectionRef:{current:null},itemMap:new Map}),o=b=>{const{scope:w,children:N}=b,E=q.useRef(null),j=q.useRef(new Map).current;return c.jsx(i,{scope:w,itemMap:j,collectionRef:E,children:N})};o.displayName=t;const l=e+"CollectionSlot",d=FD(l),f=q.forwardRef((b,w)=>{const{scope:N,children:E}=b,j=a(l,N),O=At(w,j.collectionRef);return c.jsx(d,{ref:O,children:E})});f.displayName=l;const m=e+"CollectionItemSlot",p="data-radix-collection-item",v=FD(m),y=q.forwardRef((b,w)=>{const{scope:N,children:E,...j}=b,O=q.useRef(null),T=At(w,O),C=a(m,N);return q.useEffect(()=>(C.itemMap.set(O,{ref:O,...j}),()=>void C.itemMap.delete(O))),c.jsx(v,{[p]:"",ref:T,children:E})});y.displayName=m;function x(b){const w=a(e+"CollectionConsumer",b);return q.useCallback(()=>{const E=w.collectionRef.current;if(!E)return[];const j=Array.from(E.querySelectorAll(`[${p}]`));return Array.from(w.itemMap.values()).sort((C,R)=>j.indexOf(C.ref.current)-j.indexOf(R.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:o,Slot:f,ItemSlot:y},x,r]}var ule=_.createContext(void 0);function Um(e){const t=_.useContext(ule);return e||t||"ltr"}function dle(e){const t=fle(e),n=_.forwardRef((r,i)=>{const{children:a,...o}=r,l=_.Children.toArray(a),d=l.find(mle);if(d){const f=d.props.children,m=l.map(p=>p===d?_.Children.count(f)>1?_.Children.only(null):_.isValidElement(f)?f.props.children:null:p);return c.jsx(t,{...o,ref:i,children:_.isValidElement(f)?_.cloneElement(f,void 0,m):null})}return c.jsx(t,{...o,ref:i,children:a})});return n.displayName=`${e}.Slot`,n}function fle(e){const t=_.forwardRef((n,r)=>{const{children:i,...a}=n;if(_.isValidElement(i)){const o=gle(i),l=ple(a,i.props);return i.type!==_.Fragment&&(l.ref=r?So(r,o):o),_.cloneElement(i,l)}return _.Children.count(i)>1?_.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var hle=Symbol("radix.slottable");function mle(e){return _.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===hle}function ple(e,t){const n={...t};for(const r in t){const i=e[r],a=t[r];/^on[A-Z]/.test(r)?i&&a?n[r]=(...l)=>{const d=a(...l);return i(...l),d}:i&&(n[r]=i):r==="style"?n[r]={...i,...a}:r==="className"&&(n[r]=[i,a].filter(Boolean).join(" "))}return{...e,...n}}function gle(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var vle=Cr[" useInsertionEffect ".trim().toString()]||Ut;function UD({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[i,a,o]=yle({defaultProp:t,onChange:n}),l=e!==void 0,d=l?e:i;{const m=_.useRef(e!==void 0);_.useEffect(()=>{const p=m.current;p!==l&&console.warn(`${r} is changing from ${p?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),m.current=l},[l,r])}const f=_.useCallback(m=>{if(l){const p=ble(m)?m(e):m;p!==e&&o.current?.(p)}else a(m)},[l,e,a,o]);return[d,f]}function yle({defaultProp:e,onChange:t}){const[n,r]=_.useState(e),i=_.useRef(n),a=_.useRef(t);return vle(()=>{a.current=t},[t]),_.useEffect(()=>{i.current!==n&&(a.current?.(n),i.current=n)},[n,i]),[n,r,a]}function ble(e){return typeof e=="function"}function y0(e){const t=_.useRef({value:e,previous:e});return _.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var xle=[" ","Enter","ArrowUp","ArrowDown"],wle=[" ","Enter"],kl="Select",[b0,x0,_le]=XU(kl),[jd]=Rr(kl,[_le,vd]),w0=vd(),[Sle,jo]=jd(kl),[jle,Nle]=jd(kl),QU=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:i,onOpenChange:a,value:o,defaultValue:l,onValueChange:d,dir:f,name:m,autoComplete:p,disabled:v,required:y,form:x}=e,b=w0(t),[w,N]=_.useState(null),[E,j]=_.useState(null),[O,T]=_.useState(!1),C=Um(f),[R,P]=UD({prop:r,defaultProp:i??!1,onChange:a,caller:kl}),[k,$]=UD({prop:o,defaultProp:l,onChange:d,caller:kl}),B=_.useRef(null),I=w?x||!!w.closest("form"):!0,[F,V]=_.useState(new Set),U=Array.from(F).map(D=>D.props.value).join(";");return c.jsx(LF,{...b,children:c.jsxs(Sle,{required:y,scope:t,trigger:w,onTriggerChange:N,valueNode:E,onValueNodeChange:j,valueNodeHasChildren:O,onValueNodeHasChildrenChange:T,contentId:cs(),value:k,onValueChange:$,open:R,onOpenChange:P,dir:C,triggerPointerDownPosRef:B,disabled:v,children:[c.jsx(b0.Provider,{scope:t,children:c.jsx(jle,{scope:e.__scopeSelect,onNativeOptionAdd:_.useCallback(D=>{V(G=>new Set(G).add(D))},[]),onNativeOptionRemove:_.useCallback(D=>{V(G=>{const z=new Set(G);return z.delete(D),z})},[]),children:n})}),I?c.jsxs(w8,{"aria-hidden":!0,required:y,tabIndex:-1,name:m,autoComplete:p,value:k,onChange:D=>$(D.target.value),disabled:v,form:x,children:[k===void 0?c.jsx("option",{value:""}):null,Array.from(F)]},U):null]})})};QU.displayName=kl;var JU="SelectTrigger",ZU=_.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...i}=e,a=w0(n),o=jo(JU,n),l=o.disabled||r,d=At(t,o.onTriggerChange),f=x0(n),m=_.useRef("touch"),[p,v,y]=S8(b=>{const w=f().filter(j=>!j.disabled),N=w.find(j=>j.value===o.value),E=j8(w,b,N);E!==void 0&&o.onValueChange(E.value)}),x=b=>{l||(o.onOpenChange(!0),y()),b&&(o.triggerPointerDownPosRef.current={x:Math.round(b.pageX),y:Math.round(b.pageY)})};return c.jsx(a0,{asChild:!0,...a,children:c.jsx(bt.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":_8(o.value)?"":void 0,...i,ref:d,onClick:wr(i.onClick,b=>{b.currentTarget.focus(),m.current!=="mouse"&&x(b)}),onPointerDown:wr(i.onPointerDown,b=>{m.current=b.pointerType;const w=b.target;w.hasPointerCapture(b.pointerId)&&w.releasePointerCapture(b.pointerId),b.button===0&&b.ctrlKey===!1&&b.pointerType==="mouse"&&(x(b),b.preventDefault())}),onKeyDown:wr(i.onKeyDown,b=>{const w=p.current!=="";!(b.ctrlKey||b.altKey||b.metaKey)&&b.key.length===1&&v(b.key),!(w&&b.key===" ")&&xle.includes(b.key)&&(x(),b.preventDefault())})})})});ZU.displayName=JU;var e8="SelectValue",t8=_.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:i,children:a,placeholder:o="",...l}=e,d=jo(e8,n),{onValueNodeHasChildrenChange:f}=d,m=a!==void 0,p=At(t,d.onValueNodeChange);return Ut(()=>{f(m)},[f,m]),c.jsx(bt.span,{...l,ref:p,style:{pointerEvents:"none"},children:_8(d.value)?c.jsx(c.Fragment,{children:o}):a})});t8.displayName=e8;var Ele="SelectIcon",n8=_.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...i}=e;return c.jsx(bt.span,{"aria-hidden":!0,...i,ref:t,children:r||""})});n8.displayName=Ele;var Ale="SelectPortal",r8=e=>c.jsx(qm,{asChild:!0,...e});r8.displayName=Ale;var Dl="SelectContent",i8=_.forwardRef((e,t)=>{const n=jo(Dl,e.__scopeSelect),[r,i]=_.useState();if(Ut(()=>{i(new DocumentFragment)},[]),!n.open){const a=r;return a?Ul.createPortal(c.jsx(a8,{scope:e.__scopeSelect,children:c.jsx(b0.Slot,{scope:e.__scopeSelect,children:c.jsx("div",{children:e.children})})}),a):null}return c.jsx(s8,{...e,ref:t})});i8.displayName=Dl;var Wi=10,[a8,No]=jd(Dl),Tle="SelectContentImpl",Ole=dle("SelectContent.RemoveScroll"),s8=_.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:a,onPointerDownOutside:o,side:l,sideOffset:d,align:f,alignOffset:m,arrowPadding:p,collisionBoundary:v,collisionPadding:y,sticky:x,hideWhenDetached:b,avoidCollisions:w,...N}=e,E=jo(Dl,n),[j,O]=_.useState(null),[T,C]=_.useState(null),R=At(t,J=>O(J)),[P,k]=_.useState(null),[$,B]=_.useState(null),I=x0(n),[F,V]=_.useState(!1),U=_.useRef(!1);_.useEffect(()=>{if(j)return XA(j)},[j]),YA();const D=_.useCallback(J=>{const[me,...oe]=I().map(ee=>ee.ref.current),[pe]=oe.slice(-1),we=document.activeElement;for(const ee of J)if(ee===we||(ee?.scrollIntoView({block:"nearest"}),ee===me&&T&&(T.scrollTop=0),ee===pe&&T&&(T.scrollTop=T.scrollHeight),ee?.focus(),document.activeElement!==we))return},[I,T]),G=_.useCallback(()=>D([P,j]),[D,P,j]);_.useEffect(()=>{F&&G()},[F,G]);const{onOpenChange:z,triggerPointerDownPosRef:Y}=E;_.useEffect(()=>{if(j){let J={x:0,y:0};const me=pe=>{J={x:Math.abs(Math.round(pe.pageX)-(Y.current?.x??0)),y:Math.abs(Math.round(pe.pageY)-(Y.current?.y??0))}},oe=pe=>{J.x<=10&&J.y<=10?pe.preventDefault():j.contains(pe.target)||z(!1),document.removeEventListener("pointermove",me),Y.current=null};return Y.current!==null&&(document.addEventListener("pointermove",me),document.addEventListener("pointerup",oe,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",me),document.removeEventListener("pointerup",oe,{capture:!0})}}},[j,z,Y]),_.useEffect(()=>{const J=()=>z(!1);return window.addEventListener("blur",J),window.addEventListener("resize",J),()=>{window.removeEventListener("blur",J),window.removeEventListener("resize",J)}},[z]);const[de,H]=S8(J=>{const me=I().filter(we=>!we.disabled),oe=me.find(we=>we.ref.current===document.activeElement),pe=j8(me,J,oe);pe&&setTimeout(()=>pe.ref.current.focus())}),K=_.useCallback((J,me,oe)=>{const pe=!U.current&&!oe;(E.value!==void 0&&E.value===me||pe)&&(k(J),pe&&(U.current=!0))},[E.value]),Z=_.useCallback(()=>j?.focus(),[j]),le=_.useCallback((J,me,oe)=>{const pe=!U.current&&!oe;(E.value!==void 0&&E.value===me||pe)&&B(J)},[E.value]),be=r==="popper"?vN:o8,ae=be===vN?{side:l,sideOffset:d,align:f,alignOffset:m,arrowPadding:p,collisionBoundary:v,collisionPadding:y,sticky:x,hideWhenDetached:b,avoidCollisions:w}:{};return c.jsx(a8,{scope:n,content:j,viewport:T,onViewportChange:C,itemRefCallback:K,selectedItem:P,onItemLeave:Z,itemTextRefCallback:le,focusSelectedItem:G,selectedItemText:$,position:r,isPositioned:F,searchRef:de,children:c.jsx(h0,{as:Ole,allowPinchZoom:!0,children:c.jsx(d0,{asChild:!0,trapped:E.open,onMountAutoFocus:J=>{J.preventDefault()},onUnmountAutoFocus:wr(i,J=>{E.trigger?.focus({preventScroll:!0}),J.preventDefault()}),children:c.jsx(Lm,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:J=>J.preventDefault(),onDismiss:()=>E.onOpenChange(!1),children:c.jsx(be,{role:"listbox",id:E.contentId,"data-state":E.open?"open":"closed",dir:E.dir,onContextMenu:J=>J.preventDefault(),...N,...ae,onPlaced:()=>V(!0),ref:R,style:{display:"flex",flexDirection:"column",outline:"none",...N.style},onKeyDown:wr(N.onKeyDown,J=>{const me=J.ctrlKey||J.altKey||J.metaKey;if(J.key==="Tab"&&J.preventDefault(),!me&&J.key.length===1&&H(J.key),["ArrowUp","ArrowDown","Home","End"].includes(J.key)){let pe=I().filter(we=>!we.disabled).map(we=>we.ref.current);if(["ArrowUp","End"].includes(J.key)&&(pe=pe.slice().reverse()),["ArrowUp","ArrowDown"].includes(J.key)){const we=J.target,ee=pe.indexOf(we);pe=pe.slice(ee+1)}setTimeout(()=>D(pe)),J.preventDefault()}})})})})})})});s8.displayName=Tle;var Cle="SelectItemAlignedPosition",o8=_.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...i}=e,a=jo(Dl,n),o=No(Dl,n),[l,d]=_.useState(null),[f,m]=_.useState(null),p=At(t,R=>m(R)),v=x0(n),y=_.useRef(!1),x=_.useRef(!0),{viewport:b,selectedItem:w,selectedItemText:N,focusSelectedItem:E}=o,j=_.useCallback(()=>{if(a.trigger&&a.valueNode&&l&&f&&b&&w&&N){const R=a.trigger.getBoundingClientRect(),P=f.getBoundingClientRect(),k=a.valueNode.getBoundingClientRect(),$=N.getBoundingClientRect();if(a.dir!=="rtl"){const we=$.left-P.left,ee=k.left-we,qe=R.left-ee,ve=R.width+qe,Ge=Math.max(ve,P.width),ne=window.innerWidth-Wi,ie=zD(ee,[Wi,Math.max(Wi,ne-Ge)]);l.style.minWidth=ve+"px",l.style.left=ie+"px"}else{const we=P.right-$.right,ee=window.innerWidth-k.right-we,qe=window.innerWidth-R.right-ee,ve=R.width+qe,Ge=Math.max(ve,P.width),ne=window.innerWidth-Wi,ie=zD(ee,[Wi,Math.max(Wi,ne-Ge)]);l.style.minWidth=ve+"px",l.style.right=ie+"px"}const B=v(),I=window.innerHeight-Wi*2,F=b.scrollHeight,V=window.getComputedStyle(f),U=parseInt(V.borderTopWidth,10),D=parseInt(V.paddingTop,10),G=parseInt(V.borderBottomWidth,10),z=parseInt(V.paddingBottom,10),Y=U+D+F+z+G,de=Math.min(w.offsetHeight*5,Y),H=window.getComputedStyle(b),K=parseInt(H.paddingTop,10),Z=parseInt(H.paddingBottom,10),le=R.top+R.height/2-Wi,be=I-le,ae=w.offsetHeight/2,J=w.offsetTop+ae,me=U+D+J,oe=Y-me;if(me<=le){const we=B.length>0&&w===B[B.length-1].ref.current;l.style.bottom="0px";const ee=f.clientHeight-b.offsetTop-b.offsetHeight,qe=Math.max(be,ae+(we?Z:0)+ee+G),ve=me+qe;l.style.height=ve+"px"}else{const we=B.length>0&&w===B[0].ref.current;l.style.top="0px";const qe=Math.max(le,U+b.offsetTop+(we?K:0)+ae)+oe;l.style.height=qe+"px",b.scrollTop=me-le+b.offsetTop}l.style.margin=`${Wi}px 0`,l.style.minHeight=de+"px",l.style.maxHeight=I+"px",r?.(),requestAnimationFrame(()=>y.current=!0)}},[v,a.trigger,a.valueNode,l,f,b,w,N,a.dir,r]);Ut(()=>j(),[j]);const[O,T]=_.useState();Ut(()=>{f&&T(window.getComputedStyle(f).zIndex)},[f]);const C=_.useCallback(R=>{R&&x.current===!0&&(j(),E?.(),x.current=!1)},[j,E]);return c.jsx(Ple,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:y,onScrollButtonChange:C,children:c.jsx("div",{ref:d,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:O},children:c.jsx(bt.div,{...i,ref:p,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});o8.displayName=Cle;var Rle="SelectPopperPosition",vN=_.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=Wi,...a}=e,o=w0(n);return c.jsx(zA,{...o,...a,ref:t,align:r,collisionPadding:i,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});vN.displayName=Rle;var[Ple,eT]=jd(Dl,{}),yN="SelectViewport",l8=_.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...i}=e,a=No(yN,n),o=eT(yN,n),l=At(t,a.onViewportChange),d=_.useRef(0);return c.jsxs(c.Fragment,{children:[c.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),c.jsx(b0.Slot,{scope:n,children:c.jsx(bt.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:wr(i.onScroll,f=>{const m=f.currentTarget,{contentWrapper:p,shouldExpandOnScrollRef:v}=o;if(v?.current&&p){const y=Math.abs(d.current-m.scrollTop);if(y>0){const x=window.innerHeight-Wi*2,b=parseFloat(p.style.minHeight),w=parseFloat(p.style.height),N=Math.max(b,w);if(N<x){const E=N+y,j=Math.min(x,E),O=E-j;p.style.height=j+"px",p.style.bottom==="0px"&&(m.scrollTop=O>0?O:0,p.style.justifyContent="flex-end")}}}d.current=m.scrollTop})})})]})});l8.displayName=yN;var c8="SelectGroup",[Mle,kle]=jd(c8),Dle=_.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=cs();return c.jsx(Mle,{scope:n,id:i,children:c.jsx(bt.div,{role:"group","aria-labelledby":i,...r,ref:t})})});Dle.displayName=c8;var u8="SelectLabel",d8=_.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=kle(u8,n);return c.jsx(bt.div,{id:i.id,...r,ref:t})});d8.displayName=u8;var Bv="SelectItem",[Ile,f8]=jd(Bv),h8=_.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:a,...o}=e,l=jo(Bv,n),d=No(Bv,n),f=l.value===r,[m,p]=_.useState(a??""),[v,y]=_.useState(!1),x=At(t,E=>d.itemRefCallback?.(E,r,i)),b=cs(),w=_.useRef("touch"),N=()=>{i||(l.onValueChange(r),l.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return c.jsx(Ile,{scope:n,value:r,disabled:i,textId:b,isSelected:f,onItemTextChange:_.useCallback(E=>{p(j=>j||(E?.textContent??"").trim())},[]),children:c.jsx(b0.ItemSlot,{scope:n,value:r,disabled:i,textValue:m,children:c.jsx(bt.div,{role:"option","aria-labelledby":b,"data-highlighted":v?"":void 0,"aria-selected":f&&v,"data-state":f?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...o,ref:x,onFocus:wr(o.onFocus,()=>y(!0)),onBlur:wr(o.onBlur,()=>y(!1)),onClick:wr(o.onClick,()=>{w.current!=="mouse"&&N()}),onPointerUp:wr(o.onPointerUp,()=>{w.current==="mouse"&&N()}),onPointerDown:wr(o.onPointerDown,E=>{w.current=E.pointerType}),onPointerMove:wr(o.onPointerMove,E=>{w.current=E.pointerType,i?d.onItemLeave?.():w.current==="mouse"&&E.currentTarget.focus({preventScroll:!0})}),onPointerLeave:wr(o.onPointerLeave,E=>{E.currentTarget===document.activeElement&&d.onItemLeave?.()}),onKeyDown:wr(o.onKeyDown,E=>{d.searchRef?.current!==""&&E.key===" "||(wle.includes(E.key)&&N(),E.key===" "&&E.preventDefault())})})})})});h8.displayName=Bv;var Jf="SelectItemText",m8=_.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:i,...a}=e,o=jo(Jf,n),l=No(Jf,n),d=f8(Jf,n),f=Nle(Jf,n),[m,p]=_.useState(null),v=At(t,N=>p(N),d.onItemTextChange,N=>l.itemTextRefCallback?.(N,d.value,d.disabled)),y=m?.textContent,x=_.useMemo(()=>c.jsx("option",{value:d.value,disabled:d.disabled,children:y},d.value),[d.disabled,d.value,y]),{onNativeOptionAdd:b,onNativeOptionRemove:w}=f;return Ut(()=>(b(x),()=>w(x)),[b,w,x]),c.jsxs(c.Fragment,{children:[c.jsx(bt.span,{id:d.textId,...a,ref:v}),d.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Ul.createPortal(a.children,o.valueNode):null]})});m8.displayName=Jf;var p8="SelectItemIndicator",g8=_.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return f8(p8,n).isSelected?c.jsx(bt.span,{"aria-hidden":!0,...r,ref:t}):null});g8.displayName=p8;var bN="SelectScrollUpButton",v8=_.forwardRef((e,t)=>{const n=No(bN,e.__scopeSelect),r=eT(bN,e.__scopeSelect),[i,a]=_.useState(!1),o=At(t,r.onScrollButtonChange);return Ut(()=>{if(n.viewport&&n.isPositioned){let l=function(){const f=d.scrollTop>0;a(f)};const d=n.viewport;return l(),d.addEventListener("scroll",l),()=>d.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),i?c.jsx(b8,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:d}=n;l&&d&&(l.scrollTop=l.scrollTop-d.offsetHeight)}}):null});v8.displayName=bN;var xN="SelectScrollDownButton",y8=_.forwardRef((e,t)=>{const n=No(xN,e.__scopeSelect),r=eT(xN,e.__scopeSelect),[i,a]=_.useState(!1),o=At(t,r.onScrollButtonChange);return Ut(()=>{if(n.viewport&&n.isPositioned){let l=function(){const f=d.scrollHeight-d.clientHeight,m=Math.ceil(d.scrollTop)<f;a(m)};const d=n.viewport;return l(),d.addEventListener("scroll",l),()=>d.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),i?c.jsx(b8,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:d}=n;l&&d&&(l.scrollTop=l.scrollTop+d.offsetHeight)}}):null});y8.displayName=xN;var b8=_.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=e,a=No("SelectScrollButton",n),o=_.useRef(null),l=x0(n),d=_.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return _.useEffect(()=>()=>d(),[d]),Ut(()=>{l().find(m=>m.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[l]),c.jsx(bt.div,{"aria-hidden":!0,...i,ref:t,style:{flexShrink:0,...i.style},onPointerDown:wr(i.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:wr(i.onPointerMove,()=>{a.onItemLeave?.(),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:wr(i.onPointerLeave,()=>{d()})})}),$le="SelectSeparator",x8=_.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return c.jsx(bt.div,{"aria-hidden":!0,...r,ref:t})});x8.displayName=$le;var wN="SelectArrow",Lle=_.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=w0(n),a=jo(wN,n),o=No(wN,n);return a.open&&o.position==="popper"?c.jsx(FA,{...i,...r,ref:t}):null});Lle.displayName=wN;var Ble="SelectBubbleInput",w8=_.forwardRef(({__scopeSelect:e,value:t,...n},r)=>{const i=_.useRef(null),a=At(r,i),o=y0(t);return _.useEffect(()=>{const l=i.current;if(!l)return;const d=window.HTMLSelectElement.prototype,m=Object.getOwnPropertyDescriptor(d,"value").set;if(o!==t&&m){const p=new Event("change",{bubbles:!0});m.call(l,t),l.dispatchEvent(p)}},[o,t]),c.jsx(bt.select,{...n,style:{...BF,...n.style},ref:a,defaultValue:t})});w8.displayName=Ble;function _8(e){return e===""||e===void 0}function S8(e){const t=Sr(e),n=_.useRef(""),r=_.useRef(0),i=_.useCallback(o=>{const l=n.current+o;t(l),(function d(f){n.current=f,window.clearTimeout(r.current),f!==""&&(r.current=window.setTimeout(()=>d(""),1e3))})(l)},[t]),a=_.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return _.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,a]}function j8(e,t,n){const i=t.length>1&&Array.from(t).every(f=>f===t[0])?t[0]:t,a=n?e.indexOf(n):-1;let o=qle(e,Math.max(a,0));i.length===1&&(o=o.filter(f=>f!==n));const d=o.find(f=>f.textValue.toLowerCase().startsWith(i.toLowerCase()));return d!==n?d:void 0}function qle(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var zle=QU,N8=ZU,Fle=t8,Ule=n8,Vle=r8,E8=i8,Hle=l8,A8=d8,T8=h8,Gle=m8,Kle=g8,O8=v8,C8=y8,R8=x8;const cn=zle,un=Fle,rn=_.forwardRef(({className:e,children:t,...n},r)=>c.jsxs(N8,{ref:r,className:Ae("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,c.jsx(Ule,{asChild:!0,children:c.jsx(CA,{className:"h-4 w-4 opacity-50"})})]}));rn.displayName=N8.displayName;const P8=_.forwardRef(({className:e,...t},n)=>c.jsx(O8,{ref:n,className:Ae("flex cursor-default items-center justify-center py-1",e),...t,children:c.jsx(MZ,{className:"h-4 w-4"})}));P8.displayName=O8.displayName;const M8=_.forwardRef(({className:e,...t},n)=>c.jsx(C8,{ref:n,className:Ae("flex cursor-default items-center justify-center py-1",e),...t,children:c.jsx(CA,{className:"h-4 w-4"})}));M8.displayName=C8.displayName;const an=_.forwardRef(({className:e,children:t,position:n="popper",...r},i)=>c.jsx(Vle,{children:c.jsxs(E8,{ref:i,className:Ae("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[c.jsx(P8,{}),c.jsx(Hle,{className:Ae("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),c.jsx(M8,{})]})}));an.displayName=E8.displayName;const Wle=_.forwardRef(({className:e,...t},n)=>c.jsx(A8,{ref:n,className:Ae("px-2 py-1.5 text-sm font-semibold",e),...t}));Wle.displayName=A8.displayName;const at=_.forwardRef(({className:e,children:t,...n},r)=>c.jsxs(T8,{ref:r,className:Ae("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[c.jsx("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:c.jsx(Kle,{children:c.jsx(go,{className:"h-4 w-4"})})}),c.jsx(Gle,{children:t})]}));at.displayName=T8.displayName;const Yle=_.forwardRef(({className:e,...t},n)=>c.jsx(R8,{ref:n,className:Ae("-mx-1 my-1 h-px bg-muted",e),...t}));Yle.displayName=R8.displayName;const Xle=e=>e,Qle=e=>{switch(e){case"coach":return"/coach";case"admin":return"/admin";case"comite":return"/comite";default:return"/"}};function Jle(){const[e,t]=_.useState(""),[n,r]=_.useState(""),[i,a]=_.useState(null),[o,l]=_.useState(!1),[d,f]=_.useState(!1),[m,p]=_.useState(""),[v,y]=_.useState(""),[x,b]=_.useState(""),[w,N]=_.useState(""),[E,j]=_.useState(""),[O,T]=_.useState(null),[C,R]=_.useState(!1),{loginFromSession:P,loadUser:k}=dn(),[,$]=ud(),B=_.useRef(null),I=_.useRef(null),{data:F=[],isLoading:V,isError:U}=Pt({queryKey:["register-groups"],queryFn:()=>Me.getGroups(),enabled:d,retry:2});_.useEffect(()=>{d&&!E&&F.length>0&&j(String(F[0].id))},[F,E,d]),_.useEffect(()=>{Xle(d)&&I.current?.focus()},[d]);const D=z=>z.includes("Invalid login")?"Identifiant ou mot de passe incorrect.":z.includes("Email not confirmed")?"Veuillez confirmer votre email avant de vous connecter.":z,G=async z=>{z.preventDefault();const Y=e.trim();if(Y){if(!n.trim()){a("Mot de passe requis."),B.current?.focus();return}l(!0),a(null);try{const{data:de,error:H}=await Re.auth.signInWithPassword({email:Y,password:n});if(H)throw new Error(D(H.message));if(!de.session)throw new Error("Session non reue.");if(P(de.session),!await k())throw new Error("Impossible de rcuprer le profil utilisateur.");const Z=de.session.user?.app_metadata?.app_user_role??de.session.user?.user_metadata?.role??null;$(Qle(Z),{replace:!0})}catch(de){const H=de instanceof Error?de.message:"Connexion impossible.";a(H)}finally{l(!1)}}};return c.jsxs("div",{className:"min-h-screen flex items-center justify-center p-4 bg-background relative overflow-hidden",children:[c.jsx("div",{className:"absolute top-[-20%] right-[-10%] w-[600px] h-[600px] bg-primary/10 rounded-full blur-3xl pointer-events-none"}),c.jsxs(ke,{className:"w-full max-w-sm relative z-10 shadow-2xl border-t-8 border-t-primary animate-in fade-in zoom-in duration-500",children:[c.jsxs(it,{className:"text-center pb-2",children:[c.jsx("div",{className:"mx-auto mb-6 h-24 w-24 rounded-full bg-black flex items-center justify-center border-4 border-primary shadow-lg",children:c.jsx("img",{src:pU,alt:"EAC Logo",className:"h-full w-full object-cover rounded-full opacity-90"})}),c.jsxs(st,{className:"text-3xl font-display italic uppercase tracking-tighter",children:["SUIVI",c.jsx("span",{className:"text-primary",children:"NATATION"})]}),c.jsx(Yt,{className:"uppercase tracking-widest text-xs font-bold",children:"Erstein Aquatic Club"})]}),c.jsx(Be,{children:c.jsxs("form",{onSubmit:G,className:"space-y-6",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(et,{placeholder:"Email",type:"email",value:e,onChange:z=>{t(z.target.value),d&&f(!1)},className:"text-center text-lg h-12 border-2 focus-visible:ring-primary",autoFocus:!0}),c.jsx("p",{className:"text-xs text-muted-foreground text-center",children:"Saisissez votre email et votre mot de passe."}),c.jsx(et,{placeholder:"Mot de passe",type:"password",value:n,onChange:z=>r(z.target.value),ref:B,className:"text-center text-lg h-12 border-2 focus-visible:ring-primary"}),i?c.jsx("p",{className:"text-sm text-destructive text-center",children:i}):null]}),c.jsx(Oe,{type:"submit",className:"w-full h-12 text-lg font-bold uppercase tracking-wider shadow-md hover:scale-[1.02] transition-transform",disabled:!e.trim()||!n.trim()||o,children:o?"Connexion...":"CONNEXION"}),c.jsx("div",{className:"flex justify-center",children:c.jsx("button",{type:"button",onClick:()=>{f(!0);const z=e.trim();y(z)},className:"text-xs text-muted-foreground underline underline-offset-4 transition-colors hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary focus-visible:ring-offset-2",children:"Crer un compte"})})]})})]}),c.jsx(wu,{open:d,onOpenChange:z=>{f(z),z||(T(null),b(""),N(""),j(""))},children:c.jsxs(jl,{className:"sm:max-w-md",children:[c.jsxs(uh,{children:[c.jsx(dh,{children:"Crer un compte"}),c.jsx(KU,{children:"Compltez les informations pour crer votre profil."})]}),c.jsxs("form",{className:"space-y-4",onSubmit:async z=>{if(z.preventDefault(),!m.trim()){T("Ajoutez votre nom.");return}if(!v.trim()){T("Ajoutez votre email.");return}if(!E){T("Slectionnez un groupe.");return}if(!w){T("Ajoutez votre date de naissance.");return}if(!x){T("Choisissez un mot de passe.");return}T(null),R(!0);try{const{data:Y,error:de}=await Re.auth.signUp({email:v.trim(),password:x,options:{data:{display_name:m.trim(),birthdate:w,group_id:Number(E)}}});if(de)throw new Error(de.message);if(!Y.session){T("Compte cr. Vrifiez votre email pour confirmer votre inscription."),R(!1);return}if(P(Y.session),!await k())throw new Error("Impossible de rcuprer le profil utilisateur.");f(!1),$("/",{replace:!0})}catch(Y){const de=Y instanceof Error?Y.message:"Cration impossible.";T(de)}finally{R(!1)}},children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(Le,{htmlFor:"register-name",children:"Nom d'affichage"}),c.jsx(et,{id:"register-name",value:m,onChange:z=>p(z.target.value),placeholder:"Votre nom",ref:I})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Le,{htmlFor:"register-email",children:"Email"}),c.jsx(et,{id:"register-email",type:"email",value:v,onChange:z=>y(z.target.value),placeholder:"prenom.nom@email.com",required:!0})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Le,{htmlFor:"register-birthdate",children:"Date de naissance"}),c.jsx(et,{id:"register-birthdate",type:"date",value:w,onChange:z=>N(z.target.value)})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Le,{children:"Groupe"}),c.jsxs(cn,{value:E,onValueChange:j,disabled:V||F.length===0,children:[c.jsx(rn,{children:c.jsx(un,{placeholder:V?"Chargement...":U?"Erreur de chargement":"Slectionnez un groupe"})}),c.jsx(an,{children:F.map(z=>c.jsx(at,{value:String(z.id),children:z.name},z.id))})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Le,{htmlFor:"register-password",children:"Mot de passe"}),c.jsx(et,{id:"register-password",type:"password",value:x,onChange:z=>b(z.target.value),placeholder:"Choisissez un mot de passe"})]}),O?c.jsx("p",{className:"text-sm text-destructive",children:O}):null,c.jsx(Oe,{type:"submit",className:"w-full",disabled:C||!m.trim(),children:C?"Cration...":"Crer le compte"})]})]})}),c.jsx("div",{className:"absolute bottom-4 text-xs text-muted-foreground opacity-50 uppercase font-bold tracking-widest",children:"EAC Performance Tracking"})]})}const tT=_.createContext({});function nT(e){const t=_.useRef(null);return t.current===null&&(t.current=e()),t.current}const rT=typeof window<"u",k8=rT?_.useLayoutEffect:_.useEffect,_0=_.createContext(null);function iT(e,t){e.indexOf(t)===-1&&e.push(t)}function aT(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const ps=(e,t,n)=>n>t?t:n<e?e:n;let sT=()=>{};const gs={},D8=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function I8(e){return typeof e=="object"&&e!==null}const $8=e=>/^0[^.\s]+$/u.test(e);function oT(e){let t;return()=>(t===void 0&&(t=e()),t)}const $i=e=>e,Zle=(e,t)=>n=>t(e(n)),Vm=(...e)=>e.reduce(Zle),Bh=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r};class lT{constructor(){this.subscriptions=[]}add(t){return iT(this.subscriptions,t),()=>aT(this.subscriptions,t)}notify(t,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,n,r);else for(let a=0;a<i;a++){const o=this.subscriptions[a];o&&o(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const ja=e=>e*1e3,ki=e=>e/1e3;function L8(e,t){return t?e*(1e3/t):0}const B8=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,ece=1e-7,tce=12;function nce(e,t,n,r,i){let a,o,l=0;do o=t+(n-t)/2,a=B8(o,r,i)-e,a>0?n=o:t=o;while(Math.abs(a)>ece&&++l<tce);return o}function Hm(e,t,n,r){if(e===t&&n===r)return $i;const i=a=>nce(a,0,1,e,n);return a=>a===0||a===1?a:B8(i(a),t,r)}const q8=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,z8=e=>t=>1-e(1-t),F8=Hm(.33,1.53,.69,.99),cT=z8(F8),U8=q8(cT),V8=e=>(e*=2)<1?.5*cT(e):.5*(2-Math.pow(2,-10*(e-1))),uT=e=>1-Math.sin(Math.acos(e)),H8=z8(uT),G8=q8(uT),rce=Hm(.42,0,1,1),ice=Hm(0,0,.58,1),K8=Hm(.42,0,.58,1),ace=e=>Array.isArray(e)&&typeof e[0]!="number",W8=e=>Array.isArray(e)&&typeof e[0]=="number",sce={linear:$i,easeIn:rce,easeInOut:K8,easeOut:ice,circIn:uT,circInOut:G8,circOut:H8,backIn:cT,backInOut:U8,backOut:F8,anticipate:V8},oce=e=>typeof e=="string",VD=e=>{if(W8(e)){sT(e.length===4);const[t,n,r,i]=e;return Hm(t,n,r,i)}else if(oce(e))return sce[e];return e},Bg=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function lce(e,t){let n=new Set,r=new Set,i=!1,a=!1;const o=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1};function d(m){o.has(m)&&(f.schedule(m),e()),m(l)}const f={schedule:(m,p=!1,v=!1)=>{const x=v&&i?n:r;return p&&o.add(m),x.has(m)||x.add(m),m},cancel:m=>{r.delete(m),o.delete(m)},process:m=>{if(l=m,i){a=!0;return}i=!0,[n,r]=[r,n],n.forEach(d),n.clear(),i=!1,a&&(a=!1,f.process(m))}};return f}const cce=40;function Y8(e,t){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,o=Bg.reduce((j,O)=>(j[O]=lce(a),j),{}),{setup:l,read:d,resolveKeyframes:f,preUpdate:m,update:p,preRender:v,render:y,postRender:x}=o,b=()=>{const j=gs.useManualTiming?i.timestamp:performance.now();n=!1,gs.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(j-i.timestamp,cce),1)),i.timestamp=j,i.isProcessing=!0,l.process(i),d.process(i),f.process(i),m.process(i),p.process(i),v.process(i),y.process(i),x.process(i),i.isProcessing=!1,n&&t&&(r=!1,e(b))},w=()=>{n=!0,r=!0,i.isProcessing||e(b)};return{schedule:Bg.reduce((j,O)=>{const T=o[O];return j[O]=(C,R=!1,P=!1)=>(n||w(),T.schedule(C,R,P)),j},{}),cancel:j=>{for(let O=0;O<Bg.length;O++)o[Bg[O]].cancel(j)},state:i,steps:o}}const{schedule:wn,cancel:bo,state:br,steps:s_}=Y8(typeof requestAnimationFrame<"u"?requestAnimationFrame:$i,!0);let gv;function uce(){gv=void 0}const Gr={now:()=>(gv===void 0&&Gr.set(br.isProcessing||gs.useManualTiming?br.timestamp:performance.now()),gv),set:e=>{gv=e,queueMicrotask(uce)}},X8=e=>t=>typeof t=="string"&&t.startsWith(e),dT=X8("--"),dce=X8("var(--"),fT=e=>dce(e)?fce.test(e.split("/*")[0].trim()):!1,fce=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Nd={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},qh={...Nd,transform:e=>ps(0,1,e)},qg={...Nd,default:1},fh=e=>Math.round(e*1e5)/1e5,hT=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function hce(e){return e==null}const mce=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,mT=(e,t)=>n=>!!(typeof n=="string"&&mce.test(n)&&n.startsWith(e)||t&&!hce(n)&&Object.prototype.hasOwnProperty.call(n,t)),Q8=(e,t,n)=>r=>{if(typeof r!="string")return r;const[i,a,o,l]=r.match(hT);return{[e]:parseFloat(i),[t]:parseFloat(a),[n]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},pce=e=>ps(0,255,e),o_={...Nd,transform:e=>Math.round(pce(e))},pl={test:mT("rgb","red"),parse:Q8("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+o_.transform(e)+", "+o_.transform(t)+", "+o_.transform(n)+", "+fh(qh.transform(r))+")"};function gce(e){let t="",n="",r="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const _N={test:mT("#"),parse:gce,transform:pl.transform},Gm=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Zs=Gm("deg"),Na=Gm("%"),vt=Gm("px"),vce=Gm("vh"),yce=Gm("vw"),HD={...Na,parse:e=>Na.parse(e)/100,transform:e=>Na.transform(e*100)},su={test:mT("hsl","hue"),parse:Q8("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+Na.transform(fh(t))+", "+Na.transform(fh(n))+", "+fh(qh.transform(r))+")"},Gn={test:e=>pl.test(e)||_N.test(e)||su.test(e),parse:e=>pl.test(e)?pl.parse(e):su.test(e)?su.parse(e):_N.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?pl.transform(e):su.transform(e),getAnimatableNone:e=>{const t=Gn.parse(e);return t.alpha=0,Gn.transform(t)}},bce=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function xce(e){return isNaN(e)&&typeof e=="string"&&(e.match(hT)?.length||0)+(e.match(bce)?.length||0)>0}const J8="number",Z8="color",wce="var",_ce="var(",GD="${}",Sce=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function zh(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},i=[];let a=0;const l=t.replace(Sce,d=>(Gn.test(d)?(r.color.push(a),i.push(Z8),n.push(Gn.parse(d))):d.startsWith(_ce)?(r.var.push(a),i.push(wce),n.push(d)):(r.number.push(a),i.push(J8),n.push(parseFloat(d))),++a,GD)).split(GD);return{values:n,split:l,indexes:r,types:i}}function eV(e){return zh(e).values}function tV(e){const{split:t,types:n}=zh(e),r=t.length;return i=>{let a="";for(let o=0;o<r;o++)if(a+=t[o],i[o]!==void 0){const l=n[o];l===J8?a+=fh(i[o]):l===Z8?a+=Gn.transform(i[o]):a+=i[o]}return a}}const jce=e=>typeof e=="number"?0:Gn.test(e)?Gn.getAnimatableNone(e):e;function Nce(e){const t=eV(e);return tV(e)(t.map(jce))}const xo={test:xce,parse:eV,createTransformer:tV,getAnimatableNone:Nce};function l_(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function Ece({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let i=0,a=0,o=0;if(!t)i=a=o=n;else{const l=n<.5?n*(1+t):n+t-n*t,d=2*n-l;i=l_(d,l,e+1/3),a=l_(d,l,e),o=l_(d,l,e-1/3)}return{red:Math.round(i*255),green:Math.round(a*255),blue:Math.round(o*255),alpha:r}}function qv(e,t){return n=>n>0?t:e}const Nn=(e,t,n)=>e+(t-e)*n,c_=(e,t,n)=>{const r=e*e,i=n*(t*t-r)+r;return i<0?0:Math.sqrt(i)},Ace=[_N,pl,su],Tce=e=>Ace.find(t=>t.test(e));function KD(e){const t=Tce(e);if(!t)return!1;let n=t.parse(e);return t===su&&(n=Ece(n)),n}const WD=(e,t)=>{const n=KD(e),r=KD(t);if(!n||!r)return qv(e,t);const i={...n};return a=>(i.red=c_(n.red,r.red,a),i.green=c_(n.green,r.green,a),i.blue=c_(n.blue,r.blue,a),i.alpha=Nn(n.alpha,r.alpha,a),pl.transform(i))},SN=new Set(["none","hidden"]);function Oce(e,t){return SN.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function Cce(e,t){return n=>Nn(e,t,n)}function pT(e){return typeof e=="number"?Cce:typeof e=="string"?fT(e)?qv:Gn.test(e)?WD:Mce:Array.isArray(e)?nV:typeof e=="object"?Gn.test(e)?WD:Rce:qv}function nV(e,t){const n=[...e],r=n.length,i=e.map((a,o)=>pT(a)(a,t[o]));return a=>{for(let o=0;o<r;o++)n[o]=i[o](a);return n}}function Rce(e,t){const n={...e,...t},r={};for(const i in n)e[i]!==void 0&&t[i]!==void 0&&(r[i]=pT(e[i])(e[i],t[i]));return i=>{for(const a in r)n[a]=r[a](i);return n}}function Pce(e,t){const n=[],r={color:0,var:0,number:0};for(let i=0;i<t.values.length;i++){const a=t.types[i],o=e.indexes[a][r[a]],l=e.values[o]??0;n[i]=l,r[a]++}return n}const Mce=(e,t)=>{const n=xo.createTransformer(t),r=zh(e),i=zh(t);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?SN.has(e)&&!i.values.length||SN.has(t)&&!r.values.length?Oce(e,t):Vm(nV(Pce(r,i),i.values),n):qv(e,t)};function rV(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?Nn(e,t,n):pT(e)(e,t)}const kce=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>wn.update(t,n),stop:()=>bo(t),now:()=>br.isProcessing?br.timestamp:Gr.now()}},iV=(e,t,n=10)=>{let r="";const i=Math.max(Math.round(t/n),2);for(let a=0;a<i;a++)r+=Math.round(e(a/(i-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},zv=2e4;function gT(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<zv;)t+=n,r=e.next(t);return t>=zv?1/0:t}function Dce(e,t=100,n){const r=n({...e,keyframes:[0,t]}),i=Math.min(gT(r),zv);return{type:"keyframes",ease:a=>r.next(i*a).value/t,duration:ki(i)}}const Ice=5;function aV(e,t,n){const r=Math.max(t-Ice,0);return L8(n-e(r),t-r)}const On={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},u_=.001;function $ce({duration:e=On.duration,bounce:t=On.bounce,velocity:n=On.velocity,mass:r=On.mass}){let i,a,o=1-t;o=ps(On.minDamping,On.maxDamping,o),e=ps(On.minDuration,On.maxDuration,ki(e)),o<1?(i=f=>{const m=f*o,p=m*e,v=m-n,y=jN(f,o),x=Math.exp(-p);return u_-v/y*x},a=f=>{const p=f*o*e,v=p*n+n,y=Math.pow(o,2)*Math.pow(f,2)*e,x=Math.exp(-p),b=jN(Math.pow(f,2),o);return(-i(f)+u_>0?-1:1)*((v-y)*x)/b}):(i=f=>{const m=Math.exp(-f*e),p=(f-n)*e+1;return-u_+m*p},a=f=>{const m=Math.exp(-f*e),p=(n-f)*(e*e);return m*p});const l=5/e,d=Bce(i,a,l);if(e=ja(e),isNaN(d))return{stiffness:On.stiffness,damping:On.damping,duration:e};{const f=Math.pow(d,2)*r;return{stiffness:f,damping:o*2*Math.sqrt(r*f),duration:e}}}const Lce=12;function Bce(e,t,n){let r=n;for(let i=1;i<Lce;i++)r=r-e(r)/t(r);return r}function jN(e,t){return e*Math.sqrt(1-t*t)}const qce=["duration","bounce"],zce=["stiffness","damping","mass"];function YD(e,t){return t.some(n=>e[n]!==void 0)}function Fce(e){let t={velocity:On.velocity,stiffness:On.stiffness,damping:On.damping,mass:On.mass,isResolvedFromDuration:!1,...e};if(!YD(e,zce)&&YD(e,qce))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,a=2*ps(.05,1,1-(e.bounce||0))*Math.sqrt(i);t={...t,mass:On.mass,stiffness:i,damping:a}}else{const n=$ce(e);t={...t,...n,mass:On.mass},t.isResolvedFromDuration=!0}return t}function Fv(e=On.visualDuration,t=On.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:i}=n;const a=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],l={done:!1,value:a},{stiffness:d,damping:f,mass:m,duration:p,velocity:v,isResolvedFromDuration:y}=Fce({...n,velocity:-ki(n.velocity||0)}),x=v||0,b=f/(2*Math.sqrt(d*m)),w=o-a,N=ki(Math.sqrt(d/m)),E=Math.abs(w)<5;r||(r=E?On.restSpeed.granular:On.restSpeed.default),i||(i=E?On.restDelta.granular:On.restDelta.default);let j;if(b<1){const T=jN(N,b);j=C=>{const R=Math.exp(-b*N*C);return o-R*((x+b*N*w)/T*Math.sin(T*C)+w*Math.cos(T*C))}}else if(b===1)j=T=>o-Math.exp(-N*T)*(w+(x+N*w)*T);else{const T=N*Math.sqrt(b*b-1);j=C=>{const R=Math.exp(-b*N*C),P=Math.min(T*C,300);return o-R*((x+b*N*w)*Math.sinh(P)+T*w*Math.cosh(P))/T}}const O={calculatedDuration:y&&p||null,next:T=>{const C=j(T);if(y)l.done=T>=p;else{let R=T===0?x:0;b<1&&(R=T===0?ja(x):aV(j,T,C));const P=Math.abs(R)<=r,k=Math.abs(o-C)<=i;l.done=P&&k}return l.value=l.done?o:C,l},toString:()=>{const T=Math.min(gT(O),zv),C=iV(R=>O.next(T*R).value,T,30);return T+"ms "+C},toTransition:()=>{}};return O}Fv.applyToOptions=e=>{const t=Dce(e,100,Fv);return e.ease=t.ease,e.duration=ja(t.duration),e.type="keyframes",e};function NN({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:o,min:l,max:d,restDelta:f=.5,restSpeed:m}){const p=e[0],v={done:!1,value:p},y=P=>l!==void 0&&P<l||d!==void 0&&P>d,x=P=>l===void 0?d:d===void 0||Math.abs(l-P)<Math.abs(d-P)?l:d;let b=n*t;const w=p+b,N=o===void 0?w:o(w);N!==w&&(b=N-p);const E=P=>-b*Math.exp(-P/r),j=P=>N+E(P),O=P=>{const k=E(P),$=j(P);v.done=Math.abs(k)<=f,v.value=v.done?N:$};let T,C;const R=P=>{y(v.value)&&(T=P,C=Fv({keyframes:[v.value,x(v.value)],velocity:aV(j,P,v.value),damping:i,stiffness:a,restDelta:f,restSpeed:m}))};return R(0),{calculatedDuration:null,next:P=>{let k=!1;return!C&&T===void 0&&(k=!0,O(P),R(P)),T!==void 0&&P>=T?C.next(P-T):(!k&&O(P),v)}}}function Uce(e,t,n){const r=[],i=n||gs.mix||rV,a=e.length-1;for(let o=0;o<a;o++){let l=i(e[o],e[o+1]);if(t){const d=Array.isArray(t)?t[o]||$i:t;l=Vm(d,l)}r.push(l)}return r}function Vce(e,t,{clamp:n=!0,ease:r,mixer:i}={}){const a=e.length;if(sT(a===t.length),a===1)return()=>t[0];if(a===2&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[a-1]&&(e=[...e].reverse(),t=[...t].reverse());const l=Uce(t,r,i),d=l.length,f=m=>{if(o&&m<e[0])return t[0];let p=0;if(d>1)for(;p<e.length-2&&!(m<e[p+1]);p++);const v=Bh(e[p],e[p+1],m);return l[p](v)};return n?m=>f(ps(e[0],e[a-1],m)):f}function Hce(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const i=Bh(0,t,r);e.push(Nn(n,1,i))}}function Gce(e){const t=[0];return Hce(t,e.length-1),t}function Kce(e,t){return e.map(n=>n*t)}function Wce(e,t){return e.map(()=>t||K8).splice(0,e.length-1)}function hh({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const i=ace(r)?r.map(VD):VD(r),a={done:!1,value:t[0]},o=Kce(n&&n.length===t.length?n:Gce(t),e),l=Vce(o,t,{ease:Array.isArray(i)?i:Wce(t,i)});return{calculatedDuration:e,next:d=>(a.value=l(d),a.done=d>=e,a)}}const Yce=e=>e!==null;function vT(e,{repeat:t,repeatType:n="loop"},r,i=1){const a=e.filter(Yce),l=i<0||t&&n!=="loop"&&t%2===1?0:a.length-1;return!l||r===void 0?a[l]:r}const Xce={decay:NN,inertia:NN,tween:hh,keyframes:hh,spring:Fv};function sV(e){typeof e.type=="string"&&(e.type=Xce[e.type])}class yT{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const Qce=e=>e/100;class bT extends yT{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==Gr.now()&&this.tick(Gr.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;sV(t);const{type:n=hh,repeat:r=0,repeatDelay:i=0,repeatType:a,velocity:o=0}=t;let{keyframes:l}=t;const d=n||hh;d!==hh&&typeof l[0]!="number"&&(this.mixKeyframes=Vm(Qce,rV(l[0],l[1])),l=[0,100]);const f=d({...t,keyframes:l});a==="mirror"&&(this.mirroredGenerator=d({...t,keyframes:[...l].reverse(),velocity:-o})),f.calculatedDuration===null&&(f.calculatedDuration=gT(f));const{calculatedDuration:m}=f;this.calculatedDuration=m,this.resolvedDuration=m+i,this.totalDuration=this.resolvedDuration*(r+1)-i,this.generator=f}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:r,totalDuration:i,mixKeyframes:a,mirroredGenerator:o,resolvedDuration:l,calculatedDuration:d}=this;if(this.startTime===null)return r.next(0);const{delay:f=0,keyframes:m,repeat:p,repeatType:v,repeatDelay:y,type:x,onUpdate:b,finalKeyframe:w}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-i/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const N=this.currentTime-f*(this.playbackSpeed>=0?1:-1),E=this.playbackSpeed>=0?N<0:N>i;this.currentTime=Math.max(N,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let j=this.currentTime,O=r;if(p){const P=Math.min(this.currentTime,i)/l;let k=Math.floor(P),$=P%1;!$&&P>=1&&($=1),$===1&&k--,k=Math.min(k,p+1),!!(k%2)&&(v==="reverse"?($=1-$,y&&($-=y/l)):v==="mirror"&&(O=o)),j=ps(0,1,$)*l}const T=E?{done:!1,value:m[0]}:O.next(j);a&&(T.value=a(T.value));let{done:C}=T;!E&&d!==null&&(C=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const R=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&C);return R&&x!==NN&&(T.value=vT(m,this.options,w,this.speed)),b&&b(T.value),R&&this.finish(),T}then(t,n){return this.finished.then(t,n)}get duration(){return ki(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+ki(t)}get time(){return ki(this.currentTime)}set time(t){t=ja(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Gr.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=ki(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=kce,startTime:n}=this.options;this.driver||(this.driver=t(i=>this.tick(i))),this.options.onPlay?.();const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Gr.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function Jce(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const gl=e=>e*180/Math.PI,EN=e=>{const t=gl(Math.atan2(e[1],e[0]));return AN(t)},Zce={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:EN,rotateZ:EN,skewX:e=>gl(Math.atan(e[1])),skewY:e=>gl(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},AN=e=>(e=e%360,e<0&&(e+=360),e),XD=EN,QD=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),JD=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),eue={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:QD,scaleY:JD,scale:e=>(QD(e)+JD(e))/2,rotateX:e=>AN(gl(Math.atan2(e[6],e[5]))),rotateY:e=>AN(gl(Math.atan2(-e[2],e[0]))),rotateZ:XD,rotate:XD,skewX:e=>gl(Math.atan(e[4])),skewY:e=>gl(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function TN(e){return e.includes("scale")?1:0}function ON(e,t){if(!e||e==="none")return TN(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(n)r=eue,i=n;else{const l=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=Zce,i=l}if(!i)return TN(t);const a=r[t],o=i[1].split(",").map(nue);return typeof a=="function"?a(o):o[a]}const tue=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return ON(n,t)};function nue(e){return parseFloat(e.trim())}const Ed=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ad=new Set(Ed),ZD=e=>e===Nd||e===vt,rue=new Set(["x","y","z"]),iue=Ed.filter(e=>!rue.has(e));function aue(e){const t=[];return iue.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const Nl={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>ON(t,"x"),y:(e,{transform:t})=>ON(t,"y")};Nl.translateX=Nl.x;Nl.translateY=Nl.y;const El=new Set;let CN=!1,RN=!1,PN=!1;function oV(){if(RN){const e=Array.from(El).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const i=aue(r);i.length&&(n.set(r,i),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([a,o])=>{r.getValue(a)?.set(o)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}RN=!1,CN=!1,El.forEach(e=>e.complete(PN)),El.clear()}function lV(){El.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(RN=!0)})}function sue(){PN=!0,lV(),oV(),PN=!1}class xT{constructor(t,n,r,i,a,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=i,this.element=a,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(El.add(this),CN||(CN=!0,wn.read(lV),wn.resolveKeyframes(oV))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:i}=this;if(t[0]===null){const a=i?.get(),o=t[t.length-1];if(a!==void 0)t[0]=a;else if(r&&n){const l=r.readValue(n,o);l!=null&&(t[0]=l)}t[0]===void 0&&(t[0]=o),i&&a===void 0&&i.set(t[0])}Jce(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),El.delete(this)}cancel(){this.state==="scheduled"&&(El.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const oue=e=>e.startsWith("--");function lue(e,t,n){oue(t)?e.style.setProperty(t,n):e.style[t]=n}const cue=oT(()=>window.ScrollTimeline!==void 0),uue={};function due(e,t){const n=oT(e);return()=>uue[t]??n()}const cV=due(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Zf=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,eI={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Zf([0,.65,.55,1]),circOut:Zf([.55,0,1,.45]),backIn:Zf([.31,.01,.66,-.59]),backOut:Zf([.33,1.53,.69,.99])};function uV(e,t){if(e)return typeof e=="function"?cV()?iV(e,t):"ease-out":W8(e)?Zf(e):Array.isArray(e)?e.map(n=>uV(n,t)||eI.easeOut):eI[e]}function fue(e,t,n,{delay:r=0,duration:i=300,repeat:a=0,repeatType:o="loop",ease:l="easeOut",times:d}={},f=void 0){const m={[t]:n};d&&(m.offset=d);const p=uV(l,i);Array.isArray(p)&&(m.easing=p);const v={delay:r,duration:i,easing:Array.isArray(p)?"linear":p,fill:"both",iterations:a+1,direction:o==="reverse"?"alternate":"normal"};return f&&(v.pseudoElement=f),e.animate(m,v)}function dV(e){return typeof e=="function"&&"applyToOptions"in e}function hue({type:e,...t}){return dV(e)&&cV()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class mue extends yT{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:n,name:r,keyframes:i,pseudoElement:a,allowFlatten:o=!1,finalKeyframe:l,onComplete:d}=t;this.isPseudoElement=!!a,this.allowFlatten=o,this.options=t,sT(typeof t.type!="string");const f=hue(t);this.animation=fue(n,r,i,f,a),f.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!a){const m=vT(i,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(m):lue(n,r,m),this.animation.cancel()}d?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return ki(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+ki(t)}get time(){return ki(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=ja(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&cue()?(this.animation.timeline=t,$i):n(this)}}const fV={anticipate:V8,backInOut:U8,circInOut:G8};function pue(e){return e in fV}function gue(e){typeof e.ease=="string"&&pue(e.ease)&&(e.ease=fV[e.ease])}const tI=10;class vue extends mue{constructor(t){gue(t),sV(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:r,onComplete:i,element:a,...o}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const l=new bT({...o,autoplay:!1}),d=ja(this.finishedTime??this.time);n.setWithVelocity(l.sample(d-tI).value,l.sample(d).value,tI),l.stop()}}const nI=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(xo.test(e)||e==="0")&&!e.startsWith("url("));function yue(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function bue(e,t,n,r){const i=e[0];if(i===null)return!1;if(t==="display"||t==="visibility")return!0;const a=e[e.length-1],o=nI(i,t),l=nI(a,t);return!o||!l?!1:yue(e)||(n==="spring"||dV(n))&&r}function MN(e){e.duration=0,e.type="keyframes"}const xue=new Set(["opacity","clipPath","filter","transform"]),wue=oT(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function _ue(e){const{motionValue:t,name:n,repeatDelay:r,repeatType:i,damping:a,type:o}=e;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:d,transformTemplate:f}=t.owner.getProps();return wue()&&n&&xue.has(n)&&(n!=="transform"||!f)&&!d&&!r&&i!=="mirror"&&a!==0&&o!=="inertia"}const Sue=40;class jue extends yT{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:a=0,repeatType:o="loop",keyframes:l,name:d,motionValue:f,element:m,...p}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Gr.now();const v={autoplay:t,delay:n,type:r,repeat:i,repeatDelay:a,repeatType:o,name:d,motionValue:f,element:m,...p},y=m?.KeyframeResolver||xT;this.keyframeResolver=new y(l,(x,b,w)=>this.onKeyframesResolved(x,b,v,!w),d,f,m),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,n,r,i){this.keyframeResolver=void 0;const{name:a,type:o,velocity:l,delay:d,isHandoff:f,onUpdate:m}=r;this.resolvedAt=Gr.now(),bue(t,a,o,l)||((gs.instantAnimations||!d)&&m?.(vT(t,r,n)),t[0]=t[t.length-1],MN(r),r.repeat=0);const v={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>Sue?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:t},y=!f&&_ue(v)?new vue({...v,element:v.motionValue.owner.current}):new bT(v);y.finished.then(()=>this.notifyFinished()).catch($i),this.pendingTimeline&&(this.stopTimeline=y.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=y}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),sue()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const Nue=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Eue(e){const t=Nue.exec(e);if(!t)return[,];const[,n,r,i]=t;return[`--${n??r}`,i]}function hV(e,t,n=1){const[r,i]=Eue(e);if(!r)return;const a=window.getComputedStyle(t).getPropertyValue(r);if(a){const o=a.trim();return D8(o)?parseFloat(o):o}return fT(i)?hV(i,t,n+1):i}function wT(e,t){return e?.[t]??e?.default??e}const mV=new Set(["width","height","top","left","right","bottom",...Ed]),Aue={test:e=>e==="auto",parse:e=>e},pV=e=>t=>t.test(e),gV=[Nd,vt,Na,Zs,yce,vce,Aue],rI=e=>gV.find(pV(e));function Tue(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||$8(e):!0}const Oue=new Set(["brightness","contrast","saturate","opacity"]);function Cue(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(hT)||[];if(!r)return e;const i=n.replace(r,"");let a=Oue.has(t)?1:0;return r!==n&&(a*=100),t+"("+a+i+")"}const Rue=/\b([a-z-]*)\(.*?\)/gu,kN={...xo,getAnimatableNone:e=>{const t=e.match(Rue);return t?t.map(Cue).join(" "):e}},iI={...Nd,transform:Math.round},Pue={rotate:Zs,rotateX:Zs,rotateY:Zs,rotateZ:Zs,scale:qg,scaleX:qg,scaleY:qg,scaleZ:qg,skew:Zs,skewX:Zs,skewY:Zs,distance:vt,translateX:vt,translateY:vt,translateZ:vt,x:vt,y:vt,z:vt,perspective:vt,transformPerspective:vt,opacity:qh,originX:HD,originY:HD,originZ:vt},_T={borderWidth:vt,borderTopWidth:vt,borderRightWidth:vt,borderBottomWidth:vt,borderLeftWidth:vt,borderRadius:vt,radius:vt,borderTopLeftRadius:vt,borderTopRightRadius:vt,borderBottomRightRadius:vt,borderBottomLeftRadius:vt,width:vt,maxWidth:vt,height:vt,maxHeight:vt,top:vt,right:vt,bottom:vt,left:vt,padding:vt,paddingTop:vt,paddingRight:vt,paddingBottom:vt,paddingLeft:vt,margin:vt,marginTop:vt,marginRight:vt,marginBottom:vt,marginLeft:vt,backgroundPositionX:vt,backgroundPositionY:vt,...Pue,zIndex:iI,fillOpacity:qh,strokeOpacity:qh,numOctaves:iI},Mue={..._T,color:Gn,backgroundColor:Gn,outlineColor:Gn,fill:Gn,stroke:Gn,borderColor:Gn,borderTopColor:Gn,borderRightColor:Gn,borderBottomColor:Gn,borderLeftColor:Gn,filter:kN,WebkitFilter:kN},vV=e=>Mue[e];function yV(e,t){let n=vV(e);return n!==kN&&(n=xo),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const kue=new Set(["auto","none","0"]);function Due(e,t,n){let r=0,i;for(;r<e.length&&!i;){const a=e[r];typeof a=="string"&&!kue.has(a)&&zh(a).values.length&&(i=e[r]),r++}if(i&&n)for(const a of t)e[a]=yV(n,i)}class Iue extends xT{constructor(t,n,r,i,a){super(t,n,r,i,a,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let d=0;d<t.length;d++){let f=t[d];if(typeof f=="string"&&(f=f.trim(),fT(f))){const m=hV(f,n.current);m!==void 0&&(t[d]=m),d===t.length-1&&(this.finalKeyframe=f)}}if(this.resolveNoneKeyframes(),!mV.has(r)||t.length!==2)return;const[i,a]=t,o=rI(i),l=rI(a);if(o!==l)if(ZD(o)&&ZD(l))for(let d=0;d<t.length;d++){const f=t[d];typeof f=="string"&&(t[d]=parseFloat(f))}else Nl[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let i=0;i<t.length;i++)(t[i]===null||Tue(t[i]))&&r.push(i);r.length&&Due(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Nl[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&t.getValue(r,i).jump(i,!1)}measureEndState(){const{element:t,name:n,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const i=t.getValue(n);i&&i.jump(this.measuredOrigin,!1);const a=r.length-1,o=r[a];r[a]=Nl[n](t.measureViewportBox(),window.getComputedStyle(t.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),this.removedTransforms?.length&&this.removedTransforms.forEach(([l,d])=>{t.getValue(l).set(d)}),this.resolveNoneKeyframes()}}function $ue(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let r=document;const i=n?.[e]??r.querySelectorAll(e);return i?Array.from(i):[]}return Array.from(e)}const bV=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function xV(e){return I8(e)&&"offsetHeight"in e}const aI=30,Lue=e=>!isNaN(parseFloat(e));class Bue{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{const i=Gr.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const a of this.dependents)a.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=Gr.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=Lue(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new lT);const r=this.events[t].add(n);return t==="change"?()=>{r(),wn.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Gr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>aI)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,aI);return L8(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Pu(e,t){return new Bue(e,t)}const{schedule:ST}=Y8(queueMicrotask,!1),Yi={x:!1,y:!1};function wV(){return Yi.x||Yi.y}function que(e){return e==="x"||e==="y"?Yi[e]?null:(Yi[e]=!0,()=>{Yi[e]=!1}):Yi.x||Yi.y?null:(Yi.x=Yi.y=!0,()=>{Yi.x=Yi.y=!1})}function _V(e,t){const n=$ue(e),r=new AbortController,i={passive:!0,...t,signal:r.signal};return[n,i,()=>r.abort()]}function sI(e){return!(e.pointerType==="touch"||wV())}function zue(e,t,n={}){const[r,i,a]=_V(e,n),o=l=>{if(!sI(l))return;const{target:d}=l,f=t(d,l);if(typeof f!="function"||!d)return;const m=p=>{sI(p)&&(f(p),d.removeEventListener("pointerleave",m))};d.addEventListener("pointerleave",m,i)};return r.forEach(l=>{l.addEventListener("pointerenter",o,i)}),a}const SV=(e,t)=>t?e===t?!0:SV(e,t.parentElement):!1,jT=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,Fue=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Uue(e){return Fue.has(e.tagName)||e.tabIndex!==-1}const vv=new WeakSet;function oI(e){return t=>{t.key==="Enter"&&e(t)}}function d_(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const Vue=(e,t)=>{const n=e.currentTarget;if(!n)return;const r=oI(()=>{if(vv.has(n))return;d_(n,"down");const i=oI(()=>{d_(n,"up")}),a=()=>d_(n,"cancel");n.addEventListener("keyup",i,t),n.addEventListener("blur",a,t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)};function lI(e){return jT(e)&&!wV()}function Hue(e,t,n={}){const[r,i,a]=_V(e,n),o=l=>{const d=l.currentTarget;if(!lI(l))return;vv.add(d);const f=t(d,l),m=(y,x)=>{window.removeEventListener("pointerup",p),window.removeEventListener("pointercancel",v),vv.has(d)&&vv.delete(d),lI(y)&&typeof f=="function"&&f(y,{success:x})},p=y=>{m(y,d===window||d===document||n.useGlobalTarget||SV(d,y.target))},v=y=>{m(y,!1)};window.addEventListener("pointerup",p,i),window.addEventListener("pointercancel",v,i)};return r.forEach(l=>{(n.useGlobalTarget?window:l).addEventListener("pointerdown",o,i),xV(l)&&(l.addEventListener("focus",f=>Vue(f,i)),!Uue(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),a}function jV(e){return I8(e)&&"ownerSVGElement"in e}function Gue(e){return jV(e)&&e.tagName==="svg"}const Or=e=>!!(e&&e.getVelocity),Kue=[...gV,Gn,xo],Wue=e=>Kue.find(pV(e)),NT=_.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function cI(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Yue(...e){return t=>{let n=!1;const r=e.map(i=>{const a=cI(i,t);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let i=0;i<r.length;i++){const a=r[i];typeof a=="function"?a():cI(e[i],null)}}}}function Xue(...e){return _.useCallback(Yue(...e),e)}class Que extends _.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=n.offsetParent,i=xV(r)&&r.offsetWidth||0,a=this.props.sizeRef.current;a.height=n.offsetHeight||0,a.width=n.offsetWidth||0,a.top=n.offsetTop,a.left=n.offsetLeft,a.right=i-a.width-a.left}return null}componentDidUpdate(){}render(){return this.props.children}}function Jue({children:e,isPresent:t,anchorX:n,root:r}){const i=_.useId(),a=_.useRef(null),o=_.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:l}=_.useContext(NT),d=Xue(a,e?.ref);return _.useInsertionEffect(()=>{const{width:f,height:m,top:p,left:v,right:y}=o.current;if(t||!a.current||!f||!m)return;const x=n==="left"?`left: ${v}`:`right: ${y}`;a.current.dataset.motionPopId=i;const b=document.createElement("style");l&&(b.nonce=l);const w=r??document.head;return w.appendChild(b),b.sheet&&b.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${f}px !important;
            height: ${m}px !important;
            ${x}px !important;
            top: ${p}px !important;
          }
        `),()=>{w.contains(b)&&w.removeChild(b)}},[t]),c.jsx(Que,{isPresent:t,childRef:a,sizeRef:o,children:_.cloneElement(e,{ref:d})})}const Zue=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:a,mode:o,anchorX:l,root:d})=>{const f=nT(ede),m=_.useId();let p=!0,v=_.useMemo(()=>(p=!1,{id:m,initial:t,isPresent:n,custom:i,onExitComplete:y=>{f.set(y,!0);for(const x of f.values())if(!x)return;r&&r()},register:y=>(f.set(y,!1),()=>f.delete(y))}),[n,f,r]);return a&&p&&(v={...v}),_.useMemo(()=>{f.forEach((y,x)=>f.set(x,!1))},[n]),_.useEffect(()=>{!n&&!f.size&&r&&r()},[n]),o==="popLayout"&&(e=c.jsx(Jue,{isPresent:n,anchorX:l,root:d,children:e})),c.jsx(_0.Provider,{value:v,children:e})};function ede(){return new Map}function NV(e=!0){const t=_.useContext(_0);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=t,a=_.useId();_.useEffect(()=>{if(e)return i(a)},[e]);const o=_.useCallback(()=>e&&r&&r(a),[a,r,e]);return!n&&r?[!1,o]:[!0]}const zg=e=>e.key||"";function uI(e){const t=[];return _.Children.forEach(e,n=>{_.isValidElement(n)&&t.push(n)}),t}const Uv=({children:e,custom:t,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:a="sync",propagate:o=!1,anchorX:l="left",root:d})=>{const[f,m]=NV(o),p=_.useMemo(()=>uI(e),[e]),v=o&&!f?[]:p.map(zg),y=_.useRef(!0),x=_.useRef(p),b=nT(()=>new Map),[w,N]=_.useState(p),[E,j]=_.useState(p);k8(()=>{y.current=!1,x.current=p;for(let C=0;C<E.length;C++){const R=zg(E[C]);v.includes(R)?b.delete(R):b.get(R)!==!0&&b.set(R,!1)}},[E,v.length,v.join("-")]);const O=[];if(p!==w){let C=[...p];for(let R=0;R<E.length;R++){const P=E[R],k=zg(P);v.includes(k)||(C.splice(R,0,P),O.push(P))}return a==="wait"&&O.length&&(C=O),j(uI(C)),N(p),null}const{forceRender:T}=_.useContext(tT);return c.jsx(c.Fragment,{children:E.map(C=>{const R=zg(C),P=o&&!f?!1:p===E||v.includes(R),k=()=>{if(b.has(R))b.set(R,!0);else return;let $=!0;b.forEach(B=>{B||($=!1)}),$&&(T?.(),j(x.current),o&&m?.(),r&&r())};return c.jsx(Zue,{isPresent:P,initial:!y.current||n?void 0:!1,custom:t,presenceAffectsLayout:i,mode:a,root:d,onExitComplete:P?void 0:k,anchorX:l,children:C},R)})})},EV=_.createContext({strict:!1}),dI={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Mu={};for(const e in dI)Mu[e]={isEnabled:t=>dI[e].some(n=>!!t[n])};function tde(e){for(const t in e)Mu[t]={...Mu[t],...e[t]}}const nde=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Vv(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||nde.has(e)}let AV=e=>!Vv(e);function rde(e){typeof e=="function"&&(AV=t=>t.startsWith("on")?!Vv(t):e(t))}try{rde(require("@emotion/is-prop-valid").default)}catch{}function ide(e,t,n){const r={};for(const i in e)i==="values"&&typeof e.values=="object"||(AV(i)||n===!0&&Vv(i)||!t&&!Vv(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}const S0=_.createContext({});function j0(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Fh(e){return typeof e=="string"||Array.isArray(e)}const ET=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],AT=["initial",...ET];function N0(e){return j0(e.animate)||AT.some(t=>Fh(e[t]))}function TV(e){return!!(N0(e)||e.variants)}function ade(e,t){if(N0(e)){const{initial:n,animate:r}=e;return{initial:n===!1||Fh(n)?n:void 0,animate:Fh(r)?r:void 0}}return e.inherit!==!1?t:{}}function sde(e){const{initial:t,animate:n}=ade(e,_.useContext(S0));return _.useMemo(()=>({initial:t,animate:n}),[fI(t),fI(n)])}function fI(e){return Array.isArray(e)?e.join(" "):e}const Uh={};function ode(e){for(const t in e)Uh[t]=e[t],dT(t)&&(Uh[t].isCSSVariable=!0)}function OV(e,{layout:t,layoutId:n}){return Ad.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Uh[e]||e==="opacity")}const lde={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},cde=Ed.length;function ude(e,t,n){let r="",i=!0;for(let a=0;a<cde;a++){const o=Ed[a],l=e[o];if(l===void 0)continue;let d=!0;if(typeof l=="number"?d=l===(o.startsWith("scale")?1:0):d=parseFloat(l)===0,!d||n){const f=bV(l,_T[o]);if(!d){i=!1;const m=lde[o]||o;r+=`${m}(${f}) `}n&&(t[o]=f)}}return r=r.trim(),n?r=n(t,i?"":r):i&&(r="none"),r}function TT(e,t,n){const{style:r,vars:i,transformOrigin:a}=e;let o=!1,l=!1;for(const d in t){const f=t[d];if(Ad.has(d)){o=!0;continue}else if(dT(d)){i[d]=f;continue}else{const m=bV(f,_T[d]);d.startsWith("origin")?(l=!0,a[d]=m):r[d]=m}}if(t.transform||(o||n?r.transform=ude(t,e.transform,n):r.transform&&(r.transform="none")),l){const{originX:d="50%",originY:f="50%",originZ:m=0}=a;r.transformOrigin=`${d} ${f} ${m}`}}const OT=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function CV(e,t,n){for(const r in t)!Or(t[r])&&!OV(r,n)&&(e[r]=t[r])}function dde({transformTemplate:e},t){return _.useMemo(()=>{const n=OT();return TT(n,t,e),Object.assign({},n.vars,n.style)},[t])}function fde(e,t){const n=e.style||{},r={};return CV(r,n,e),Object.assign(r,dde(e,t)),r}function hde(e,t){const n={},r=fde(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const mde={offset:"stroke-dashoffset",array:"stroke-dasharray"},pde={offset:"strokeDashoffset",array:"strokeDasharray"};function gde(e,t,n=1,r=0,i=!0){e.pathLength=1;const a=i?mde:pde;e[a.offset]=vt.transform(-r);const o=vt.transform(t),l=vt.transform(n);e[a.array]=`${o} ${l}`}function RV(e,{attrX:t,attrY:n,attrScale:r,pathLength:i,pathSpacing:a=1,pathOffset:o=0,...l},d,f,m){if(TT(e,l,f),d){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:p,style:v}=e;p.transform&&(v.transform=p.transform,delete p.transform),(v.transform||p.transformOrigin)&&(v.transformOrigin=p.transformOrigin??"50% 50%",delete p.transformOrigin),v.transform&&(v.transformBox=m?.transformBox??"fill-box",delete p.transformBox),t!==void 0&&(p.x=t),n!==void 0&&(p.y=n),r!==void 0&&(p.scale=r),i!==void 0&&gde(p,i,a,o,!1)}const PV=()=>({...OT(),attrs:{}}),MV=e=>typeof e=="string"&&e.toLowerCase()==="svg";function vde(e,t,n,r){const i=_.useMemo(()=>{const a=PV();return RV(a,t,MV(r),e.transformTemplate,e.style),{...a.attrs,style:{...a.style}}},[t]);if(e.style){const a={};CV(a,e.style,e),i.style={...a,...i.style}}return i}const yde=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function CT(e){return typeof e!="string"||e.includes("-")?!1:!!(yde.indexOf(e)>-1||/[A-Z]/u.test(e))}function bde(e,t,n,{latestValues:r},i,a=!1){const l=(CT(e)?vde:hde)(t,r,i,e),d=ide(t,typeof e=="string",a),f=e!==_.Fragment?{...d,...l,ref:n}:{},{children:m}=t,p=_.useMemo(()=>Or(m)?m.get():m,[m]);return _.createElement(e,{...f,children:p})}function hI(e){const t=[{},{}];return e?.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function RT(e,t,n,r){if(typeof t=="function"){const[i,a]=hI(r);t=t(n!==void 0?n:e.custom,i,a)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[i,a]=hI(r);t=t(n!==void 0?n:e.custom,i,a)}return t}function yv(e){return Or(e)?e.get():e}function xde({scrapeMotionValuesFromProps:e,createRenderState:t},n,r,i){return{latestValues:wde(n,r,i,e),renderState:t()}}function wde(e,t,n,r){const i={},a=r(e,{});for(const v in a)i[v]=yv(a[v]);let{initial:o,animate:l}=e;const d=N0(e),f=TV(e);t&&f&&!d&&e.inherit!==!1&&(o===void 0&&(o=t.initial),l===void 0&&(l=t.animate));let m=n?n.initial===!1:!1;m=m||o===!1;const p=m?l:o;if(p&&typeof p!="boolean"&&!j0(p)){const v=Array.isArray(p)?p:[p];for(let y=0;y<v.length;y++){const x=RT(e,v[y]);if(x){const{transitionEnd:b,transition:w,...N}=x;for(const E in N){let j=N[E];if(Array.isArray(j)){const O=m?j.length-1:0;j=j[O]}j!==null&&(i[E]=j)}for(const E in b)i[E]=b[E]}}}return i}const kV=e=>(t,n)=>{const r=_.useContext(S0),i=_.useContext(_0),a=()=>xde(e,t,r,i);return n?a():nT(a)};function PT(e,t,n){const{style:r}=e,i={};for(const a in r)(Or(r[a])||t.style&&Or(t.style[a])||OV(a,e)||n?.getValue(a)?.liveStyle!==void 0)&&(i[a]=r[a]);return i}const _de=kV({scrapeMotionValuesFromProps:PT,createRenderState:OT});function DV(e,t,n){const r=PT(e,t,n);for(const i in e)if(Or(e[i])||Or(t[i])){const a=Ed.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[a]=e[i]}return r}const Sde=kV({scrapeMotionValuesFromProps:DV,createRenderState:PV}),jde=Symbol.for("motionComponentSymbol");function ou(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function Nde(e,t,n){return _.useCallback(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):ou(n)&&(n.current=r))},[t])}const MT=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Ede="framerAppearId",IV="data-"+MT(Ede),$V=_.createContext({});function Ade(e,t,n,r,i){const{visualElement:a}=_.useContext(S0),o=_.useContext(EV),l=_.useContext(_0),d=_.useContext(NT).reducedMotion,f=_.useRef(null);r=r||o.renderer,!f.current&&r&&(f.current=r(e,{visualState:t,parent:a,props:n,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:d}));const m=f.current,p=_.useContext($V);m&&!m.projection&&i&&(m.type==="html"||m.type==="svg")&&Tde(f.current,n,i,p);const v=_.useRef(!1);_.useInsertionEffect(()=>{m&&v.current&&m.update(n,l)});const y=n[IV],x=_.useRef(!!y&&!window.MotionHandoffIsComplete?.(y)&&window.MotionHasOptimisedAnimation?.(y));return k8(()=>{m&&(v.current=!0,window.MotionIsMounted=!0,m.updateFeatures(),m.scheduleRenderMicrotask(),x.current&&m.animationState&&m.animationState.animateChanges())}),_.useEffect(()=>{m&&(!x.current&&m.animationState&&m.animationState.animateChanges(),x.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(y)}),x.current=!1),m.enteringChildren=void 0)}),m}function Tde(e,t,n,r){const{layoutId:i,layout:a,drag:o,dragConstraints:l,layoutScroll:d,layoutRoot:f,layoutCrossfade:m}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:LV(e.parent)),e.projection.setOptions({layoutId:i,layout:a,alwaysMeasureLayout:!!o||l&&ou(l),visualElement:e,animationType:typeof a=="string"?a:"both",initialPromotionConfig:r,crossfade:m,layoutScroll:d,layoutRoot:f})}function LV(e){if(e)return e.options.allowProjection!==!1?e.projection:LV(e.parent)}function f_(e,{forwardMotionProps:t=!1}={},n,r){n&&tde(n);const i=CT(e)?Sde:_de;function a(l,d){let f;const m={..._.useContext(NT),...l,layoutId:Ode(l)},{isStatic:p}=m,v=sde(l),y=i(l,p);if(!p&&rT){Cde();const x=Rde(m);f=x.MeasureLayout,v.visualElement=Ade(e,y,m,r,x.ProjectionNode)}return c.jsxs(S0.Provider,{value:v,children:[f&&v.visualElement?c.jsx(f,{visualElement:v.visualElement,...m}):null,bde(e,l,Nde(y,v.visualElement,d),y,p,t)]})}a.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const o=_.forwardRef(a);return o[jde]=e,o}function Ode({layoutId:e}){const t=_.useContext(tT).id;return t&&e!==void 0?t+"-"+e:e}function Cde(e,t){_.useContext(EV).strict}function Rde(e){const{drag:t,layout:n}=Mu;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:t?.isEnabled(e)||n?.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function Pde(e,t){if(typeof Proxy>"u")return f_;const n=new Map,r=(a,o)=>f_(a,o,e,t),i=(a,o)=>r(a,o);return new Proxy(i,{get:(a,o)=>o==="create"?r:(n.has(o)||n.set(o,f_(o,void 0,e,t)),n.get(o))})}function BV({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function Mde({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function kde(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function h_(e){return e===void 0||e===1}function DN({scale:e,scaleX:t,scaleY:n}){return!h_(e)||!h_(t)||!h_(n)}function ol(e){return DN(e)||qV(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function qV(e){return mI(e.x)||mI(e.y)}function mI(e){return e&&e!=="0%"}function Hv(e,t,n){const r=e-n,i=t*r;return n+i}function pI(e,t,n,r,i){return i!==void 0&&(e=Hv(e,i,r)),Hv(e,n,r)+t}function IN(e,t=0,n=1,r,i){e.min=pI(e.min,t,n,r,i),e.max=pI(e.max,t,n,r,i)}function zV(e,{x:t,y:n}){IN(e.x,t.translate,t.scale,t.originPoint),IN(e.y,n.translate,n.scale,n.originPoint)}const gI=.999999999999,vI=1.0000000000001;function Dde(e,t,n,r=!1){const i=n.length;if(!i)return;t.x=t.y=1;let a,o;for(let l=0;l<i;l++){a=n[l],o=a.projectionDelta;const{visualElement:d}=a.options;d&&d.props.style&&d.props.style.display==="contents"||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&cu(e,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,zV(e,o)),r&&ol(a.latestValues)&&cu(e,a.latestValues))}t.x<vI&&t.x>gI&&(t.x=1),t.y<vI&&t.y>gI&&(t.y=1)}function lu(e,t){e.min=e.min+t,e.max=e.max+t}function yI(e,t,n,r,i=.5){const a=Nn(e.min,e.max,i);IN(e,t,n,a,r)}function cu(e,t){yI(e.x,t.x,t.scaleX,t.scale,t.originX),yI(e.y,t.y,t.scaleY,t.scale,t.originY)}function FV(e,t){return BV(kde(e.getBoundingClientRect(),t))}function Ide(e,t,n){const r=FV(e,n),{scroll:i}=t;return i&&(lu(r.x,i.offset.x),lu(r.y,i.offset.y)),r}const bI=()=>({translate:0,scale:1,origin:0,originPoint:0}),uu=()=>({x:bI(),y:bI()}),xI=()=>({min:0,max:0}),Dn=()=>({x:xI(),y:xI()}),$N={current:null},UV={current:!1};function $de(){if(UV.current=!0,!!rT)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>$N.current=e.matches;e.addEventListener("change",t),t()}else $N.current=!1}const Lde=new WeakMap;function Bde(e,t,n){for(const r in t){const i=t[r],a=n[r];if(Or(i))e.addValue(r,i);else if(Or(a))e.addValue(r,Pu(i,{owner:e}));else if(a!==i)if(e.hasValue(r)){const o=e.getValue(r);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=e.getStaticValue(r);e.addValue(r,Pu(o!==void 0?o:i,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const wI=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class qde{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:a,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=xT,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const v=Gr.now();this.renderScheduledAt<v&&(this.renderScheduledAt=v,wn.render(this.render,!1,!0))};const{latestValues:d,renderState:f}=o;this.latestValues=d,this.baseTarget={...d},this.initialValues=n.initial?{...d}:{},this.renderState=f,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=l,this.blockInitialAnimation=!!a,this.isControllingVariants=N0(n),this.isVariantNode=TV(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:m,...p}=this.scrapeMotionValuesFromProps(n,{},this);for(const v in p){const y=p[v];d[v]!==void 0&&Or(y)&&y.set(d[v])}}mount(t){this.current=t,Lde.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),UV.current||$de(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:$N.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),bo(this.notifyUpdate),bo(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=Ad.has(t);r&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&wn.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{i(),a&&a(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Mu){const n=Mu[t];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[t]&&i&&r(this.props)&&(this.features[t]=new i(this)),this.features[t]){const a=this.features[t];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Dn()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<wI.length;r++){const i=wI[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const a="on"+i,o=t[a];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=Bde(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=Pu(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(D8(r)||$8(r))?r=parseFloat(r):!Wue(r)&&xo.test(n)&&(r=yV(t,n)),this.setBaseTarget(t,Or(r)?r.get():r)),Or(r)?r.get():r}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const a=RT(this.props,n,this.presenceContext?.custom);a&&(r=a[t])}if(n&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!Or(i)?i:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new lT),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){ST.render(this.render)}}class VV extends qde{constructor(){super(...arguments),this.KeyframeResolver=Iue}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Or(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function HV(e,{style:t,vars:n},r,i){const a=e.style;let o;for(o in t)a[o]=t[o];i?.applyProjectionStyles(a,r);for(o in n)a.setProperty(o,n[o])}function zde(e){return window.getComputedStyle(e)}class Fde extends VV{constructor(){super(...arguments),this.type="html",this.renderInstance=HV}readValueFromInstance(t,n){if(Ad.has(n))return this.projection?.isProjecting?TN(n):tue(t,n);{const r=zde(t),i=(dT(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:n}){return FV(t,n)}build(t,n,r){TT(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return PT(t,n,r)}}const GV=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Ude(e,t,n,r){HV(e,t,void 0,r);for(const i in t.attrs)e.setAttribute(GV.has(i)?i:MT(i),t.attrs[i])}class Vde extends VV{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Dn}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Ad.has(n)){const r=vV(n);return r&&r.default||0}return n=GV.has(n)?n:MT(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return DV(t,n,r)}build(t,n,r){RV(t,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(t,n,r,i){Ude(t,n,r,i)}mount(t){this.isSVGTag=MV(t.tagName),super.mount(t)}}const Hde=(e,t)=>CT(e)?new Vde(t):new Fde(t,{allowProjection:e!==_.Fragment});function _u(e,t,n){const r=e.getProps();return RT(r,t,n!==void 0?n:r.custom,e)}const LN=e=>Array.isArray(e);function Gde(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Pu(n))}function Kde(e){return LN(e)?e[e.length-1]||0:e}function Wde(e,t){const n=_u(e,t);let{transitionEnd:r={},transition:i={},...a}=n||{};a={...a,...r};for(const o in a){const l=Kde(a[o]);Gde(e,o,l)}}function Yde(e){return!!(Or(e)&&e.add)}function BN(e,t){const n=e.getValue("willChange");if(Yde(n))return n.add(t);if(!n&&gs.WillChange){const r=new gs.WillChange("auto");e.addValue("willChange",r),r.add(t)}}function KV(e){return e.props[IV]}const Xde=e=>e!==null;function Qde(e,{repeat:t,repeatType:n="loop"},r){const i=e.filter(Xde),a=t&&n!=="loop"&&t%2===1?0:i.length-1;return i[a]}const Jde={type:"spring",stiffness:500,damping:25,restSpeed:10},Zde=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),efe={type:"keyframes",duration:.8},tfe={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},nfe=(e,{keyframes:t})=>t.length>2?efe:Ad.has(e)?e.startsWith("scale")?Zde(t[1]):Jde:tfe;function rfe({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:a,repeatType:o,repeatDelay:l,from:d,elapsed:f,...m}){return!!Object.keys(m).length}const kT=(e,t,n,r={},i,a)=>o=>{const l=wT(r,e)||{},d=l.delay||r.delay||0;let{elapsed:f=0}=r;f=f-ja(d);const m={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...l,delay:-f,onUpdate:v=>{t.set(v),l.onUpdate&&l.onUpdate(v)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:a?void 0:i};rfe(l)||Object.assign(m,nfe(e,m)),m.duration&&(m.duration=ja(m.duration)),m.repeatDelay&&(m.repeatDelay=ja(m.repeatDelay)),m.from!==void 0&&(m.keyframes[0]=m.from);let p=!1;if((m.type===!1||m.duration===0&&!m.repeatDelay)&&(MN(m),m.delay===0&&(p=!0)),(gs.instantAnimations||gs.skipAnimations)&&(p=!0,MN(m),m.delay=0),m.allowFlatten=!l.type&&!l.ease,p&&!a&&t.get()!==void 0){const v=Qde(m.keyframes,l);if(v!==void 0){wn.update(()=>{m.onUpdate(v),m.onComplete()});return}}return l.isSync?new bT(m):new jue(m)};function ife({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function WV(e,t,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:a=e.getDefaultTransition(),transitionEnd:o,...l}=t;r&&(a=r);const d=[],f=i&&e.animationState&&e.animationState.getState()[i];for(const m in l){const p=e.getValue(m,e.latestValues[m]??null),v=l[m];if(v===void 0||f&&ife(f,m))continue;const y={delay:n,...wT(a||{},m)},x=p.get();if(x!==void 0&&!p.isAnimating&&!Array.isArray(v)&&v===x&&!y.velocity)continue;let b=!1;if(window.MotionHandoffAnimation){const N=KV(e);if(N){const E=window.MotionHandoffAnimation(N,m,wn);E!==null&&(y.startTime=E,b=!0)}}BN(e,m),p.start(kT(m,p,v,e.shouldReduceMotion&&mV.has(m)?{type:!1}:y,e,b));const w=p.animation;w&&d.push(w)}return o&&Promise.all(d).then(()=>{wn.update(()=>{o&&Wde(e,o)})}),d}function YV(e,t,n,r=0,i=1){const a=Array.from(e).sort((f,m)=>f.sortNodePosition(m)).indexOf(t),o=e.size,l=(o-1)*r;return typeof n=="function"?n(a,o):i===1?a*r:l-a*r}function qN(e,t,n={}){const r=_u(e,t,n.type==="exit"?e.presenceContext?.custom:void 0);let{transition:i=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const a=r?()=>Promise.all(WV(e,r,n)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(d=0)=>{const{delayChildren:f=0,staggerChildren:m,staggerDirection:p}=i;return afe(e,t,d,f,m,p,n)}:()=>Promise.resolve(),{when:l}=i;if(l){const[d,f]=l==="beforeChildren"?[a,o]:[o,a];return d().then(()=>f())}else return Promise.all([a(),o(n.delay)])}function afe(e,t,n=0,r=0,i=0,a=1,o){const l=[];for(const d of e.variantChildren)d.notify("AnimationStart",t),l.push(qN(d,t,{...o,delay:n+(typeof r=="function"?0:r)+YV(e.variantChildren,d,r,i,a)}).then(()=>d.notify("AnimationComplete",t)));return Promise.all(l)}function sfe(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const i=t.map(a=>qN(e,a,n));r=Promise.all(i)}else if(typeof t=="string")r=qN(e,t,n);else{const i=typeof t=="function"?_u(e,t,n.custom):t;r=Promise.all(WV(e,i,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}function XV(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}const ofe=AT.length;function QV(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?QV(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<ofe;n++){const r=AT[n],i=e.props[r];(Fh(i)||i===!1)&&(t[r]=i)}return t}const lfe=[...ET].reverse(),cfe=ET.length;function ufe(e){return t=>Promise.all(t.map(({animation:n,options:r})=>sfe(e,n,r)))}function dfe(e){let t=ufe(e),n=_I(),r=!0;const i=d=>(f,m)=>{const p=_u(e,m,d==="exit"?e.presenceContext?.custom:void 0);if(p){const{transition:v,transitionEnd:y,...x}=p;f={...f,...x,...y}}return f};function a(d){t=d(e)}function o(d){const{props:f}=e,m=QV(e.parent)||{},p=[],v=new Set;let y={},x=1/0;for(let w=0;w<cfe;w++){const N=lfe[w],E=n[N],j=f[N]!==void 0?f[N]:m[N],O=Fh(j),T=N===d?E.isActive:null;T===!1&&(x=w);let C=j===m[N]&&j!==f[N]&&O;if(C&&r&&e.manuallyAnimateOnMount&&(C=!1),E.protectedKeys={...y},!E.isActive&&T===null||!j&&!E.prevProp||j0(j)||typeof j=="boolean")continue;const R=ffe(E.prevProp,j);let P=R||N===d&&E.isActive&&!C&&O||w>x&&O,k=!1;const $=Array.isArray(j)?j:[j];let B=$.reduce(i(N),{});T===!1&&(B={});const{prevResolvedValues:I={}}=E,F={...I,...B},V=G=>{P=!0,v.has(G)&&(k=!0,v.delete(G)),E.needsAnimating[G]=!0;const z=e.getValue(G);z&&(z.liveStyle=!1)};for(const G in F){const z=B[G],Y=I[G];if(y.hasOwnProperty(G))continue;let de=!1;LN(z)&&LN(Y)?de=!XV(z,Y):de=z!==Y,de?z!=null?V(G):v.add(G):z!==void 0&&v.has(G)?V(G):E.protectedKeys[G]=!0}E.prevProp=j,E.prevResolvedValues=B,E.isActive&&(y={...y,...B}),r&&e.blockInitialAnimation&&(P=!1);const U=C&&R;P&&(!U||k)&&p.push(...$.map(G=>{const z={type:N};if(typeof G=="string"&&r&&!U&&e.manuallyAnimateOnMount&&e.parent){const{parent:Y}=e,de=_u(Y,G);if(Y.enteringChildren&&de){const{delayChildren:H}=de.transition||{};z.delay=YV(Y.enteringChildren,e,H)}}return{animation:G,options:z}}))}if(v.size){const w={};if(typeof f.initial!="boolean"){const N=_u(e,Array.isArray(f.initial)?f.initial[0]:f.initial);N&&N.transition&&(w.transition=N.transition)}v.forEach(N=>{const E=e.getBaseTarget(N),j=e.getValue(N);j&&(j.liveStyle=!0),w[N]=E??null}),p.push({animation:w})}let b=!!p.length;return r&&(f.initial===!1||f.initial===f.animate)&&!e.manuallyAnimateOnMount&&(b=!1),r=!1,b?t(p):Promise.resolve()}function l(d,f){if(n[d].isActive===f)return Promise.resolve();e.variantChildren?.forEach(p=>p.animationState?.setActive(d,f)),n[d].isActive=f;const m=o(d);for(const p in n)n[p].protectedKeys={};return m}return{animateChanges:o,setActive:l,setAnimateFunction:a,getState:()=>n,reset:()=>{n=_I()}}}function ffe(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!XV(t,e):!1}function nl(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function _I(){return{animate:nl(!0),whileInView:nl(),whileHover:nl(),whileTap:nl(),whileDrag:nl(),whileFocus:nl(),exit:nl()}}class Eo{constructor(t){this.isMounted=!1,this.node=t}update(){}}class hfe extends Eo{constructor(t){super(t),t.animationState||(t.animationState=dfe(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();j0(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let mfe=0;class pfe extends Eo{constructor(){super(...arguments),this.id=mfe++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const i=this.node.animationState.setActive("exit",!t);n&&!t&&i.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const gfe={animation:{Feature:hfe},exit:{Feature:pfe}};function Vh(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function Km(e){return{point:{x:e.pageX,y:e.pageY}}}const vfe=e=>t=>jT(t)&&e(t,Km(t));function mh(e,t,n,r){return Vh(e,t,vfe(n),r)}const JV=1e-4,yfe=1-JV,bfe=1+JV,ZV=.01,xfe=0-ZV,wfe=0+ZV;function Dr(e){return e.max-e.min}function _fe(e,t,n){return Math.abs(e-t)<=n}function SI(e,t,n,r=.5){e.origin=r,e.originPoint=Nn(t.min,t.max,e.origin),e.scale=Dr(n)/Dr(t),e.translate=Nn(n.min,n.max,e.origin)-e.originPoint,(e.scale>=yfe&&e.scale<=bfe||isNaN(e.scale))&&(e.scale=1),(e.translate>=xfe&&e.translate<=wfe||isNaN(e.translate))&&(e.translate=0)}function ph(e,t,n,r){SI(e.x,t.x,n.x,r?r.originX:void 0),SI(e.y,t.y,n.y,r?r.originY:void 0)}function jI(e,t,n){e.min=n.min+t.min,e.max=e.min+Dr(t)}function Sfe(e,t,n){jI(e.x,t.x,n.x),jI(e.y,t.y,n.y)}function NI(e,t,n){e.min=t.min-n.min,e.max=e.min+Dr(t)}function gh(e,t,n){NI(e.x,t.x,n.x),NI(e.y,t.y,n.y)}function Ci(e){return[e("x"),e("y")]}const e9=({current:e})=>e?e.ownerDocument.defaultView:null,EI=(e,t)=>Math.abs(e-t);function jfe(e,t){const n=EI(e.x,t.x),r=EI(e.y,t.y);return Math.sqrt(n**2+r**2)}class t9{constructor(t,n,{transformPagePoint:r,contextWindow:i=window,dragSnapToOrigin:a=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=p_(this.lastMoveEventInfo,this.history),y=this.startEvent!==null,x=jfe(v.offset,{x:0,y:0})>=this.distanceThreshold;if(!y&&!x)return;const{point:b}=v,{timestamp:w}=br;this.history.push({...b,timestamp:w});const{onStart:N,onMove:E}=this.handlers;y||(N&&N(this.lastMoveEvent,v),this.startEvent=this.lastMoveEvent),E&&E(this.lastMoveEvent,v)},this.handlePointerMove=(v,y)=>{this.lastMoveEvent=v,this.lastMoveEventInfo=m_(y,this.transformPagePoint),wn.update(this.updatePoint,!0)},this.handlePointerUp=(v,y)=>{this.end();const{onEnd:x,onSessionEnd:b,resumeAnimation:w}=this.handlers;if(this.dragSnapToOrigin&&w&&w(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const N=p_(v.type==="pointercancel"?this.lastMoveEventInfo:m_(y,this.transformPagePoint),this.history);this.startEvent&&x&&x(v,N),b&&b(v,N)},!jT(t))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=o,this.contextWindow=i||window;const l=Km(t),d=m_(l,this.transformPagePoint),{point:f}=d,{timestamp:m}=br;this.history=[{...f,timestamp:m}];const{onSessionStart:p}=n;p&&p(t,p_(d,this.history)),this.removeListeners=Vm(mh(this.contextWindow,"pointermove",this.handlePointerMove),mh(this.contextWindow,"pointerup",this.handlePointerUp),mh(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),bo(this.updatePoint)}}function m_(e,t){return t?{point:t(e.point)}:e}function AI(e,t){return{x:e.x-t.x,y:e.y-t.y}}function p_({point:e},t){return{point:e,delta:AI(e,n9(t)),offset:AI(e,Nfe(t)),velocity:Efe(t,.1)}}function Nfe(e){return e[0]}function n9(e){return e[e.length-1]}function Efe(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const i=n9(e);for(;n>=0&&(r=e[n],!(i.timestamp-r.timestamp>ja(t)));)n--;if(!r)return{x:0,y:0};const a=ki(i.timestamp-r.timestamp);if(a===0)return{x:0,y:0};const o={x:(i.x-r.x)/a,y:(i.y-r.y)/a};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Afe(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?Nn(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?Nn(n,e,r.max):Math.min(e,n)),e}function TI(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function Tfe(e,{top:t,left:n,bottom:r,right:i}){return{x:TI(e.x,n,i),y:TI(e.y,t,r)}}function OI(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function Ofe(e,t){return{x:OI(e.x,t.x),y:OI(e.y,t.y)}}function Cfe(e,t){let n=.5;const r=Dr(e),i=Dr(t);return i>r?n=Bh(t.min,t.max-r,e.min):r>i&&(n=Bh(e.min,e.max-i,t.min)),ps(0,1,n)}function Rfe(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const zN=.35;function Pfe(e=zN){return e===!1?e=0:e===!0&&(e=zN),{x:CI(e,"left","right"),y:CI(e,"top","bottom")}}function CI(e,t,n){return{min:RI(e,t),max:RI(e,n)}}function RI(e,t){return typeof e=="number"?e:e[t]||0}const Mfe=new WeakMap;class kfe{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Dn(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const a=p=>{const{dragSnapToOrigin:v}=this.getProps();v?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Km(p).point)},o=(p,v)=>{const{drag:y,dragPropagation:x,onDragStart:b}=this.getProps();if(y&&!x&&(this.openDragLock&&this.openDragLock(),this.openDragLock=que(y),!this.openDragLock))return;this.latestPointerEvent=p,this.latestPanInfo=v,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ci(N=>{let E=this.getAxisMotionValue(N).get()||0;if(Na.test(E)){const{projection:j}=this.visualElement;if(j&&j.layout){const O=j.layout.layoutBox[N];O&&(E=Dr(O)*(parseFloat(E)/100))}}this.originPoint[N]=E}),b&&wn.postRender(()=>b(p,v)),BN(this.visualElement,"transform");const{animationState:w}=this.visualElement;w&&w.setActive("whileDrag",!0)},l=(p,v)=>{this.latestPointerEvent=p,this.latestPanInfo=v;const{dragPropagation:y,dragDirectionLock:x,onDirectionLock:b,onDrag:w}=this.getProps();if(!y&&!this.openDragLock)return;const{offset:N}=v;if(x&&this.currentDirection===null){this.currentDirection=Dfe(N),this.currentDirection!==null&&b&&b(this.currentDirection);return}this.updateAxis("x",v.point,N),this.updateAxis("y",v.point,N),this.visualElement.render(),w&&w(p,v)},d=(p,v)=>{this.latestPointerEvent=p,this.latestPanInfo=v,this.stop(p,v),this.latestPointerEvent=null,this.latestPanInfo=null},f=()=>Ci(p=>this.getAnimationState(p)==="paused"&&this.getAxisMotionValue(p).animation?.play()),{dragSnapToOrigin:m}=this.getProps();this.panSession=new t9(t,{onSessionStart:a,onStart:o,onMove:l,onSessionEnd:d,resumeAnimation:f},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:m,distanceThreshold:r,contextWindow:e9(this.visualElement)})}stop(t,n){const r=t||this.latestPointerEvent,i=n||this.latestPanInfo,a=this.isDragging;if(this.cancel(),!a||!i||!r)return;const{velocity:o}=i;this.startAnimation(o);const{onDragEnd:l}=this.getProps();l&&wn.postRender(()=>l(r,i))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:i}=this.getProps();if(!r||!Fg(t,i,this.currentDirection))return;const a=this.getAxisMotionValue(t);let o=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(o=Afe(o,this.constraints[t],this.elastic[t])),a.set(o)}resolveConstraints(){const{dragConstraints:t,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,i=this.constraints;t&&ou(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=Tfe(r.layoutBox,t):this.constraints=!1,this.elastic=Pfe(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Ci(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=Rfe(r.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!ou(t))return!1;const r=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const a=Ide(r,i.root,this.visualElement.getTransformPagePoint());let o=Ofe(i.layout.layoutBox,a);if(n){const l=n(Mde(o));this.hasMutatedConstraints=!!l,l&&(o=BV(l))}return o}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:a,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),d=this.constraints||{},f=Ci(m=>{if(!Fg(m,n,this.currentDirection))return;let p=d&&d[m]||{};o&&(p={min:0,max:0});const v=i?200:1e6,y=i?40:1e7,x={type:"inertia",velocity:r?t[m]:0,bounceStiffness:v,bounceDamping:y,timeConstant:750,restDelta:1,restSpeed:10,...a,...p};return this.startAxisValueAnimation(m,x)});return Promise.all(f).then(l)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return BN(this.visualElement,t),r.start(kT(t,r,0,n,this.visualElement,!1))}stopAnimation(){Ci(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Ci(t=>this.getAxisMotionValue(t).animation?.pause())}getAnimationState(t){return this.getAxisMotionValue(t).animation?.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){Ci(n=>{const{drag:r}=this.getProps();if(!Fg(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,a=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:l}=i.layout.layoutBox[n];a.set(t[n]-Nn(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!ou(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Ci(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const d=l.get();i[o]=Cfe({min:d,max:d},this.constraints[o])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Ci(o=>{if(!Fg(o,t,null))return;const l=this.getAxisMotionValue(o),{min:d,max:f}=this.constraints[o];l.set(Nn(d,f,i[o]))})}addListeners(){if(!this.visualElement.current)return;Mfe.set(this.visualElement,this);const t=this.visualElement.current,n=mh(t,"pointerdown",d=>{const{drag:f,dragListener:m=!0}=this.getProps();f&&m&&this.start(d)}),r=()=>{const{dragConstraints:d}=this.getProps();ou(d)&&d.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,a=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),wn.read(r);const o=Vh(window,"resize",()=>this.scalePositionWithinConstraints()),l=i.addEventListener("didUpdate",(({delta:d,hasLayoutChanged:f})=>{this.isDragging&&f&&(Ci(m=>{const p=this.getAxisMotionValue(m);p&&(this.originPoint[m]+=d[m].translate,p.set(p.get()+d[m].translate))}),this.visualElement.render())}));return()=>{o(),n(),a(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:a=!1,dragElastic:o=zN,dragMomentum:l=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:a,dragElastic:o,dragMomentum:l}}}function Fg(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function Dfe(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class Ife extends Eo{constructor(t){super(t),this.removeGroupControls=$i,this.removeListeners=$i,this.controls=new kfe(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||$i}unmount(){this.removeGroupControls(),this.removeListeners()}}const PI=e=>(t,n)=>{e&&wn.postRender(()=>e(t,n))};class $fe extends Eo{constructor(){super(...arguments),this.removePointerDownListener=$i}onPointerDown(t){this.session=new t9(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:e9(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:PI(t),onStart:PI(n),onMove:r,onEnd:(a,o)=>{delete this.session,i&&wn.postRender(()=>i(a,o))}}}mount(){this.removePointerDownListener=mh(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const bv={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function MI(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Mf={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(vt.test(e))e=parseFloat(e);else return e;const n=MI(e,t.target.x),r=MI(e,t.target.y);return`${n}% ${r}%`}},Lfe={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,i=xo.parse(e);if(i.length>5)return r;const a=xo.createTransformer(e),o=typeof i[0]!="number"?1:0,l=n.x.scale*t.x,d=n.y.scale*t.y;i[0+o]/=l,i[1+o]/=d;const f=Nn(l,d,.5);return typeof i[2+o]=="number"&&(i[2+o]/=f),typeof i[3+o]=="number"&&(i[3+o]/=f),a(i)}};let g_=!1;class Bfe extends _.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:a}=t;ode(qfe),a&&(n.group&&n.group.add(a),r&&r.register&&i&&r.register(a),g_&&a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),bv.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:i,isPresent:a}=this.props,{projection:o}=r;return o&&(o.isPresent=a,g_=!0,i||t.layoutDependency!==n||n===void 0||t.isPresent!==a?o.willUpdate():this.safeToRemove(),t.isPresent!==a&&(a?o.promote():o.relegate()||wn.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),ST.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=t;g_=!0,i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function r9(e){const[t,n]=NV(),r=_.useContext(tT);return c.jsx(Bfe,{...e,layoutGroup:r,switchLayoutGroup:_.useContext($V),isPresent:t,safeToRemove:n})}const qfe={borderRadius:{...Mf,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Mf,borderTopRightRadius:Mf,borderBottomLeftRadius:Mf,borderBottomRightRadius:Mf,boxShadow:Lfe};function zfe(e,t,n){const r=Or(e)?e:Pu(e);return r.start(kT("",r,t,n)),r.animation}const Ffe=(e,t)=>e.depth-t.depth;class Ufe{constructor(){this.children=[],this.isDirty=!1}add(t){iT(this.children,t),this.isDirty=!0}remove(t){aT(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(Ffe),this.isDirty=!1,this.children.forEach(t)}}function Vfe(e,t){const n=Gr.now(),r=({timestamp:i})=>{const a=i-n;a>=t&&(bo(r),e(a-t))};return wn.setup(r,!0),()=>bo(r)}const i9=["TopLeft","TopRight","BottomLeft","BottomRight"],Hfe=i9.length,kI=e=>typeof e=="string"?parseFloat(e):e,DI=e=>typeof e=="number"||vt.test(e);function Gfe(e,t,n,r,i,a){i?(e.opacity=Nn(0,n.opacity??1,Kfe(r)),e.opacityExit=Nn(t.opacity??1,0,Wfe(r))):a&&(e.opacity=Nn(t.opacity??1,n.opacity??1,r));for(let o=0;o<Hfe;o++){const l=`border${i9[o]}Radius`;let d=II(t,l),f=II(n,l);if(d===void 0&&f===void 0)continue;d||(d=0),f||(f=0),d===0||f===0||DI(d)===DI(f)?(e[l]=Math.max(Nn(kI(d),kI(f),r),0),(Na.test(f)||Na.test(d))&&(e[l]+="%")):e[l]=f}(t.rotate||n.rotate)&&(e.rotate=Nn(t.rotate||0,n.rotate||0,r))}function II(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const Kfe=a9(0,.5,H8),Wfe=a9(.5,.95,$i);function a9(e,t,n){return r=>r<e?0:r>t?1:n(Bh(e,t,r))}function $I(e,t){e.min=t.min,e.max=t.max}function Ei(e,t){$I(e.x,t.x),$I(e.y,t.y)}function LI(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function BI(e,t,n,r,i){return e-=t,e=Hv(e,1/n,r),i!==void 0&&(e=Hv(e,1/i,r)),e}function Yfe(e,t=0,n=1,r=.5,i,a=e,o=e){if(Na.test(t)&&(t=parseFloat(t),t=Nn(o.min,o.max,t/100)-o.min),typeof t!="number")return;let l=Nn(a.min,a.max,r);e===a&&(l-=t),e.min=BI(e.min,t,n,l,i),e.max=BI(e.max,t,n,l,i)}function qI(e,t,[n,r,i],a,o){Yfe(e,t[n],t[r],t[i],t.scale,a,o)}const Xfe=["x","scaleX","originX"],Qfe=["y","scaleY","originY"];function zI(e,t,n,r){qI(e.x,t,Xfe,n?n.x:void 0,r?r.x:void 0),qI(e.y,t,Qfe,n?n.y:void 0,r?r.y:void 0)}function FI(e){return e.translate===0&&e.scale===1}function s9(e){return FI(e.x)&&FI(e.y)}function UI(e,t){return e.min===t.min&&e.max===t.max}function Jfe(e,t){return UI(e.x,t.x)&&UI(e.y,t.y)}function VI(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function o9(e,t){return VI(e.x,t.x)&&VI(e.y,t.y)}function HI(e){return Dr(e.x)/Dr(e.y)}function GI(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class Zfe{constructor(){this.members=[]}add(t){iT(this.members,t),t.scheduleRender()}remove(t){if(aT(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(i=>t===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const a=this.members[i];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:i}=t.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function ehe(e,t,n){let r="";const i=e.x.translate/t.x,a=e.y.translate/t.y,o=n?.z||0;if((i||a||o)&&(r=`translate3d(${i}px, ${a}px, ${o}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:f,rotate:m,rotateX:p,rotateY:v,skewX:y,skewY:x}=n;f&&(r=`perspective(${f}px) ${r}`),m&&(r+=`rotate(${m}deg) `),p&&(r+=`rotateX(${p}deg) `),v&&(r+=`rotateY(${v}deg) `),y&&(r+=`skewX(${y}deg) `),x&&(r+=`skewY(${x}deg) `)}const l=e.x.scale*t.x,d=e.y.scale*t.y;return(l!==1||d!==1)&&(r+=`scale(${l}, ${d})`),r||"none"}const v_=["","X","Y","Z"],the=1e3;let nhe=0;function y_(e,t,n,r){const{latestValues:i}=t;i[e]&&(n[e]=i[e],t.setStaticValue(e,0),r&&(r[e]=0))}function l9(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=KV(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:a}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",wn,!(i||a))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&l9(r)}function c9({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},l=t?.()){this.id=nhe++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(ahe),this.nodes.forEach(che),this.nodes.forEach(uhe),this.nodes.forEach(she)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new Ufe)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new lT),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const d=this.eventHandlers.get(o);d&&d.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=jV(o)&&!Gue(o),this.instance=o;const{layoutId:l,layout:d,visualElement:f}=this.options;if(f&&!f.current&&f.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(d||l)&&(this.isLayoutDirty=!0),e){let m,p=0;const v=()=>this.root.updateBlockedByResize=!1;wn.read(()=>{p=window.innerWidth}),e(o,()=>{const y=window.innerWidth;y!==p&&(p=y,this.root.updateBlockedByResize=!0,m&&m(),m=Vfe(v,250),bv.hasAnimatedSinceResize&&(bv.hasAnimatedSinceResize=!1,this.nodes.forEach(YI)))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&f&&(l||d)&&this.addEventListener("didUpdate",({delta:m,hasLayoutChanged:p,hasRelativeLayoutChanged:v,layout:y})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const x=this.options.transition||f.getDefaultTransition()||phe,{onLayoutAnimationStart:b,onLayoutAnimationComplete:w}=f.getProps(),N=!this.targetLayout||!o9(this.targetLayout,y),E=!p&&v;if(this.options.layoutRoot||this.resumeFrom||E||p&&(N||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const j={...wT(x,"layout"),onPlay:b,onComplete:w};(f.shouldReduceMotion||this.options.layoutRoot)&&(j.delay=0,j.type=!1),this.startAnimation(j),this.setAnimationOrigin(m,E)}else p||YI(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=y})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),bo(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(dhe),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&l9(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let m=0;m<this.path.length;m++){const p=this.path[m];p.shouldResetTransform=!0,p.updateScroll("snapshot"),p.options.layoutRoot&&p.willUpdate(!1)}const{layoutId:l,layout:d}=this.options;if(l===void 0&&!d)return;const f=this.getTransformTemplate();this.prevTransformTemplateValue=f?f(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(KI);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(WI);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(lhe),this.nodes.forEach(rhe),this.nodes.forEach(ihe)):this.nodes.forEach(WI),this.clearAllSnapshots();const l=Gr.now();br.delta=ps(0,1e3/60,l-br.timestamp),br.timestamp=l,br.isProcessing=!0,s_.update.process(br),s_.preRender.process(br),s_.render.process(br),br.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,ST.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(ohe),this.sharedNodes.forEach(fhe)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,wn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){wn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Dr(this.snapshot.measuredBox.x)&&!Dr(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Dn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l&&this.instance){const d=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:d,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!s9(this.projectionDelta),d=this.getTransformTemplate(),f=d?d(this.latestValues,""):void 0,m=f!==this.prevTransformTemplateValue;o&&this.instance&&(l||ol(this.latestValues)||m)&&(i(this.instance,f),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let d=this.removeElementScroll(l);return o&&(d=this.removeTransform(d)),ghe(d),{animationId:this.root.animationId,measuredBox:l,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return Dn();const l=o.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(vhe))){const{scroll:f}=this.root;f&&(lu(l.x,f.offset.x),lu(l.y,f.offset.y))}return l}removeElementScroll(o){const l=Dn();if(Ei(l,o),this.scroll?.wasRoot)return l;for(let d=0;d<this.path.length;d++){const f=this.path[d],{scroll:m,options:p}=f;f!==this.root&&m&&p.layoutScroll&&(m.wasRoot&&Ei(l,o),lu(l.x,m.offset.x),lu(l.y,m.offset.y))}return l}applyTransform(o,l=!1){const d=Dn();Ei(d,o);for(let f=0;f<this.path.length;f++){const m=this.path[f];!l&&m.options.layoutScroll&&m.scroll&&m!==m.root&&cu(d,{x:-m.scroll.offset.x,y:-m.scroll.offset.y}),ol(m.latestValues)&&cu(d,m.latestValues)}return ol(this.latestValues)&&cu(d,this.latestValues),d}removeTransform(o){const l=Dn();Ei(l,o);for(let d=0;d<this.path.length;d++){const f=this.path[d];if(!f.instance||!ol(f.latestValues))continue;DN(f.latestValues)&&f.updateSnapshot();const m=Dn(),p=f.measurePageBox();Ei(m,p),zI(l,f.latestValues,f.snapshot?f.snapshot.layoutBox:void 0,m)}return ol(this.latestValues)&&zI(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==br.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==l;if(!(o||d&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:m,layoutId:p}=this.options;if(!(!this.layout||!(m||p))){if(this.resolvedRelativeTargetAt=br.timestamp,!this.targetDelta&&!this.relativeTarget){const v=this.getClosestProjectingParent();v&&v.layout&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Dn(),this.relativeTargetOrigin=Dn(),gh(this.relativeTargetOrigin,this.layout.layoutBox,v.layout.layoutBox),Ei(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Dn(),this.targetWithTransforms=Dn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Sfe(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ei(this.target,this.layout.layoutBox),zV(this.target,this.targetDelta)):Ei(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const v=this.getClosestProjectingParent();v&&!!v.resumingFrom==!!this.resumingFrom&&!v.options.layoutScroll&&v.target&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Dn(),this.relativeTargetOrigin=Dn(),gh(this.relativeTargetOrigin,this.target,v.target),Ei(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||DN(this.parent.latestValues)||qV(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const o=this.getLead(),l=!!this.resumingFrom||this!==o;let d=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(d=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===br.timestamp&&(d=!1),d)return;const{layout:f,layoutId:m}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(f||m))return;Ei(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,v=this.treeScale.y;Dde(this.layoutCorrected,this.treeScale,this.path,l),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=Dn());const{target:y}=o;if(!y){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(LI(this.prevProjectionDelta.x,this.projectionDelta.x),LI(this.prevProjectionDelta.y,this.projectionDelta.y)),ph(this.projectionDelta,this.layoutCorrected,y,this.latestValues),(this.treeScale.x!==p||this.treeScale.y!==v||!GI(this.projectionDelta.x,this.prevProjectionDelta.x)||!GI(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",y))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.visualElement?.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=uu(),this.projectionDelta=uu(),this.projectionDeltaWithTransform=uu()}setAnimationOrigin(o,l=!1){const d=this.snapshot,f=d?d.latestValues:{},m={...this.latestValues},p=uu();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const v=Dn(),y=d?d.source:void 0,x=this.layout?this.layout.source:void 0,b=y!==x,w=this.getStack(),N=!w||w.members.length<=1,E=!!(b&&!N&&this.options.crossfade===!0&&!this.path.some(mhe));this.animationProgress=0;let j;this.mixTargetDelta=O=>{const T=O/1e3;XI(p.x,o.x,T),XI(p.y,o.y,T),this.setTargetDelta(p),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(gh(v,this.layout.layoutBox,this.relativeParent.layout.layoutBox),hhe(this.relativeTarget,this.relativeTargetOrigin,v,T),j&&Jfe(this.relativeTarget,j)&&(this.isProjectionDirty=!1),j||(j=Dn()),Ei(j,this.relativeTarget)),b&&(this.animationValues=m,Gfe(m,f,this.latestValues,T,E,N)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=T},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(bo(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=wn.update(()=>{bv.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Pu(0)),this.currentAnimation=zfe(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:l=>{this.mixTargetDelta(l),o.onUpdate&&o.onUpdate(l)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(the),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:d,layout:f,latestValues:m}=o;if(!(!l||!d||!f)){if(this!==o&&this.layout&&f&&u9(this.options.animationType,this.layout.layoutBox,f.layoutBox)){d=this.target||Dn();const p=Dr(this.layout.layoutBox.x);d.x.min=o.target.x.min,d.x.max=d.x.min+p;const v=Dr(this.layout.layoutBox.y);d.y.min=o.target.y.min,d.y.max=d.y.min+v}Ei(l,d),cu(l,m),ph(this.projectionDeltaWithTransform,this.layoutCorrected,l,m)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new Zfe),this.sharedNodes.get(o).add(l);const f=l.options.initialPromotionConfig;l.promote({transition:f?f.transition:void 0,preserveFollowOpacity:f&&f.shouldPreserveFollowOpacity?f.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){const{layoutId:o}=this.options;return o?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:o}=this.options;return o?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:d}={}){const f=this.getStack();f&&f.promote(this,d),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:d}=o;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(l=!0),!l)return;const f={};d.z&&y_("z",o,f,this.animationValues);for(let m=0;m<v_.length;m++)y_(`rotate${v_[m]}`,o,f,this.animationValues),y_(`skew${v_[m]}`,o,f,this.animationValues);o.render();for(const m in f)o.setStaticValue(m,f[m]),this.animationValues&&(this.animationValues[m]=f[m]);o.scheduleRender()}applyProjectionStyles(o,l){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const d=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=yv(l?.pointerEvents)||"",o.transform=d?d(this.latestValues,""):"none";return}const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=yv(l?.pointerEvents)||""),this.hasProjected&&!ol(this.latestValues)&&(o.transform=d?d({},""):"none",this.hasProjected=!1);return}o.visibility="";const m=f.animationValues||f.latestValues;this.applyTransformsToTarget();let p=ehe(this.projectionDeltaWithTransform,this.treeScale,m);d&&(p=d(m,p)),o.transform=p;const{x:v,y}=this.projectionDelta;o.transformOrigin=`${v.origin*100}% ${y.origin*100}% 0`,f.animationValues?o.opacity=f===this?m.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:m.opacityExit:o.opacity=f===this?m.opacity!==void 0?m.opacity:"":m.opacityExit!==void 0?m.opacityExit:0;for(const x in Uh){if(m[x]===void 0)continue;const{correct:b,applyTo:w,isCSSVariable:N}=Uh[x],E=p==="none"?m[x]:b(m[x],f);if(w){const j=w.length;for(let O=0;O<j;O++)o[w[O]]=E}else N?this.options.visualElement.renderState.vars[x]=E:o[x]=E}this.options.layoutId&&(o.pointerEvents=f===this?yv(l?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>o.currentAnimation?.stop()),this.root.nodes.forEach(KI),this.root.sharedNodes.clear()}}}function rhe(e){e.updateLayout()}function ihe(e){const t=e.resumeFrom?.snapshot||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:r}=e.layout,{animationType:i}=e.options,a=t.source!==e.layout.source;i==="size"?Ci(m=>{const p=a?t.measuredBox[m]:t.layoutBox[m],v=Dr(p);p.min=n[m].min,p.max=p.min+v}):u9(i,t.layoutBox,n)&&Ci(m=>{const p=a?t.measuredBox[m]:t.layoutBox[m],v=Dr(n[m]);p.max=p.min+v,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[m].max=e.relativeTarget[m].min+v)});const o=uu();ph(o,n,t.layoutBox);const l=uu();a?ph(l,e.applyTransform(r,!0),t.measuredBox):ph(l,n,t.layoutBox);const d=!s9(o);let f=!1;if(!e.resumeFrom){const m=e.getClosestProjectingParent();if(m&&!m.resumeFrom){const{snapshot:p,layout:v}=m;if(p&&v){const y=Dn();gh(y,t.layoutBox,p.layoutBox);const x=Dn();gh(x,n,v.layoutBox),o9(y,x)||(f=!0),m.options.layoutRoot&&(e.relativeTarget=x,e.relativeTargetOrigin=y,e.relativeParent=m)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:l,layoutDelta:o,hasLayoutChanged:d,hasRelativeLayoutChanged:f})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function ahe(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function she(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function ohe(e){e.clearSnapshot()}function KI(e){e.clearMeasurements()}function WI(e){e.isLayoutDirty=!1}function lhe(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function YI(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function che(e){e.resolveTargetDelta()}function uhe(e){e.calcProjection()}function dhe(e){e.resetSkewAndRotation()}function fhe(e){e.removeLeadSnapshot()}function XI(e,t,n){e.translate=Nn(t.translate,0,n),e.scale=Nn(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function QI(e,t,n,r){e.min=Nn(t.min,n.min,r),e.max=Nn(t.max,n.max,r)}function hhe(e,t,n,r){QI(e.x,t.x,n.x,r),QI(e.y,t.y,n.y,r)}function mhe(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const phe={duration:.45,ease:[.4,0,.1,1]},JI=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),ZI=JI("applewebkit/")&&!JI("chrome/")?Math.round:$i;function e3(e){e.min=ZI(e.min),e.max=ZI(e.max)}function ghe(e){e3(e.x),e3(e.y)}function u9(e,t,n){return e==="position"||e==="preserve-aspect"&&!_fe(HI(t),HI(n),.2)}function vhe(e){return e!==e.root&&e.scroll?.wasRoot}const yhe=c9({attachResizeListener:(e,t)=>Vh(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),b_={current:void 0},d9=c9({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!b_.current){const e=new yhe({});e.mount(window),e.setOptions({layoutScroll:!0}),b_.current=e}return b_.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),bhe={pan:{Feature:$fe},drag:{Feature:Ife,ProjectionNode:d9,MeasureLayout:r9}};function t3(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,a=r[i];a&&wn.postRender(()=>a(t,Km(t)))}class xhe extends Eo{mount(){const{current:t}=this.node;t&&(this.unmount=zue(t,(n,r)=>(t3(this.node,r,"Start"),i=>t3(this.node,i,"End"))))}unmount(){}}class whe extends Eo{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Vm(Vh(this.node.current,"focus",()=>this.onFocus()),Vh(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function n3(e,t,n){const{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),a=r[i];a&&wn.postRender(()=>a(t,Km(t)))}class _he extends Eo{mount(){const{current:t}=this.node;t&&(this.unmount=Hue(t,(n,r)=>(n3(this.node,r,"Start"),(i,{success:a})=>n3(this.node,i,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const FN=new WeakMap,x_=new WeakMap,She=e=>{const t=FN.get(e.target);t&&t(e)},jhe=e=>{e.forEach(She)};function Nhe({root:e,...t}){const n=e||document;x_.has(n)||x_.set(n,{});const r=x_.get(n),i=JSON.stringify(t);return r[i]||(r[i]=new IntersectionObserver(jhe,{root:e,...t})),r[i]}function Ehe(e,t,n){const r=Nhe(t);return FN.set(e,n),r.observe(e),()=>{FN.delete(e),r.unobserve(e)}}const Ahe={some:0,all:1};class The extends Eo{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:a}=t,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:Ahe[i]},l=d=>{const{isIntersecting:f}=d;if(this.isInView===f||(this.isInView=f,a&&!f&&this.hasEnteredView))return;f&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",f);const{onViewportEnter:m,onViewportLeave:p}=this.node.getProps(),v=f?m:p;v&&v(d)};return Ehe(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(Ohe(t,n))&&this.startObserver()}unmount(){}}function Ohe({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const Che={inView:{Feature:The},tap:{Feature:_he},focus:{Feature:whe},hover:{Feature:xhe}},Rhe={layout:{ProjectionNode:d9,MeasureLayout:r9}},Phe={...gfe,...Che,...bhe,...Rhe},ku=Pde(Phe,Hde),Mhe=["L","M","M","J","V","S","D"],r3=["Lun","Mar","Mer","Jeu","Ven","Sam","Dim"],Ug=[{key:"difficulty",label:"Difficult",mode:"hard"},{key:"fatigue_end",label:"Fatigue fin",mode:"hard"},{key:"performance",label:"Perf perue",mode:"good"},{key:"engagement",label:"Engagement",mode:"good"}],i3=[{key:"AM",label:"Matin",Icon:kee},{key:"PM",label:"Soir",Icon:oee}];function a3(e){return String(e).padStart(2,"0")}function eh(e){return`${e.getFullYear()}-${a3(e.getMonth()+1)}-${a3(e.getDate())}`}function w_(e){return new Date(e.getFullYear(),e.getMonth(),1)}function s3(e,t){const n=new Date(e);return n.setDate(n.getDate()+t),n}function khe(e,t){return e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate()}function __(e){return(e.getDay()+6)%7}function Dhe(e){return e.toLocaleDateString("fr-FR",{month:"long",year:"numeric"})}function Ihe(e){return e.toLocaleDateString("fr-FR",{weekday:"long",day:"numeric",month:"long",year:"numeric"})}function $he(e){const t=String(e).split("__");return{iso:t[0],slotKey:t[1]||""}}function ln(...e){return e.filter(Boolean).join(" ")}function th(e){const t=Number(e);if(!Number.isFinite(t))return"";const n=Math.round(t*100)/100,r=String(n);return r.endsWith(".0")?r.slice(0,-2):r}function Hh(e){const t=Number(e);return Number.isFinite(t)?Math.round(t/1e3*100)/100:0}function o3(e){const t=Number(e);return Number.isFinite(t)?Math.round(t*1e3):0}function Lhe(e){return e?String(e).replaceAll(`\r
`,`
`).split(`
`).map(n=>n.trim()).filter(Boolean).flatMap(n=>{const r=n.replace(/^[\\-]\\s*/,"").trim();return r?[r]:[]}):[]}function Bhe(e){if(!e)return null;const n=String(e).match(/(\\d+(?:[\\.,]\\d+)?)\\s*(km|m)\\b/i);if(!n)return null;const r=Number(String(n[1]).replace(",","."));return Number.isFinite(r)?n[2].toLowerCase()==="m"?Hh(r):r:null}function qhe(e,t){const n=e?.slot??e?.session_slot??e?.assigned_slot??e?.time_slot??e?.timeOfDay??e?.slot_key??e?.slotKey,r=String(n||"").toLowerCase();if(r.includes("mat")||r==="am")return"AM";if(r.includes("soir")||r==="pm")return"PM";const i=`${e?.title??""} ${e?.description??""}`.toLowerCase();return i.includes("matin")||i.includes(" am ")||i.includes("(am)")?"AM":i.includes("soir")||i.includes(" pm ")||i.includes("(pm)")?"PM":t===0?"AM":"PM"}function zhe(e){const t=e?.assigned_date??e?.date??e?.day??e?.scheduled_for??e?.scheduledAt??null;if(!t)return null;const n=String(t),r=n.length>=10?n.slice(0,10):n;return/\\d{4}-\\d{2}-\\d{2}/.test(r)?r:null}function Fhe(e){const t=e?.distance_meters??e?.distanceMeters??e?.meters??e?.planned_meters??e?.plannedMeters??e?.distance??null;if(t!=null&&Number.isFinite(Number(t))){const i=Number(t);return i>0&&i<=50?i:Hh(i)}const n=e?.km??e?.distance_km??e?.distanceKm??e?.planned_km??e?.plannedKm??null;if(n!=null&&Number.isFinite(Number(n)))return Number(n);const r=Bhe(`${e?.title??""} ${e?.description??""}`);return r??null}function Uhe({completed:e,total:t}){return t===0?"rest":e>=t?"full":e>0?"half":"none"}const Vhe=_.memo(function({date:t,inMonth:n,isToday:r,isSelected:i,status:a,onClick:o}){const{completed:l,total:d}=a,f=Uhe(a),m=f==="full"?"bg-primary":f==="half"?"bg-primary/10":f==="none"?"bg-muted":"bg-muted/50",p=f==="full"?"border-primary":f==="half"?"border-primary/30":f==="none"?"border-muted-foreground/20":"border-border",v=f==="full"?"text-primary-foreground":"text-foreground",y=f==="full"?"bg-primary-foreground/25":"bg-muted-foreground/30",x=f==="full"?"bg-primary-foreground":"bg-primary",b=i?f==="full"?"ring-2 ring-primary-foreground/50":"ring-2 ring-primary/30":"",w=r?f==="full"?"ring-2 ring-primary-foreground/40":"ring-2 ring-primary/50":"";return c.jsx("button",{type:"button",onClick:o,className:ln("aspect-square min-w-0 rounded-2xl border p-1 transition",m,p,!n&&"opacity-40","hover:shadow-sm",b,w),"aria-label":`${eh(t)}  ${d===0?"Repos":`${l}/${d}`}`,children:c.jsxs("div",{className:"flex h-full flex-col justify-between",children:[c.jsxs("div",{className:"flex items-start justify-between",children:[c.jsx("div",{className:ln("text-[12px] font-semibold",v),children:t.getDate()}),c.jsx("div",{className:"h-[14px] w-[14px]"})]}),c.jsx("div",{className:"flex items-center justify-end",children:d>0&&c.jsx("div",{className:"w-6",children:c.jsxs("div",{className:"flex gap-1",children:[c.jsx("span",{className:ln("h-1.5 flex-1 rounded-full",l>=1?x:y)}),c.jsx("span",{className:ln("h-1.5 flex-1 rounded-full",l>=2?x:y)})]})})})]})})});function Hhe({open:e,title:t,onClose:n,children:r}){return c.jsx(Uv,{children:e&&c.jsxs(c.Fragment,{children:[c.jsx(ku.div,{className:"fixed inset-0 z-40 bg-black/30",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:n}),c.jsx(ku.div,{className:ln("fixed z-50 bg-background shadow-2xl","left-0 right-0 bottom-0 top-auto h-[88vh] rounded-t-3xl","sm:right-0 sm:top-0 sm:left-auto sm:bottom-auto sm:h-full sm:w-full sm:max-w-xl sm:rounded-none"),initial:{y:22,opacity:0},animate:{y:0,opacity:1},exit:{y:22,opacity:0},transition:{type:"spring",damping:30,stiffness:320},role:"dialog","aria-modal":"true",children:c.jsxs("div",{className:"flex h-full flex-col",children:[c.jsx("div",{className:"px-5 pt-3 sm:hidden",children:c.jsx("div",{className:"mx-auto h-1.5 w-12 rounded-full bg-muted"})}),c.jsxs("div",{className:"sticky top-0 z-10 flex items-center justify-between border-b bg-background px-4 sm:px-5 py-3",children:[c.jsx("div",{className:"min-w-0",children:c.jsx("div",{className:"truncate text-base font-semibold text-foreground",children:t})}),c.jsx(si,{onClick:n,label:"Fermer",children:c.jsx(Ii,{className:"h-5 w-5"})})]}),c.jsx("div",{className:"flex-1 overflow-auto p-4 pb-24 sm:p-5 sm:pb-5",children:r})]})})]})})}function l3({open:e,title:t,onClose:n,children:r}){return c.jsx(Uv,{children:e&&c.jsxs(c.Fragment,{children:[c.jsx(ku.div,{className:"fixed inset-0 z-40 bg-black/30",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:n}),c.jsx(ku.div,{className:"fixed inset-0 z-50 flex items-end sm:items-center justify-center p-3 pb-24 sm:p-4 sm:pb-4",initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},children:c.jsxs("div",{className:"w-full max-w-md rounded-3xl border bg-background shadow-2xl overflow-hidden",children:[c.jsxs("div",{className:"flex items-center justify-between border-b px-4 py-3",children:[c.jsx("div",{className:"truncate text-base font-semibold text-foreground",children:t}),c.jsx(si,{onClick:n,label:"Fermer",children:c.jsx(Ii,{className:"h-5 w-5"})})]}),c.jsx("div",{className:"p-4",children:r})]})})]})})}function Vg({children:e}){return c.jsx("span",{className:"inline-flex items-center rounded-full bg-muted px-2 py-0.5 text-xs font-semibold text-muted-foreground",children:e})}function si({onClick:e,label:t,children:n,tone:r="neutral",disabled:i}){const a={neutral:"bg-background border-border text-foreground hover:bg-muted",dark:"bg-foreground border-foreground text-background hover:opacity-90",sky:"bg-primary/10 border-primary/30 text-primary hover:bg-primary/20"};return c.jsxs("button",{type:"button",onClick:e,disabled:i,className:ln("inline-flex items-center justify-center rounded-2xl border p-2 transition",a[r],i&&"opacity-50 cursor-not-allowed hover:bg-background"),"aria-label":t,title:t,children:[n,c.jsx("span",{className:"sr-only",children:t})]})}function Ghe(e,t){const n=Number(t);return!Number.isFinite(n)||n<1||n>5?"neutral":e==="hard"?{1:"bg-emerald-600 border-emerald-600 text-white",2:"bg-emerald-500 border-emerald-500 text-white",3:"bg-amber-500 border-amber-500 text-white",4:"bg-orange-500 border-orange-500 text-white",5:"bg-red-600 border-red-600 text-white"}[n]:{1:"bg-red-600 border-red-600 text-white",2:"bg-orange-500 border-orange-500 text-white",3:"bg-amber-500 border-amber-500 text-white",4:"bg-emerald-500 border-emerald-500 text-white",5:"bg-emerald-600 border-emerald-600 text-white"}[n]}const Khe=_.memo(function({plannedMeters:t,valueMeters:n,onChange:r,disabled:i}){const d=Number.isFinite(Number(n))?Number(n):t,f=d-t;return c.jsxs("div",{className:ln("mt-4 rounded-3xl border px-4 py-3",i?"bg-zinc-50 border-zinc-200":"bg-white border-zinc-200"),children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("div",{className:ln("text-xs font-semibold",i?"text-zinc-400":"text-zinc-700"),children:"Ajuster kilomtrage"}),c.jsx("div",{className:ln("text-xs",i?"text-zinc-400":"text-zinc-600"),children:f===0?"":f>0?`+${f}m`:`${f}m`})]}),c.jsxs("div",{className:"mt-2 flex items-center justify-center gap-3",children:[c.jsx("button",{type:"button",disabled:i||d-100<0,onClick:()=>r(d-100),className:ln("h-11 w-11 rounded-2xl border flex items-center justify-center",i?"bg-zinc-100 border-zinc-200 text-zinc-400":"bg-white border-zinc-200 text-zinc-900 hover:bg-zinc-50"),"aria-label":"-100m",children:c.jsx(Qz,{className:"h-5 w-5"})}),c.jsxs("div",{className:"min-w-[120px] text-center",children:[c.jsxs("div",{className:ln("text-lg font-semibold",i?"text-zinc-400":"text-zinc-900"),children:[d,"m"]}),c.jsxs("div",{className:ln("text-xs",i?"text-zinc-400":"text-zinc-500"),children:["(",th(Hh(d))," km)"]})]}),c.jsx("button",{type:"button",disabled:i||d+100>3e4,onClick:()=>r(d+100),className:ln("h-11 w-11 rounded-2xl border flex items-center justify-center",i?"bg-zinc-100 border-zinc-200 text-zinc-400":"bg-white border-zinc-200 text-zinc-900 hover:bg-zinc-50"),"aria-label":"+100m",children:c.jsx(na,{className:"h-5 w-5"})})]})]})});function Whe(){const e={};for(let t=0;t<7;t++)e[t]={AM:!0,PM:!0};return e}function S_(e){if(!e)return null;try{return JSON.parse(e)}catch{return null}}function c3(e,t){return Number.isFinite(e)?Math.round(e/t)*t:0}function Yhe(){const{user:e,userId:t}=dn(),{toast:n}=Yr(),r=qi(),[,i]=ud(),{data:a}=Pt({queryKey:["sessions",t??e],queryFn:()=>Me.getSessions(e,t),enabled:!!e}),{data:o}=Pt({queryKey:["assignments",e],queryFn:()=>Me.getAssignments(e,t),enabled:!!e}),l=Ot({mutationFn:X=>Me.deleteSession(X),onSuccess:()=>{r.invalidateQueries({queryKey:["sessions"]}),n({title:"Sance supprime",description:"La saisie a t supprime."})},onError:()=>{n({title:"Erreur",description:"Impossible de supprimer la sance.",variant:"destructive"})}}),d=Ot({mutationFn:X=>Me.syncSession({...X,athlete_name:e,athlete_id:t??void 0}),onSuccess:()=>{r.invalidateQueries({queryKey:["sessions"]}),r.invalidateQueries({queryKey:["assignments"]}),n({title:"Sance enregistre",description:"Vos donnes ont t synchronises."})},onError:()=>{n({title:"Erreur",description:"Impossible d'enregistrer la sance.",variant:"destructive"})}}),f=Ot({mutationFn:X=>Me.updateSession(X),onSuccess:()=>{r.invalidateQueries({queryKey:["sessions"]}),n({title:"Sance mise  jour",description:"Votre saisie a t mise  jour."})},onError:()=>{n({title:"Erreur",description:"Impossible de mettre  jour la sance.",variant:"destructive"})}}),m=`swim-dashboard-v2:${t??e??"anon"}`,p=`${m}:presenceDefaults`,v=`${m}:attendanceOverrides`,y=`${m}:stableFields`,[x,b]=_.useState(()=>Whe()),[w,N]=_.useState({}),[E,j]=_.useState(90);_.useEffect(()=>{if(typeof window>"u")return;const X=S_(window.localStorage.getItem(p));X&&b(X);const _e=S_(window.localStorage.getItem(v));_e&&N(_e);const Ee=S_(window.localStorage.getItem(y));Ee?.duration&&Number.isFinite(Ee.duration)&&Ee.duration>=30&&Ee.duration<=240&&j(Ee.duration)},[p,v,y]),_.useEffect(()=>{typeof window>"u"||window.localStorage.setItem(p,JSON.stringify(x))},[x,p]),_.useEffect(()=>{typeof window>"u"||window.localStorage.setItem(v,JSON.stringify(w))},[w,v]),_.useEffect(()=>{typeof window>"u"||window.localStorage.setItem(y,JSON.stringify({duration:E}))},[E,y]);const O=_.useMemo(()=>new Date,[]),[T,C]=_.useState(()=>w_(new Date)),[R,P]=_.useState(()=>eh(new Date)),[k,$]=_.useState(!1),[B,I]=_.useState(!1),[F,V]=_.useState(!1),[U,D]=_.useState(null),[G,z]=_.useState(!1),[Y,de]=_.useState(!1),[H,K]=_.useTransition(),Z=_.useMemo(()=>(Array.isArray(o)?o:[]).filter(_e=>_e?.session_type==="swim"),[o]),le=_.useMemo(()=>{const X=new Map;for(const _e of Z){const Ee=zhe(_e);Ee&&(X.has(Ee)||X.set(Ee,[]),X.get(Ee).push(_e))}for(const[_e,Ee]of X.entries())Ee.sort((nt,ft)=>Number(nt?.id??0)-Number(ft?.id??0)),X.set(_e,Ee);return X},[Z]),be=_.useMemo(()=>{const X=Array.isArray(a)?a:[],_e={};for(const Ee of X){const nt=String(Ee?.date??"").slice(0,10),ft=Ee?.slot==="Soir"?"PM":"AM";_e[`${nt}__${ft}`]=Ee}return _e},[a]),ae=_.useRef(new Map);_.useEffect(()=>{ae.current.clear()},[le]);const J=_.useCallback(X=>{const _e=ae.current;if(_e.has(X))return _e.get(X);const Ee=[{id:`${X}__AM`,iso:X,slotKey:"AM",title:"Sance vide",km:null,details:[],isEmpty:!0},{id:`${X}__PM`,iso:X,slotKey:"PM",title:"Sance vide",km:null,details:[],isEmpty:!0}],nt=le.get(X)??[],ft=new Set;return nt.forEach(($e,ut)=>{const ot=qhe($e,ut);if(ft.has(ot))return;const Fe=ot==="AM"?0:1,he=Fhe($e),ze=Array.isArray($e?.details)?$e.details.map(String):Lhe($e?.description);Ee[Fe]={id:`${X}__${ot}`,iso:X,slotKey:ot,title:String($e?.title??"Sance coach"),km:he,details:ze,assignmentId:typeof $e?.id=="number"?$e.id:Number($e?.id)||void 0,isEmpty:!1},ft.add(ot)}),_e.set(X,Ee),Ee},[le]),me=_.useCallback((X,_e)=>{const Ee=__(_e),nt=!!x?.[Ee]?.[X.slotKey],ft=w[X.id];return ft==="present"?{status:"present",expected:!0,expectedByDefault:nt}:ft==="absent"?{status:"absent",expected:!0,expectedByDefault:nt}:nt?{status:"present",expected:!0,expectedByDefault:nt}:{status:"not_expected",expected:!1,expectedByDefault:nt}},[w,x]),oe=_.useMemo(()=>w_(T),[T]),pe=_.useMemo(()=>{const X=__(oe),_e=s3(oe,-X),Ee=[];for(let nt=0;nt<42;nt++)Ee.push(s3(_e,nt));return Ee},[oe]),we=_.useMemo(()=>{const X={};for(const _e of pe){const Ee=eh(_e),nt=J(Ee);let ft=0,$e=0;for(const ut of nt){const ot=me(ut,_e);if(!ot.expected)continue;ft+=1;const Fe=!!be[ut.id],he=ot.status==="absent";(Fe||he)&&($e+=1)}X[Ee]={completed:$e,total:ft}}return X},[pe,J,me,be]),ee=_.useMemo(()=>{const[X,_e,Ee]=R.split("-").map(Number);return new Date(X,_e-1,Ee)},[R]),qe=_.useMemo(()=>J(R),[J,R]),ve=we[R]||{completed:0,total:2};_.useEffect(()=>{k&&Y&&ve.total>0&&ve.completed>=ve.total&&($(!1),D(null),z(!1),de(!1))},[k,Y,ve.completed,ve.total]);const Ge=_.useMemo(()=>U&&qe.find(X=>X.id===U)||null,[U,qe]),ne=_.useMemo(()=>U&&be[U]||null,[U,be]),ie=_.useMemo(()=>{const X=ne||{};return{difficulty:X?.effort??null,fatigue_end:X?.fatigue??X?.feeling??null,performance:X?.performance??X?.feeling??null,engagement:X?.engagement??X?.feeling??null,comment:String(X?.comments??""),distanceMeters:Number.isFinite(Number(X?.distance))?Number(X.distance):null}},[ne]),[De,dt]=_.useState(()=>({difficulty:null,fatigue_end:null,performance:null,engagement:null,comment:"",distanceMeters:null}));_.useEffect(()=>{if(Ge){const X=o3(Ge.km??0);dt(_e=>({..._e,...ie,distanceMeters:ie.distanceMeters==null?X:ie.distanceMeters}));return}dt(X=>({...X,...ie}))},[ie,Ge]);const Ie=_.useCallback(X=>{P(X),$(!0),D(null),z(!1);const _e=we[X]||{completed:0,total:2};de(_e.total>0&&_e.completed<_e.total)},[we]),Xe=_.useCallback(()=>{$(!1),D(null),z(!1),de(!1)},[]),te=_.useCallback(()=>{C(X=>new Date(X.getFullYear(),X.getMonth()-1,1))},[]),Pe=_.useCallback(()=>{C(X=>new Date(X.getFullYear(),X.getMonth()+1,1))},[]),Ue=_.useCallback(()=>{const X=new Date;C(w_(X)),Ie(eh(X))},[Ie]),Lt=_.useCallback(X=>{D(X),z(!1)},[]),jt=_.useCallback(X=>{K(()=>{N(Ee=>({...Ee,[X]:"absent"}))});const _e=be[X];_e?.id&&l.mutate(Number(_e.id))},[l,be,K]),je=_.useCallback(X=>{K(()=>{N(_e=>({..._e,[X]:"present"}))})},[K]),Qe=_.useCallback(X=>{K(()=>{N(_e=>{const Ee={..._e};return delete Ee[X],Ee})})},[K]),yt=_.useCallback(()=>{const X=qe.map(_e=>me(_e,ee).expected?_e.id:null).filter(Boolean);X.length!==0&&(K(()=>{N(_e=>{const Ee={..._e};for(const nt of X)Ee[nt]="absent";return Ee}),D(null),z(!1)}),X.forEach(_e=>{const Ee=be[_e];Ee?.id&&l.mutate(Number(Ee.id))}))},[qe,me,ee,K,be,l]),wt=_.useCallback(()=>{if(!U||!e||!Ug.every(Fe=>Number.isInteger(De[Fe.key])))return;const{iso:_e,slotKey:Ee}=$he(U),nt=Ee==="PM"?"Soir":"Matin",ft=c3(Number(De.distanceMeters??0),100),$e=c3(Number(E),15),ut={date:_e,slot:nt,distance:ft,duration:$e,effort:Number(De.difficulty),feeling:Number(De.fatigue_end),performance:Number(De.performance),engagement:Number(De.engagement),comments:String(De.comment||"").slice(0,400),athlete_name:e,athlete_id:t??void 0},ot=be[U];K(()=>{N(Fe=>({...Fe,[U]:"present"}))}),ot?.id?f.mutate({...ut,id:ot.id}):d.mutate(ut),D(null),z(!1)},[U,e,t,De,E,be,K,f,d]),qt=_.useCallback((X,_e)=>{b(Ee=>({...Ee,[X]:{...Ee[X],[_e]:!Ee[X][_e]}}))},[]),ir=_.useMemo(()=>{const X=Array.isArray(a)?a:[];let _e=0;for(const Ee of X){const nt=String(Ee?.date??"").slice(0,10),ft=Ee?.slot==="Soir"?"PM":"AM",$e=`${nt}__${ft}`;if(w[$e]==="absent")continue;const ut=__(new Date(nt));(x?.[ut]?.[ft]||w[$e]==="present")&&Number.isFinite(Number(Ee?.distance))&&(_e+=Number(Ee.distance))}return th(Hh(_e))},[a,w,x]),se=_.useMemo(()=>{const X=qe;let _e=0;for(const Ee of X){const nt=me(Ee,ee);if(!nt.expected||nt.status==="absent")continue;const ft=be[Ee.id];ft&&Number.isFinite(Number(ft?.distance))&&(_e+=Number(ft.distance))}return th(Hh(_e))},[qe,me,ee,be]);return c.jsxs("div",{className:"min-h-screen bg-zinc-50",children:[c.jsx("div",{className:"sm:hidden fixed top-0 left-0 right-0 z-30 border-b border-zinc-200 bg-white/90 backdrop-blur",children:c.jsxs("div",{className:"mx-auto max-w-6xl px-3 py-3 flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"h-10 w-10 rounded-2xl bg-white border border-zinc-200 flex items-center justify-center",children:c.jsx(mi,{className:"h-5 w-5 text-zinc-900"})}),c.jsxs("div",{className:"flex flex-col",children:[c.jsx("div",{className:"text-sm font-semibold text-zinc-900",children:"Suivi"}),c.jsxs("div",{className:"text-[11px] text-zinc-500",children:[ir," km"]})]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(si,{onClick:()=>V(!0),label:"Infos",children:c.jsx(Qj,{className:"h-5 w-5"})}),c.jsx(si,{onClick:()=>I(!0),label:"Paramtres",children:c.jsx(Ck,{className:"h-5 w-5"})})]})]})}),c.jsxs("div",{className:"mx-auto max-w-6xl px-3 sm:px-4 pt-20 pb-5 sm:py-8",children:[c.jsxs("div",{className:"hidden sm:flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"h-10 w-10 rounded-2xl bg-white border border-zinc-200 flex items-center justify-center",children:c.jsx(mi,{className:"h-5 w-5 text-zinc-900"})}),c.jsxs("div",{className:"flex flex-col",children:[c.jsx("div",{className:"text-sm font-semibold text-zinc-900",children:"Suivi"}),c.jsxs("div",{className:"text-[11px] text-zinc-500",children:[ir," km"]})]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(si,{onClick:()=>V(!0),label:"Infos",children:c.jsx(Qj,{className:"h-5 w-5"})}),c.jsx(si,{onClick:()=>I(!0),label:"Paramtres",children:c.jsx(Ck,{className:"h-5 w-5"})})]})]}),c.jsxs("div",{className:"mt-4 rounded-3xl border border-zinc-200 bg-white overflow-hidden",children:[c.jsxs("div",{className:"flex items-center justify-between px-3 sm:px-5 py-3 border-b border-zinc-200",children:[c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx(si,{onClick:te,label:"Mois prcdent",children:c.jsx(Oh,{className:"h-5 w-5"})}),c.jsx(si,{onClick:Pe,label:"Mois suivant",children:c.jsx(Av,{className:"h-5 w-5"})})]}),c.jsxs("div",{className:"min-w-0 text-center",children:[c.jsx("div",{className:"text-base font-semibold text-zinc-900 capitalize truncate",children:Dhe(T)}),c.jsxs("div",{className:"mt-1 flex items-center justify-center gap-1",children:[c.jsx("span",{className:ln("h-1.5 w-1.5 rounded-full",ve.total>0&&ve.completed>=1?"bg-emerald-600":"bg-zinc-300")}),c.jsx("span",{className:ln("h-1.5 w-1.5 rounded-full",ve.total>0&&ve.completed>=2?"bg-emerald-600":"bg-zinc-300")})]})]}),c.jsx(si,{onClick:Ue,label:"Aller  aujourdhui",tone:"neutral",children:c.jsx(Xf,{className:"h-5 w-5"})})]}),c.jsx("div",{className:"p-3 sm:p-5",children:c.jsxs("div",{className:"grid grid-cols-7 gap-1.5 sm:gap-2",children:[Mhe.map((X,_e)=>c.jsxs("div",{className:"px-0.5 pb-1 text-[10px] font-semibold text-zinc-400 text-center",children:[c.jsx("span",{className:"sm:hidden",children:X}),c.jsx("span",{className:"hidden sm:inline",children:r3[_e]})]},X+_e)),pe.map(X=>{const _e=eh(X),Ee=X.getMonth()===T.getMonth(),nt=_e===R,ft=we[_e]||{completed:0,total:2},$e=khe(X,O);return c.jsx(Vhe,{date:X,inMonth:Ee,isToday:$e,isSelected:nt,status:ft,onClick:()=>Ie(_e)},_e)})]})})]}),c.jsx(l3,{open:F,title:"Codes",onClose:()=>V(!1),children:c.jsxs("div",{className:"space-y-3 text-sm",children:[c.jsxs("div",{className:"flex items-center justify-between rounded-2xl border border-orange-200 bg-orange-50 px-3 py-2",children:[c.jsx("span",{className:"font-semibold",children:"Orange"}),c.jsx("span",{className:"text-zinc-700",children:" complter"})]}),c.jsxs("div",{className:"flex items-center justify-between rounded-2xl border border-emerald-200 bg-emerald-50 px-3 py-2",children:[c.jsx("span",{className:"font-semibold",children:"Vert"}),c.jsx("span",{className:"text-zinc-700",children:"Valid  km"})]}),c.jsxs("div",{className:"flex items-center justify-between rounded-2xl border border-sky-200 bg-sky-50 px-3 py-2",children:[c.jsx("span",{className:"font-semibold",children:"Bleu"}),c.jsx("span",{className:"text-zinc-700",children:"Absent / Non prvu"})]}),c.jsx("div",{className:"text-xs text-zinc-500",children:"Les km comptent uniquement aprs validation."})]})}),c.jsx(l3,{open:B,title:"Prsence",onClose:()=>I(!1),children:c.jsxs("div",{className:"space-y-3",children:[c.jsx("div",{className:"text-xs text-zinc-500",children:"Toggle hebdo (sances attendues)."}),c.jsxs("div",{className:"overflow-hidden rounded-2xl border border-zinc-200 bg-white",children:[c.jsxs("div",{className:"grid grid-cols-[1fr_110px_110px] bg-zinc-50 border-b border-zinc-200 px-3 py-2 text-xs font-semibold text-zinc-500",children:[c.jsx("div",{children:"Jour"}),c.jsx("div",{className:"text-center",children:"Matin"}),c.jsx("div",{className:"text-center",children:"Soir"})]}),r3.map((X,_e)=>c.jsxs("div",{className:ln("grid grid-cols-[1fr_110px_110px] items-center px-3 py-2",_e!==6&&"border-b border-zinc-100"),children:[c.jsx("div",{className:"text-sm font-medium text-zinc-900",children:X}),i3.map(Ee=>{const nt=!!x?.[_e]?.[Ee.key];return c.jsx("div",{className:"flex justify-center",children:c.jsx("button",{type:"button",onClick:()=>qt(_e,Ee.key),className:ln("w-24 rounded-2xl border px-3 py-2 text-sm font-semibold transition",nt?"bg-zinc-900 text-white border-zinc-900":"bg-white text-zinc-800 border-zinc-200 hover:bg-zinc-50"),"aria-label":`${X} ${Ee.label}`,children:nt?"On":"Off"})},Ee.key)})]},X))]}),c.jsxs("div",{className:"rounded-2xl border border-zinc-200 bg-zinc-50 px-3 py-2",children:[c.jsx("div",{className:"text-xs font-semibold text-zinc-700",children:"Dure (valeur par dfaut)"}),c.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[c.jsx("button",{type:"button",className:"h-9 w-9 rounded-2xl border border-zinc-200 bg-white hover:bg-zinc-50 flex items-center justify-center",onClick:()=>j(X=>Math.max(30,X-15)),"aria-label":"Diminuer la dure",children:c.jsx(Qz,{className:"h-4 w-4"})}),c.jsxs("div",{className:"text-sm font-semibold text-zinc-900",children:[E," min"]}),c.jsx("button",{type:"button",className:"h-9 w-9 rounded-2xl border border-zinc-200 bg-white hover:bg-zinc-50 flex items-center justify-center",onClick:()=>j(X=>Math.min(240,X+15)),"aria-label":"Augmenter la dure",children:c.jsx(na,{className:"h-4 w-4"})})]}),c.jsx("div",{className:"mt-1 text-[11px] text-zinc-500",children:"Dure envoye au back-end (non affiche dans la maquette)."})]})]})}),c.jsxs(Hhe,{open:k,title:Ihe(ee),onClose:Xe,children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"h-10 w-10 rounded-2xl border border-zinc-200 bg-white flex items-center justify-center",children:c.jsx(mi,{className:"h-5 w-5 text-zinc-900"})}),c.jsxs("div",{className:"flex flex-col",children:[c.jsxs("div",{className:"text-sm font-semibold text-zinc-900",children:[se," km"]}),c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx("span",{className:ln("h-1.5 w-1.5 rounded-full",ve.total>0&&ve.completed>=1?"bg-emerald-600":"bg-zinc-300")}),c.jsx("span",{className:ln("h-1.5 w-1.5 rounded-full",ve.total>0&&ve.completed>=2?"bg-emerald-600":"bg-zinc-300")})]})]})]}),c.jsx(si,{onClick:yt,label:"OFF (absent journe)",tone:"dark",disabled:H,children:c.jsx(gee,{className:"h-5 w-5"})})]}),c.jsx("div",{className:"mt-4 grid gap-2",children:qe.map(X=>{const _e=me(X,ee),Ee=!!be[X.id],nt=_e.status==="absent",ft=_e.status==="not_expected",$e=nt||ft,ut=_e.expected&&!Ee&&!nt,ot=Ee?"bg-emerald-50 border-emerald-200":$e?"bg-sky-50 border-sky-200":ut?"bg-orange-50 border-orange-200":"bg-white border-zinc-200",Fe=i3.find(he=>he.key===X.slotKey)?.Icon||Xf;return c.jsx("button",{type:"button",onClick:()=>Lt(X.id),className:ln("w-full rounded-3xl border px-3 py-3 text-left transition",ot,"hover:shadow-sm"),children:c.jsxs("div",{className:"flex items-center justify-between gap-3",children:[c.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[c.jsx("div",{className:ln("h-10 w-10 rounded-2xl border flex items-center justify-center",Ee?"border-emerald-200 bg-emerald-100":$e?"border-sky-200 bg-sky-100":ut?"border-orange-200 bg-orange-100":"border-zinc-200 bg-zinc-100"),children:c.jsx(Fe,{className:"h-5 w-5 text-zinc-900"})}),c.jsxs("div",{className:"min-w-0",children:[c.jsx("div",{className:"truncate text-sm font-semibold text-zinc-900",children:X.title}),c.jsxs("div",{className:"mt-1 flex items-center gap-2",children:[X.isEmpty?c.jsx(Vg,{children:"Vide"}):c.jsxs(Vg,{children:[th(X.km)," km"]}),Ee&&c.jsx("span",{className:"inline-flex items-center text-emerald-800",children:c.jsx(go,{className:"h-4 w-4"})}),$e&&!Ee&&c.jsx("span",{className:"inline-flex items-center text-sky-800",children:c.jsx(Sg,{className:"h-4 w-4"})}),ut&&c.jsx("span",{className:"inline-flex items-center text-orange-900",children:c.jsx(Xf,{className:"h-4 w-4"})})]})]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[ft&&c.jsx(si,{onClick:he=>{he.stopPropagation(),je(X.id)},label:"Je suis venu",disabled:H,children:c.jsx(Rk,{className:"h-5 w-5"})}),_e.expected&&!Ee&&!nt&&c.jsx(si,{onClick:he=>{he.stopPropagation(),jt(X.id)},label:"Absent",tone:"sky",disabled:H,children:c.jsx(Sg,{className:"h-5 w-5"})})]})]})},X.id)})}),c.jsx(Uv,{children:Ge&&c.jsx(ku.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},exit:{opacity:0,y:8},transition:{duration:.18},className:"mt-4 rounded-3xl border border-zinc-200 bg-white overflow-hidden",children:(()=>{const X=me(Ge,ee),_e=X.status==="absent",Ee=X.status==="not_expected",nt=!!be[Ge.id],ft=X.expected&&!_e,$e=_e?"Annuler":Ee?"Je suis venu":"Absent",ut=_e?()=>Qe(Ge.id):Ee?()=>je(Ge.id):()=>jt(Ge.id),ot=o3(Ge.km??0);return c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-zinc-200",children:[c.jsxs("div",{className:"min-w-0",children:[c.jsx("div",{className:"truncate text-sm font-semibold text-zinc-900",children:Ge.title}),c.jsxs("div",{className:"mt-1 flex items-center gap-2",children:[Ge.isEmpty?c.jsx(Vg,{children:"Vide"}):c.jsxs(Vg,{children:[th(Ge.km)," km"]}),nt?c.jsx("span",{className:"inline-flex items-center text-emerald-800",children:c.jsx(go,{className:"h-4 w-4"})}):_e||Ee?c.jsx("span",{className:"inline-flex items-center text-sky-800",children:c.jsx(Sg,{className:"h-4 w-4"})}):c.jsx("span",{className:"inline-flex items-center text-orange-900",children:c.jsx(Xf,{className:"h-4 w-4"})})]})]}),c.jsx(si,{onClick:()=>{D(null),z(!1)},label:"Retour",children:c.jsx(Ii,{className:"h-5 w-5"})})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-2 p-3",children:[c.jsxs("button",{type:"button",onClick:ut,className:ln("rounded-2xl px-3 py-3 text-sm font-semibold border transition inline-flex items-center justify-center gap-2",Ee?"bg-zinc-900 text-white border-zinc-900 hover:bg-zinc-800":"bg-white text-zinc-900 border-zinc-200 hover:bg-zinc-50"),children:[Ee?c.jsx(Rk,{className:"h-4 w-4"}):c.jsx(Sg,{className:"h-4 w-4"}),$e]}),c.jsxs("button",{type:"button",onClick:()=>z(Fe=>!Fe),className:"rounded-2xl px-3 py-3 text-sm font-semibold border border-zinc-200 bg-white hover:bg-zinc-50 inline-flex items-center justify-center gap-2",children:[c.jsx(Xj,{className:"h-4 w-4"}),"Fiche"]})]}),c.jsx(Uv,{children:G&&c.jsxs(ku.div,{initial:{opacity:0,y:6},animate:{opacity:1,y:0},exit:{opacity:0,y:6},transition:{duration:.16},className:"mx-3 mb-3 rounded-2xl border border-zinc-200 bg-zinc-50 p-3",children:[Ge.details?.length?c.jsx("ul",{className:"list-disc pl-5 space-y-1 text-sm text-zinc-800",children:Ge.details.map((Fe,he)=>c.jsx("li",{children:Fe},he))}):c.jsx("div",{className:"text-sm text-zinc-600",children:Ge.assignmentId?"Sance coach  dtails dans la fiche.":"Aucun dtail pour ce crneau."}),Ge.assignmentId?c.jsx("div",{className:"mt-3",children:c.jsx("button",{type:"button",onClick:()=>i(`/swim-session?assignmentId=${Ge.assignmentId}`),className:"w-full rounded-2xl border border-zinc-200 bg-white px-3 py-2 text-sm font-semibold text-zinc-900 hover:bg-zinc-50",children:"Ouvrir la fiche complte"})}):null]})}),c.jsxs("div",{className:"px-4 pb-4",children:[!ft&&c.jsx("div",{className:"mb-3 rounded-2xl bg-sky-50 text-sky-900 px-3 py-2 text-xs",children:_e?"Absent: aucun ressenti.":"Non prvu: appuyez Je suis venu."}),c.jsxs("div",{className:"space-y-4",children:[Ug.map(Fe=>{const he=De[Fe.key];return c.jsxs("div",{className:"space-y-2",children:[c.jsx("div",{className:ln("text-sm font-semibold",ft?"text-zinc-900":"text-zinc-500"),children:Fe.label}),c.jsx("div",{className:"flex items-center gap-2",children:[1,2,3,4,5].map(ze=>{const Ct=he===ze;return c.jsx("button",{type:"button",disabled:!ft,onClick:()=>dt(lt=>({...lt,[Fe.key]:ze})),className:ln("h-11 w-11 rounded-2xl border text-sm font-semibold transition",ft?Ct?Ghe(Fe.mode,ze):"bg-white text-zinc-900 border-zinc-200 hover:bg-zinc-50":"bg-zinc-100 text-zinc-400 border-zinc-200 cursor-not-allowed"),children:ze},ze)})})]},Fe.key)}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("div",{className:ln("text-sm font-semibold",ft?"text-zinc-900":"text-zinc-500"),children:"Commentaire"}),c.jsx("textarea",{value:De.comment,onChange:Fe=>dt(he=>({...he,comment:Fe.target.value})),disabled:!ft,rows:3,placeholder:"Sensations, points techniques",className:ln("w-full resize-none rounded-3xl border px-4 py-3 text-sm outline-none",ft?"bg-white text-zinc-900 border-zinc-200 focus:ring-2 focus:ring-zinc-900/10":"bg-zinc-100 text-zinc-400 border-zinc-200")})]})]}),c.jsx(Khe,{plannedMeters:ot,valueMeters:De.distanceMeters,onChange:Fe=>dt(he=>({...he,distanceMeters:Fe})),disabled:!ft}),c.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[c.jsx("button",{type:"button",onClick:wt,disabled:H||!ft||!Ug.every(Fe=>Number.isInteger(De[Fe.key])),className:ln("rounded-2xl px-4 py-3 text-sm font-semibold transition",H||!ft?"bg-zinc-200 text-zinc-500 cursor-not-allowed":Ug.every(Fe=>Number.isInteger(De[Fe.key]))?"bg-emerald-700 text-white hover:bg-emerald-600":"bg-emerald-200 text-emerald-900/70 cursor-not-allowed"),children:"Valider"}),c.jsx("div",{className:"text-xs text-zinc-500",children:" km"})]})]})]})})()},Ge.id)})]})]})]})}const Wm=_.forwardRef(({className:e,...t},n)=>c.jsx("div",{className:"relative w-full overflow-auto",children:c.jsx("table",{ref:n,className:Ae("w-full caption-bottom text-sm",e),...t})}));Wm.displayName="Table";const Ym=_.forwardRef(({className:e,...t},n)=>c.jsx("thead",{ref:n,className:Ae("[&_tr]:border-b",e),...t}));Ym.displayName="TableHeader";const Xm=_.forwardRef(({className:e,...t},n)=>c.jsx("tbody",{ref:n,className:Ae("[&_tr:last-child]:border-0",e),...t}));Xm.displayName="TableBody";const Xhe=_.forwardRef(({className:e,...t},n)=>c.jsx("tfoot",{ref:n,className:Ae("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));Xhe.displayName="TableFooter";const Ea=_.forwardRef(({className:e,...t},n)=>c.jsx("tr",{ref:n,className:Ae("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));Ea.displayName="TableRow";const In=_.forwardRef(({className:e,...t},n)=>c.jsx("th",{ref:n,className:Ae("h-10 px-2 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t}));In.displayName="TableHead";const Rn=_.forwardRef(({className:e,...t},n)=>c.jsx("td",{ref:n,className:Ae("p-2 align-middle [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t}));Rn.displayName="TableCell";const Qhe=_.forwardRef(({className:e,...t},n)=>c.jsx("caption",{ref:n,className:Ae("mt-4 text-sm text-muted-foreground",e),...t}));Qhe.displayName="TableCaption";function j_(e,t,{checkForDefaultPrevented:n=!0}={}){return function(i){if(e?.(i),n===!1||!i.defaultPrevented)return t?.(i)}}function Su(e,t,{checkForDefaultPrevented:n=!0}={}){return function(i){if(e?.(i),n===!1||!i.defaultPrevented)return t?.(i)}}var Jhe=Cr[" useInsertionEffect ".trim().toString()]||Ut;function Zhe({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[i,a,o]=eme({defaultProp:t,onChange:n}),l=e!==void 0,d=l?e:i;{const m=_.useRef(e!==void 0);_.useEffect(()=>{const p=m.current;p!==l&&console.warn(`${r} is changing from ${p?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),m.current=l},[l,r])}const f=_.useCallback(m=>{if(l){const p=tme(m)?m(e):m;p!==e&&o.current?.(p)}else a(m)},[l,e,a,o]);return[d,f]}function eme({defaultProp:e,onChange:t}){const[n,r]=_.useState(e),i=_.useRef(n),a=_.useRef(t);return Jhe(()=>{a.current=t},[t]),_.useEffect(()=>{i.current!==n&&(a.current?.(n),i.current=n)},[n,i]),[n,r,a]}function tme(e){return typeof e=="function"}var N_="rovingFocusGroup.onEntryFocus",nme={bubbles:!1,cancelable:!0},Qm="RovingFocusGroup",[UN,f9,rme]=XU(Qm),[ime,Td]=Rr(Qm,[rme]),[ame,sme]=ime(Qm),h9=_.forwardRef((e,t)=>c.jsx(UN.Provider,{scope:e.__scopeRovingFocusGroup,children:c.jsx(UN.Slot,{scope:e.__scopeRovingFocusGroup,children:c.jsx(ome,{...e,ref:t})})}));h9.displayName=Qm;var ome=_.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:a,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:d,onEntryFocus:f,preventScrollOnEntryFocus:m=!1,...p}=e,v=_.useRef(null),y=At(t,v),x=Um(a),[b,w]=Zhe({prop:o,defaultProp:l??null,onChange:d,caller:Qm}),[N,E]=_.useState(!1),j=Sr(f),O=f9(n),T=_.useRef(!1),[C,R]=_.useState(0);return _.useEffect(()=>{const P=v.current;if(P)return P.addEventListener(N_,j),()=>P.removeEventListener(N_,j)},[j]),c.jsx(ame,{scope:n,orientation:r,dir:x,loop:i,currentTabStopId:b,onItemFocus:_.useCallback(P=>w(P),[w]),onItemShiftTab:_.useCallback(()=>E(!0),[]),onFocusableItemAdd:_.useCallback(()=>R(P=>P+1),[]),onFocusableItemRemove:_.useCallback(()=>R(P=>P-1),[]),children:c.jsx(bt.div,{tabIndex:N||C===0?-1:0,"data-orientation":r,...p,ref:y,style:{outline:"none",...e.style},onMouseDown:Su(e.onMouseDown,()=>{T.current=!0}),onFocus:Su(e.onFocus,P=>{const k=!T.current;if(P.target===P.currentTarget&&k&&!N){const $=new CustomEvent(N_,nme);if(P.currentTarget.dispatchEvent($),!$.defaultPrevented){const B=O().filter(D=>D.focusable),I=B.find(D=>D.active),F=B.find(D=>D.id===b),U=[I,F,...B].filter(Boolean).map(D=>D.ref.current);g9(U,m)}}T.current=!1}),onBlur:Su(e.onBlur,()=>E(!1))})})}),m9="RovingFocusGroupItem",p9=_.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:a,children:o,...l}=e,d=cs(),f=a||d,m=sme(m9,n),p=m.currentTabStopId===f,v=f9(n),{onFocusableItemAdd:y,onFocusableItemRemove:x,currentTabStopId:b}=m;return _.useEffect(()=>{if(r)return y(),()=>x()},[r,y,x]),c.jsx(UN.ItemSlot,{scope:n,id:f,focusable:r,active:i,children:c.jsx(bt.span,{tabIndex:p?0:-1,"data-orientation":m.orientation,...l,ref:t,onMouseDown:Su(e.onMouseDown,w=>{r?m.onItemFocus(f):w.preventDefault()}),onFocus:Su(e.onFocus,()=>m.onItemFocus(f)),onKeyDown:Su(e.onKeyDown,w=>{if(w.key==="Tab"&&w.shiftKey){m.onItemShiftTab();return}if(w.target!==w.currentTarget)return;const N=ume(w,m.orientation,m.dir);if(N!==void 0){if(w.metaKey||w.ctrlKey||w.altKey||w.shiftKey)return;w.preventDefault();let j=v().filter(O=>O.focusable).map(O=>O.ref.current);if(N==="last")j.reverse();else if(N==="prev"||N==="next"){N==="prev"&&j.reverse();const O=j.indexOf(w.currentTarget);j=m.loop?dme(j,O+1):j.slice(O+1)}setTimeout(()=>g9(j))}}),children:typeof o=="function"?o({isCurrentTabStop:p,hasTabStop:b!=null}):o})})});p9.displayName=m9;var lme={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function cme(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function ume(e,t,n){const r=cme(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return lme[r]}function g9(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function dme(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var DT=h9,IT=p9,fme=Cr[" useInsertionEffect ".trim().toString()]||Ut;function hme({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[i,a,o]=mme({defaultProp:t,onChange:n}),l=e!==void 0,d=l?e:i;{const m=_.useRef(e!==void 0);_.useEffect(()=>{const p=m.current;p!==l&&console.warn(`${r} is changing from ${p?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),m.current=l},[l,r])}const f=_.useCallback(m=>{if(l){const p=pme(m)?m(e):m;p!==e&&o.current?.(p)}else a(m)},[l,e,a,o]);return[d,f]}function mme({defaultProp:e,onChange:t}){const[n,r]=_.useState(e),i=_.useRef(n),a=_.useRef(t);return fme(()=>{a.current=t},[t]),_.useEffect(()=>{i.current!==n&&(a.current?.(n),i.current=n)},[n,i]),[n,r,a]}function pme(e){return typeof e=="function"}var E0="Tabs",[gme]=Rr(E0,[Td]),v9=Td(),[vme,$T]=gme(E0),y9=_.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:i,defaultValue:a,orientation:o="horizontal",dir:l,activationMode:d="automatic",...f}=e,m=Um(l),[p,v]=hme({prop:r,onChange:i,defaultProp:a??"",caller:E0});return c.jsx(vme,{scope:n,baseId:cs(),value:p,onValueChange:v,orientation:o,dir:m,activationMode:d,children:c.jsx(bt.div,{dir:m,"data-orientation":o,...f,ref:t})})});y9.displayName=E0;var b9="TabsList",x9=_.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...i}=e,a=$T(b9,n),o=v9(n);return c.jsx(DT,{asChild:!0,...o,orientation:a.orientation,dir:a.dir,loop:r,children:c.jsx(bt.div,{role:"tablist","aria-orientation":a.orientation,...i,ref:t})})});x9.displayName=b9;var w9="TabsTrigger",_9=_.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:i=!1,...a}=e,o=$T(w9,n),l=v9(n),d=N9(o.baseId,r),f=E9(o.baseId,r),m=r===o.value;return c.jsx(IT,{asChild:!0,...l,focusable:!i,active:m,children:c.jsx(bt.button,{type:"button",role:"tab","aria-selected":m,"aria-controls":f,"data-state":m?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:d,...a,ref:t,onMouseDown:j_(e.onMouseDown,p=>{!i&&p.button===0&&p.ctrlKey===!1?o.onValueChange(r):p.preventDefault()}),onKeyDown:j_(e.onKeyDown,p=>{[" ","Enter"].includes(p.key)&&o.onValueChange(r)}),onFocus:j_(e.onFocus,()=>{const p=o.activationMode!=="manual";!m&&!i&&p&&o.onValueChange(r)})})})});_9.displayName=w9;var S9="TabsContent",j9=_.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:i,children:a,...o}=e,l=$T(S9,n),d=N9(l.baseId,r),f=E9(l.baseId,r),m=r===l.value,p=_.useRef(m);return _.useEffect(()=>{const v=requestAnimationFrame(()=>p.current=!1);return()=>cancelAnimationFrame(v)},[]),c.jsx(ua,{present:i||m,children:({present:v})=>c.jsx(bt.div,{"data-state":m?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":d,hidden:!v,id:f,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:p.current?"0s":void 0},children:v&&a})})});j9.displayName=S9;function N9(e,t){return`${e}-trigger-${t}`}function E9(e,t){return`${e}-content-${t}`}var yme=y9,A9=x9,T9=_9,O9=j9;const Od=yme,Vl=_.forwardRef(({className:e,...t},n)=>c.jsx(A9,{ref:n,className:Ae("inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",e),...t}));Vl.displayName=A9.displayName;const la=_.forwardRef(({className:e,...t},n)=>c.jsx(T9,{ref:n,className:Ae("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow",e),...t}));la.displayName=T9.displayName;const Pa=_.forwardRef(({className:e,...t},n)=>c.jsx(O9,{ref:n,className:Ae("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Pa.displayName=O9.displayName;var E_,u3;function Xr(){if(u3)return E_;u3=1;var e=Array.isArray;return E_=e,E_}var A_,d3;function C9(){if(d3)return A_;d3=1;var e=typeof bg=="object"&&bg&&bg.Object===Object&&bg;return A_=e,A_}var T_,f3;function Ia(){if(f3)return T_;f3=1;var e=C9(),t=typeof self=="object"&&self&&self.Object===Object&&self,n=e||t||Function("return this")();return T_=n,T_}var O_,h3;function Jm(){if(h3)return O_;h3=1;var e=Ia(),t=e.Symbol;return O_=t,O_}var C_,m3;function bme(){if(m3)return C_;m3=1;var e=Jm(),t=Object.prototype,n=t.hasOwnProperty,r=t.toString,i=e?e.toStringTag:void 0;function a(o){var l=n.call(o,i),d=o[i];try{o[i]=void 0;var f=!0}catch{}var m=r.call(o);return f&&(l?o[i]=d:delete o[i]),m}return C_=a,C_}var R_,p3;function xme(){if(p3)return R_;p3=1;var e=Object.prototype,t=e.toString;function n(r){return t.call(r)}return R_=n,R_}var P_,g3;function ws(){if(g3)return P_;g3=1;var e=Jm(),t=bme(),n=xme(),r="[object Null]",i="[object Undefined]",a=e?e.toStringTag:void 0;function o(l){return l==null?l===void 0?i:r:a&&a in Object(l)?t(l):n(l)}return P_=o,P_}var M_,v3;function _s(){if(v3)return M_;v3=1;function e(t){return t!=null&&typeof t=="object"}return M_=e,M_}var k_,y3;function Cd(){if(y3)return k_;y3=1;var e=ws(),t=_s(),n="[object Symbol]";function r(i){return typeof i=="symbol"||t(i)&&e(i)==n}return k_=r,k_}var D_,b3;function LT(){if(b3)return D_;b3=1;var e=Xr(),t=Cd(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(a,o){if(e(a))return!1;var l=typeof a;return l=="number"||l=="symbol"||l=="boolean"||a==null||t(a)?!0:r.test(a)||!n.test(a)||o!=null&&a in Object(o)}return D_=i,D_}var I_,x3;function Ao(){if(x3)return I_;x3=1;function e(t){var n=typeof t;return t!=null&&(n=="object"||n=="function")}return I_=e,I_}var $_,w3;function BT(){if(w3)return $_;w3=1;var e=ws(),t=Ao(),n="[object AsyncFunction]",r="[object Function]",i="[object GeneratorFunction]",a="[object Proxy]";function o(l){if(!t(l))return!1;var d=e(l);return d==r||d==i||d==n||d==a}return $_=o,$_}var L_,_3;function wme(){if(_3)return L_;_3=1;var e=Ia(),t=e["__core-js_shared__"];return L_=t,L_}var B_,S3;function _me(){if(S3)return B_;S3=1;var e=wme(),t=(function(){var r=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""})();function n(r){return!!t&&t in r}return B_=n,B_}var q_,j3;function R9(){if(j3)return q_;j3=1;var e=Function.prototype,t=e.toString;function n(r){if(r!=null){try{return t.call(r)}catch{}try{return r+""}catch{}}return""}return q_=n,q_}var z_,N3;function Sme(){if(N3)return z_;N3=1;var e=BT(),t=_me(),n=Ao(),r=R9(),i=/[\\^$.*+?()[\]{}|]/g,a=/^\[object .+?Constructor\]$/,o=Function.prototype,l=Object.prototype,d=o.toString,f=l.hasOwnProperty,m=RegExp("^"+d.call(f).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function p(v){if(!n(v)||t(v))return!1;var y=e(v)?m:a;return y.test(r(v))}return z_=p,z_}var F_,E3;function jme(){if(E3)return F_;E3=1;function e(t,n){return t?.[n]}return F_=e,F_}var U_,A3;function Hl(){if(A3)return U_;A3=1;var e=Sme(),t=jme();function n(r,i){var a=t(r,i);return e(a)?a:void 0}return U_=n,U_}var V_,T3;function A0(){if(T3)return V_;T3=1;var e=Hl(),t=e(Object,"create");return V_=t,V_}var H_,O3;function Nme(){if(O3)return H_;O3=1;var e=A0();function t(){this.__data__=e?e(null):{},this.size=0}return H_=t,H_}var G_,C3;function Eme(){if(C3)return G_;C3=1;function e(t){var n=this.has(t)&&delete this.__data__[t];return this.size-=n?1:0,n}return G_=e,G_}var K_,R3;function Ame(){if(R3)return K_;R3=1;var e=A0(),t="__lodash_hash_undefined__",n=Object.prototype,r=n.hasOwnProperty;function i(a){var o=this.__data__;if(e){var l=o[a];return l===t?void 0:l}return r.call(o,a)?o[a]:void 0}return K_=i,K_}var W_,P3;function Tme(){if(P3)return W_;P3=1;var e=A0(),t=Object.prototype,n=t.hasOwnProperty;function r(i){var a=this.__data__;return e?a[i]!==void 0:n.call(a,i)}return W_=r,W_}var Y_,M3;function Ome(){if(M3)return Y_;M3=1;var e=A0(),t="__lodash_hash_undefined__";function n(r,i){var a=this.__data__;return this.size+=this.has(r)?0:1,a[r]=e&&i===void 0?t:i,this}return Y_=n,Y_}var X_,k3;function Cme(){if(k3)return X_;k3=1;var e=Nme(),t=Eme(),n=Ame(),r=Tme(),i=Ome();function a(o){var l=-1,d=o==null?0:o.length;for(this.clear();++l<d;){var f=o[l];this.set(f[0],f[1])}}return a.prototype.clear=e,a.prototype.delete=t,a.prototype.get=n,a.prototype.has=r,a.prototype.set=i,X_=a,X_}var Q_,D3;function Rme(){if(D3)return Q_;D3=1;function e(){this.__data__=[],this.size=0}return Q_=e,Q_}var J_,I3;function qT(){if(I3)return J_;I3=1;function e(t,n){return t===n||t!==t&&n!==n}return J_=e,J_}var Z_,$3;function T0(){if($3)return Z_;$3=1;var e=qT();function t(n,r){for(var i=n.length;i--;)if(e(n[i][0],r))return i;return-1}return Z_=t,Z_}var e1,L3;function Pme(){if(L3)return e1;L3=1;var e=T0(),t=Array.prototype,n=t.splice;function r(i){var a=this.__data__,o=e(a,i);if(o<0)return!1;var l=a.length-1;return o==l?a.pop():n.call(a,o,1),--this.size,!0}return e1=r,e1}var t1,B3;function Mme(){if(B3)return t1;B3=1;var e=T0();function t(n){var r=this.__data__,i=e(r,n);return i<0?void 0:r[i][1]}return t1=t,t1}var n1,q3;function kme(){if(q3)return n1;q3=1;var e=T0();function t(n){return e(this.__data__,n)>-1}return n1=t,n1}var r1,z3;function Dme(){if(z3)return r1;z3=1;var e=T0();function t(n,r){var i=this.__data__,a=e(i,n);return a<0?(++this.size,i.push([n,r])):i[a][1]=r,this}return r1=t,r1}var i1,F3;function O0(){if(F3)return i1;F3=1;var e=Rme(),t=Pme(),n=Mme(),r=kme(),i=Dme();function a(o){var l=-1,d=o==null?0:o.length;for(this.clear();++l<d;){var f=o[l];this.set(f[0],f[1])}}return a.prototype.clear=e,a.prototype.delete=t,a.prototype.get=n,a.prototype.has=r,a.prototype.set=i,i1=a,i1}var a1,U3;function zT(){if(U3)return a1;U3=1;var e=Hl(),t=Ia(),n=e(t,"Map");return a1=n,a1}var s1,V3;function Ime(){if(V3)return s1;V3=1;var e=Cme(),t=O0(),n=zT();function r(){this.size=0,this.__data__={hash:new e,map:new(n||t),string:new e}}return s1=r,s1}var o1,H3;function $me(){if(H3)return o1;H3=1;function e(t){var n=typeof t;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?t!=="__proto__":t===null}return o1=e,o1}var l1,G3;function C0(){if(G3)return l1;G3=1;var e=$me();function t(n,r){var i=n.__data__;return e(r)?i[typeof r=="string"?"string":"hash"]:i.map}return l1=t,l1}var c1,K3;function Lme(){if(K3)return c1;K3=1;var e=C0();function t(n){var r=e(this,n).delete(n);return this.size-=r?1:0,r}return c1=t,c1}var u1,W3;function Bme(){if(W3)return u1;W3=1;var e=C0();function t(n){return e(this,n).get(n)}return u1=t,u1}var d1,Y3;function qme(){if(Y3)return d1;Y3=1;var e=C0();function t(n){return e(this,n).has(n)}return d1=t,d1}var f1,X3;function zme(){if(X3)return f1;X3=1;var e=C0();function t(n,r){var i=e(this,n),a=i.size;return i.set(n,r),this.size+=i.size==a?0:1,this}return f1=t,f1}var h1,Q3;function FT(){if(Q3)return h1;Q3=1;var e=Ime(),t=Lme(),n=Bme(),r=qme(),i=zme();function a(o){var l=-1,d=o==null?0:o.length;for(this.clear();++l<d;){var f=o[l];this.set(f[0],f[1])}}return a.prototype.clear=e,a.prototype.delete=t,a.prototype.get=n,a.prototype.has=r,a.prototype.set=i,h1=a,h1}var m1,J3;function P9(){if(J3)return m1;J3=1;var e=FT(),t="Expected a function";function n(r,i){if(typeof r!="function"||i!=null&&typeof i!="function")throw new TypeError(t);var a=function(){var o=arguments,l=i?i.apply(this,o):o[0],d=a.cache;if(d.has(l))return d.get(l);var f=r.apply(this,o);return a.cache=d.set(l,f)||d,f};return a.cache=new(n.Cache||e),a}return n.Cache=e,m1=n,m1}var p1,Z3;function Fme(){if(Z3)return p1;Z3=1;var e=P9(),t=500;function n(r){var i=e(r,function(o){return a.size===t&&a.clear(),o}),a=i.cache;return i}return p1=n,p1}var g1,e$;function Ume(){if(e$)return g1;e$=1;var e=Fme(),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,r=e(function(i){var a=[];return i.charCodeAt(0)===46&&a.push(""),i.replace(t,function(o,l,d,f){a.push(d?f.replace(n,"$1"):l||o)}),a});return g1=r,g1}var v1,t$;function UT(){if(t$)return v1;t$=1;function e(t,n){for(var r=-1,i=t==null?0:t.length,a=Array(i);++r<i;)a[r]=n(t[r],r,t);return a}return v1=e,v1}var y1,n$;function Vme(){if(n$)return y1;n$=1;var e=Jm(),t=UT(),n=Xr(),r=Cd(),i=e?e.prototype:void 0,a=i?i.toString:void 0;function o(l){if(typeof l=="string")return l;if(n(l))return t(l,o)+"";if(r(l))return a?a.call(l):"";var d=l+"";return d=="0"&&1/l==-1/0?"-0":d}return y1=o,y1}var b1,r$;function M9(){if(r$)return b1;r$=1;var e=Vme();function t(n){return n==null?"":e(n)}return b1=t,b1}var x1,i$;function k9(){if(i$)return x1;i$=1;var e=Xr(),t=LT(),n=Ume(),r=M9();function i(a,o){return e(a)?a:t(a,o)?[a]:n(r(a))}return x1=i,x1}var w1,a$;function R0(){if(a$)return w1;a$=1;var e=Cd();function t(n){if(typeof n=="string"||e(n))return n;var r=n+"";return r=="0"&&1/n==-1/0?"-0":r}return w1=t,w1}var _1,s$;function VT(){if(s$)return _1;s$=1;var e=k9(),t=R0();function n(r,i){i=e(i,r);for(var a=0,o=i.length;r!=null&&a<o;)r=r[t(i[a++])];return a&&a==o?r:void 0}return _1=n,_1}var S1,o$;function D9(){if(o$)return S1;o$=1;var e=VT();function t(n,r,i){var a=n==null?void 0:e(n,r);return a===void 0?i:a}return S1=t,S1}var Hme=D9();const Li=sn(Hme);var j1,l$;function Gme(){if(l$)return j1;l$=1;function e(t){return t==null}return j1=e,j1}var Kme=Gme();const xt=sn(Kme);var N1,c$;function Wme(){if(c$)return N1;c$=1;var e=ws(),t=Xr(),n=_s(),r="[object String]";function i(a){return typeof a=="string"||!t(a)&&n(a)&&e(a)==r}return N1=i,N1}var Yme=Wme();const Il=sn(Yme);var Xme=BT();const Nt=sn(Xme);var Qme=Ao();const Rd=sn(Qme);var E1={exports:{}},Kt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var u$;function Jme(){if(u$)return Kt;u$=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),o=Symbol.for("react.context"),l=Symbol.for("react.server_context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),y=Symbol.for("react.offscreen"),x;x=Symbol.for("react.module.reference");function b(w){if(typeof w=="object"&&w!==null){var N=w.$$typeof;switch(N){case e:switch(w=w.type,w){case n:case i:case r:case f:case m:return w;default:switch(w=w&&w.$$typeof,w){case l:case o:case d:case v:case p:case a:return w;default:return N}}case t:return N}}}return Kt.ContextConsumer=o,Kt.ContextProvider=a,Kt.Element=e,Kt.ForwardRef=d,Kt.Fragment=n,Kt.Lazy=v,Kt.Memo=p,Kt.Portal=t,Kt.Profiler=i,Kt.StrictMode=r,Kt.Suspense=f,Kt.SuspenseList=m,Kt.isAsyncMode=function(){return!1},Kt.isConcurrentMode=function(){return!1},Kt.isContextConsumer=function(w){return b(w)===o},Kt.isContextProvider=function(w){return b(w)===a},Kt.isElement=function(w){return typeof w=="object"&&w!==null&&w.$$typeof===e},Kt.isForwardRef=function(w){return b(w)===d},Kt.isFragment=function(w){return b(w)===n},Kt.isLazy=function(w){return b(w)===v},Kt.isMemo=function(w){return b(w)===p},Kt.isPortal=function(w){return b(w)===t},Kt.isProfiler=function(w){return b(w)===i},Kt.isStrictMode=function(w){return b(w)===r},Kt.isSuspense=function(w){return b(w)===f},Kt.isSuspenseList=function(w){return b(w)===m},Kt.isValidElementType=function(w){return typeof w=="string"||typeof w=="function"||w===n||w===i||w===r||w===f||w===m||w===y||typeof w=="object"&&w!==null&&(w.$$typeof===v||w.$$typeof===p||w.$$typeof===a||w.$$typeof===o||w.$$typeof===d||w.$$typeof===x||w.getModuleId!==void 0)},Kt.typeOf=b,Kt}var d$;function Zme(){return d$||(d$=1,E1.exports=Jme()),E1.exports}var epe=Zme(),A1,f$;function I9(){if(f$)return A1;f$=1;var e=ws(),t=_s(),n="[object Number]";function r(i){return typeof i=="number"||t(i)&&e(i)==n}return A1=r,A1}var T1,h$;function tpe(){if(h$)return T1;h$=1;var e=I9();function t(n){return e(n)&&n!=+n}return T1=t,T1}var npe=tpe();const Pd=sn(npe);var rpe=I9();const ipe=sn(rpe);var aa=function(t){return t===0?0:t>0?1:-1},vl=function(t){return Il(t)&&t.indexOf("%")===t.length-1},Ce=function(t){return ipe(t)&&!Pd(t)},ape=function(t){return xt(t)},tr=function(t){return Ce(t)||Il(t)},spe=0,Gl=function(t){var n=++spe;return"".concat(t||"").concat(n)},$l=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ce(t)&&!Il(t))return r;var a;if(vl(t)){var o=t.indexOf("%");a=n*parseFloat(t.slice(0,o))/100}else a=+t;return Pd(a)&&(a=r),i&&a>n&&(a=n),a},ao=function(t){if(!t)return null;var n=Object.keys(t);return n&&n.length?t[n[0]]:null},ope=function(t){if(!Array.isArray(t))return!1;for(var n=t.length,r={},i=0;i<n;i++)if(!r[t[i]])r[t[i]]=!0;else return!0;return!1},$n=function(t,n){return Ce(t)&&Ce(n)?function(r){return t+r*(n-t)}:function(){return n}};function Gv(e,t,n){return!e||!e.length?null:e.find(function(r){return r&&(typeof t=="function"?t(r):Li(r,t))===n})}var lpe=function(t){if(!t||!t.length)return null;for(var n=t.length,r=0,i=0,a=0,o=0,l=1/0,d=-1/0,f=0,m=0,p=0;p<n;p++)f=t[p].cx||0,m=t[p].cy||0,r+=f,i+=m,a+=f*m,o+=f*f,l=Math.min(l,f),d=Math.max(d,f);var v=n*o!==r*r?(n*a-r*i)/(n*o-r*r):0;return{xmin:l,xmax:d,a:v,b:(i-v*r)/n}},cpe=function(t,n){return Ce(t)&&Ce(n)?t-n:Il(t)&&Il(n)?t.localeCompare(n):t instanceof Date&&n instanceof Date?t.getTime()-n.getTime():String(t).localeCompare(String(n))};function ju(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var r in t)if({}.hasOwnProperty.call(t,r)&&!{}.hasOwnProperty.call(e,r))return!1;return!0}function VN(e){"@babel/helpers - typeof";return VN=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},VN(e)}var upe=["viewBox","children"],dpe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],m$=["points","pathLength"],O1={svg:upe,polygon:m$,polyline:m$},HT=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Kv=function(t,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var r=t;if(_.isValidElement(t)&&(r=t.props),!Rd(r))return null;var i={};return Object.keys(r).forEach(function(a){HT.includes(a)&&(i[a]=n||function(o){return r[a](r,o)})}),i},fpe=function(t,n,r){return function(i){return t(n,r,i),null}},Gh=function(t,n,r){if(!Rd(t)||VN(t)!=="object")return null;var i=null;return Object.keys(t).forEach(function(a){var o=t[a];HT.includes(a)&&typeof o=="function"&&(i||(i={}),i[a]=fpe(o,n,r))}),i},hpe=["children"],mpe=["children"];function p$(e,t){if(e==null)return{};var n=ppe(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function ppe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function HN(e){"@babel/helpers - typeof";return HN=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},HN(e)}var g$={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},us=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},v$=null,C1=null,GT=function e(t){if(t===v$&&Array.isArray(C1))return C1;var n=[];return _.Children.forEach(t,function(r){xt(r)||(epe.isFragment(r)?n=n.concat(e(r.props.children)):n.push(r))}),C1=n,v$=t,n};function Wr(e,t){var n=[],r=[];return Array.isArray(t)?r=t.map(function(i){return us(i)}):r=[us(t)],GT(e).forEach(function(i){var a=Li(i,"type.displayName")||Li(i,"type.name");r.indexOf(a)!==-1&&n.push(i)}),n}function li(e,t){var n=Wr(e,t);return n&&n[0]}var y$=function(t){if(!t||!t.props)return!1;var n=t.props,r=n.width,i=n.height;return!(!Ce(r)||r<=0||!Ce(i)||i<=0)},gpe=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],vpe=function(t){return t&&t.type&&Il(t.type)&&gpe.indexOf(t.type)>=0},$9=function(t){return t&&HN(t)==="object"&&"clipDot"in t},ype=function(t,n,r,i){var a,o=(a=O1?.[i])!==null&&a!==void 0?a:[];return n.startsWith("data-")||!Nt(t)&&(i&&o.includes(n)||dpe.includes(n))||r&&HT.includes(n)},St=function(t,n,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var i=t;if(_.isValidElement(t)&&(i=t.props),!Rd(i))return null;var a={};return Object.keys(i).forEach(function(o){var l;ype((l=i)===null||l===void 0?void 0:l[o],o,n,r)&&(a[o]=i[o])}),a},GN=function e(t,n){if(t===n)return!0;var r=_.Children.count(t);if(r!==_.Children.count(n))return!1;if(r===0)return!0;if(r===1)return b$(Array.isArray(t)?t[0]:t,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var a=t[i],o=n[i];if(Array.isArray(a)||Array.isArray(o)){if(!e(a,o))return!1}else if(!b$(a,o))return!1}return!0},b$=function(t,n){if(xt(t)&&xt(n))return!0;if(!xt(t)&&!xt(n)){var r=t.props||{},i=r.children,a=p$(r,hpe),o=n.props||{},l=o.children,d=p$(o,mpe);return i&&l?ju(a,d)&&GN(i,l):!i&&!l?ju(a,d):!1}return!1},x$=function(t,n){var r=[],i={};return GT(t).forEach(function(a,o){if(vpe(a))r.push(a);else if(a){var l=us(a.type),d=n[l]||{},f=d.handler,m=d.once;if(f&&(!m||!i[l])){var p=f(a,l,o);r.push(p),i[l]=!0}}}),r},bpe=function(t){var n=t&&t.type;return n&&g$[n]?g$[n]:null},xpe=function(t,n){return GT(n).indexOf(t)},wpe=["children","width","height","viewBox","className","style","title","desc"];function KN(){return KN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},KN.apply(this,arguments)}function _pe(e,t){if(e==null)return{};var n=Spe(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Spe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function WN(e){var t=e.children,n=e.width,r=e.height,i=e.viewBox,a=e.className,o=e.style,l=e.title,d=e.desc,f=_pe(e,wpe),m=i||{width:n,height:r,x:0,y:0},p=Mt("recharts-surface",a);return q.createElement("svg",KN({},St(f,!0,"svg"),{className:p,width:n,height:r,style:o,viewBox:"".concat(m.x," ").concat(m.y," ").concat(m.width," ").concat(m.height)}),q.createElement("title",null,l),q.createElement("desc",null,d),t)}var jpe=["children","className"];function YN(){return YN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},YN.apply(this,arguments)}function Npe(e,t){if(e==null)return{};var n=Epe(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Epe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var Gt=q.forwardRef(function(e,t){var n=e.children,r=e.className,i=Npe(e,jpe),a=Mt("recharts-layer",r);return q.createElement("g",YN({className:a},St(i,!0),{ref:t}),n)}),ds=function(t,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a]},R1,w$;function Ape(){if(w$)return R1;w$=1;function e(t,n,r){var i=-1,a=t.length;n<0&&(n=-n>a?0:a+n),r=r>a?a:r,r<0&&(r+=a),a=n>r?0:r-n>>>0,n>>>=0;for(var o=Array(a);++i<a;)o[i]=t[i+n];return o}return R1=e,R1}var P1,_$;function Tpe(){if(_$)return P1;_$=1;var e=Ape();function t(n,r,i){var a=n.length;return i=i===void 0?a:i,!r&&i>=a?n:e(n,r,i)}return P1=t,P1}var M1,S$;function L9(){if(S$)return M1;S$=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=t+n+r,a="\\ufe0e\\ufe0f",o="\\u200d",l=RegExp("["+o+e+i+a+"]");function d(f){return l.test(f)}return M1=d,M1}var k1,j$;function Ope(){if(j$)return k1;j$=1;function e(t){return t.split("")}return k1=e,k1}var D1,N$;function Cpe(){if(N$)return D1;N$=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=t+n+r,a="\\ufe0e\\ufe0f",o="["+e+"]",l="["+i+"]",d="\\ud83c[\\udffb-\\udfff]",f="(?:"+l+"|"+d+")",m="[^"+e+"]",p="(?:\\ud83c[\\udde6-\\uddff]){2}",v="[\\ud800-\\udbff][\\udc00-\\udfff]",y="\\u200d",x=f+"?",b="["+a+"]?",w="(?:"+y+"(?:"+[m,p,v].join("|")+")"+b+x+")*",N=b+x+w,E="(?:"+[m+l+"?",l,p,v,o].join("|")+")",j=RegExp(d+"(?="+d+")|"+E+N,"g");function O(T){return T.match(j)||[]}return D1=O,D1}var I1,E$;function Rpe(){if(E$)return I1;E$=1;var e=Ope(),t=L9(),n=Cpe();function r(i){return t(i)?n(i):e(i)}return I1=r,I1}var $1,A$;function Ppe(){if(A$)return $1;A$=1;var e=Tpe(),t=L9(),n=Rpe(),r=M9();function i(a){return function(o){o=r(o);var l=t(o)?n(o):void 0,d=l?l[0]:o.charAt(0),f=l?e(l,1).join(""):o.slice(1);return d[a]()+f}}return $1=i,$1}var L1,T$;function Mpe(){if(T$)return L1;T$=1;var e=Ppe(),t=e("toUpperCase");return L1=t,L1}var kpe=Mpe();const P0=sn(kpe);function pn(e){return function(){return e}}const B9=Math.cos,Wv=Math.sin,fa=Math.sqrt,Yv=Math.PI,M0=2*Yv,XN=Math.PI,QN=2*XN,ll=1e-6,Dpe=QN-ll;function q9(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function Ipe(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return q9;const n=10**t;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class $pe{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?q9:Ipe(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,a,o){this._append`C${+t},${+n},${+r},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(t,n,r,i,a){if(t=+t,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,l=this._y1,d=r-t,f=i-n,m=o-t,p=l-n,v=m*m+p*p;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(v>ll)if(!(Math.abs(p*d-f*m)>ll)||!a)this._append`L${this._x1=t},${this._y1=n}`;else{let y=r-o,x=i-l,b=d*d+f*f,w=y*y+x*x,N=Math.sqrt(b),E=Math.sqrt(v),j=a*Math.tan((XN-Math.acos((b+v-w)/(2*N*E)))/2),O=j/E,T=j/N;Math.abs(O-1)>ll&&this._append`L${t+O*m},${n+O*p}`,this._append`A${a},${a},0,0,${+(p*y>m*x)},${this._x1=t+T*d},${this._y1=n+T*f}`}}arc(t,n,r,i,a,o){if(t=+t,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let l=r*Math.cos(i),d=r*Math.sin(i),f=t+l,m=n+d,p=1^o,v=o?i-a:a-i;this._x1===null?this._append`M${f},${m}`:(Math.abs(this._x1-f)>ll||Math.abs(this._y1-m)>ll)&&this._append`L${f},${m}`,r&&(v<0&&(v=v%QN+QN),v>Dpe?this._append`A${r},${r},0,1,${p},${t-l},${n-d}A${r},${r},0,1,${p},${this._x1=f},${this._y1=m}`:v>ll&&this._append`A${r},${r},0,${+(v>=XN)},${p},${this._x1=t+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function KT(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new $pe(t)}function WT(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function z9(e){this._context=e}z9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function k0(e){return new z9(e)}function F9(e){return e[0]}function U9(e){return e[1]}function V9(e,t){var n=pn(!0),r=null,i=k0,a=null,o=KT(l);e=typeof e=="function"?e:e===void 0?F9:pn(e),t=typeof t=="function"?t:t===void 0?U9:pn(t);function l(d){var f,m=(d=WT(d)).length,p,v=!1,y;for(r==null&&(a=i(y=o())),f=0;f<=m;++f)!(f<m&&n(p=d[f],f,d))===v&&((v=!v)?a.lineStart():a.lineEnd()),v&&a.point(+e(p,f,d),+t(p,f,d));if(y)return a=null,y+""||null}return l.x=function(d){return arguments.length?(e=typeof d=="function"?d:pn(+d),l):e},l.y=function(d){return arguments.length?(t=typeof d=="function"?d:pn(+d),l):t},l.defined=function(d){return arguments.length?(n=typeof d=="function"?d:pn(!!d),l):n},l.curve=function(d){return arguments.length?(i=d,r!=null&&(a=i(r)),l):i},l.context=function(d){return arguments.length?(d==null?r=a=null:a=i(r=d),l):r},l}function Hg(e,t,n){var r=null,i=pn(!0),a=null,o=k0,l=null,d=KT(f);e=typeof e=="function"?e:e===void 0?F9:pn(+e),t=typeof t=="function"?t:pn(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?U9:pn(+n);function f(p){var v,y,x,b=(p=WT(p)).length,w,N=!1,E,j=new Array(b),O=new Array(b);for(a==null&&(l=o(E=d())),v=0;v<=b;++v){if(!(v<b&&i(w=p[v],v,p))===N)if(N=!N)y=v,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),x=v-1;x>=y;--x)l.point(j[x],O[x]);l.lineEnd(),l.areaEnd()}N&&(j[v]=+e(w,v,p),O[v]=+t(w,v,p),l.point(r?+r(w,v,p):j[v],n?+n(w,v,p):O[v]))}if(E)return l=null,E+""||null}function m(){return V9().defined(i).curve(o).context(a)}return f.x=function(p){return arguments.length?(e=typeof p=="function"?p:pn(+p),r=null,f):e},f.x0=function(p){return arguments.length?(e=typeof p=="function"?p:pn(+p),f):e},f.x1=function(p){return arguments.length?(r=p==null?null:typeof p=="function"?p:pn(+p),f):r},f.y=function(p){return arguments.length?(t=typeof p=="function"?p:pn(+p),n=null,f):t},f.y0=function(p){return arguments.length?(t=typeof p=="function"?p:pn(+p),f):t},f.y1=function(p){return arguments.length?(n=p==null?null:typeof p=="function"?p:pn(+p),f):n},f.lineX0=f.lineY0=function(){return m().x(e).y(t)},f.lineY1=function(){return m().x(e).y(n)},f.lineX1=function(){return m().x(r).y(t)},f.defined=function(p){return arguments.length?(i=typeof p=="function"?p:pn(!!p),f):i},f.curve=function(p){return arguments.length?(o=p,a!=null&&(l=o(a)),f):o},f.context=function(p){return arguments.length?(p==null?a=l=null:l=o(a=p),f):a},f}class H9{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function Lpe(e){return new H9(e,!0)}function Bpe(e){return new H9(e,!1)}const YT={draw(e,t){const n=fa(t/Yv);e.moveTo(n,0),e.arc(0,0,n,0,M0)}},qpe={draw(e,t){const n=fa(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},G9=fa(1/3),zpe=G9*2,Fpe={draw(e,t){const n=fa(t/zpe),r=n*G9;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},Upe={draw(e,t){const n=fa(t),r=-n/2;e.rect(r,r,n,n)}},Vpe=.8908130915292852,K9=Wv(Yv/10)/Wv(7*Yv/10),Hpe=Wv(M0/10)*K9,Gpe=-B9(M0/10)*K9,Kpe={draw(e,t){const n=fa(t*Vpe),r=Hpe*n,i=Gpe*n;e.moveTo(0,-n),e.lineTo(r,i);for(let a=1;a<5;++a){const o=M0*a/5,l=B9(o),d=Wv(o);e.lineTo(d*n,-l*n),e.lineTo(l*r-d*i,d*r+l*i)}e.closePath()}},B1=fa(3),Wpe={draw(e,t){const n=-fa(t/(B1*3));e.moveTo(0,n*2),e.lineTo(-B1*n,-n),e.lineTo(B1*n,-n),e.closePath()}},Ai=-.5,Ti=fa(3)/2,JN=1/fa(12),Ype=(JN/2+1)*3,Xpe={draw(e,t){const n=fa(t/Ype),r=n/2,i=n*JN,a=r,o=n*JN+n,l=-a,d=o;e.moveTo(r,i),e.lineTo(a,o),e.lineTo(l,d),e.lineTo(Ai*r-Ti*i,Ti*r+Ai*i),e.lineTo(Ai*a-Ti*o,Ti*a+Ai*o),e.lineTo(Ai*l-Ti*d,Ti*l+Ai*d),e.lineTo(Ai*r+Ti*i,Ai*i-Ti*r),e.lineTo(Ai*a+Ti*o,Ai*o-Ti*a),e.lineTo(Ai*l+Ti*d,Ai*d-Ti*l),e.closePath()}};function Qpe(e,t){let n=null,r=KT(i);e=typeof e=="function"?e:pn(e||YT),t=typeof t=="function"?t:pn(t===void 0?64:+t);function i(){let a;if(n||(n=a=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(e=typeof a=="function"?a:pn(a),i):e},i.size=function(a){return arguments.length?(t=typeof a=="function"?a:pn(+a),i):t},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function Xv(){}function Qv(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function W9(e){this._context=e}W9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Qv(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Qv(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Jpe(e){return new W9(e)}function Y9(e){this._context=e}Y9.prototype={areaStart:Xv,areaEnd:Xv,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Qv(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Zpe(e){return new Y9(e)}function X9(e){this._context=e}X9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Qv(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function ege(e){return new X9(e)}function Q9(e){this._context=e}Q9.prototype={areaStart:Xv,areaEnd:Xv,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function tge(e){return new Q9(e)}function O$(e){return e<0?-1:1}function C$(e,t,n){var r=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(r||i<0&&-0),o=(n-e._y1)/(i||r<0&&-0),l=(a*i+o*r)/(r+i);return(O$(a)+O$(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(l))||0}function R$(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function q1(e,t,n){var r=e._x0,i=e._y0,a=e._x1,o=e._y1,l=(a-r)/3;e._context.bezierCurveTo(r+l,i+l*t,a-l,o-l*n,a,o)}function Jv(e){this._context=e}Jv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:q1(this,this._t0,R$(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,q1(this,R$(this,n=C$(this,e,t)),n);break;default:q1(this,this._t0,n=C$(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function J9(e){this._context=new Z9(e)}(J9.prototype=Object.create(Jv.prototype)).point=function(e,t){Jv.prototype.point.call(this,t,e)};function Z9(e){this._context=e}Z9.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,a){this._context.bezierCurveTo(t,e,r,n,a,i)}};function nge(e){return new Jv(e)}function rge(e){return new J9(e)}function eH(e){this._context=e}eH.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=P$(e),i=P$(t),a=0,o=1;o<n;++a,++o)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],e[o],t[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function P$(e){var t,n=e.length-1,r,i=new Array(n),a=new Array(n),o=new Array(n);for(i[0]=0,a[0]=2,o[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,a[t]=4,o[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,a[n-1]=7,o[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/a[t-1],a[t]-=r,o[t]-=r*o[t-1];for(i[n-1]=o[n-1]/a[n-1],t=n-2;t>=0;--t)i[t]=(o[t]-i[t+1])/a[t];for(a[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function ige(e){return new eH(e)}function D0(e,t){this._context=e,this._t=t}D0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function age(e){return new D0(e,.5)}function sge(e){return new D0(e,0)}function oge(e){return new D0(e,1)}function Du(e,t){if((o=e.length)>1)for(var n=1,r,i,a=e[t[0]],o,l=a.length;n<o;++n)for(i=a,a=e[t[n]],r=0;r<l;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function ZN(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function lge(e,t){return e[t]}function cge(e){const t=[];return t.key=e,t}function uge(){var e=pn([]),t=ZN,n=Du,r=lge;function i(a){var o=Array.from(e.apply(this,arguments),cge),l,d=o.length,f=-1,m;for(const p of a)for(l=0,++f;l<d;++l)(o[l][f]=[0,+r(p,o[l].key,f,a)]).data=p;for(l=0,m=WT(t(o));l<d;++l)o[m[l]].index=l;return n(o,m),o}return i.keys=function(a){return arguments.length?(e=typeof a=="function"?a:pn(Array.from(a)),i):e},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:pn(+a),i):r},i.order=function(a){return arguments.length?(t=a==null?ZN:typeof a=="function"?a:pn(Array.from(a)),i):t},i.offset=function(a){return arguments.length?(n=a??Du,i):n},i}function dge(e,t){if((r=e.length)>0){for(var n,r,i=0,a=e[0].length,o;i<a;++i){for(o=n=0;n<r;++n)o+=e[n][i][1]||0;if(o)for(n=0;n<r;++n)e[n][i][1]/=o}Du(e,t)}}function fge(e,t){if((i=e.length)>0){for(var n=0,r=e[t[0]],i,a=r.length;n<a;++n){for(var o=0,l=0;o<i;++o)l+=e[o][n][1]||0;r[n][1]+=r[n][0]=-l/2}Du(e,t)}}function hge(e,t){if(!(!((o=e.length)>0)||!((a=(i=e[t[0]]).length)>0))){for(var n=0,r=1,i,a,o;r<a;++r){for(var l=0,d=0,f=0;l<o;++l){for(var m=e[t[l]],p=m[r][1]||0,v=m[r-1][1]||0,y=(p-v)/2,x=0;x<l;++x){var b=e[t[x]],w=b[r][1]||0,N=b[r-1][1]||0;y+=w-N}d+=p,f+=y*p}i[r-1][1]+=i[r-1][0]=n,d&&(n-=f/d)}i[r-1][1]+=i[r-1][0]=n,Du(e,t)}}function Kh(e){"@babel/helpers - typeof";return Kh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kh(e)}var mge=["type","size","sizeType"];function eE(){return eE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},eE.apply(this,arguments)}function M$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function k$(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?M$(Object(n),!0).forEach(function(r){pge(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M$(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function pge(e,t,n){return t=gge(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gge(e){var t=vge(e,"string");return Kh(t)=="symbol"?t:t+""}function vge(e,t){if(Kh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Kh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yge(e,t){if(e==null)return{};var n=bge(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function bge(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var tH={symbolCircle:YT,symbolCross:qpe,symbolDiamond:Fpe,symbolSquare:Upe,symbolStar:Kpe,symbolTriangle:Wpe,symbolWye:Xpe},xge=Math.PI/180,wge=function(t){var n="symbol".concat(P0(t));return tH[n]||YT},_ge=function(t,n,r){if(n==="area")return t;switch(r){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var i=18*xge;return 1.25*t*t*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},Sge=function(t,n){tH["symbol".concat(P0(t))]=n},I0=function(t){var n=t.type,r=n===void 0?"circle":n,i=t.size,a=i===void 0?64:i,o=t.sizeType,l=o===void 0?"area":o,d=yge(t,mge),f=k$(k$({},d),{},{type:r,size:a,sizeType:l}),m=function(){var w=wge(r),N=Qpe().type(w).size(_ge(a,l,r));return N()},p=f.className,v=f.cx,y=f.cy,x=St(f,!0);return v===+v&&y===+y&&a===+a?q.createElement("path",eE({},x,{className:Mt("recharts-symbols",p),transform:"translate(".concat(v,", ").concat(y,")"),d:m()})):null};I0.registerSymbol=Sge;function Iu(e){"@babel/helpers - typeof";return Iu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Iu(e)}function tE(){return tE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},tE.apply(this,arguments)}function D$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function jge(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?D$(Object(n),!0).forEach(function(r){Wh(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D$(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Nge(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ege(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,rH(r.key),r)}}function Age(e,t,n){return t&&Ege(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Tge(e,t,n){return t=Zv(t),Oge(e,nH()?Reflect.construct(t,n||[],Zv(e).constructor):t.apply(e,n))}function Oge(e,t){if(t&&(Iu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Cge(e)}function Cge(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function nH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(nH=function(){return!!e})()}function Zv(e){return Zv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Zv(e)}function Rge(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&nE(e,t)}function nE(e,t){return nE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},nE(e,t)}function Wh(e,t,n){return t=rH(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rH(e){var t=Pge(e,"string");return Iu(t)=="symbol"?t:t+""}function Pge(e,t){if(Iu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Iu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Oi=32,XT=(function(e){function t(){return Nge(this,t),Tge(this,t,arguments)}return Rge(t,e),Age(t,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,a=Oi/2,o=Oi/6,l=Oi/3,d=r.inactive?i:r.color;if(r.type==="plainline")return q.createElement("line",{strokeWidth:4,fill:"none",stroke:d,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:a,x2:Oi,y2:a,className:"recharts-legend-icon"});if(r.type==="line")return q.createElement("path",{strokeWidth:4,fill:"none",stroke:d,d:"M0,".concat(a,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(a,`
            H`).concat(Oi,"M").concat(2*l,",").concat(a,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(a),className:"recharts-legend-icon"});if(r.type==="rect")return q.createElement("path",{stroke:"none",fill:d,d:"M0,".concat(Oi/8,"h").concat(Oi,"v").concat(Oi*3/4,"h").concat(-Oi,"z"),className:"recharts-legend-icon"});if(q.isValidElement(r.legendIcon)){var f=jge({},r);return delete f.legendIcon,q.cloneElement(r.legendIcon,f)}return q.createElement(I0,{fill:d,cx:a,cy:a,size:Oi,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,a=i.payload,o=i.iconSize,l=i.layout,d=i.formatter,f=i.inactiveColor,m={x:0,y:0,width:Oi,height:Oi},p={display:l==="horizontal"?"inline-block":"block",marginRight:10},v={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(y,x){var b=y.formatter||d,w=Mt(Wh(Wh({"recharts-legend-item":!0},"legend-item-".concat(x),!0),"inactive",y.inactive));if(y.type==="none")return null;var N=Nt(y.value)?null:y.value;ds(!Nt(y.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var E=y.inactive?f:y.color;return q.createElement("li",tE({className:w,style:p,key:"legend-item-".concat(x)},Gh(r.props,y,x)),q.createElement(WN,{width:o,height:o,viewBox:m,style:v},r.renderIcon(y)),q.createElement("span",{className:"recharts-legend-item-text",style:{color:E}},b?b(N,y,x):N))})}},{key:"render",value:function(){var r=this.props,i=r.payload,a=r.layout,o=r.align;if(!i||!i.length)return null;var l={padding:0,margin:0,textAlign:a==="horizontal"?o:"left"};return q.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])})(_.PureComponent);Wh(XT,"displayName","Legend");Wh(XT,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var z1,I$;function Mge(){if(I$)return z1;I$=1;var e=O0();function t(){this.__data__=new e,this.size=0}return z1=t,z1}var F1,$$;function kge(){if($$)return F1;$$=1;function e(t){var n=this.__data__,r=n.delete(t);return this.size=n.size,r}return F1=e,F1}var U1,L$;function Dge(){if(L$)return U1;L$=1;function e(t){return this.__data__.get(t)}return U1=e,U1}var V1,B$;function Ige(){if(B$)return V1;B$=1;function e(t){return this.__data__.has(t)}return V1=e,V1}var H1,q$;function $ge(){if(q$)return H1;q$=1;var e=O0(),t=zT(),n=FT(),r=200;function i(a,o){var l=this.__data__;if(l instanceof e){var d=l.__data__;if(!t||d.length<r-1)return d.push([a,o]),this.size=++l.size,this;l=this.__data__=new n(d)}return l.set(a,o),this.size=l.size,this}return H1=i,H1}var G1,z$;function iH(){if(z$)return G1;z$=1;var e=O0(),t=Mge(),n=kge(),r=Dge(),i=Ige(),a=$ge();function o(l){var d=this.__data__=new e(l);this.size=d.size}return o.prototype.clear=t,o.prototype.delete=n,o.prototype.get=r,o.prototype.has=i,o.prototype.set=a,G1=o,G1}var K1,F$;function Lge(){if(F$)return K1;F$=1;var e="__lodash_hash_undefined__";function t(n){return this.__data__.set(n,e),this}return K1=t,K1}var W1,U$;function Bge(){if(U$)return W1;U$=1;function e(t){return this.__data__.has(t)}return W1=e,W1}var Y1,V$;function aH(){if(V$)return Y1;V$=1;var e=FT(),t=Lge(),n=Bge();function r(i){var a=-1,o=i==null?0:i.length;for(this.__data__=new e;++a<o;)this.add(i[a])}return r.prototype.add=r.prototype.push=t,r.prototype.has=n,Y1=r,Y1}var X1,H$;function sH(){if(H$)return X1;H$=1;function e(t,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(t[r],r,t))return!0;return!1}return X1=e,X1}var Q1,G$;function oH(){if(G$)return Q1;G$=1;function e(t,n){return t.has(n)}return Q1=e,Q1}var J1,K$;function lH(){if(K$)return J1;K$=1;var e=aH(),t=sH(),n=oH(),r=1,i=2;function a(o,l,d,f,m,p){var v=d&r,y=o.length,x=l.length;if(y!=x&&!(v&&x>y))return!1;var b=p.get(o),w=p.get(l);if(b&&w)return b==l&&w==o;var N=-1,E=!0,j=d&i?new e:void 0;for(p.set(o,l),p.set(l,o);++N<y;){var O=o[N],T=l[N];if(f)var C=v?f(T,O,N,l,o,p):f(O,T,N,o,l,p);if(C!==void 0){if(C)continue;E=!1;break}if(j){if(!t(l,function(R,P){if(!n(j,P)&&(O===R||m(O,R,d,f,p)))return j.push(P)})){E=!1;break}}else if(!(O===T||m(O,T,d,f,p))){E=!1;break}}return p.delete(o),p.delete(l),E}return J1=a,J1}var Z1,W$;function qge(){if(W$)return Z1;W$=1;var e=Ia(),t=e.Uint8Array;return Z1=t,Z1}var eS,Y$;function zge(){if(Y$)return eS;Y$=1;function e(t){var n=-1,r=Array(t.size);return t.forEach(function(i,a){r[++n]=[a,i]}),r}return eS=e,eS}var tS,X$;function QT(){if(X$)return tS;X$=1;function e(t){var n=-1,r=Array(t.size);return t.forEach(function(i){r[++n]=i}),r}return tS=e,tS}var nS,Q$;function Fge(){if(Q$)return nS;Q$=1;var e=Jm(),t=qge(),n=qT(),r=lH(),i=zge(),a=QT(),o=1,l=2,d="[object Boolean]",f="[object Date]",m="[object Error]",p="[object Map]",v="[object Number]",y="[object RegExp]",x="[object Set]",b="[object String]",w="[object Symbol]",N="[object ArrayBuffer]",E="[object DataView]",j=e?e.prototype:void 0,O=j?j.valueOf:void 0;function T(C,R,P,k,$,B,I){switch(P){case E:if(C.byteLength!=R.byteLength||C.byteOffset!=R.byteOffset)return!1;C=C.buffer,R=R.buffer;case N:return!(C.byteLength!=R.byteLength||!B(new t(C),new t(R)));case d:case f:case v:return n(+C,+R);case m:return C.name==R.name&&C.message==R.message;case y:case b:return C==R+"";case p:var F=i;case x:var V=k&o;if(F||(F=a),C.size!=R.size&&!V)return!1;var U=I.get(C);if(U)return U==R;k|=l,I.set(C,R);var D=r(F(C),F(R),k,$,B,I);return I.delete(C),D;case w:if(O)return O.call(C)==O.call(R)}return!1}return nS=T,nS}var rS,J$;function cH(){if(J$)return rS;J$=1;function e(t,n){for(var r=-1,i=n.length,a=t.length;++r<i;)t[a+r]=n[r];return t}return rS=e,rS}var iS,Z$;function Uge(){if(Z$)return iS;Z$=1;var e=cH(),t=Xr();function n(r,i,a){var o=i(r);return t(r)?o:e(o,a(r))}return iS=n,iS}var aS,e4;function Vge(){if(e4)return aS;e4=1;function e(t,n){for(var r=-1,i=t==null?0:t.length,a=0,o=[];++r<i;){var l=t[r];n(l,r,t)&&(o[a++]=l)}return o}return aS=e,aS}var sS,t4;function Hge(){if(t4)return sS;t4=1;function e(){return[]}return sS=e,sS}var oS,n4;function Gge(){if(n4)return oS;n4=1;var e=Vge(),t=Hge(),n=Object.prototype,r=n.propertyIsEnumerable,i=Object.getOwnPropertySymbols,a=i?function(o){return o==null?[]:(o=Object(o),e(i(o),function(l){return r.call(o,l)}))}:t;return oS=a,oS}var lS,r4;function Kge(){if(r4)return lS;r4=1;function e(t,n){for(var r=-1,i=Array(t);++r<t;)i[r]=n(r);return i}return lS=e,lS}var cS,i4;function Wge(){if(i4)return cS;i4=1;var e=ws(),t=_s(),n="[object Arguments]";function r(i){return t(i)&&e(i)==n}return cS=r,cS}var uS,a4;function JT(){if(a4)return uS;a4=1;var e=Wge(),t=_s(),n=Object.prototype,r=n.hasOwnProperty,i=n.propertyIsEnumerable,a=e((function(){return arguments})())?e:function(o){return t(o)&&r.call(o,"callee")&&!i.call(o,"callee")};return uS=a,uS}var nh={exports:{}},dS,s4;function Yge(){if(s4)return dS;s4=1;function e(){return!1}return dS=e,dS}nh.exports;var o4;function uH(){return o4||(o4=1,(function(e,t){var n=Ia(),r=Yge(),i=t&&!t.nodeType&&t,a=i&&!0&&e&&!e.nodeType&&e,o=a&&a.exports===i,l=o?n.Buffer:void 0,d=l?l.isBuffer:void 0,f=d||r;e.exports=f})(nh,nh.exports)),nh.exports}var fS,l4;function ZT(){if(l4)return fS;l4=1;var e=9007199254740991,t=/^(?:0|[1-9]\d*)$/;function n(r,i){var a=typeof r;return i=i??e,!!i&&(a=="number"||a!="symbol"&&t.test(r))&&r>-1&&r%1==0&&r<i}return fS=n,fS}var hS,c4;function eO(){if(c4)return hS;c4=1;var e=9007199254740991;function t(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=e}return hS=t,hS}var mS,u4;function Xge(){if(u4)return mS;u4=1;var e=ws(),t=eO(),n=_s(),r="[object Arguments]",i="[object Array]",a="[object Boolean]",o="[object Date]",l="[object Error]",d="[object Function]",f="[object Map]",m="[object Number]",p="[object Object]",v="[object RegExp]",y="[object Set]",x="[object String]",b="[object WeakMap]",w="[object ArrayBuffer]",N="[object DataView]",E="[object Float32Array]",j="[object Float64Array]",O="[object Int8Array]",T="[object Int16Array]",C="[object Int32Array]",R="[object Uint8Array]",P="[object Uint8ClampedArray]",k="[object Uint16Array]",$="[object Uint32Array]",B={};B[E]=B[j]=B[O]=B[T]=B[C]=B[R]=B[P]=B[k]=B[$]=!0,B[r]=B[i]=B[w]=B[a]=B[N]=B[o]=B[l]=B[d]=B[f]=B[m]=B[p]=B[v]=B[y]=B[x]=B[b]=!1;function I(F){return n(F)&&t(F.length)&&!!B[e(F)]}return mS=I,mS}var pS,d4;function dH(){if(d4)return pS;d4=1;function e(t){return function(n){return t(n)}}return pS=e,pS}var rh={exports:{}};rh.exports;var f4;function Qge(){return f4||(f4=1,(function(e,t){var n=C9(),r=t&&!t.nodeType&&t,i=r&&!0&&e&&!e.nodeType&&e,a=i&&i.exports===r,o=a&&n.process,l=(function(){try{var d=i&&i.require&&i.require("util").types;return d||o&&o.binding&&o.binding("util")}catch{}})();e.exports=l})(rh,rh.exports)),rh.exports}var gS,h4;function fH(){if(h4)return gS;h4=1;var e=Xge(),t=dH(),n=Qge(),r=n&&n.isTypedArray,i=r?t(r):e;return gS=i,gS}var vS,m4;function Jge(){if(m4)return vS;m4=1;var e=Kge(),t=JT(),n=Xr(),r=uH(),i=ZT(),a=fH(),o=Object.prototype,l=o.hasOwnProperty;function d(f,m){var p=n(f),v=!p&&t(f),y=!p&&!v&&r(f),x=!p&&!v&&!y&&a(f),b=p||v||y||x,w=b?e(f.length,String):[],N=w.length;for(var E in f)(m||l.call(f,E))&&!(b&&(E=="length"||y&&(E=="offset"||E=="parent")||x&&(E=="buffer"||E=="byteLength"||E=="byteOffset")||i(E,N)))&&w.push(E);return w}return vS=d,vS}var yS,p4;function Zge(){if(p4)return yS;p4=1;var e=Object.prototype;function t(n){var r=n&&n.constructor,i=typeof r=="function"&&r.prototype||e;return n===i}return yS=t,yS}var bS,g4;function hH(){if(g4)return bS;g4=1;function e(t,n){return function(r){return t(n(r))}}return bS=e,bS}var xS,v4;function eve(){if(v4)return xS;v4=1;var e=hH(),t=e(Object.keys,Object);return xS=t,xS}var wS,y4;function tve(){if(y4)return wS;y4=1;var e=Zge(),t=eve(),n=Object.prototype,r=n.hasOwnProperty;function i(a){if(!e(a))return t(a);var o=[];for(var l in Object(a))r.call(a,l)&&l!="constructor"&&o.push(l);return o}return wS=i,wS}var _S,b4;function Zm(){if(b4)return _S;b4=1;var e=BT(),t=eO();function n(r){return r!=null&&t(r.length)&&!e(r)}return _S=n,_S}var SS,x4;function $0(){if(x4)return SS;x4=1;var e=Jge(),t=tve(),n=Zm();function r(i){return n(i)?e(i):t(i)}return SS=r,SS}var jS,w4;function nve(){if(w4)return jS;w4=1;var e=Uge(),t=Gge(),n=$0();function r(i){return e(i,n,t)}return jS=r,jS}var NS,_4;function rve(){if(_4)return NS;_4=1;var e=nve(),t=1,n=Object.prototype,r=n.hasOwnProperty;function i(a,o,l,d,f,m){var p=l&t,v=e(a),y=v.length,x=e(o),b=x.length;if(y!=b&&!p)return!1;for(var w=y;w--;){var N=v[w];if(!(p?N in o:r.call(o,N)))return!1}var E=m.get(a),j=m.get(o);if(E&&j)return E==o&&j==a;var O=!0;m.set(a,o),m.set(o,a);for(var T=p;++w<y;){N=v[w];var C=a[N],R=o[N];if(d)var P=p?d(R,C,N,o,a,m):d(C,R,N,a,o,m);if(!(P===void 0?C===R||f(C,R,l,d,m):P)){O=!1;break}T||(T=N=="constructor")}if(O&&!T){var k=a.constructor,$=o.constructor;k!=$&&"constructor"in a&&"constructor"in o&&!(typeof k=="function"&&k instanceof k&&typeof $=="function"&&$ instanceof $)&&(O=!1)}return m.delete(a),m.delete(o),O}return NS=i,NS}var ES,S4;function ive(){if(S4)return ES;S4=1;var e=Hl(),t=Ia(),n=e(t,"DataView");return ES=n,ES}var AS,j4;function ave(){if(j4)return AS;j4=1;var e=Hl(),t=Ia(),n=e(t,"Promise");return AS=n,AS}var TS,N4;function mH(){if(N4)return TS;N4=1;var e=Hl(),t=Ia(),n=e(t,"Set");return TS=n,TS}var OS,E4;function sve(){if(E4)return OS;E4=1;var e=Hl(),t=Ia(),n=e(t,"WeakMap");return OS=n,OS}var CS,A4;function ove(){if(A4)return CS;A4=1;var e=ive(),t=zT(),n=ave(),r=mH(),i=sve(),a=ws(),o=R9(),l="[object Map]",d="[object Object]",f="[object Promise]",m="[object Set]",p="[object WeakMap]",v="[object DataView]",y=o(e),x=o(t),b=o(n),w=o(r),N=o(i),E=a;return(e&&E(new e(new ArrayBuffer(1)))!=v||t&&E(new t)!=l||n&&E(n.resolve())!=f||r&&E(new r)!=m||i&&E(new i)!=p)&&(E=function(j){var O=a(j),T=O==d?j.constructor:void 0,C=T?o(T):"";if(C)switch(C){case y:return v;case x:return l;case b:return f;case w:return m;case N:return p}return O}),CS=E,CS}var RS,T4;function lve(){if(T4)return RS;T4=1;var e=iH(),t=lH(),n=Fge(),r=rve(),i=ove(),a=Xr(),o=uH(),l=fH(),d=1,f="[object Arguments]",m="[object Array]",p="[object Object]",v=Object.prototype,y=v.hasOwnProperty;function x(b,w,N,E,j,O){var T=a(b),C=a(w),R=T?m:i(b),P=C?m:i(w);R=R==f?p:R,P=P==f?p:P;var k=R==p,$=P==p,B=R==P;if(B&&o(b)){if(!o(w))return!1;T=!0,k=!1}if(B&&!k)return O||(O=new e),T||l(b)?t(b,w,N,E,j,O):n(b,w,R,N,E,j,O);if(!(N&d)){var I=k&&y.call(b,"__wrapped__"),F=$&&y.call(w,"__wrapped__");if(I||F){var V=I?b.value():b,U=F?w.value():w;return O||(O=new e),j(V,U,N,E,O)}}return B?(O||(O=new e),r(b,w,N,E,j,O)):!1}return RS=x,RS}var PS,O4;function tO(){if(O4)return PS;O4=1;var e=lve(),t=_s();function n(r,i,a,o,l){return r===i?!0:r==null||i==null||!t(r)&&!t(i)?r!==r&&i!==i:e(r,i,a,o,n,l)}return PS=n,PS}var MS,C4;function cve(){if(C4)return MS;C4=1;var e=iH(),t=tO(),n=1,r=2;function i(a,o,l,d){var f=l.length,m=f,p=!d;if(a==null)return!m;for(a=Object(a);f--;){var v=l[f];if(p&&v[2]?v[1]!==a[v[0]]:!(v[0]in a))return!1}for(;++f<m;){v=l[f];var y=v[0],x=a[y],b=v[1];if(p&&v[2]){if(x===void 0&&!(y in a))return!1}else{var w=new e;if(d)var N=d(x,b,y,a,o,w);if(!(N===void 0?t(b,x,n|r,d,w):N))return!1}}return!0}return MS=i,MS}var kS,R4;function pH(){if(R4)return kS;R4=1;var e=Ao();function t(n){return n===n&&!e(n)}return kS=t,kS}var DS,P4;function uve(){if(P4)return DS;P4=1;var e=pH(),t=$0();function n(r){for(var i=t(r),a=i.length;a--;){var o=i[a],l=r[o];i[a]=[o,l,e(l)]}return i}return DS=n,DS}var IS,M4;function gH(){if(M4)return IS;M4=1;function e(t,n){return function(r){return r==null?!1:r[t]===n&&(n!==void 0||t in Object(r))}}return IS=e,IS}var $S,k4;function dve(){if(k4)return $S;k4=1;var e=cve(),t=uve(),n=gH();function r(i){var a=t(i);return a.length==1&&a[0][2]?n(a[0][0],a[0][1]):function(o){return o===i||e(o,i,a)}}return $S=r,$S}var LS,D4;function fve(){if(D4)return LS;D4=1;function e(t,n){return t!=null&&n in Object(t)}return LS=e,LS}var BS,I4;function hve(){if(I4)return BS;I4=1;var e=k9(),t=JT(),n=Xr(),r=ZT(),i=eO(),a=R0();function o(l,d,f){d=e(d,l);for(var m=-1,p=d.length,v=!1;++m<p;){var y=a(d[m]);if(!(v=l!=null&&f(l,y)))break;l=l[y]}return v||++m!=p?v:(p=l==null?0:l.length,!!p&&i(p)&&r(y,p)&&(n(l)||t(l)))}return BS=o,BS}var qS,$4;function mve(){if($4)return qS;$4=1;var e=fve(),t=hve();function n(r,i){return r!=null&&t(r,i,e)}return qS=n,qS}var zS,L4;function pve(){if(L4)return zS;L4=1;var e=tO(),t=D9(),n=mve(),r=LT(),i=pH(),a=gH(),o=R0(),l=1,d=2;function f(m,p){return r(m)&&i(p)?a(o(m),p):function(v){var y=t(v,m);return y===void 0&&y===p?n(v,m):e(p,y,l|d)}}return zS=f,zS}var FS,B4;function Md(){if(B4)return FS;B4=1;function e(t){return t}return FS=e,FS}var US,q4;function gve(){if(q4)return US;q4=1;function e(t){return function(n){return n?.[t]}}return US=e,US}var VS,z4;function vve(){if(z4)return VS;z4=1;var e=VT();function t(n){return function(r){return e(r,n)}}return VS=t,VS}var HS,F4;function yve(){if(F4)return HS;F4=1;var e=gve(),t=vve(),n=LT(),r=R0();function i(a){return n(a)?e(r(a)):t(a)}return HS=i,HS}var GS,U4;function To(){if(U4)return GS;U4=1;var e=dve(),t=pve(),n=Md(),r=Xr(),i=yve();function a(o){return typeof o=="function"?o:o==null?n:typeof o=="object"?r(o)?t(o[0],o[1]):e(o):i(o)}return GS=a,GS}var KS,V4;function vH(){if(V4)return KS;V4=1;function e(t,n,r,i){for(var a=t.length,o=r+(i?1:-1);i?o--:++o<a;)if(n(t[o],o,t))return o;return-1}return KS=e,KS}var WS,H4;function bve(){if(H4)return WS;H4=1;function e(t){return t!==t}return WS=e,WS}var YS,G4;function xve(){if(G4)return YS;G4=1;function e(t,n,r){for(var i=r-1,a=t.length;++i<a;)if(t[i]===n)return i;return-1}return YS=e,YS}var XS,K4;function wve(){if(K4)return XS;K4=1;var e=vH(),t=bve(),n=xve();function r(i,a,o){return a===a?n(i,a,o):e(i,t,o)}return XS=r,XS}var QS,W4;function _ve(){if(W4)return QS;W4=1;var e=wve();function t(n,r){var i=n==null?0:n.length;return!!i&&e(n,r,0)>-1}return QS=t,QS}var JS,Y4;function Sve(){if(Y4)return JS;Y4=1;function e(t,n,r){for(var i=-1,a=t==null?0:t.length;++i<a;)if(r(n,t[i]))return!0;return!1}return JS=e,JS}var ZS,X4;function jve(){if(X4)return ZS;X4=1;function e(){}return ZS=e,ZS}var e2,Q4;function Nve(){if(Q4)return e2;Q4=1;var e=mH(),t=jve(),n=QT(),r=1/0,i=e&&1/n(new e([,-0]))[1]==r?function(a){return new e(a)}:t;return e2=i,e2}var t2,J4;function Eve(){if(J4)return t2;J4=1;var e=aH(),t=_ve(),n=Sve(),r=oH(),i=Nve(),a=QT(),o=200;function l(d,f,m){var p=-1,v=t,y=d.length,x=!0,b=[],w=b;if(m)x=!1,v=n;else if(y>=o){var N=f?null:i(d);if(N)return a(N);x=!1,v=r,w=new e}else w=f?[]:b;e:for(;++p<y;){var E=d[p],j=f?f(E):E;if(E=m||E!==0?E:0,x&&j===j){for(var O=w.length;O--;)if(w[O]===j)continue e;f&&w.push(j),b.push(E)}else v(w,j,m)||(w!==b&&w.push(j),b.push(E))}return b}return t2=l,t2}var n2,Z4;function Ave(){if(Z4)return n2;Z4=1;var e=To(),t=Eve();function n(r,i){return r&&r.length?t(r,e(i,2)):[]}return n2=n,n2}var Tve=Ave();const e5=sn(Tve);function yH(e,t,n){return t===!0?e5(e,n):Nt(t)?e5(e,t):e}function $u(e){"@babel/helpers - typeof";return $u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$u(e)}var Ove=["ref"];function t5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ns(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?t5(Object(n),!0).forEach(function(r){L0(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):t5(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Cve(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n5(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,xH(r.key),r)}}function Rve(e,t,n){return t&&n5(e.prototype,t),n&&n5(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Pve(e,t,n){return t=ey(t),Mve(e,bH()?Reflect.construct(t,n||[],ey(e).constructor):t.apply(e,n))}function Mve(e,t){if(t&&($u(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kve(e)}function kve(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(bH=function(){return!!e})()}function ey(e){return ey=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ey(e)}function Dve(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&rE(e,t)}function rE(e,t){return rE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},rE(e,t)}function L0(e,t,n){return t=xH(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xH(e){var t=Ive(e,"string");return $u(t)=="symbol"?t:t+""}function Ive(e,t){if($u(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if($u(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function $ve(e,t){if(e==null)return{};var n=Lve(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Lve(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function Bve(e){return e.value}function qve(e,t){if(q.isValidElement(e))return q.cloneElement(e,t);if(typeof e=="function")return q.createElement(e,t);t.ref;var n=$ve(t,Ove);return q.createElement(XT,n)}var r5=1,Nu=(function(e){function t(){var n;Cve(this,t);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=Pve(this,t,[].concat(i)),L0(n,"lastBoundingBox",{width:-1,height:-1}),n}return Dve(t,e),Rve(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>r5||Math.abs(i.height-this.lastBoundingBox.height)>r5)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?ns({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,a=i.layout,o=i.align,l=i.verticalAlign,d=i.margin,f=i.chartWidth,m=i.chartHeight,p,v;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(o==="center"&&a==="vertical"){var y=this.getBBoxSnapshot();p={left:((f||0)-y.width)/2}}else p=o==="right"?{right:d&&d.right||0}:{left:d&&d.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(l==="middle"){var x=this.getBBoxSnapshot();v={top:((m||0)-x.height)/2}}else v=l==="bottom"?{bottom:d&&d.bottom||0}:{top:d&&d.top||0};return ns(ns({},p),v)}},{key:"render",value:function(){var r=this,i=this.props,a=i.content,o=i.width,l=i.height,d=i.wrapperStyle,f=i.payloadUniqBy,m=i.payload,p=ns(ns({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(d)),d);return q.createElement("div",{className:"recharts-legend-wrapper",style:p,ref:function(y){r.wrapperNode=y}},qve(a,ns(ns({},this.props),{},{payload:yH(m,f,Bve)})))}}],[{key:"getWithHeight",value:function(r,i){var a=ns(ns({},this.defaultProps),r.props),o=a.layout;return o==="vertical"&&Ce(r.props.height)?{height:r.props.height}:o==="horizontal"?{width:r.props.width||i}:null}}])})(_.PureComponent);L0(Nu,"displayName","Legend");L0(Nu,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var r2,i5;function zve(){if(i5)return r2;i5=1;var e=Jm(),t=JT(),n=Xr(),r=e?e.isConcatSpreadable:void 0;function i(a){return n(a)||t(a)||!!(r&&a&&a[r])}return r2=i,r2}var i2,a5;function wH(){if(a5)return i2;a5=1;var e=cH(),t=zve();function n(r,i,a,o,l){var d=-1,f=r.length;for(a||(a=t),l||(l=[]);++d<f;){var m=r[d];i>0&&a(m)?i>1?n(m,i-1,a,o,l):e(l,m):o||(l[l.length]=m)}return l}return i2=n,i2}var a2,s5;function Fve(){if(s5)return a2;s5=1;function e(t){return function(n,r,i){for(var a=-1,o=Object(n),l=i(n),d=l.length;d--;){var f=l[t?d:++a];if(r(o[f],f,o)===!1)break}return n}}return a2=e,a2}var s2,o5;function Uve(){if(o5)return s2;o5=1;var e=Fve(),t=e();return s2=t,s2}var o2,l5;function _H(){if(l5)return o2;l5=1;var e=Uve(),t=$0();function n(r,i){return r&&e(r,i,t)}return o2=n,o2}var l2,c5;function Vve(){if(c5)return l2;c5=1;var e=Zm();function t(n,r){return function(i,a){if(i==null)return i;if(!e(i))return n(i,a);for(var o=i.length,l=r?o:-1,d=Object(i);(r?l--:++l<o)&&a(d[l],l,d)!==!1;);return i}}return l2=t,l2}var c2,u5;function nO(){if(u5)return c2;u5=1;var e=_H(),t=Vve(),n=t(e);return c2=n,c2}var u2,d5;function SH(){if(d5)return u2;d5=1;var e=nO(),t=Zm();function n(r,i){var a=-1,o=t(r)?Array(r.length):[];return e(r,function(l,d,f){o[++a]=i(l,d,f)}),o}return u2=n,u2}var d2,f5;function Hve(){if(f5)return d2;f5=1;function e(t,n){var r=t.length;for(t.sort(n);r--;)t[r]=t[r].value;return t}return d2=e,d2}var f2,h5;function Gve(){if(h5)return f2;h5=1;var e=Cd();function t(n,r){if(n!==r){var i=n!==void 0,a=n===null,o=n===n,l=e(n),d=r!==void 0,f=r===null,m=r===r,p=e(r);if(!f&&!p&&!l&&n>r||l&&d&&m&&!f&&!p||a&&d&&m||!i&&m||!o)return 1;if(!a&&!l&&!p&&n<r||p&&i&&o&&!a&&!l||f&&i&&o||!d&&o||!m)return-1}return 0}return f2=t,f2}var h2,m5;function Kve(){if(m5)return h2;m5=1;var e=Gve();function t(n,r,i){for(var a=-1,o=n.criteria,l=r.criteria,d=o.length,f=i.length;++a<d;){var m=e(o[a],l[a]);if(m){if(a>=f)return m;var p=i[a];return m*(p=="desc"?-1:1)}}return n.index-r.index}return h2=t,h2}var m2,p5;function Wve(){if(p5)return m2;p5=1;var e=UT(),t=VT(),n=To(),r=SH(),i=Hve(),a=dH(),o=Kve(),l=Md(),d=Xr();function f(m,p,v){p.length?p=e(p,function(b){return d(b)?function(w){return t(w,b.length===1?b[0]:b)}:b}):p=[l];var y=-1;p=e(p,a(n));var x=r(m,function(b,w,N){var E=e(p,function(j){return j(b)});return{criteria:E,index:++y,value:b}});return i(x,function(b,w){return o(b,w,v)})}return m2=f,m2}var p2,g5;function Yve(){if(g5)return p2;g5=1;function e(t,n,r){switch(r.length){case 0:return t.call(n);case 1:return t.call(n,r[0]);case 2:return t.call(n,r[0],r[1]);case 3:return t.call(n,r[0],r[1],r[2])}return t.apply(n,r)}return p2=e,p2}var g2,v5;function Xve(){if(v5)return g2;v5=1;var e=Yve(),t=Math.max;function n(r,i,a){return i=t(i===void 0?r.length-1:i,0),function(){for(var o=arguments,l=-1,d=t(o.length-i,0),f=Array(d);++l<d;)f[l]=o[i+l];l=-1;for(var m=Array(i+1);++l<i;)m[l]=o[l];return m[i]=a(f),e(r,this,m)}}return g2=n,g2}var v2,y5;function Qve(){if(y5)return v2;y5=1;function e(t){return function(){return t}}return v2=e,v2}var y2,b5;function jH(){if(b5)return y2;b5=1;var e=Hl(),t=(function(){try{var n=e(Object,"defineProperty");return n({},"",{}),n}catch{}})();return y2=t,y2}var b2,x5;function Jve(){if(x5)return b2;x5=1;var e=Qve(),t=jH(),n=Md(),r=t?function(i,a){return t(i,"toString",{configurable:!0,enumerable:!1,value:e(a),writable:!0})}:n;return b2=r,b2}var x2,w5;function Zve(){if(w5)return x2;w5=1;var e=800,t=16,n=Date.now;function r(i){var a=0,o=0;return function(){var l=n(),d=t-(l-o);if(o=l,d>0){if(++a>=e)return arguments[0]}else a=0;return i.apply(void 0,arguments)}}return x2=r,x2}var w2,_5;function eye(){if(_5)return w2;_5=1;var e=Jve(),t=Zve(),n=t(e);return w2=n,w2}var _2,S5;function tye(){if(S5)return _2;S5=1;var e=Md(),t=Xve(),n=eye();function r(i,a){return n(t(i,a,e),i+"")}return _2=r,_2}var S2,j5;function B0(){if(j5)return S2;j5=1;var e=qT(),t=Zm(),n=ZT(),r=Ao();function i(a,o,l){if(!r(l))return!1;var d=typeof o;return(d=="number"?t(l)&&n(o,l.length):d=="string"&&o in l)?e(l[o],a):!1}return S2=i,S2}var j2,N5;function nye(){if(N5)return j2;N5=1;var e=wH(),t=Wve(),n=tye(),r=B0(),i=n(function(a,o){if(a==null)return[];var l=o.length;return l>1&&r(a,o[0],o[1])?o=[]:l>2&&r(o[0],o[1],o[2])&&(o=[o[0]]),t(a,e(o,1),[])});return j2=i,j2}var rye=nye();const rO=sn(rye);function Yh(e){"@babel/helpers - typeof";return Yh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yh(e)}function iE(){return iE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},iE.apply(this,arguments)}function iye(e,t){return lye(e)||oye(e,t)||sye(e,t)||aye()}function aye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sye(e,t){if(e){if(typeof e=="string")return E5(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return E5(e,t)}}function E5(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function oye(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,o,l=[],d=!0,f=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(d=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);d=!0);}catch(m){f=!0,i=m}finally{try{if(!d&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(f)throw i}}return l}}function lye(e){if(Array.isArray(e))return e}function A5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function N2(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?A5(Object(n),!0).forEach(function(r){cye(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A5(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function cye(e,t,n){return t=uye(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function uye(e){var t=dye(e,"string");return Yh(t)=="symbol"?t:t+""}function dye(e,t){if(Yh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Yh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fye(e){return Array.isArray(e)&&tr(e[0])&&tr(e[1])?e.join(" ~ "):e}var hye=function(t){var n=t.separator,r=n===void 0?" : ":n,i=t.contentStyle,a=i===void 0?{}:i,o=t.itemStyle,l=o===void 0?{}:o,d=t.labelStyle,f=d===void 0?{}:d,m=t.payload,p=t.formatter,v=t.itemSorter,y=t.wrapperClassName,x=t.labelClassName,b=t.label,w=t.labelFormatter,N=t.accessibilityLayer,E=N===void 0?!1:N,j=function(){if(m&&m.length){var I={padding:0,margin:0},F=(v?rO(m,v):m).map(function(V,U){if(V.type==="none")return null;var D=N2({display:"block",paddingTop:4,paddingBottom:4,color:V.color||"#000"},l),G=V.formatter||p||fye,z=V.value,Y=V.name,de=z,H=Y;if(G&&de!=null&&H!=null){var K=G(z,Y,V,U,m);if(Array.isArray(K)){var Z=iye(K,2);de=Z[0],H=Z[1]}else de=K}return q.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(U),style:D},tr(H)?q.createElement("span",{className:"recharts-tooltip-item-name"},H):null,tr(H)?q.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,q.createElement("span",{className:"recharts-tooltip-item-value"},de),q.createElement("span",{className:"recharts-tooltip-item-unit"},V.unit||""))});return q.createElement("ul",{className:"recharts-tooltip-item-list",style:I},F)}return null},O=N2({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),T=N2({margin:0},f),C=!xt(b),R=C?b:"",P=Mt("recharts-default-tooltip",y),k=Mt("recharts-tooltip-label",x);C&&w&&m!==void 0&&m!==null&&(R=w(b,m));var $=E?{role:"status","aria-live":"assertive"}:{};return q.createElement("div",iE({className:P,style:O},$),q.createElement("p",{className:k,style:T},q.isValidElement(R)?R:"".concat(R)),j())};function Xh(e){"@babel/helpers - typeof";return Xh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xh(e)}function Gg(e,t,n){return t=mye(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mye(e){var t=pye(e,"string");return Xh(t)=="symbol"?t:t+""}function pye(e,t){if(Xh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Xh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var kf="recharts-tooltip-wrapper",gye={visibility:"hidden"};function vye(e){var t=e.coordinate,n=e.translateX,r=e.translateY;return Mt(kf,Gg(Gg(Gg(Gg({},"".concat(kf,"-right"),Ce(n)&&t&&Ce(t.x)&&n>=t.x),"".concat(kf,"-left"),Ce(n)&&t&&Ce(t.x)&&n<t.x),"".concat(kf,"-bottom"),Ce(r)&&t&&Ce(t.y)&&r>=t.y),"".concat(kf,"-top"),Ce(r)&&t&&Ce(t.y)&&r<t.y))}function T5(e){var t=e.allowEscapeViewBox,n=e.coordinate,r=e.key,i=e.offsetTopLeft,a=e.position,o=e.reverseDirection,l=e.tooltipDimension,d=e.viewBox,f=e.viewBoxDimension;if(a&&Ce(a[r]))return a[r];var m=n[r]-l-i,p=n[r]+i;if(t[r])return o[r]?m:p;if(o[r]){var v=m,y=d[r];return v<y?Math.max(p,d[r]):Math.max(m,d[r])}var x=p+l,b=d[r]+f;return x>b?Math.max(m,d[r]):Math.max(p,d[r])}function yye(e){var t=e.translateX,n=e.translateY,r=e.useTranslate3d;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function bye(e){var t=e.allowEscapeViewBox,n=e.coordinate,r=e.offsetTopLeft,i=e.position,a=e.reverseDirection,o=e.tooltipBox,l=e.useTranslate3d,d=e.viewBox,f,m,p;return o.height>0&&o.width>0&&n?(m=T5({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:o.width,viewBox:d,viewBoxDimension:d.width}),p=T5({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:o.height,viewBox:d,viewBoxDimension:d.height}),f=yye({translateX:m,translateY:p,useTranslate3d:l})):f=gye,{cssProperties:f,cssClasses:vye({translateX:m,translateY:p,coordinate:n})}}function Lu(e){"@babel/helpers - typeof";return Lu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lu(e)}function O5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function C5(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?O5(Object(n),!0).forEach(function(r){sE(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O5(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function xye(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wye(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,EH(r.key),r)}}function _ye(e,t,n){return t&&wye(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Sye(e,t,n){return t=ty(t),jye(e,NH()?Reflect.construct(t,n||[],ty(e).constructor):t.apply(e,n))}function jye(e,t){if(t&&(Lu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Nye(e)}function Nye(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function NH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(NH=function(){return!!e})()}function ty(e){return ty=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ty(e)}function Eye(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&aE(e,t)}function aE(e,t){return aE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},aE(e,t)}function sE(e,t,n){return t=EH(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function EH(e){var t=Aye(e,"string");return Lu(t)=="symbol"?t:t+""}function Aye(e,t){if(Lu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Lu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var R5=1,Tye=(function(e){function t(){var n;xye(this,t);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=Sye(this,t,[].concat(i)),sE(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),sE(n,"handleKeyDown",function(o){if(o.key==="Escape"){var l,d,f,m;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(d=n.props.coordinate)===null||d===void 0?void 0:d.x)!==null&&l!==void 0?l:0,y:(f=(m=n.props.coordinate)===null||m===void 0?void 0:m.y)!==null&&f!==void 0?f:0}})}}),n}return Eye(t,e),_ye(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>R5||Math.abs(r.height-this.state.lastBoundingBox.height)>R5)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,l=i.animationDuration,d=i.animationEasing,f=i.children,m=i.coordinate,p=i.hasPayload,v=i.isAnimationActive,y=i.offset,x=i.position,b=i.reverseDirection,w=i.useTranslate3d,N=i.viewBox,E=i.wrapperStyle,j=bye({allowEscapeViewBox:o,coordinate:m,offsetTopLeft:y,position:x,reverseDirection:b,tooltipBox:this.state.lastBoundingBox,useTranslate3d:w,viewBox:N}),O=j.cssClasses,T=j.cssProperties,C=C5(C5({transition:v&&a?"transform ".concat(l,"ms ").concat(d):void 0},T),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&p?"visible":"hidden",position:"absolute",top:0,left:0},E);return q.createElement("div",{tabIndex:-1,className:O,style:C,ref:function(P){r.wrapperNode=P}},f)}}])})(_.PureComponent),Oye=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Oo={isSsr:Oye()};function Bu(e){"@babel/helpers - typeof";return Bu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bu(e)}function P5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function M5(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?P5(Object(n),!0).forEach(function(r){iO(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P5(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Cye(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Rye(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,TH(r.key),r)}}function Pye(e,t,n){return t&&Rye(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Mye(e,t,n){return t=ny(t),kye(e,AH()?Reflect.construct(t,n||[],ny(e).constructor):t.apply(e,n))}function kye(e,t){if(t&&(Bu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Dye(e)}function Dye(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function AH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(AH=function(){return!!e})()}function ny(e){return ny=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ny(e)}function Iye(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&oE(e,t)}function oE(e,t){return oE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},oE(e,t)}function iO(e,t,n){return t=TH(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function TH(e){var t=$ye(e,"string");return Bu(t)=="symbol"?t:t+""}function $ye(e,t){if(Bu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Bu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Lye(e){return e.dataKey}function Bye(e,t){return q.isValidElement(e)?q.cloneElement(e,t):typeof e=="function"?q.createElement(e,t):q.createElement(hye,t)}var kr=(function(e){function t(){return Cye(this,t),Mye(this,t,arguments)}return Iye(t,e),Pye(t,[{key:"render",value:function(){var r=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,l=i.animationDuration,d=i.animationEasing,f=i.content,m=i.coordinate,p=i.filterNull,v=i.isAnimationActive,y=i.offset,x=i.payload,b=i.payloadUniqBy,w=i.position,N=i.reverseDirection,E=i.useTranslate3d,j=i.viewBox,O=i.wrapperStyle,T=x??[];p&&T.length&&(T=yH(x.filter(function(R){return R.value!=null&&(R.hide!==!0||r.props.includeHidden)}),b,Lye));var C=T.length>0;return q.createElement(Tye,{allowEscapeViewBox:o,animationDuration:l,animationEasing:d,isAnimationActive:v,active:a,coordinate:m,hasPayload:C,offset:y,position:w,reverseDirection:N,useTranslate3d:E,viewBox:j,wrapperStyle:O},Bye(f,M5(M5({},this.props),{},{payload:T})))}}])})(_.PureComponent);iO(kr,"displayName","Tooltip");iO(kr,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Oo.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var E2,k5;function qye(){if(k5)return E2;k5=1;var e=Ia(),t=function(){return e.Date.now()};return E2=t,E2}var A2,D5;function zye(){if(D5)return A2;D5=1;var e=/\s/;function t(n){for(var r=n.length;r--&&e.test(n.charAt(r)););return r}return A2=t,A2}var T2,I5;function Fye(){if(I5)return T2;I5=1;var e=zye(),t=/^\s+/;function n(r){return r&&r.slice(0,e(r)+1).replace(t,"")}return T2=n,T2}var O2,$5;function OH(){if($5)return O2;$5=1;var e=Fye(),t=Ao(),n=Cd(),r=NaN,i=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,o=/^0o[0-7]+$/i,l=parseInt;function d(f){if(typeof f=="number")return f;if(n(f))return r;if(t(f)){var m=typeof f.valueOf=="function"?f.valueOf():f;f=t(m)?m+"":m}if(typeof f!="string")return f===0?f:+f;f=e(f);var p=a.test(f);return p||o.test(f)?l(f.slice(2),p?2:8):i.test(f)?r:+f}return O2=d,O2}var C2,L5;function Uye(){if(L5)return C2;L5=1;var e=Ao(),t=qye(),n=OH(),r="Expected a function",i=Math.max,a=Math.min;function o(l,d,f){var m,p,v,y,x,b,w=0,N=!1,E=!1,j=!0;if(typeof l!="function")throw new TypeError(r);d=n(d)||0,e(f)&&(N=!!f.leading,E="maxWait"in f,v=E?i(n(f.maxWait)||0,d):v,j="trailing"in f?!!f.trailing:j);function O(F){var V=m,U=p;return m=p=void 0,w=F,y=l.apply(U,V),y}function T(F){return w=F,x=setTimeout(P,d),N?O(F):y}function C(F){var V=F-b,U=F-w,D=d-V;return E?a(D,v-U):D}function R(F){var V=F-b,U=F-w;return b===void 0||V>=d||V<0||E&&U>=v}function P(){var F=t();if(R(F))return k(F);x=setTimeout(P,C(F))}function k(F){return x=void 0,j&&m?O(F):(m=p=void 0,y)}function $(){x!==void 0&&clearTimeout(x),w=0,m=b=p=x=void 0}function B(){return x===void 0?y:k(t())}function I(){var F=t(),V=R(F);if(m=arguments,p=this,b=F,V){if(x===void 0)return T(b);if(E)return clearTimeout(x),x=setTimeout(P,d),O(b)}return x===void 0&&(x=setTimeout(P,d)),y}return I.cancel=$,I.flush=B,I}return C2=o,C2}var R2,B5;function Vye(){if(B5)return R2;B5=1;var e=Uye(),t=Ao(),n="Expected a function";function r(i,a,o){var l=!0,d=!0;if(typeof i!="function")throw new TypeError(n);return t(o)&&(l="leading"in o?!!o.leading:l,d="trailing"in o?!!o.trailing:d),e(i,a,{leading:l,maxWait:a,trailing:d})}return R2=r,R2}var Hye=Vye();const CH=sn(Hye);function Qh(e){"@babel/helpers - typeof";return Qh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qh(e)}function q5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Kg(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?q5(Object(n),!0).forEach(function(r){Gye(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q5(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Gye(e,t,n){return t=Kye(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Kye(e){var t=Wye(e,"string");return Qh(t)=="symbol"?t:t+""}function Wye(e,t){if(Qh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Qh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Yye(e,t){return Zye(e)||Jye(e,t)||Qye(e,t)||Xye()}function Xye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Qye(e,t){if(e){if(typeof e=="string")return z5(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return z5(e,t)}}function z5(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Jye(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,o,l=[],d=!0,f=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(d=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);d=!0);}catch(m){f=!0,i=m}finally{try{if(!d&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(f)throw i}}return l}}function Zye(e){if(Array.isArray(e))return e}var ru=_.forwardRef(function(e,t){var n=e.aspect,r=e.initialDimension,i=r===void 0?{width:-1,height:-1}:r,a=e.width,o=a===void 0?"100%":a,l=e.height,d=l===void 0?"100%":l,f=e.minWidth,m=f===void 0?0:f,p=e.minHeight,v=e.maxHeight,y=e.children,x=e.debounce,b=x===void 0?0:x,w=e.id,N=e.className,E=e.onResize,j=e.style,O=j===void 0?{}:j,T=_.useRef(null),C=_.useRef();C.current=E,_.useImperativeHandle(t,function(){return Object.defineProperty(T.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),T.current},configurable:!0})});var R=_.useState({containerWidth:i.width,containerHeight:i.height}),P=Yye(R,2),k=P[0],$=P[1],B=_.useCallback(function(F,V){$(function(U){var D=Math.round(F),G=Math.round(V);return U.containerWidth===D&&U.containerHeight===G?U:{containerWidth:D,containerHeight:G}})},[]);_.useEffect(function(){var F=function(Y){var de,H=Y[0].contentRect,K=H.width,Z=H.height;B(K,Z),(de=C.current)===null||de===void 0||de.call(C,K,Z)};b>0&&(F=CH(F,b,{trailing:!0,leading:!1}));var V=new ResizeObserver(F),U=T.current.getBoundingClientRect(),D=U.width,G=U.height;return B(D,G),V.observe(T.current),function(){V.disconnect()}},[B,b]);var I=_.useMemo(function(){var F=k.containerWidth,V=k.containerHeight;if(F<0||V<0)return null;ds(vl(o)||vl(d),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,d),ds(!n||n>0,"The aspect(%s) must be greater than zero.",n);var U=vl(o)?F:o,D=vl(d)?V:d;n&&n>0&&(U?D=U/n:D&&(U=D*n),v&&D>v&&(D=v)),ds(U>0||D>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,U,D,o,d,m,p,n);var G=!Array.isArray(y)&&us(y.type).endsWith("Chart");return q.Children.map(y,function(z){return q.isValidElement(z)?_.cloneElement(z,Kg({width:U,height:D},G?{style:Kg({height:"100%",width:"100%",maxHeight:D,maxWidth:U},z.props.style)}:{})):z})},[n,y,d,v,p,m,k,o]);return q.createElement("div",{id:w?"".concat(w):void 0,className:Mt("recharts-responsive-container",N),style:Kg(Kg({},O),{},{width:o,height:d,minWidth:m,minHeight:p,maxHeight:v}),ref:T},I)}),q0=function(t){return null};q0.displayName="Cell";function Jh(e){"@babel/helpers - typeof";return Jh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jh(e)}function F5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function lE(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?F5(Object(n),!0).forEach(function(r){e0e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F5(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function e0e(e,t,n){return t=t0e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function t0e(e){var t=n0e(e,"string");return Jh(t)=="symbol"?t:t+""}function n0e(e,t){if(Jh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Jh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Kc={widthCache:{},cacheCount:0},r0e=2e3,i0e={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},U5="recharts_measurement_span";function a0e(e){var t=lE({},e);return Object.keys(t).forEach(function(n){t[n]||delete t[n]}),t}var vh=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Oo.isSsr)return{width:0,height:0};var r=a0e(n),i=JSON.stringify({text:t,copyStyle:r});if(Kc.widthCache[i])return Kc.widthCache[i];try{var a=document.getElementById(U5);a||(a=document.createElement("span"),a.setAttribute("id",U5),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var o=lE(lE({},i0e),r);Object.assign(a.style,o),a.textContent="".concat(t);var l=a.getBoundingClientRect(),d={width:l.width,height:l.height};return Kc.widthCache[i]=d,++Kc.cacheCount>r0e&&(Kc.cacheCount=0,Kc.widthCache={}),d}catch{return{width:0,height:0}}},s0e=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function Zh(e){"@babel/helpers - typeof";return Zh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zh(e)}function ry(e,t){return u0e(e)||c0e(e,t)||l0e(e,t)||o0e()}function o0e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function l0e(e,t){if(e){if(typeof e=="string")return V5(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return V5(e,t)}}function V5(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c0e(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,o,l=[],d=!0,f=!1;try{if(a=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;d=!1}else for(;!(d=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);d=!0);}catch(m){f=!0,i=m}finally{try{if(!d&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(f)throw i}}return l}}function u0e(e){if(Array.isArray(e))return e}function d0e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function H5(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,h0e(r.key),r)}}function f0e(e,t,n){return t&&H5(e.prototype,t),n&&H5(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function h0e(e){var t=m0e(e,"string");return Zh(t)=="symbol"?t:t+""}function m0e(e,t){if(Zh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Zh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var G5=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,K5=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,p0e=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,g0e=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,RH={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},v0e=Object.keys(RH),du="NaN";function y0e(e,t){return e*RH[t]}var Wg=(function(){function e(t,n){d0e(this,e),this.num=t,this.unit=n,this.num=t,this.unit=n,Number.isNaN(t)&&(this.unit=""),n!==""&&!p0e.test(n)&&(this.num=NaN,this.unit=""),v0e.includes(n)&&(this.num=y0e(t,n),this.unit="px")}return f0e(e,[{key:"add",value:function(n){return this.unit!==n.unit?new e(NaN,""):new e(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new e(NaN,""):new e(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new e(NaN,""):new e(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new e(NaN,""):new e(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=g0e.exec(n))!==null&&r!==void 0?r:[],a=ry(i,3),o=a[1],l=a[2];return new e(parseFloat(o),l??"")}}])})();function PH(e){if(e.includes(du))return du;for(var t=e;t.includes("*")||t.includes("/");){var n,r=(n=G5.exec(t))!==null&&n!==void 0?n:[],i=ry(r,4),a=i[1],o=i[2],l=i[3],d=Wg.parse(a??""),f=Wg.parse(l??""),m=o==="*"?d.multiply(f):d.divide(f);if(m.isNaN())return du;t=t.replace(G5,m.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var p,v=(p=K5.exec(t))!==null&&p!==void 0?p:[],y=ry(v,4),x=y[1],b=y[2],w=y[3],N=Wg.parse(x??""),E=Wg.parse(w??""),j=b==="+"?N.add(E):N.subtract(E);if(j.isNaN())return du;t=t.replace(K5,j.toString())}return t}var W5=/\(([^()]*)\)/;function b0e(e){for(var t=e;t.includes("(");){var n=W5.exec(t),r=ry(n,2),i=r[1];t=t.replace(W5,PH(i))}return t}function x0e(e){var t=e.replace(/\s+/g,"");return t=b0e(t),t=PH(t),t}function w0e(e){try{return x0e(e)}catch{return du}}function P2(e){var t=w0e(e.slice(5,-1));return t===du?"":t}var _0e=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],S0e=["dx","dy","angle","className","breakAll"];function cE(){return cE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},cE.apply(this,arguments)}function Y5(e,t){if(e==null)return{};var n=j0e(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function j0e(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function X5(e,t){return T0e(e)||A0e(e,t)||E0e(e,t)||N0e()}function N0e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function E0e(e,t){if(e){if(typeof e=="string")return Q5(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Q5(e,t)}}function Q5(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function A0e(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,o,l=[],d=!0,f=!1;try{if(a=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;d=!1}else for(;!(d=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);d=!0);}catch(m){f=!0,i=m}finally{try{if(!d&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(f)throw i}}return l}}function T0e(e){if(Array.isArray(e))return e}var MH=/[ \f\n\r\t\v\u2028\u2029]+/,kH=function(t){var n=t.children,r=t.breakAll,i=t.style;try{var a=[];xt(n)||(r?a=n.toString().split(""):a=n.toString().split(MH));var o=a.map(function(d){return{word:d,width:vh(d,i).width}}),l=r?0:vh("",i).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},O0e=function(t,n,r,i,a){var o=t.maxLines,l=t.children,d=t.style,f=t.breakAll,m=Ce(o),p=l,v=function(){var U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return U.reduce(function(D,G){var z=G.word,Y=G.width,de=D[D.length-1];if(de&&(i==null||a||de.width+Y+r<Number(i)))de.words.push(z),de.width+=Y+r;else{var H={words:[z],width:Y};D.push(H)}return D},[])},y=v(n),x=function(U){return U.reduce(function(D,G){return D.width>G.width?D:G})};if(!m)return y;for(var b="",w=function(U){var D=p.slice(0,U),G=kH({breakAll:f,style:d,children:D+b}).wordsWithComputedWidth,z=v(G),Y=z.length>o||x(z).width>Number(i);return[Y,z]},N=0,E=p.length-1,j=0,O;N<=E&&j<=p.length-1;){var T=Math.floor((N+E)/2),C=T-1,R=w(C),P=X5(R,2),k=P[0],$=P[1],B=w(T),I=X5(B,1),F=I[0];if(!k&&!F&&(N=T+1),k&&F&&(E=T-1),!k&&F){O=$;break}j++}return O||y},J5=function(t){var n=xt(t)?[]:t.toString().split(MH);return[{words:n}]},C0e=function(t){var n=t.width,r=t.scaleToFit,i=t.children,a=t.style,o=t.breakAll,l=t.maxLines;if((n||r)&&!Oo.isSsr){var d,f,m=kH({breakAll:o,children:i,style:a});if(m){var p=m.wordsWithComputedWidth,v=m.spaceWidth;d=p,f=v}else return J5(i);return O0e({breakAll:o,children:i,maxLines:l,style:a},d,f,n,r)}return J5(i)},Z5="#808080",iy=function(t){var n=t.x,r=n===void 0?0:n,i=t.y,a=i===void 0?0:i,o=t.lineHeight,l=o===void 0?"1em":o,d=t.capHeight,f=d===void 0?"0.71em":d,m=t.scaleToFit,p=m===void 0?!1:m,v=t.textAnchor,y=v===void 0?"start":v,x=t.verticalAnchor,b=x===void 0?"end":x,w=t.fill,N=w===void 0?Z5:w,E=Y5(t,_0e),j=_.useMemo(function(){return C0e({breakAll:E.breakAll,children:E.children,maxLines:E.maxLines,scaleToFit:p,style:E.style,width:E.width})},[E.breakAll,E.children,E.maxLines,p,E.style,E.width]),O=E.dx,T=E.dy,C=E.angle,R=E.className,P=E.breakAll,k=Y5(E,S0e);if(!tr(r)||!tr(a))return null;var $=r+(Ce(O)?O:0),B=a+(Ce(T)?T:0),I;switch(b){case"start":I=P2("calc(".concat(f,")"));break;case"middle":I=P2("calc(".concat((j.length-1)/2," * -").concat(l," + (").concat(f," / 2))"));break;default:I=P2("calc(".concat(j.length-1," * -").concat(l,")"));break}var F=[];if(p){var V=j[0].width,U=E.width;F.push("scale(".concat((Ce(U)?U/V:1)/V,")"))}return C&&F.push("rotate(".concat(C,", ").concat($,", ").concat(B,")")),F.length&&(k.transform=F.join(" ")),q.createElement("text",cE({},St(k,!0),{x:$,y:B,className:Mt("recharts-text",R),textAnchor:y,fill:N.includes("url")?Z5:N}),j.map(function(D,G){var z=D.words.join(P?"":" ");return q.createElement("tspan",{x:$,dy:G===0?I:l,key:"".concat(z,"-").concat(G)},z)}))};function ho(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function R0e(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function aO(e){let t,n,r;e.length!==2?(t=ho,n=(l,d)=>ho(e(l),d),r=(l,d)=>e(l)-d):(t=e===ho||e===R0e?e:P0e,n=e,r=e);function i(l,d,f=0,m=l.length){if(f<m){if(t(d,d)!==0)return m;do{const p=f+m>>>1;n(l[p],d)<0?f=p+1:m=p}while(f<m)}return f}function a(l,d,f=0,m=l.length){if(f<m){if(t(d,d)!==0)return m;do{const p=f+m>>>1;n(l[p],d)<=0?f=p+1:m=p}while(f<m)}return f}function o(l,d,f=0,m=l.length){const p=i(l,d,f,m-1);return p>f&&r(l[p-1],d)>-r(l[p],d)?p-1:p}return{left:i,center:o,right:a}}function P0e(){return 0}function DH(e){return e===null?NaN:+e}function*M0e(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const k0e=aO(ho),ep=k0e.right;aO(DH).center;class eL extends Map{constructor(t,n=$0e){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(tL(this,t))}has(t){return super.has(tL(this,t))}set(t,n){return super.set(D0e(this,t),n)}delete(t){return super.delete(I0e(this,t))}}function tL({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function D0e({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function I0e({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function $0e(e){return e!==null&&typeof e=="object"?e.valueOf():e}function L0e(e=ho){if(e===ho)return IH;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function IH(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const B0e=Math.sqrt(50),q0e=Math.sqrt(10),z0e=Math.sqrt(2);function ay(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),o=a>=B0e?10:a>=q0e?5:a>=z0e?2:1;let l,d,f;return i<0?(f=Math.pow(10,-i)/o,l=Math.round(e*f),d=Math.round(t*f),l/f<e&&++l,d/f>t&&--d,f=-f):(f=Math.pow(10,i)*o,l=Math.round(e/f),d=Math.round(t/f),l*f<e&&++l,d*f>t&&--d),d<l&&.5<=n&&n<2?ay(e,t,n*2):[l,d,f]}function uE(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,a,o]=r?ay(t,e,n):ay(e,t,n);if(!(a>=i))return[];const l=a-i+1,d=new Array(l);if(r)if(o<0)for(let f=0;f<l;++f)d[f]=(a-f)/-o;else for(let f=0;f<l;++f)d[f]=(a-f)*o;else if(o<0)for(let f=0;f<l;++f)d[f]=(i+f)/-o;else for(let f=0;f<l;++f)d[f]=(i+f)*o;return d}function dE(e,t,n){return t=+t,e=+e,n=+n,ay(e,t,n)[2]}function fE(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?dE(t,e,n):dE(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function nL(e,t){let n;for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function rL(e,t){let n;for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function $H(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?IH:L0e(i);r>n;){if(r-n>600){const d=r-n+1,f=t-n+1,m=Math.log(d),p=.5*Math.exp(2*m/3),v=.5*Math.sqrt(m*p*(d-p)/d)*(f-d/2<0?-1:1),y=Math.max(n,Math.floor(t-f*p/d+v)),x=Math.min(r,Math.floor(t+(d-f)*p/d+v));$H(e,t,y,x,i)}const a=e[t];let o=n,l=r;for(Df(e,n,t),i(e[r],a)>0&&Df(e,n,r);o<l;){for(Df(e,o,l),++o,--l;i(e[o],a)<0;)++o;for(;i(e[l],a)>0;)--l}i(e[n],a)===0?Df(e,n,l):(++l,Df(e,l,r)),l<=t&&(n=l+1),t<=l&&(r=l-1)}return e}function Df(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function F0e(e,t,n){if(e=Float64Array.from(M0e(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return rL(e);if(t>=1)return nL(e);var r,i=(r-1)*t,a=Math.floor(i),o=nL($H(e,a).subarray(0,a+1)),l=rL(e.subarray(a+1));return o+(l-o)*(i-a)}}function U0e(e,t,n=DH){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,a=Math.floor(i),o=+n(e[a],a,e),l=+n(e[a+1],a+1,e);return o+(l-o)*(i-a)}}function V0e(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,a=new Array(i);++r<i;)a[r]=e+r*n;return a}function zi(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Ss(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const hE=Symbol("implicit");function sO(){var e=new eL,t=[],n=[],r=hE;function i(a){let o=e.get(a);if(o===void 0){if(r!==hE)return r;e.set(a,o=t.push(a)-1)}return n[o%n.length]}return i.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new eL;for(const o of a)e.has(o)||e.set(o,t.push(o)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return sO(t,n).unknown(r)},zi.apply(i,arguments),i}function em(){var e=sO().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,a,o,l=!1,d=0,f=0,m=.5;delete e.unknown;function p(){var v=t().length,y=i<r,x=y?i:r,b=y?r:i;a=(b-x)/Math.max(1,v-d+f*2),l&&(a=Math.floor(a)),x+=(b-x-a*(v-d))*m,o=a*(1-d),l&&(x=Math.round(x),o=Math.round(o));var w=V0e(v).map(function(N){return x+a*N});return n(y?w.reverse():w)}return e.domain=function(v){return arguments.length?(t(v),p()):t()},e.range=function(v){return arguments.length?([r,i]=v,r=+r,i=+i,p()):[r,i]},e.rangeRound=function(v){return[r,i]=v,r=+r,i=+i,l=!0,p()},e.bandwidth=function(){return o},e.step=function(){return a},e.round=function(v){return arguments.length?(l=!!v,p()):l},e.padding=function(v){return arguments.length?(d=Math.min(1,f=+v),p()):d},e.paddingInner=function(v){return arguments.length?(d=Math.min(1,v),p()):d},e.paddingOuter=function(v){return arguments.length?(f=+v,p()):f},e.align=function(v){return arguments.length?(m=Math.max(0,Math.min(1,v)),p()):m},e.copy=function(){return em(t(),[r,i]).round(l).paddingInner(d).paddingOuter(f).align(m)},zi.apply(p(),arguments)}function LH(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return LH(t())},e}function yh(){return LH(em.apply(null,arguments).paddingInner(1))}function oO(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function BH(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function tp(){}var tm=.7,sy=1/tm,Eu="\\s*([+-]?\\d+)\\s*",nm="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Aa="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",H0e=/^#([0-9a-f]{3,8})$/,G0e=new RegExp(`^rgb\\(${Eu},${Eu},${Eu}\\)$`),K0e=new RegExp(`^rgb\\(${Aa},${Aa},${Aa}\\)$`),W0e=new RegExp(`^rgba\\(${Eu},${Eu},${Eu},${nm}\\)$`),Y0e=new RegExp(`^rgba\\(${Aa},${Aa},${Aa},${nm}\\)$`),X0e=new RegExp(`^hsl\\(${nm},${Aa},${Aa}\\)$`),Q0e=new RegExp(`^hsla\\(${nm},${Aa},${Aa},${nm}\\)$`),iL={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};oO(tp,rm,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:aL,formatHex:aL,formatHex8:J0e,formatHsl:Z0e,formatRgb:sL,toString:sL});function aL(){return this.rgb().formatHex()}function J0e(){return this.rgb().formatHex8()}function Z0e(){return qH(this).formatHsl()}function sL(){return this.rgb().formatRgb()}function rm(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=H0e.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?oL(t):n===3?new Kr(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Yg(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Yg(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=G0e.exec(e))?new Kr(t[1],t[2],t[3],1):(t=K0e.exec(e))?new Kr(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=W0e.exec(e))?Yg(t[1],t[2],t[3],t[4]):(t=Y0e.exec(e))?Yg(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=X0e.exec(e))?uL(t[1],t[2]/100,t[3]/100,1):(t=Q0e.exec(e))?uL(t[1],t[2]/100,t[3]/100,t[4]):iL.hasOwnProperty(e)?oL(iL[e]):e==="transparent"?new Kr(NaN,NaN,NaN,0):null}function oL(e){return new Kr(e>>16&255,e>>8&255,e&255,1)}function Yg(e,t,n,r){return r<=0&&(e=t=n=NaN),new Kr(e,t,n,r)}function ebe(e){return e instanceof tp||(e=rm(e)),e?(e=e.rgb(),new Kr(e.r,e.g,e.b,e.opacity)):new Kr}function mE(e,t,n,r){return arguments.length===1?ebe(e):new Kr(e,t,n,r??1)}function Kr(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}oO(Kr,mE,BH(tp,{brighter(e){return e=e==null?sy:Math.pow(sy,e),new Kr(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?tm:Math.pow(tm,e),new Kr(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Kr(Al(this.r),Al(this.g),Al(this.b),oy(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:lL,formatHex:lL,formatHex8:tbe,formatRgb:cL,toString:cL}));function lL(){return`#${yl(this.r)}${yl(this.g)}${yl(this.b)}`}function tbe(){return`#${yl(this.r)}${yl(this.g)}${yl(this.b)}${yl((isNaN(this.opacity)?1:this.opacity)*255)}`}function cL(){const e=oy(this.opacity);return`${e===1?"rgb(":"rgba("}${Al(this.r)}, ${Al(this.g)}, ${Al(this.b)}${e===1?")":`, ${e})`}`}function oy(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Al(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function yl(e){return e=Al(e),(e<16?"0":"")+e.toString(16)}function uL(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new ra(e,t,n,r)}function qH(e){if(e instanceof ra)return new ra(e.h,e.s,e.l,e.opacity);if(e instanceof tp||(e=rm(e)),!e)return new ra;if(e instanceof ra)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),a=Math.max(t,n,r),o=NaN,l=a-i,d=(a+i)/2;return l?(t===a?o=(n-r)/l+(n<r)*6:n===a?o=(r-t)/l+2:o=(t-n)/l+4,l/=d<.5?a+i:2-a-i,o*=60):l=d>0&&d<1?0:o,new ra(o,l,d,e.opacity)}function nbe(e,t,n,r){return arguments.length===1?qH(e):new ra(e,t,n,r??1)}function ra(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}oO(ra,nbe,BH(tp,{brighter(e){return e=e==null?sy:Math.pow(sy,e),new ra(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?tm:Math.pow(tm,e),new ra(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new Kr(M2(e>=240?e-240:e+120,i,r),M2(e,i,r),M2(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new ra(dL(this.h),Xg(this.s),Xg(this.l),oy(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=oy(this.opacity);return`${e===1?"hsl(":"hsla("}${dL(this.h)}, ${Xg(this.s)*100}%, ${Xg(this.l)*100}%${e===1?")":`, ${e})`}`}}));function dL(e){return e=(e||0)%360,e<0?e+360:e}function Xg(e){return Math.max(0,Math.min(1,e||0))}function M2(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const lO=e=>()=>e;function rbe(e,t){return function(n){return e+n*t}}function ibe(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function abe(e){return(e=+e)==1?zH:function(t,n){return n-t?ibe(t,n,e):lO(isNaN(t)?n:t)}}function zH(e,t){var n=t-e;return n?rbe(e,n):lO(isNaN(e)?t:e)}const fL=(function e(t){var n=abe(t);function r(i,a){var o=n((i=mE(i)).r,(a=mE(a)).r),l=n(i.g,a.g),d=n(i.b,a.b),f=zH(i.opacity,a.opacity);return function(m){return i.r=o(m),i.g=l(m),i.b=d(m),i.opacity=f(m),i+""}}return r.gamma=e,r})(1);function sbe(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=e[i]*(1-a)+t[i]*a;return r}}function obe(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function lbe(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),a=new Array(n),o;for(o=0;o<r;++o)i[o]=kd(e[o],t[o]);for(;o<n;++o)a[o]=t[o];return function(l){for(o=0;o<r;++o)a[o]=i[o](l);return a}}function cbe(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function ly(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function ube(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=kd(e[i],t[i]):r[i]=t[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var pE=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,k2=new RegExp(pE.source,"g");function dbe(e){return function(){return e}}function fbe(e){return function(t){return e(t)+""}}function hbe(e,t){var n=pE.lastIndex=k2.lastIndex=0,r,i,a,o=-1,l=[],d=[];for(e=e+"",t=t+"";(r=pE.exec(e))&&(i=k2.exec(t));)(a=i.index)>n&&(a=t.slice(n,a),l[o]?l[o]+=a:l[++o]=a),(r=r[0])===(i=i[0])?l[o]?l[o]+=i:l[++o]=i:(l[++o]=null,d.push({i:o,x:ly(r,i)})),n=k2.lastIndex;return n<t.length&&(a=t.slice(n),l[o]?l[o]+=a:l[++o]=a),l.length<2?d[0]?fbe(d[0].x):dbe(t):(t=d.length,function(f){for(var m=0,p;m<t;++m)l[(p=d[m]).i]=p.x(f);return l.join("")})}function kd(e,t){var n=typeof t,r;return t==null||n==="boolean"?lO(t):(n==="number"?ly:n==="string"?(r=rm(t))?(t=r,fL):hbe:t instanceof rm?fL:t instanceof Date?cbe:obe(t)?sbe:Array.isArray(t)?lbe:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?ube:ly)(e,t)}function cO(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function mbe(e,t){t===void 0&&(t=e,e=kd);for(var n=0,r=t.length-1,i=t[0],a=new Array(r<0?0:r);n<r;)a[n]=e(i,i=t[++n]);return function(o){var l=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return a[l](o-l)}}function pbe(e){return function(){return e}}function cy(e){return+e}var hL=[0,1];function Ir(e){return e}function gE(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:pbe(isNaN(t)?NaN:.5)}function gbe(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function vbe(e,t,n){var r=e[0],i=e[1],a=t[0],o=t[1];return i<r?(r=gE(i,r),a=n(o,a)):(r=gE(r,i),a=n(a,o)),function(l){return a(r(l))}}function ybe(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),a=new Array(r),o=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<r;)i[o]=gE(e[o],e[o+1]),a[o]=n(t[o],t[o+1]);return function(l){var d=ep(e,l,1,r)-1;return a[d](i[d](l))}}function np(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function z0(){var e=hL,t=hL,n=kd,r,i,a,o=Ir,l,d,f;function m(){var v=Math.min(e.length,t.length);return o!==Ir&&(o=gbe(e[0],e[v-1])),l=v>2?ybe:vbe,d=f=null,p}function p(v){return v==null||isNaN(v=+v)?a:(d||(d=l(e.map(r),t,n)))(r(o(v)))}return p.invert=function(v){return o(i((f||(f=l(t,e.map(r),ly)))(v)))},p.domain=function(v){return arguments.length?(e=Array.from(v,cy),m()):e.slice()},p.range=function(v){return arguments.length?(t=Array.from(v),m()):t.slice()},p.rangeRound=function(v){return t=Array.from(v),n=cO,m()},p.clamp=function(v){return arguments.length?(o=v?!0:Ir,m()):o!==Ir},p.interpolate=function(v){return arguments.length?(n=v,m()):n},p.unknown=function(v){return arguments.length?(a=v,p):a},function(v,y){return r=v,i=y,m()}}function uO(){return z0()(Ir,Ir)}function bbe(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function uy(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function qu(e){return e=uy(Math.abs(e)),e?e[1]:NaN}function xbe(e,t){return function(n,r){for(var i=n.length,a=[],o=0,l=e[0],d=0;i>0&&l>0&&(d+l+1>r&&(l=Math.max(1,r-d)),a.push(n.substring(i-=l,i+l)),!((d+=l+1)>r));)l=e[o=(o+1)%e.length];return a.reverse().join(t)}}function wbe(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var _be=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function im(e){if(!(t=_be.exec(e)))throw new Error("invalid format: "+e);var t;return new dO({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}im.prototype=dO.prototype;function dO(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}dO.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Sbe(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var FH;function jbe(e,t){var n=uy(e,t);if(!n)return e+"";var r=n[0],i=n[1],a=i-(FH=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+uy(e,Math.max(0,t+a-1))[0]}function mL(e,t){var n=uy(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const pL={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:bbe,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>mL(e*100,t),r:mL,s:jbe,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function gL(e){return e}var vL=Array.prototype.map,yL=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Nbe(e){var t=e.grouping===void 0||e.thousands===void 0?gL:xbe(vL.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?gL:wbe(vL.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",d=e.nan===void 0?"NaN":e.nan+"";function f(p){p=im(p);var v=p.fill,y=p.align,x=p.sign,b=p.symbol,w=p.zero,N=p.width,E=p.comma,j=p.precision,O=p.trim,T=p.type;T==="n"?(E=!0,T="g"):pL[T]||(j===void 0&&(j=12),O=!0,T="g"),(w||v==="0"&&y==="=")&&(w=!0,v="0",y="=");var C=b==="$"?n:b==="#"&&/[boxX]/.test(T)?"0"+T.toLowerCase():"",R=b==="$"?r:/[%p]/.test(T)?o:"",P=pL[T],k=/[defgprs%]/.test(T);j=j===void 0?6:/[gprs]/.test(T)?Math.max(1,Math.min(21,j)):Math.max(0,Math.min(20,j));function $(B){var I=C,F=R,V,U,D;if(T==="c")F=P(B)+F,B="";else{B=+B;var G=B<0||1/B<0;if(B=isNaN(B)?d:P(Math.abs(B),j),O&&(B=Sbe(B)),G&&+B==0&&x!=="+"&&(G=!1),I=(G?x==="("?x:l:x==="-"||x==="("?"":x)+I,F=(T==="s"?yL[8+FH/3]:"")+F+(G&&x==="("?")":""),k){for(V=-1,U=B.length;++V<U;)if(D=B.charCodeAt(V),48>D||D>57){F=(D===46?i+B.slice(V+1):B.slice(V))+F,B=B.slice(0,V);break}}}E&&!w&&(B=t(B,1/0));var z=I.length+B.length+F.length,Y=z<N?new Array(N-z+1).join(v):"";switch(E&&w&&(B=t(Y+B,Y.length?N-F.length:1/0),Y=""),y){case"<":B=I+B+F+Y;break;case"=":B=I+Y+B+F;break;case"^":B=Y.slice(0,z=Y.length>>1)+I+B+F+Y.slice(z);break;default:B=Y+I+B+F;break}return a(B)}return $.toString=function(){return p+""},$}function m(p,v){var y=f((p=im(p),p.type="f",p)),x=Math.max(-8,Math.min(8,Math.floor(qu(v)/3)))*3,b=Math.pow(10,-x),w=yL[8+x/3];return function(N){return y(b*N)+w}}return{format:f,formatPrefix:m}}var Qg,fO,UH;Ebe({thousands:",",grouping:[3],currency:["$",""]});function Ebe(e){return Qg=Nbe(e),fO=Qg.format,UH=Qg.formatPrefix,Qg}function Abe(e){return Math.max(0,-qu(Math.abs(e)))}function Tbe(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(qu(t)/3)))*3-qu(Math.abs(e)))}function Obe(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,qu(t)-qu(e))+1}function VH(e,t,n,r){var i=fE(e,t,n),a;switch(r=im(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(a=Tbe(i,o))&&(r.precision=a),UH(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=Obe(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=Abe(i))&&(r.precision=a-(r.type==="%")*2);break}}return fO(r)}function Co(e){var t=e.domain;return e.ticks=function(n){var r=t();return uE(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return VH(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,a=r.length-1,o=r[i],l=r[a],d,f,m=10;for(l<o&&(f=o,o=l,l=f,f=i,i=a,a=f);m-- >0;){if(f=dE(o,l,n),f===d)return r[i]=o,r[a]=l,t(r);if(f>0)o=Math.floor(o/f)*f,l=Math.ceil(l/f)*f;else if(f<0)o=Math.ceil(o*f)/f,l=Math.floor(l*f)/f;else break;d=f}return e},e}function dy(){var e=uO();return e.copy=function(){return np(e,dy())},zi.apply(e,arguments),Co(e)}function HH(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,cy),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return HH(e).unknown(t)},e=arguments.length?Array.from(e,cy):[0,1],Co(n)}function GH(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],a=e[r],o;return a<i&&(o=n,n=r,r=o,o=i,i=a,a=o),e[n]=t.floor(i),e[r]=t.ceil(a),e}function bL(e){return Math.log(e)}function xL(e){return Math.exp(e)}function Cbe(e){return-Math.log(-e)}function Rbe(e){return-Math.exp(-e)}function Pbe(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Mbe(e){return e===10?Pbe:e===Math.E?Math.exp:t=>Math.pow(e,t)}function kbe(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function wL(e){return(t,n)=>-e(-t,n)}function hO(e){const t=e(bL,xL),n=t.domain;let r=10,i,a;function o(){return i=kbe(r),a=Mbe(r),n()[0]<0?(i=wL(i),a=wL(a),e(Cbe,Rbe)):e(bL,xL),t}return t.base=function(l){return arguments.length?(r=+l,o()):r},t.domain=function(l){return arguments.length?(n(l),o()):n()},t.ticks=l=>{const d=n();let f=d[0],m=d[d.length-1];const p=m<f;p&&([f,m]=[m,f]);let v=i(f),y=i(m),x,b;const w=l==null?10:+l;let N=[];if(!(r%1)&&y-v<w){if(v=Math.floor(v),y=Math.ceil(y),f>0){for(;v<=y;++v)for(x=1;x<r;++x)if(b=v<0?x/a(-v):x*a(v),!(b<f)){if(b>m)break;N.push(b)}}else for(;v<=y;++v)for(x=r-1;x>=1;--x)if(b=v>0?x/a(-v):x*a(v),!(b<f)){if(b>m)break;N.push(b)}N.length*2<w&&(N=uE(f,m,w))}else N=uE(v,y,Math.min(y-v,w)).map(a);return p?N.reverse():N},t.tickFormat=(l,d)=>{if(l==null&&(l=10),d==null&&(d=r===10?"s":","),typeof d!="function"&&(!(r%1)&&(d=im(d)).precision==null&&(d.trim=!0),d=fO(d)),l===1/0)return d;const f=Math.max(1,r*l/t.ticks().length);return m=>{let p=m/a(Math.round(i(m)));return p*r<r-.5&&(p*=r),p<=f?d(m):""}},t.nice=()=>n(GH(n(),{floor:l=>a(Math.floor(i(l))),ceil:l=>a(Math.ceil(i(l)))})),t}function KH(){const e=hO(z0()).domain([1,10]);return e.copy=()=>np(e,KH()).base(e.base()),zi.apply(e,arguments),e}function _L(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function SL(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function mO(e){var t=1,n=e(_L(t),SL(t));return n.constant=function(r){return arguments.length?e(_L(t=+r),SL(t)):t},Co(n)}function WH(){var e=mO(z0());return e.copy=function(){return np(e,WH()).constant(e.constant())},zi.apply(e,arguments)}function jL(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Dbe(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Ibe(e){return e<0?-e*e:e*e}function pO(e){var t=e(Ir,Ir),n=1;function r(){return n===1?e(Ir,Ir):n===.5?e(Dbe,Ibe):e(jL(n),jL(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},Co(t)}function gO(){var e=pO(z0());return e.copy=function(){return np(e,gO()).exponent(e.exponent())},zi.apply(e,arguments),e}function $be(){return gO.apply(null,arguments).exponent(.5)}function NL(e){return Math.sign(e)*e*e}function Lbe(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function YH(){var e=uO(),t=[0,1],n=!1,r;function i(a){var o=Lbe(e(a));return isNaN(o)?r:n?Math.round(o):o}return i.invert=function(a){return e.invert(NL(a))},i.domain=function(a){return arguments.length?(e.domain(a),i):e.domain()},i.range=function(a){return arguments.length?(e.range((t=Array.from(a,cy)).map(NL)),i):t.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(e.clamp(a),i):e.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return YH(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},zi.apply(i,arguments),Co(i)}function XH(){var e=[],t=[],n=[],r;function i(){var o=0,l=Math.max(1,t.length);for(n=new Array(l-1);++o<l;)n[o-1]=U0e(e,o/l);return a}function a(o){return o==null||isNaN(o=+o)?r:t[ep(n,o)]}return a.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?n[l-1]:e[0],l<n.length?n[l]:e[e.length-1]]},a.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(ho),i()},a.range=function(o){return arguments.length?(t=Array.from(o),i()):t.slice()},a.unknown=function(o){return arguments.length?(r=o,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return XH().domain(e).range(t).unknown(r)},zi.apply(a,arguments)}function QH(){var e=0,t=1,n=1,r=[.5],i=[0,1],a;function o(d){return d!=null&&d<=d?i[ep(r,d,0,n)]:a}function l(){var d=-1;for(r=new Array(n);++d<n;)r[d]=((d+1)*t-(d-n)*e)/(n+1);return o}return o.domain=function(d){return arguments.length?([e,t]=d,e=+e,t=+t,l()):[e,t]},o.range=function(d){return arguments.length?(n=(i=Array.from(d)).length-1,l()):i.slice()},o.invertExtent=function(d){var f=i.indexOf(d);return f<0?[NaN,NaN]:f<1?[e,r[0]]:f>=n?[r[n-1],t]:[r[f-1],r[f]]},o.unknown=function(d){return arguments.length&&(a=d),o},o.thresholds=function(){return r.slice()},o.copy=function(){return QH().domain([e,t]).range(i).unknown(a)},zi.apply(Co(o),arguments)}function JH(){var e=[.5],t=[0,1],n,r=1;function i(a){return a!=null&&a<=a?t[ep(e,a,0,r)]:n}return i.domain=function(a){return arguments.length?(e=Array.from(a),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(a){return arguments.length?(t=Array.from(a),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(a){var o=t.indexOf(a);return[e[o-1],e[o]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return JH().domain(e).range(t).unknown(n)},zi.apply(i,arguments)}const D2=new Date,I2=new Date;function rr(e,t,n,r){function i(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(e(a=new Date(+a)),a),i.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),i.round=a=>{const o=i(a),l=i.ceil(a);return a-o<l-a?o:l},i.offset=(a,o)=>(t(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,l)=>{const d=[];if(a=i.ceil(a),l=l==null?1:Math.floor(l),!(a<o)||!(l>0))return d;let f;do d.push(f=new Date(+a)),t(a,l),e(a);while(f<a&&a<o);return d},i.filter=a=>rr(o=>{if(o>=o)for(;e(o),!a(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!a(o););else for(;--l>=0;)for(;t(o,1),!a(o););}),n&&(i.count=(a,o)=>(D2.setTime(+a),I2.setTime(+o),e(D2),e(I2),Math.floor(n(D2,I2))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?o=>r(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const fy=rr(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);fy.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?rr(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):fy);fy.range;const as=1e3,Di=as*60,ss=Di*60,vs=ss*24,vO=vs*7,EL=vs*30,$2=vs*365,bl=rr(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*as)},(e,t)=>(t-e)/as,e=>e.getUTCSeconds());bl.range;const yO=rr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*as)},(e,t)=>{e.setTime(+e+t*Di)},(e,t)=>(t-e)/Di,e=>e.getMinutes());yO.range;const bO=rr(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Di)},(e,t)=>(t-e)/Di,e=>e.getUTCMinutes());bO.range;const xO=rr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*as-e.getMinutes()*Di)},(e,t)=>{e.setTime(+e+t*ss)},(e,t)=>(t-e)/ss,e=>e.getHours());xO.range;const wO=rr(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*ss)},(e,t)=>(t-e)/ss,e=>e.getUTCHours());wO.range;const rp=rr(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Di)/vs,e=>e.getDate()-1);rp.range;const F0=rr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/vs,e=>e.getUTCDate()-1);F0.range;const ZH=rr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/vs,e=>Math.floor(e/vs));ZH.range;function Kl(e){return rr(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Di)/vO)}const U0=Kl(0),hy=Kl(1),Bbe=Kl(2),qbe=Kl(3),zu=Kl(4),zbe=Kl(5),Fbe=Kl(6);U0.range;hy.range;Bbe.range;qbe.range;zu.range;zbe.range;Fbe.range;function Wl(e){return rr(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/vO)}const V0=Wl(0),my=Wl(1),Ube=Wl(2),Vbe=Wl(3),Fu=Wl(4),Hbe=Wl(5),Gbe=Wl(6);V0.range;my.range;Ube.range;Vbe.range;Fu.range;Hbe.range;Gbe.range;const _O=rr(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());_O.range;const SO=rr(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());SO.range;const ys=rr(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());ys.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:rr(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});ys.range;const bs=rr(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());bs.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:rr(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});bs.range;function e7(e,t,n,r,i,a){const o=[[bl,1,as],[bl,5,5*as],[bl,15,15*as],[bl,30,30*as],[a,1,Di],[a,5,5*Di],[a,15,15*Di],[a,30,30*Di],[i,1,ss],[i,3,3*ss],[i,6,6*ss],[i,12,12*ss],[r,1,vs],[r,2,2*vs],[n,1,vO],[t,1,EL],[t,3,3*EL],[e,1,$2]];function l(f,m,p){const v=m<f;v&&([f,m]=[m,f]);const y=p&&typeof p.range=="function"?p:d(f,m,p),x=y?y.range(f,+m+1):[];return v?x.reverse():x}function d(f,m,p){const v=Math.abs(m-f)/p,y=aO(([,,w])=>w).right(o,v);if(y===o.length)return e.every(fE(f/$2,m/$2,p));if(y===0)return fy.every(Math.max(fE(f,m,p),1));const[x,b]=o[v/o[y-1][2]<o[y][2]/v?y-1:y];return x.every(b)}return[l,d]}const[Kbe,Wbe]=e7(bs,SO,V0,ZH,wO,bO),[Ybe,Xbe]=e7(ys,_O,U0,rp,xO,yO);function L2(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function B2(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function If(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function Qbe(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,a=e.days,o=e.shortDays,l=e.months,d=e.shortMonths,f=$f(i),m=Lf(i),p=$f(a),v=Lf(a),y=$f(o),x=Lf(o),b=$f(l),w=Lf(l),N=$f(d),E=Lf(d),j={a:G,A:z,b:Y,B:de,c:null,d:PL,e:PL,f:xxe,g:Cxe,G:Pxe,H:vxe,I:yxe,j:bxe,L:t7,m:wxe,M:_xe,p:H,q:K,Q:DL,s:IL,S:Sxe,u:jxe,U:Nxe,V:Exe,w:Axe,W:Txe,x:null,X:null,y:Oxe,Y:Rxe,Z:Mxe,"%":kL},O={a:Z,A:le,b:be,B:ae,c:null,d:ML,e:ML,f:$xe,g:Kxe,G:Yxe,H:kxe,I:Dxe,j:Ixe,L:r7,m:Lxe,M:Bxe,p:J,q:me,Q:DL,s:IL,S:qxe,u:zxe,U:Fxe,V:Uxe,w:Vxe,W:Hxe,x:null,X:null,y:Gxe,Y:Wxe,Z:Xxe,"%":kL},T={a:$,A:B,b:I,B:F,c:V,d:CL,e:CL,f:hxe,g:OL,G:TL,H:RL,I:RL,j:cxe,L:fxe,m:lxe,M:uxe,p:k,q:oxe,Q:pxe,s:gxe,S:dxe,u:nxe,U:rxe,V:ixe,w:txe,W:axe,x:U,X:D,y:OL,Y:TL,Z:sxe,"%":mxe};j.x=C(n,j),j.X=C(r,j),j.c=C(t,j),O.x=C(n,O),O.X=C(r,O),O.c=C(t,O);function C(oe,pe){return function(we){var ee=[],qe=-1,ve=0,Ge=oe.length,ne,ie,De;for(we instanceof Date||(we=new Date(+we));++qe<Ge;)oe.charCodeAt(qe)===37&&(ee.push(oe.slice(ve,qe)),(ie=AL[ne=oe.charAt(++qe)])!=null?ne=oe.charAt(++qe):ie=ne==="e"?" ":"0",(De=pe[ne])&&(ne=De(we,ie)),ee.push(ne),ve=qe+1);return ee.push(oe.slice(ve,qe)),ee.join("")}}function R(oe,pe){return function(we){var ee=If(1900,void 0,1),qe=P(ee,oe,we+="",0),ve,Ge;if(qe!=we.length)return null;if("Q"in ee)return new Date(ee.Q);if("s"in ee)return new Date(ee.s*1e3+("L"in ee?ee.L:0));if(pe&&!("Z"in ee)&&(ee.Z=0),"p"in ee&&(ee.H=ee.H%12+ee.p*12),ee.m===void 0&&(ee.m="q"in ee?ee.q:0),"V"in ee){if(ee.V<1||ee.V>53)return null;"w"in ee||(ee.w=1),"Z"in ee?(ve=B2(If(ee.y,0,1)),Ge=ve.getUTCDay(),ve=Ge>4||Ge===0?my.ceil(ve):my(ve),ve=F0.offset(ve,(ee.V-1)*7),ee.y=ve.getUTCFullYear(),ee.m=ve.getUTCMonth(),ee.d=ve.getUTCDate()+(ee.w+6)%7):(ve=L2(If(ee.y,0,1)),Ge=ve.getDay(),ve=Ge>4||Ge===0?hy.ceil(ve):hy(ve),ve=rp.offset(ve,(ee.V-1)*7),ee.y=ve.getFullYear(),ee.m=ve.getMonth(),ee.d=ve.getDate()+(ee.w+6)%7)}else("W"in ee||"U"in ee)&&("w"in ee||(ee.w="u"in ee?ee.u%7:"W"in ee?1:0),Ge="Z"in ee?B2(If(ee.y,0,1)).getUTCDay():L2(If(ee.y,0,1)).getDay(),ee.m=0,ee.d="W"in ee?(ee.w+6)%7+ee.W*7-(Ge+5)%7:ee.w+ee.U*7-(Ge+6)%7);return"Z"in ee?(ee.H+=ee.Z/100|0,ee.M+=ee.Z%100,B2(ee)):L2(ee)}}function P(oe,pe,we,ee){for(var qe=0,ve=pe.length,Ge=we.length,ne,ie;qe<ve;){if(ee>=Ge)return-1;if(ne=pe.charCodeAt(qe++),ne===37){if(ne=pe.charAt(qe++),ie=T[ne in AL?pe.charAt(qe++):ne],!ie||(ee=ie(oe,we,ee))<0)return-1}else if(ne!=we.charCodeAt(ee++))return-1}return ee}function k(oe,pe,we){var ee=f.exec(pe.slice(we));return ee?(oe.p=m.get(ee[0].toLowerCase()),we+ee[0].length):-1}function $(oe,pe,we){var ee=y.exec(pe.slice(we));return ee?(oe.w=x.get(ee[0].toLowerCase()),we+ee[0].length):-1}function B(oe,pe,we){var ee=p.exec(pe.slice(we));return ee?(oe.w=v.get(ee[0].toLowerCase()),we+ee[0].length):-1}function I(oe,pe,we){var ee=N.exec(pe.slice(we));return ee?(oe.m=E.get(ee[0].toLowerCase()),we+ee[0].length):-1}function F(oe,pe,we){var ee=b.exec(pe.slice(we));return ee?(oe.m=w.get(ee[0].toLowerCase()),we+ee[0].length):-1}function V(oe,pe,we){return P(oe,t,pe,we)}function U(oe,pe,we){return P(oe,n,pe,we)}function D(oe,pe,we){return P(oe,r,pe,we)}function G(oe){return o[oe.getDay()]}function z(oe){return a[oe.getDay()]}function Y(oe){return d[oe.getMonth()]}function de(oe){return l[oe.getMonth()]}function H(oe){return i[+(oe.getHours()>=12)]}function K(oe){return 1+~~(oe.getMonth()/3)}function Z(oe){return o[oe.getUTCDay()]}function le(oe){return a[oe.getUTCDay()]}function be(oe){return d[oe.getUTCMonth()]}function ae(oe){return l[oe.getUTCMonth()]}function J(oe){return i[+(oe.getUTCHours()>=12)]}function me(oe){return 1+~~(oe.getUTCMonth()/3)}return{format:function(oe){var pe=C(oe+="",j);return pe.toString=function(){return oe},pe},parse:function(oe){var pe=R(oe+="",!1);return pe.toString=function(){return oe},pe},utcFormat:function(oe){var pe=C(oe+="",O);return pe.toString=function(){return oe},pe},utcParse:function(oe){var pe=R(oe+="",!0);return pe.toString=function(){return oe},pe}}}var AL={"-":"",_:" ",0:"0"},cr=/^\s*\d+/,Jbe=/^%/,Zbe=/[\\^$*+?|[\]().{}]/g;function Vt(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(t)+i:i)}function exe(e){return e.replace(Zbe,"\\$&")}function $f(e){return new RegExp("^(?:"+e.map(exe).join("|")+")","i")}function Lf(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function txe(e,t,n){var r=cr.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function nxe(e,t,n){var r=cr.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function rxe(e,t,n){var r=cr.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function ixe(e,t,n){var r=cr.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function axe(e,t,n){var r=cr.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function TL(e,t,n){var r=cr.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function OL(e,t,n){var r=cr.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function sxe(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function oxe(e,t,n){var r=cr.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function lxe(e,t,n){var r=cr.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function CL(e,t,n){var r=cr.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function cxe(e,t,n){var r=cr.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function RL(e,t,n){var r=cr.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function uxe(e,t,n){var r=cr.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function dxe(e,t,n){var r=cr.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function fxe(e,t,n){var r=cr.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function hxe(e,t,n){var r=cr.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function mxe(e,t,n){var r=Jbe.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function pxe(e,t,n){var r=cr.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function gxe(e,t,n){var r=cr.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function PL(e,t){return Vt(e.getDate(),t,2)}function vxe(e,t){return Vt(e.getHours(),t,2)}function yxe(e,t){return Vt(e.getHours()%12||12,t,2)}function bxe(e,t){return Vt(1+rp.count(ys(e),e),t,3)}function t7(e,t){return Vt(e.getMilliseconds(),t,3)}function xxe(e,t){return t7(e,t)+"000"}function wxe(e,t){return Vt(e.getMonth()+1,t,2)}function _xe(e,t){return Vt(e.getMinutes(),t,2)}function Sxe(e,t){return Vt(e.getSeconds(),t,2)}function jxe(e){var t=e.getDay();return t===0?7:t}function Nxe(e,t){return Vt(U0.count(ys(e)-1,e),t,2)}function n7(e){var t=e.getDay();return t>=4||t===0?zu(e):zu.ceil(e)}function Exe(e,t){return e=n7(e),Vt(zu.count(ys(e),e)+(ys(e).getDay()===4),t,2)}function Axe(e){return e.getDay()}function Txe(e,t){return Vt(hy.count(ys(e)-1,e),t,2)}function Oxe(e,t){return Vt(e.getFullYear()%100,t,2)}function Cxe(e,t){return e=n7(e),Vt(e.getFullYear()%100,t,2)}function Rxe(e,t){return Vt(e.getFullYear()%1e4,t,4)}function Pxe(e,t){var n=e.getDay();return e=n>=4||n===0?zu(e):zu.ceil(e),Vt(e.getFullYear()%1e4,t,4)}function Mxe(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Vt(t/60|0,"0",2)+Vt(t%60,"0",2)}function ML(e,t){return Vt(e.getUTCDate(),t,2)}function kxe(e,t){return Vt(e.getUTCHours(),t,2)}function Dxe(e,t){return Vt(e.getUTCHours()%12||12,t,2)}function Ixe(e,t){return Vt(1+F0.count(bs(e),e),t,3)}function r7(e,t){return Vt(e.getUTCMilliseconds(),t,3)}function $xe(e,t){return r7(e,t)+"000"}function Lxe(e,t){return Vt(e.getUTCMonth()+1,t,2)}function Bxe(e,t){return Vt(e.getUTCMinutes(),t,2)}function qxe(e,t){return Vt(e.getUTCSeconds(),t,2)}function zxe(e){var t=e.getUTCDay();return t===0?7:t}function Fxe(e,t){return Vt(V0.count(bs(e)-1,e),t,2)}function i7(e){var t=e.getUTCDay();return t>=4||t===0?Fu(e):Fu.ceil(e)}function Uxe(e,t){return e=i7(e),Vt(Fu.count(bs(e),e)+(bs(e).getUTCDay()===4),t,2)}function Vxe(e){return e.getUTCDay()}function Hxe(e,t){return Vt(my.count(bs(e)-1,e),t,2)}function Gxe(e,t){return Vt(e.getUTCFullYear()%100,t,2)}function Kxe(e,t){return e=i7(e),Vt(e.getUTCFullYear()%100,t,2)}function Wxe(e,t){return Vt(e.getUTCFullYear()%1e4,t,4)}function Yxe(e,t){var n=e.getUTCDay();return e=n>=4||n===0?Fu(e):Fu.ceil(e),Vt(e.getUTCFullYear()%1e4,t,4)}function Xxe(){return"+0000"}function kL(){return"%"}function DL(e){return+e}function IL(e){return Math.floor(+e/1e3)}var Wc,a7,s7;Qxe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Qxe(e){return Wc=Qbe(e),a7=Wc.format,Wc.parse,s7=Wc.utcFormat,Wc.utcParse,Wc}function Jxe(e){return new Date(e)}function Zxe(e){return e instanceof Date?+e:+new Date(+e)}function jO(e,t,n,r,i,a,o,l,d,f){var m=uO(),p=m.invert,v=m.domain,y=f(".%L"),x=f(":%S"),b=f("%I:%M"),w=f("%I %p"),N=f("%a %d"),E=f("%b %d"),j=f("%B"),O=f("%Y");function T(C){return(d(C)<C?y:l(C)<C?x:o(C)<C?b:a(C)<C?w:r(C)<C?i(C)<C?N:E:n(C)<C?j:O)(C)}return m.invert=function(C){return new Date(p(C))},m.domain=function(C){return arguments.length?v(Array.from(C,Zxe)):v().map(Jxe)},m.ticks=function(C){var R=v();return e(R[0],R[R.length-1],C??10)},m.tickFormat=function(C,R){return R==null?T:f(R)},m.nice=function(C){var R=v();return(!C||typeof C.range!="function")&&(C=t(R[0],R[R.length-1],C??10)),C?v(GH(R,C)):m},m.copy=function(){return np(m,jO(e,t,n,r,i,a,o,l,d,f))},m}function ewe(){return zi.apply(jO(Ybe,Xbe,ys,_O,U0,rp,xO,yO,bl,a7).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function twe(){return zi.apply(jO(Kbe,Wbe,bs,SO,V0,F0,wO,bO,bl,s7).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function H0(){var e=0,t=1,n,r,i,a,o=Ir,l=!1,d;function f(p){return p==null||isNaN(p=+p)?d:o(i===0?.5:(p=(a(p)-n)*i,l?Math.max(0,Math.min(1,p)):p))}f.domain=function(p){return arguments.length?([e,t]=p,n=a(e=+e),r=a(t=+t),i=n===r?0:1/(r-n),f):[e,t]},f.clamp=function(p){return arguments.length?(l=!!p,f):l},f.interpolator=function(p){return arguments.length?(o=p,f):o};function m(p){return function(v){var y,x;return arguments.length?([y,x]=v,o=p(y,x),f):[o(0),o(1)]}}return f.range=m(kd),f.rangeRound=m(cO),f.unknown=function(p){return arguments.length?(d=p,f):d},function(p){return a=p,n=p(e),r=p(t),i=n===r?0:1/(r-n),f}}function Ro(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function o7(){var e=Co(H0()(Ir));return e.copy=function(){return Ro(e,o7())},Ss.apply(e,arguments)}function l7(){var e=hO(H0()).domain([1,10]);return e.copy=function(){return Ro(e,l7()).base(e.base())},Ss.apply(e,arguments)}function c7(){var e=mO(H0());return e.copy=function(){return Ro(e,c7()).constant(e.constant())},Ss.apply(e,arguments)}function NO(){var e=pO(H0());return e.copy=function(){return Ro(e,NO()).exponent(e.exponent())},Ss.apply(e,arguments)}function nwe(){return NO.apply(null,arguments).exponent(.5)}function u7(){var e=[],t=Ir;function n(r){if(r!=null&&!isNaN(r=+r))return t((ep(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let i of r)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(ho),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,i)=>t(i/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>F0e(e,a/r))},n.copy=function(){return u7(t).domain(e)},Ss.apply(n,arguments)}function G0(){var e=0,t=.5,n=1,r=1,i,a,o,l,d,f=Ir,m,p=!1,v;function y(b){return isNaN(b=+b)?v:(b=.5+((b=+m(b))-a)*(r*b<r*a?l:d),f(p?Math.max(0,Math.min(1,b)):b))}y.domain=function(b){return arguments.length?([e,t,n]=b,i=m(e=+e),a=m(t=+t),o=m(n=+n),l=i===a?0:.5/(a-i),d=a===o?0:.5/(o-a),r=a<i?-1:1,y):[e,t,n]},y.clamp=function(b){return arguments.length?(p=!!b,y):p},y.interpolator=function(b){return arguments.length?(f=b,y):f};function x(b){return function(w){var N,E,j;return arguments.length?([N,E,j]=w,f=mbe(b,[N,E,j]),y):[f(0),f(.5),f(1)]}}return y.range=x(kd),y.rangeRound=x(cO),y.unknown=function(b){return arguments.length?(v=b,y):v},function(b){return m=b,i=b(e),a=b(t),o=b(n),l=i===a?0:.5/(a-i),d=a===o?0:.5/(o-a),r=a<i?-1:1,y}}function d7(){var e=Co(G0()(Ir));return e.copy=function(){return Ro(e,d7())},Ss.apply(e,arguments)}function f7(){var e=hO(G0()).domain([.1,1,10]);return e.copy=function(){return Ro(e,f7()).base(e.base())},Ss.apply(e,arguments)}function h7(){var e=mO(G0());return e.copy=function(){return Ro(e,h7()).constant(e.constant())},Ss.apply(e,arguments)}function EO(){var e=pO(G0());return e.copy=function(){return Ro(e,EO()).exponent(e.exponent())},Ss.apply(e,arguments)}function rwe(){return EO.apply(null,arguments).exponent(.5)}const $L=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:em,scaleDiverging:d7,scaleDivergingLog:f7,scaleDivergingPow:EO,scaleDivergingSqrt:rwe,scaleDivergingSymlog:h7,scaleIdentity:HH,scaleImplicit:hE,scaleLinear:dy,scaleLog:KH,scaleOrdinal:sO,scalePoint:yh,scalePow:gO,scaleQuantile:XH,scaleQuantize:QH,scaleRadial:YH,scaleSequential:o7,scaleSequentialLog:l7,scaleSequentialPow:NO,scaleSequentialQuantile:u7,scaleSequentialSqrt:nwe,scaleSequentialSymlog:c7,scaleSqrt:$be,scaleSymlog:WH,scaleThreshold:JH,scaleTime:ewe,scaleUtc:twe,tickFormat:VH},Symbol.toStringTag,{value:"Module"}));var q2,LL;function m7(){if(LL)return q2;LL=1;var e=Cd();function t(n,r,i){for(var a=-1,o=n.length;++a<o;){var l=n[a],d=r(l);if(d!=null&&(f===void 0?d===d&&!e(d):i(d,f)))var f=d,m=l}return m}return q2=t,q2}var z2,BL;function iwe(){if(BL)return z2;BL=1;function e(t,n){return t>n}return z2=e,z2}var F2,qL;function awe(){if(qL)return F2;qL=1;var e=m7(),t=iwe(),n=Md();function r(i){return i&&i.length?e(i,n,t):void 0}return F2=r,F2}var swe=awe();const lo=sn(swe);var U2,zL;function owe(){if(zL)return U2;zL=1;function e(t,n){return t<n}return U2=e,U2}var V2,FL;function lwe(){if(FL)return V2;FL=1;var e=m7(),t=owe(),n=Md();function r(i){return i&&i.length?e(i,n,t):void 0}return V2=r,V2}var cwe=lwe();const K0=sn(cwe);var H2,UL;function uwe(){if(UL)return H2;UL=1;var e=UT(),t=To(),n=SH(),r=Xr();function i(a,o){var l=r(a)?e:n;return l(a,t(o,3))}return H2=i,H2}var G2,VL;function dwe(){if(VL)return G2;VL=1;var e=wH(),t=uwe();function n(r,i){return e(t(r,i),1)}return G2=n,G2}var fwe=dwe();const hwe=sn(fwe);var K2,HL;function mwe(){if(HL)return K2;HL=1;var e=tO();function t(n,r){return e(n,r)}return K2=t,K2}var pwe=mwe();const Ll=sn(pwe);var Dd=1e9,gwe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},TO,_n=!0,Bi="[DecimalError] ",Tl=Bi+"Invalid argument: ",AO=Bi+"Exponent out of range: ",Id=Math.floor,cl=Math.pow,vwe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,fi,lr=1e7,yn=7,p7=9007199254740991,py=Id(p7/yn),Ve={};Ve.absoluteValue=Ve.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Ve.comparedTo=Ve.cmp=function(e){var t,n,r,i,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(r=a.d.length,i=e.d.length,t=0,n=r<i?r:i;t<n;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};Ve.decimalPlaces=Ve.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*yn;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};Ve.dividedBy=Ve.div=function(e){return fs(this,new this.constructor(e))};Ve.dividedToIntegerBy=Ve.idiv=function(e){var t=this,n=t.constructor;return fn(fs(t,new n(e),0,1),n.precision)};Ve.equals=Ve.eq=function(e){return!this.cmp(e)};Ve.exponent=function(){return Kn(this)};Ve.greaterThan=Ve.gt=function(e){return this.cmp(e)>0};Ve.greaterThanOrEqualTo=Ve.gte=function(e){return this.cmp(e)>=0};Ve.isInteger=Ve.isint=function(){return this.e>this.d.length-2};Ve.isNegative=Ve.isneg=function(){return this.s<0};Ve.isPositive=Ve.ispos=function(){return this.s>0};Ve.isZero=function(){return this.s===0};Ve.lessThan=Ve.lt=function(e){return this.cmp(e)<0};Ve.lessThanOrEqualTo=Ve.lte=function(e){return this.cmp(e)<1};Ve.logarithm=Ve.log=function(e){var t,n=this,r=n.constructor,i=r.precision,a=i+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(fi))throw Error(Bi+"NaN");if(n.s<1)throw Error(Bi+(n.s?"NaN":"-Infinity"));return n.eq(fi)?new r(0):(_n=!1,t=fs(am(n,a),am(e,a),a),_n=!0,fn(t,i))};Ve.minus=Ve.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?y7(t,e):g7(t,(e.s=-e.s,e))};Ve.modulo=Ve.mod=function(e){var t,n=this,r=n.constructor,i=r.precision;if(e=new r(e),!e.s)throw Error(Bi+"NaN");return n.s?(_n=!1,t=fs(n,e,0,1).times(e),_n=!0,n.minus(t)):fn(new r(n),i)};Ve.naturalExponential=Ve.exp=function(){return v7(this)};Ve.naturalLogarithm=Ve.ln=function(){return am(this)};Ve.negated=Ve.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Ve.plus=Ve.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?g7(t,e):y7(t,(e.s=-e.s,e))};Ve.precision=Ve.sd=function(e){var t,n,r,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Tl+e);if(t=Kn(i)+1,r=i.d.length-1,n=r*yn+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};Ve.squareRoot=Ve.sqrt=function(){var e,t,n,r,i,a,o,l=this,d=l.constructor;if(l.s<1){if(!l.s)return new d(0);throw Error(Bi+"NaN")}for(e=Kn(l),_n=!1,i=Math.sqrt(+l),i==0||i==1/0?(t=wa(l.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=Id((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new d(t)):r=new d(i.toString()),n=d.precision,i=o=n+3;;)if(a=r,r=a.plus(fs(l,a,o+2)).times(.5),wa(a.d).slice(0,o)===(t=wa(r.d)).slice(0,o)){if(t=t.slice(o-3,o+1),i==o&&t=="4999"){if(fn(a,n+1,0),a.times(a).eq(l)){r=a;break}}else if(t!="9999")break;o+=4}return _n=!0,fn(r,n)};Ve.times=Ve.mul=function(e){var t,n,r,i,a,o,l,d,f,m=this,p=m.constructor,v=m.d,y=(e=new p(e)).d;if(!m.s||!e.s)return new p(0);for(e.s*=m.s,n=m.e+e.e,d=v.length,f=y.length,d<f&&(a=v,v=y,y=a,o=d,d=f,f=o),a=[],o=d+f,r=o;r--;)a.push(0);for(r=f;--r>=0;){for(t=0,i=d+r;i>r;)l=a[i]+y[r]*v[i-r-1]+t,a[i--]=l%lr|0,t=l/lr|0;a[i]=(a[i]+t)%lr|0}for(;!a[--o];)a.pop();return t?++n:a.shift(),e.d=a,e.e=n,_n?fn(e,p.precision):e};Ve.toDecimalPlaces=Ve.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(Ma(e,0,Dd),t===void 0?t=r.rounding:Ma(t,0,8),fn(n,e+Kn(n)+1,t))};Ve.toExponential=function(e,t){var n,r=this,i=r.constructor;return e===void 0?n=Bl(r,!0):(Ma(e,0,Dd),t===void 0?t=i.rounding:Ma(t,0,8),r=fn(new i(r),e+1,t),n=Bl(r,!0,e+1)),n};Ve.toFixed=function(e,t){var n,r,i=this,a=i.constructor;return e===void 0?Bl(i):(Ma(e,0,Dd),t===void 0?t=a.rounding:Ma(t,0,8),r=fn(new a(i),e+Kn(i)+1,t),n=Bl(r.abs(),!1,e+Kn(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Ve.toInteger=Ve.toint=function(){var e=this,t=e.constructor;return fn(new t(e),Kn(e)+1,t.rounding)};Ve.toNumber=function(){return+this};Ve.toPower=Ve.pow=function(e){var t,n,r,i,a,o,l=this,d=l.constructor,f=12,m=+(e=new d(e));if(!e.s)return new d(fi);if(l=new d(l),!l.s){if(e.s<1)throw Error(Bi+"Infinity");return l}if(l.eq(fi))return l;if(r=d.precision,e.eq(fi))return fn(l,r);if(t=e.e,n=e.d.length-1,o=t>=n,a=l.s,o){if((n=m<0?-m:m)<=p7){for(i=new d(fi),t=Math.ceil(r/yn+4),_n=!1;n%2&&(i=i.times(l),KL(i.d,t)),n=Id(n/2),n!==0;)l=l.times(l),KL(l.d,t);return _n=!0,e.s<0?new d(fi).div(i):fn(i,r)}}else if(a<0)throw Error(Bi+"NaN");return a=a<0&&e.d[Math.max(t,n)]&1?-1:1,l.s=1,_n=!1,i=e.times(am(l,r+f)),_n=!0,i=v7(i),i.s=a,i};Ve.toPrecision=function(e,t){var n,r,i=this,a=i.constructor;return e===void 0?(n=Kn(i),r=Bl(i,n<=a.toExpNeg||n>=a.toExpPos)):(Ma(e,1,Dd),t===void 0?t=a.rounding:Ma(t,0,8),i=fn(new a(i),e,t),n=Kn(i),r=Bl(i,e<=n||n<=a.toExpNeg,e)),r};Ve.toSignificantDigits=Ve.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(Ma(e,1,Dd),t===void 0?t=r.rounding:Ma(t,0,8)),fn(new r(n),e,t)};Ve.toString=Ve.valueOf=Ve.val=Ve.toJSON=Ve[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Kn(e),n=e.constructor;return Bl(e,t<=n.toExpNeg||t>=n.toExpPos)};function g7(e,t){var n,r,i,a,o,l,d,f,m=e.constructor,p=m.precision;if(!e.s||!t.s)return t.s||(t=new m(e)),_n?fn(t,p):t;if(d=e.d,f=t.d,o=e.e,i=t.e,d=d.slice(),a=o-i,a){for(a<0?(r=d,a=-a,l=f.length):(r=f,i=o,l=d.length),o=Math.ceil(p/yn),l=o>l?o+1:l+1,a>l&&(a=l,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(l=d.length,a=f.length,l-a<0&&(a=l,r=f,f=d,d=r),n=0;a;)n=(d[--a]=d[a]+f[a]+n)/lr|0,d[a]%=lr;for(n&&(d.unshift(n),++i),l=d.length;d[--l]==0;)d.pop();return t.d=d,t.e=i,_n?fn(t,p):t}function Ma(e,t,n){if(e!==~~e||e<t||e>n)throw Error(Tl+e)}function wa(e){var t,n,r,i=e.length-1,a="",o=e[0];if(i>0){for(a+=o,t=1;t<i;t++)r=e[t]+"",n=yn-r.length,n&&(a+=no(n)),a+=r;o=e[t],r=o+"",n=yn-r.length,n&&(a+=no(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var fs=(function(){function e(r,i){var a,o=0,l=r.length;for(r=r.slice();l--;)a=r[l]*i+o,r[l]=a%lr|0,o=a/lr|0;return o&&r.unshift(o),r}function t(r,i,a,o){var l,d;if(a!=o)d=a>o?1:-1;else for(l=d=0;l<a;l++)if(r[l]!=i[l]){d=r[l]>i[l]?1:-1;break}return d}function n(r,i,a){for(var o=0;a--;)r[a]-=o,o=r[a]<i[a]?1:0,r[a]=o*lr+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,o){var l,d,f,m,p,v,y,x,b,w,N,E,j,O,T,C,R,P,k=r.constructor,$=r.s==i.s?1:-1,B=r.d,I=i.d;if(!r.s)return new k(r);if(!i.s)throw Error(Bi+"Division by zero");for(d=r.e-i.e,R=I.length,T=B.length,y=new k($),x=y.d=[],f=0;I[f]==(B[f]||0);)++f;if(I[f]>(B[f]||0)&&--d,a==null?E=a=k.precision:o?E=a+(Kn(r)-Kn(i))+1:E=a,E<0)return new k(0);if(E=E/yn+2|0,f=0,R==1)for(m=0,I=I[0],E++;(f<T||m)&&E--;f++)j=m*lr+(B[f]||0),x[f]=j/I|0,m=j%I|0;else{for(m=lr/(I[0]+1)|0,m>1&&(I=e(I,m),B=e(B,m),R=I.length,T=B.length),O=R,b=B.slice(0,R),w=b.length;w<R;)b[w++]=0;P=I.slice(),P.unshift(0),C=I[0],I[1]>=lr/2&&++C;do m=0,l=t(I,b,R,w),l<0?(N=b[0],R!=w&&(N=N*lr+(b[1]||0)),m=N/C|0,m>1?(m>=lr&&(m=lr-1),p=e(I,m),v=p.length,w=b.length,l=t(p,b,v,w),l==1&&(m--,n(p,R<v?P:I,v))):(m==0&&(l=m=1),p=I.slice()),v=p.length,v<w&&p.unshift(0),n(b,p,w),l==-1&&(w=b.length,l=t(I,b,R,w),l<1&&(m++,n(b,R<w?P:I,w))),w=b.length):l===0&&(m++,b=[0]),x[f++]=m,l&&b[0]?b[w++]=B[O]||0:(b=[B[O]],w=1);while((O++<T||b[0]!==void 0)&&E--)}return x[0]||x.shift(),y.e=d,fn(y,o?a+Kn(y)+1:a)}})();function v7(e,t){var n,r,i,a,o,l,d=0,f=0,m=e.constructor,p=m.precision;if(Kn(e)>16)throw Error(AO+Kn(e));if(!e.s)return new m(fi);for(_n=!1,l=p,o=new m(.03125);e.abs().gte(.1);)e=e.times(o),f+=5;for(r=Math.log(cl(2,f))/Math.LN10*2+5|0,l+=r,n=i=a=new m(fi),m.precision=l;;){if(i=fn(i.times(e),l),n=n.times(++d),o=a.plus(fs(i,n,l)),wa(o.d).slice(0,l)===wa(a.d).slice(0,l)){for(;f--;)a=fn(a.times(a),l);return m.precision=p,t==null?(_n=!0,fn(a,p)):a}a=o}}function Kn(e){for(var t=e.e*yn,n=e.d[0];n>=10;n/=10)t++;return t}function W2(e,t,n){if(t>e.LN10.sd())throw _n=!0,n&&(e.precision=n),Error(Bi+"LN10 precision limit exceeded");return fn(new e(e.LN10),t)}function no(e){for(var t="";e--;)t+="0";return t}function am(e,t){var n,r,i,a,o,l,d,f,m,p=1,v=10,y=e,x=y.d,b=y.constructor,w=b.precision;if(y.s<1)throw Error(Bi+(y.s?"NaN":"-Infinity"));if(y.eq(fi))return new b(0);if(t==null?(_n=!1,f=w):f=t,y.eq(10))return t==null&&(_n=!0),W2(b,f);if(f+=v,b.precision=f,n=wa(x),r=n.charAt(0),a=Kn(y),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)y=y.times(e),n=wa(y.d),r=n.charAt(0),p++;a=Kn(y),r>1?(y=new b("0."+n),a++):y=new b(r+"."+n.slice(1))}else return d=W2(b,f+2,w).times(a+""),y=am(new b(r+"."+n.slice(1)),f-v).plus(d),b.precision=w,t==null?(_n=!0,fn(y,w)):y;for(l=o=y=fs(y.minus(fi),y.plus(fi),f),m=fn(y.times(y),f),i=3;;){if(o=fn(o.times(m),f),d=l.plus(fs(o,new b(i),f)),wa(d.d).slice(0,f)===wa(l.d).slice(0,f))return l=l.times(2),a!==0&&(l=l.plus(W2(b,f+2,w).times(a+""))),l=fs(l,new b(p),f),b.precision=w,t==null?(_n=!0,fn(l,w)):l;l=d,i+=2}}function GL(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(r,i),t){if(i-=r,n=n-r-1,e.e=Id(n/yn),e.d=[],r=(n+1)%yn,n<0&&(r+=yn),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=yn;r<i;)e.d.push(+t.slice(r,r+=yn));t=t.slice(r),r=yn-t.length}else r-=i;for(;r--;)t+="0";if(e.d.push(+t),_n&&(e.e>py||e.e<-py))throw Error(AO+n)}else e.s=0,e.e=0,e.d=[0];return e}function fn(e,t,n){var r,i,a,o,l,d,f,m,p=e.d;for(o=1,a=p[0];a>=10;a/=10)o++;if(r=t-o,r<0)r+=yn,i=t,f=p[m=0];else{if(m=Math.ceil((r+1)/yn),a=p.length,m>=a)return e;for(f=a=p[m],o=1;a>=10;a/=10)o++;r%=yn,i=r-yn+o}if(n!==void 0&&(a=cl(10,o-i-1),l=f/a%10|0,d=t<0||p[m+1]!==void 0||f%a,d=n<4?(l||d)&&(n==0||n==(e.s<0?3:2)):l>5||l==5&&(n==4||d||n==6&&(r>0?i>0?f/cl(10,o-i):0:p[m-1])%10&1||n==(e.s<0?8:7))),t<1||!p[0])return d?(a=Kn(e),p.length=1,t=t-a-1,p[0]=cl(10,(yn-t%yn)%yn),e.e=Id(-t/yn)||0):(p.length=1,p[0]=e.e=e.s=0),e;if(r==0?(p.length=m,a=1,m--):(p.length=m+1,a=cl(10,yn-r),p[m]=i>0?(f/cl(10,o-i)%cl(10,i)|0)*a:0),d)for(;;)if(m==0){(p[0]+=a)==lr&&(p[0]=1,++e.e);break}else{if(p[m]+=a,p[m]!=lr)break;p[m--]=0,a=1}for(r=p.length;p[--r]===0;)p.pop();if(_n&&(e.e>py||e.e<-py))throw Error(AO+Kn(e));return e}function y7(e,t){var n,r,i,a,o,l,d,f,m,p,v=e.constructor,y=v.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new v(e),_n?fn(t,y):t;if(d=e.d,p=t.d,r=t.e,f=e.e,d=d.slice(),o=f-r,o){for(m=o<0,m?(n=d,o=-o,l=p.length):(n=p,r=f,l=d.length),i=Math.max(Math.ceil(y/yn),l)+2,o>i&&(o=i,n.length=1),n.reverse(),i=o;i--;)n.push(0);n.reverse()}else{for(i=d.length,l=p.length,m=i<l,m&&(l=i),i=0;i<l;i++)if(d[i]!=p[i]){m=d[i]<p[i];break}o=0}for(m&&(n=d,d=p,p=n,t.s=-t.s),l=d.length,i=p.length-l;i>0;--i)d[l++]=0;for(i=p.length;i>o;){if(d[--i]<p[i]){for(a=i;a&&d[--a]===0;)d[a]=lr-1;--d[a],d[i]+=lr}d[i]-=p[i]}for(;d[--l]===0;)d.pop();for(;d[0]===0;d.shift())--r;return d[0]?(t.d=d,t.e=r,_n?fn(t,y):t):new v(0)}function Bl(e,t,n){var r,i=Kn(e),a=wa(e.d),o=a.length;return t?(n&&(r=n-o)>0?a=a.charAt(0)+"."+a.slice(1)+no(r):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+no(-i-1)+a,n&&(r=n-o)>0&&(a+=no(r))):i>=o?(a+=no(i+1-o),n&&(r=n-i-1)>0&&(a=a+"."+no(r))):((r=i+1)<o&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-o)>0&&(i+1===o&&(a+="."),a+=no(r))),e.s<0?"-"+a:a}function KL(e,t){if(e.length>t)return e.length=t,!0}function b7(e){var t,n,r;function i(a){var o=this;if(!(o instanceof i))return new i(a);if(o.constructor=i,a instanceof i){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(Tl+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return GL(o,a.toString())}else if(typeof a!="string")throw Error(Tl+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,vwe.test(a))GL(o,a);else throw Error(Tl+a)}if(i.prototype=Ve,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=b7,i.config=i.set=ywe,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return i.config(e),i}function ywe(e){if(!e||typeof e!="object")throw Error(Bi+"Object expected");var t,n,r,i=["precision",1,Dd,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((r=e[n=i[t]])!==void 0)if(Id(r)===r&&r>=i[t+1]&&r<=i[t+2])this[n]=r;else throw Error(Tl+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Tl+n+": "+r);return this}var TO=b7(gwe);fi=new TO(1);const nn=TO;function bwe(e){return Swe(e)||_we(e)||wwe(e)||xwe()}function xwe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wwe(e,t){if(e){if(typeof e=="string")return vE(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vE(e,t)}}function _we(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function Swe(e){if(Array.isArray(e))return vE(e)}function vE(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var jwe=function(t){return t},x7={},w7=function(t){return t===x7},WL=function(t){return function n(){return arguments.length===0||arguments.length===1&&w7(arguments.length<=0?void 0:arguments[0])?n:t.apply(void 0,arguments)}},Nwe=function e(t,n){return t===1?n:WL(function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];var o=i.filter(function(l){return l!==x7}).length;return o>=t?n.apply(void 0,i):e(t-o,WL(function(){for(var l=arguments.length,d=new Array(l),f=0;f<l;f++)d[f]=arguments[f];var m=i.map(function(p){return w7(p)?d.shift():p});return n.apply(void 0,bwe(m).concat(d))}))})},W0=function(t){return Nwe(t.length,t)},yE=function(t,n){for(var r=[],i=t;i<n;++i)r[i-t]=i;return r},Ewe=W0(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(n){return t[n]}).map(e)}),Awe=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!n.length)return jwe;var i=n.reverse(),a=i[0],o=i.slice(1);return function(){return o.reduce(function(l,d){return d(l)},a.apply(void 0,arguments))}},bE=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},_7=function(t){var n=null,r=null;return function(){for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return n&&a.every(function(l,d){return l===n[d]})||(n=a,r=t.apply(void 0,a)),r}};function Twe(e){var t;return e===0?t=1:t=Math.floor(new nn(e).abs().log(10).toNumber())+1,t}function Owe(e,t,n){for(var r=new nn(e),i=0,a=[];r.lt(t)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}var Cwe=W0(function(e,t,n){var r=+e,i=+t;return r+n*(i-r)}),Rwe=W0(function(e,t,n){var r=t-+e;return r=r||1/0,(n-e)/r}),Pwe=W0(function(e,t,n){var r=t-+e;return r=r||1/0,Math.max(0,Math.min(1,(n-e)/r))});const Y0={rangeStep:Owe,getDigitCount:Twe,interpolateNumber:Cwe,uninterpolateNumber:Rwe,uninterpolateTruncation:Pwe};function xE(e){return Dwe(e)||kwe(e)||S7(e)||Mwe()}function Mwe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kwe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function Dwe(e){if(Array.isArray(e))return wE(e)}function sm(e,t){return Lwe(e)||$we(e,t)||S7(e,t)||Iwe()}function Iwe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function S7(e,t){if(e){if(typeof e=="string")return wE(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return wE(e,t)}}function wE(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function $we(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var n=[],r=!0,i=!1,a=void 0;try{for(var o=e[Symbol.iterator](),l;!(r=(l=o.next()).done)&&(n.push(l.value),!(t&&n.length===t));r=!0);}catch(d){i=!0,a=d}finally{try{!r&&o.return!=null&&o.return()}finally{if(i)throw a}}return n}}function Lwe(e){if(Array.isArray(e))return e}function j7(e){var t=sm(e,2),n=t[0],r=t[1],i=n,a=r;return n>r&&(i=r,a=n),[i,a]}function N7(e,t,n){if(e.lte(0))return new nn(0);var r=Y0.getDigitCount(e.toNumber()),i=new nn(10).pow(r),a=e.div(i),o=r!==1?.05:.1,l=new nn(Math.ceil(a.div(o).toNumber())).add(n).mul(o),d=l.mul(i);return t?d:new nn(Math.ceil(d))}function Bwe(e,t,n){var r=1,i=new nn(e);if(!i.isint()&&n){var a=Math.abs(e);a<1?(r=new nn(10).pow(Y0.getDigitCount(e)-1),i=new nn(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new nn(Math.floor(e)))}else e===0?i=new nn(Math.floor((t-1)/2)):n||(i=new nn(Math.floor(e)));var o=Math.floor((t-1)/2),l=Awe(Ewe(function(d){return i.add(new nn(d-o).mul(r)).toNumber()}),yE);return l(0,t)}function E7(e,t,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(n-1)))return{step:new nn(0),tickMin:new nn(0),tickMax:new nn(0)};var a=N7(new nn(t).sub(e).div(n-1),r,i),o;e<=0&&t>=0?o=new nn(0):(o=new nn(e).add(t).div(2),o=o.sub(new nn(o).mod(a)));var l=Math.ceil(o.sub(e).div(a).toNumber()),d=Math.ceil(new nn(t).sub(o).div(a).toNumber()),f=l+d+1;return f>n?E7(e,t,n,r,i+1):(f<n&&(d=t>0?d+(n-f):d,l=t>0?l:l+(n-f)),{step:a,tickMin:o.sub(new nn(l).mul(a)),tickMax:o.add(new nn(d).mul(a))})}function qwe(e){var t=sm(e,2),n=t[0],r=t[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),l=j7([n,r]),d=sm(l,2),f=d[0],m=d[1];if(f===-1/0||m===1/0){var p=m===1/0?[f].concat(xE(yE(0,i-1).map(function(){return 1/0}))):[].concat(xE(yE(0,i-1).map(function(){return-1/0})),[m]);return n>r?bE(p):p}if(f===m)return Bwe(f,i,a);var v=E7(f,m,o,a),y=v.step,x=v.tickMin,b=v.tickMax,w=Y0.rangeStep(x,b.add(new nn(.1).mul(y)),y);return n>r?bE(w):w}function zwe(e,t){var n=sm(e,2),r=n[0],i=n[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=j7([r,i]),l=sm(o,2),d=l[0],f=l[1];if(d===-1/0||f===1/0)return[r,i];if(d===f)return[d];var m=Math.max(t,2),p=N7(new nn(f).sub(d).div(m-1),a,0),v=[].concat(xE(Y0.rangeStep(new nn(d),new nn(f).sub(new nn(.99).mul(p)),p)),[f]);return r>i?bE(v):v}var Fwe=_7(qwe),Uwe=_7(zwe),Vwe="Invariant failed";function ql(e,t){throw new Error(Vwe)}var Hwe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Uu(e){"@babel/helpers - typeof";return Uu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Uu(e)}function gy(){return gy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gy.apply(this,arguments)}function Gwe(e,t){return Xwe(e)||Ywe(e,t)||Wwe(e,t)||Kwe()}function Kwe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wwe(e,t){if(e){if(typeof e=="string")return YL(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return YL(e,t)}}function YL(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ywe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,o,l=[],d=!0,f=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(d=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);d=!0);}catch(m){f=!0,i=m}finally{try{if(!d&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(f)throw i}}return l}}function Xwe(e){if(Array.isArray(e))return e}function Qwe(e,t){if(e==null)return{};var n=Jwe(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Jwe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function Zwe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function e_e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,O7(r.key),r)}}function t_e(e,t,n){return t&&e_e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function n_e(e,t,n){return t=vy(t),r_e(e,A7()?Reflect.construct(t,n||[],vy(e).constructor):t.apply(e,n))}function r_e(e,t){if(t&&(Uu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return i_e(e)}function i_e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function A7(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(A7=function(){return!!e})()}function vy(e){return vy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},vy(e)}function a_e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_E(e,t)}function _E(e,t){return _E=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},_E(e,t)}function T7(e,t,n){return t=O7(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function O7(e){var t=s_e(e,"string");return Uu(t)=="symbol"?t:t+""}function s_e(e,t){if(Uu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Uu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var $d=(function(e){function t(){return Zwe(this,t),n_e(this,t,arguments)}return a_e(t,e),t_e(t,[{key:"render",value:function(){var r=this.props,i=r.offset,a=r.layout,o=r.width,l=r.dataKey,d=r.data,f=r.dataPointFormatter,m=r.xAxis,p=r.yAxis,v=Qwe(r,Hwe),y=St(v,!1);this.props.direction==="x"&&m.type!=="number"&&ql();var x=d.map(function(b){var w=f(b,l),N=w.x,E=w.y,j=w.value,O=w.errorVal;if(!O)return null;var T=[],C,R;if(Array.isArray(O)){var P=Gwe(O,2);C=P[0],R=P[1]}else C=R=O;if(a==="vertical"){var k=m.scale,$=E+i,B=$+o,I=$-o,F=k(j-C),V=k(j+R);T.push({x1:V,y1:B,x2:V,y2:I}),T.push({x1:F,y1:$,x2:V,y2:$}),T.push({x1:F,y1:B,x2:F,y2:I})}else if(a==="horizontal"){var U=p.scale,D=N+i,G=D-o,z=D+o,Y=U(j-C),de=U(j+R);T.push({x1:G,y1:de,x2:z,y2:de}),T.push({x1:D,y1:Y,x2:D,y2:de}),T.push({x1:G,y1:Y,x2:z,y2:Y})}return q.createElement(Gt,gy({className:"recharts-errorBar",key:"bar-".concat(T.map(function(H){return"".concat(H.x1,"-").concat(H.x2,"-").concat(H.y1,"-").concat(H.y2)}))},y),T.map(function(H){return q.createElement("line",gy({},H,{key:"line-".concat(H.x1,"-").concat(H.x2,"-").concat(H.y1,"-").concat(H.y2)}))}))});return q.createElement(Gt,{className:"recharts-errorBars"},x)}}])})(q.Component);T7($d,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});T7($d,"displayName","ErrorBar");function om(e){"@babel/helpers - typeof";return om=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},om(e)}function XL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function rl(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?XL(Object(n),!0).forEach(function(r){o_e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):XL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function o_e(e,t,n){return t=l_e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l_e(e){var t=c_e(e,"string");return om(t)=="symbol"?t:t+""}function c_e(e,t){if(om(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(om(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var C7=function(t){var n=t.children,r=t.formattedGraphicalItems,i=t.legendWidth,a=t.legendContent,o=li(n,Nu);if(!o)return null;var l=Nu.defaultProps,d=l!==void 0?rl(rl({},l),o.props):{},f;return o.props&&o.props.payload?f=o.props&&o.props.payload:a==="children"?f=(r||[]).reduce(function(m,p){var v=p.item,y=p.props,x=y.sectors||y.data||[];return m.concat(x.map(function(b){return{type:o.props.iconType||v.props.legendType,value:b.name,color:b.fill,payload:b}}))},[]):f=(r||[]).map(function(m){var p=m.item,v=p.type.defaultProps,y=v!==void 0?rl(rl({},v),p.props):{},x=y.dataKey,b=y.name,w=y.legendType,N=y.hide;return{inactive:N,dataKey:x,type:d.iconType||w||"square",color:OO(p),value:b||x,payload:y}}),rl(rl(rl({},d),Nu.getWithHeight(o,i)),{},{payload:f,item:o})};function lm(e){"@babel/helpers - typeof";return lm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lm(e)}function QL(e){return h_e(e)||f_e(e)||d_e(e)||u_e()}function u_e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function d_e(e,t){if(e){if(typeof e=="string")return SE(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return SE(e,t)}}function f_e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function h_e(e){if(Array.isArray(e))return SE(e)}function SE(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function JL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Cn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?JL(Object(n),!0).forEach(function(r){Au(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):JL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Au(e,t,n){return t=m_e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m_e(e){var t=p_e(e,"string");return lm(t)=="symbol"?t:t+""}function p_e(e,t){if(lm(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(lm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function nr(e,t,n){return xt(e)||xt(t)?n:tr(t)?Li(e,t,n):Nt(t)?t(e):n}function bh(e,t,n,r){var i=hwe(e,function(l){return nr(l,t)});if(n==="number"){var a=i.filter(function(l){return Ce(l)||parseFloat(l)});return a.length?[K0(a),lo(a)]:[1/0,-1/0]}var o=r?i.filter(function(l){return!xt(l)}):i;return o.map(function(l){return tr(l)||l instanceof Date?l:""})}var g_e=function(t){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,o=-1,l=(n=r?.length)!==null&&n!==void 0?n:0;if(l<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var d=a.range,f=0;f<l;f++){var m=f>0?i[f-1].coordinate:i[l-1].coordinate,p=i[f].coordinate,v=f>=l-1?i[0].coordinate:i[f+1].coordinate,y=void 0;if(aa(p-m)!==aa(v-p)){var x=[];if(aa(v-p)===aa(d[1]-d[0])){y=v;var b=p+d[1]-d[0];x[0]=Math.min(b,(b+m)/2),x[1]=Math.max(b,(b+m)/2)}else{y=m;var w=v+d[1]-d[0];x[0]=Math.min(p,(w+p)/2),x[1]=Math.max(p,(w+p)/2)}var N=[Math.min(p,(y+p)/2),Math.max(p,(y+p)/2)];if(t>N[0]&&t<=N[1]||t>=x[0]&&t<=x[1]){o=i[f].index;break}}else{var E=Math.min(m,v),j=Math.max(m,v);if(t>(E+p)/2&&t<=(j+p)/2){o=i[f].index;break}}}else for(var O=0;O<l;O++)if(O===0&&t<=(r[O].coordinate+r[O+1].coordinate)/2||O>0&&O<l-1&&t>(r[O].coordinate+r[O-1].coordinate)/2&&t<=(r[O].coordinate+r[O+1].coordinate)/2||O===l-1&&t>(r[O].coordinate+r[O-1].coordinate)/2){o=r[O].index;break}return o},OO=function(t){var n,r=t,i=r.type.displayName,a=(n=t.type)!==null&&n!==void 0&&n.defaultProps?Cn(Cn({},t.type.defaultProps),t.props):t.props,o=a.stroke,l=a.fill,d;switch(i){case"Line":d=o;break;case"Area":case"Radar":d=o&&o!=="none"?o:l;break;default:d=l;break}return d},v_e=function(t){var n=t.barSize,r=t.totalSize,i=t.stackGroups,a=i===void 0?{}:i;if(!a)return{};for(var o={},l=Object.keys(a),d=0,f=l.length;d<f;d++)for(var m=a[l[d]].stackGroups,p=Object.keys(m),v=0,y=p.length;v<y;v++){var x=m[p[v]],b=x.items,w=x.cateAxisId,N=b.filter(function(R){return us(R.type).indexOf("Bar")>=0});if(N&&N.length){var E=N[0].type.defaultProps,j=E!==void 0?Cn(Cn({},E),N[0].props):N[0].props,O=j.barSize,T=j[w];o[T]||(o[T]=[]);var C=xt(O)?n:O;o[T].push({item:N[0],stackList:N.slice(1),barSize:xt(C)?void 0:$l(C,r,0)})}}return o},y_e=function(t){var n=t.barGap,r=t.barCategoryGap,i=t.bandSize,a=t.sizeList,o=a===void 0?[]:a,l=t.maxBarSize,d=o.length;if(d<1)return null;var f=$l(n,i,0,!0),m,p=[];if(o[0].barSize===+o[0].barSize){var v=!1,y=i/d,x=o.reduce(function(O,T){return O+T.barSize||0},0);x+=(d-1)*f,x>=i&&(x-=(d-1)*f,f=0),x>=i&&y>0&&(v=!0,y*=.9,x=d*y);var b=(i-x)/2>>0,w={offset:b-f,size:0};m=o.reduce(function(O,T){var C={item:T.item,position:{offset:w.offset+w.size+f,size:v?y:T.barSize}},R=[].concat(QL(O),[C]);return w=R[R.length-1].position,T.stackList&&T.stackList.length&&T.stackList.forEach(function(P){R.push({item:P,position:w})}),R},p)}else{var N=$l(r,i,0,!0);i-2*N-(d-1)*f<=0&&(f=0);var E=(i-2*N-(d-1)*f)/d;E>1&&(E>>=0);var j=l===+l?Math.min(E,l):E;m=o.reduce(function(O,T,C){var R=[].concat(QL(O),[{item:T.item,position:{offset:N+(E+f)*C+(E-j)/2,size:j}}]);return T.stackList&&T.stackList.length&&T.stackList.forEach(function(P){R.push({item:P,position:R[R.length-1].position})}),R},p)}return m},b_e=function(t,n,r,i){var a=r.children,o=r.width,l=r.margin,d=o-(l.left||0)-(l.right||0),f=C7({children:a,legendWidth:d});if(f){var m=i||{},p=m.width,v=m.height,y=f.align,x=f.verticalAlign,b=f.layout;if((b==="vertical"||b==="horizontal"&&x==="middle")&&y!=="center"&&Ce(t[y]))return Cn(Cn({},t),{},Au({},y,t[y]+(p||0)));if((b==="horizontal"||b==="vertical"&&y==="center")&&x!=="middle"&&Ce(t[x]))return Cn(Cn({},t),{},Au({},x,t[x]+(v||0)))}return t},x_e=function(t,n,r){return xt(n)?!0:t==="horizontal"?n==="yAxis":t==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},R7=function(t,n,r,i,a){var o=n.props.children,l=Wr(o,$d).filter(function(f){return x_e(i,a,f.props.direction)});if(l&&l.length){var d=l.map(function(f){return f.props.dataKey});return t.reduce(function(f,m){var p=nr(m,r);if(xt(p))return f;var v=Array.isArray(p)?[K0(p),lo(p)]:[p,p],y=d.reduce(function(x,b){var w=nr(m,b,0),N=v[0]-Math.abs(Array.isArray(w)?w[0]:w),E=v[1]+Math.abs(Array.isArray(w)?w[1]:w);return[Math.min(N,x[0]),Math.max(E,x[1])]},[1/0,-1/0]);return[Math.min(y[0],f[0]),Math.max(y[1],f[1])]},[1/0,-1/0])}return null},w_e=function(t,n,r,i,a){var o=n.map(function(l){return R7(t,l,r,a,i)}).filter(function(l){return!xt(l)});return o&&o.length?o.reduce(function(l,d){return[Math.min(l[0],d[0]),Math.max(l[1],d[1])]},[1/0,-1/0]):null},P7=function(t,n,r,i,a){var o=n.map(function(d){var f=d.props.dataKey;return r==="number"&&f&&R7(t,d,f,i)||bh(t,f,r,a)});if(r==="number")return o.reduce(function(d,f){return[Math.min(d[0],f[0]),Math.max(d[1],f[1])]},[1/0,-1/0]);var l={};return o.reduce(function(d,f){for(var m=0,p=f.length;m<p;m++)l[f[m]]||(l[f[m]]=!0,d.push(f[m]));return d},[])},M7=function(t,n){return t==="horizontal"&&n==="xAxis"||t==="vertical"&&n==="yAxis"||t==="centric"&&n==="angleAxis"||t==="radial"&&n==="radiusAxis"},k7=function(t,n,r,i){if(i)return t.map(function(d){return d.coordinate});var a,o,l=t.map(function(d){return d.coordinate===n&&(a=!0),d.coordinate===r&&(o=!0),d.coordinate});return a||l.push(n),o||l.push(r),l},os=function(t,n,r){if(!t)return null;var i=t.scale,a=t.duplicateDomain,o=t.type,l=t.range,d=t.realScaleType==="scaleBand"?i.bandwidth()/2:2,f=(n||r)&&o==="category"&&i.bandwidth?i.bandwidth()/d:0;if(f=t.axisType==="angleAxis"&&l?.length>=2?aa(l[0]-l[1])*2*f:f,n&&(t.ticks||t.niceTicks)){var m=(t.ticks||t.niceTicks).map(function(p){var v=a?a.indexOf(p):p;return{coordinate:i(v)+f,value:p,offset:f}});return m.filter(function(p){return!Pd(p.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(p,v){return{coordinate:i(p)+f,value:p,index:v,offset:f}}):i.ticks&&!r?i.ticks(t.tickCount).map(function(p){return{coordinate:i(p)+f,value:p,offset:f}}):i.domain().map(function(p,v){return{coordinate:i(p)+f,value:a?a[p]:p,index:v,offset:f}})},Y2=new WeakMap,Jg=function(t,n){if(typeof n!="function")return t;Y2.has(t)||Y2.set(t,new WeakMap);var r=Y2.get(t);if(r.has(n))return r.get(n);var i=function(){t.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},__e=function(t,n,r){var i=t.scale,a=t.type,o=t.layout,l=t.axisType;if(i==="auto")return o==="radial"&&l==="radiusAxis"?{scale:em(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:dy(),realScaleType:"linear"}:a==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:yh(),realScaleType:"point"}:a==="category"?{scale:em(),realScaleType:"band"}:{scale:dy(),realScaleType:"linear"};if(Il(i)){var d="scale".concat(P0(i));return{scale:($L[d]||yh)(),realScaleType:$L[d]?d:"point"}}return Nt(i)?{scale:i}:{scale:yh(),realScaleType:"point"}},ZL=1e-4,S_e=function(t){var n=t.domain();if(!(!n||n.length<=2)){var r=n.length,i=t.range(),a=Math.min(i[0],i[1])-ZL,o=Math.max(i[0],i[1])+ZL,l=t(n[0]),d=t(n[r-1]);(l<a||l>o||d<a||d>o)&&t.domain([n[0],n[r-1]])}},j_e=function(t,n){if(!t)return null;for(var r=0,i=t.length;r<i;r++)if(t[r].item===n)return t[r].position;return null},N_e=function(t,n){if(!n||n.length!==2||!Ce(n[0])||!Ce(n[1]))return t;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),a=[t[0],t[1]];return(!Ce(t[0])||t[0]<r)&&(a[0]=r),(!Ce(t[1])||t[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<r&&(a[1]=r),a},E_e=function(t){var n=t.length;if(!(n<=0))for(var r=0,i=t[0].length;r<i;++r)for(var a=0,o=0,l=0;l<n;++l){var d=Pd(t[l][r][1])?t[l][r][0]:t[l][r][1];d>=0?(t[l][r][0]=a,t[l][r][1]=a+d,a=t[l][r][1]):(t[l][r][0]=o,t[l][r][1]=o+d,o=t[l][r][1])}},A_e=function(t){var n=t.length;if(!(n<=0))for(var r=0,i=t[0].length;r<i;++r)for(var a=0,o=0;o<n;++o){var l=Pd(t[o][r][1])?t[o][r][0]:t[o][r][1];l>=0?(t[o][r][0]=a,t[o][r][1]=a+l,a=t[o][r][1]):(t[o][r][0]=0,t[o][r][1]=0)}},T_e={sign:E_e,expand:dge,none:Du,silhouette:fge,wiggle:hge,positive:A_e},O_e=function(t,n,r){var i=n.map(function(l){return l.props.dataKey}),a=T_e[r],o=uge().keys(i).value(function(l,d){return+nr(l,d,0)}).order(ZN).offset(a);return o(t)},C_e=function(t,n,r,i,a,o){if(!t)return null;var l=o?n.reverse():n,d={},f=l.reduce(function(p,v){var y,x=(y=v.type)!==null&&y!==void 0&&y.defaultProps?Cn(Cn({},v.type.defaultProps),v.props):v.props,b=x.stackId,w=x.hide;if(w)return p;var N=x[r],E=p[N]||{hasStack:!1,stackGroups:{}};if(tr(b)){var j=E.stackGroups[b]||{numericAxisId:r,cateAxisId:i,items:[]};j.items.push(v),E.hasStack=!0,E.stackGroups[b]=j}else E.stackGroups[Gl("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[v]};return Cn(Cn({},p),{},Au({},N,E))},d),m={};return Object.keys(f).reduce(function(p,v){var y=f[v];if(y.hasStack){var x={};y.stackGroups=Object.keys(y.stackGroups).reduce(function(b,w){var N=y.stackGroups[w];return Cn(Cn({},b),{},Au({},w,{numericAxisId:r,cateAxisId:i,items:N.items,stackedData:O_e(t,N.items,a)}))},x)}return Cn(Cn({},p),{},Au({},v,y))},m)},R_e=function(t,n){var r=n.realScaleType,i=n.type,a=n.tickCount,o=n.originalDomain,l=n.allowDecimals,d=r||n.scale;if(d!=="auto"&&d!=="linear")return null;if(a&&i==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var f=t.domain();if(!f.length)return null;var m=Fwe(f,a,l);return t.domain([K0(m),lo(m)]),{niceTicks:m}}if(a&&i==="number"){var p=t.domain(),v=Uwe(p,a,l);return{niceTicks:v}}return null};function Vu(e){var t=e.axis,n=e.ticks,r=e.bandSize,i=e.entry,a=e.index,o=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!xt(i[t.dataKey])){var l=Gv(n,"value",i[t.dataKey]);if(l)return l.coordinate+r/2}return n[a]?n[a].coordinate+r/2:null}var d=nr(i,xt(o)?t.dataKey:o);return xt(d)?null:t.scale(d)}var eB=function(t){var n=t.axis,r=t.ticks,i=t.offset,a=t.bandSize,o=t.entry,l=t.index;if(n.type==="category")return r[l]?r[l].coordinate+i:null;var d=nr(o,n.dataKey,n.domain[l]);return xt(d)?null:n.scale(d)-a/2+i},P_e=function(t){var n=t.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return i<=0&&a>=0?0:a<0?a:i}return r[0]},M_e=function(t,n){var r,i=(r=t.type)!==null&&r!==void 0&&r.defaultProps?Cn(Cn({},t.type.defaultProps),t.props):t.props,a=i.stackId;if(tr(a)){var o=n[a];if(o){var l=o.items.indexOf(t);return l>=0?o.stackedData[l]:null}}return null},k_e=function(t){return t.reduce(function(n,r){return[K0(r.concat([n[0]]).filter(Ce)),lo(r.concat([n[1]]).filter(Ce))]},[1/0,-1/0])},D7=function(t,n,r){return Object.keys(t).reduce(function(i,a){var o=t[a],l=o.stackedData,d=l.reduce(function(f,m){var p=k_e(m.slice(n,r+1));return[Math.min(f[0],p[0]),Math.max(f[1],p[1])]},[1/0,-1/0]);return[Math.min(d[0],i[0]),Math.max(d[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},tB=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,nB=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,jE=function(t,n,r){if(Nt(t))return t(n,r);if(!Array.isArray(t))return n;var i=[];if(Ce(t[0]))i[0]=r?t[0]:Math.min(t[0],n[0]);else if(tB.test(t[0])){var a=+tB.exec(t[0])[1];i[0]=n[0]-a}else Nt(t[0])?i[0]=t[0](n[0]):i[0]=n[0];if(Ce(t[1]))i[1]=r?t[1]:Math.max(t[1],n[1]);else if(nB.test(t[1])){var o=+nB.exec(t[1])[1];i[1]=n[1]+o}else Nt(t[1])?i[1]=t[1](n[1]):i[1]=n[1];return i},yy=function(t,n,r){if(t&&t.scale&&t.scale.bandwidth){var i=t.scale.bandwidth();if(!r||i>0)return i}if(t&&n&&n.length>=2){for(var a=rO(n,function(p){return p.coordinate}),o=1/0,l=1,d=a.length;l<d;l++){var f=a[l],m=a[l-1];o=Math.min((f.coordinate||0)-(m.coordinate||0),o)}return o===1/0?0:o}return r?void 0:0},rB=function(t,n,r){return!t||!t.length||Ll(t,Li(r,"type.defaultProps.domain"))?n:t},I7=function(t,n){var r=t.type.defaultProps?Cn(Cn({},t.type.defaultProps),t.props):t.props,i=r.dataKey,a=r.name,o=r.unit,l=r.formatter,d=r.tooltipType,f=r.chartType,m=r.hide;return Cn(Cn({},St(t,!1)),{},{dataKey:i,unit:o,formatter:l,name:a||i,color:OO(t),value:nr(n,i),type:d,payload:n,chartType:f,hide:m})};function cm(e){"@babel/helpers - typeof";return cm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cm(e)}function iB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function aB(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?iB(Object(n),!0).forEach(function(r){D_e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iB(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function D_e(e,t,n){return t=I_e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function I_e(e){var t=$_e(e,"string");return cm(t)=="symbol"?t:t+""}function $_e(e,t){if(cm(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(cm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var by=Math.PI/180,L_e=function(t){return t*180/Math.PI},_r=function(t,n,r,i){return{x:t+Math.cos(-by*i)*r,y:n+Math.sin(-by*i)*r}},B_e=function(t,n){var r=t.x,i=t.y,a=n.x,o=n.y;return Math.sqrt(Math.pow(r-a,2)+Math.pow(i-o,2))},q_e=function(t,n){var r=t.x,i=t.y,a=n.cx,o=n.cy,l=B_e({x:r,y:i},{x:a,y:o});if(l<=0)return{radius:l};var d=(r-a)/l,f=Math.acos(d);return i>o&&(f=2*Math.PI-f),{radius:l,angle:L_e(f),angleInRadian:f}},z_e=function(t){var n=t.startAngle,r=t.endAngle,i=Math.floor(n/360),a=Math.floor(r/360),o=Math.min(i,a);return{startAngle:n-o*360,endAngle:r-o*360}},F_e=function(t,n){var r=n.startAngle,i=n.endAngle,a=Math.floor(r/360),o=Math.floor(i/360),l=Math.min(a,o);return t+l*360},sB=function(t,n){var r=t.x,i=t.y,a=q_e({x:r,y:i},n),o=a.radius,l=a.angle,d=n.innerRadius,f=n.outerRadius;if(o<d||o>f)return!1;if(o===0)return!0;var m=z_e(n),p=m.startAngle,v=m.endAngle,y=l,x;if(p<=v){for(;y>v;)y-=360;for(;y<p;)y+=360;x=y>=p&&y<=v}else{for(;y>p;)y-=360;for(;y<v;)y+=360;x=y>=v&&y<=p}return x?aB(aB({},n),{},{radius:o,angle:F_e(y,n)}):null};function um(e){"@babel/helpers - typeof";return um=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},um(e)}var U_e=["offset"];function V_e(e){return W_e(e)||K_e(e)||G_e(e)||H_e()}function H_e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function G_e(e,t){if(e){if(typeof e=="string")return NE(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return NE(e,t)}}function K_e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function W_e(e){if(Array.isArray(e))return NE(e)}function NE(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Y_e(e,t){if(e==null)return{};var n=X_e(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function X_e(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function oB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Qn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?oB(Object(n),!0).forEach(function(r){Q_e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oB(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Q_e(e,t,n){return t=J_e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function J_e(e){var t=Z_e(e,"string");return um(t)=="symbol"?t:t+""}function Z_e(e,t){if(um(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(um(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dm(){return dm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},dm.apply(this,arguments)}var e1e=function(t){var n=t.value,r=t.formatter,i=xt(t.children)?n:t.children;return Nt(r)?r(i):i},t1e=function(t,n){var r=aa(n-t),i=Math.min(Math.abs(n-t),360);return r*i},n1e=function(t,n,r){var i=t.position,a=t.viewBox,o=t.offset,l=t.className,d=a,f=d.cx,m=d.cy,p=d.innerRadius,v=d.outerRadius,y=d.startAngle,x=d.endAngle,b=d.clockWise,w=(p+v)/2,N=t1e(y,x),E=N>=0?1:-1,j,O;i==="insideStart"?(j=y+E*o,O=b):i==="insideEnd"?(j=x-E*o,O=!b):i==="end"&&(j=x+E*o,O=b),O=N<=0?O:!O;var T=_r(f,m,w,j),C=_r(f,m,w,j+(O?1:-1)*359),R="M".concat(T.x,",").concat(T.y,`
    A`).concat(w,",").concat(w,",0,1,").concat(O?0:1,`,
    `).concat(C.x,",").concat(C.y),P=xt(t.id)?Gl("recharts-radial-line-"):t.id;return q.createElement("text",dm({},r,{dominantBaseline:"central",className:Mt("recharts-radial-bar-label",l)}),q.createElement("defs",null,q.createElement("path",{id:P,d:R})),q.createElement("textPath",{xlinkHref:"#".concat(P)},n))},r1e=function(t){var n=t.viewBox,r=t.offset,i=t.position,a=n,o=a.cx,l=a.cy,d=a.innerRadius,f=a.outerRadius,m=a.startAngle,p=a.endAngle,v=(m+p)/2;if(i==="outside"){var y=_r(o,l,f+r,v),x=y.x,b=y.y;return{x,y:b,textAnchor:x>=o?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var w=(d+f)/2,N=_r(o,l,w,v),E=N.x,j=N.y;return{x:E,y:j,textAnchor:"middle",verticalAnchor:"middle"}},i1e=function(t){var n=t.viewBox,r=t.parentViewBox,i=t.offset,a=t.position,o=n,l=o.x,d=o.y,f=o.width,m=o.height,p=m>=0?1:-1,v=p*i,y=p>0?"end":"start",x=p>0?"start":"end",b=f>=0?1:-1,w=b*i,N=b>0?"end":"start",E=b>0?"start":"end";if(a==="top"){var j={x:l+f/2,y:d-p*i,textAnchor:"middle",verticalAnchor:y};return Qn(Qn({},j),r?{height:Math.max(d-r.y,0),width:f}:{})}if(a==="bottom"){var O={x:l+f/2,y:d+m+v,textAnchor:"middle",verticalAnchor:x};return Qn(Qn({},O),r?{height:Math.max(r.y+r.height-(d+m),0),width:f}:{})}if(a==="left"){var T={x:l-w,y:d+m/2,textAnchor:N,verticalAnchor:"middle"};return Qn(Qn({},T),r?{width:Math.max(T.x-r.x,0),height:m}:{})}if(a==="right"){var C={x:l+f+w,y:d+m/2,textAnchor:E,verticalAnchor:"middle"};return Qn(Qn({},C),r?{width:Math.max(r.x+r.width-C.x,0),height:m}:{})}var R=r?{width:f,height:m}:{};return a==="insideLeft"?Qn({x:l+w,y:d+m/2,textAnchor:E,verticalAnchor:"middle"},R):a==="insideRight"?Qn({x:l+f-w,y:d+m/2,textAnchor:N,verticalAnchor:"middle"},R):a==="insideTop"?Qn({x:l+f/2,y:d+v,textAnchor:"middle",verticalAnchor:x},R):a==="insideBottom"?Qn({x:l+f/2,y:d+m-v,textAnchor:"middle",verticalAnchor:y},R):a==="insideTopLeft"?Qn({x:l+w,y:d+v,textAnchor:E,verticalAnchor:x},R):a==="insideTopRight"?Qn({x:l+f-w,y:d+v,textAnchor:N,verticalAnchor:x},R):a==="insideBottomLeft"?Qn({x:l+w,y:d+m-v,textAnchor:E,verticalAnchor:y},R):a==="insideBottomRight"?Qn({x:l+f-w,y:d+m-v,textAnchor:N,verticalAnchor:y},R):Rd(a)&&(Ce(a.x)||vl(a.x))&&(Ce(a.y)||vl(a.y))?Qn({x:l+$l(a.x,f),y:d+$l(a.y,m),textAnchor:"end",verticalAnchor:"end"},R):Qn({x:l+f/2,y:d+m/2,textAnchor:"middle",verticalAnchor:"middle"},R)},a1e=function(t){return"cx"in t&&Ce(t.cx)};function Ar(e){var t=e.offset,n=t===void 0?5:t,r=Y_e(e,U_e),i=Qn({offset:n},r),a=i.viewBox,o=i.position,l=i.value,d=i.children,f=i.content,m=i.className,p=m===void 0?"":m,v=i.textBreakAll;if(!a||xt(l)&&xt(d)&&!_.isValidElement(f)&&!Nt(f))return null;if(_.isValidElement(f))return _.cloneElement(f,i);var y;if(Nt(f)){if(y=_.createElement(f,i),_.isValidElement(y))return y}else y=e1e(i);var x=a1e(a),b=St(i,!0);if(x&&(o==="insideStart"||o==="insideEnd"||o==="end"))return n1e(i,y,b);var w=x?r1e(i):i1e(i);return q.createElement(iy,dm({className:Mt("recharts-label",p)},b,w,{breakAll:v}),y)}Ar.displayName="Label";var $7=function(t){var n=t.cx,r=t.cy,i=t.angle,a=t.startAngle,o=t.endAngle,l=t.r,d=t.radius,f=t.innerRadius,m=t.outerRadius,p=t.x,v=t.y,y=t.top,x=t.left,b=t.width,w=t.height,N=t.clockWise,E=t.labelViewBox;if(E)return E;if(Ce(b)&&Ce(w)){if(Ce(p)&&Ce(v))return{x:p,y:v,width:b,height:w};if(Ce(y)&&Ce(x))return{x:y,y:x,width:b,height:w}}return Ce(p)&&Ce(v)?{x:p,y:v,width:0,height:0}:Ce(n)&&Ce(r)?{cx:n,cy:r,startAngle:a||i||0,endAngle:o||i||0,innerRadius:f||0,outerRadius:m||d||l||0,clockWise:N}:t.viewBox?t.viewBox:{}},s1e=function(t,n){return t?t===!0?q.createElement(Ar,{key:"label-implicit",viewBox:n}):tr(t)?q.createElement(Ar,{key:"label-implicit",viewBox:n,value:t}):_.isValidElement(t)?t.type===Ar?_.cloneElement(t,{key:"label-implicit",viewBox:n}):q.createElement(Ar,{key:"label-implicit",content:t,viewBox:n}):Nt(t)?q.createElement(Ar,{key:"label-implicit",content:t,viewBox:n}):Rd(t)?q.createElement(Ar,dm({viewBox:n},t,{key:"label-implicit"})):null:null},o1e=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var i=t.children,a=$7(t),o=Wr(i,Ar).map(function(d,f){return _.cloneElement(d,{viewBox:n||a,key:"label-".concat(f)})});if(!r)return o;var l=s1e(t.label,n||a);return[l].concat(V_e(o))};Ar.parseViewBox=$7;Ar.renderCallByParent=o1e;var X2,lB;function l1e(){if(lB)return X2;lB=1;function e(t){var n=t==null?0:t.length;return n?t[n-1]:void 0}return X2=e,X2}var c1e=l1e();const u1e=sn(c1e);function fm(e){"@babel/helpers - typeof";return fm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fm(e)}var d1e=["valueAccessor"],f1e=["data","dataKey","clockWise","id","textBreakAll"];function h1e(e){return v1e(e)||g1e(e)||p1e(e)||m1e()}function m1e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function p1e(e,t){if(e){if(typeof e=="string")return EE(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return EE(e,t)}}function g1e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function v1e(e){if(Array.isArray(e))return EE(e)}function EE(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function xy(){return xy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xy.apply(this,arguments)}function cB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function uB(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?cB(Object(n),!0).forEach(function(r){y1e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cB(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function y1e(e,t,n){return t=b1e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b1e(e){var t=x1e(e,"string");return fm(t)=="symbol"?t:t+""}function x1e(e,t){if(fm(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(fm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dB(e,t){if(e==null)return{};var n=w1e(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function w1e(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var _1e=function(t){return Array.isArray(t.value)?u1e(t.value):t.value};function Ta(e){var t=e.valueAccessor,n=t===void 0?_1e:t,r=dB(e,d1e),i=r.data,a=r.dataKey,o=r.clockWise,l=r.id,d=r.textBreakAll,f=dB(r,f1e);return!i||!i.length?null:q.createElement(Gt,{className:"recharts-label-list"},i.map(function(m,p){var v=xt(a)?n(m,p):nr(m&&m.payload,a),y=xt(l)?{}:{id:"".concat(l,"-").concat(p)};return q.createElement(Ar,xy({},St(m,!0),f,y,{parentViewBox:m.parentViewBox,value:v,textBreakAll:d,viewBox:Ar.parseViewBox(xt(o)?m:uB(uB({},m),{},{clockWise:o})),key:"label-".concat(p),index:p}))}))}Ta.displayName="LabelList";function S1e(e,t){return e?e===!0?q.createElement(Ta,{key:"labelList-implicit",data:t}):q.isValidElement(e)||Nt(e)?q.createElement(Ta,{key:"labelList-implicit",data:t,content:e}):Rd(e)?q.createElement(Ta,xy({data:t},e,{key:"labelList-implicit"})):null:null}function j1e(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var r=e.children,i=Wr(r,Ta).map(function(o,l){return _.cloneElement(o,{data:t,key:"labelList-".concat(l)})});if(!n)return i;var a=S1e(e.label,t);return[a].concat(h1e(i))}Ta.renderCallByParent=j1e;function hm(e){"@babel/helpers - typeof";return hm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hm(e)}function AE(){return AE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},AE.apply(this,arguments)}function fB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function hB(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?fB(Object(n),!0).forEach(function(r){N1e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fB(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function N1e(e,t,n){return t=E1e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function E1e(e){var t=A1e(e,"string");return hm(t)=="symbol"?t:t+""}function A1e(e,t){if(hm(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(hm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var T1e=function(t,n){var r=aa(n-t),i=Math.min(Math.abs(n-t),359.999);return r*i},Zg=function(t){var n=t.cx,r=t.cy,i=t.radius,a=t.angle,o=t.sign,l=t.isExternal,d=t.cornerRadius,f=t.cornerIsExternal,m=d*(l?1:-1)+i,p=Math.asin(d/m)/by,v=f?a:a+o*p,y=_r(n,r,m,v),x=_r(n,r,i,v),b=f?a-o*p:a,w=_r(n,r,m*Math.cos(p*by),b);return{center:y,circleTangency:x,lineTangency:w,theta:p}},L7=function(t){var n=t.cx,r=t.cy,i=t.innerRadius,a=t.outerRadius,o=t.startAngle,l=t.endAngle,d=T1e(o,l),f=o+d,m=_r(n,r,a,o),p=_r(n,r,a,f),v="M ".concat(m.x,",").concat(m.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(d)>180),",").concat(+(o>f),`,
    `).concat(p.x,",").concat(p.y,`
  `);if(i>0){var y=_r(n,r,i,o),x=_r(n,r,i,f);v+="L ".concat(x.x,",").concat(x.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(d)>180),",").concat(+(o<=f),`,
            `).concat(y.x,",").concat(y.y," Z")}else v+="L ".concat(n,",").concat(r," Z");return v},O1e=function(t){var n=t.cx,r=t.cy,i=t.innerRadius,a=t.outerRadius,o=t.cornerRadius,l=t.forceCornerRadius,d=t.cornerIsExternal,f=t.startAngle,m=t.endAngle,p=aa(m-f),v=Zg({cx:n,cy:r,radius:a,angle:f,sign:p,cornerRadius:o,cornerIsExternal:d}),y=v.circleTangency,x=v.lineTangency,b=v.theta,w=Zg({cx:n,cy:r,radius:a,angle:m,sign:-p,cornerRadius:o,cornerIsExternal:d}),N=w.circleTangency,E=w.lineTangency,j=w.theta,O=d?Math.abs(f-m):Math.abs(f-m)-b-j;if(O<0)return l?"M ".concat(x.x,",").concat(x.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):L7({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:f,endAngle:m});var T="M ".concat(x.x,",").concat(x.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(p<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(O>180),",").concat(+(p<0),",").concat(N.x,",").concat(N.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(p<0),",").concat(E.x,",").concat(E.y,`
  `);if(i>0){var C=Zg({cx:n,cy:r,radius:i,angle:f,sign:p,isExternal:!0,cornerRadius:o,cornerIsExternal:d}),R=C.circleTangency,P=C.lineTangency,k=C.theta,$=Zg({cx:n,cy:r,radius:i,angle:m,sign:-p,isExternal:!0,cornerRadius:o,cornerIsExternal:d}),B=$.circleTangency,I=$.lineTangency,F=$.theta,V=d?Math.abs(f-m):Math.abs(f-m)-k-F;if(V<0&&o===0)return"".concat(T,"L").concat(n,",").concat(r,"Z");T+="L".concat(I.x,",").concat(I.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(p<0),",").concat(B.x,",").concat(B.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(V>180),",").concat(+(p>0),",").concat(R.x,",").concat(R.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(p<0),",").concat(P.x,",").concat(P.y,"Z")}else T+="L".concat(n,",").concat(r,"Z");return T},C1e={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},B7=function(t){var n=hB(hB({},C1e),t),r=n.cx,i=n.cy,a=n.innerRadius,o=n.outerRadius,l=n.cornerRadius,d=n.forceCornerRadius,f=n.cornerIsExternal,m=n.startAngle,p=n.endAngle,v=n.className;if(o<a||m===p)return null;var y=Mt("recharts-sector",v),x=o-a,b=$l(l,x,0,!0),w;return b>0&&Math.abs(m-p)<360?w=O1e({cx:r,cy:i,innerRadius:a,outerRadius:o,cornerRadius:Math.min(b,x/2),forceCornerRadius:d,cornerIsExternal:f,startAngle:m,endAngle:p}):w=L7({cx:r,cy:i,innerRadius:a,outerRadius:o,startAngle:m,endAngle:p}),q.createElement("path",AE({},St(n,!0),{className:y,d:w,role:"img"}))};function mm(e){"@babel/helpers - typeof";return mm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mm(e)}function TE(){return TE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},TE.apply(this,arguments)}function mB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function pB(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?mB(Object(n),!0).forEach(function(r){R1e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mB(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function R1e(e,t,n){return t=P1e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function P1e(e){var t=M1e(e,"string");return mm(t)=="symbol"?t:t+""}function M1e(e,t){if(mm(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(mm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var gB={curveBasisClosed:Zpe,curveBasisOpen:ege,curveBasis:Jpe,curveBumpX:Lpe,curveBumpY:Bpe,curveLinearClosed:tge,curveLinear:k0,curveMonotoneX:nge,curveMonotoneY:rge,curveNatural:ige,curveStep:age,curveStepAfter:oge,curveStepBefore:sge},ev=function(t){return t.x===+t.x&&t.y===+t.y},Bf=function(t){return t.x},qf=function(t){return t.y},k1e=function(t,n){if(Nt(t))return t;var r="curve".concat(P0(t));return(r==="curveMonotone"||r==="curveBump")&&n?gB["".concat(r).concat(n==="vertical"?"Y":"X")]:gB[r]||k0},D1e=function(t){var n=t.type,r=n===void 0?"linear":n,i=t.points,a=i===void 0?[]:i,o=t.baseLine,l=t.layout,d=t.connectNulls,f=d===void 0?!1:d,m=k1e(r,l),p=f?a.filter(function(b){return ev(b)}):a,v;if(Array.isArray(o)){var y=f?o.filter(function(b){return ev(b)}):o,x=p.map(function(b,w){return pB(pB({},b),{},{base:y[w]})});return l==="vertical"?v=Hg().y(qf).x1(Bf).x0(function(b){return b.base.x}):v=Hg().x(Bf).y1(qf).y0(function(b){return b.base.y}),v.defined(ev).curve(m),v(x)}return l==="vertical"&&Ce(o)?v=Hg().y(qf).x1(Bf).x0(o):Ce(o)?v=Hg().x(Bf).y1(qf).y0(o):v=V9().x(Bf).y(qf),v.defined(ev).curve(m),v(p)},Ol=function(t){var n=t.className,r=t.points,i=t.path,a=t.pathRef;if((!r||!r.length)&&!i)return null;var o=r&&r.length?D1e(t):i;return _.createElement("path",TE({},St(t,!1),Kv(t),{className:Mt("recharts-curve",n),d:o,ref:a}))},Q2={exports:{}},J2,vB;function I1e(){if(vB)return J2;vB=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return J2=e,J2}var Z2,yB;function $1e(){if(yB)return Z2;yB=1;var e=I1e();function t(){}function n(){}return n.resetWarningCache=t,Z2=function(){function r(o,l,d,f,m,p){if(p!==e){var v=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw v.name="Invariant Violation",v}}r.isRequired=r;function i(){return r}var a={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:t};return a.PropTypes=a,a},Z2}var bB;function L1e(){return bB||(bB=1,Q2.exports=$1e()()),Q2.exports}var B1e=L1e();const Wt=sn(B1e);var q1e=Object.getOwnPropertyNames,z1e=Object.getOwnPropertySymbols,F1e=Object.prototype.hasOwnProperty;function xB(e,t){return function(r,i,a){return e(r,i,a)&&t(r,i,a)}}function tv(e){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return e(n,r,i);var a=i.cache,o=a.get(n),l=a.get(r);if(o&&l)return o===r&&l===n;a.set(n,r),a.set(r,n);var d=e(n,r,i);return a.delete(n),a.delete(r),d}}function U1e(e){return e?.[Symbol.toStringTag]}function wB(e){return q1e(e).concat(z1e(e))}var V1e=Object.hasOwn||(function(e,t){return F1e.call(e,t)});function Yl(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var H1e="__v",G1e="__o",K1e="_owner",_B=Object.getOwnPropertyDescriptor,SB=Object.keys;function W1e(e,t,n){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(!n.equals(e[r],t[r],r,r,e,t,n))return!1;return!0}function Y1e(e,t){return Yl(e.getTime(),t.getTime())}function X1e(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function Q1e(e,t){return e===t}function jB(e,t,n){var r=e.size;if(r!==t.size)return!1;if(!r)return!0;for(var i=new Array(r),a=e.entries(),o,l,d=0;(o=a.next())&&!o.done;){for(var f=t.entries(),m=!1,p=0;(l=f.next())&&!l.done;){if(i[p]){p++;continue}var v=o.value,y=l.value;if(n.equals(v[0],y[0],d,p,e,t,n)&&n.equals(v[1],y[1],v[0],y[0],e,t,n)){m=i[p]=!0;break}p++}if(!m)return!1;d++}return!0}var J1e=Yl;function Z1e(e,t,n){var r=SB(e),i=r.length;if(SB(t).length!==i)return!1;for(;i-- >0;)if(!q7(e,t,n,r[i]))return!1;return!0}function zf(e,t,n){var r=wB(e),i=r.length;if(wB(t).length!==i)return!1;for(var a,o,l;i-- >0;)if(a=r[i],!q7(e,t,n,a)||(o=_B(e,a),l=_B(t,a),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function eSe(e,t){return Yl(e.valueOf(),t.valueOf())}function tSe(e,t){return e.source===t.source&&e.flags===t.flags}function NB(e,t,n){var r=e.size;if(r!==t.size)return!1;if(!r)return!0;for(var i=new Array(r),a=e.values(),o,l;(o=a.next())&&!o.done;){for(var d=t.values(),f=!1,m=0;(l=d.next())&&!l.done;){if(!i[m]&&n.equals(o.value,l.value,o.value,l.value,e,t,n)){f=i[m]=!0;break}m++}if(!f)return!1}return!0}function nSe(e,t){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(e[n]!==t[n])return!1;return!0}function rSe(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function q7(e,t,n,r){return(r===K1e||r===G1e||r===H1e)&&(e.$$typeof||t.$$typeof)?!0:V1e(t,r)&&n.equals(e[r],t[r],r,r,e,t,n)}var iSe="[object Arguments]",aSe="[object Boolean]",sSe="[object Date]",oSe="[object Error]",lSe="[object Map]",cSe="[object Number]",uSe="[object Object]",dSe="[object RegExp]",fSe="[object Set]",hSe="[object String]",mSe="[object URL]",pSe=Array.isArray,EB=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,AB=Object.assign,gSe=Object.prototype.toString.call.bind(Object.prototype.toString);function vSe(e){var t=e.areArraysEqual,n=e.areDatesEqual,r=e.areErrorsEqual,i=e.areFunctionsEqual,a=e.areMapsEqual,o=e.areNumbersEqual,l=e.areObjectsEqual,d=e.arePrimitiveWrappersEqual,f=e.areRegExpsEqual,m=e.areSetsEqual,p=e.areTypedArraysEqual,v=e.areUrlsEqual,y=e.unknownTagComparators;return function(b,w,N){if(b===w)return!0;if(b==null||w==null)return!1;var E=typeof b;if(E!==typeof w)return!1;if(E!=="object")return E==="number"?o(b,w,N):E==="function"?i(b,w,N):!1;var j=b.constructor;if(j!==w.constructor)return!1;if(j===Object)return l(b,w,N);if(pSe(b))return t(b,w,N);if(EB!=null&&EB(b))return p(b,w,N);if(j===Date)return n(b,w,N);if(j===RegExp)return f(b,w,N);if(j===Map)return a(b,w,N);if(j===Set)return m(b,w,N);var O=gSe(b);if(O===sSe)return n(b,w,N);if(O===dSe)return f(b,w,N);if(O===lSe)return a(b,w,N);if(O===fSe)return m(b,w,N);if(O===uSe)return typeof b.then!="function"&&typeof w.then!="function"&&l(b,w,N);if(O===mSe)return v(b,w,N);if(O===oSe)return r(b,w,N);if(O===iSe)return l(b,w,N);if(O===aSe||O===cSe||O===hSe)return d(b,w,N);if(y){var T=y[O];if(!T){var C=U1e(b);C&&(T=y[C])}if(T)return T(b,w,N)}return!1}}function ySe(e){var t=e.circular,n=e.createCustomConfig,r=e.strict,i={areArraysEqual:r?zf:W1e,areDatesEqual:Y1e,areErrorsEqual:X1e,areFunctionsEqual:Q1e,areMapsEqual:r?xB(jB,zf):jB,areNumbersEqual:J1e,areObjectsEqual:r?zf:Z1e,arePrimitiveWrappersEqual:eSe,areRegExpsEqual:tSe,areSetsEqual:r?xB(NB,zf):NB,areTypedArraysEqual:r?zf:nSe,areUrlsEqual:rSe,unknownTagComparators:void 0};if(n&&(i=AB({},i,n(i))),t){var a=tv(i.areArraysEqual),o=tv(i.areMapsEqual),l=tv(i.areObjectsEqual),d=tv(i.areSetsEqual);i=AB({},i,{areArraysEqual:a,areMapsEqual:o,areObjectsEqual:l,areSetsEqual:d})}return i}function bSe(e){return function(t,n,r,i,a,o,l){return e(t,n,l)}}function xSe(e){var t=e.circular,n=e.comparator,r=e.createState,i=e.equals,a=e.strict;if(r)return function(d,f){var m=r(),p=m.cache,v=p===void 0?t?new WeakMap:void 0:p,y=m.meta;return n(d,f,{cache:v,equals:i,meta:y,strict:a})};if(t)return function(d,f){return n(d,f,{cache:new WeakMap,equals:i,meta:void 0,strict:a})};var o={cache:void 0,equals:i,meta:void 0,strict:a};return function(d,f){return n(d,f,o)}}var wSe=Po();Po({strict:!0});Po({circular:!0});Po({circular:!0,strict:!0});Po({createInternalComparator:function(){return Yl}});Po({strict:!0,createInternalComparator:function(){return Yl}});Po({circular:!0,createInternalComparator:function(){return Yl}});Po({circular:!0,createInternalComparator:function(){return Yl},strict:!0});function Po(e){e===void 0&&(e={});var t=e.circular,n=t===void 0?!1:t,r=e.createInternalComparator,i=e.createState,a=e.strict,o=a===void 0?!1:a,l=ySe(e),d=vSe(l),f=r?r(d):bSe(d);return xSe({circular:n,comparator:d,createState:i,equals:f,strict:o})}function _Se(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function TB(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(a){n<0&&(n=a),a-n>t?(e(a),n=-1):_Se(i)};requestAnimationFrame(r)}function OE(e){"@babel/helpers - typeof";return OE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},OE(e)}function SSe(e){return ASe(e)||ESe(e)||NSe(e)||jSe()}function jSe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function NSe(e,t){if(e){if(typeof e=="string")return OB(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return OB(e,t)}}function OB(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ESe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function ASe(e){if(Array.isArray(e))return e}function TSe(){var e={},t=function(){return null},n=!1,r=function i(a){if(!n){if(Array.isArray(a)){if(!a.length)return;var o=a,l=SSe(o),d=l[0],f=l.slice(1);if(typeof d=="number"){TB(i.bind(null,f),d);return}i(d),TB(i.bind(null,f));return}OE(a)==="object"&&(e=a,t(e)),typeof a=="function"&&a()}};return{stop:function(){n=!0},start:function(a){n=!1,r(a)},subscribe:function(a){return t=a,function(){t=function(){return null}}}}}function pm(e){"@babel/helpers - typeof";return pm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pm(e)}function CB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function RB(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?CB(Object(n),!0).forEach(function(r){z7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):CB(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function z7(e,t,n){return t=OSe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function OSe(e){var t=CSe(e,"string");return pm(t)==="symbol"?t:String(t)}function CSe(e,t){if(pm(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(pm(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var RSe=function(t,n){return[Object.keys(t),Object.keys(n)].reduce(function(r,i){return r.filter(function(a){return i.includes(a)})})},PSe=function(t){return t},MSe=function(t){return t.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},xh=function(t,n){return Object.keys(n).reduce(function(r,i){return RB(RB({},r),{},z7({},i,t(i,n[i])))},{})},PB=function(t,n,r){return t.map(function(i){return"".concat(MSe(i)," ").concat(n,"ms ").concat(r)}).join(",")};function kSe(e,t){return $Se(e)||ISe(e,t)||F7(e,t)||DSe()}function DSe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ISe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,o,l=[],d=!0,f=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(d=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);d=!0);}catch(m){f=!0,i=m}finally{try{if(!d&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(f)throw i}}return l}}function $Se(e){if(Array.isArray(e))return e}function LSe(e){return zSe(e)||qSe(e)||F7(e)||BSe()}function BSe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function F7(e,t){if(e){if(typeof e=="string")return CE(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return CE(e,t)}}function qSe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function zSe(e){if(Array.isArray(e))return CE(e)}function CE(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var wy=1e-4,U7=function(t,n){return[0,3*t,3*n-6*t,3*t-3*n+1]},V7=function(t,n){return t.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},MB=function(t,n){return function(r){var i=U7(t,n);return V7(i,r)}},FSe=function(t,n){return function(r){var i=U7(t,n),a=[].concat(LSe(i.map(function(o,l){return o*l}).slice(1)),[0]);return V7(a,r)}},kB=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n[0],a=n[1],o=n[2],l=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,a=0,o=1,l=1;break;case"ease":i=.25,a=.1,o=.25,l=1;break;case"ease-in":i=.42,a=0,o=1,l=1;break;case"ease-out":i=.42,a=0,o=.58,l=1;break;case"ease-in-out":i=0,a=0,o=.58,l=1;break;default:{var d=n[0].split("(");if(d[0]==="cubic-bezier"&&d[1].split(")")[0].split(",").length===4){var f=d[1].split(")")[0].split(",").map(function(w){return parseFloat(w)}),m=kSe(f,4);i=m[0],a=m[1],o=m[2],l=m[3]}}}var p=MB(i,o),v=MB(a,l),y=FSe(i,o),x=function(N){return N>1?1:N<0?0:N},b=function(N){for(var E=N>1?1:N,j=E,O=0;O<8;++O){var T=p(j)-E,C=y(j);if(Math.abs(T-E)<wy||C<wy)return v(j);j=x(j-T/C)}return v(j)};return b.isStepper=!1,b},USe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.stiff,r=n===void 0?100:n,i=t.damping,a=i===void 0?8:i,o=t.dt,l=o===void 0?17:o,d=function(m,p,v){var y=-(m-p)*r,x=v*a,b=v+(y-x)*l/1e3,w=v*l/1e3+m;return Math.abs(w-p)<wy&&Math.abs(b)<wy?[p,0]:[w,b]};return d.isStepper=!0,d.dt=l,d},VSe=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return kB(i);case"spring":return USe();default:if(i.split("(")[0]==="cubic-bezier")return kB(i)}return typeof i=="function"?i:null};function gm(e){"@babel/helpers - typeof";return gm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gm(e)}function DB(e){return KSe(e)||GSe(e)||H7(e)||HSe()}function HSe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function GSe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function KSe(e){if(Array.isArray(e))return PE(e)}function IB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function yr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?IB(Object(n),!0).forEach(function(r){RE(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):IB(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function RE(e,t,n){return t=WSe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function WSe(e){var t=YSe(e,"string");return gm(t)==="symbol"?t:String(t)}function YSe(e,t){if(gm(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(gm(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function XSe(e,t){return ZSe(e)||JSe(e,t)||H7(e,t)||QSe()}function QSe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function H7(e,t){if(e){if(typeof e=="string")return PE(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return PE(e,t)}}function PE(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function JSe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,o,l=[],d=!0,f=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(d=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);d=!0);}catch(m){f=!0,i=m}finally{try{if(!d&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(f)throw i}}return l}}function ZSe(e){if(Array.isArray(e))return e}var _y=function(t,n,r){return t+(n-t)*r},ME=function(t){var n=t.from,r=t.to;return n!==r},e2e=function e(t,n,r){var i=xh(function(a,o){if(ME(o)){var l=t(o.from,o.to,o.velocity),d=XSe(l,2),f=d[0],m=d[1];return yr(yr({},o),{},{from:f,velocity:m})}return o},n);return r<1?xh(function(a,o){return ME(o)?yr(yr({},o),{},{velocity:_y(o.velocity,i[a].velocity,r),from:_y(o.from,i[a].from,r)}):o},n):e(t,i,r-1)};const t2e=(function(e,t,n,r,i){var a=RSe(e,t),o=a.reduce(function(w,N){return yr(yr({},w),{},RE({},N,[e[N],t[N]]))},{}),l=a.reduce(function(w,N){return yr(yr({},w),{},RE({},N,{from:e[N],velocity:0,to:t[N]}))},{}),d=-1,f,m,p=function(){return null},v=function(){return xh(function(N,E){return E.from},l)},y=function(){return!Object.values(l).filter(ME).length},x=function(N){f||(f=N);var E=N-f,j=E/n.dt;l=e2e(n,l,j),i(yr(yr(yr({},e),t),v())),f=N,y()||(d=requestAnimationFrame(p))},b=function(N){m||(m=N);var E=(N-m)/r,j=xh(function(T,C){return _y.apply(void 0,DB(C).concat([n(E)]))},o);if(i(yr(yr(yr({},e),t),j)),E<1)d=requestAnimationFrame(p);else{var O=xh(function(T,C){return _y.apply(void 0,DB(C).concat([n(1)]))},o);i(yr(yr(yr({},e),t),O))}};return p=n.isStepper?x:b,function(){return requestAnimationFrame(p),function(){cancelAnimationFrame(d)}}});function Hu(e){"@babel/helpers - typeof";return Hu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hu(e)}var n2e=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function r2e(e,t){if(e==null)return{};var n=i2e(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function i2e(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,a;for(a=0;a<r.length;a++)i=r[a],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function ej(e){return l2e(e)||o2e(e)||s2e(e)||a2e()}function a2e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function s2e(e,t){if(e){if(typeof e=="string")return kE(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kE(e,t)}}function o2e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function l2e(e){if(Array.isArray(e))return kE(e)}function kE(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function $B(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Gi(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$B(Object(n),!0).forEach(function(r){ih(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$B(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ih(e,t,n){return t=G7(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c2e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u2e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,G7(r.key),r)}}function d2e(e,t,n){return t&&u2e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function G7(e){var t=f2e(e,"string");return Hu(t)==="symbol"?t:String(t)}function f2e(e,t){if(Hu(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Hu(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function h2e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&DE(e,t)}function DE(e,t){return DE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},DE(e,t)}function m2e(e){var t=p2e();return function(){var r=Sy(e),i;if(t){var a=Sy(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return IE(this,i)}}function IE(e,t){if(t&&(Hu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $E(e)}function $E(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p2e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Sy(e){return Sy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Sy(e)}var ca=(function(e){h2e(n,e);var t=m2e(n);function n(r,i){var a;c2e(this,n),a=t.call(this,r,i);var o=a.props,l=o.isActive,d=o.attributeName,f=o.from,m=o.to,p=o.steps,v=o.children,y=o.duration;if(a.handleStyleChange=a.handleStyleChange.bind($E(a)),a.changeStyle=a.changeStyle.bind($E(a)),!l||y<=0)return a.state={style:{}},typeof v=="function"&&(a.state={style:m}),IE(a);if(p&&p.length)a.state={style:p[0].style};else if(f){if(typeof v=="function")return a.state={style:f},IE(a);a.state={style:d?ih({},d,f):f}}else a.state={style:{}};return a}return d2e(n,[{key:"componentDidMount",value:function(){var i=this.props,a=i.isActive,o=i.canBegin;this.mounted=!0,!(!a||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var a=this.props,o=a.isActive,l=a.canBegin,d=a.attributeName,f=a.shouldReAnimate,m=a.to,p=a.from,v=this.state.style;if(l){if(!o){var y={style:d?ih({},d,m):m};this.state&&v&&(d&&v[d]!==m||!d&&v!==m)&&this.setState(y);return}if(!(wSe(i.to,m)&&i.canBegin&&i.isActive)){var x=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var b=x||f?p:i.to;if(this.state&&v){var w={style:d?ih({},d,b):b};(d&&v[d]!==b||!d&&v!==b)&&this.setState(w)}this.runAnimation(Gi(Gi({},this.props),{},{from:b,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var a=this,o=i.from,l=i.to,d=i.duration,f=i.easing,m=i.begin,p=i.onAnimationEnd,v=i.onAnimationStart,y=t2e(o,l,VSe(f),d,this.changeStyle),x=function(){a.stopJSAnimation=y()};this.manager.start([v,m,x,d,p])}},{key:"runStepAnimation",value:function(i){var a=this,o=i.steps,l=i.begin,d=i.onAnimationStart,f=o[0],m=f.style,p=f.duration,v=p===void 0?0:p,y=function(b,w,N){if(N===0)return b;var E=w.duration,j=w.easing,O=j===void 0?"ease":j,T=w.style,C=w.properties,R=w.onAnimationEnd,P=N>0?o[N-1]:w,k=C||Object.keys(T);if(typeof O=="function"||O==="spring")return[].concat(ej(b),[a.runJSAnimation.bind(a,{from:P.style,to:T,duration:E,easing:O}),E]);var $=PB(k,E,O),B=Gi(Gi(Gi({},P.style),T),{},{transition:$});return[].concat(ej(b),[B,E,R]).filter(PSe)};return this.manager.start([d].concat(ej(o.reduce(y,[m,Math.max(v,l)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=TSe());var a=i.begin,o=i.duration,l=i.attributeName,d=i.to,f=i.easing,m=i.onAnimationStart,p=i.onAnimationEnd,v=i.steps,y=i.children,x=this.manager;if(this.unSubscribe=x.subscribe(this.handleStyleChange),typeof f=="function"||typeof y=="function"||f==="spring"){this.runJSAnimation(i);return}if(v.length>1){this.runStepAnimation(i);return}var b=l?ih({},l,d):d,w=PB(Object.keys(b),o,f);x.start([m,a,Gi(Gi({},b),{},{transition:w}),o,p])}},{key:"render",value:function(){var i=this.props,a=i.children;i.begin;var o=i.duration;i.attributeName,i.easing;var l=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var d=r2e(i,n2e),f=_.Children.count(a),m=this.state.style;if(typeof a=="function")return a(m);if(!l||f===0||o<=0)return a;var p=function(y){var x=y.props,b=x.style,w=b===void 0?{}:b,N=x.className,E=_.cloneElement(y,Gi(Gi({},d),{},{style:Gi(Gi({},w),m),className:N}));return E};return f===1?p(_.Children.only(a)):q.createElement("div",null,_.Children.map(a,function(v){return p(v)}))}}]),n})(_.PureComponent);ca.displayName="Animate";ca.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};ca.propTypes={from:Wt.oneOfType([Wt.object,Wt.string]),to:Wt.oneOfType([Wt.object,Wt.string]),attributeName:Wt.string,duration:Wt.number,begin:Wt.number,easing:Wt.oneOfType([Wt.string,Wt.func]),steps:Wt.arrayOf(Wt.shape({duration:Wt.number.isRequired,style:Wt.object.isRequired,easing:Wt.oneOfType([Wt.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Wt.func]),properties:Wt.arrayOf("string"),onAnimationEnd:Wt.func})),children:Wt.oneOfType([Wt.node,Wt.func]),isActive:Wt.bool,canBegin:Wt.bool,onAnimationEnd:Wt.func,shouldReAnimate:Wt.bool,onAnimationStart:Wt.func,onAnimationReStart:Wt.func};function vm(e){"@babel/helpers - typeof";return vm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vm(e)}function jy(){return jy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jy.apply(this,arguments)}function g2e(e,t){return x2e(e)||b2e(e,t)||y2e(e,t)||v2e()}function v2e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function y2e(e,t){if(e){if(typeof e=="string")return LB(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return LB(e,t)}}function LB(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function b2e(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,o,l=[],d=!0,f=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(d=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);d=!0);}catch(m){f=!0,i=m}finally{try{if(!d&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(f)throw i}}return l}}function x2e(e){if(Array.isArray(e))return e}function BB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function qB(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?BB(Object(n),!0).forEach(function(r){w2e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):BB(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function w2e(e,t,n){return t=_2e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _2e(e){var t=S2e(e,"string");return vm(t)=="symbol"?t:t+""}function S2e(e,t){if(vm(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(vm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zB=function(t,n,r,i,a){var o=Math.min(Math.abs(r)/2,Math.abs(i)/2),l=i>=0?1:-1,d=r>=0?1:-1,f=i>=0&&r>=0||i<0&&r<0?1:0,m;if(o>0&&a instanceof Array){for(var p=[0,0,0,0],v=0,y=4;v<y;v++)p[v]=a[v]>o?o:a[v];m="M".concat(t,",").concat(n+l*p[0]),p[0]>0&&(m+="A ".concat(p[0],",").concat(p[0],",0,0,").concat(f,",").concat(t+d*p[0],",").concat(n)),m+="L ".concat(t+r-d*p[1],",").concat(n),p[1]>0&&(m+="A ".concat(p[1],",").concat(p[1],",0,0,").concat(f,`,
        `).concat(t+r,",").concat(n+l*p[1])),m+="L ".concat(t+r,",").concat(n+i-l*p[2]),p[2]>0&&(m+="A ".concat(p[2],",").concat(p[2],",0,0,").concat(f,`,
        `).concat(t+r-d*p[2],",").concat(n+i)),m+="L ".concat(t+d*p[3],",").concat(n+i),p[3]>0&&(m+="A ".concat(p[3],",").concat(p[3],",0,0,").concat(f,`,
        `).concat(t,",").concat(n+i-l*p[3])),m+="Z"}else if(o>0&&a===+a&&a>0){var x=Math.min(o,a);m="M ".concat(t,",").concat(n+l*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(f,",").concat(t+d*x,",").concat(n,`
            L `).concat(t+r-d*x,",").concat(n,`
            A `).concat(x,",").concat(x,",0,0,").concat(f,",").concat(t+r,",").concat(n+l*x,`
            L `).concat(t+r,",").concat(n+i-l*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(f,",").concat(t+r-d*x,",").concat(n+i,`
            L `).concat(t+d*x,",").concat(n+i,`
            A `).concat(x,",").concat(x,",0,0,").concat(f,",").concat(t,",").concat(n+i-l*x," Z")}else m="M ".concat(t,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return m},j2e=function(t,n){if(!t||!n)return!1;var r=t.x,i=t.y,a=n.x,o=n.y,l=n.width,d=n.height;if(Math.abs(l)>0&&Math.abs(d)>0){var f=Math.min(a,a+l),m=Math.max(a,a+l),p=Math.min(o,o+d),v=Math.max(o,o+d);return r>=f&&r<=m&&i>=p&&i<=v}return!1},N2e={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},CO=function(t){var n=qB(qB({},N2e),t),r=_.useRef(),i=_.useState(-1),a=g2e(i,2),o=a[0],l=a[1];_.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var O=r.current.getTotalLength();O&&l(O)}catch{}},[]);var d=n.x,f=n.y,m=n.width,p=n.height,v=n.radius,y=n.className,x=n.animationEasing,b=n.animationDuration,w=n.animationBegin,N=n.isAnimationActive,E=n.isUpdateAnimationActive;if(d!==+d||f!==+f||m!==+m||p!==+p||m===0||p===0)return null;var j=Mt("recharts-rectangle",y);return E?q.createElement(ca,{canBegin:o>0,from:{width:m,height:p,x:d,y:f},to:{width:m,height:p,x:d,y:f},duration:b,animationEasing:x,isActive:E},function(O){var T=O.width,C=O.height,R=O.x,P=O.y;return q.createElement(ca,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:w,duration:b,isActive:N,easing:x},q.createElement("path",jy({},St(n,!0),{className:j,d:zB(R,P,T,C,v),ref:r})))}):q.createElement("path",jy({},St(n,!0),{className:j,d:zB(d,f,m,p,v)}))};function LE(){return LE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},LE.apply(this,arguments)}var X0=function(t){var n=t.cx,r=t.cy,i=t.r,a=t.className,o=Mt("recharts-dot",a);return n===+n&&r===+r&&i===+i?_.createElement("circle",LE({},St(t,!1),Kv(t),{className:o,cx:n,cy:r,r:i})):null};function ym(e){"@babel/helpers - typeof";return ym=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ym(e)}var E2e=["x","y","top","left","width","height","className"];function BE(){return BE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},BE.apply(this,arguments)}function FB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function A2e(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?FB(Object(n),!0).forEach(function(r){T2e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FB(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function T2e(e,t,n){return t=O2e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function O2e(e){var t=C2e(e,"string");return ym(t)=="symbol"?t:t+""}function C2e(e,t){if(ym(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(ym(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function R2e(e,t){if(e==null)return{};var n=P2e(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function P2e(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var M2e=function(t,n,r,i,a,o){return"M".concat(t,",").concat(a,"v").concat(i,"M").concat(o,",").concat(n,"h").concat(r)},k2e=function(t){var n=t.x,r=n===void 0?0:n,i=t.y,a=i===void 0?0:i,o=t.top,l=o===void 0?0:o,d=t.left,f=d===void 0?0:d,m=t.width,p=m===void 0?0:m,v=t.height,y=v===void 0?0:v,x=t.className,b=R2e(t,E2e),w=A2e({x:r,y:a,top:l,left:f,width:p,height:y},b);return!Ce(r)||!Ce(a)||!Ce(p)||!Ce(y)||!Ce(l)||!Ce(f)?null:q.createElement("path",BE({},St(w,!0),{className:Mt("recharts-cross",x),d:M2e(r,a,p,y,l,f)}))},tj,UB;function D2e(){if(UB)return tj;UB=1;var e=hH(),t=e(Object.getPrototypeOf,Object);return tj=t,tj}var nj,VB;function I2e(){if(VB)return nj;VB=1;var e=ws(),t=D2e(),n=_s(),r="[object Object]",i=Function.prototype,a=Object.prototype,o=i.toString,l=a.hasOwnProperty,d=o.call(Object);function f(m){if(!n(m)||e(m)!=r)return!1;var p=t(m);if(p===null)return!0;var v=l.call(p,"constructor")&&p.constructor;return typeof v=="function"&&v instanceof v&&o.call(v)==d}return nj=f,nj}var $2e=I2e();const L2e=sn($2e);var rj,HB;function B2e(){if(HB)return rj;HB=1;var e=ws(),t=_s(),n="[object Boolean]";function r(i){return i===!0||i===!1||t(i)&&e(i)==n}return rj=r,rj}var q2e=B2e();const z2e=sn(q2e);function bm(e){"@babel/helpers - typeof";return bm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bm(e)}function Ny(){return Ny=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ny.apply(this,arguments)}function F2e(e,t){return G2e(e)||H2e(e,t)||V2e(e,t)||U2e()}function U2e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function V2e(e,t){if(e){if(typeof e=="string")return GB(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return GB(e,t)}}function GB(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function H2e(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,o,l=[],d=!0,f=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(d=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);d=!0);}catch(m){f=!0,i=m}finally{try{if(!d&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(f)throw i}}return l}}function G2e(e){if(Array.isArray(e))return e}function KB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function WB(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?KB(Object(n),!0).forEach(function(r){K2e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):KB(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function K2e(e,t,n){return t=W2e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function W2e(e){var t=Y2e(e,"string");return bm(t)=="symbol"?t:t+""}function Y2e(e,t){if(bm(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(bm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var YB=function(t,n,r,i,a){var o=r-i,l;return l="M ".concat(t,",").concat(n),l+="L ".concat(t+r,",").concat(n),l+="L ".concat(t+r-o/2,",").concat(n+a),l+="L ".concat(t+r-o/2-i,",").concat(n+a),l+="L ".concat(t,",").concat(n," Z"),l},X2e={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Q2e=function(t){var n=WB(WB({},X2e),t),r=_.useRef(),i=_.useState(-1),a=F2e(i,2),o=a[0],l=a[1];_.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var j=r.current.getTotalLength();j&&l(j)}catch{}},[]);var d=n.x,f=n.y,m=n.upperWidth,p=n.lowerWidth,v=n.height,y=n.className,x=n.animationEasing,b=n.animationDuration,w=n.animationBegin,N=n.isUpdateAnimationActive;if(d!==+d||f!==+f||m!==+m||p!==+p||v!==+v||m===0&&p===0||v===0)return null;var E=Mt("recharts-trapezoid",y);return N?q.createElement(ca,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:v,x:d,y:f},to:{upperWidth:m,lowerWidth:p,height:v,x:d,y:f},duration:b,animationEasing:x,isActive:N},function(j){var O=j.upperWidth,T=j.lowerWidth,C=j.height,R=j.x,P=j.y;return q.createElement(ca,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:w,duration:b,easing:x},q.createElement("path",Ny({},St(n,!0),{className:E,d:YB(R,P,O,T,C),ref:r})))}):q.createElement("g",null,q.createElement("path",Ny({},St(n,!0),{className:E,d:YB(d,f,m,p,v)})))},J2e=["option","shapeType","propTransformer","activeClassName","isActive"];function xm(e){"@babel/helpers - typeof";return xm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xm(e)}function Z2e(e,t){if(e==null)return{};var n=eje(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function eje(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function XB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ey(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?XB(Object(n),!0).forEach(function(r){tje(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):XB(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function tje(e,t,n){return t=nje(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nje(e){var t=rje(e,"string");return xm(t)=="symbol"?t:t+""}function rje(e,t){if(xm(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(xm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ije(e,t){return Ey(Ey({},t),e)}function aje(e,t){return e==="symbols"}function QB(e){var t=e.shapeType,n=e.elementProps;switch(t){case"rectangle":return q.createElement(CO,n);case"trapezoid":return q.createElement(Q2e,n);case"sector":return q.createElement(B7,n);case"symbols":if(aje(t))return q.createElement(I0,n);break;default:return null}}function sje(e){return _.isValidElement(e)?e.props:e}function qE(e){var t=e.option,n=e.shapeType,r=e.propTransformer,i=r===void 0?ije:r,a=e.activeClassName,o=a===void 0?"recharts-active-shape":a,l=e.isActive,d=Z2e(e,J2e),f;if(_.isValidElement(t))f=_.cloneElement(t,Ey(Ey({},d),sje(t)));else if(Nt(t))f=t(d);else if(L2e(t)&&!z2e(t)){var m=i(t,d);f=q.createElement(QB,{shapeType:n,elementProps:m})}else{var p=d;f=q.createElement(QB,{shapeType:n,elementProps:p})}return l?q.createElement(Gt,{className:o},f):f}function Q0(e,t){return t!=null&&"trapezoids"in e.props}function J0(e,t){return t!=null&&"sectors"in e.props}function wm(e,t){return t!=null&&"points"in e.props}function oje(e,t){var n,r,i=e.x===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.x)||e.x===t.x,a=e.y===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.y)||e.y===t.y;return i&&a}function lje(e,t){var n=e.endAngle===t.endAngle,r=e.startAngle===t.startAngle;return n&&r}function cje(e,t){var n=e.x===t.x,r=e.y===t.y,i=e.z===t.z;return n&&r&&i}function uje(e,t){var n;return Q0(e,t)?n=oje:J0(e,t)?n=lje:wm(e,t)&&(n=cje),n}function dje(e,t){var n;return Q0(e,t)?n="trapezoids":J0(e,t)?n="sectors":wm(e,t)&&(n="points"),n}function fje(e,t){if(Q0(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(J0(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return wm(e,t)?t.payload:{}}function hje(e){var t=e.activeTooltipItem,n=e.graphicalItem,r=e.itemData,i=dje(n,t),a=fje(n,t),o=r.filter(function(d,f){var m=Ll(a,d),p=n.props[i].filter(function(x){var b=uje(n,t);return b(x,t)}),v=n.props[i].indexOf(p[p.length-1]),y=f===v;return m&&y}),l=r.indexOf(o[o.length-1]);return l}var ij,JB;function mje(){if(JB)return ij;JB=1;var e=Math.ceil,t=Math.max;function n(r,i,a,o){for(var l=-1,d=t(e((i-r)/(a||1)),0),f=Array(d);d--;)f[o?d:++l]=r,r+=a;return f}return ij=n,ij}var aj,ZB;function K7(){if(ZB)return aj;ZB=1;var e=OH(),t=1/0,n=17976931348623157e292;function r(i){if(!i)return i===0?i:0;if(i=e(i),i===t||i===-t){var a=i<0?-1:1;return a*n}return i===i?i:0}return aj=r,aj}var sj,eq;function pje(){if(eq)return sj;eq=1;var e=mje(),t=B0(),n=K7();function r(i){return function(a,o,l){return l&&typeof l!="number"&&t(a,o,l)&&(o=l=void 0),a=n(a),o===void 0?(o=a,a=0):o=n(o),l=l===void 0?a<o?1:-1:n(l),e(a,o,l,i)}}return sj=r,sj}var oj,tq;function gje(){if(tq)return oj;tq=1;var e=pje(),t=e();return oj=t,oj}var vje=gje();const Ay=sn(vje);function _m(e){"@babel/helpers - typeof";return _m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_m(e)}function nq(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function rq(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?nq(Object(n),!0).forEach(function(r){W7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nq(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function W7(e,t,n){return t=yje(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yje(e){var t=bje(e,"string");return _m(t)=="symbol"?t:t+""}function bje(e,t){if(_m(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(_m(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var xje=["Webkit","Moz","O","ms"],wje=function(t,n){var r=t.replace(/(\w)/,function(a){return a.toUpperCase()}),i=xje.reduce(function(a,o){return rq(rq({},a),{},W7({},o+r,n))},{});return i[t]=n,i};function Gu(e){"@babel/helpers - typeof";return Gu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gu(e)}function Ty(){return Ty=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ty.apply(this,arguments)}function iq(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function lj(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?iq(Object(n),!0).forEach(function(r){oi(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iq(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function _je(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function aq(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,X7(r.key),r)}}function Sje(e,t,n){return t&&aq(e.prototype,t),n&&aq(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function jje(e,t,n){return t=Oy(t),Nje(e,Y7()?Reflect.construct(t,n||[],Oy(e).constructor):t.apply(e,n))}function Nje(e,t){if(t&&(Gu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Eje(e)}function Eje(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Y7(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Y7=function(){return!!e})()}function Oy(e){return Oy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Oy(e)}function Aje(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&zE(e,t)}function zE(e,t){return zE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},zE(e,t)}function oi(e,t,n){return t=X7(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function X7(e){var t=Tje(e,"string");return Gu(t)=="symbol"?t:t+""}function Tje(e,t){if(Gu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Gu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Oje=function(t){var n=t.data,r=t.startIndex,i=t.endIndex,a=t.x,o=t.width,l=t.travellerWidth;if(!n||!n.length)return{};var d=n.length,f=yh().domain(Ay(0,d)).range([a,a+o-l]),m=f.domain().map(function(p){return f(p)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:f(r),endX:f(i),scale:f,scaleValues:m}},sq=function(t){return t.changedTouches&&!!t.changedTouches.length},Ku=(function(e){function t(n){var r;return _je(this,t),r=jje(this,t,[n]),oi(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),oi(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),oi(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,a=i.endIndex,o=i.onDragEnd,l=i.startIndex;o?.({endIndex:a,startIndex:l})}),r.detachDragEndListener()}),oi(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),oi(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),oi(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),oi(r,"handleSlideDragStart",function(i){var a=sq(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return Aje(t,e),Sje(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,a=r.endX,o=this.state.scaleValues,l=this.props,d=l.gap,f=l.data,m=f.length-1,p=Math.min(i,a),v=Math.max(i,a),y=t.getIndexInRange(o,p),x=t.getIndexInRange(o,v);return{startIndex:y-y%d,endIndex:x===m?m:x-x%d}}},{key:"getTextOfTick",value:function(r){var i=this.props,a=i.data,o=i.tickFormatter,l=i.dataKey,d=nr(a[r],l,r);return Nt(o)?o(d,r):d}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,a=i.slideMoveStartX,o=i.startX,l=i.endX,d=this.props,f=d.x,m=d.width,p=d.travellerWidth,v=d.startIndex,y=d.endIndex,x=d.onChange,b=r.pageX-a;b>0?b=Math.min(b,f+m-p-l,f+m-p-o):b<0&&(b=Math.max(b,f-o,f-l));var w=this.getIndex({startX:o+b,endX:l+b});(w.startIndex!==v||w.endIndex!==y)&&x&&x(w),this.setState({startX:o+b,endX:l+b,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var a=sq(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,a=i.brushMoveStartX,o=i.movingTravellerId,l=i.endX,d=i.startX,f=this.state[o],m=this.props,p=m.x,v=m.width,y=m.travellerWidth,x=m.onChange,b=m.gap,w=m.data,N={startX:this.state.startX,endX:this.state.endX},E=r.pageX-a;E>0?E=Math.min(E,p+v-y-f):E<0&&(E=Math.max(E,p-f)),N[o]=f+E;var j=this.getIndex(N),O=j.startIndex,T=j.endIndex,C=function(){var P=w.length-1;return o==="startX"&&(l>d?O%b===0:T%b===0)||l<d&&T===P||o==="endX"&&(l>d?T%b===0:O%b===0)||l>d&&T===P};this.setState(oi(oi({},o,f+E),"brushMoveStartX",r.pageX),function(){x&&C()&&x(j)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var a=this,o=this.state,l=o.scaleValues,d=o.startX,f=o.endX,m=this.state[i],p=l.indexOf(m);if(p!==-1){var v=p+r;if(!(v===-1||v>=l.length)){var y=l[v];i==="startX"&&y>=f||i==="endX"&&y<=d||this.setState(oi({},i,y),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,a=r.y,o=r.width,l=r.height,d=r.fill,f=r.stroke;return q.createElement("rect",{stroke:f,fill:d,x:i,y:a,width:o,height:l})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,a=r.y,o=r.width,l=r.height,d=r.data,f=r.children,m=r.padding,p=_.Children.only(f);return p?q.cloneElement(p,{x:i,y:a,width:o,height:l,margin:m,compact:!0,data:d}):null}},{key:"renderTravellerLayer",value:function(r,i){var a,o,l=this,d=this.props,f=d.y,m=d.travellerWidth,p=d.height,v=d.traveller,y=d.ariaLabel,x=d.data,b=d.startIndex,w=d.endIndex,N=Math.max(r,this.props.x),E=lj(lj({},St(this.props,!1)),{},{x:N,y:f,width:m,height:p}),j=y||"Min value: ".concat((a=x[b])===null||a===void 0?void 0:a.name,", Max value: ").concat((o=x[w])===null||o===void 0?void 0:o.name);return q.createElement(Gt,{tabIndex:0,role:"slider","aria-label":j,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(T){["ArrowLeft","ArrowRight"].includes(T.key)&&(T.preventDefault(),T.stopPropagation(),l.handleTravellerMoveKeyboard(T.key==="ArrowRight"?1:-1,i))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(v,E))}},{key:"renderSlide",value:function(r,i){var a=this.props,o=a.y,l=a.height,d=a.stroke,f=a.travellerWidth,m=Math.min(r,i)+f,p=Math.max(Math.abs(i-r)-f,0);return q.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:d,fillOpacity:.2,x:m,y:o,width:p,height:l})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,a=r.endIndex,o=r.y,l=r.height,d=r.travellerWidth,f=r.stroke,m=this.state,p=m.startX,v=m.endX,y=5,x={pointerEvents:"none",fill:f};return q.createElement(Gt,{className:"recharts-brush-texts"},q.createElement(iy,Ty({textAnchor:"end",verticalAnchor:"middle",x:Math.min(p,v)-y,y:o+l/2},x),this.getTextOfTick(i)),q.createElement(iy,Ty({textAnchor:"start",verticalAnchor:"middle",x:Math.max(p,v)+d+y,y:o+l/2},x),this.getTextOfTick(a)))}},{key:"render",value:function(){var r=this.props,i=r.data,a=r.className,o=r.children,l=r.x,d=r.y,f=r.width,m=r.height,p=r.alwaysShowText,v=this.state,y=v.startX,x=v.endX,b=v.isTextActive,w=v.isSlideMoving,N=v.isTravellerMoving,E=v.isTravellerFocused;if(!i||!i.length||!Ce(l)||!Ce(d)||!Ce(f)||!Ce(m)||f<=0||m<=0)return null;var j=Mt("recharts-brush",a),O=q.Children.count(o)===1,T=wje("userSelect","none");return q.createElement(Gt,{className:j,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:T},this.renderBackground(),O&&this.renderPanorama(),this.renderSlide(y,x),this.renderTravellerLayer(y,"startX"),this.renderTravellerLayer(x,"endX"),(b||w||N||E||p)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,a=r.y,o=r.width,l=r.height,d=r.stroke,f=Math.floor(a+l/2)-1;return q.createElement(q.Fragment,null,q.createElement("rect",{x:i,y:a,width:o,height:l,fill:d,stroke:"none"}),q.createElement("line",{x1:i+1,y1:f,x2:i+o-1,y2:f,fill:"none",stroke:"#fff"}),q.createElement("line",{x1:i+1,y1:f+2,x2:i+o-1,y2:f+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var a;return q.isValidElement(r)?a=q.cloneElement(r,i):Nt(r)?a=r(i):a=t.renderDefaultTraveller(i),a}},{key:"getDerivedStateFromProps",value:function(r,i){var a=r.data,o=r.width,l=r.x,d=r.travellerWidth,f=r.updateId,m=r.startIndex,p=r.endIndex;if(a!==i.prevData||f!==i.prevUpdateId)return lj({prevData:a,prevTravellerWidth:d,prevUpdateId:f,prevX:l,prevWidth:o},a&&a.length?Oje({data:a,width:o,x:l,travellerWidth:d,startIndex:m,endIndex:p}):{scale:null,scaleValues:null});if(i.scale&&(o!==i.prevWidth||l!==i.prevX||d!==i.prevTravellerWidth)){i.scale.range([l,l+o-d]);var v=i.scale.domain().map(function(y){return i.scale(y)});return{prevData:a,prevTravellerWidth:d,prevUpdateId:f,prevX:l,prevWidth:o,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:v}}return null}},{key:"getIndexInRange",value:function(r,i){for(var a=r.length,o=0,l=a-1;l-o>1;){var d=Math.floor((o+l)/2);r[d]>i?l=d:o=d}return i>=r[l]?l:o}}])})(_.PureComponent);oi(Ku,"displayName","Brush");oi(Ku,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var cj,oq;function Cje(){if(oq)return cj;oq=1;var e=nO();function t(n,r){var i;return e(n,function(a,o,l){return i=r(a,o,l),!i}),!!i}return cj=t,cj}var uj,lq;function Rje(){if(lq)return uj;lq=1;var e=sH(),t=To(),n=Cje(),r=Xr(),i=B0();function a(o,l,d){var f=r(o)?e:n;return d&&i(o,l,d)&&(l=void 0),f(o,t(l,3))}return uj=a,uj}var Pje=Rje();const Mje=sn(Pje);var Oa=function(t,n){var r=t.alwaysShow,i=t.ifOverflow;return r&&(i="extendDomain"),i===n},dj,cq;function kje(){if(cq)return dj;cq=1;var e=jH();function t(n,r,i){r=="__proto__"&&e?e(n,r,{configurable:!0,enumerable:!0,value:i,writable:!0}):n[r]=i}return dj=t,dj}var fj,uq;function Dje(){if(uq)return fj;uq=1;var e=kje(),t=_H(),n=To();function r(i,a){var o={};return a=n(a,3),t(i,function(l,d,f){e(o,d,a(l,d,f))}),o}return fj=r,fj}var Ije=Dje();const $je=sn(Ije);var hj,dq;function Lje(){if(dq)return hj;dq=1;function e(t,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(!n(t[r],r,t))return!1;return!0}return hj=e,hj}var mj,fq;function Bje(){if(fq)return mj;fq=1;var e=nO();function t(n,r){var i=!0;return e(n,function(a,o,l){return i=!!r(a,o,l),i}),i}return mj=t,mj}var pj,hq;function qje(){if(hq)return pj;hq=1;var e=Lje(),t=Bje(),n=To(),r=Xr(),i=B0();function a(o,l,d){var f=r(o)?e:t;return d&&i(o,l,d)&&(l=void 0),f(o,n(l,3))}return pj=a,pj}var zje=qje();const Q7=sn(zje);var Fje=["x","y"];function Sm(e){"@babel/helpers - typeof";return Sm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sm(e)}function FE(){return FE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},FE.apply(this,arguments)}function mq(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ff(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?mq(Object(n),!0).forEach(function(r){Uje(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mq(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Uje(e,t,n){return t=Vje(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Vje(e){var t=Hje(e,"string");return Sm(t)=="symbol"?t:t+""}function Hje(e,t){if(Sm(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Sm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Gje(e,t){if(e==null)return{};var n=Kje(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Kje(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function Wje(e,t){var n=e.x,r=e.y,i=Gje(e,Fje),a="".concat(n),o=parseInt(a,10),l="".concat(r),d=parseInt(l,10),f="".concat(t.height||i.height),m=parseInt(f,10),p="".concat(t.width||i.width),v=parseInt(p,10);return Ff(Ff(Ff(Ff(Ff({},t),i),o?{x:o}:{}),d?{y:d}:{}),{},{height:m,width:v,name:t.name,radius:t.radius})}function pq(e){return q.createElement(qE,FE({shapeType:"rectangle",propTransformer:Wje,activeClassName:"recharts-active-bar"},e))}var Yje=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof t=="number")return t;var a=Ce(r)||ape(r);return a?t(r,i):(a||ql(),n)}},Xje=["value","background"],J7;function Wu(e){"@babel/helpers - typeof";return Wu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wu(e)}function Qje(e,t){if(e==null)return{};var n=Jje(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Jje(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function Cy(){return Cy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Cy.apply(this,arguments)}function gq(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Un(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?gq(Object(n),!0).forEach(function(r){co(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gq(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Zje(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vq(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,eG(r.key),r)}}function eNe(e,t,n){return t&&vq(e.prototype,t),n&&vq(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function tNe(e,t,n){return t=Ry(t),nNe(e,Z7()?Reflect.construct(t,n||[],Ry(e).constructor):t.apply(e,n))}function nNe(e,t){if(t&&(Wu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rNe(e)}function rNe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Z7(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Z7=function(){return!!e})()}function Ry(e){return Ry=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ry(e)}function iNe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&UE(e,t)}function UE(e,t){return UE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},UE(e,t)}function co(e,t,n){return t=eG(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eG(e){var t=aNe(e,"string");return Wu(t)=="symbol"?t:t+""}function aNe(e,t){if(Wu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Wu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var hi=(function(e){function t(){var n;Zje(this,t);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=tNe(this,t,[].concat(i)),co(n,"state",{isAnimationFinished:!1}),co(n,"id",Gl("recharts-bar-")),co(n,"handleAnimationEnd",function(){var o=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),o&&o()}),co(n,"handleAnimationStart",function(){var o=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),o&&o()}),n}return iNe(t,e),eNe(t,[{key:"renderRectanglesStatically",value:function(r){var i=this,a=this.props,o=a.shape,l=a.dataKey,d=a.activeIndex,f=a.activeBar,m=St(this.props,!1);return r&&r.map(function(p,v){var y=v===d,x=y?f:o,b=Un(Un(Un({},m),p),{},{isActive:y,option:x,index:v,dataKey:l,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return q.createElement(Gt,Cy({className:"recharts-bar-rectangle"},Gh(i.props,p,v),{key:"rectangle-".concat(p?.x,"-").concat(p?.y,"-").concat(p?.value,"-").concat(v)}),q.createElement(pq,b))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,a=i.data,o=i.layout,l=i.isAnimationActive,d=i.animationBegin,f=i.animationDuration,m=i.animationEasing,p=i.animationId,v=this.state.prevData;return q.createElement(ca,{begin:d,duration:f,isActive:l,easing:m,from:{t:0},to:{t:1},key:"bar-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(y){var x=y.t,b=a.map(function(w,N){var E=v&&v[N];if(E){var j=$n(E.x,w.x),O=$n(E.y,w.y),T=$n(E.width,w.width),C=$n(E.height,w.height);return Un(Un({},w),{},{x:j(x),y:O(x),width:T(x),height:C(x)})}if(o==="horizontal"){var R=$n(0,w.height),P=R(x);return Un(Un({},w),{},{y:w.y+w.height-P,height:P})}var k=$n(0,w.width),$=k(x);return Un(Un({},w),{},{width:$})});return q.createElement(Gt,null,r.renderRectanglesStatically(b))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,a=r.isAnimationActive,o=this.state.prevData;return a&&i&&i.length&&(!o||!Ll(o,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,a=i.data,o=i.dataKey,l=i.activeIndex,d=St(this.props.background,!1);return a.map(function(f,m){f.value;var p=f.background,v=Qje(f,Xje);if(!p)return null;var y=Un(Un(Un(Un(Un({},v),{},{fill:"#eee"},p),d),Gh(r.props,f,m)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:o,index:m,className:"recharts-bar-background-rectangle"});return q.createElement(pq,Cy({key:"background-bar-".concat(m),option:r.props.background,isActive:m===l},y))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.data,l=a.xAxis,d=a.yAxis,f=a.layout,m=a.children,p=Wr(m,$d);if(!p)return null;var v=f==="vertical"?o[0].height/2:o[0].width/2,y=function(w,N){var E=Array.isArray(w.value)?w.value[1]:w.value;return{x:w.x,y:w.y,value:E,errorVal:nr(w,N)}},x={clipPath:r?"url(#clipPath-".concat(i,")"):null};return q.createElement(Gt,x,p.map(function(b){return q.cloneElement(b,{key:"error-bar-".concat(i,"-").concat(b.props.dataKey),data:o,xAxis:l,yAxis:d,layout:f,offset:v,dataPointFormatter:y})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,a=r.data,o=r.className,l=r.xAxis,d=r.yAxis,f=r.left,m=r.top,p=r.width,v=r.height,y=r.isAnimationActive,x=r.background,b=r.id;if(i||!a||!a.length)return null;var w=this.state.isAnimationFinished,N=Mt("recharts-bar",o),E=l&&l.allowDataOverflow,j=d&&d.allowDataOverflow,O=E||j,T=xt(b)?this.id:b;return q.createElement(Gt,{className:N},E||j?q.createElement("defs",null,q.createElement("clipPath",{id:"clipPath-".concat(T)},q.createElement("rect",{x:E?f:f-p/2,y:j?m:m-v/2,width:E?p:p*2,height:j?v:v*2}))):null,q.createElement(Gt,{className:"recharts-bar-rectangles",clipPath:O?"url(#clipPath-".concat(T,")"):null},x?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(O,T),(!y||w)&&Ta.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])})(_.PureComponent);J7=hi;co(hi,"displayName","Bar");co(hi,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Oo.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});co(hi,"getComposedData",function(e){var t=e.props,n=e.item,r=e.barPosition,i=e.bandSize,a=e.xAxis,o=e.yAxis,l=e.xAxisTicks,d=e.yAxisTicks,f=e.stackedData,m=e.dataStartIndex,p=e.displayedData,v=e.offset,y=j_e(r,n);if(!y)return null;var x=t.layout,b=n.type.defaultProps,w=b!==void 0?Un(Un({},b),n.props):n.props,N=w.dataKey,E=w.children,j=w.minPointSize,O=x==="horizontal"?o:a,T=f?O.scale.domain():null,C=P_e({numericAxis:O}),R=Wr(E,q0),P=p.map(function(k,$){var B,I,F,V,U,D;f?B=N_e(f[m+$],T):(B=nr(k,N),Array.isArray(B)||(B=[C,B]));var G=Yje(j,J7.defaultProps.minPointSize)(B[1],$);if(x==="horizontal"){var z,Y=[o.scale(B[0]),o.scale(B[1])],de=Y[0],H=Y[1];I=eB({axis:a,ticks:l,bandSize:i,offset:y.offset,entry:k,index:$}),F=(z=H??de)!==null&&z!==void 0?z:void 0,V=y.size;var K=de-H;if(U=Number.isNaN(K)?0:K,D={x:I,y:o.y,width:V,height:o.height},Math.abs(G)>0&&Math.abs(U)<Math.abs(G)){var Z=aa(U||G)*(Math.abs(G)-Math.abs(U));F-=Z,U+=Z}}else{var le=[a.scale(B[0]),a.scale(B[1])],be=le[0],ae=le[1];if(I=be,F=eB({axis:o,ticks:d,bandSize:i,offset:y.offset,entry:k,index:$}),V=ae-be,U=y.size,D={x:a.x,y:F,width:a.width,height:U},Math.abs(G)>0&&Math.abs(V)<Math.abs(G)){var J=aa(V||G)*(Math.abs(G)-Math.abs(V));V+=J}}return Un(Un(Un({},k),{},{x:I,y:F,width:V,height:U,value:f?B:B[1],payload:k,background:D},R&&R[$]&&R[$].props),{},{tooltipPayload:[I7(n,k)],tooltipPosition:{x:I+V/2,y:F+U/2}})});return Un({data:P,layout:x},v)});function jm(e){"@babel/helpers - typeof";return jm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jm(e)}function sNe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yq(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,tG(r.key),r)}}function oNe(e,t,n){return t&&yq(e.prototype,t),n&&yq(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function bq(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ji(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?bq(Object(n),!0).forEach(function(r){Z0(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bq(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Z0(e,t,n){return t=tG(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tG(e){var t=lNe(e,"string");return jm(t)=="symbol"?t:t+""}function lNe(e,t){if(jm(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(jm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var RO=function(t,n,r,i,a){var o=t.width,l=t.height,d=t.layout,f=t.children,m=Object.keys(n),p={left:r.left,leftMirror:r.left,right:o-r.right,rightMirror:o-r.right,top:r.top,topMirror:r.top,bottom:l-r.bottom,bottomMirror:l-r.bottom},v=!!li(f,hi);return m.reduce(function(y,x){var b=n[x],w=b.orientation,N=b.domain,E=b.padding,j=E===void 0?{}:E,O=b.mirror,T=b.reversed,C="".concat(w).concat(O?"Mirror":""),R,P,k,$,B;if(b.type==="number"&&(b.padding==="gap"||b.padding==="no-gap")){var I=N[1]-N[0],F=1/0,V=b.categoricalDomain.sort(cpe);if(V.forEach(function(le,be){be>0&&(F=Math.min((le||0)-(V[be-1]||0),F))}),Number.isFinite(F)){var U=F/I,D=b.layout==="vertical"?r.height:r.width;if(b.padding==="gap"&&(R=U*D/2),b.padding==="no-gap"){var G=$l(t.barCategoryGap,U*D),z=U*D/2;R=z-G-(z-G)/D*G}}}i==="xAxis"?P=[r.left+(j.left||0)+(R||0),r.left+r.width-(j.right||0)-(R||0)]:i==="yAxis"?P=d==="horizontal"?[r.top+r.height-(j.bottom||0),r.top+(j.top||0)]:[r.top+(j.top||0)+(R||0),r.top+r.height-(j.bottom||0)-(R||0)]:P=b.range,T&&(P=[P[1],P[0]]);var Y=__e(b,a,v),de=Y.scale,H=Y.realScaleType;de.domain(N).range(P),S_e(de);var K=R_e(de,Ji(Ji({},b),{},{realScaleType:H}));i==="xAxis"?(B=w==="top"&&!O||w==="bottom"&&O,k=r.left,$=p[C]-B*b.height):i==="yAxis"&&(B=w==="left"&&!O||w==="right"&&O,k=p[C]-B*b.width,$=r.top);var Z=Ji(Ji(Ji({},b),K),{},{realScaleType:H,x:k,y:$,scale:de,width:i==="xAxis"?r.width:b.width,height:i==="yAxis"?r.height:b.height});return Z.bandSize=yy(Z,K),!b.hide&&i==="xAxis"?p[C]+=(B?-1:1)*Z.height:b.hide||(p[C]+=(B?-1:1)*Z.width),Ji(Ji({},y),{},Z0({},x,Z))},{})},nG=function(t,n){var r=t.x,i=t.y,a=n.x,o=n.y;return{x:Math.min(r,a),y:Math.min(i,o),width:Math.abs(a-r),height:Math.abs(o-i)}},cNe=function(t){var n=t.x1,r=t.y1,i=t.x2,a=t.y2;return nG({x:n,y:r},{x:i,y:a})},rG=(function(){function e(t){sNe(this,e),this.scale=t}return oNe(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,a=r.position;if(n!==void 0){if(a)switch(a){case"start":return this.scale(n);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(n)+l}default:return this.scale(n)}if(i){var d=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+d}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],a=r[r.length-1];return i<=a?n>=i&&n<=a:n>=a&&n<=i}}],[{key:"create",value:function(n){return new e(n)}}])})();Z0(rG,"EPS",1e-4);var PO=function(t){var n=Object.keys(t).reduce(function(r,i){return Ji(Ji({},r),{},Z0({},i,rG.create(t[i])))},{});return Ji(Ji({},n),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=a.bandAware,l=a.position;return $je(i,function(d,f){return n[f].apply(d,{bandAware:o,position:l})})},isInRange:function(i){return Q7(i,function(a,o){return n[o].isInRange(a)})}})};function uNe(e){return(e%180+180)%180}var dNe=function(t){var n=t.width,r=t.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=uNe(i),o=a*Math.PI/180,l=Math.atan(r/n),d=o>l&&o<Math.PI-l?r/Math.sin(o):n/Math.cos(o);return Math.abs(d)},gj,xq;function fNe(){if(xq)return gj;xq=1;var e=To(),t=Zm(),n=$0();function r(i){return function(a,o,l){var d=Object(a);if(!t(a)){var f=e(o,3);a=n(a),o=function(p){return f(d[p],p,d)}}var m=i(a,o,l);return m>-1?d[f?a[m]:m]:void 0}}return gj=r,gj}var vj,wq;function hNe(){if(wq)return vj;wq=1;var e=K7();function t(n){var r=e(n),i=r%1;return r===r?i?r-i:r:0}return vj=t,vj}var yj,_q;function mNe(){if(_q)return yj;_q=1;var e=vH(),t=To(),n=hNe(),r=Math.max;function i(a,o,l){var d=a==null?0:a.length;if(!d)return-1;var f=l==null?0:n(l);return f<0&&(f=r(d+f,0)),e(a,t(o,3),f)}return yj=i,yj}var bj,Sq;function pNe(){if(Sq)return bj;Sq=1;var e=fNe(),t=mNe(),n=e(t);return bj=n,bj}var gNe=pNe();const vNe=sn(gNe);var yNe=P9();const bNe=sn(yNe);var xNe=bNe(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),MO=_.createContext(void 0),kO=_.createContext(void 0),iG=_.createContext(void 0),aG=_.createContext({}),sG=_.createContext(void 0),oG=_.createContext(0),lG=_.createContext(0),jq=function(t){var n=t.state,r=n.xAxisMap,i=n.yAxisMap,a=n.offset,o=t.clipPathId,l=t.children,d=t.width,f=t.height,m=xNe(a);return q.createElement(MO.Provider,{value:r},q.createElement(kO.Provider,{value:i},q.createElement(aG.Provider,{value:a},q.createElement(iG.Provider,{value:m},q.createElement(sG.Provider,{value:o},q.createElement(oG.Provider,{value:f},q.createElement(lG.Provider,{value:d},l)))))))},wNe=function(){return _.useContext(sG)},cG=function(t){var n=_.useContext(MO);n==null&&ql();var r=n[t];return r==null&&ql(),r},_Ne=function(){var t=_.useContext(MO);return ao(t)},SNe=function(){var t=_.useContext(kO),n=vNe(t,function(r){return Q7(r.domain,Number.isFinite)});return n||ao(t)},uG=function(t){var n=_.useContext(kO);n==null&&ql();var r=n[t];return r==null&&ql(),r},jNe=function(){var t=_.useContext(iG);return t},NNe=function(){return _.useContext(aG)},DO=function(){return _.useContext(lG)},IO=function(){return _.useContext(oG)};function Yu(e){"@babel/helpers - typeof";return Yu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yu(e)}function ENe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ANe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,fG(r.key),r)}}function TNe(e,t,n){return t&&ANe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function ONe(e,t,n){return t=Py(t),CNe(e,dG()?Reflect.construct(t,n||[],Py(e).constructor):t.apply(e,n))}function CNe(e,t){if(t&&(Yu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return RNe(e)}function RNe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(dG=function(){return!!e})()}function Py(e){return Py=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Py(e)}function PNe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&VE(e,t)}function VE(e,t){return VE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},VE(e,t)}function Nq(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Eq(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Nq(Object(n),!0).forEach(function(r){$O(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Nq(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function $O(e,t,n){return t=fG(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fG(e){var t=MNe(e,"string");return Yu(t)=="symbol"?t:t+""}function MNe(e,t){if(Yu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Yu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function kNe(e,t){return LNe(e)||$Ne(e,t)||INe(e,t)||DNe()}function DNe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function INe(e,t){if(e){if(typeof e=="string")return Aq(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Aq(e,t)}}function Aq(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function $Ne(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,o,l=[],d=!0,f=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(d=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);d=!0);}catch(m){f=!0,i=m}finally{try{if(!d&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(f)throw i}}return l}}function LNe(e){if(Array.isArray(e))return e}function HE(){return HE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},HE.apply(this,arguments)}var BNe=function(t,n){var r;return q.isValidElement(t)?r=q.cloneElement(t,n):Nt(t)?r=t(n):r=q.createElement("line",HE({},n,{className:"recharts-reference-line-line"})),r},qNe=function(t,n,r,i,a,o,l,d,f){var m=a.x,p=a.y,v=a.width,y=a.height;if(r){var x=f.y,b=t.y.apply(x,{position:o});if(Oa(f,"discard")&&!t.y.isInRange(b))return null;var w=[{x:m+v,y:b},{x:m,y:b}];return d==="left"?w.reverse():w}if(n){var N=f.x,E=t.x.apply(N,{position:o});if(Oa(f,"discard")&&!t.x.isInRange(E))return null;var j=[{x:E,y:p+y},{x:E,y:p}];return l==="top"?j.reverse():j}if(i){var O=f.segment,T=O.map(function(C){return t.apply(C,{position:o})});return Oa(f,"discard")&&Mje(T,function(C){return!t.isInRange(C)})?null:T}return null};function zNe(e){var t=e.x,n=e.y,r=e.segment,i=e.xAxisId,a=e.yAxisId,o=e.shape,l=e.className,d=e.alwaysShow,f=wNe(),m=cG(i),p=uG(a),v=jNe();if(!f||!v)return null;ds(d===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var y=PO({x:m.scale,y:p.scale}),x=tr(t),b=tr(n),w=r&&r.length===2,N=qNe(y,x,b,w,v,e.position,m.orientation,p.orientation,e);if(!N)return null;var E=kNe(N,2),j=E[0],O=j.x,T=j.y,C=E[1],R=C.x,P=C.y,k=Oa(e,"hidden")?"url(#".concat(f,")"):void 0,$=Eq(Eq({clipPath:k},St(e,!0)),{},{x1:O,y1:T,x2:R,y2:P});return q.createElement(Gt,{className:Mt("recharts-reference-line",l)},BNe(o,$),Ar.renderCallByParent(e,cNe({x1:O,y1:T,x2:R,y2:P})))}var LO=(function(e){function t(){return ENe(this,t),ONe(this,t,arguments)}return PNe(t,e),TNe(t,[{key:"render",value:function(){return q.createElement(zNe,this.props)}}])})(q.Component);$O(LO,"displayName","ReferenceLine");$O(LO,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function GE(){return GE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},GE.apply(this,arguments)}function Xu(e){"@babel/helpers - typeof";return Xu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xu(e)}function Tq(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Oq(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Tq(Object(n),!0).forEach(function(r){eb(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Tq(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function FNe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function UNe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,mG(r.key),r)}}function VNe(e,t,n){return t&&UNe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function HNe(e,t,n){return t=My(t),GNe(e,hG()?Reflect.construct(t,n||[],My(e).constructor):t.apply(e,n))}function GNe(e,t){if(t&&(Xu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return KNe(e)}function KNe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hG=function(){return!!e})()}function My(e){return My=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},My(e)}function WNe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&KE(e,t)}function KE(e,t){return KE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},KE(e,t)}function eb(e,t,n){return t=mG(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mG(e){var t=YNe(e,"string");return Xu(t)=="symbol"?t:t+""}function YNe(e,t){if(Xu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Xu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var XNe=function(t){var n=t.x,r=t.y,i=t.xAxis,a=t.yAxis,o=PO({x:i.scale,y:a.scale}),l=o.apply({x:n,y:r},{bandAware:!0});return Oa(t,"discard")&&!o.isInRange(l)?null:l},tb=(function(e){function t(){return FNe(this,t),HNe(this,t,arguments)}return WNe(t,e),VNe(t,[{key:"render",value:function(){var r=this.props,i=r.x,a=r.y,o=r.r,l=r.alwaysShow,d=r.clipPathId,f=tr(i),m=tr(a);if(ds(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!f||!m)return null;var p=XNe(this.props);if(!p)return null;var v=p.x,y=p.y,x=this.props,b=x.shape,w=x.className,N=Oa(this.props,"hidden")?"url(#".concat(d,")"):void 0,E=Oq(Oq({clipPath:N},St(this.props,!0)),{},{cx:v,cy:y});return q.createElement(Gt,{className:Mt("recharts-reference-dot",w)},t.renderDot(b,E),Ar.renderCallByParent(this.props,{x:v-o,y:y-o,width:2*o,height:2*o}))}}])})(q.Component);eb(tb,"displayName","ReferenceDot");eb(tb,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});eb(tb,"renderDot",function(e,t){var n;return q.isValidElement(e)?n=q.cloneElement(e,t):Nt(e)?n=e(t):n=q.createElement(X0,GE({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),n});function WE(){return WE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},WE.apply(this,arguments)}function Qu(e){"@babel/helpers - typeof";return Qu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qu(e)}function Cq(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Rq(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Cq(Object(n),!0).forEach(function(r){nb(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Cq(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function QNe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function JNe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,gG(r.key),r)}}function ZNe(e,t,n){return t&&JNe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function eEe(e,t,n){return t=ky(t),tEe(e,pG()?Reflect.construct(t,n||[],ky(e).constructor):t.apply(e,n))}function tEe(e,t){if(t&&(Qu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nEe(e)}function nEe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pG=function(){return!!e})()}function ky(e){return ky=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ky(e)}function rEe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&YE(e,t)}function YE(e,t){return YE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},YE(e,t)}function nb(e,t,n){return t=gG(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gG(e){var t=iEe(e,"string");return Qu(t)=="symbol"?t:t+""}function iEe(e,t){if(Qu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Qu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var aEe=function(t,n,r,i,a){var o=a.x1,l=a.x2,d=a.y1,f=a.y2,m=a.xAxis,p=a.yAxis;if(!m||!p)return null;var v=PO({x:m.scale,y:p.scale}),y={x:t?v.x.apply(o,{position:"start"}):v.x.rangeMin,y:r?v.y.apply(d,{position:"start"}):v.y.rangeMin},x={x:n?v.x.apply(l,{position:"end"}):v.x.rangeMax,y:i?v.y.apply(f,{position:"end"}):v.y.rangeMax};return Oa(a,"discard")&&(!v.isInRange(y)||!v.isInRange(x))?null:nG(y,x)},rb=(function(e){function t(){return QNe(this,t),eEe(this,t,arguments)}return rEe(t,e),ZNe(t,[{key:"render",value:function(){var r=this.props,i=r.x1,a=r.x2,o=r.y1,l=r.y2,d=r.className,f=r.alwaysShow,m=r.clipPathId;ds(f===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=tr(i),v=tr(a),y=tr(o),x=tr(l),b=this.props.shape;if(!p&&!v&&!y&&!x&&!b)return null;var w=aEe(p,v,y,x,this.props);if(!w&&!b)return null;var N=Oa(this.props,"hidden")?"url(#".concat(m,")"):void 0;return q.createElement(Gt,{className:Mt("recharts-reference-area",d)},t.renderRect(b,Rq(Rq({clipPath:N},St(this.props,!0)),w)),Ar.renderCallByParent(this.props,w))}}])})(q.Component);nb(rb,"displayName","ReferenceArea");nb(rb,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});nb(rb,"renderRect",function(e,t){var n;return q.isValidElement(e)?n=q.cloneElement(e,t):Nt(e)?n=e(t):n=q.createElement(CO,WE({},t,{className:"recharts-reference-area-rect"})),n});function vG(e,t,n){if(t<1)return[];if(t===1&&n===void 0)return e;for(var r=[],i=0;i<e.length;i+=t)r.push(e[i]);return r}function sEe(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return dNe(r,n)}function oEe(e,t,n){var r=n==="width",i=e.x,a=e.y,o=e.width,l=e.height;return t===1?{start:r?i:a,end:r?i+o:a+l}:{start:r?i+o:a+l,end:r?i:a}}function Dy(e,t,n,r,i){if(e*t<e*r||e*t>e*i)return!1;var a=n();return e*(t-e*a/2-r)>=0&&e*(t+e*a/2-i)<=0}function lEe(e,t){return vG(e,t+1)}function cEe(e,t,n,r,i){for(var a=(r||[]).slice(),o=t.start,l=t.end,d=0,f=1,m=o,p=function(){var x=r?.[d];if(x===void 0)return{v:vG(r,f)};var b=d,w,N=function(){return w===void 0&&(w=n(x,b)),w},E=x.coordinate,j=d===0||Dy(e,E,N,m,l);j||(d=0,m=o,f+=1),j&&(m=E+e*(N()/2+i),d+=f)},v;f<=a.length;)if(v=p(),v)return v.v;return[]}function Nm(e){"@babel/helpers - typeof";return Nm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nm(e)}function Pq(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Er(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Pq(Object(n),!0).forEach(function(r){uEe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pq(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function uEe(e,t,n){return t=dEe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dEe(e){var t=fEe(e,"string");return Nm(t)=="symbol"?t:t+""}function fEe(e,t){if(Nm(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Nm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hEe(e,t,n,r,i){for(var a=(r||[]).slice(),o=a.length,l=t.start,d=t.end,f=function(v){var y=a[v],x,b=function(){return x===void 0&&(x=n(y,v)),x};if(v===o-1){var w=e*(y.coordinate+e*b()/2-d);a[v]=y=Er(Er({},y),{},{tickCoord:w>0?y.coordinate-w*e:y.coordinate})}else a[v]=y=Er(Er({},y),{},{tickCoord:y.coordinate});var N=Dy(e,y.tickCoord,b,l,d);N&&(d=y.tickCoord-e*(b()/2+i),a[v]=Er(Er({},y),{},{isShow:!0}))},m=o-1;m>=0;m--)f(m);return a}function mEe(e,t,n,r,i,a){var o=(r||[]).slice(),l=o.length,d=t.start,f=t.end;if(a){var m=r[l-1],p=n(m,l-1),v=e*(m.coordinate+e*p/2-f);o[l-1]=m=Er(Er({},m),{},{tickCoord:v>0?m.coordinate-v*e:m.coordinate});var y=Dy(e,m.tickCoord,function(){return p},d,f);y&&(f=m.tickCoord-e*(p/2+i),o[l-1]=Er(Er({},m),{},{isShow:!0}))}for(var x=a?l-1:l,b=function(E){var j=o[E],O,T=function(){return O===void 0&&(O=n(j,E)),O};if(E===0){var C=e*(j.coordinate-e*T()/2-d);o[E]=j=Er(Er({},j),{},{tickCoord:C<0?j.coordinate-C*e:j.coordinate})}else o[E]=j=Er(Er({},j),{},{tickCoord:j.coordinate});var R=Dy(e,j.tickCoord,T,d,f);R&&(d=j.tickCoord+e*(T()/2+i),o[E]=Er(Er({},j),{},{isShow:!0}))},w=0;w<x;w++)b(w);return o}function BO(e,t,n){var r=e.tick,i=e.ticks,a=e.viewBox,o=e.minTickGap,l=e.orientation,d=e.interval,f=e.tickFormatter,m=e.unit,p=e.angle;if(!i||!i.length||!r)return[];if(Ce(d)||Oo.isSsr)return lEe(i,typeof d=="number"&&Ce(d)?d:0);var v=[],y=l==="top"||l==="bottom"?"width":"height",x=m&&y==="width"?vh(m,{fontSize:t,letterSpacing:n}):{width:0,height:0},b=function(j,O){var T=Nt(f)?f(j.value,O):j.value;return y==="width"?sEe(vh(T,{fontSize:t,letterSpacing:n}),x,p):vh(T,{fontSize:t,letterSpacing:n})[y]},w=i.length>=2?aa(i[1].coordinate-i[0].coordinate):1,N=oEe(a,w,y);return d==="equidistantPreserveStart"?cEe(w,N,b,i,o):(d==="preserveStart"||d==="preserveStartEnd"?v=mEe(w,N,b,i,o,d==="preserveStartEnd"):v=hEe(w,N,b,i,o),v.filter(function(E){return E.isShow}))}var pEe=["viewBox"],gEe=["viewBox"],vEe=["ticks"];function Ju(e){"@babel/helpers - typeof";return Ju=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ju(e)}function fu(){return fu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fu.apply(this,arguments)}function Mq(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Xn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Mq(Object(n),!0).forEach(function(r){qO(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mq(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function xj(e,t){if(e==null)return{};var n=yEe(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function yEe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function bEe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kq(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,bG(r.key),r)}}function xEe(e,t,n){return t&&kq(e.prototype,t),n&&kq(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function wEe(e,t,n){return t=Iy(t),_Ee(e,yG()?Reflect.construct(t,n||[],Iy(e).constructor):t.apply(e,n))}function _Ee(e,t){if(t&&(Ju(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return SEe(e)}function SEe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(yG=function(){return!!e})()}function Iy(e){return Iy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Iy(e)}function jEe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&XE(e,t)}function XE(e,t){return XE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},XE(e,t)}function qO(e,t,n){return t=bG(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bG(e){var t=NEe(e,"string");return Ju(t)=="symbol"?t:t+""}function NEe(e,t){if(Ju(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Ju(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Ld=(function(e){function t(n){var r;return bEe(this,t),r=wEe(this,t,[n]),r.state={fontSize:"",letterSpacing:""},r}return jEe(t,e),xEe(t,[{key:"shouldComponentUpdate",value:function(r,i){var a=r.viewBox,o=xj(r,pEe),l=this.props,d=l.viewBox,f=xj(l,gEe);return!ju(a,d)||!ju(o,f)||!ju(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,a=i.x,o=i.y,l=i.width,d=i.height,f=i.orientation,m=i.tickSize,p=i.mirror,v=i.tickMargin,y,x,b,w,N,E,j=p?-1:1,O=r.tickSize||m,T=Ce(r.tickCoord)?r.tickCoord:r.coordinate;switch(f){case"top":y=x=r.coordinate,w=o+ +!p*d,b=w-j*O,E=b-j*v,N=T;break;case"left":b=w=r.coordinate,x=a+ +!p*l,y=x-j*O,N=y-j*v,E=T;break;case"right":b=w=r.coordinate,x=a+ +p*l,y=x+j*O,N=y+j*v,E=T;break;default:y=x=r.coordinate,w=o+ +p*d,b=w+j*O,E=b+j*v,N=T;break}return{line:{x1:y,y1:b,x2:x,y2:w},tick:{x:N,y:E}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,a=r.mirror,o;switch(i){case"left":o=a?"start":"end";break;case"right":o=a?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,a=r.mirror,o="end";switch(i){case"left":case"right":o="middle";break;case"top":o=a?"start":"end";break;default:o=a?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,a=r.y,o=r.width,l=r.height,d=r.orientation,f=r.mirror,m=r.axisLine,p=Xn(Xn(Xn({},St(this.props,!1)),St(m,!1)),{},{fill:"none"});if(d==="top"||d==="bottom"){var v=+(d==="top"&&!f||d==="bottom"&&f);p=Xn(Xn({},p),{},{x1:i,y1:a+v*l,x2:i+o,y2:a+v*l})}else{var y=+(d==="left"&&!f||d==="right"&&f);p=Xn(Xn({},p),{},{x1:i+y*o,y1:a,x2:i+y*o,y2:a+l})}return q.createElement("line",fu({},p,{className:Mt("recharts-cartesian-axis-line",Li(m,"className"))}))}},{key:"renderTicks",value:function(r,i,a){var o=this,l=this.props,d=l.tickLine,f=l.stroke,m=l.tick,p=l.tickFormatter,v=l.unit,y=BO(Xn(Xn({},this.props),{},{ticks:r}),i,a),x=this.getTickTextAnchor(),b=this.getTickVerticalAnchor(),w=St(this.props,!1),N=St(m,!1),E=Xn(Xn({},w),{},{fill:"none"},St(d,!1)),j=y.map(function(O,T){var C=o.getTickLineCoord(O),R=C.line,P=C.tick,k=Xn(Xn(Xn(Xn({textAnchor:x,verticalAnchor:b},w),{},{stroke:"none",fill:f},N),P),{},{index:T,payload:O,visibleTicksCount:y.length,tickFormatter:p});return q.createElement(Gt,fu({className:"recharts-cartesian-axis-tick",key:"tick-".concat(O.value,"-").concat(O.coordinate,"-").concat(O.tickCoord)},Gh(o.props,O,T)),d&&q.createElement("line",fu({},E,R,{className:Mt("recharts-cartesian-axis-tick-line",Li(d,"className"))})),m&&t.renderTickItem(m,k,"".concat(Nt(p)?p(O.value,T):O.value).concat(v||"")))});return q.createElement("g",{className:"recharts-cartesian-axis-ticks"},j)}},{key:"render",value:function(){var r=this,i=this.props,a=i.axisLine,o=i.width,l=i.height,d=i.ticksGenerator,f=i.className,m=i.hide;if(m)return null;var p=this.props,v=p.ticks,y=xj(p,vEe),x=v;return Nt(d)&&(x=v&&v.length>0?d(this.props):d(y)),o<=0||l<=0||!x||!x.length?null:q.createElement(Gt,{className:Mt("recharts-cartesian-axis",f),ref:function(w){r.layerReference=w}},a&&this.renderAxisLine(),this.renderTicks(x,this.state.fontSize,this.state.letterSpacing),Ar.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,a){var o,l=Mt(i.className,"recharts-cartesian-axis-tick-value");return q.isValidElement(r)?o=q.cloneElement(r,Xn(Xn({},i),{},{className:l})):Nt(r)?o=r(Xn(Xn({},i),{},{className:l})):o=q.createElement(iy,fu({},i,{className:"recharts-cartesian-axis-tick-value"}),a),o}}])})(_.Component);qO(Ld,"displayName","CartesianAxis");qO(Ld,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var EEe=["x1","y1","x2","y2","key"],AEe=["offset"];function zl(e){"@babel/helpers - typeof";return zl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zl(e)}function Dq(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Tr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Dq(Object(n),!0).forEach(function(r){TEe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Dq(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function TEe(e,t,n){return t=OEe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function OEe(e){var t=CEe(e,"string");return zl(t)=="symbol"?t:t+""}function CEe(e,t){if(zl(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(zl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xl(){return xl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xl.apply(this,arguments)}function Iq(e,t){if(e==null)return{};var n=REe(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function REe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var PEe=function(t){var n=t.fill;if(!n||n==="none")return null;var r=t.fillOpacity,i=t.x,a=t.y,o=t.width,l=t.height,d=t.ry;return q.createElement("rect",{x:i,y:a,ry:d,width:o,height:l,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function xG(e,t){var n;if(q.isValidElement(e))n=q.cloneElement(e,t);else if(Nt(e))n=e(t);else{var r=t.x1,i=t.y1,a=t.x2,o=t.y2,l=t.key,d=Iq(t,EEe),f=St(d,!1);f.offset;var m=Iq(f,AEe);n=q.createElement("line",xl({},m,{x1:r,y1:i,x2:a,y2:o,fill:"none",key:l}))}return n}function MEe(e){var t=e.x,n=e.width,r=e.horizontal,i=r===void 0?!0:r,a=e.horizontalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(l,d){var f=Tr(Tr({},e),{},{x1:t,y1:l,x2:t+n,y2:l,key:"line-".concat(d),index:d});return xG(i,f)});return q.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function kEe(e){var t=e.y,n=e.height,r=e.vertical,i=r===void 0?!0:r,a=e.verticalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(l,d){var f=Tr(Tr({},e),{},{x1:l,y1:t,x2:l,y2:t+n,key:"line-".concat(d),index:d});return xG(i,f)});return q.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function DEe(e){var t=e.horizontalFill,n=e.fillOpacity,r=e.x,i=e.y,a=e.width,o=e.height,l=e.horizontalPoints,d=e.horizontal,f=d===void 0?!0:d;if(!f||!t||!t.length)return null;var m=l.map(function(v){return Math.round(v+i-i)}).sort(function(v,y){return v-y});i!==m[0]&&m.unshift(0);var p=m.map(function(v,y){var x=!m[y+1],b=x?i+o-v:m[y+1]-v;if(b<=0)return null;var w=y%t.length;return q.createElement("rect",{key:"react-".concat(y),y:v,x:r,height:b,width:a,stroke:"none",fill:t[w],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return q.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},p)}function IEe(e){var t=e.vertical,n=t===void 0?!0:t,r=e.verticalFill,i=e.fillOpacity,a=e.x,o=e.y,l=e.width,d=e.height,f=e.verticalPoints;if(!n||!r||!r.length)return null;var m=f.map(function(v){return Math.round(v+a-a)}).sort(function(v,y){return v-y});a!==m[0]&&m.unshift(0);var p=m.map(function(v,y){var x=!m[y+1],b=x?a+l-v:m[y+1]-v;if(b<=0)return null;var w=y%r.length;return q.createElement("rect",{key:"react-".concat(y),x:v,y:o,width:b,height:d,stroke:"none",fill:r[w],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return q.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},p)}var $Ee=function(t,n){var r=t.xAxis,i=t.width,a=t.height,o=t.offset;return k7(BO(Tr(Tr(Tr({},Ld.defaultProps),r),{},{ticks:os(r,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.left,o.left+o.width,n)},LEe=function(t,n){var r=t.yAxis,i=t.width,a=t.height,o=t.offset;return k7(BO(Tr(Tr(Tr({},Ld.defaultProps),r),{},{ticks:os(r,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.top,o.top+o.height,n)},Yc={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function hl(e){var t,n,r,i,a,o,l=DO(),d=IO(),f=NNe(),m=Tr(Tr({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:Yc.stroke,fill:(n=e.fill)!==null&&n!==void 0?n:Yc.fill,horizontal:(r=e.horizontal)!==null&&r!==void 0?r:Yc.horizontal,horizontalFill:(i=e.horizontalFill)!==null&&i!==void 0?i:Yc.horizontalFill,vertical:(a=e.vertical)!==null&&a!==void 0?a:Yc.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:Yc.verticalFill,x:Ce(e.x)?e.x:f.left,y:Ce(e.y)?e.y:f.top,width:Ce(e.width)?e.width:f.width,height:Ce(e.height)?e.height:f.height}),p=m.x,v=m.y,y=m.width,x=m.height,b=m.syncWithTicks,w=m.horizontalValues,N=m.verticalValues,E=_Ne(),j=SNe();if(!Ce(y)||y<=0||!Ce(x)||x<=0||!Ce(p)||p!==+p||!Ce(v)||v!==+v)return null;var O=m.verticalCoordinatesGenerator||$Ee,T=m.horizontalCoordinatesGenerator||LEe,C=m.horizontalPoints,R=m.verticalPoints;if((!C||!C.length)&&Nt(T)){var P=w&&w.length,k=T({yAxis:j?Tr(Tr({},j),{},{ticks:P?w:j.ticks}):void 0,width:l,height:d,offset:f},P?!0:b);ds(Array.isArray(k),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(zl(k),"]")),Array.isArray(k)&&(C=k)}if((!R||!R.length)&&Nt(O)){var $=N&&N.length,B=O({xAxis:E?Tr(Tr({},E),{},{ticks:$?N:E.ticks}):void 0,width:l,height:d,offset:f},$?!0:b);ds(Array.isArray(B),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(zl(B),"]")),Array.isArray(B)&&(R=B)}return q.createElement("g",{className:"recharts-cartesian-grid"},q.createElement(PEe,{fill:m.fill,fillOpacity:m.fillOpacity,x:m.x,y:m.y,width:m.width,height:m.height,ry:m.ry}),q.createElement(MEe,xl({},m,{offset:f,horizontalPoints:C,xAxis:E,yAxis:j})),q.createElement(kEe,xl({},m,{offset:f,verticalPoints:R,xAxis:E,yAxis:j})),q.createElement(DEe,xl({},m,{horizontalPoints:C})),q.createElement(IEe,xl({},m,{verticalPoints:R})))}hl.displayName="CartesianGrid";var BEe=["type","layout","connectNulls","ref"],qEe=["key"];function Zu(e){"@babel/helpers - typeof";return Zu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zu(e)}function $q(e,t){if(e==null)return{};var n=zEe(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function zEe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function wh(){return wh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wh.apply(this,arguments)}function Lq(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ai(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Lq(Object(n),!0).forEach(function(r){Zi(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Lq(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Xc(e){return HEe(e)||VEe(e)||UEe(e)||FEe()}function FEe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function UEe(e,t){if(e){if(typeof e=="string")return QE(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return QE(e,t)}}function VEe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function HEe(e){if(Array.isArray(e))return QE(e)}function QE(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function GEe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Bq(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,_G(r.key),r)}}function KEe(e,t,n){return t&&Bq(e.prototype,t),n&&Bq(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function WEe(e,t,n){return t=$y(t),YEe(e,wG()?Reflect.construct(t,n||[],$y(e).constructor):t.apply(e,n))}function YEe(e,t){if(t&&(Zu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return XEe(e)}function XEe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wG=function(){return!!e})()}function $y(e){return $y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},$y(e)}function QEe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&JE(e,t)}function JE(e,t){return JE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},JE(e,t)}function Zi(e,t,n){return t=_G(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _G(e){var t=JEe(e,"string");return Zu(t)=="symbol"?t:t+""}function JEe(e,t){if(Zu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Zu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var mo=(function(e){function t(){var n;GEe(this,t);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=WEe(this,t,[].concat(i)),Zi(n,"state",{isAnimationFinished:!0,totalLength:0}),Zi(n,"generateSimpleStrokeDasharray",function(o,l){return"".concat(l,"px ").concat(o-l,"px")}),Zi(n,"getStrokeDasharray",function(o,l,d){var f=d.reduce(function(N,E){return N+E});if(!f)return n.generateSimpleStrokeDasharray(l,o);for(var m=Math.floor(o/f),p=o%f,v=l-o,y=[],x=0,b=0;x<d.length;b+=d[x],++x)if(b+d[x]>p){y=[].concat(Xc(d.slice(0,x)),[p-b]);break}var w=y.length%2===0?[0,v]:[v];return[].concat(Xc(t.repeat(d,m)),Xc(y),w).map(function(N){return"".concat(N,"px")}).join(", ")}),Zi(n,"id",Gl("recharts-line-")),Zi(n,"pathRef",function(o){n.mainCurve=o}),Zi(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),Zi(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return QEe(t,e),KEe(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.points,l=a.xAxis,d=a.yAxis,f=a.layout,m=a.children,p=Wr(m,$d);if(!p)return null;var v=function(b,w){return{x:b.x,y:b.y,value:b.value,errorVal:nr(b.payload,w)}},y={clipPath:r?"url(#clipPath-".concat(i,")"):null};return q.createElement(Gt,y,p.map(function(x){return q.cloneElement(x,{key:"bar-".concat(x.props.dataKey),data:o,xAxis:l,yAxis:d,layout:f,dataPointFormatter:v})}))}},{key:"renderDots",value:function(r,i,a){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var l=this.props,d=l.dot,f=l.points,m=l.dataKey,p=St(this.props,!1),v=St(d,!0),y=f.map(function(b,w){var N=ai(ai(ai({key:"dot-".concat(w),r:3},p),v),{},{index:w,cx:b.x,cy:b.y,value:b.value,dataKey:m,payload:b.payload,points:f});return t.renderDotItem(d,N)}),x={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return q.createElement(Gt,wh({className:"recharts-line-dots",key:"dots"},x),y)}},{key:"renderCurveStatically",value:function(r,i,a,o){var l=this.props,d=l.type,f=l.layout,m=l.connectNulls;l.ref;var p=$q(l,BEe),v=ai(ai(ai({},St(p,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(a,")"):null,points:r},o),{},{type:d,layout:f,connectNulls:m});return q.createElement(Ol,wh({},v,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,i){var a=this,o=this.props,l=o.points,d=o.strokeDasharray,f=o.isAnimationActive,m=o.animationBegin,p=o.animationDuration,v=o.animationEasing,y=o.animationId,x=o.animateNewValues,b=o.width,w=o.height,N=this.state,E=N.prevPoints,j=N.totalLength;return q.createElement(ca,{begin:m,duration:p,isActive:f,easing:v,from:{t:0},to:{t:1},key:"line-".concat(y),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(O){var T=O.t;if(E){var C=E.length/l.length,R=l.map(function(I,F){var V=Math.floor(F*C);if(E[V]){var U=E[V],D=$n(U.x,I.x),G=$n(U.y,I.y);return ai(ai({},I),{},{x:D(T),y:G(T)})}if(x){var z=$n(b*2,I.x),Y=$n(w/2,I.y);return ai(ai({},I),{},{x:z(T),y:Y(T)})}return ai(ai({},I),{},{x:I.x,y:I.y})});return a.renderCurveStatically(R,r,i)}var P=$n(0,j),k=P(T),$;if(d){var B="".concat(d).split(/[,\s]+/gim).map(function(I){return parseFloat(I)});$=a.getStrokeDasharray(k,j,B)}else $=a.generateSimpleStrokeDasharray(j,k);return a.renderCurveStatically(l,r,i,{strokeDasharray:$})})}},{key:"renderCurve",value:function(r,i){var a=this.props,o=a.points,l=a.isAnimationActive,d=this.state,f=d.prevPoints,m=d.totalLength;return l&&o&&o.length&&(!f&&m>0||!Ll(f,o))?this.renderCurveWithAnimation(r,i):this.renderCurveStatically(o,r,i)}},{key:"render",value:function(){var r,i=this.props,a=i.hide,o=i.dot,l=i.points,d=i.className,f=i.xAxis,m=i.yAxis,p=i.top,v=i.left,y=i.width,x=i.height,b=i.isAnimationActive,w=i.id;if(a||!l||!l.length)return null;var N=this.state.isAnimationFinished,E=l.length===1,j=Mt("recharts-line",d),O=f&&f.allowDataOverflow,T=m&&m.allowDataOverflow,C=O||T,R=xt(w)?this.id:w,P=(r=St(o,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},k=P.r,$=k===void 0?3:k,B=P.strokeWidth,I=B===void 0?2:B,F=$9(o)?o:{},V=F.clipDot,U=V===void 0?!0:V,D=$*2+I;return q.createElement(Gt,{className:j},O||T?q.createElement("defs",null,q.createElement("clipPath",{id:"clipPath-".concat(R)},q.createElement("rect",{x:O?v:v-y/2,y:T?p:p-x/2,width:O?y:y*2,height:T?x:x*2})),!U&&q.createElement("clipPath",{id:"clipPath-dots-".concat(R)},q.createElement("rect",{x:v-D/2,y:p-D/2,width:y+D,height:x+D}))):null,!E&&this.renderCurve(C,R),this.renderErrorBar(C,R),(E||o)&&this.renderDots(C,U,R),(!b||N)&&Ta.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,i){for(var a=r.length%2!==0?[].concat(Xc(r),[0]):r,o=[],l=0;l<i;++l)o=[].concat(Xc(o),Xc(a));return o}},{key:"renderDotItem",value:function(r,i){var a;if(q.isValidElement(r))a=q.cloneElement(r,i);else if(Nt(r))a=r(i);else{var o=i.key,l=$q(i,qEe),d=Mt("recharts-line-dot",typeof r!="boolean"?r.className:"");a=q.createElement(X0,wh({key:o},l,{className:d}))}return a}}])})(_.PureComponent);Zi(mo,"displayName","Line");Zi(mo,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Oo.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Zi(mo,"getComposedData",function(e){var t=e.props,n=e.xAxis,r=e.yAxis,i=e.xAxisTicks,a=e.yAxisTicks,o=e.dataKey,l=e.bandSize,d=e.displayedData,f=e.offset,m=t.layout,p=d.map(function(v,y){var x=nr(v,o);return m==="horizontal"?{x:Vu({axis:n,ticks:i,bandSize:l,entry:v,index:y}),y:xt(x)?null:r.scale(x),value:x,payload:v}:{x:xt(x)?null:n.scale(x),y:Vu({axis:r,ticks:a,bandSize:l,entry:v,index:y}),value:x,payload:v}});return ai({points:p,layout:m},f)});var ZEe=["layout","type","stroke","connectNulls","isRange","ref"],eAe=["key"],SG;function ed(e){"@babel/helpers - typeof";return ed=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ed(e)}function jG(e,t){if(e==null)return{};var n=tAe(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function tAe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function wl(){return wl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wl.apply(this,arguments)}function qq(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function eo(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?qq(Object(n),!0).forEach(function(r){_a(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qq(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function nAe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zq(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,EG(r.key),r)}}function rAe(e,t,n){return t&&zq(e.prototype,t),n&&zq(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function iAe(e,t,n){return t=Ly(t),aAe(e,NG()?Reflect.construct(t,n||[],Ly(e).constructor):t.apply(e,n))}function aAe(e,t){if(t&&(ed(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sAe(e)}function sAe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function NG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(NG=function(){return!!e})()}function Ly(e){return Ly=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ly(e)}function oAe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ZE(e,t)}function ZE(e,t){return ZE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ZE(e,t)}function _a(e,t,n){return t=EG(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function EG(e){var t=lAe(e,"string");return ed(t)=="symbol"?t:t+""}function lAe(e,t){if(ed(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(ed(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Xl=(function(e){function t(){var n;nAe(this,t);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=iAe(this,t,[].concat(i)),_a(n,"state",{isAnimationFinished:!0}),_a(n,"id",Gl("recharts-area-")),_a(n,"handleAnimationEnd",function(){var o=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),Nt(o)&&o()}),_a(n,"handleAnimationStart",function(){var o=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),Nt(o)&&o()}),n}return oAe(t,e),rAe(t,[{key:"renderDots",value:function(r,i,a){var o=this.props.isAnimationActive,l=this.state.isAnimationFinished;if(o&&!l)return null;var d=this.props,f=d.dot,m=d.points,p=d.dataKey,v=St(this.props,!1),y=St(f,!0),x=m.map(function(w,N){var E=eo(eo(eo({key:"dot-".concat(N),r:3},v),y),{},{index:N,cx:w.x,cy:w.y,dataKey:p,value:w.value,payload:w.payload,points:m});return t.renderDotItem(f,E)}),b={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return q.createElement(Gt,wl({className:"recharts-area-dots"},b),x)}},{key:"renderHorizontalRect",value:function(r){var i=this.props,a=i.baseLine,o=i.points,l=i.strokeWidth,d=o[0].x,f=o[o.length-1].x,m=r*Math.abs(d-f),p=lo(o.map(function(v){return v.y||0}));return Ce(a)&&typeof a=="number"?p=Math.max(a,p):a&&Array.isArray(a)&&a.length&&(p=Math.max(lo(a.map(function(v){return v.y||0})),p)),Ce(p)?q.createElement("rect",{x:d<f?d:d-m,y:0,width:m,height:Math.floor(p+(l?parseInt("".concat(l),10):1))}):null}},{key:"renderVerticalRect",value:function(r){var i=this.props,a=i.baseLine,o=i.points,l=i.strokeWidth,d=o[0].y,f=o[o.length-1].y,m=r*Math.abs(d-f),p=lo(o.map(function(v){return v.x||0}));return Ce(a)&&typeof a=="number"?p=Math.max(a,p):a&&Array.isArray(a)&&a.length&&(p=Math.max(lo(a.map(function(v){return v.x||0})),p)),Ce(p)?q.createElement("rect",{x:0,y:d<f?d:d-m,width:p+(l?parseInt("".concat(l),10):1),height:Math.floor(m)}):null}},{key:"renderClipRect",value:function(r){var i=this.props.layout;return i==="vertical"?this.renderVerticalRect(r):this.renderHorizontalRect(r)}},{key:"renderAreaStatically",value:function(r,i,a,o){var l=this.props,d=l.layout,f=l.type,m=l.stroke,p=l.connectNulls,v=l.isRange;l.ref;var y=jG(l,ZEe);return q.createElement(Gt,{clipPath:a?"url(#clipPath-".concat(o,")"):null},q.createElement(Ol,wl({},St(y,!0),{points:r,connectNulls:p,type:f,baseLine:i,layout:d,stroke:"none",className:"recharts-area-area"})),m!=="none"&&q.createElement(Ol,wl({},St(this.props,!1),{className:"recharts-area-curve",layout:d,type:f,connectNulls:p,fill:"none",points:r})),m!=="none"&&v&&q.createElement(Ol,wl({},St(this.props,!1),{className:"recharts-area-curve",layout:d,type:f,connectNulls:p,fill:"none",points:i})))}},{key:"renderAreaWithAnimation",value:function(r,i){var a=this,o=this.props,l=o.points,d=o.baseLine,f=o.isAnimationActive,m=o.animationBegin,p=o.animationDuration,v=o.animationEasing,y=o.animationId,x=this.state,b=x.prevPoints,w=x.prevBaseLine;return q.createElement(ca,{begin:m,duration:p,isActive:f,easing:v,from:{t:0},to:{t:1},key:"area-".concat(y),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(N){var E=N.t;if(b){var j=b.length/l.length,O=l.map(function(P,k){var $=Math.floor(k*j);if(b[$]){var B=b[$],I=$n(B.x,P.x),F=$n(B.y,P.y);return eo(eo({},P),{},{x:I(E),y:F(E)})}return P}),T;if(Ce(d)&&typeof d=="number"){var C=$n(w,d);T=C(E)}else if(xt(d)||Pd(d)){var R=$n(w,0);T=R(E)}else T=d.map(function(P,k){var $=Math.floor(k*j);if(w[$]){var B=w[$],I=$n(B.x,P.x),F=$n(B.y,P.y);return eo(eo({},P),{},{x:I(E),y:F(E)})}return P});return a.renderAreaStatically(O,T,r,i)}return q.createElement(Gt,null,q.createElement("defs",null,q.createElement("clipPath",{id:"animationClipPath-".concat(i)},a.renderClipRect(E))),q.createElement(Gt,{clipPath:"url(#animationClipPath-".concat(i,")")},a.renderAreaStatically(l,d,r,i)))})}},{key:"renderArea",value:function(r,i){var a=this.props,o=a.points,l=a.baseLine,d=a.isAnimationActive,f=this.state,m=f.prevPoints,p=f.prevBaseLine,v=f.totalLength;return d&&o&&o.length&&(!m&&v>0||!Ll(m,o)||!Ll(p,l))?this.renderAreaWithAnimation(r,i):this.renderAreaStatically(o,l,r,i)}},{key:"render",value:function(){var r,i=this.props,a=i.hide,o=i.dot,l=i.points,d=i.className,f=i.top,m=i.left,p=i.xAxis,v=i.yAxis,y=i.width,x=i.height,b=i.isAnimationActive,w=i.id;if(a||!l||!l.length)return null;var N=this.state.isAnimationFinished,E=l.length===1,j=Mt("recharts-area",d),O=p&&p.allowDataOverflow,T=v&&v.allowDataOverflow,C=O||T,R=xt(w)?this.id:w,P=(r=St(o,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},k=P.r,$=k===void 0?3:k,B=P.strokeWidth,I=B===void 0?2:B,F=$9(o)?o:{},V=F.clipDot,U=V===void 0?!0:V,D=$*2+I;return q.createElement(Gt,{className:j},O||T?q.createElement("defs",null,q.createElement("clipPath",{id:"clipPath-".concat(R)},q.createElement("rect",{x:O?m:m-y/2,y:T?f:f-x/2,width:O?y:y*2,height:T?x:x*2})),!U&&q.createElement("clipPath",{id:"clipPath-dots-".concat(R)},q.createElement("rect",{x:m-D/2,y:f-D/2,width:y+D,height:x+D}))):null,E?null:this.renderArea(C,R),(o||E)&&this.renderDots(C,U,R),(!b||N)&&Ta.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,curBaseLine:r.baseLine,prevPoints:i.curPoints,prevBaseLine:i.curBaseLine}:r.points!==i.curPoints||r.baseLine!==i.curBaseLine?{curPoints:r.points,curBaseLine:r.baseLine}:null}}])})(_.PureComponent);SG=Xl;_a(Xl,"displayName","Area");_a(Xl,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!Oo.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});_a(Xl,"getBaseValue",function(e,t,n,r){var i=e.layout,a=e.baseValue,o=t.props.baseValue,l=o??a;if(Ce(l)&&typeof l=="number")return l;var d=i==="horizontal"?r:n,f=d.scale.domain();if(d.type==="number"){var m=Math.max(f[0],f[1]),p=Math.min(f[0],f[1]);return l==="dataMin"?p:l==="dataMax"||m<0?m:Math.max(Math.min(f[0],f[1]),0)}return l==="dataMin"?f[0]:l==="dataMax"?f[1]:f[0]});_a(Xl,"getComposedData",function(e){var t=e.props,n=e.item,r=e.xAxis,i=e.yAxis,a=e.xAxisTicks,o=e.yAxisTicks,l=e.bandSize,d=e.dataKey,f=e.stackedData,m=e.dataStartIndex,p=e.displayedData,v=e.offset,y=t.layout,x=f&&f.length,b=SG.getBaseValue(t,n,r,i),w=y==="horizontal",N=!1,E=p.map(function(O,T){var C;x?C=f[m+T]:(C=nr(O,d),Array.isArray(C)?N=!0:C=[b,C]);var R=C[1]==null||x&&nr(O,d)==null;return w?{x:Vu({axis:r,ticks:a,bandSize:l,entry:O,index:T}),y:R?null:i.scale(C[1]),value:C,payload:O}:{x:R?null:r.scale(C[1]),y:Vu({axis:i,ticks:o,bandSize:l,entry:O,index:T}),value:C,payload:O}}),j;return x||N?j=E.map(function(O){var T=Array.isArray(O.value)?O.value[0]:null;return w?{x:O.x,y:T!=null&&O.y!=null?i.scale(T):null}:{x:T!=null?r.scale(T):null,y:O.y}}):j=w?i.scale(b):r.scale(b),eo({points:E,baseLine:j,layout:y,isRange:N},v)});_a(Xl,"renderDotItem",function(e,t){var n;if(q.isValidElement(e))n=q.cloneElement(e,t);else if(Nt(e))n=e(t);else{var r=Mt("recharts-area-dot",typeof e!="boolean"?e.className:""),i=t.key,a=jG(t,eAe);n=q.createElement(X0,wl({},a,{key:i,className:r}))}return n});function td(e){"@babel/helpers - typeof";return td=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},td(e)}function cAe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function uAe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,OG(r.key),r)}}function dAe(e,t,n){return t&&uAe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function fAe(e,t,n){return t=By(t),hAe(e,AG()?Reflect.construct(t,n||[],By(e).constructor):t.apply(e,n))}function hAe(e,t){if(t&&(td(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mAe(e)}function mAe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function AG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(AG=function(){return!!e})()}function By(e){return By=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},By(e)}function pAe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&eA(e,t)}function eA(e,t){return eA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},eA(e,t)}function TG(e,t,n){return t=OG(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function OG(e){var t=gAe(e,"string");return td(t)=="symbol"?t:t+""}function gAe(e,t){if(td(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(td(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var ib=(function(e){function t(){return cAe(this,t),fAe(this,t,arguments)}return pAe(t,e),dAe(t,[{key:"render",value:function(){return null}}])})(_.Component);TG(ib,"displayName","ZAxis");TG(ib,"defaultProps",{zAxisId:0,range:[64,64],scale:"auto",type:"number"});var vAe=["option","isActive"];function _h(){return _h=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_h.apply(this,arguments)}function yAe(e,t){if(e==null)return{};var n=bAe(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function bAe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function xAe(e){var t=e.option,n=e.isActive,r=yAe(e,vAe);return typeof t=="string"?_.createElement(qE,_h({option:_.createElement(I0,_h({type:t},r)),isActive:n,shapeType:"symbols"},r)):_.createElement(qE,_h({option:t,isActive:n,shapeType:"symbols"},r))}function nd(e){"@babel/helpers - typeof";return nd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nd(e)}function Sh(){return Sh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Sh.apply(this,arguments)}function Fq(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ri(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Fq(Object(n),!0).forEach(function(r){uo(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fq(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function wAe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Uq(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,RG(r.key),r)}}function _Ae(e,t,n){return t&&Uq(e.prototype,t),n&&Uq(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function SAe(e,t,n){return t=qy(t),jAe(e,CG()?Reflect.construct(t,n||[],qy(e).constructor):t.apply(e,n))}function jAe(e,t){if(t&&(nd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return NAe(e)}function NAe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function CG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(CG=function(){return!!e})()}function qy(e){return qy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},qy(e)}function EAe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&tA(e,t)}function tA(e,t){return tA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},tA(e,t)}function uo(e,t,n){return t=RG(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function RG(e){var t=AAe(e,"string");return nd(t)=="symbol"?t:t+""}function AAe(e,t){if(nd(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(nd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var ab=(function(e){function t(){var n;wAe(this,t);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=SAe(this,t,[].concat(i)),uo(n,"state",{isAnimationFinished:!1}),uo(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0})}),uo(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1})}),uo(n,"id",Gl("recharts-scatter-")),n}return EAe(t,e),_Ae(t,[{key:"renderSymbolsStatically",value:function(r){var i=this,a=this.props,o=a.shape,l=a.activeShape,d=a.activeIndex,f=St(this.props,!1);return r.map(function(m,p){var v=d===p,y=v?l:o,x=Ri(Ri({},f),m);return q.createElement(Gt,Sh({className:"recharts-scatter-symbol",key:"symbol-".concat(m?.cx,"-").concat(m?.cy,"-").concat(m?.size,"-").concat(p)},Gh(i.props,m,p),{role:"img"}),q.createElement(xAe,Sh({option:y,isActive:v,key:"symbol-".concat(p)},x)))})}},{key:"renderSymbolsWithAnimation",value:function(){var r=this,i=this.props,a=i.points,o=i.isAnimationActive,l=i.animationBegin,d=i.animationDuration,f=i.animationEasing,m=i.animationId,p=this.state.prevPoints;return q.createElement(ca,{begin:l,duration:d,isActive:o,easing:f,from:{t:0},to:{t:1},key:"pie-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(v){var y=v.t,x=a.map(function(b,w){var N=p&&p[w];if(N){var E=$n(N.cx,b.cx),j=$n(N.cy,b.cy),O=$n(N.size,b.size);return Ri(Ri({},b),{},{cx:E(y),cy:j(y),size:O(y)})}var T=$n(0,b.size);return Ri(Ri({},b),{},{size:T(y)})});return q.createElement(Gt,null,r.renderSymbolsStatically(x))})}},{key:"renderSymbols",value:function(){var r=this.props,i=r.points,a=r.isAnimationActive,o=this.state.prevPoints;return a&&i&&i.length&&(!o||!Ll(o,i))?this.renderSymbolsWithAnimation():this.renderSymbolsStatically(i)}},{key:"renderErrorBar",value:function(){var r=this.props.isAnimationActive;if(r&&!this.state.isAnimationFinished)return null;var i=this.props,a=i.points,o=i.xAxis,l=i.yAxis,d=i.children,f=Wr(d,$d);return f?f.map(function(m,p){var v=m.props,y=v.direction,x=v.dataKey;return q.cloneElement(m,{key:"".concat(y,"-").concat(x,"-").concat(a[p]),data:a,xAxis:o,yAxis:l,layout:y==="x"?"vertical":"horizontal",dataPointFormatter:function(w,N){return{x:w.cx,y:w.cy,value:y==="x"?+w.node.x:+w.node.y,errorVal:nr(w,N)}}})}):null}},{key:"renderLine",value:function(){var r=this.props,i=r.points,a=r.line,o=r.lineType,l=r.lineJointType,d=St(this.props,!1),f=St(a,!1),m,p;if(o==="joint")m=i.map(function(j){return{x:j.cx,y:j.cy}});else if(o==="fitting"){var v=lpe(i),y=v.xmin,x=v.xmax,b=v.a,w=v.b,N=function(O){return b*O+w};m=[{x:y,y:N(y)},{x,y:N(x)}]}var E=Ri(Ri(Ri({},d),{},{fill:"none",stroke:d&&d.fill},f),{},{points:m});return q.isValidElement(a)?p=q.cloneElement(a,E):Nt(a)?p=a(E):p=q.createElement(Ol,Sh({},E,{type:l})),q.createElement(Gt,{className:"recharts-scatter-line",key:"recharts-scatter-line"},p)}},{key:"render",value:function(){var r=this.props,i=r.hide,a=r.points,o=r.line,l=r.className,d=r.xAxis,f=r.yAxis,m=r.left,p=r.top,v=r.width,y=r.height,x=r.id,b=r.isAnimationActive;if(i||!a||!a.length)return null;var w=this.state.isAnimationFinished,N=Mt("recharts-scatter",l),E=d&&d.allowDataOverflow,j=f&&f.allowDataOverflow,O=E||j,T=xt(x)?this.id:x;return q.createElement(Gt,{className:N,clipPath:O?"url(#clipPath-".concat(T,")"):null},E||j?q.createElement("defs",null,q.createElement("clipPath",{id:"clipPath-".concat(T)},q.createElement("rect",{x:E?m:m-v/2,y:j?p:p-y/2,width:E?v:v*2,height:j?y:y*2}))):null,o&&this.renderLine(),this.renderErrorBar(),q.createElement(Gt,{key:"recharts-scatter-symbols"},this.renderSymbols()),(!b||w)&&Ta.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}}])})(_.PureComponent);uo(ab,"displayName","Scatter");uo(ab,"defaultProps",{xAxisId:0,yAxisId:0,zAxisId:0,legendType:"circle",lineType:"joint",lineJointType:"linear",data:[],shape:"circle",hide:!1,isAnimationActive:!Oo.isSsr,animationBegin:0,animationDuration:400,animationEasing:"linear"});uo(ab,"getComposedData",function(e){var t=e.xAxis,n=e.yAxis,r=e.zAxis,i=e.item,a=e.displayedData,o=e.xAxisTicks,l=e.yAxisTicks,d=e.offset,f=i.props.tooltipType,m=Wr(i.props.children,q0),p=xt(t.dataKey)?i.props.dataKey:t.dataKey,v=xt(n.dataKey)?i.props.dataKey:n.dataKey,y=r&&r.dataKey,x=r?r.range:ib.defaultProps.range,b=x&&x[0],w=t.scale.bandwidth?t.scale.bandwidth():0,N=n.scale.bandwidth?n.scale.bandwidth():0,E=a.map(function(j,O){var T=nr(j,p),C=nr(j,v),R=!xt(y)&&nr(j,y)||"-",P=[{name:xt(t.dataKey)?i.props.name:t.name||t.dataKey,unit:t.unit||"",value:T,payload:j,dataKey:p,type:f},{name:xt(n.dataKey)?i.props.name:n.name||n.dataKey,unit:n.unit||"",value:C,payload:j,dataKey:v,type:f}];R!=="-"&&P.push({name:r.name||r.dataKey,unit:r.unit||"",value:R,payload:j,dataKey:y,type:f});var k=Vu({axis:t,ticks:o,bandSize:w,entry:j,index:O,dataKey:p}),$=Vu({axis:n,ticks:l,bandSize:N,entry:j,index:O,dataKey:v}),B=R!=="-"?r.scale(R):b,I=Math.sqrt(Math.max(B,0)/Math.PI);return Ri(Ri({},j),{},{cx:k,cy:$,x:k-I,y:$-I,xAxis:t,yAxis:n,zAxis:r,width:2*I,height:2*I,size:B,node:{x:T,y:C,z:R},tooltipPayload:P,tooltipPosition:{x:k,y:$},payload:j},m&&m[O]&&m[O].props)});return Ri({points:E},d)});function rd(e){"@babel/helpers - typeof";return rd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rd(e)}function TAe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function OAe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,kG(r.key),r)}}function CAe(e,t,n){return t&&OAe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function RAe(e,t,n){return t=zy(t),PAe(e,PG()?Reflect.construct(t,n||[],zy(e).constructor):t.apply(e,n))}function PAe(e,t){if(t&&(rd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return MAe(e)}function MAe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function PG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(PG=function(){return!!e})()}function zy(e){return zy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},zy(e)}function kAe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&nA(e,t)}function nA(e,t){return nA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},nA(e,t)}function MG(e,t,n){return t=kG(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kG(e){var t=DAe(e,"string");return rd(t)=="symbol"?t:t+""}function DAe(e,t){if(rd(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(rd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function rA(){return rA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},rA.apply(this,arguments)}function IAe(e){var t=e.xAxisId,n=DO(),r=IO(),i=cG(t);return i==null?null:_.createElement(Ld,rA({},i,{className:Mt("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(o){return os(o,!0)}}))}var ia=(function(e){function t(){return TAe(this,t),RAe(this,t,arguments)}return kAe(t,e),CAe(t,[{key:"render",value:function(){return _.createElement(IAe,this.props)}}])})(_.Component);MG(ia,"displayName","XAxis");MG(ia,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function id(e){"@babel/helpers - typeof";return id=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},id(e)}function $Ae(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function LAe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,$G(r.key),r)}}function BAe(e,t,n){return t&&LAe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function qAe(e,t,n){return t=Fy(t),zAe(e,DG()?Reflect.construct(t,n||[],Fy(e).constructor):t.apply(e,n))}function zAe(e,t){if(t&&(id(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return FAe(e)}function FAe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function DG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(DG=function(){return!!e})()}function Fy(e){return Fy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Fy(e)}function UAe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&iA(e,t)}function iA(e,t){return iA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},iA(e,t)}function IG(e,t,n){return t=$G(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $G(e){var t=VAe(e,"string");return id(t)=="symbol"?t:t+""}function VAe(e,t){if(id(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(id(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function aA(){return aA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},aA.apply(this,arguments)}var HAe=function(t){var n=t.yAxisId,r=DO(),i=IO(),a=uG(n);return a==null?null:_.createElement(Ld,aA({},a,{className:Mt("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(l){return os(l,!0)}}))},wo=(function(e){function t(){return $Ae(this,t),qAe(this,t,arguments)}return UAe(t,e),BAe(t,[{key:"render",value:function(){return _.createElement(HAe,this.props)}}])})(_.Component);IG(wo,"displayName","YAxis");IG(wo,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function Vq(e){return YAe(e)||WAe(e)||KAe(e)||GAe()}function GAe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function KAe(e,t){if(e){if(typeof e=="string")return sA(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return sA(e,t)}}function WAe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function YAe(e){if(Array.isArray(e))return sA(e)}function sA(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var oA=function(t,n,r,i,a){var o=Wr(t,LO),l=Wr(t,tb),d=[].concat(Vq(o),Vq(l)),f=Wr(t,rb),m="".concat(i,"Id"),p=i[0],v=n;if(d.length&&(v=d.reduce(function(b,w){if(w.props[m]===r&&Oa(w.props,"extendDomain")&&Ce(w.props[p])){var N=w.props[p];return[Math.min(b[0],N),Math.max(b[1],N)]}return b},v)),f.length){var y="".concat(p,"1"),x="".concat(p,"2");v=f.reduce(function(b,w){if(w.props[m]===r&&Oa(w.props,"extendDomain")&&Ce(w.props[y])&&Ce(w.props[x])){var N=w.props[y],E=w.props[x];return[Math.min(b[0],N,E),Math.max(b[1],N,E)]}return b},v)}return a&&a.length&&(v=a.reduce(function(b,w){return Ce(w)?[Math.min(b[0],w),Math.max(b[1],w)]:b},v)),v},wj={exports:{}},Hq;function XAe(){return Hq||(Hq=1,(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(d,f,m){this.fn=d,this.context=f,this.once=m||!1}function a(d,f,m,p,v){if(typeof m!="function")throw new TypeError("The listener must be a function");var y=new i(m,p||d,v),x=n?n+f:f;return d._events[x]?d._events[x].fn?d._events[x]=[d._events[x],y]:d._events[x].push(y):(d._events[x]=y,d._eventsCount++),d}function o(d,f){--d._eventsCount===0?d._events=new r:delete d._events[f]}function l(){this._events=new r,this._eventsCount=0}l.prototype.eventNames=function(){var f=[],m,p;if(this._eventsCount===0)return f;for(p in m=this._events)t.call(m,p)&&f.push(n?p.slice(1):p);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(m)):f},l.prototype.listeners=function(f){var m=n?n+f:f,p=this._events[m];if(!p)return[];if(p.fn)return[p.fn];for(var v=0,y=p.length,x=new Array(y);v<y;v++)x[v]=p[v].fn;return x},l.prototype.listenerCount=function(f){var m=n?n+f:f,p=this._events[m];return p?p.fn?1:p.length:0},l.prototype.emit=function(f,m,p,v,y,x){var b=n?n+f:f;if(!this._events[b])return!1;var w=this._events[b],N=arguments.length,E,j;if(w.fn){switch(w.once&&this.removeListener(f,w.fn,void 0,!0),N){case 1:return w.fn.call(w.context),!0;case 2:return w.fn.call(w.context,m),!0;case 3:return w.fn.call(w.context,m,p),!0;case 4:return w.fn.call(w.context,m,p,v),!0;case 5:return w.fn.call(w.context,m,p,v,y),!0;case 6:return w.fn.call(w.context,m,p,v,y,x),!0}for(j=1,E=new Array(N-1);j<N;j++)E[j-1]=arguments[j];w.fn.apply(w.context,E)}else{var O=w.length,T;for(j=0;j<O;j++)switch(w[j].once&&this.removeListener(f,w[j].fn,void 0,!0),N){case 1:w[j].fn.call(w[j].context);break;case 2:w[j].fn.call(w[j].context,m);break;case 3:w[j].fn.call(w[j].context,m,p);break;case 4:w[j].fn.call(w[j].context,m,p,v);break;default:if(!E)for(T=1,E=new Array(N-1);T<N;T++)E[T-1]=arguments[T];w[j].fn.apply(w[j].context,E)}}return!0},l.prototype.on=function(f,m,p){return a(this,f,m,p,!1)},l.prototype.once=function(f,m,p){return a(this,f,m,p,!0)},l.prototype.removeListener=function(f,m,p,v){var y=n?n+f:f;if(!this._events[y])return this;if(!m)return o(this,y),this;var x=this._events[y];if(x.fn)x.fn===m&&(!v||x.once)&&(!p||x.context===p)&&o(this,y);else{for(var b=0,w=[],N=x.length;b<N;b++)(x[b].fn!==m||v&&!x[b].once||p&&x[b].context!==p)&&w.push(x[b]);w.length?this._events[y]=w.length===1?w[0]:w:o(this,y)}return this},l.prototype.removeAllListeners=function(f){var m;return f?(m=n?n+f:f,this._events[m]&&o(this,m)):(this._events=new r,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=n,l.EventEmitter=l,e.exports=l})(wj)),wj.exports}var QAe=XAe();const JAe=sn(QAe);var _j=new JAe,Sj="recharts.syncMouseEvents";function Em(e){"@babel/helpers - typeof";return Em=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Em(e)}function ZAe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function eTe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,LG(r.key),r)}}function tTe(e,t,n){return t&&eTe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function jj(e,t,n){return t=LG(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function LG(e){var t=nTe(e,"string");return Em(t)=="symbol"?t:t+""}function nTe(e,t){if(Em(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Em(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var rTe=(function(){function e(){ZAe(this,e),jj(this,"activeIndex",0),jj(this,"coordinateList",[]),jj(this,"layout","horizontal")}return tTe(e,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,a=i===void 0?null:i,o=n.container,l=o===void 0?null:o,d=n.layout,f=d===void 0?null:d,m=n.offset,p=m===void 0?null:m,v=n.mouseHandlerCallback,y=v===void 0?null:v;this.coordinateList=(r=a??this.coordinateList)!==null&&r!==void 0?r:[],this.container=l??this.container,this.layout=f??this.layout,this.offset=p??this.offset,this.mouseHandlerCallback=y??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),a=i.x,o=i.y,l=i.height,d=this.coordinateList[this.activeIndex].coordinate,f=((n=window)===null||n===void 0?void 0:n.scrollX)||0,m=((r=window)===null||r===void 0?void 0:r.scrollY)||0,p=a+d+f,v=o+this.offset.top+l/2+m;this.mouseHandlerCallback({pageX:p,pageY:v})}}}])})();function iTe(e,t,n){if(n==="number"&&t===!0&&Array.isArray(e)){var r=e?.[0],i=e?.[1];if(r&&i&&Ce(r)&&Ce(i))return!0}return!1}function aTe(e,t,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-i,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function BG(e){var t=e.cx,n=e.cy,r=e.radius,i=e.startAngle,a=e.endAngle,o=_r(t,n,r,i),l=_r(t,n,r,a);return{points:[o,l],cx:t,cy:n,radius:r,startAngle:i,endAngle:a}}function sTe(e,t,n){var r,i,a,o;if(e==="horizontal")r=t.x,a=r,i=n.top,o=n.top+n.height;else if(e==="vertical")i=t.y,o=i,r=n.left,a=n.left+n.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var l=t.cx,d=t.cy,f=t.innerRadius,m=t.outerRadius,p=t.angle,v=_r(l,d,f,p),y=_r(l,d,m,p);r=v.x,i=v.y,a=y.x,o=y.y}else return BG(t);return[{x:r,y:i},{x:a,y:o}]}function Am(e){"@babel/helpers - typeof";return Am=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Am(e)}function Gq(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function nv(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Gq(Object(n),!0).forEach(function(r){oTe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gq(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function oTe(e,t,n){return t=lTe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lTe(e){var t=cTe(e,"string");return Am(t)=="symbol"?t:t+""}function cTe(e,t){if(Am(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Am(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function uTe(e){var t,n,r=e.element,i=e.tooltipEventType,a=e.isActive,o=e.activeCoordinate,l=e.activePayload,d=e.offset,f=e.activeTooltipIndex,m=e.tooltipAxisBandSize,p=e.layout,v=e.chartName,y=(t=r.props.cursor)!==null&&t!==void 0?t:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!y||!a||!o||v!=="ScatterChart"&&i!=="axis")return null;var x,b=Ol;if(v==="ScatterChart")x=o,b=k2e;else if(v==="BarChart")x=aTe(p,o,d,m),b=CO;else if(p==="radial"){var w=BG(o),N=w.cx,E=w.cy,j=w.radius,O=w.startAngle,T=w.endAngle;x={cx:N,cy:E,startAngle:O,endAngle:T,innerRadius:j,outerRadius:j},b=B7}else x={points:sTe(p,o,d)},b=Ol;var C=nv(nv(nv(nv({stroke:"#ccc",pointerEvents:"none"},d),x),St(y,!1)),{},{payload:l,payloadIndex:f,className:Mt("recharts-tooltip-cursor",y.className)});return _.isValidElement(y)?_.cloneElement(y,C):_.createElement(b,C)}var dTe=["item"],fTe=["children","className","width","height","style","compact","title","desc"];function ad(e){"@babel/helpers - typeof";return ad=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ad(e)}function hu(){return hu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},hu.apply(this,arguments)}function Kq(e,t){return pTe(e)||mTe(e,t)||zG(e,t)||hTe()}function hTe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mTe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,o,l=[],d=!0,f=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(d=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);d=!0);}catch(m){f=!0,i=m}finally{try{if(!d&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(f)throw i}}return l}}function pTe(e){if(Array.isArray(e))return e}function Wq(e,t){if(e==null)return{};var n=gTe(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function gTe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function vTe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yTe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,FG(r.key),r)}}function bTe(e,t,n){return t&&yTe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function xTe(e,t,n){return t=Uy(t),wTe(e,qG()?Reflect.construct(t,n||[],Uy(e).constructor):t.apply(e,n))}function wTe(e,t){if(t&&(ad(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _Te(e)}function _Te(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qG=function(){return!!e})()}function Uy(e){return Uy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Uy(e)}function STe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&lA(e,t)}function lA(e,t){return lA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},lA(e,t)}function sd(e){return ETe(e)||NTe(e)||zG(e)||jTe()}function jTe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zG(e,t){if(e){if(typeof e=="string")return cA(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return cA(e,t)}}function NTe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function ETe(e){if(Array.isArray(e))return cA(e)}function cA(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Yq(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function xe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Yq(Object(n),!0).forEach(function(r){mt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yq(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function mt(e,t,n){return t=FG(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function FG(e){var t=ATe(e,"string");return ad(t)=="symbol"?t:t+""}function ATe(e,t){if(ad(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(ad(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var TTe={xAxis:["bottom","top"],yAxis:["left","right"]},OTe={width:"100%",height:"100%"},UG={x:0,y:0};function rv(e){return e}var CTe=function(t,n){return n==="horizontal"?t.x:n==="vertical"?t.y:n==="centric"?t.angle:t.radius},RTe=function(t,n,r,i){var a=n.find(function(m){return m&&m.index===r});if(a){if(t==="horizontal")return{x:a.coordinate,y:i.y};if(t==="vertical")return{x:i.x,y:a.coordinate};if(t==="centric"){var o=a.coordinate,l=i.radius;return xe(xe(xe({},i),_r(i.cx,i.cy,l,o)),{},{angle:o,radius:l})}var d=a.coordinate,f=i.angle;return xe(xe(xe({},i),_r(i.cx,i.cy,d,f)),{},{angle:f,radius:d})}return UG},sb=function(t,n){var r=n.graphicalItems,i=n.dataStartIndex,a=n.dataEndIndex,o=(r??[]).reduce(function(l,d){var f=d.props.data;return f&&f.length?[].concat(sd(l),sd(f)):l},[]);return o.length>0?o:t&&t.length&&Ce(i)&&Ce(a)?t.slice(i,a+1):[]};function VG(e){return e==="number"?[0,"auto"]:void 0}var uA=function(t,n,r,i){var a=t.graphicalItems,o=t.tooltipAxis,l=sb(n,t);return r<0||!a||!a.length||r>=l.length?null:a.reduce(function(d,f){var m,p=(m=f.props.data)!==null&&m!==void 0?m:n;p&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=r&&(p=p.slice(t.dataStartIndex,t.dataEndIndex+1));var v;if(o.dataKey&&!o.allowDuplicatedCategory){var y=p===void 0?l:p;v=Gv(y,o.dataKey,i)}else v=p&&p[r]||l[r];return v?[].concat(sd(d),[I7(f,v)]):d},[])},Xq=function(t,n,r,i){var a=i||{x:t.chartX,y:t.chartY},o=CTe(a,r),l=t.orderedTooltipTicks,d=t.tooltipAxis,f=t.tooltipTicks,m=g_e(o,l,f,d);if(m>=0&&f){var p=f[m]&&f[m].value,v=uA(t,n,m,p),y=RTe(r,l,m,a);return{activeTooltipIndex:m,activeLabel:p,activePayload:v,activeCoordinate:y}}return null},PTe=function(t,n){var r=n.axes,i=n.graphicalItems,a=n.axisType,o=n.axisIdKey,l=n.stackGroups,d=n.dataStartIndex,f=n.dataEndIndex,m=t.layout,p=t.children,v=t.stackOffset,y=M7(m,a);return r.reduce(function(x,b){var w,N=b.type.defaultProps!==void 0?xe(xe({},b.type.defaultProps),b.props):b.props,E=N.type,j=N.dataKey,O=N.allowDataOverflow,T=N.allowDuplicatedCategory,C=N.scale,R=N.ticks,P=N.includeHidden,k=N[o];if(x[k])return x;var $=sb(t.data,{graphicalItems:i.filter(function(K){var Z,le=o in K.props?K.props[o]:(Z=K.type.defaultProps)===null||Z===void 0?void 0:Z[o];return le===k}),dataStartIndex:d,dataEndIndex:f}),B=$.length,I,F,V;iTe(N.domain,O,E)&&(I=jE(N.domain,null,O),y&&(E==="number"||C!=="auto")&&(V=bh($,j,"category")));var U=VG(E);if(!I||I.length===0){var D,G=(D=N.domain)!==null&&D!==void 0?D:U;if(j){if(I=bh($,j,E),E==="category"&&y){var z=ope(I);T&&z?(F=I,I=Ay(0,B)):T||(I=rB(G,I,b).reduce(function(K,Z){return K.indexOf(Z)>=0?K:[].concat(sd(K),[Z])},[]))}else if(E==="category")T?I=I.filter(function(K){return K!==""&&!xt(K)}):I=rB(G,I,b).reduce(function(K,Z){return K.indexOf(Z)>=0||Z===""||xt(Z)?K:[].concat(sd(K),[Z])},[]);else if(E==="number"){var Y=w_e($,i.filter(function(K){var Z,le,be=o in K.props?K.props[o]:(Z=K.type.defaultProps)===null||Z===void 0?void 0:Z[o],ae="hide"in K.props?K.props.hide:(le=K.type.defaultProps)===null||le===void 0?void 0:le.hide;return be===k&&(P||!ae)}),j,a,m);Y&&(I=Y)}y&&(E==="number"||C!=="auto")&&(V=bh($,j,"category"))}else y?I=Ay(0,B):l&&l[k]&&l[k].hasStack&&E==="number"?I=v==="expand"?[0,1]:D7(l[k].stackGroups,d,f):I=P7($,i.filter(function(K){var Z=o in K.props?K.props[o]:K.type.defaultProps[o],le="hide"in K.props?K.props.hide:K.type.defaultProps.hide;return Z===k&&(P||!le)}),E,m,!0);if(E==="number")I=oA(p,I,k,a,R),G&&(I=jE(G,I,O));else if(E==="category"&&G){var de=G,H=I.every(function(K){return de.indexOf(K)>=0});H&&(I=de)}}return xe(xe({},x),{},mt({},k,xe(xe({},N),{},{axisType:a,domain:I,categoricalDomain:V,duplicateDomain:F,originalDomain:(w=N.domain)!==null&&w!==void 0?w:U,isCategorical:y,layout:m})))},{})},MTe=function(t,n){var r=n.graphicalItems,i=n.Axis,a=n.axisType,o=n.axisIdKey,l=n.stackGroups,d=n.dataStartIndex,f=n.dataEndIndex,m=t.layout,p=t.children,v=sb(t.data,{graphicalItems:r,dataStartIndex:d,dataEndIndex:f}),y=v.length,x=M7(m,a),b=-1;return r.reduce(function(w,N){var E=N.type.defaultProps!==void 0?xe(xe({},N.type.defaultProps),N.props):N.props,j=E[o],O=VG("number");if(!w[j]){b++;var T;return x?T=Ay(0,y):l&&l[j]&&l[j].hasStack?(T=D7(l[j].stackGroups,d,f),T=oA(p,T,j,a)):(T=jE(O,P7(v,r.filter(function(C){var R,P,k=o in C.props?C.props[o]:(R=C.type.defaultProps)===null||R===void 0?void 0:R[o],$="hide"in C.props?C.props.hide:(P=C.type.defaultProps)===null||P===void 0?void 0:P.hide;return k===j&&!$}),"number",m),i.defaultProps.allowDataOverflow),T=oA(p,T,j,a)),xe(xe({},w),{},mt({},j,xe(xe({axisType:a},i.defaultProps),{},{hide:!0,orientation:Li(TTe,"".concat(a,".").concat(b%2),null),domain:T,originalDomain:O,isCategorical:x,layout:m})))}return w},{})},kTe=function(t,n){var r=n.axisType,i=r===void 0?"xAxis":r,a=n.AxisComp,o=n.graphicalItems,l=n.stackGroups,d=n.dataStartIndex,f=n.dataEndIndex,m=t.children,p="".concat(i,"Id"),v=Wr(m,a),y={};return v&&v.length?y=PTe(t,{axes:v,graphicalItems:o,axisType:i,axisIdKey:p,stackGroups:l,dataStartIndex:d,dataEndIndex:f}):o&&o.length&&(y=MTe(t,{Axis:a,graphicalItems:o,axisType:i,axisIdKey:p,stackGroups:l,dataStartIndex:d,dataEndIndex:f})),y},DTe=function(t){var n=ao(t),r=os(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:rO(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:yy(n,r)}},Qq=function(t){var n=t.children,r=t.defaultShowTooltip,i=li(n,Ku),a=0,o=0;return t.data&&t.data.length!==0&&(o=t.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(a=i.props.startIndex),i.props.endIndex>=0&&(o=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!r}},ITe=function(t){return!t||!t.length?!1:t.some(function(n){var r=us(n&&n.type);return r&&r.indexOf("Bar")>=0})},Jq=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},$Te=function(t,n){var r=t.props,i=t.graphicalItems,a=t.xAxisMap,o=a===void 0?{}:a,l=t.yAxisMap,d=l===void 0?{}:l,f=r.width,m=r.height,p=r.children,v=r.margin||{},y=li(p,Ku),x=li(p,Nu),b=Object.keys(d).reduce(function(T,C){var R=d[C],P=R.orientation;return!R.mirror&&!R.hide?xe(xe({},T),{},mt({},P,T[P]+R.width)):T},{left:v.left||0,right:v.right||0}),w=Object.keys(o).reduce(function(T,C){var R=o[C],P=R.orientation;return!R.mirror&&!R.hide?xe(xe({},T),{},mt({},P,Li(T,"".concat(P))+R.height)):T},{top:v.top||0,bottom:v.bottom||0}),N=xe(xe({},w),b),E=N.bottom;y&&(N.bottom+=y.props.height||Ku.defaultProps.height),x&&n&&(N=b_e(N,i,r,n));var j=f-N.left-N.right,O=m-N.top-N.bottom;return xe(xe({brushBottom:E},N),{},{width:Math.max(j,0),height:Math.max(O,0)})},LTe=function(t,n){if(n==="xAxis")return t[n].width;if(n==="yAxis")return t[n].height},zO=function(t){var n=t.chartName,r=t.GraphicalChild,i=t.defaultTooltipEventType,a=i===void 0?"axis":i,o=t.validateTooltipEventTypes,l=o===void 0?["axis"]:o,d=t.axisComponents,f=t.legendContent,m=t.formatAxisMap,p=t.defaultProps,v=function(N,E){var j=E.graphicalItems,O=E.stackGroups,T=E.offset,C=E.updateId,R=E.dataStartIndex,P=E.dataEndIndex,k=N.barSize,$=N.layout,B=N.barGap,I=N.barCategoryGap,F=N.maxBarSize,V=Jq($),U=V.numericAxisName,D=V.cateAxisName,G=ITe(j),z=[];return j.forEach(function(Y,de){var H=sb(N.data,{graphicalItems:[Y],dataStartIndex:R,dataEndIndex:P}),K=Y.type.defaultProps!==void 0?xe(xe({},Y.type.defaultProps),Y.props):Y.props,Z=K.dataKey,le=K.maxBarSize,be=K["".concat(U,"Id")],ae=K["".concat(D,"Id")],J={},me=d.reduce(function(Xe,te){var Pe=E["".concat(te.axisType,"Map")],Ue=K["".concat(te.axisType,"Id")];Pe&&Pe[Ue]||te.axisType==="zAxis"||ql();var Lt=Pe[Ue];return xe(xe({},Xe),{},mt(mt({},te.axisType,Lt),"".concat(te.axisType,"Ticks"),os(Lt)))},J),oe=me[D],pe=me["".concat(D,"Ticks")],we=O&&O[be]&&O[be].hasStack&&M_e(Y,O[be].stackGroups),ee=us(Y.type).indexOf("Bar")>=0,qe=yy(oe,pe),ve=[],Ge=G&&v_e({barSize:k,stackGroups:O,totalSize:LTe(me,D)});if(ee){var ne,ie,De=xt(le)?F:le,dt=(ne=(ie=yy(oe,pe,!0))!==null&&ie!==void 0?ie:De)!==null&&ne!==void 0?ne:0;ve=y_e({barGap:B,barCategoryGap:I,bandSize:dt!==qe?dt:qe,sizeList:Ge[ae],maxBarSize:De}),dt!==qe&&(ve=ve.map(function(Xe){return xe(xe({},Xe),{},{position:xe(xe({},Xe.position),{},{offset:Xe.position.offset-dt/2})})}))}var Ie=Y&&Y.type&&Y.type.getComposedData;Ie&&z.push({props:xe(xe({},Ie(xe(xe({},me),{},{displayedData:H,props:N,dataKey:Z,item:Y,bandSize:qe,barPosition:ve,offset:T,stackedData:we,layout:$,dataStartIndex:R,dataEndIndex:P}))),{},mt(mt(mt({key:Y.key||"item-".concat(de)},U,me[U]),D,me[D]),"animationId",C)),childIndex:xpe(Y,N.children),item:Y})}),z},y=function(N,E){var j=N.props,O=N.dataStartIndex,T=N.dataEndIndex,C=N.updateId;if(!y$({props:j}))return null;var R=j.children,P=j.layout,k=j.stackOffset,$=j.data,B=j.reverseStackOrder,I=Jq(P),F=I.numericAxisName,V=I.cateAxisName,U=Wr(R,r),D=C_e($,U,"".concat(F,"Id"),"".concat(V,"Id"),k,B),G=d.reduce(function(K,Z){var le="".concat(Z.axisType,"Map");return xe(xe({},K),{},mt({},le,kTe(j,xe(xe({},Z),{},{graphicalItems:U,stackGroups:Z.axisType===F&&D,dataStartIndex:O,dataEndIndex:T}))))},{}),z=$Te(xe(xe({},G),{},{props:j,graphicalItems:U}),E?.legendBBox);Object.keys(G).forEach(function(K){G[K]=m(j,G[K],z,K.replace("Map",""),n)});var Y=G["".concat(V,"Map")],de=DTe(Y),H=v(j,xe(xe({},G),{},{dataStartIndex:O,dataEndIndex:T,updateId:C,graphicalItems:U,stackGroups:D,offset:z}));return xe(xe({formattedGraphicalItems:H,graphicalItems:U,offset:z,stackGroups:D},de),G)},x=(function(w){function N(E){var j,O,T;return vTe(this,N),T=xTe(this,N,[E]),mt(T,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),mt(T,"accessibilityManager",new rTe),mt(T,"handleLegendBBoxUpdate",function(C){if(C){var R=T.state,P=R.dataStartIndex,k=R.dataEndIndex,$=R.updateId;T.setState(xe({legendBBox:C},y({props:T.props,dataStartIndex:P,dataEndIndex:k,updateId:$},xe(xe({},T.state),{},{legendBBox:C}))))}}),mt(T,"handleReceiveSyncEvent",function(C,R,P){if(T.props.syncId===C){if(P===T.eventEmitterSymbol&&typeof T.props.syncMethod!="function")return;T.applySyncEvent(R)}}),mt(T,"handleBrushChange",function(C){var R=C.startIndex,P=C.endIndex;if(R!==T.state.dataStartIndex||P!==T.state.dataEndIndex){var k=T.state.updateId;T.setState(function(){return xe({dataStartIndex:R,dataEndIndex:P},y({props:T.props,dataStartIndex:R,dataEndIndex:P,updateId:k},T.state))}),T.triggerSyncEvent({dataStartIndex:R,dataEndIndex:P})}}),mt(T,"handleMouseEnter",function(C){var R=T.getMouseInfo(C);if(R){var P=xe(xe({},R),{},{isTooltipActive:!0});T.setState(P),T.triggerSyncEvent(P);var k=T.props.onMouseEnter;Nt(k)&&k(P,C)}}),mt(T,"triggeredAfterMouseMove",function(C){var R=T.getMouseInfo(C),P=R?xe(xe({},R),{},{isTooltipActive:!0}):{isTooltipActive:!1};T.setState(P),T.triggerSyncEvent(P);var k=T.props.onMouseMove;Nt(k)&&k(P,C)}),mt(T,"handleItemMouseEnter",function(C){T.setState(function(){return{isTooltipActive:!0,activeItem:C,activePayload:C.tooltipPayload,activeCoordinate:C.tooltipPosition||{x:C.cx,y:C.cy}}})}),mt(T,"handleItemMouseLeave",function(){T.setState(function(){return{isTooltipActive:!1}})}),mt(T,"handleMouseMove",function(C){C.persist(),T.throttleTriggeredAfterMouseMove(C)}),mt(T,"handleMouseLeave",function(C){T.throttleTriggeredAfterMouseMove.cancel();var R={isTooltipActive:!1};T.setState(R),T.triggerSyncEvent(R);var P=T.props.onMouseLeave;Nt(P)&&P(R,C)}),mt(T,"handleOuterEvent",function(C){var R=bpe(C),P=Li(T.props,"".concat(R));if(R&&Nt(P)){var k,$;/.*touch.*/i.test(R)?$=T.getMouseInfo(C.changedTouches[0]):$=T.getMouseInfo(C),P((k=$)!==null&&k!==void 0?k:{},C)}}),mt(T,"handleClick",function(C){var R=T.getMouseInfo(C);if(R){var P=xe(xe({},R),{},{isTooltipActive:!0});T.setState(P),T.triggerSyncEvent(P);var k=T.props.onClick;Nt(k)&&k(P,C)}}),mt(T,"handleMouseDown",function(C){var R=T.props.onMouseDown;if(Nt(R)){var P=T.getMouseInfo(C);R(P,C)}}),mt(T,"handleMouseUp",function(C){var R=T.props.onMouseUp;if(Nt(R)){var P=T.getMouseInfo(C);R(P,C)}}),mt(T,"handleTouchMove",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&T.throttleTriggeredAfterMouseMove(C.changedTouches[0])}),mt(T,"handleTouchStart",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&T.handleMouseDown(C.changedTouches[0])}),mt(T,"handleTouchEnd",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&T.handleMouseUp(C.changedTouches[0])}),mt(T,"handleDoubleClick",function(C){var R=T.props.onDoubleClick;if(Nt(R)){var P=T.getMouseInfo(C);R(P,C)}}),mt(T,"handleContextMenu",function(C){var R=T.props.onContextMenu;if(Nt(R)){var P=T.getMouseInfo(C);R(P,C)}}),mt(T,"triggerSyncEvent",function(C){T.props.syncId!==void 0&&_j.emit(Sj,T.props.syncId,C,T.eventEmitterSymbol)}),mt(T,"applySyncEvent",function(C){var R=T.props,P=R.layout,k=R.syncMethod,$=T.state.updateId,B=C.dataStartIndex,I=C.dataEndIndex;if(C.dataStartIndex!==void 0||C.dataEndIndex!==void 0)T.setState(xe({dataStartIndex:B,dataEndIndex:I},y({props:T.props,dataStartIndex:B,dataEndIndex:I,updateId:$},T.state)));else if(C.activeTooltipIndex!==void 0){var F=C.chartX,V=C.chartY,U=C.activeTooltipIndex,D=T.state,G=D.offset,z=D.tooltipTicks;if(!G)return;if(typeof k=="function")U=k(z,C);else if(k==="value"){U=-1;for(var Y=0;Y<z.length;Y++)if(z[Y].value===C.activeLabel){U=Y;break}}var de=xe(xe({},G),{},{x:G.left,y:G.top}),H=Math.min(F,de.x+de.width),K=Math.min(V,de.y+de.height),Z=z[U]&&z[U].value,le=uA(T.state,T.props.data,U),be=z[U]?{x:P==="horizontal"?z[U].coordinate:H,y:P==="horizontal"?K:z[U].coordinate}:UG;T.setState(xe(xe({},C),{},{activeLabel:Z,activeCoordinate:be,activePayload:le,activeTooltipIndex:U}))}else T.setState(C)}),mt(T,"renderCursor",function(C){var R,P=T.state,k=P.isTooltipActive,$=P.activeCoordinate,B=P.activePayload,I=P.offset,F=P.activeTooltipIndex,V=P.tooltipAxisBandSize,U=T.getTooltipEventType(),D=(R=C.props.active)!==null&&R!==void 0?R:k,G=T.props.layout,z=C.key||"_recharts-cursor";return q.createElement(uTe,{key:z,activeCoordinate:$,activePayload:B,activeTooltipIndex:F,chartName:n,element:C,isActive:D,layout:G,offset:I,tooltipAxisBandSize:V,tooltipEventType:U})}),mt(T,"renderPolarAxis",function(C,R,P){var k=Li(C,"type.axisType"),$=Li(T.state,"".concat(k,"Map")),B=C.type.defaultProps,I=B!==void 0?xe(xe({},B),C.props):C.props,F=$&&$[I["".concat(k,"Id")]];return _.cloneElement(C,xe(xe({},F),{},{className:Mt(k,F.className),key:C.key||"".concat(R,"-").concat(P),ticks:os(F,!0)}))}),mt(T,"renderPolarGrid",function(C){var R=C.props,P=R.radialLines,k=R.polarAngles,$=R.polarRadius,B=T.state,I=B.radiusAxisMap,F=B.angleAxisMap,V=ao(I),U=ao(F),D=U.cx,G=U.cy,z=U.innerRadius,Y=U.outerRadius;return _.cloneElement(C,{polarAngles:Array.isArray(k)?k:os(U,!0).map(function(de){return de.coordinate}),polarRadius:Array.isArray($)?$:os(V,!0).map(function(de){return de.coordinate}),cx:D,cy:G,innerRadius:z,outerRadius:Y,key:C.key||"polar-grid",radialLines:P})}),mt(T,"renderLegend",function(){var C=T.state.formattedGraphicalItems,R=T.props,P=R.children,k=R.width,$=R.height,B=T.props.margin||{},I=k-(B.left||0)-(B.right||0),F=C7({children:P,formattedGraphicalItems:C,legendWidth:I,legendContent:f});if(!F)return null;var V=F.item,U=Wq(F,dTe);return _.cloneElement(V,xe(xe({},U),{},{chartWidth:k,chartHeight:$,margin:B,onBBoxUpdate:T.handleLegendBBoxUpdate}))}),mt(T,"renderTooltip",function(){var C,R=T.props,P=R.children,k=R.accessibilityLayer,$=li(P,kr);if(!$)return null;var B=T.state,I=B.isTooltipActive,F=B.activeCoordinate,V=B.activePayload,U=B.activeLabel,D=B.offset,G=(C=$.props.active)!==null&&C!==void 0?C:I;return _.cloneElement($,{viewBox:xe(xe({},D),{},{x:D.left,y:D.top}),active:G,label:U,payload:G?V:[],coordinate:F,accessibilityLayer:k})}),mt(T,"renderBrush",function(C){var R=T.props,P=R.margin,k=R.data,$=T.state,B=$.offset,I=$.dataStartIndex,F=$.dataEndIndex,V=$.updateId;return _.cloneElement(C,{key:C.key||"_recharts-brush",onChange:Jg(T.handleBrushChange,C.props.onChange),data:k,x:Ce(C.props.x)?C.props.x:B.left,y:Ce(C.props.y)?C.props.y:B.top+B.height+B.brushBottom-(P.bottom||0),width:Ce(C.props.width)?C.props.width:B.width,startIndex:I,endIndex:F,updateId:"brush-".concat(V)})}),mt(T,"renderReferenceElement",function(C,R,P){if(!C)return null;var k=T,$=k.clipPathId,B=T.state,I=B.xAxisMap,F=B.yAxisMap,V=B.offset,U=C.type.defaultProps||{},D=C.props,G=D.xAxisId,z=G===void 0?U.xAxisId:G,Y=D.yAxisId,de=Y===void 0?U.yAxisId:Y;return _.cloneElement(C,{key:C.key||"".concat(R,"-").concat(P),xAxis:I[z],yAxis:F[de],viewBox:{x:V.left,y:V.top,width:V.width,height:V.height},clipPathId:$})}),mt(T,"renderActivePoints",function(C){var R=C.item,P=C.activePoint,k=C.basePoint,$=C.childIndex,B=C.isRange,I=[],F=R.props.key,V=R.item.type.defaultProps!==void 0?xe(xe({},R.item.type.defaultProps),R.item.props):R.item.props,U=V.activeDot,D=V.dataKey,G=xe(xe({index:$,dataKey:D,cx:P.x,cy:P.y,r:4,fill:OO(R.item),strokeWidth:2,stroke:"#fff",payload:P.payload,value:P.value},St(U,!1)),Kv(U));return I.push(N.renderActiveDot(U,G,"".concat(F,"-activePoint-").concat($))),k?I.push(N.renderActiveDot(U,xe(xe({},G),{},{cx:k.x,cy:k.y}),"".concat(F,"-basePoint-").concat($))):B&&I.push(null),I}),mt(T,"renderGraphicChild",function(C,R,P){var k=T.filterFormatItem(C,R,P);if(!k)return null;var $=T.getTooltipEventType(),B=T.state,I=B.isTooltipActive,F=B.tooltipAxis,V=B.activeTooltipIndex,U=B.activeLabel,D=T.props.children,G=li(D,kr),z=k.props,Y=z.points,de=z.isRange,H=z.baseLine,K=k.item.type.defaultProps!==void 0?xe(xe({},k.item.type.defaultProps),k.item.props):k.item.props,Z=K.activeDot,le=K.hide,be=K.activeBar,ae=K.activeShape,J=!!(!le&&I&&G&&(Z||be||ae)),me={};$!=="axis"&&G&&G.props.trigger==="click"?me={onClick:Jg(T.handleItemMouseEnter,C.props.onClick)}:$!=="axis"&&(me={onMouseLeave:Jg(T.handleItemMouseLeave,C.props.onMouseLeave),onMouseEnter:Jg(T.handleItemMouseEnter,C.props.onMouseEnter)});var oe=_.cloneElement(C,xe(xe({},k.props),me));function pe(te){return typeof F.dataKey=="function"?F.dataKey(te.payload):null}if(J)if(V>=0){var we,ee;if(F.dataKey&&!F.allowDuplicatedCategory){var qe=typeof F.dataKey=="function"?pe:"payload.".concat(F.dataKey.toString());we=Gv(Y,qe,U),ee=de&&H&&Gv(H,qe,U)}else we=Y?.[V],ee=de&&H&&H[V];if(ae||be){var ve=C.props.activeIndex!==void 0?C.props.activeIndex:V;return[_.cloneElement(C,xe(xe(xe({},k.props),me),{},{activeIndex:ve})),null,null]}if(!xt(we))return[oe].concat(sd(T.renderActivePoints({item:k,activePoint:we,basePoint:ee,childIndex:V,isRange:de})))}else{var Ge,ne=(Ge=T.getItemByXY(T.state.activeCoordinate))!==null&&Ge!==void 0?Ge:{graphicalItem:oe},ie=ne.graphicalItem,De=ie.item,dt=De===void 0?C:De,Ie=ie.childIndex,Xe=xe(xe(xe({},k.props),me),{},{activeIndex:Ie});return[_.cloneElement(dt,Xe),null,null]}return de?[oe,null,null]:[oe,null]}),mt(T,"renderCustomized",function(C,R,P){return _.cloneElement(C,xe(xe({key:"recharts-customized-".concat(P)},T.props),T.state))}),mt(T,"renderMap",{CartesianGrid:{handler:rv,once:!0},ReferenceArea:{handler:T.renderReferenceElement},ReferenceLine:{handler:rv},ReferenceDot:{handler:T.renderReferenceElement},XAxis:{handler:rv},YAxis:{handler:rv},Brush:{handler:T.renderBrush,once:!0},Bar:{handler:T.renderGraphicChild},Line:{handler:T.renderGraphicChild},Area:{handler:T.renderGraphicChild},Radar:{handler:T.renderGraphicChild},RadialBar:{handler:T.renderGraphicChild},Scatter:{handler:T.renderGraphicChild},Pie:{handler:T.renderGraphicChild},Funnel:{handler:T.renderGraphicChild},Tooltip:{handler:T.renderCursor,once:!0},PolarGrid:{handler:T.renderPolarGrid,once:!0},PolarAngleAxis:{handler:T.renderPolarAxis},PolarRadiusAxis:{handler:T.renderPolarAxis},Customized:{handler:T.renderCustomized}}),T.clipPathId="".concat((j=E.id)!==null&&j!==void 0?j:Gl("recharts"),"-clip"),T.throttleTriggeredAfterMouseMove=CH(T.triggeredAfterMouseMove,(O=E.throttleDelay)!==null&&O!==void 0?O:1e3/60),T.state={},T}return STe(N,w),bTe(N,[{key:"componentDidMount",value:function(){var j,O;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(j=this.props.margin.left)!==null&&j!==void 0?j:0,top:(O=this.props.margin.top)!==null&&O!==void 0?O:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var j=this.props,O=j.children,T=j.data,C=j.height,R=j.layout,P=li(O,kr);if(P){var k=P.props.defaultIndex;if(!(typeof k!="number"||k<0||k>this.state.tooltipTicks.length-1)){var $=this.state.tooltipTicks[k]&&this.state.tooltipTicks[k].value,B=uA(this.state,T,k,$),I=this.state.tooltipTicks[k].coordinate,F=(this.state.offset.top+C)/2,V=R==="horizontal",U=V?{x:I,y:F}:{y:I,x:F},D=this.state.formattedGraphicalItems.find(function(z){var Y=z.item;return Y.type.name==="Scatter"});D&&(U=xe(xe({},U),D.props.points[k].tooltipPosition),B=D.props.points[k].tooltipPayload);var G={activeTooltipIndex:k,isTooltipActive:!0,activeLabel:$,activePayload:B,activeCoordinate:U};this.setState(G),this.renderCursor(P),this.accessibilityManager.setIndex(k)}}}},{key:"getSnapshotBeforeUpdate",value:function(j,O){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==O.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==j.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==j.margin){var T,C;this.accessibilityManager.setDetails({offset:{left:(T=this.props.margin.left)!==null&&T!==void 0?T:0,top:(C=this.props.margin.top)!==null&&C!==void 0?C:0}})}return null}},{key:"componentDidUpdate",value:function(j){GN([li(j.children,kr)],[li(this.props.children,kr)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var j=li(this.props.children,kr);if(j&&typeof j.props.shared=="boolean"){var O=j.props.shared?"axis":"item";return l.indexOf(O)>=0?O:a}return a}},{key:"getMouseInfo",value:function(j){if(!this.container)return null;var O=this.container,T=O.getBoundingClientRect(),C=s0e(T),R={chartX:Math.round(j.pageX-C.left),chartY:Math.round(j.pageY-C.top)},P=T.width/O.offsetWidth||1,k=this.inRange(R.chartX,R.chartY,P);if(!k)return null;var $=this.state,B=$.xAxisMap,I=$.yAxisMap,F=this.getTooltipEventType(),V=Xq(this.state,this.props.data,this.props.layout,k);if(F!=="axis"&&B&&I){var U=ao(B).scale,D=ao(I).scale,G=U&&U.invert?U.invert(R.chartX):null,z=D&&D.invert?D.invert(R.chartY):null;return xe(xe({},R),{},{xValue:G,yValue:z},V)}return V?xe(xe({},R),V):null}},{key:"inRange",value:function(j,O){var T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,C=this.props.layout,R=j/T,P=O/T;if(C==="horizontal"||C==="vertical"){var k=this.state.offset,$=R>=k.left&&R<=k.left+k.width&&P>=k.top&&P<=k.top+k.height;return $?{x:R,y:P}:null}var B=this.state,I=B.angleAxisMap,F=B.radiusAxisMap;if(I&&F){var V=ao(I);return sB({x:R,y:P},V)}return null}},{key:"parseEventsOfWrapper",value:function(){var j=this.props.children,O=this.getTooltipEventType(),T=li(j,kr),C={};T&&O==="axis"&&(T.props.trigger==="click"?C={onClick:this.handleClick}:C={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var R=Kv(this.props,this.handleOuterEvent);return xe(xe({},R),C)}},{key:"addListener",value:function(){_j.on(Sj,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){_j.removeListener(Sj,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(j,O,T){for(var C=this.state.formattedGraphicalItems,R=0,P=C.length;R<P;R++){var k=C[R];if(k.item===j||k.props.key===j.key||O===us(k.item.type)&&T===k.childIndex)return k}return null}},{key:"renderClipPath",value:function(){var j=this.clipPathId,O=this.state.offset,T=O.left,C=O.top,R=O.height,P=O.width;return q.createElement("defs",null,q.createElement("clipPath",{id:j},q.createElement("rect",{x:T,y:C,height:R,width:P})))}},{key:"getXScales",value:function(){var j=this.state.xAxisMap;return j?Object.entries(j).reduce(function(O,T){var C=Kq(T,2),R=C[0],P=C[1];return xe(xe({},O),{},mt({},R,P.scale))},{}):null}},{key:"getYScales",value:function(){var j=this.state.yAxisMap;return j?Object.entries(j).reduce(function(O,T){var C=Kq(T,2),R=C[0],P=C[1];return xe(xe({},O),{},mt({},R,P.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(j){var O;return(O=this.state.xAxisMap)===null||O===void 0||(O=O[j])===null||O===void 0?void 0:O.scale}},{key:"getYScaleByAxisId",value:function(j){var O;return(O=this.state.yAxisMap)===null||O===void 0||(O=O[j])===null||O===void 0?void 0:O.scale}},{key:"getItemByXY",value:function(j){var O=this.state,T=O.formattedGraphicalItems,C=O.activeItem;if(T&&T.length)for(var R=0,P=T.length;R<P;R++){var k=T[R],$=k.props,B=k.item,I=B.type.defaultProps!==void 0?xe(xe({},B.type.defaultProps),B.props):B.props,F=us(B.type);if(F==="Bar"){var V=($.data||[]).find(function(z){return j2e(j,z)});if(V)return{graphicalItem:k,payload:V}}else if(F==="RadialBar"){var U=($.data||[]).find(function(z){return sB(j,z)});if(U)return{graphicalItem:k,payload:U}}else if(Q0(k,C)||J0(k,C)||wm(k,C)){var D=hje({graphicalItem:k,activeTooltipItem:C,itemData:I.data}),G=I.activeIndex===void 0?D:I.activeIndex;return{graphicalItem:xe(xe({},k),{},{childIndex:G}),payload:wm(k,C)?I.data[D]:k.props.data[D]}}}return null}},{key:"render",value:function(){var j=this;if(!y$(this))return null;var O=this.props,T=O.children,C=O.className,R=O.width,P=O.height,k=O.style,$=O.compact,B=O.title,I=O.desc,F=Wq(O,fTe),V=St(F,!1);if($)return q.createElement(jq,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},q.createElement(WN,hu({},V,{width:R,height:P,title:B,desc:I}),this.renderClipPath(),x$(T,this.renderMap)));if(this.props.accessibilityLayer){var U,D;V.tabIndex=(U=this.props.tabIndex)!==null&&U!==void 0?U:0,V.role=(D=this.props.role)!==null&&D!==void 0?D:"application",V.onKeyDown=function(z){j.accessibilityManager.keyboardEvent(z)},V.onFocus=function(){j.accessibilityManager.focus()}}var G=this.parseEventsOfWrapper();return q.createElement(jq,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},q.createElement("div",hu({className:Mt("recharts-wrapper",C),style:xe({position:"relative",cursor:"default",width:R,height:P},k)},G,{ref:function(Y){j.container=Y}}),q.createElement(WN,hu({},V,{width:R,height:P,title:B,desc:I,style:OTe}),this.renderClipPath(),x$(T,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])})(_.Component);mt(x,"displayName",n),mt(x,"defaultProps",xe({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},p)),mt(x,"getDerivedStateFromProps",function(w,N){var E=w.dataKey,j=w.data,O=w.children,T=w.width,C=w.height,R=w.layout,P=w.stackOffset,k=w.margin,$=N.dataStartIndex,B=N.dataEndIndex;if(N.updateId===void 0){var I=Qq(w);return xe(xe(xe({},I),{},{updateId:0},y(xe(xe({props:w},I),{},{updateId:0}),N)),{},{prevDataKey:E,prevData:j,prevWidth:T,prevHeight:C,prevLayout:R,prevStackOffset:P,prevMargin:k,prevChildren:O})}if(E!==N.prevDataKey||j!==N.prevData||T!==N.prevWidth||C!==N.prevHeight||R!==N.prevLayout||P!==N.prevStackOffset||!ju(k,N.prevMargin)){var F=Qq(w),V={chartX:N.chartX,chartY:N.chartY,isTooltipActive:N.isTooltipActive},U=xe(xe({},Xq(N,j,R)),{},{updateId:N.updateId+1}),D=xe(xe(xe({},F),V),U);return xe(xe(xe({},D),y(xe({props:w},D),N)),{},{prevDataKey:E,prevData:j,prevWidth:T,prevHeight:C,prevLayout:R,prevStackOffset:P,prevMargin:k,prevChildren:O})}if(!GN(O,N.prevChildren)){var G,z,Y,de,H=li(O,Ku),K=H&&(G=(z=H.props)===null||z===void 0?void 0:z.startIndex)!==null&&G!==void 0?G:$,Z=H&&(Y=(de=H.props)===null||de===void 0?void 0:de.endIndex)!==null&&Y!==void 0?Y:B,le=K!==$||Z!==B,be=!xt(j),ae=be&&!le?N.updateId:N.updateId+1;return xe(xe({updateId:ae},y(xe(xe({props:w},N),{},{updateId:ae,dataStartIndex:K,dataEndIndex:Z}),N)),{},{prevChildren:O,dataStartIndex:K,dataEndIndex:Z})}return null}),mt(x,"renderActiveDot",function(w,N,E){var j;return _.isValidElement(w)?j=_.cloneElement(w,N):Nt(w)?j=w(N):j=q.createElement(X0,N),q.createElement(Gt,{className:"recharts-active-dot",key:E},j)});var b=_.forwardRef(function(N,E){return q.createElement(x,hu({},N,{ref:E}))});return b.displayName=x.displayName,b},BTe=zO({chartName:"LineChart",GraphicalChild:mo,axisComponents:[{axisType:"xAxis",AxisComp:ia},{axisType:"yAxis",AxisComp:wo}],formatAxisMap:RO}),xv=zO({chartName:"BarChart",GraphicalChild:hi,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:ia},{axisType:"yAxis",AxisComp:wo}],formatAxisMap:RO}),qTe=zO({chartName:"ComposedChart",GraphicalChild:[mo,Xl,hi,ab],axisComponents:[{axisType:"xAxis",AxisComp:ia},{axisType:"yAxis",AxisComp:wo},{axisType:"zAxis",AxisComp:ib}],formatAxisMap:RO});function $r(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function _o(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function zTe(e,t){const n=$r(e);return isNaN(t)?_o(e,NaN):(t&&n.setDate(n.getDate()+t),n)}const HG=6048e5,FTe=864e5;let UTe={};function ob(){return UTe}function Fl(e,t){const n=ob(),r=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,i=$r(e),a=i.getDay(),o=(a<r?7:0)+a-r;return i.setDate(i.getDate()-o),i.setHours(0,0,0,0),i}function Vy(e){return Fl(e,{weekStartsOn:1})}function GG(e){const t=$r(e),n=t.getFullYear(),r=_o(e,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const i=Vy(r),a=_o(e,0);a.setFullYear(n,0,4),a.setHours(0,0,0,0);const o=Vy(a);return t.getTime()>=i.getTime()?n+1:t.getTime()>=o.getTime()?n:n-1}function dA(e){const t=$r(e);return t.setHours(0,0,0,0),t}function Zq(e){const t=$r(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function VTe(e,t){const n=dA(e),r=dA(t),i=+n-Zq(n),a=+r-Zq(r);return Math.round((i-a)/FTe)}function HTe(e){const t=GG(e),n=_o(e,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),Vy(n)}function GTe(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function KTe(e){if(!GTe(e)&&typeof e!="number")return!1;const t=$r(e);return!isNaN(Number(t))}function WTe(e){const t=$r(e);return t.setHours(23,59,59,999),t}function YTe(e){const t=$r(e),n=_o(e,0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}const XTe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},QTe=(e,t,n)=>{let r;const i=XTe[e];return typeof i=="string"?r=i:t===1?r=i.one:r=i.other.replace("{{count}}",t.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Tu(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const JTe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},ZTe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},eOe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},tOe={date:Tu({formats:JTe,defaultWidth:"full"}),time:Tu({formats:ZTe,defaultWidth:"full"}),dateTime:Tu({formats:eOe,defaultWidth:"full"})},nOe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},rOe=(e,t,n,r)=>nOe[e];function ya(e){return(t,n)=>{const r=n?.context?String(n.context):"standalone";let i;if(r==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=n?.width?String(n.width):o;i=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=n?.width?String(n.width):e.defaultWidth;i=e.values[l]||e.values[o]}const a=e.argumentCallback?e.argumentCallback(t):t;return i[a]}}const iOe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},aOe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},sOe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},oOe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},lOe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},cOe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},uOe=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},dOe={ordinalNumber:uOe,era:ya({values:iOe,defaultWidth:"wide"}),quarter:ya({values:aOe,defaultWidth:"wide",argumentCallback:e=>e-1}),month:ya({values:sOe,defaultWidth:"wide"}),day:ya({values:oOe,defaultWidth:"wide"}),dayPeriod:ya({values:lOe,defaultWidth:"wide",formattingValues:cOe,defaultFormattingWidth:"wide"})};function ba(e){return(t,n={})=>{const r=n.width,i=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],a=t.match(i);if(!a)return null;const o=a[0],l=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],d=Array.isArray(l)?hOe(l,p=>p.test(o)):fOe(l,p=>p.test(o));let f;f=e.valueCallback?e.valueCallback(d):d,f=n.valueCallback?n.valueCallback(f):f;const m=t.slice(o.length);return{value:f,rest:m}}}function fOe(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function hOe(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function KG(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const i=r[0],a=t.match(e.parsePattern);if(!a)return null;let o=e.valueCallback?e.valueCallback(a[0]):a[0];o=n.valueCallback?n.valueCallback(o):o;const l=t.slice(i.length);return{value:o,rest:l}}}const mOe=/^(\d+)(th|st|nd|rd)?/i,pOe=/\d+/i,gOe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},vOe={any:[/^b/i,/^(a|c)/i]},yOe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},bOe={any:[/1/i,/2/i,/3/i,/4/i]},xOe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},wOe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},_Oe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},SOe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},jOe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},NOe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},EOe={ordinalNumber:KG({matchPattern:mOe,parsePattern:pOe,valueCallback:e=>parseInt(e,10)}),era:ba({matchPatterns:gOe,defaultMatchWidth:"wide",parsePatterns:vOe,defaultParseWidth:"any"}),quarter:ba({matchPatterns:yOe,defaultMatchWidth:"wide",parsePatterns:bOe,defaultParseWidth:"any",valueCallback:e=>e+1}),month:ba({matchPatterns:xOe,defaultMatchWidth:"wide",parsePatterns:wOe,defaultParseWidth:"any"}),day:ba({matchPatterns:_Oe,defaultMatchWidth:"wide",parsePatterns:SOe,defaultParseWidth:"any"}),dayPeriod:ba({matchPatterns:jOe,defaultMatchWidth:"any",parsePatterns:NOe,defaultParseWidth:"any"})},AOe={code:"en-US",formatDistance:QTe,formatLong:tOe,formatRelative:rOe,localize:dOe,match:EOe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function TOe(e){const t=$r(e);return VTe(t,YTe(t))+1}function OOe(e){const t=$r(e),n=+Vy(t)-+HTe(t);return Math.round(n/HG)+1}function WG(e,t){const n=$r(e),r=n.getFullYear(),i=ob(),a=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,o=_o(e,0);o.setFullYear(r+1,0,a),o.setHours(0,0,0,0);const l=Fl(o,t),d=_o(e,0);d.setFullYear(r,0,a),d.setHours(0,0,0,0);const f=Fl(d,t);return n.getTime()>=l.getTime()?r+1:n.getTime()>=f.getTime()?r:r-1}function COe(e,t){const n=ob(),r=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,i=WG(e,t),a=_o(e,0);return a.setFullYear(i,0,r),a.setHours(0,0,0,0),Fl(a,t)}function ROe(e,t){const n=$r(e),r=+Fl(n,t)-+COe(n,t);return Math.round(r/HG)+1}function Jt(e,t){const n=e<0?"-":"",r=Math.abs(e).toString().padStart(t,"0");return n+r}const Qs={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return Jt(t==="yy"?r%100:r,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):Jt(n+1,2)},d(e,t){return Jt(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return Jt(e.getHours()%12||12,t.length)},H(e,t){return Jt(e.getHours(),t.length)},m(e,t){return Jt(e.getMinutes(),t.length)},s(e,t){return Jt(e.getSeconds(),t.length)},S(e,t){const n=t.length,r=e.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return Jt(i,t.length)}},Qc={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},e6={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const r=e.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return Qs.y(e,t)},Y:function(e,t,n,r){const i=WG(e,r),a=i>0?i:1-i;if(t==="YY"){const o=a%100;return Jt(o,2)}return t==="Yo"?n.ordinalNumber(a,{unit:"year"}):Jt(a,t.length)},R:function(e,t){const n=GG(e);return Jt(n,t.length)},u:function(e,t){const n=e.getFullYear();return Jt(n,t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return Jt(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return Jt(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return Qs.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return Jt(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const i=ROe(e,r);return t==="wo"?n.ordinalNumber(i,{unit:"week"}):Jt(i,t.length)},I:function(e,t,n){const r=OOe(e);return t==="Io"?n.ordinalNumber(r,{unit:"week"}):Jt(r,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):Qs.d(e,t)},D:function(e,t,n){const r=TOe(e);return t==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):Jt(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const i=e.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(a);case"ee":return Jt(a,2);case"eo":return n.ordinalNumber(a,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const i=e.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(a);case"cc":return Jt(a,t.length);case"co":return n.ordinalNumber(a,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),i=r===0?7:r;switch(t){case"i":return String(i);case"ii":return Jt(i,t.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const i=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let i;switch(r===12?i=Qc.noon:r===0?i=Qc.midnight:i=r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let i;switch(r>=17?i=Qc.evening:r>=12?i=Qc.afternoon:r>=4?i=Qc.morning:i=Qc.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let r=e.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Qs.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):Qs.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return t==="Ko"?n.ordinalNumber(r,{unit:"hour"}):Jt(r,t.length)},k:function(e,t,n){let r=e.getHours();return r===0&&(r=24),t==="ko"?n.ordinalNumber(r,{unit:"hour"}):Jt(r,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):Qs.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):Qs.s(e,t)},S:function(e,t){return Qs.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(r===0)return"Z";switch(t){case"X":return n6(r);case"XXXX":case"XX":return ul(r);case"XXXXX":case"XXX":default:return ul(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return n6(r);case"xxxx":case"xx":return ul(r);case"xxxxx":case"xxx":default:return ul(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+t6(r,":");case"OOOO":default:return"GMT"+ul(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+t6(r,":");case"zzzz":default:return"GMT"+ul(r,":")}},t:function(e,t,n){const r=Math.trunc(e.getTime()/1e3);return Jt(r,t.length)},T:function(e,t,n){const r=e.getTime();return Jt(r,t.length)}};function t6(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),i=Math.trunc(r/60),a=r%60;return a===0?n+String(i):n+String(i)+t+Jt(a,2)}function n6(e,t){return e%60===0?(e>0?"-":"+")+Jt(Math.abs(e)/60,2):ul(e,t)}function ul(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),i=Jt(Math.trunc(r/60),2),a=Jt(r%60,2);return n+i+t+a}const r6=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},YG=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},POe=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return r6(e,t);let a;switch(r){case"P":a=t.dateTime({width:"short"});break;case"PP":a=t.dateTime({width:"medium"});break;case"PPP":a=t.dateTime({width:"long"});break;case"PPPP":default:a=t.dateTime({width:"full"});break}return a.replace("{{date}}",r6(r,t)).replace("{{time}}",YG(i,t))},MOe={p:YG,P:POe},kOe=/^D+$/,DOe=/^Y+$/,IOe=["D","DD","YY","YYYY"];function $Oe(e){return kOe.test(e)}function LOe(e){return DOe.test(e)}function BOe(e,t,n){const r=qOe(e,t,n);if(console.warn(r),IOe.includes(e))throw new RangeError(r)}function qOe(e,t,n){const r=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const zOe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,FOe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,UOe=/^'([^]*?)'?$/,VOe=/''/g,HOe=/[a-zA-Z]/;function jn(e,t,n){const r=ob(),i=n?.locale??r.locale??AOe,a=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,o=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,l=$r(e);if(!KTe(l))throw new RangeError("Invalid time value");let d=t.match(FOe).map(m=>{const p=m[0];if(p==="p"||p==="P"){const v=MOe[p];return v(m,i.formatLong)}return m}).join("").match(zOe).map(m=>{if(m==="''")return{isToken:!1,value:"'"};const p=m[0];if(p==="'")return{isToken:!1,value:GOe(m)};if(e6[p])return{isToken:!0,value:m};if(p.match(HOe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+p+"`");return{isToken:!1,value:m}});i.localize.preprocessor&&(d=i.localize.preprocessor(l,d));const f={firstWeekContainsDate:a,weekStartsOn:o,locale:i};return d.map(m=>{if(!m.isToken)return m.value;const p=m.value;(!n?.useAdditionalWeekYearTokens&&LOe(p)||!n?.useAdditionalDayOfYearTokens&&$Oe(p))&&BOe(p,t,String(e));const v=e6[p[0]];return v(l,p,i.localize,f)}).join("")}function GOe(e){const t=e.match(UOe);return t?t[1].replace(VOe,"'"):e}function KOe(e,t,n){const r=Fl(e,n),i=Fl(t,n);return+r==+i}function WOe(e,t){const n=$r(e),r=$r(t);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function Nj(e,t){return zTe(e,-t)}const i6={low:"hsl(0 84% 60%)",mid:"hsl(48 96% 53%)",high:"hsl(142 70% 45%)",empty:"hsl(var(--muted-foreground))"};function jh(e,{invert:t=!1,tone:n=i6}={}){if(e==null||Number.isNaN(e))return n.empty??i6.empty;const r=t?n.high:n.low,i=t?n.low:n.high;return e>=4?i:e>=3?n.mid:r}const YOe=fd("whitespace-nowrap inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 hover-elevate ",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow-xs",secondary:"border-transparent bg-secondary text-secondary-foreground",destructive:"border-transparent bg-destructive text-destructive-foreground shadow-xs",outline:"text-foreground border [border-color:var(--badge-outline)]"}},defaultVariants:{variant:"default"}});function hn({className:e,variant:t,...n}){return c.jsx("div",{className:Ae(YOe({variant:t}),e),...n})}const XG="rounded-full px-3 py-1 text-sm font-mono font-bold",QG=e=>{const t=e.match(/hsl\((\d+(?:\.\d+)?)\s+(\d+(?:\.\d+)?)%\s+(\d+(?:\.\d+)?)%\)/);if(!t)return"#000";const[,n,r,i]=t,a=Number(n),o=Number(r)/100,l=Number(i)/100,d=(1-Math.abs(2*l-1))*o,f=d*(1-Math.abs(a/60%2-1)),m=l-d/2;let p=0,v=0,y=0;a>=0&&a<60?(p=d,v=f):a>=60&&a<120?(p=f,v=d):a>=120&&a<180?(v=d,y=f):a>=180&&a<240?(v=f,y=d):a>=240&&a<300?(p=f,y=d):(p=d,y=f);const x=Math.round((p+m)*255),b=Math.round((v+m)*255),w=Math.round((y+m)*255);return .2126*x+.7152*b+.0722*w>155?"#000":"#fff"};function XOe({avgRpe:e,avgPerformance:t,avgEngagement:n,avgFatigue:r}){const i=[{key:"rpe",title:"Difficult Moy",value:e,invert:!0},{key:"performance",title:"Performance Moy",value:t,invert:!1},{key:"engagement",title:"Engagement Moy",value:n,invert:!1},{key:"fatigue",title:"Fatigue Moy",value:r,invert:!0}];return c.jsx("div",{className:"grid grid-cols-2 gap-3 md:grid-cols-4",children:i.map(a=>{const o=jh(a.value??null,{invert:a.invert})??"hsl(var(--muted-foreground))";return c.jsxs(ke,{children:[c.jsx(it,{className:"p-4 pb-2",children:c.jsx(st,{className:"text-xs uppercase text-muted-foreground",children:a.title})}),c.jsx(Be,{className:"p-4 pt-0",children:c.jsx(hn,{className:XG,style:{backgroundColor:o,color:QG(o)},children:a.value?a.value.toFixed(1):"-"})})]},a.key)})})}function QOe(){const{user:e,userId:t,role:n,selectedAthleteId:r,selectedAthleteName:i}=dn(),a=(n==="coach"||n==="admin")&&(r!==null||!!i),o=a?i:e,l=a?r:t,d=l??o,[f,m]=_.useState("all"),[p,v]=_.useState(""),[y,x]=_.useState(""),[b,w]=_.useState(30),[N,E]=_.useState(30),{data:j}=Pt({queryKey:["sessions",d],queryFn:()=>Me.getSessions(o,l),enabled:!!o}),O=vz({queryKey:["strength_history",d,"progress",f,p,y],queryFn:({pageParam:ne=0})=>Me.getStrengthHistory(o,{athleteId:l,limit:10,offset:ne,order:"desc",status:f==="all"?void 0:f,from:p||void 0,to:y||void 0}),enabled:!!o,getNextPageParam:ne=>{const ie=ne.pagination.offset+ne.pagination.limit;return ie<ne.pagination.total?ie:void 0},initialPageParam:0}),T=O.data?.pages.flatMap(ne=>ne.runs)??[],C=dA(Nj(new Date,N)).toISOString(),R=WTe(new Date).toISOString(),{data:P}=Pt({queryKey:["strength_history_summary",d,"progress",N,C,R],queryFn:()=>Me.getStrengthHistory(o,{athleteId:l,limit:200,order:"desc",from:C,to:R}),enabled:!!o}),{data:k}=Pt({queryKey:["strength_history_aggregate",d,"progress",N,C,R],queryFn:()=>Me.getStrengthHistoryAggregate(o,{athleteId:l,period:"day",limit:200,order:"asc",from:C,to:R}),enabled:!!o}),$=P?.runs??[],B=P?.exercise_summary??[],I=k?.periods??[],F=ne=>{if(!j)return[];const ie=Nj(new Date,ne),De=j.filter(Ie=>new Date(Ie.date)>=ie).reverse(),dt=new Map;return De.forEach(Ie=>{const Xe=jn(new Date(Ie.date),"dd/MM");dt.has(Xe)||dt.set(Xe,{date:Xe,distance:0,effort:0,rpe:0,performance:0,engagement:0,fatigue:0,count:0,rpeCount:0,performanceCount:0,engagementCount:0,fatigueCount:0});const te=dt.get(Xe);te.distance+=Ie.distance,te.effort+=Ie.effort,te.count+=1,Ie.rpe!==null&&Ie.rpe!==void 0&&(te.rpe+=Ie.rpe,te.rpeCount+=1),Ie.performance!==null&&Ie.performance!==void 0&&(te.performance+=Ie.performance,te.performanceCount+=1),Ie.engagement!==null&&Ie.engagement!==void 0&&(te.engagement+=Ie.engagement,te.engagementCount+=1),Ie.fatigue!==null&&Ie.fatigue!==void 0&&(te.fatigue+=Ie.fatigue,te.fatigueCount+=1)}),Array.from(dt.values()).map(Ie=>({...Ie,effort:Math.round(Ie.effort/Ie.count*10)/10,rpe:Ie.rpeCount?Math.round(Ie.rpe/Ie.rpeCount*10)/10:null,performance:Ie.performanceCount?Math.round(Ie.performance/Ie.performanceCount*10)/10:null,engagement:Ie.engagementCount?Math.round(Ie.engagement/Ie.engagementCount*10)/10:null,fatigue:Ie.fatigueCount?Math.round(Ie.fatigue/Ie.fatigueCount*10)/10:null}))},V=j?j.filter(ne=>new Date(ne.date)>=Nj(new Date,b)):[],U=V.length,D=V.reduce((ne,ie)=>(ne.distance+=ie.distance,ne.duration+=ie.duration,ie.rpe!==null&&ie.rpe!==void 0&&(ne.rpeSum+=ie.rpe,ne.rpeCount+=1),ie.performance!==null&&ie.performance!==void 0&&(ne.performanceSum+=ie.performance,ne.performanceCount+=1),ie.engagement!==null&&ie.engagement!==void 0&&(ne.engagementSum+=ie.engagement,ne.engagementCount+=1),ie.fatigue!==null&&ie.fatigue!==void 0&&(ne.fatigueSum+=ie.fatigue,ne.fatigueCount+=1),ne),{distance:0,duration:0,rpeSum:0,rpeCount:0,performanceSum:0,performanceCount:0,engagementSum:0,engagementCount:0,fatigueSum:0,fatigueCount:0}),G=D.rpeCount?D.rpeSum/D.rpeCount:null,z=D.performanceCount?D.performanceSum/D.performanceCount:null,Y=D.engagementCount?D.engagementSum/D.engagementCount:null,de=D.fatigueCount?D.fatigueSum/D.fatigueCount:null;U&&D.duration/U;const H=U?D.distance/U:0,K=F(b),Z=ne=>ne==="rpe"||ne==="effort"||ne==="fatigue",le=ne=>{const De=(Array.isArray(ne?.logs)?ne.logs:[]).map(Xe=>Xe?.rpe!==null&&Xe?.rpe!==void 0?Number(Xe.rpe):null).filter(Xe=>Xe!==null&&Number.isFinite(Xe));if(De.length>0)return De.reduce((Xe,te)=>Xe+te,0)/De.length;const dt=ne?.feeling??ne?.rpe??null,Ie=dt!=null?Number(dt):null;return Ie!==null&&Number.isFinite(Ie)?Ie:null},be=ne=>ne==null||Number.isNaN(ne)?"-":ne.toFixed(1),ae=[...$].sort((ne,ie)=>{const De=new Date(ne.started_at||ne.date||ne.created_at||0).getTime(),dt=new Date(ie.started_at||ie.date||ie.created_at||0).getTime();return De-dt}).map(ne=>({date:jn(new Date(ne.started_at||ne.date||ne.created_at||new Date),"dd/MM"),feeling:le(ne)})),J=I.map(ne=>({date:ne.period,label:jn(new Date(ne.period),"dd/MM"),tonnage:Math.round(ne.tonnage??0),volume:Math.round(ne.volume??0)})),me=I.reduce((ne,ie)=>ne+(ie.tonnage??0),0),oe=I.reduce((ne,ie)=>ne+(ie.volume??0),0),pe=$.length,we=$.map(ne=>le(ne)).filter(ne=>ne!==null&&Number.isFinite(ne)),ee=we.length?we.reduce((ne,ie)=>ne+ie,0)/we.length:null,qe=[...B].map(ne=>({exerciseId:Number(ne.exercise_id),name:ne.exercise_name||`Exercice ${ne.exercise_id}`,totalSets:Number(ne.total_sets??0),totalReps:Number(ne.total_reps??0),totalVolume:Number(ne.total_volume??0),maxWeight:ne.max_weight!==null&&ne.max_weight!==void 0?Number(ne.max_weight):null,lastPerformedAt:ne.last_performed_at??null})).sort((ne,ie)=>ie.totalVolume-ne.totalVolume),ve=qe.slice(0,8),Ge=ne=>{if(!ne)return"-";const ie=new Date(ne);return Number.isNaN(ie.getTime())?"-":jn(ie,"dd/MM/yyyy")};return c.jsxs("div",{className:"space-y-6 pb-8",children:[c.jsx("h1",{className:"text-3xl font-display font-bold uppercase italic text-primary",children:"Progression"}),c.jsxs(Od,{defaultValue:"swim",className:"w-full",children:[c.jsxs(Vl,{className:"grid w-full grid-cols-2",children:[c.jsx(la,{value:"swim",children:"Natation"}),c.jsx(la,{value:"strength",children:"Musculation"})]}),c.jsxs(Pa,{value:"swim",className:"space-y-6 animate-in fade-in",children:[c.jsxs("div",{className:"flex flex-wrap items-center justify-end gap-2",children:[c.jsx("span",{className:"text-xs uppercase text-muted-foreground",children:"Priode"}),c.jsxs(cn,{value:String(b),onValueChange:ne=>w(Number(ne)),children:[c.jsx(rn,{className:"h-8 w-[140px]",children:c.jsx(un,{})}),c.jsxs(an,{children:[c.jsx(at,{value:"7",children:"7 jours"}),c.jsx(at,{value:"30",children:"30 jours"}),c.jsx(at,{value:"365",children:"365 jours"})]})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4 md:grid-cols-3",children:[c.jsxs(ke,{children:[c.jsx(it,{className:"p-4 pb-2",children:c.jsxs(st,{className:"text-xs uppercase text-muted-foreground",children:["Volume (",b,"j)"]})}),c.jsxs(Be,{className:"p-4 pt-0 text-2xl font-bold font-mono",children:[D.distance.toLocaleString(),"m"]})]}),c.jsxs(ke,{children:[c.jsx(it,{className:"p-4 pb-2",children:c.jsxs(st,{className:"text-xs uppercase text-muted-foreground",children:["Sances (",b,"j)"]})}),c.jsx(Be,{className:"p-4 pt-0 text-2xl font-bold font-mono",children:U})]}),c.jsxs(ke,{children:[c.jsx(it,{className:"p-4 pb-2",children:c.jsx(st,{className:"text-xs uppercase text-muted-foreground",children:"Distance Moy"})}),c.jsxs(Be,{className:"p-4 pt-0 text-2xl font-bold font-mono",children:[Math.round(H).toLocaleString(),"m"]})]})]}),c.jsx(XOe,{avgRpe:G,avgPerformance:z,avgEngagement:Y,avgFatigue:de}),c.jsxs(ke,{children:[c.jsx(it,{children:c.jsx(st,{children:"Volume Quotidien"})}),c.jsx(Be,{className:"h-[250px] w-full",children:K.length===0?c.jsx("div",{className:"flex h-full items-center justify-center text-sm text-muted-foreground",children:"Aucune donne disponible."}):c.jsx(ru,{width:"100%",height:"100%",children:c.jsxs(xv,{data:K,children:[c.jsx(hl,{strokeDasharray:"3 3",opacity:.1,vertical:!1}),c.jsx(ia,{dataKey:"date",fontSize:10,tickLine:!1,axisLine:!1}),c.jsx(kr,{cursor:{fill:"transparent"}}),c.jsx(hi,{dataKey:"distance",fill:"hsl(var(--primary))",radius:[4,4,0,0]})]})})})]}),c.jsx("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[{key:"rpe",title:"RPE"},{key:"performance",title:"Performance"},{key:"engagement",title:"Engagement"},{key:"fatigue",title:"Fatigue"}].map(ne=>c.jsxs(ke,{children:[c.jsx(it,{children:c.jsx(st,{children:ne.title})}),c.jsx(Be,{className:"h-[240px] w-full",children:K.length===0?c.jsx("div",{className:"flex h-full items-center justify-center text-sm text-muted-foreground",children:"Aucune donne disponible."}):c.jsx(ru,{width:"100%",height:"100%",children:c.jsxs(xv,{data:K,children:[c.jsx(hl,{strokeDasharray:"3 3",opacity:.1,vertical:!1}),c.jsx(ia,{dataKey:"date",fontSize:10,tickLine:!1,axisLine:!1}),c.jsx(wo,{domain:[0,5],tickLine:!1,axisLine:!1,fontSize:10}),c.jsx(kr,{cursor:{fill:"transparent"},formatter:ie=>[ie??"-",ne.title]}),c.jsx(hi,{dataKey:ne.key,radius:[4,4,0,0],children:K.map((ie,De)=>c.jsx(q0,{fill:jh(ie[ne.key],{invert:Z(ne.key)})},`${ne.key}-${ie.date}-${De}`))})]})})})]},ne.key))})]}),c.jsxs(Pa,{value:"strength",className:"space-y-6 animate-in fade-in",children:[c.jsxs("div",{className:"flex flex-wrap items-center justify-end gap-2",children:[c.jsx("span",{className:"text-xs uppercase text-muted-foreground",children:"Priode"}),c.jsxs(cn,{value:String(N),onValueChange:ne=>E(Number(ne)),children:[c.jsx(rn,{className:"h-8 w-[140px]",children:c.jsx(un,{})}),c.jsxs(an,{children:[c.jsx(at,{value:"7",children:"7 jours"}),c.jsx(at,{value:"30",children:"30 jours"}),c.jsx(at,{value:"365",children:"365 jours"})]})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4 md:grid-cols-4",children:[c.jsxs(ke,{children:[c.jsx(it,{className:"p-4 pb-2",children:c.jsxs(st,{className:"text-xs uppercase text-muted-foreground",children:["Tonnage (",N,"j)"]})}),c.jsxs(Be,{className:"p-4 pt-0 text-2xl font-bold font-mono",children:[Math.round(me).toLocaleString()," kg"]})]}),c.jsxs(ke,{children:[c.jsx(it,{className:"p-4 pb-2",children:c.jsxs(st,{className:"text-xs uppercase text-muted-foreground",children:["Volume (",N,"j)"]})}),c.jsxs(Be,{className:"p-4 pt-0 text-2xl font-bold font-mono",children:[Math.round(oe).toLocaleString()," reps"]})]}),c.jsxs(ke,{children:[c.jsx(it,{className:"p-4 pb-2",children:c.jsxs(st,{className:"text-xs uppercase text-muted-foreground",children:["Sances (",N,"j)"]})}),c.jsx(Be,{className:"p-4 pt-0 text-2xl font-bold font-mono",children:pe})]}),c.jsxs(ke,{children:[c.jsx(it,{className:"p-4 pb-2",children:c.jsx(st,{className:"text-xs uppercase text-muted-foreground",children:"Ressenti Moy"})}),c.jsx(Be,{className:"p-4 pt-0",children:c.jsx(hn,{className:XG,style:{backgroundColor:jh(ee??null,{invert:Z("rpe")})??"hsl(var(--muted-foreground))",color:QG(jh(ee??null,{invert:Z("rpe")})??"hsl(var(--muted-foreground))")},children:ee!==null?ee.toFixed(1):"-"})})]})]}),c.jsxs(ke,{children:[c.jsx(it,{children:c.jsxs(st,{children:["Tonnage & Volume (",N,"j)"]})}),c.jsx(Be,{className:"h-[250px] w-full",children:J.length===0?c.jsx("div",{className:"flex h-full items-center justify-center text-sm text-muted-foreground",children:"Aucune donne disponible."}):c.jsx(ru,{width:"100%",height:"100%",children:c.jsxs(qTe,{data:J,children:[c.jsx(hl,{strokeDasharray:"3 3",opacity:.1,vertical:!1}),c.jsx(ia,{dataKey:"label",fontSize:10,tickLine:!1,axisLine:!1}),c.jsx(kr,{}),c.jsx(hi,{dataKey:"tonnage",name:"Tonnage",fill:"hsl(var(--primary))",radius:[4,4,0,0]}),c.jsx(hi,{dataKey:"volume",name:"Volume",fill:"hsl(var(--accent))",radius:[4,4,0,0]}),c.jsx(mo,{type:"monotone",dataKey:"tonnage",stroke:"hsl(var(--primary))",strokeWidth:2,dot:!1}),c.jsx(mo,{type:"monotone",dataKey:"volume",stroke:"hsl(var(--accent))",strokeWidth:2,dot:!1})]})})})]}),c.jsxs(ke,{children:[c.jsx(it,{children:c.jsx(st,{children:"Ressenti Sances"})}),c.jsx(Be,{className:"h-[250px] w-full",children:ae.length===0?c.jsx("div",{className:"flex h-full items-center justify-center text-sm text-muted-foreground",children:"Aucune donne disponible."}):c.jsx(ru,{width:"100%",height:"100%",children:c.jsxs(BTe,{data:ae,children:[c.jsx(hl,{strokeDasharray:"3 3",opacity:.1,vertical:!1}),c.jsx(ia,{dataKey:"date",fontSize:10,tickLine:!1,axisLine:!1}),c.jsx(wo,{domain:[0,10],hide:!0}),c.jsx(kr,{}),c.jsx(mo,{type:"monotone",dataKey:"feeling",stroke:"hsl(var(--foreground))",strokeWidth:2,dot:{r:4}})]})})})]}),c.jsxs(ke,{children:[c.jsx(it,{children:c.jsx(st,{children:"Volume par exercice"})}),c.jsx(Be,{className:"h-[260px] w-full",children:ve.length===0?c.jsx("div",{className:"flex h-full items-center justify-center text-sm text-muted-foreground",children:"Aucune donne d'exercice disponible."}):c.jsx(ru,{width:"100%",height:"100%",children:c.jsxs(xv,{data:ve,children:[c.jsx(hl,{strokeDasharray:"3 3",opacity:.1,vertical:!1}),c.jsx(ia,{dataKey:"name",fontSize:10,tickLine:!1,axisLine:!1,interval:0}),c.jsx(kr,{cursor:{fill:"transparent"},formatter:ne=>[`${Number(ne).toLocaleString()} kg`,"Volume"]}),c.jsx(hi,{dataKey:"totalVolume",fill:"hsl(var(--primary))",radius:[4,4,0,0]})]})})})]}),c.jsxs(ke,{children:[c.jsx(it,{children:c.jsx(st,{children:"Stats par exercice"})}),c.jsx(Be,{children:c.jsx("div",{className:"w-full overflow-x-auto",children:c.jsxs(Wm,{children:[c.jsx(Ym,{children:c.jsxs(Ea,{children:[c.jsx(In,{children:"Exercice"}),c.jsx(In,{className:"text-right",children:"Sries"}),c.jsx(In,{className:"text-right",children:"Rptitions"}),c.jsx(In,{className:"text-right",children:"Volume"}),c.jsx(In,{className:"text-right",children:"Charge max"}),c.jsx(In,{className:"text-right",children:"Dernire sance"})]})}),c.jsx(Xm,{children:qe.length===0?c.jsx(Ea,{children:c.jsx(Rn,{colSpan:6,className:"text-center text-sm text-muted-foreground",children:"Aucun exercice enregistr."})}):qe.map(ne=>c.jsxs(Ea,{children:[c.jsx(Rn,{className:"font-medium",children:ne.name}),c.jsx(Rn,{className:"text-right font-mono",children:ne.totalSets}),c.jsx(Rn,{className:"text-right font-mono",children:ne.totalReps}),c.jsxs(Rn,{className:"text-right font-mono",children:[ne.totalVolume.toLocaleString()," kg"]}),c.jsx(Rn,{className:"text-right font-mono",children:ne.maxWeight!==null?`${ne.maxWeight} kg`:"-"}),c.jsx(Rn,{className:"text-right text-sm text-muted-foreground",children:Ge(ne.lastPerformedAt)})]},ne.exerciseId))})]})})})]}),c.jsxs(ke,{children:[c.jsx(it,{children:c.jsx(st,{children:"Historique rcent"})}),c.jsxs(Be,{className:"space-y-3",children:[T.length===0&&c.jsx("div",{className:"text-center text-sm text-muted-foreground py-6",children:"Aucun historique disponible."}),T.map(ne=>c.jsxs("div",{className:"flex items-center justify-between border-b border-border/60 pb-2 last:border-b-0 last:pb-0",children:[c.jsxs("div",{children:[c.jsx("div",{className:"text-sm font-semibold",children:jn(new Date(ne.started_at||ne.date||ne.created_at||new Date),"dd/MM/yyyy")}),c.jsx("div",{className:"text-xs uppercase text-muted-foreground",children:ne.status||"Sance"})]}),c.jsxs("div",{className:"text-sm font-mono font-semibold",children:[be(le(ne)),"/10"]})]},ne.id)),O.hasNextPage&&c.jsx(Oe,{variant:"outline",size:"sm",className:"w-full",onClick:()=>O.fetchNextPage(),disabled:O.isFetchingNextPage,children:O.isFetchingNextPage?"Chargement...":"Charger plus"})]})]})]})]})]})}const JOe="rounded-full px-3 py-1 text-lg font-mono font-bold md:text-xl",ZOe=e=>{const t=e.match(/hsl\((\d+(?:\.\d+)?)\s+(\d+(?:\.\d+)?)%\s+(\d+(?:\.\d+)?)%\)/);if(!t)return"#000";const[,n,r,i]=t,a=Number(n),o=Number(r)/100,l=Number(i)/100,d=(1-Math.abs(2*l-1))*o,f=d*(1-Math.abs(a/60%2-1)),m=l-d/2;let p=0,v=0,y=0;a>=0&&a<60?(p=d,v=f):a>=60&&a<120?(p=f,v=d):a>=120&&a<180?(v=d,y=f):a>=180&&a<240?(v=f,y=d):a>=240&&a<300?(p=f,y=d):(p=d,y=f);const x=Math.round((p+m)*255),b=Math.round((v+m)*255),w=Math.round((y+m)*255);return .2126*x+.7152*b+.0722*w>155?"#000":"#fff"};function Uf({value:e,toneScore:t}){const n=jh(t??null)??"hsl(var(--muted-foreground))";return c.jsx(hn,{className:JOe,style:{backgroundColor:n,color:ZOe(n)},children:e})}const a6=e=>{if(e==null)return null;const t=Number(e);return!Number.isFinite(t)||t<=0?null:t<=5?Math.min(5,t):Math.min(5,t/2)},Ej=e=>{const t=e.filter(n=>Number.isFinite(n));return t.length===0?null:{min:Math.min(...t),max:Math.max(...t)}},Aj=(e,t)=>{if(!Number.isFinite(e)||e===null||e===void 0||e<=0||!t||t.max<=0)return null;if(t.max===t.min)return 5;const r=1+(e-t.min)/(t.max-t.min)*4;return Math.max(1,Math.min(5,r))},Vf=(e,t)=>{if(e==null||!Number.isFinite(e))return"-";const{decimals:n=0,suffix:r}=t??{},i=e.toLocaleString(void 0,{minimumFractionDigits:n,maximumFractionDigits:n});return r?`${i} ${r}`:i};function eCe(){const{data:e}=Pt({queryKey:["hall-of-fame"],queryFn:()=>Me.getHallOfFame()}),t=e?.distance??[],n=e?.performance??[],r=e?.engagement??[],i=e?.strength??[],a=t.map(x=>({...x,total_distance:Number(x.total_distance??0)})),o=n.map(x=>({...x,avg_effort:a6(x.avg_effort)})),l=r.map(x=>({...x,avg_engagement:a6(x.avg_engagement)})),d=[...i].sort((x,b)=>Number(b.total_volume??0)-Number(x.total_volume??0)).slice(0,5),f=[...i].sort((x,b)=>Number(b.total_reps??0)-Number(x.total_reps??0)).slice(0,5),m=Ej(a.map(x=>Number(x.total_distance??0))),p=Ej(d.map(x=>Number(x.total_volume??0))),v=Ej(f.map(x=>Number(x.total_reps??0))),y=({rank:x})=>x===0?c.jsx(FZ,{className:"h-6 w-6 text-yellow-500 fill-yellow-500"}):x===1?c.jsx(Tk,{className:"h-5 w-5 text-gray-400 fill-gray-400"}):x===2?c.jsx(Tk,{className:"h-5 w-5 text-amber-700 fill-amber-700"}):c.jsx("span",{className:"font-mono font-bold text-muted-foreground w-6 text-center",children:x+1});return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[c.jsx("h1",{className:"text-3xl font-display font-bold uppercase italic text-primary",children:"Hall of Fame"}),c.jsx(Sv,{href:"/records-club",children:c.jsx(Oe,{variant:"outline",children:"Voir les records du club"})})]}),c.jsxs(Od,{defaultValue:"swim",className:"w-full",children:[c.jsxs(Vl,{className:"grid w-full grid-cols-2",children:[c.jsxs(la,{value:"swim",children:[c.jsx(mi,{className:"mr-2 h-4 w-4"})," Bassin"]}),c.jsxs(la,{value:"strength",children:[c.jsx(Mi,{className:"mr-2 h-4 w-4"})," Muscu"]})]}),c.jsx(Pa,{value:"swim",className:"space-y-6 pt-4 animate-in slide-in-from-left-4",children:c.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[c.jsxs(ke,{className:"border-t-4 border-t-yellow-500 shadow-md",children:[c.jsx(it,{children:c.jsxs(st,{className:"flex items-center gap-2 text-base",children:[c.jsx(so,{className:"h-5 w-5 text-yellow-500"}),"Top Distance"]})}),c.jsxs(Be,{className:"space-y-4",children:[a.map((x,b)=>{const w=x.total_distance?x.total_distance/1e3:0;return c.jsxs("div",{className:"flex items-center justify-between gap-3 p-3 rounded-lg bg-muted/30",children:[c.jsxs("div",{className:"flex items-center gap-4 min-w-0",children:[c.jsx(y,{rank:b}),c.jsx("div",{className:"font-bold uppercase tracking-tight truncate",children:x.athlete_name})]}),c.jsx("div",{className:"shrink-0",children:c.jsx(Uf,{value:Vf(w,{decimals:1,suffix:"km"}),toneScore:Aj(x.total_distance,m)})})]},x.athlete_name)}),a.length===0&&c.jsx("div",{className:"text-center text-muted-foreground py-4",children:"Aucune donne"})]})]}),c.jsxs(ke,{className:"border-t-4 border-t-orange-500 shadow-md",children:[c.jsx(it,{children:c.jsxs(st,{className:"flex items-center gap-2 text-base",children:[c.jsx(so,{className:"h-5 w-5 text-orange-500"}),"Top Intensit (RPE Avg)"]})}),c.jsxs(Be,{className:"space-y-4",children:[o.map((x,b)=>c.jsxs("div",{className:"flex items-center justify-between gap-3 p-3 rounded-lg bg-muted/30",children:[c.jsxs("div",{className:"flex items-center gap-4 min-w-0",children:[c.jsx(y,{rank:b}),c.jsx("div",{className:"font-bold uppercase tracking-tight truncate",children:x.athlete_name})]}),c.jsx("div",{className:"shrink-0",children:c.jsx(Uf,{value:Vf(x.avg_effort,{decimals:1}),toneScore:x.avg_effort})})]},x.athlete_name)),o.length===0&&c.jsx("div",{className:"text-center text-muted-foreground py-4",children:"Aucune donne"})]})]}),c.jsxs(ke,{className:"border-t-4 border-t-rose-500 shadow-md",children:[c.jsx(it,{children:c.jsxs(st,{className:"flex items-center gap-2 text-base",children:[c.jsx(JZ,{className:"h-5 w-5 text-rose-500"}),"Top Engagement"]})}),c.jsxs(Be,{className:"space-y-4",children:[l.map((x,b)=>c.jsxs("div",{className:"flex items-center justify-between gap-3 p-3 rounded-lg bg-muted/30",children:[c.jsxs("div",{className:"flex items-center gap-4 min-w-0",children:[c.jsx(y,{rank:b}),c.jsx("div",{className:"font-bold uppercase tracking-tight truncate",children:x.athlete_name})]}),c.jsx("div",{className:"shrink-0",children:c.jsx(Uf,{value:Vf(x.avg_engagement,{decimals:1}),toneScore:x.avg_engagement})})]},`${x.athlete_name}-engagement`)),l.length===0&&c.jsx("div",{className:"text-center text-muted-foreground py-4",children:"Aucune donne"})]})]})]})}),c.jsx(Pa,{value:"strength",className:"space-y-6 pt-4 animate-in slide-in-from-right-4",children:c.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[c.jsxs(ke,{className:"border-t-4 border-t-emerald-500 shadow-md",children:[c.jsx(it,{children:c.jsxs(st,{className:"flex items-center gap-2 text-base",children:[c.jsx(so,{className:"h-5 w-5 text-emerald-500"}),"Top Tonnage"]})}),c.jsxs(Be,{className:"space-y-4",children:[d.map((x,b)=>c.jsxs("div",{className:"flex items-center justify-between gap-3 p-3 rounded-lg bg-muted/30",children:[c.jsxs("div",{className:"flex items-center gap-4 min-w-0",children:[c.jsx(y,{rank:b}),c.jsx("div",{className:"font-bold uppercase tracking-tight truncate",children:x.athlete_name})]}),c.jsx("div",{className:"shrink-0",children:c.jsx(Uf,{value:Vf(Number(x.total_volume??0),{suffix:"kg"}),toneScore:Aj(Number(x.total_volume??0),p)})})]},x.athlete_name)),d.length===0&&c.jsx("div",{className:"text-center text-muted-foreground py-4",children:"Aucune donne"})]})]}),c.jsxs(ke,{className:"border-t-4 border-t-violet-500 shadow-md",children:[c.jsx(it,{children:c.jsxs(st,{className:"flex items-center gap-2 text-base",children:[c.jsx(so,{className:"h-5 w-5 text-violet-500"}),"Top Volume (Rptitions)"]})}),c.jsxs(Be,{className:"space-y-4",children:[f.map((x,b)=>c.jsxs("div",{className:"flex items-center justify-between gap-3 p-3 rounded-lg bg-muted/30",children:[c.jsxs("div",{className:"flex items-center gap-4 min-w-0",children:[c.jsx(y,{rank:b}),c.jsx("div",{className:"font-bold uppercase tracking-tight truncate",children:x.athlete_name})]}),c.jsx("div",{className:"shrink-0",children:c.jsx(Uf,{value:Vf(Number(x.total_reps??0),{suffix:"reps"}),toneScore:Aj(Number(x.total_reps??0),v)})})]},`${x.athlete_name}-reps`)),f.length===0&&c.jsx("div",{className:"text-center text-muted-foreground py-4",children:"Aucune donne"})]})]})]})})]})]})}function fA(e,t,{checkForDefaultPrevented:n=!0}={}){return function(i){if(e?.(i),n===!1||!i.defaultPrevented)return t?.(i)}}var tCe=Cr[" useInsertionEffect ".trim().toString()]||Ut;function nCe({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[i,a,o]=rCe({defaultProp:t,onChange:n}),l=e!==void 0,d=l?e:i;{const m=_.useRef(e!==void 0);_.useEffect(()=>{const p=m.current;p!==l&&console.warn(`${r} is changing from ${p?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),m.current=l},[l,r])}const f=_.useCallback(m=>{if(l){const p=iCe(m)?m(e):m;p!==e&&o.current?.(p)}else a(m)},[l,e,a,o]);return[d,f]}function rCe({defaultProp:e,onChange:t}){const[n,r]=_.useState(e),i=_.useRef(n),a=_.useRef(t);return tCe(()=>{a.current=t},[t]),_.useEffect(()=>{i.current!==n&&(a.current?.(n),i.current=n)},[n,i]),[n,r,a]}function iCe(e){return typeof e=="function"}var FO="Radio",[aCe,JG]=Rr(FO),[sCe,oCe]=aCe(FO),ZG=_.forwardRef((e,t)=>{const{__scopeRadio:n,name:r,checked:i=!1,required:a,disabled:o,value:l="on",onCheck:d,form:f,...m}=e,[p,v]=_.useState(null),y=At(t,w=>v(w)),x=_.useRef(!1),b=p?f||!!p.closest("form"):!0;return c.jsxs(sCe,{scope:n,checked:i,disabled:o,children:[c.jsx(bt.button,{type:"button",role:"radio","aria-checked":i,"data-state":rK(i),"data-disabled":o?"":void 0,disabled:o,value:l,...m,ref:y,onClick:fA(e.onClick,w=>{i||d?.(),b&&(x.current=w.isPropagationStopped(),x.current||w.stopPropagation())})}),b&&c.jsx(nK,{control:p,bubbles:!x.current,name:r,value:l,checked:i,required:a,disabled:o,form:f,style:{transform:"translateX(-100%)"}})]})});ZG.displayName=FO;var eK="RadioIndicator",tK=_.forwardRef((e,t)=>{const{__scopeRadio:n,forceMount:r,...i}=e,a=oCe(eK,n);return c.jsx(ua,{present:r||a.checked,children:c.jsx(bt.span,{"data-state":rK(a.checked),"data-disabled":a.disabled?"":void 0,...i,ref:t})})});tK.displayName=eK;var lCe="RadioBubbleInput",nK=_.forwardRef(({__scopeRadio:e,control:t,checked:n,bubbles:r=!0,...i},a)=>{const o=_.useRef(null),l=At(o,a),d=y0(n),f=i0(t);return _.useEffect(()=>{const m=o.current;if(!m)return;const p=window.HTMLInputElement.prototype,y=Object.getOwnPropertyDescriptor(p,"checked").set;if(d!==n&&y){const x=new Event("click",{bubbles:r});y.call(m,n),m.dispatchEvent(x)}},[d,n,r]),c.jsx(bt.input,{type:"radio","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:l,style:{...i.style,...f,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});nK.displayName=lCe;function rK(e){return e?"checked":"unchecked"}var cCe=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],lb="RadioGroup",[uCe]=Rr(lb,[Td,JG]),iK=Td(),aK=JG(),[dCe,fCe]=uCe(lb),sK=_.forwardRef((e,t)=>{const{__scopeRadioGroup:n,name:r,defaultValue:i,value:a,required:o=!1,disabled:l=!1,orientation:d,dir:f,loop:m=!0,onValueChange:p,...v}=e,y=iK(n),x=Um(f),[b,w]=nCe({prop:a,defaultProp:i??null,onChange:p,caller:lb});return c.jsx(dCe,{scope:n,name:r,required:o,disabled:l,value:b,onValueChange:w,children:c.jsx(DT,{asChild:!0,...y,orientation:d,dir:x,loop:m,children:c.jsx(bt.div,{role:"radiogroup","aria-required":o,"aria-orientation":d,"data-disabled":l?"":void 0,dir:x,...v,ref:t})})})});sK.displayName=lb;var oK="RadioGroupItem",lK=_.forwardRef((e,t)=>{const{__scopeRadioGroup:n,disabled:r,...i}=e,a=fCe(oK,n),o=a.disabled||r,l=iK(n),d=aK(n),f=_.useRef(null),m=At(t,f),p=a.value===i.value,v=_.useRef(!1);return _.useEffect(()=>{const y=b=>{cCe.includes(b.key)&&(v.current=!0)},x=()=>v.current=!1;return document.addEventListener("keydown",y),document.addEventListener("keyup",x),()=>{document.removeEventListener("keydown",y),document.removeEventListener("keyup",x)}},[]),c.jsx(IT,{asChild:!0,...l,focusable:!o,active:p,children:c.jsx(ZG,{disabled:o,required:a.required,checked:p,...d,...i,name:a.name,ref:m,onCheck:()=>a.onValueChange(i.value),onKeyDown:fA(y=>{y.key==="Enter"&&y.preventDefault()}),onFocus:fA(i.onFocus,()=>{v.current&&f.current?.click()})})})});lK.displayName=oK;var hCe="RadioGroupIndicator",cK=_.forwardRef((e,t)=>{const{__scopeRadioGroup:n,...r}=e,i=aK(n);return c.jsx(tK,{...i,...r,ref:t})});cK.displayName=hCe;var uK=sK,dK=lK,mCe=cK;const fK=_.forwardRef(({className:e,...t},n)=>c.jsx(uK,{className:Ae("grid gap-2",e),...t,ref:n}));fK.displayName=uK.displayName;const hA=_.forwardRef(({className:e,...t},n)=>c.jsx(dK,{ref:n,className:Ae("aspect-square h-4 w-4 rounded-full border border-primary text-primary shadow focus:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:c.jsx(mCe,{className:"flex items-center justify-center",children:c.jsx(Xf,{className:"h-3.5 w-3.5 fill-primary"})})}));hA.displayName=dK.displayName;const Ca=_.forwardRef(({className:e,...t},n)=>c.jsx("textarea",{className:Ae("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...t}));Ca.displayName="Textarea";function s6(e,t,{checkForDefaultPrevented:n=!0}={}){return function(i){if(e?.(i),n===!1||!i.defaultPrevented)return t?.(i)}}var pCe=Cr[" useInsertionEffect ".trim().toString()]||Ut;function gCe({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[i,a,o]=vCe({defaultProp:t,onChange:n}),l=e!==void 0,d=l?e:i;{const m=_.useRef(e!==void 0);_.useEffect(()=>{const p=m.current;p!==l&&console.warn(`${r} is changing from ${p?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),m.current=l},[l,r])}const f=_.useCallback(m=>{if(l){const p=yCe(m)?m(e):m;p!==e&&o.current?.(p)}else a(m)},[l,e,a,o]);return[d,f]}function vCe({defaultProp:e,onChange:t}){const[n,r]=_.useState(e),i=_.useRef(n),a=_.useRef(t);return pCe(()=>{a.current=t},[t]),_.useEffect(()=>{i.current!==n&&(a.current?.(n),i.current=n)},[n,i]),[n,r,a]}function yCe(e){return typeof e=="function"}var cb="Checkbox",[bCe]=Rr(cb),[xCe,UO]=bCe(cb);function wCe(e){const{__scopeCheckbox:t,checked:n,children:r,defaultChecked:i,disabled:a,form:o,name:l,onCheckedChange:d,required:f,value:m="on",internal_do_not_use_render:p}=e,[v,y]=gCe({prop:n,defaultProp:i??!1,onChange:d,caller:cb}),[x,b]=_.useState(null),[w,N]=_.useState(null),E=_.useRef(!1),j=x?!!o||!!x.closest("form"):!0,O={checked:v,disabled:a,setChecked:y,control:x,setControl:b,name:l,form:o,value:m,hasConsumerStoppedPropagationRef:E,required:f,defaultChecked:po(i)?!1:i,isFormControl:j,bubbleInput:w,setBubbleInput:N};return c.jsx(xCe,{scope:t,...O,children:_Ce(p)?p(O):r})}var hK="CheckboxTrigger",mK=_.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:n,...r},i)=>{const{control:a,value:o,disabled:l,checked:d,required:f,setControl:m,setChecked:p,hasConsumerStoppedPropagationRef:v,isFormControl:y,bubbleInput:x}=UO(hK,e),b=At(i,m),w=_.useRef(d);return _.useEffect(()=>{const N=a?.form;if(N){const E=()=>p(w.current);return N.addEventListener("reset",E),()=>N.removeEventListener("reset",E)}},[a,p]),c.jsx(bt.button,{type:"button",role:"checkbox","aria-checked":po(d)?"mixed":d,"aria-required":f,"data-state":bK(d),"data-disabled":l?"":void 0,disabled:l,value:o,...r,ref:b,onKeyDown:s6(t,N=>{N.key==="Enter"&&N.preventDefault()}),onClick:s6(n,N=>{p(E=>po(E)?!0:!E),x&&y&&(v.current=N.isPropagationStopped(),v.current||N.stopPropagation())})})});mK.displayName=hK;var VO=_.forwardRef((e,t)=>{const{__scopeCheckbox:n,name:r,checked:i,defaultChecked:a,required:o,disabled:l,value:d,onCheckedChange:f,form:m,...p}=e;return c.jsx(wCe,{__scopeCheckbox:n,checked:i,defaultChecked:a,disabled:l,required:o,onCheckedChange:f,name:r,form:m,value:d,internal_do_not_use_render:({isFormControl:v})=>c.jsxs(c.Fragment,{children:[c.jsx(mK,{...p,ref:t,__scopeCheckbox:n}),v&&c.jsx(yK,{__scopeCheckbox:n})]})})});VO.displayName=cb;var pK="CheckboxIndicator",gK=_.forwardRef((e,t)=>{const{__scopeCheckbox:n,forceMount:r,...i}=e,a=UO(pK,n);return c.jsx(ua,{present:r||po(a.checked)||a.checked===!0,children:c.jsx(bt.span,{"data-state":bK(a.checked),"data-disabled":a.disabled?"":void 0,...i,ref:t,style:{pointerEvents:"none",...e.style}})})});gK.displayName=pK;var vK="CheckboxBubbleInput",yK=_.forwardRef(({__scopeCheckbox:e,...t},n)=>{const{control:r,hasConsumerStoppedPropagationRef:i,checked:a,defaultChecked:o,required:l,disabled:d,name:f,value:m,form:p,bubbleInput:v,setBubbleInput:y}=UO(vK,e),x=At(n,y),b=y0(a),w=i0(r);_.useEffect(()=>{const E=v;if(!E)return;const j=window.HTMLInputElement.prototype,T=Object.getOwnPropertyDescriptor(j,"checked").set,C=!i.current;if(b!==a&&T){const R=new Event("click",{bubbles:C});E.indeterminate=po(a),T.call(E,po(a)?!1:a),E.dispatchEvent(R)}},[v,b,a,i]);const N=_.useRef(po(a)?!1:a);return c.jsx(bt.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??N.current,required:l,disabled:d,name:f,value:m,form:p,...t,tabIndex:-1,ref:x,style:{...t.style,...w,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});yK.displayName=vK;function _Ce(e){return typeof e=="function"}function po(e){return e==="indeterminate"}function bK(e){return po(e)?"indeterminate":e?"checked":"unchecked"}const od=_.forwardRef(({className:e,...t},n)=>c.jsx(VO,{ref:n,className:Ae("grid place-content-center peer h-4 w-4 shrink-0 rounded-sm border border-primary shadow focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:c.jsx(gK,{className:Ae("grid place-content-center text-current"),children:c.jsx(go,{className:"h-4 w-4"})})}));od.displayName=VO.displayName;function SCe(e,t,{checkForDefaultPrevented:n=!0}={}){return function(i){if(e?.(i),n===!1||!i.defaultPrevented)return t?.(i)}}var jCe=Symbol("radix.slottable");function NCe(e){const t=({children:n})=>c.jsx(c.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=jCe,t}var xK="AlertDialog",[ECe]=Rr(xK,[OU]),js=OU(),wK=e=>{const{__scopeAlertDialog:t,...n}=e,r=js(t);return c.jsx(p0,{...r,...n,modal:!0})};wK.displayName=xK;var ACe="AlertDialogTrigger",TCe=_.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=js(n);return c.jsx(HU,{...i,...r,ref:t})});TCe.displayName=ACe;var OCe="AlertDialogPortal",_K=e=>{const{__scopeAlertDialog:t,...n}=e,r=js(t);return c.jsx(g0,{...r,...n})};_K.displayName=OCe;var CCe="AlertDialogOverlay",SK=_.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=js(n);return c.jsx(xd,{...i,...r,ref:t})});SK.displayName=CCe;var Ou="AlertDialogContent",[RCe,PCe]=ECe(Ou),MCe=NCe("AlertDialogContent"),jK=_.forwardRef((e,t)=>{const{__scopeAlertDialog:n,children:r,...i}=e,a=js(n),o=_.useRef(null),l=At(t,o),d=_.useRef(null);return c.jsx(Xoe,{contentName:Ou,titleName:NK,docsSlug:"alert-dialog",children:c.jsx(RCe,{scope:n,cancelRef:d,children:c.jsxs(wd,{role:"alertdialog",...a,...i,ref:l,onOpenAutoFocus:SCe(i.onOpenAutoFocus,f=>{f.preventDefault(),d.current?.focus({preventScroll:!0})}),onPointerDownOutside:f=>f.preventDefault(),onInteractOutside:f=>f.preventDefault(),children:[c.jsx(MCe,{children:r}),c.jsx(DCe,{contentRef:o})]})})})});jK.displayName=Ou;var NK="AlertDialogTitle",EK=_.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=js(n);return c.jsx(_d,{...i,...r,ref:t})});EK.displayName=NK;var AK="AlertDialogDescription",TK=_.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=js(n);return c.jsx(Sd,{...i,...r,ref:t})});TK.displayName=AK;var kCe="AlertDialogAction",OK=_.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=js(n);return c.jsx(v0,{...i,...r,ref:t})});OK.displayName=kCe;var CK="AlertDialogCancel",RK=_.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,{cancelRef:i}=PCe(CK,n),a=js(n),o=At(t,i);return c.jsx(v0,{...a,...r,ref:o})});RK.displayName=CK;var DCe=({contentRef:e})=>{const t=`\`${Ou}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Ou}\` by passing a \`${AK}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Ou}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return _.useEffect(()=>{document.getElementById(e.current?.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},ICe=wK,$Ce=_K,PK=SK,MK=jK,kK=OK,DK=RK,IK=EK,$K=TK;const Hy=ICe,LCe=$Ce,LK=_.forwardRef(({className:e,...t},n)=>c.jsx(PK,{className:Ae("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:n}));LK.displayName=PK.displayName;const Tm=_.forwardRef(({className:e,...t},n)=>c.jsxs(LCe,{children:[c.jsx(LK,{}),c.jsx(MK,{ref:n,className:Ae("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));Tm.displayName=MK.displayName;const Om=({className:e,...t})=>c.jsx("div",{className:Ae("flex flex-col space-y-2 text-center sm:text-left",e),...t});Om.displayName="AlertDialogHeader";const Cm=({className:e,...t})=>c.jsx("div",{className:Ae("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Cm.displayName="AlertDialogFooter";const Rm=_.forwardRef(({className:e,...t},n)=>c.jsx(IK,{ref:n,className:Ae("text-lg font-semibold",e),...t}));Rm.displayName=IK.displayName;const Pm=_.forwardRef(({className:e,...t},n)=>c.jsx($K,{ref:n,className:Ae("text-sm text-muted-foreground",e),...t}));Pm.displayName=$K.displayName;const Mm=_.forwardRef(({className:e,...t},n)=>c.jsx(kK,{ref:n,className:Ae(KA(),e),...t}));Mm.displayName=kK.displayName;const km=_.forwardRef(({className:e,...t},n)=>c.jsx(DK,{ref:n,className:Ae(KA({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));km.displayName=DK.displayName;const o6=[{key:"endurance",label:"Endurance",fieldSuffix:"endurance"},{key:"hypertrophie",label:"Hypertrophie",fieldSuffix:"hypertrophie"},{key:"force",label:"Force",fieldSuffix:"force"}],l6=e=>e==="endurance"||e==="hypertrophie"||e==="force"?e:"endurance",c6=({exercise:e,onChange:t,disabled:n=!1})=>c.jsxs(Od,{defaultValue:"endurance",className:"w-full",children:[c.jsx(Vl,{className:"grid w-full grid-cols-3",children:o6.map(r=>c.jsx(la,{value:r.key,children:r.label},r.key))}),o6.map(r=>{const i=`pct_1rm_${r.fieldSuffix}`,a=`Nb_series_${r.fieldSuffix}`,o=`Nb_reps_${r.fieldSuffix}`,l=`recup_${r.fieldSuffix}`,d=`recup_exercices_${r.fieldSuffix}`;return c.jsxs(Pa,{value:r.key,className:`space-y-3 rounded-lg border p-3 ${n?"opacity-60":""}`,children:[c.jsx("p",{className:"text-sm font-semibold",children:r.label}),c.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(Le,{children:"% 1RM"}),c.jsx(et,{type:"number",value:e[i]??"",disabled:n,onChange:f=>t({[i]:f.target.value===""?null:Number(f.target.value)})})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Le,{children:"Nb sries"}),c.jsx(et,{type:"number",value:e[a]??"",disabled:n,onChange:f=>t({[a]:f.target.value===""?null:Number(f.target.value)})})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Le,{children:"Nb reps"}),c.jsx(et,{type:"number",value:e[o]??"",disabled:n,onChange:f=>t({[o]:f.target.value===""?null:Number(f.target.value)})})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Le,{children:"Rcup. sries (s)"}),c.jsx(et,{type:"number",value:e[l]??"",disabled:n,onChange:f=>t({[l]:f.target.value===""?null:Number(f.target.value)})})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Le,{children:"Rcup. exercices (s)"}),c.jsx(et,{type:"number",value:e[d]??"",disabled:n,onChange:f=>t({[d]:f.target.value===""?null:Number(f.target.value)})})]})]})]},r.key)})]}),BCe={pct_1rm_endurance:60,pct_1rm_hypertrophie:75,pct_1rm_force:85,Nb_series_endurance:4,Nb_series_hypertrophie:3,Nb_series_force:3,Nb_reps_endurance:16,Nb_reps_hypertrophie:8,Nb_reps_force:3,recup_endurance:120,recup_hypertrophie:200,recup_force:300,recup_exercices_endurance:300,recup_exercices_hypertrophie:400,recup_exercices_force:500},iv=e=>{const t=Number(e);return Number.isFinite(t)?t:0},u6=(e,t,n,r)=>{const i=t==="force"?"force":t==="hypertrophie"?"hypertrophie":"endurance",a=`Nb_series_${i}`,o=`Nb_reps_${i}`,l=`pct_1rm_${i}`,d=`recup_${i}`;return{exercise_id:e.id,order_index:n,sets:iv(e[a]),reps:iv(e[o]),rest_seconds:iv(e[d]),percent_1rm:iv(e[l]),cycle_type:t,notes:r?.notes??""}},qCe=()=>({nom_exercice:"",description:null,illustration_gif:null,exercise_type:"strength",warmup_reps:null,warmup_duration:null,...BCe}),d6=({exercise:e,warmupMode:t,onChange:n,onWarmupModeChange:r,idPrefix:i})=>c.jsxs("div",{className:"space-y-3 rounded-lg border p-3",children:[c.jsx("p",{className:"text-sm font-semibold",children:"Paramtres dchauffement"}),c.jsxs(fK,{value:t,onValueChange:a=>{r(a==="duration"?"duration":"reps"),n(a==="duration"?{warmup_reps:null,warmup_duration:e.warmup_duration??0}:{warmup_duration:null,warmup_reps:e.warmup_reps??0})},className:"grid gap-2",children:[c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(hA,{value:"reps",id:`${i}-warmup-reps`}),c.jsx(Le,{htmlFor:`${i}-warmup-reps`,children:"Nombre de rptitions"})]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(hA,{value:"duration",id:`${i}-warmup-duration`}),c.jsx(Le,{htmlFor:`${i}-warmup-duration`,children:"Dure (secondes)"})]})]}),t==="duration"?c.jsxs("div",{className:"space-y-2",children:[c.jsx(Le,{children:"Dure (s)"}),c.jsx(et,{type:"number",value:e.warmup_duration??"",onChange:a=>n({warmup_duration:a.target.value===""?null:Number(a.target.value)})})]}):c.jsxs("div",{className:"space-y-2",children:[c.jsx(Le,{children:"Nombre de rptitions"}),c.jsx(et,{type:"number",value:e.warmup_reps??"",onChange:a=>n({warmup_reps:a.target.value===""?null:Number(a.target.value)})})]})]});function zCe(){const{toast:e}=Yr(),t=qi(),[n,r]=_.useState(!1),[i,a]=_.useState(null),[o,l]=_.useState("all"),[d,f]=_.useState(!1),[m,p]=_.useState(!1),[v,y]=_.useState(null),[x,b]=_.useState(null),[w,N]=_.useState(!1),[E,j]=_.useState(null),[O,T]=_.useState(null),[C,R]=_.useState(null),[P,k]=_.useState("reps"),[$,B]=_.useState("reps"),[I,F]=_.useState({title:"",description:"",cycle:"endurance",items:[]}),[V,U]=_.useState({...qCe()});_.useEffect(()=>{v&&B(v.warmup_duration!=null?"duration":"reps")},[v]);const{data:D}=Pt({queryKey:["exercises"],queryFn:()=>Me.getExercises()}),{data:G}=Pt({queryKey:["strength_catalog"],queryFn:()=>Me.getStrengthSessions()}),z=_.useMemo(()=>new Map((D??[]).map(te=>[te.id,te])),[D]),Y=Ot({mutationFn:te=>Me.createExercise(te),onSuccess:()=>{t.invalidateQueries({queryKey:["exercises"]}),f(!1),e({title:"Exercice ajout"})}}),de=Ot({mutationFn:te=>Me.createStrengthSession(te),onSuccess:()=>{t.invalidateQueries({queryKey:["strength_catalog"]}),r(!1),F({title:"",description:"",cycle:"endurance",items:[]}),e({title:"Sance cre avec succs"})}}),H=Ot({mutationFn:te=>Me.updateExercise(te),onSuccess:()=>{t.invalidateQueries({queryKey:["exercises"]}),t.invalidateQueries({queryKey:["strength_catalog"]}),p(!1),y(null),e({title:"Exercice mis  jour"})}}),K=Ot({mutationFn:te=>Me.deleteExercise(te),onSuccess:()=>{t.invalidateQueries({queryKey:["exercises"]}),t.invalidateQueries({queryKey:["strength_catalog"]}),T(null),e({title:"Exercice supprim"})}}),Z=Ot({mutationFn:te=>Me.deleteStrengthSession(te),onSuccess:()=>{t.invalidateQueries({queryKey:["strength_catalog"]}),j(null),e({title:"Sance supprime"})}}),le=Ot({mutationFn:te=>Me.updateStrengthSession(te),onSuccess:()=>{t.invalidateQueries({queryKey:["strength_catalog"]}),r(!1),a(null),F({title:"",description:"",cycle:"endurance",items:[]}),e({title:"Sance mise  jour"})}}),be=Ot({mutationFn:te=>Me.persistStrengthSessionOrder(te)}),ae=()=>{r(!1),a(null),F({title:"",description:"",cycle:"endurance",items:[]})},J=te=>{a(te.id),F({title:te.title??"",description:te.description??"",cycle:l6(te.cycle),items:te.items?.map(Pe=>({exercise_id:Pe.exercise_id,order_index:Pe.order_index??Pe.ordre??0,sets:Pe.sets,reps:Pe.reps,rest_seconds:Pe.rest_seconds,percent_1rm:Pe.percent_1rm,cycle_type:Pe.cycle_type,notes:Pe.notes??""}))??[]}),r(!0)},me=te=>{y(te),p(!0)},oe=()=>{const te={...I,items:pe(I.items)};i?le.mutate({...te,id:i}):de.mutate(te)},pe=te=>te.map((Pe,Ue)=>({...Pe,order_index:Ue})),we=()=>{const te=D?.[0];F(Pe=>({...Pe,items:[...Pe.items,te?u6(te,Pe.cycle,Pe.items.length):{exercise_id:1,order_index:Pe.items.length,sets:0,reps:0,rest_seconds:0,percent_1rm:0}]}))},ee=(te,Pe,Ue)=>{const Lt=[...I.items];if(Pe==="exercise_id"){const jt=D?.find(je=>je.id===Ue);jt?Lt[te]=u6(jt,I.cycle,Lt[te].order_index??te,Lt[te]):Lt[te]={...Lt[te],exercise_id:Ue}}else Lt[te]={...Lt[te],[Pe]:Ue};F({...I,items:Lt})},qe=te=>{const Pe=pe(I.items.filter((Ue,Lt)=>Lt!==te));F({...I,items:Pe})},ve=(te,Pe)=>{if(te===Pe)return;const Ue=[...I.items],[Lt]=Ue.splice(te,1);Ue.splice(Pe,0,Lt);const jt=pe(Ue);F({...I,items:jt}),i&&be.mutate({id:i,title:I.title,description:I.description,cycle:I.cycle,items:jt})},Ge=new Set(I.items.map(te=>te.exercise_id)),ne=D?.filter(te=>o==="all"||Ge.has(te.id)?!0:te.exercise_type===o)??[],ie=c.jsx(wu,{open:m,onOpenChange:p,children:c.jsxs(jl,{className:"sm:max-w-3xl max-h-[85vh] overflow-y-auto pb-safe",children:[c.jsx(uh,{children:c.jsx(dh,{children:"Modifier lexercice"})}),v&&c.jsxs("div",{className:"space-y-4",children:[v.exercise_type==="warmup"?c.jsx(d6,{exercise:v,warmupMode:$,onChange:te=>y(Pe=>Pe&&{...Pe,...te}),onWarmupModeChange:B,idPrefix:"edit"}):null,c.jsxs("div",{className:"space-y-2",children:[c.jsx(Le,{children:"Nom"}),c.jsx(et,{value:v.nom_exercice,onChange:te=>y({...v,nom_exercice:te.target.value})})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Le,{children:"Description"}),c.jsx(Ca,{value:v.description??"",onChange:te=>y({...v,description:te.target.value===""?null:te.target.value})})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Le,{children:"Illustration (GIF)"}),c.jsx(et,{value:v.illustration_gif??"",onChange:te=>y({...v,illustration_gif:te.target.value===""?null:te.target.value}),placeholder:"https://..."})]}),v.exercise_type!=="warmup"?c.jsx(c6,{exercise:v,onChange:te=>y(Pe=>Pe&&{...Pe,...te})}):null,c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(od,{id:"warmup-flag-edit",checked:v.exercise_type==="warmup",onCheckedChange:te=>y({...v,exercise_type:te===!0?"warmup":"strength"})}),c.jsx(Le,{htmlFor:"warmup-flag-edit",children:"Exercice dchauffement (warmup)"})]}),c.jsxs("div",{className:"flex justify-end gap-2",children:[c.jsx(Oe,{variant:"outline",onClick:()=>{p(!1),y(null)},children:"Annuler"}),c.jsxs(Oe,{onClick:()=>{v?.id&&H.mutate(v)},disabled:!v.nom_exercice.trim(),children:[c.jsx(sh,{className:"mr-2 h-4 w-4"})," Enregistrer"]})]})]})]})}),De=c.jsx(wu,{open:d,onOpenChange:f,children:c.jsxs(jl,{className:"sm:max-w-3xl max-h-[85vh] overflow-y-auto pb-safe",children:[c.jsx(uh,{children:c.jsx(dh,{children:"Crer un exercice"})}),c.jsxs("div",{className:"space-y-4",children:[V.exercise_type==="warmup"?c.jsx(d6,{exercise:V,warmupMode:P,onChange:te=>U(Pe=>({...Pe,...te})),onWarmupModeChange:k,idPrefix:"create"}):null,c.jsxs("div",{className:"space-y-2",children:[c.jsx(Le,{children:"Nom"}),c.jsx(et,{value:V.nom_exercice,onChange:te=>U({...V,nom_exercice:te.target.value}),placeholder:"ex: Rotations lastique"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Le,{children:"Description"}),c.jsx(Ca,{value:V.description??"",onChange:te=>U({...V,description:te.target.value===""?null:te.target.value}),placeholder:"Dtails, consignes..."})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Le,{children:"Illustration (GIF)"}),c.jsx(et,{value:V.illustration_gif??"",onChange:te=>U({...V,illustration_gif:te.target.value===""?null:te.target.value}),placeholder:"https://..."})]}),V.exercise_type!=="warmup"?c.jsx(c6,{exercise:V,onChange:te=>U(Pe=>({...Pe,...te}))}):null,c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(od,{id:"warmup-flag",checked:V.exercise_type==="warmup",onCheckedChange:te=>U({...V,exercise_type:te===!0?"warmup":"strength"})}),c.jsx(Le,{htmlFor:"warmup-flag",children:"Exercice dchauffement (warmup)"})]}),c.jsxs("div",{className:"flex justify-end gap-2",children:[c.jsx(Oe,{variant:"outline",onClick:()=>f(!1),children:"Annuler"}),c.jsxs(Oe,{onClick:()=>Y.mutate(V),disabled:!V.nom_exercice.trim(),children:[c.jsx(sh,{className:"mr-2 h-4 w-4"})," Enregistrer"]})]})]})]})}),dt=c.jsx(wu,{open:w,onOpenChange:te=>{N(te),te||b(null)},children:c.jsxs(jl,{className:"sm:max-w-3xl",children:[c.jsx(uh,{children:c.jsx(dh,{children:"Dtails de la sance"})}),x&&c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"space-y-1",children:[c.jsx("p",{className:"text-lg font-semibold",children:x.title}),c.jsx("p",{className:"text-sm text-muted-foreground",children:x.description||""}),c.jsxs("p",{className:"text-sm text-muted-foreground",children:["Cycle : ",x.cycle]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("p",{className:"text-sm font-semibold",children:"Exercices"}),c.jsx("div",{className:"space-y-2",children:(x.items??[]).slice().sort((te,Pe)=>(te.order_index??0)-(Pe.order_index??0)).map((te,Pe)=>{const Ue=z.get(te.exercise_id);return c.jsxs("div",{className:"rounded-md border px-3 py-2 text-sm",children:[c.jsxs("div",{className:"flex items-center justify-between gap-2",children:[c.jsxs("span",{className:"font-medium",children:[Pe+1,". ",Ue?.nom_exercice??te.exercise_name??"Exercice"]}),c.jsx("span",{className:"text-xs text-muted-foreground",children:Ue?.exercise_type==="warmup"||te.category==="warmup"?"chauffement":"Travail"})]}),c.jsxs("div",{className:"mt-1 text-xs text-muted-foreground",children:[te.sets," sries  ",te.reps," reps  ",te.percent_1rm,"% 1RM  ",te.rest_seconds,"s"]})]},`${te.exercise_id}-${Pe}`)})})]})]})]})}),Ie=c.jsx(Hy,{open:!!E,onOpenChange:te=>{te||j(null)},children:c.jsxs(Tm,{children:[c.jsxs(Om,{children:[c.jsx(Rm,{children:"Supprimer la sance ?"}),c.jsxs(Pm,{children:['Cette action est dfinitive. La sance "',E?.title,'" sera supprime.']})]}),c.jsxs(Cm,{children:[c.jsx(km,{children:"Annuler"}),c.jsx(Mm,{onClick:()=>{E?.id&&Z.mutate(E.id)},children:"Supprimer"})]})]})}),Xe=c.jsx(Hy,{open:!!O,onOpenChange:te=>{te||T(null)},children:c.jsxs(Tm,{children:[c.jsxs(Om,{children:[c.jsx(Rm,{children:"Supprimer lexercice ?"}),c.jsxs(Pm,{children:['Cette action est dfinitive. Lexercice "',O?.nom_exercice,'" sera supprim.']})]}),c.jsxs(Cm,{children:[c.jsx(km,{children:"Annuler"}),c.jsx(Mm,{onClick:()=>{O?.id&&K.mutate(O.id)},children:"Supprimer"})]})]})});return n?c.jsxs("div",{className:"space-y-6 animate-in slide-in-from-bottom-4",children:[De,ie,dt,Ie,Xe,c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("h2",{className:"text-xl font-bold uppercase",children:i?"Modifier Sance Muscu":"Nouvelle Sance Muscu"}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx(Oe,{variant:"outline",onClick:ae,children:"Annuler"}),c.jsxs(Oe,{onClick:oe,children:[c.jsx(sh,{className:"mr-2 h-4 w-4"})," Enregistrer"]})]})]}),c.jsxs(ke,{children:[c.jsx(it,{children:c.jsx(st,{children:"Informations Gnrales"})}),c.jsxs(Be,{className:"space-y-4",children:[c.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(Le,{children:"Titre"}),c.jsx(et,{value:I.title,onChange:te=>F({...I,title:te.target.value}),placeholder:"ex: Full Body A"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Le,{children:"Cycle"}),c.jsxs(cn,{value:I.cycle,onValueChange:te=>F({...I,cycle:l6(te)}),children:[c.jsx(rn,{children:c.jsx(un,{})}),c.jsxs(an,{children:[c.jsx(at,{value:"endurance",children:"Endurance"}),c.jsx(at,{value:"hypertrophie",children:"Hypertrophie"}),c.jsx(at,{value:"force",children:"Force"})]})]})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Le,{children:"Description"}),c.jsx(Ca,{value:I.description,onChange:te=>F({...I,description:te.target.value})})]})]})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("h3",{className:"font-bold",children:"Exercices"}),c.jsxs("div",{className:"flex flex-wrap gap-2",children:[c.jsxs(Oe,{size:"sm",variant:"outline",onClick:()=>f(!0),children:[c.jsx(na,{className:"mr-2 h-4 w-4"})," Nouvel exercice"]}),c.jsxs(Oe,{size:"sm",onClick:we,children:[c.jsx(na,{className:"mr-2 h-4 w-4"})," Ajouter"]})]})]}),c.jsxs("div",{className:"grid gap-4 md:grid-cols-[220px_1fr] items-end",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsxs(Le,{className:"flex items-center gap-2",children:[c.jsx(WZ,{className:"h-4 w-4"})," Filtre exercices"]}),c.jsxs(cn,{value:o,onValueChange:te=>l(te),children:[c.jsx(rn,{children:c.jsx(un,{})}),c.jsxs(an,{children:[c.jsx(at,{value:"all",children:"Tous"}),c.jsx(at,{value:"strength",children:"Sries de travail"}),c.jsx(at,{value:"warmup",children:"chauffement"})]})]})]}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Les exercices marqus warmup sont affichs dans les sances avec le badge  chauffement ."})]}),I.items.map((te,Pe)=>c.jsxs(ke,{className:"relative",onDragOver:Ue=>Ue.preventDefault(),onDrop:()=>{C!==null&&(ve(C,Pe),R(null))},children:[c.jsx(Oe,{variant:"ghost",size:"icon",className:"absolute top-2 right-2 text-destructive",onClick:()=>qe(Pe),"aria-label":"Supprimer l'exercice",children:c.jsx(ro,{className:"h-4 w-4"})}),c.jsxs(Be,{className:"pt-6 grid md:grid-cols-12 gap-4 items-end",children:[c.jsx("div",{className:"md:col-span-1 flex items-center justify-center",children:c.jsx("button",{type:"button",className:"cursor-grab rounded-md border p-1 text-muted-foreground hover:text-foreground",draggable:!0,onDragStart:()=>R(Pe),onDragEnd:()=>R(null),"aria-label":"Rordonner",children:c.jsx(Yz,{className:"h-4 w-4"})})}),c.jsxs("div",{className:"md:col-span-3 space-y-2",children:[c.jsx(Le,{children:"Exercice"}),c.jsxs(cn,{value:te.exercise_id.toString(),onValueChange:Ue=>ee(Pe,"exercise_id",parseInt(Ue)),children:[c.jsx(rn,{children:c.jsx(un,{})}),c.jsx(an,{children:ne.length?ne.map(Ue=>c.jsxs(at,{value:Ue.id.toString(),children:[Ue.nom_exercice,Ue.exercise_type==="warmup"?"  chauffement":""]},Ue.id)):c.jsx(at,{value:"no-exercise",disabled:!0,children:"Aucun exercice disponible"})})]})]}),c.jsxs("div",{className:"md:col-span-2 space-y-2",children:[c.jsx(Le,{children:"Sries"}),c.jsx(et,{type:"number",value:te.sets===0?"":te.sets,onChange:Ue=>ee(Pe,"sets",Ue.target.value===""?0:Number(Ue.target.value))})]}),c.jsxs("div",{className:"md:col-span-2 space-y-2",children:[c.jsx(Le,{children:"Reps"}),c.jsx(et,{type:"number",value:te.reps===0?"":te.reps,onChange:Ue=>ee(Pe,"reps",Ue.target.value===""?0:Number(Ue.target.value))})]}),c.jsxs("div",{className:"md:col-span-2 space-y-2",children:[c.jsx(Le,{children:"% 1RM"}),c.jsx(et,{type:"number",value:te.percent_1rm===0?"":te.percent_1rm,onChange:Ue=>ee(Pe,"percent_1rm",Ue.target.value===""?0:Number(Ue.target.value))})]}),c.jsxs("div",{className:"md:col-span-2 space-y-2",children:[c.jsx(Le,{children:"Repos (s)"}),c.jsx(et,{type:"number",value:te.rest_seconds===0?"":te.rest_seconds,onChange:Ue=>ee(Pe,"rest_seconds",Ue.target.value===""?0:Number(Ue.target.value))})]})]})]},`${te.exercise_id}-${Pe}`))]})]}):c.jsxs("div",{className:"space-y-4",children:[De,ie,dt,Ie,Xe,c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("h3",{className:"font-bold text-lg",children:"Catalogue Sances Musculation"}),c.jsxs(Oe,{onClick:()=>{a(null),F({title:"",description:"",cycle:"endurance",items:[]}),r(!0)},children:[c.jsx(na,{className:"mr-2 h-4 w-4"})," Crer"]})]}),c.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:G?.map(te=>c.jsxs(ke,{children:[c.jsxs(it,{children:[c.jsx(st,{children:te.title}),c.jsxs(Yt,{children:[te.items?.length||0," exercices  ",te.cycle]})]}),c.jsx(Be,{children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Oe,{variant:"outline",size:"icon","aria-label":"Voir dtails",onClick:()=>{b(te),N(!0)},children:c.jsx(HZ,{className:"h-4 w-4"})}),c.jsx(Oe,{variant:"secondary",size:"icon","aria-label":"Modifier",onClick:()=>J(te),children:c.jsx(Ch,{className:"h-4 w-4"})}),c.jsx(Oe,{variant:"destructive",size:"icon","aria-label":"Supprimer",onClick:()=>j(te),children:c.jsx(ro,{className:"h-4 w-4"})})]})})]},te.id))}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("h3",{className:"font-bold text-lg",children:"Catalogue Exercices"}),c.jsxs(Oe,{variant:"outline",onClick:()=>f(!0),children:[c.jsx(na,{className:"mr-2 h-4 w-4"})," Ajouter un exercice"]})]}),c.jsx("div",{className:"grid gap-3 md:grid-cols-2",children:D?.map(te=>c.jsx(ke,{children:c.jsxs(Be,{className:"flex flex-col gap-3 py-4 sm:flex-row sm:items-center sm:justify-between",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[te.illustration_gif?c.jsx("img",{src:te.illustration_gif,alt:`Illustration ${te.nom_exercice}`,className:"h-14 w-14 rounded-md object-cover"}):null,c.jsxs("div",{children:[c.jsx("p",{className:"font-semibold",children:te.nom_exercice}),c.jsx("p",{className:"text-sm text-muted-foreground",children:te.exercise_type==="warmup"?"chauffement":"Sries de travail"})]})]}),c.jsxs("div",{className:"flex w-full gap-2 sm:w-auto",children:[c.jsx(Oe,{variant:"outline",size:"icon","aria-label":"Modifier",onClick:()=>me(te),children:c.jsx(Ch,{className:"h-4 w-4"})}),c.jsx(Oe,{variant:"destructive",size:"icon","aria-label":"Supprimer",onClick:()=>T(te),children:c.jsx(ro,{className:"h-4 w-4"})})]})]})},te.id))})]})]})}const BK={palmes:{label:"Palmes",icon:new URL("/competition-V2/assets/palmes-CV0uH23E.svg",import.meta.url).href},tuba:{label:"Tuba",icon:new URL("data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20fill='none'%20stroke='currentColor'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'%3e%3cg%20transform='translate(-1.076923%201.074519)%20scale(1.025641)'%20vector-effect='non-scaling-stroke'%3e%3cpath%20d='M6.5%2010.5c1.4-1.6%203.4-2.5%205.5-2.5s4.1.9%205.5%202.5v3.1c0%201-.8%201.9-1.9%201.9h-1.4c-.8%200-1.5-.5-1.8-1.2l-.4-1.1-.4%201.1c-.3.7-1%201.2-1.8%201.2H8.4c-1%200-1.9-.8-1.9-1.9z'%20/%3e%3cpath%20d='M6.5%2011.2H5.2c-.7%200-1.2.5-1.2%201.2v1.2'%20/%3e%3cpath%20d='M17.5%2011.2h1.3c.7%200%201.2.5%201.2%201.2v1.2'%20/%3e%3cpath%20d='M19.5%206.5V4.8c0-.4.3-.8.8-.8H21'%20/%3e%3cpath%20d='M19.5%206.5c-1.2%200-2.2%201-2.2%202.2v4.8c0%202.1%201.7%203.8%203.8%203.8h.4'%20/%3e%3c/g%3e%3c/svg%3e",import.meta.url).href},plaquettes:{label:"Plaquettes",icon:new URL("data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%3e%3cg%20transform='translate(0.330484%200.336182)%20scale(0.045584)'%20vector-effect='non-scaling-stroke'%3e%3cg%20transform='translate(0.000000,512.000000)%20scale(0.100000,-0.100000)'%20fill='currentColor'%20stroke='none'%3e%3cpath%20d='M2552%204748%20c-373%20-58%20-928%20-529%20-1377%20-1168%20-218%20-310%20-318%20-519%20-362%20-750%20-24%20-131%20-24%20-494%201%20-665%2047%20-329%20150%20-738%20276%20-1100%2011%20-33%2041%20-141%2066%20-239%2024%20-99%2056%20-206%2071%20-238%2037%20-83%20114%20-151%20200%20-178%20120%20-37%20280%20-20%20392%2040%20l55%2030%20495%200%20c415%20-1%20499%20-3%20515%20-15%2045%20-34%20279%20-97%20359%20-96%2067%200%20135%2040%20216%20127%20315%20339%20711%201187%20842%201809%2067%20318%20-12%20670%20-252%201110%20-187%20345%20-459%20698%20-738%20959%20-307%20287%20-550%20407%20-759%20374z%20m250%20-200%20c185%20-88%20403%20-270%20618%20-515%20302%20-343%20550%20-750%20668%20-1094%20105%20-305%20104%20-462%20-7%20-856%20-146%20-516%20-516%20-1254%20-746%20-1490%20-54%20-56%20-65%20-63%20-100%20-63%20-22%200%20-56%204%20-75%209%20-19%206%20-54%2015%20-77%2021%20l-43%2011%200%2073%200%2074%2061%204%20c70%205%2099%2028%2099%2078%200%2049%20-29%2072%20-100%2079%20l-64%206%20264%20227%20c146%20125%20277%20245%20291%20265%2015%2021%2091%20160%20170%20308%20118%20223%20157%20288%20227%20374%20108%20133%20125%20163%20125%20216%200%2067%20-29%20108%20-148%20205%20-114%2094%20-157%20115%20-216%20104%20-47%20-10%20-457%20-248%20-496%20-289%20-50%20-53%20-57%20-96%20-33%20-207%2016%20-69%2018%20-98%2011%20-115%20-6%20-13%20-14%20-23%20-18%20-22%20-12%200%20-113%20145%20-124%20179%20-9%2024%20-5%2050%2021%20142%2017%2062%2038%20123%2046%20135%208%2012%2014%2035%2014%2050%200%2015%2068%20258%20151%20538%20182%20619%20182%20619%20174%20672%20-10%2069%20-52%20105%20-168%20142%20-58%2019%20-118%2031%20-150%2031%20-111%200%20-215%20-53%20-261%20-133%20-14%20-23%20-56%20-145%20-94%20-271%20-39%20-125%20-76%20-233%20-82%20-240%20-9%20-8%20-11%2074%20-8%20349%20l3%20360%20-24%2048%20c-29%2059%20-98%20121%20-158%20141%20-26%209%20-77%2016%20-114%2016%20-125%200%20-236%20-82%20-269%20-198%20-5%20-20%20-10%20-89%20-10%20-152%20-1%20-111%20-1%20-114%20-15%20-76%20-33%2093%20-104%20148%20-198%20154%20-55%204%20-71%200%20-124%20-26%20-33%20-17%20-73%20-47%20-89%20-67%20-16%20-20%20-46%20-54%20-66%20-75%20-47%20-49%20-50%20-89%20-11%20-128%2027%20-26%2028%20-34%2070%20-377%2023%20-192%2042%20-360%2043%20-373%200%20-18%20-24%204%20-102%2095%20-56%2065%20-117%20139%20-136%20166%20-19%2026%20-55%2060%20-81%2075%20-39%2023%20-57%2027%20-121%2027%20-86%200%20-135%20-21%20-195%20-80%20-45%20-46%20-65%20-94%20-65%20-161%200%20-49%2015%20-83%20198%20-451%20l199%20-398%20-13%20-50%20c-78%20-298%20-2%20-723%20187%20-1047%2021%20-36%2039%20-71%2039%20-76%200%20-5%20-28%20-12%20-61%20-14%20-70%20-5%20-99%20-28%20-99%20-78%200%20-50%2029%20-73%2099%20-78%20l61%20-4%200%20-78%200%20-77%20-31%20-7%20c-68%20-13%20-143%20-6%20-197%2019%20-46%2021%20-56%2032%20-77%2077%20-13%2029%20-42%20127%20-65%20218%20-22%2091%20-65%20239%20-95%20330%20-182%20557%20-258%20945%20-259%201315%20-1%20277%2026%20409%20122%20600%20222%20446%20778%201083%201158%201328%20167%20107%20281%20148%20404%20145%2074%20-3%2095%20-8%20162%20-40z%20m-287%20-614%20c64%20-30%2064%20-35%2057%20-468%20l-7%20-389%20-27%20-20%20-26%20-20%20-96%2079%20-96%2079%200%20333%20c0%20364%202%20376%2058%20406%2036%2020%2096%2020%20137%200z%20m-537%20-279%20c18%20-23%2052%20-188%2041%20-199%20-3%20-4%20-140%20104%20-178%20140%20-10%2010%2012%2051%2036%2066%2041%2025%2078%2023%20101%20-7z%20m1296%204%20c61%20-18%2066%20-22%2060%20-42%20-9%20-30%20-8%20-30%20-203%20-162%20-137%20-93%20-171%20-112%20-165%20-94%204%2013%2022%2073%2041%20134%2039%20127%2050%20146%2095%20168%2044%2022%2093%2021%20172%20-4z%20m-1286%20-394%20c40%20-33%2075%20-69%2077%20-80%203%20-11%2016%20-96%2030%20-190%2014%20-93%2028%20-180%2030%20-192%204%20-19%20-9%20-32%20-85%20-83%20-85%20-57%20-90%20-59%20-94%20-38%20-7%2034%20-76%20629%20-76%20656%200%2027%20-10%2033%20118%20-73z%20m1177%20-232%20c-48%20-164%20-96%20-328%20-107%20-365%20l-20%20-67%20-116%2096%20c-65%2053%20-119%2098%20-121%2099%20-8%207%2083%20295%2098%20308%2032%2028%20344%20236%20349%20232%202%20-2%20-35%20-139%20-83%20-303z%20m-1779%20-60%20c13%20-16%20120%20-141%20239%20-280%20225%20-264%20249%20-284%20294%20-251%2048%2035%20231%20158%20236%20158%203%200%205%20-9%205%20-19%200%20-36%2043%20-74%2081%20-73%2058%201%2079%2037%2079%20131%20l0%2078%2092%2061%2091%2061%2028%20-22%2028%20-22%200%20-133%20c1%20-127%202%20-134%2026%20-157%2033%20-34%2086%20-34%20113%200%2011%2014%2025%2048%2032%2075%207%2028%2015%2050%2018%2050%205%200%20198%20-157%20239%20-194%202%20-1%20-11%20-49%20-28%20-107%20-38%20-128%20-41%20-214%20-12%20-279%2028%20-60%20165%20-245%20200%20-267%2016%20-10%2046%20-18%2071%20-18%2041%200%2048%204%2094%2055%2092%20102%20102%20143%2069%20282%20-10%2042%20-15%2081%20-12%2085%207%2011%20400%20233%20411%20233%204%200%2046%20-32%2093%20-71%20l86%20-71%20-94%20-117%20c-81%20-101%20-116%20-158%20-248%20-407%20l-154%20-289%20-274%20-237%20c-151%20-130%20-282%20-247%20-291%20-259%20-10%20-12%20-18%20-36%20-18%20-55%20l0%20-34%20-520%200%20-520%200%200%2030%20c0%2017%20-23%2070%20-55%20127%20-178%20319%20-243%20671%20-174%20940%2010%2042%2019%2087%2019%20100%200%2013%20-90%20204%20-201%20424%20-138%20276%20-199%20409%20-197%20427%204%2033%2059%2072%20101%2072%2020%200%2037%20-9%2053%20-27z%20m963%20-7%20l22%20-23%20-26%20-17%20-25%20-16%200%2040%20c0%2022%201%2040%203%2040%202%200%2013%20-11%2026%20-24z%20m531%20-2286%20l0%20-40%20-520%200%20-520%200%200%2040%200%2040%20520%200%20520%200%200%20-40z'%20/%3e%3c/g%3e%3c/g%3e%3c/svg%3e",import.meta.url).href},pull:{label:"Pull",icon:new URL("data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%3e%3cg%20transform='translate(-25.188612%20-8.200661)%20scale(0.024294)'%20vector-effect='non-scaling-stroke'%3e%3cg%20transform='translate(0.000000,2000.000000)%20scale(0.100000,-0.100000)'%20fill='currentColor'%20stroke='none'%3e%3cpath%20d='M12470%2014405%20c-281%20-42%20-492%20-154%20-700%20-371%20-151%20-157%20-266%20-333%20-371%20-564%20-151%20-333%20-217%20-640%20-190%20-887%2019%20-173%2045%20-264%20117%20-403%20111%20-214%20304%20-407%20576%20-576%20318%20-196%20845%20-390%201368%20-504%20359%20-78%20577%20-113%20930%20-149%20252%20-26%20310%20-34%20370%20-48%20185%20-42%20387%20-132%20552%20-245%2057%20-39%20162%20-131%20275%20-240%20329%20-318%20628%20-565%20975%20-806%20462%20-321%20860%20-520%201208%20-606%20183%20-46%20229%20-51%20430%20-50%20179%200%20204%202%20300%2028%20225%2058%20394%20157%20565%20330%20263%20264%20465%20678%20530%201083%2019%20116%2019%20302%201%20413%20-73%20442%20-378%20800%20-911%201070%20-210%20107%20-536%20232%20-770%20295%20-33%209%20-73%2020%20-90%2025%20-190%2052%20-454%20113%20-610%20140%20-305%2053%20-447%2072%20-655%2090%20-332%2028%20-465%2060%20-680%20161%20-169%2080%20-288%20166%20-450%20324%20-385%20374%20-731%20659%20-1095%20902%20-539%20360%20-944%20538%20-1335%20588%20-134%2018%20-223%2018%20-340%200z'%20/%3e%3c/g%3e%3c/g%3e%3c/svg%3e",import.meta.url).href},elastique:{label:"lastique",icon:new URL("data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%3e%3cg%20transform='translate(-4.406250%200.429487)%20scale(0.039062)'%20vector-effect='non-scaling-stroke'%3e%3cg%20transform='translate(0.000000,592.000000)%20scale(0.100000,-0.100000)'%20fill='currentColor'%20stroke='none'%3e%3cpath%20d='M3355%205506%20c-166%20-27%20-386%20-101%20-555%20-186%20-539%20-270%20-958%20-781%20-1110%20-1354%20-76%20-286%20-64%20-542%2035%20-777%20175%20-415%20606%20-629%201116%20-553%20168%2024%20338%2023%20451%20-4%20304%20-74%20514%20-289%20584%20-599%2023%20-102%2023%20-271%20-1%20-432%20-63%20-434%2080%20-814%20385%20-1021%2090%20-61%20233%20-126%20330%20-150%20468%20-116%201113%20121%201566%20574%20262%20262%20444%20570%20546%20921%20145%20502%207%20962%20-365%201214%20-198%20134%20-503%20191%20-782%20146%20-156%20-26%20-334%20-24%20-450%204%20-291%2070%20-506%20285%20-576%20576%20-27%20112%20-29%20302%20-5%20450%2094%20584%20-209%201064%20-748%201181%20-97%2022%20-321%2027%20-421%2010z%20m420%20-185%20c424%20-108%20652%20-491%20582%20-976%20-26%20-180%20-30%20-254%20-18%20-368%2046%20-425%20293%20-728%20685%20-841%20167%20-49%20326%20-55%20556%20-20%20535%2079%20935%20-197%201001%20-691%2044%20-334%20-108%20-770%20-391%20-1125%20-78%20-97%20-254%20-272%20-350%20-347%20-223%20-174%20-496%20-303%20-760%20-360%20-123%20-26%20-346%20-23%20-455%206%20-108%2028%20-246%2098%20-323%20163%20-216%20182%20-311%20489%20-257%20823%2024%20144%2024%20360%201%20469%20-67%20306%20-239%20534%20-502%20665%20-215%20107%20-432%20133%20-719%2086%20-180%20-30%20-374%20-13%20-523%2045%20-372%20144%20-559%20543%20-467%20996%20137%20671%20735%201290%201415%201464%20174%2044%20376%2048%20525%2011z'%20/%3e%3cpath%20d='M3376%205135%20c-493%20-94%20-976%20-473%20-1211%20-950%20-209%20-425%20-204%20-803%2015%20-1022%20151%20-150%20369%20-203%20648%20-157%20144%2024%20370%2022%20499%20-5%20471%20-98%20790%20-409%20910%20-888%2024%20-96%2027%20-127%2027%20-278%200%20-122%20-4%20-194%20-17%20-254%20-51%20-246%207%20-492%20148%20-632%20193%20-191%20469%20-229%20815%20-113%20517%20173%20941%20597%201114%201114%20113%20338%2078%20616%20-100%20800%20-151%20157%20-357%20209%20-647%20164%20-151%20-24%20-376%20-21%20-504%205%20-483%20100%20-814%20430%20-914%20914%20-27%20130%20-29%20356%20-5%20499%2020%20121%2020%20260%201%20353%20-44%20210%20-198%20377%20-405%20440%20-78%2023%20-274%2029%20-374%2010z%20m280%20-166%20c174%20-32%20301%20-157%20334%20-329%2014%20-76%2012%20-165%20-7%20-283%20-24%20-154%20-22%20-402%205%20-542%2038%20-194%20105%20-361%20209%20-519%2060%20-91%20248%20-279%20339%20-339%20158%20-104%20351%20-180%20539%20-213%20130%20-23%20381%20-23%20522%200%20236%2037%20377%208%20495%20-102%20155%20-144%20166%20-414%2032%20-740%20-77%20-189%20-173%20-330%20-334%20-495%20-217%20-224%20-441%20-359%20-712%20-432%20-243%20-65%20-444%20-31%20-562%2095%20-108%20115%20-138%20269%20-100%20498%2026%20149%2023%20397%20-5%20540%20-108%20553%20-497%20945%20-1054%201064%20-130%2027%20-398%2030%20-554%204%20-233%20-37%20-378%20-8%20-493%20100%20-126%20118%20-160%20319%20-95%20563%2049%20181%20140%20367%20259%20524%2082%20109%20287%20304%20395%20375%20276%20181%20576%20270%20787%20231z'%20/%3e%3cpath%20d='M4715%204206%20c-14%20-163%2021%20-328%2096%20-452%2071%20-118%20216%20-221%20364%20-259%20141%20-36%20342%20-28%20378%2016%2023%2028%2022%2081%20-2%20110%20-18%2023%20-25%2024%20-158%2025%20-111%201%20-151%206%20-205%2023%20-210%2067%20-324%20264%20-302%20522%207%2088%2010%2085%20-96%2095%20l-68%207%20-7%20-87z'%20/%3e%3cpath%20d='M2922%202441%20c-56%20-10%20-86%20-40%20-86%20-87%200%20-28%207%20-42%2029%20-61%2027%20-24%2033%20-25%20114%20-18%20179%2013%20324%20-36%20423%20-144%2093%20-100%20124%20-212%20114%20-407%20-6%20-112%20-5%20-122%2014%20-142%2040%20-43%20103%20-37%20136%2013%2026%2040%2032%20246%2010%20355%20-50%20245%20-208%20413%20-447%20475%20-71%2019%20-243%2028%20-307%2016z'%20/%3e%3c/g%3e%3c/g%3e%3c/svg%3e",import.meta.url).href}},qK=e=>e.trim().toLowerCase(),FCe=e=>BK[qK(e)]?.icon??null;function f6({equipment:e,className:t,showIcon:n=!0}){const r=BK[qK(e)];return c.jsxs("span",{className:Ae("flex items-center gap-2 rounded-full border bg-white px-3 py-1 text-xs text-muted-foreground",t),children:[n&&r?.icon?c.jsx("img",{src:r.icon,alt:"",className:"h-3.5 w-3.5 text-primary","aria-hidden":"true"}):null,c.jsx("span",{children:r?.label??e})]})}const iu=["V0","V1","V2","V3","Max"],Dm={V0:"bg-emerald-500",V1:"bg-green-500",V2:"bg-yellow-500",V3:"bg-orange-500",Max:"bg-red-600"},mA=e=>e==="Max"?"MAX":e;function UCe({value:e,className:t,size:n="md"}){const r=iu.includes(e)?e:iu[iu.length-1],i=iu.indexOf(r)+1,a=n==="sm"?"h-2 w-2":"h-2.5 w-2.5";return c.jsx("div",{className:Ae("flex items-center gap-1",t),"aria-label":`Intensit ${mA(r)}`,children:iu.map((o,l)=>c.jsx("span",{className:Ae(a,"rounded-full",l<i?Dm[o]??"bg-primary":"bg-slate-200")},o))})}const h6=["V0","V1","V2","V3","Max"],VCe={V0:"bg-emerald-500",V1:"bg-green-500",V2:"bg-yellow-500",V3:"bg-orange-500",Max:"bg-red-600"},m6={souple:"V0",facile:"V0",relache:"V0",relch:"V0"},HCe=e=>{if(!e)return"V0";const t=e.trim();if(!t)return"V0";const n=t.toLowerCase();if(m6[n])return m6[n];const r=t.toUpperCase();if(r==="MAX")return"Max";if(r.startsWith("V")){const i=r.replace("V","V");return i==="V4"||i==="V5"?"Max":i}return t};function GCe({value:e,onChange:t,className:n,ariaLabel:r="Slection d'intensit"}){const i=HCe(e),a=h6.includes(i)?i:"Max";return c.jsx("div",{role:"radiogroup","aria-label":r,className:Ae("flex flex-wrap items-center gap-2",n),children:h6.map(o=>{const l=a===o;return c.jsxs("button",{type:"button",role:"radio","aria-checked":l,"aria-label":`Intensit ${o==="Max"?"MAX":o}`,onClick:()=>t(o),className:Ae("flex flex-col items-center gap-1 rounded-full px-2 py-1 text-[10px] font-semibold text-muted-foreground transition","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary",l?"text-foreground":"hover:text-foreground"),children:[c.jsx("span",{className:Ae("h-3 w-3 rounded-full",l?VCe[o]??"bg-primary":"bg-slate-200")}),c.jsx("span",{children:o==="Max"?"MAX":o})]},o)})})}var KCe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],WCe=KCe.reduce((e,t)=>{const n=u0(`Primitive.${t}`),r=_.forwardRef((i,a)=>{const{asChild:o,...l}=i,d=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),c.jsx(d,{...l,ref:a})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{}),YCe="Separator",p6="horizontal",XCe=["horizontal","vertical"],zK=_.forwardRef((e,t)=>{const{decorative:n,orientation:r=p6,...i}=e,a=QCe(r)?r:p6,l=n?{role:"none"}:{"aria-orientation":a==="vertical"?a:void 0,role:"separator"};return c.jsx(WCe.div,{"data-orientation":a,...l,...i,ref:t})});zK.displayName=YCe;function QCe(e){return XCe.includes(e)}var FK=zK;const HO=_.forwardRef(({className:e,orientation:t="horizontal",decorative:n=!0,...r},i)=>c.jsx(FK,{ref:i,decorative:n,orientation:t,className:Ae("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...r}));HO.displayName=FK.displayName;function Hf({children:e,className:t}){return c.jsx("div",{className:Ae("flex flex-wrap items-center gap-2 text-xs",t),children:e})}const Tj=e=>{const t=Number(e);return Number.isFinite(t)?t:0},GO=(e=[])=>e.reduce((t,n)=>{const r=n.raw_payload??{},i=Tj(r.block_repetitions),a=Tj(r.exercise_repetitions),o=Tj(n.distance);return t+i*a*o},0),JCe=e=>e?e.split(`
`).map(t=>t.trim()).filter(Boolean):[],ZCe={V0:"text-emerald-800",V1:"text-green-800",V2:"text-yellow-800",V3:"text-orange-800",Max:"text-red-800"},eRe={V0:"ring-emerald-200",V1:"ring-green-200",V2:"ring-yellow-200",V3:"ring-orange-200",Max:"ring-red-200"},g6={souple:"V0",facile:"V0",relache:"V0",relch:"V0"},tRe={pap:"Pap",papillon:"Pap",crawl:"Crawl",dos:"Dos",brasse:"Brasse","4n":"4 nages","4 nages":"4 nages",spe:"Sp",sp:"Sp"},nRe={nc:"NC",educ:"ducatif",jambes:"Jambes"},rRe={nc:"bg-sky-100 text-sky-900 ring-sky-200",educ:"bg-violet-100 text-violet-900 ring-violet-200",jambes:"bg-teal-100 text-teal-900 ring-teal-200"},iRe=e=>e?tRe[e]??e:null,aRe=e=>{if(!e)return null;const t=e.trim();if(!t)return null;const n=t.toLowerCase();if(g6[n])return g6[n];const r=t.toUpperCase();if(r==="MAX")return"Max";if(r.startsWith("V")){const i=Number.parseInt(r.slice(1),10);if(Number.isFinite(i)&&i>=4)return"Max";if(iu.includes(r))return r}return t},sRe=(e=[])=>{const t=new Map;return e.forEach((n,r)=>{const i=n.raw_payload??{},a=typeof i=="object"?i:{},o=a.block_title||a.section||"Bloc",l=Number(a.block_order??0),d=`${l}-${o}`,f=a.block_equipment??a.equipment,m=a.block_modalities??a.modalities??null,p=Array.isArray(f)?f:f?String(f).split(",").map(j=>j.trim()).filter(Boolean):[];t.has(d)||t.set(d,{key:d,title:o,description:a.block_description??null,modalities:m,equipment:p.length?p:null,order:Number.isFinite(l)?l:0,repetitions:a.block_repetitions??null,items:[]});const v=t.get(d),y=a.exercise_repetitions??null,x=n.distance??null,b=n.label||(y&&x?`${y}x${x}m`:null)||(x?`${x}m`:null),w=a.exercise_modalities??n.notes??null,N=a.exercise_equipment??a.equipment,E=Array.isArray(N)?N:N?String(N).split(",").map(j=>j.trim()).filter(Boolean):[];v.items.push({...n,label:b||a.exercise_label||`Exercice ${r+1}`,notes:w,raw_payload:{...a,exercise_modalities:w,exercise_equipment:E}})}),Array.from(t.values()).sort((n,r)=>n.order!==r.order?n.order-r.order:n.title.localeCompare(r.title))},oRe=e=>`inline-flex items-center gap-2 rounded-full px-2.5 py-1 text-xs font-semibold ring-1 bg-white ${ZCe[e]??"text-foreground"} ${eRe[e]??"ring-border"}`;function pA({title:e,description:t,items:n=[],showHeader:r=!0,compactMode:i=!1,onExerciseSelect:a}){const o=sRe(n),l=!!a;return c.jsxs("div",{className:"space-y-6",children:[r?c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"space-y-1",children:[c.jsx("h2",{className:"text-2xl font-display font-semibold uppercase tracking-wide",children:e}),t?c.jsx("p",{className:"text-sm text-muted-foreground",children:t}):null]}),c.jsx(HO,{})]}):null,o.length===0?c.jsx("div",{className:"rounded-2xl border border-dashed border-muted/70 bg-muted/30 p-6 text-sm text-muted-foreground",children:"Aucun contenu dtaill pour cette sance."}):o.map((d,f)=>c.jsxs(ke,{className:"overflow-hidden border border-slate-200 shadow-sm",children:[c.jsxs(it,{className:"space-y-3 bg-slate-50/80 px-5 py-4",children:[c.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-3",children:[c.jsxs("div",{children:[c.jsxs("div",{className:"text-xs uppercase tracking-[0.2em] text-muted-foreground",children:["Bloc ",f+1]}),c.jsx("div",{className:"text-lg font-semibold tracking-tight text-slate-900",children:d.title}),d.description?c.jsx("p",{className:"mt-1 text-sm text-muted-foreground",children:d.description}):null]}),c.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[d.repetitions?c.jsxs(hn,{variant:"secondary",className:"text-xs",children:[" ",d.repetitions,"x"]}):null,c.jsxs(hn,{variant:"outline",className:"text-xs",children:[d.items.length," exercices"]})]})]}),c.jsxs(Hf,{className:"text-muted-foreground",children:[d.modalities?c.jsx("span",{className:"inline-flex max-w-[280px] items-center rounded-full bg-white px-2.5 py-1 ring-1 ring-slate-200",title:d.modalities,children:c.jsxs("span",{className:"truncate",children:["Modalits : ",d.modalities]})}):null,d.equipment?.length?c.jsx(Hf,{children:d.equipment.map(m=>c.jsx(f6,{equipment:m},m))}):null]})]}),c.jsx(Be,{className:"space-y-4 bg-white px-5 py-4",children:d.items.map((m,p)=>{const v=m.raw_payload??{},y=aRe(v.exercise_intensity??m.intensity??null),x=iRe(v.exercise_stroke),b=v.exercise_stroke_type?nRe[v.exercise_stroke_type]??v.exercise_stroke_type:null,w=Array.isArray(v.exercise_equipment)?v.exercise_equipment:[],N=m.label||`Exercice ${p+1}`,E={label:N,distance:m.distance??null,repetitions:v.exercise_repetitions??null,rest:v.exercise_rest??null,stroke:x,strokeType:b,intensity:y,modalities:m.notes??null,equipment:w,blockTitle:d.title,blockIndex:f},j=JCe(m.notes),O=c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-3",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("div",{className:"text-sm font-semibold tracking-tight text-slate-900",children:N}),i?c.jsxs(Hf,{className:"text-muted-foreground",children:[v.exercise_repetitions?c.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-white px-2 py-0.5 ring-1 ring-slate-200",children:[v.exercise_repetitions,"x"]}):null,m.distance?c.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-white px-2 py-0.5 ring-1 ring-slate-200",children:[c.jsx(Ok,{className:"h-3 w-3"})," ",m.distance,"m"]}):null,v.exercise_rest?c.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-white px-2 py-0.5 ring-1 ring-slate-200",children:[c.jsx(Ov,{className:"h-3 w-3"})," ",v.exercise_rest,"s"]}):null,x?c.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-white px-2 py-0.5 ring-1 ring-slate-200",children:[c.jsx(mi,{className:"h-3 w-3"})," ",x]}):null,y?c.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-white px-2 py-0.5 ring-1 ring-slate-200",children:[c.jsx("span",{className:`h-2 w-2 rounded-full ${Dm[y]??"bg-primary"}`}),mA(y)]}):null]}):c.jsxs(Hf,{className:"text-muted-foreground",children:[v.exercise_repetitions?c.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-white px-2 py-0.5 ring-1 ring-slate-200",children:[v.exercise_repetitions,"x"]}):null,m.distance?c.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-white px-2 py-0.5 ring-1 ring-slate-200",children:[c.jsx(Ok,{className:"h-3 w-3"})," ",m.distance,"m"]}):null,v.exercise_rest?c.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-white px-2 py-0.5 ring-1 ring-slate-200",children:[c.jsx(Ov,{className:"h-3 w-3"})," ",v.exercise_rest,"s"]}):null,v.exercise_stroke?c.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-white px-2 py-0.5 ring-1 ring-slate-200",children:[c.jsx(mi,{className:"h-3 w-3"})," ",x]}):null]})]}),i?null:c.jsxs("div",{className:"flex items-center gap-2 self-center",children:[y?c.jsxs("span",{className:oRe(y),children:[c.jsx("span",{className:`h-2 w-2 rounded-full ${Dm[y]??"bg-primary"}`}),mA(y)]}):null,y?c.jsx(UCe,{value:y,className:"self-center"}):null]})]}),!i&&(x||b)?c.jsxs("div",{className:"mt-3 flex flex-wrap gap-2 text-[11px] font-semibold",children:[x?c.jsxs(hn,{className:"rounded-full bg-blue-100 px-2.5 py-1 text-blue-900 ring-1 ring-blue-200",children:["Nage : ",x]}):null,b?c.jsxs("span",{className:`inline-flex items-center rounded-full px-2.5 py-1 ring-1 ${rRe[v.exercise_stroke_type]??"bg-muted text-foreground ring-border"}`,children:["Type : ",b]}):null]}):null,!i&&j.length?c.jsx("div",{className:"mt-3 rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm text-slate-600",children:c.jsx("ul",{className:"list-disc space-y-1 pl-4",children:j.map((T,C)=>c.jsx("li",{children:T},`${d.key}-${p}-line-${C}`))})}):null,i&&j.length?c.jsx("div",{className:"mt-2 text-xs text-muted-foreground",children:c.jsx("ul",{className:"list-disc space-y-1 pl-4",children:j.map((T,C)=>c.jsx("li",{children:T},`${d.key}-${p}-compact-${C}`))})}):null,w.length?c.jsx(Hf,{className:"mt-3",children:w.map(T=>c.jsx(f6,{equipment:T},T))}):null]});return l?c.jsx("button",{type:"button",onClick:()=>a?.(E),className:"w-full rounded-2xl border border-slate-200 bg-slate-50 p-4 text-left transition hover:border-slate-300 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary","aria-label":`Voir les dtails de ${N}`,children:O},`${d.key}-${p}`):c.jsx("div",{className:"w-full rounded-2xl border border-slate-200 bg-slate-50 p-4 text-left",children:O},`${d.key}-${p}`)})})]},d.key))]})}function v6(e){return`Sance du ${jn(e,"dd/MM/yyyy")} - Soir - Matin`}const y6={souple:"V0",facile:"V0",relache:"V0",relch:"V0"},lRe=["V0","V1","V2","V3","Max"],Im=e=>{if(!e)return"V0";const t=e.trim();if(!t)return"V0";const n=t.toLowerCase();if(y6[n])return y6[n];const r=t.toUpperCase();if(r==="MAX")return"Max";if(r.startsWith("V")){const i=Number.parseInt(r.slice(1),10);if(Number.isFinite(i)&&i>=4)return"Max";if(lRe.includes(r))return r}return t},b6=e=>e==="Max"?"MAX":e,Oj=e=>{let t=0;return e.flatMap((n,r)=>n.exercises.map((i,a)=>{const o={block_title:n.title,block_description:n.description||null,block_order:r,block_repetitions:n.repetitions??null,block_modalities:n.modalities||null,block_equipment:n.equipment??[],exercise_repetitions:i.repetitions??null,exercise_rest:i.rest??null,exercise_stroke:i.stroke||null,exercise_stroke_type:i.strokeType||null,exercise_intensity:i.intensity?Im(i.intensity):null,exercise_modalities:i.modalities||null,exercise_equipment:i.equipment??[],exercise_order:a},l=i.repetitions&&i.distance?`${i.repetitions}x${i.distance}m`:i.distance?`${i.distance}m`:null;return{ordre:t++,label:l,distance:i.distance??null,duration:null,intensity:i.intensity?Im(i.intensity):null,notes:i.modalities||null,raw_payload:o}}))},cRe=(e=[])=>{const t=new Map;return e.forEach(n=>{const r=n.raw_payload??{},i=r.block_title||r.section||"Bloc",a=Number(r.block_order??0),o=`${a}-${i}`,l=r.block_equipment??r.equipment??[],d=(Array.isArray(l)?l:String(l).split(",")).map(v=>String(v)).map(v=>x6(v)).filter(Boolean);t.has(o)||t.set(o,{title:i,repetitions:r.block_repetitions??null,description:r.block_description??"",modalities:r.block_modalities??r.modalities??"",equipment:d,exercises:[],order:Number.isFinite(a)?a:0,exerciseOrder:new Map});const f=t.get(o),m=Number(r.exercise_order??n.ordre??f.exercises.length),p=Im(r.exercise_intensity??n.intensity??"V1");f.exerciseOrder.set(m,{repetitions:r.exercise_repetitions??null,distance:n.distance??null,rest:r.exercise_rest??null,stroke:r.exercise_stroke??r.stroke??"crawl",strokeType:r.exercise_stroke_type??r.stroke_type??"nc",intensity:p,modalities:r.exercise_modalities??n.notes??"",equipment:Array.isArray(r.exercise_equipment)?r.exercise_equipment.map(v=>x6(v)):[]})}),Array.from(t.values()).sort((n,r)=>n.order-r.order).map(n=>({title:n.title,repetitions:n.repetitions,description:n.description,modalities:n.modalities,equipment:n.equipment,exercises:Array.from(n.exerciseOrder.entries()).sort(([r],[i])=>r-i).map(([,r])=>r)}))},uRe=e=>e?e.length>48?`${e.slice(0,45).trim()}`:e:"",x6=e=>{const t=e.trim().toLowerCase();return t&&(t.startsWith("plaquette")?"plaquettes":t.startsWith("palm")?"palmes":t.startsWith("tuba")?"tuba":t.startsWith("pull")?"pull":t.startsWith("elas")?"elastique":t)},dRe=(e=[])=>new Set(e.map(n=>{const r=n.raw_payload;return r?.block_title||r?.section||"Bloc"})).size,fRe=e=>{const t=GO(e.items??[]),r=e.items?.some(a=>a.duration!=null)??!1?e.items?.reduce((a,o)=>a+(o.duration??0),0)??0:null,i=dRe(e.items??[]);return{totalDistance:t,totalDuration:r,blockCount:i}},w6="swim_catalog_archived_ids",hRe=(e,t)=>t===null?!1:!t.some(n=>n.session_type==="swim"&&n.session_id===e);function mRe(){const{toast:e}=Yr(),t=qi(),{userId:n,role:r}=dn(),[i,a]=_.useState(!1),[o,l]=_.useState(null),[d,f]=_.useState(null),[m,p]=_.useState(null),[v,y]=_.useState(""),[x,b]=_.useState("compact"),[w,N]=_.useState(new Set),E=()=>({id:null,name:v6(new Date),description:"",estimatedDuration:0,blocks:[]}),[j,O]=_.useState(E),{data:T}=Pt({queryKey:["swim_catalog"],queryFn:()=>Me.getSwimCatalog()}),{data:C}=Pt({queryKey:["coach-assignments"],queryFn:()=>Me.getAssignmentsForCoach(),enabled:r==="coach"||r==="admin"});_.useEffect(()=>{if(typeof window>"u")return;const ae=window.localStorage.getItem(w6);if(ae)try{const J=JSON.parse(ae);Array.isArray(J)&&N(new Set(J.map(me=>Number(me)).filter(me=>Number.isFinite(me))))}catch{return}},[]),_.useEffect(()=>{typeof window>"u"||window.localStorage.setItem(w6,JSON.stringify(Array.from(w.values())))},[w]);const P=_.useMemo(()=>{const ae=v.trim().toLowerCase();return ae?(T??[]).filter(J=>J.name.toLowerCase().includes(ae)):T??[]},[T,v]).filter(ae=>!w.has(ae.id)),k=Ot({mutationFn:ae=>Me.createSwimSession(ae),onSuccess:(ae,J)=>{t.invalidateQueries({queryKey:["swim_catalog"]}),a(!1),O(E()),e({title:J?.id?"Sance natation mise  jour":"Sance natation cre"})}}),$=Ot({mutationFn:ae=>Me.deleteSwimSession(ae),onSuccess:()=>{t.invalidateQueries({queryKey:["swim_catalog"]}),f(null),e({title:"Sance supprime"})},onError:()=>{e({title:"Suppression impossible",description:"Cette sance est utilise dans une assignation.",variant:"destructive"})}}),B=()=>{O(ae=>({...ae,blocks:[...ae.blocks,{title:"Nouveau bloc",repetitions:1,description:"",modalities:"",equipment:[],exercises:[{repetitions:4,distance:50,rest:null,stroke:"crawl",strokeType:"nc",intensity:"V2",modalities:"",equipment:[]}]}]}))},I=(ae,J,me)=>{const oe=[...j.blocks];oe[ae]={...oe[ae],[J]:me},O({...j,blocks:oe})},F=ae=>{const J=j.blocks.filter((me,oe)=>oe!==ae);O({...j,blocks:J})},V=(ae,J)=>{const me=J==="up"?ae-1:ae+1;if(me<0||me>=j.blocks.length)return;const oe=[...j.blocks],[pe]=oe.splice(ae,1);oe.splice(me,0,pe),O({...j,blocks:oe})},U=ae=>{const J=[...j.blocks];J[ae].exercises.push({repetitions:4,distance:50,rest:null,stroke:"crawl",strokeType:"nc",intensity:"V2",modalities:"",equipment:[]}),O({...j,blocks:J})},D=(ae,J,me,oe)=>{const pe=[...j.blocks],we=[...pe[ae].exercises];we[J]={...we[J],[me]:oe},pe[ae]={...pe[ae],exercises:we},O({...j,blocks:pe})},G=(ae,J)=>{const me=[...j.blocks];me[ae].exercises=me[ae].exercises.filter((oe,pe)=>pe!==J),O({...j,blocks:me})},z=[{value:"palmes",label:"Palmes"},{value:"tuba",label:"Tuba"},{value:"plaquettes",label:"Plaquettes"},{value:"pull",label:"Pull"},{value:"elastique",label:"lastique"}],Y=[{value:"pap",label:"Papillon"},{value:"dos",label:"Dos"},{value:"brasse",label:"Brasse"},{value:"crawl",label:"Crawl"},{value:"4n",label:"4 nages"},{value:"spe",label:"Sp"}],de=[{value:"nc",label:"NC"},{value:"educ",label:"Educ"},{value:"jambes",label:"Jambes"}];Y.reduce((ae,J)=>(ae[J.value]=J.label,ae),{});const H=de.reduce((ae,J)=>(ae[J.value]=J.label,ae),{});j.id;const K=_.useMemo(()=>GO(Oj(j.blocks)),[j.blocks]),Z={nc:"bg-sky-100 text-sky-900 ring-sky-200",educ:"bg-violet-100 text-violet-900 ring-violet-200",jambes:"bg-teal-100 text-teal-900 ring-teal-200"},le={V0:"text-emerald-800",V1:"text-lime-800",V2:"text-yellow-800",V3:"text-orange-800",Max:"text-red-900"},be={V0:"ring-emerald-200",V1:"ring-lime-200",V2:"ring-yellow-200",V3:"ring-orange-200",Max:"ring-red-300"};return i?c.jsxs("div",{className:"animate-in slide-in-from-bottom-4",children:[c.jsxs("div",{className:"flex items-center justify-between border-b border-slate-200 px-4 py-3",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("button",{type:"button",onClick:()=>{a(!1),O(E())},className:"inline-flex h-9 w-9 items-center justify-center rounded-full hover:bg-slate-100","aria-label":"Retour",children:c.jsx(Oh,{className:"h-4 w-4"})}),c.jsx("div",{className:"text-base font-semibold",children:"dition"})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("button",{type:"button",onClick:()=>l({id:j.id??Date.now(),name:j.name,description:j.description,created_by:n??null,items:Oj(j.blocks)}),className:"inline-flex h-9 w-9 items-center justify-center rounded-full hover:bg-slate-100","aria-label":"Aperu nageur",title:"Aperu nageur",children:c.jsx(Tv,{className:"h-4 w-4"})}),c.jsxs("button",{type:"button",onClick:()=>{if(!j.name.trim()){e({title:"Titre requis",description:"Ajoutez un nom de sance avant d'enregistrer.",variant:"destructive"});return}k.mutate({id:j.id??void 0,name:j.name,description:j.description,estimated_duration:j.estimatedDuration||null,items:Oj(j.blocks),created_by:n})},className:"inline-flex items-center gap-2 rounded-full bg-slate-900 px-3 py-2 text-xs font-semibold text-white",children:[c.jsx(sh,{className:"h-4 w-4"})," Sauver"]})]})]}),c.jsxs("div",{className:"space-y-4 p-4",children:[c.jsx(ke,{className:"rounded-2xl border-slate-200",children:c.jsxs("div",{className:"space-y-3 p-4",children:[c.jsx("div",{className:"text-sm font-semibold",children:"Infos sance"}),c.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[c.jsxs("div",{className:"col-span-2",children:[c.jsx("div",{className:"text-xs font-semibold text-slate-500",children:"Nom"}),c.jsx("div",{className:"mt-1",children:c.jsx(et,{value:j.name,onChange:ae=>O({...j,name:ae.target.value}),placeholder:"Nom de la sance",className:"rounded-2xl"})})]}),c.jsxs("div",{children:[c.jsx("div",{className:"text-xs font-semibold text-slate-500",children:"Dure estime (min)"}),c.jsx("div",{className:"mt-1",children:c.jsx(et,{type:"number",min:0,value:j.estimatedDuration||"",onChange:ae=>O({...j,estimatedDuration:ae.target.value===""?0:Number(ae.target.value)}),placeholder:"55",className:"rounded-2xl"})})]}),c.jsxs("div",{children:[c.jsx("div",{className:"text-xs font-semibold text-slate-500",children:"Distance totale"}),c.jsxs("div",{className:"mt-1 rounded-2xl border border-slate-200 bg-slate-50 px-3 py-2 text-sm font-semibold",children:[K,"m"]})]})]})]})}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("div",{className:"text-sm font-semibold",children:"Vue coach"}),c.jsxs("div",{className:"inline-flex rounded-full border border-slate-200 bg-white p-1 text-xs font-semibold",children:[c.jsx("button",{type:"button",onClick:()=>b("compact"),className:Ae("rounded-full px-3 py-1",x==="compact"?"bg-slate-900 text-white":"text-slate-600"),children:"Condens"}),c.jsx("button",{type:"button",onClick:()=>b("detailed"),className:Ae("rounded-full px-3 py-1",x==="detailed"?"bg-slate-900 text-white":"text-slate-600"),children:"Dtail"})]})]}),x==="compact"?c.jsx(ke,{className:"rounded-2xl border-slate-200",children:c.jsxs("div",{className:"p-4",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("div",{className:"text-sm font-semibold",children:"Plan (ultra compact)"}),c.jsx("div",{className:"mt-1 text-xs text-slate-500",children:"Manipule les blocs vite. Passe en Dtail pour diter."})]}),c.jsxs(Oe,{variant:"secondary",size:"sm",onClick:B,className:"h-9 rounded-full px-3 text-xs",children:[c.jsx(na,{className:"h-4 w-4"})," Bloc"]})]}),c.jsxs("div",{className:"mt-3 space-y-2",children:[j.blocks.map((ae,J)=>c.jsx("div",{className:"rounded-2xl border border-slate-200 bg-white px-3 py-2",children:c.jsxs("div",{className:"flex items-center justify-between gap-2",children:[c.jsxs("div",{className:"min-w-0",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-slate-900 px-2 py-0.5 text-[11px] font-semibold text-white",children:[" ",ae.repetitions??1,"x"]}),c.jsx("div",{className:"truncate text-xs font-semibold",children:ae.title?ae.title:`Bloc ${J+1}`}),c.jsxs("div",{className:"text-[11px] text-slate-500",children:[" ",ae.exercises.length," ex"]})]}),c.jsxs("div",{className:"mt-1 flex flex-wrap gap-1",children:[ae.exercises.slice(0,4).map((me,oe)=>{const pe=Im(me.intensity),we=H[me.strokeType]??me.strokeType;return c.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-slate-100 px-2 py-0.5 text-[11px] font-semibold text-slate-700",title:me.modalities?uRe(me.modalities):"",children:[me.repetitions&&me.distance?`${me.repetitions}x`:"",me.distance?`${me.distance}m`:"",c.jsx("span",{className:Ae("ml-1 inline-flex items-center rounded-full px-2 py-0.5 ring-1",Z[me.strokeType]??"bg-slate-100 text-slate-700 ring-slate-200"),children:we}),c.jsxs("span",{className:Ae("ml-1 inline-flex items-center gap-1 rounded-full bg-white px-2 py-0.5 ring-1",be[pe],le[pe]),children:[c.jsx("span",{className:Ae("h-2 w-2 rounded-full",Dm[pe]??"bg-slate-300")}),b6(pe)]})]},`${J}-${oe}`)}),ae.exercises.length>4?c.jsxs("span",{className:"text-[11px] text-slate-400",children:["+",ae.exercises.length-4]}):null]})]}),c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx("button",{type:"button",onClick:()=>V(J,"up"),className:"inline-flex h-9 w-9 items-center justify-center rounded-full hover:bg-slate-100 disabled:opacity-40","aria-label":"Monter",title:"Monter",disabled:J===0,children:c.jsx(Ek,{className:"h-4 w-4"})}),c.jsx("button",{type:"button",onClick:()=>V(J,"down"),className:"inline-flex h-9 w-9 items-center justify-center rounded-full hover:bg-slate-100 disabled:opacity-40","aria-label":"Descendre",title:"Descendre",disabled:J===j.blocks.length-1,children:c.jsx(Nk,{className:"h-4 w-4"})}),c.jsx("button",{type:"button",onClick:()=>F(J),className:"inline-flex h-9 w-9 items-center justify-center rounded-full text-red-700 hover:bg-red-50","aria-label":"Supprimer bloc",title:"Supprimer bloc",children:c.jsx(ro,{className:"h-4 w-4"})})]})]})},J)),j.blocks.length?null:c.jsx("div",{className:"rounded-2xl border border-dashed border-slate-200 bg-slate-50 px-3 py-6 text-center text-sm text-slate-500",children:"Aucun bloc. Ajoute un bloc pour commencer."})]})]})}):c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("div",{className:"text-sm font-semibold",children:"dition dtaille"}),c.jsxs(Oe,{variant:"secondary",size:"sm",onClick:B,className:"h-9 rounded-full px-3 text-xs",children:[c.jsx(na,{className:"h-4 w-4"})," Ajouter bloc"]})]}),c.jsx("div",{className:"space-y-4",children:j.blocks.map((ae,J)=>c.jsx(ke,{className:"rounded-2xl border-slate-200",children:c.jsxs("div",{className:"p-4",children:[c.jsxs("div",{className:"flex items-start justify-between gap-3",children:[c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx("span",{className:"mt-1 inline-flex h-9 w-9 items-center justify-center rounded-2xl bg-slate-100 text-slate-500",children:c.jsx(Yz,{className:"h-4 w-4"})}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("div",{className:"text-xs font-semibold text-slate-500",children:"Titre bloc"}),c.jsx(et,{value:ae.title,onChange:me=>I(J,"title",me.target.value),placeholder:`Bloc ${J+1}`,className:"rounded-2xl"})]})]}),c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx("button",{type:"button",onClick:()=>V(J,"up"),className:"inline-flex h-9 w-9 items-center justify-center rounded-full hover:bg-slate-100 disabled:opacity-40","aria-label":"Monter",title:"Monter",disabled:J===0,children:c.jsx(Ek,{className:"h-4 w-4"})}),c.jsx("button",{type:"button",onClick:()=>V(J,"down"),className:"inline-flex h-9 w-9 items-center justify-center rounded-full hover:bg-slate-100 disabled:opacity-40","aria-label":"Descendre",title:"Descendre",disabled:J===j.blocks.length-1,children:c.jsx(Nk,{className:"h-4 w-4"})}),c.jsx("button",{type:"button",onClick:()=>F(J),className:"inline-flex h-9 w-9 items-center justify-center rounded-full text-red-700 hover:bg-red-50","aria-label":"Supprimer bloc",title:"Supprimer bloc",children:c.jsx(ro,{className:"h-4 w-4"})})]})]}),c.jsxs("div",{className:"mt-3 grid grid-cols-2 gap-3",children:[c.jsxs("div",{children:[c.jsx("div",{className:"text-xs font-semibold text-slate-500",children:"Rptitions du bloc"}),c.jsx("div",{className:"mt-1",children:c.jsx(et,{type:"number",min:1,value:ae.repetitions??"",onChange:me=>I(J,"repetitions",me.target.value===""?null:Number(me.target.value)),placeholder:"1",className:"rounded-2xl"})})]}),c.jsx("div",{className:"flex items-end justify-end",children:c.jsxs(Oe,{variant:"secondary",size:"sm",onClick:()=>U(J),className:"h-9 rounded-full px-3 text-xs",children:[c.jsx(na,{className:"h-4 w-4"})," Exercice"]})})]}),c.jsx("div",{className:"mt-4 space-y-3",children:ae.exercises.map((me,oe)=>{const pe=Im(me.intensity),we=me.modalities??"";return c.jsx("div",{className:"rounded-2xl border border-slate-200 bg-white p-3",children:c.jsxs("div",{className:"flex items-start justify-between gap-3",children:[c.jsxs("div",{className:"grid flex-1 grid-cols-2 gap-3",children:[c.jsxs("div",{children:[c.jsx("div",{className:"text-[11px] font-semibold text-slate-500",children:"Rptitions"}),c.jsx("div",{className:"mt-1",children:c.jsx(et,{type:"number",min:1,value:me.repetitions??"",onChange:ee=>D(J,oe,"repetitions",ee.target.value===""?null:Number(ee.target.value)),className:"rounded-2xl"})})]}),c.jsxs("div",{children:[c.jsx("div",{className:"text-[11px] font-semibold text-slate-500",children:"Distance (m)"}),c.jsx("div",{className:"mt-1",children:c.jsx(et,{type:"number",min:0,value:me.distance??"",onChange:ee=>D(J,oe,"distance",ee.target.value===""?null:Number(ee.target.value)),className:"rounded-2xl"})})]}),c.jsxs("div",{children:[c.jsx("div",{className:"text-[11px] font-semibold text-slate-500",children:"Nage"}),c.jsx("div",{className:"mt-1",children:c.jsxs(cn,{value:me.stroke,onValueChange:ee=>D(J,oe,"stroke",ee),children:[c.jsx(rn,{className:"rounded-2xl",children:c.jsx(un,{})}),c.jsx(an,{children:Y.map(ee=>c.jsx(at,{value:ee.value,children:ee.label},ee.value))})]})})]}),c.jsxs("div",{children:[c.jsx("div",{className:"text-[11px] font-semibold text-slate-500",children:"Type"}),c.jsx("div",{className:"mt-1",children:c.jsxs(cn,{value:me.strokeType,onValueChange:ee=>D(J,oe,"strokeType",ee),children:[c.jsx(rn,{className:"rounded-2xl",children:c.jsx(un,{})}),c.jsx(an,{children:de.map(ee=>c.jsx(at,{value:ee.value,children:ee.label},ee.value))})]})})]}),c.jsxs("div",{className:"col-span-2",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("div",{className:"text-[11px] font-semibold text-slate-500",children:"Intensit (clic sur points)"}),c.jsxs("span",{className:Ae("inline-flex items-center gap-2 rounded-full bg-white px-2.5 py-1 text-xs font-semibold ring-1",be[pe],le[pe]),children:[c.jsx("span",{className:Ae("h-2 w-2 rounded-full",Dm[pe]??"bg-slate-300")}),b6(pe)]})]}),c.jsx("div",{className:"mt-2 flex items-center justify-between gap-2",children:c.jsx(GCe,{value:me.intensity,onChange:ee=>D(J,oe,"intensity",ee)})})]}),c.jsxs("div",{className:"col-span-2",children:[c.jsx("div",{className:"text-[11px] font-semibold text-slate-500",children:"quipements"}),c.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:z.map(ee=>{const qe=me.equipment.includes(ee.value),ve=FCe(ee.value);return c.jsxs("button",{type:"button",onClick:()=>{const Ge=qe?me.equipment.filter(ne=>ne!==ee.value):[...me.equipment,ee.value];D(J,oe,"equipment",Ge)},className:Ae("inline-flex items-center gap-2 rounded-full border px-3 py-2 text-xs font-semibold",qe?"border-slate-900 bg-slate-900 text-white":"border-slate-200 bg-white text-slate-700 hover:bg-slate-50"),children:[c.jsx("span",{className:Ae("inline-flex h-7 w-7 items-center justify-center rounded-full",qe?"bg-white/10":"bg-slate-100"),children:ve?c.jsx("img",{src:ve,alt:"",className:"h-4 w-4","aria-hidden":"true"}):null}),ee.label]},ee.value)})})]}),c.jsxs("div",{className:"col-span-2",children:[c.jsx("div",{className:"text-[11px] font-semibold text-slate-500",children:"Modalits"}),c.jsx("div",{className:"mt-1",children:c.jsx(Ca,{value:we,onChange:ee=>D(J,oe,"modalities",ee.target.value),placeholder:"Une modalit par ligne",rows:3,className:"rounded-2xl"})})]})]}),c.jsx("button",{type:"button",onClick:()=>G(J,oe),className:"inline-flex h-9 w-9 items-center justify-center rounded-full text-red-700 hover:bg-red-50","aria-label":"Supprimer exercice",title:"Supprimer exercice",children:c.jsx(ro,{className:"h-4 w-4"})})]})},oe)})}),c.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[c.jsxs(Oe,{variant:"secondary",size:"sm",onClick:()=>U(J),className:"h-9 rounded-full px-3 text-xs",children:[c.jsx(na,{className:"h-4 w-4"})," Ajouter exercice"]}),c.jsxs(Oe,{variant:"destructive",size:"sm",onClick:()=>F(J),className:"h-9 rounded-full px-3 text-xs",children:[c.jsx(ro,{className:"h-4 w-4"})," Supprimer bloc"]})]})]})},J))})]}),c.jsx("div",{className:"h-8"})]}),c.jsx(wu,{open:!!o,onOpenChange:ae=>{ae||l(null)},children:c.jsx(jl,{className:"max-w-4xl",children:c.jsx(pA,{title:o?.name??"",description:o?.description??void 0,items:o?.items})})})]}):c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center justify-between border-b border-slate-200 px-4 py-3",children:[c.jsxs("div",{children:[c.jsx("div",{className:"text-base font-semibold",children:"Coach"}),c.jsx("div",{className:"text-xs text-slate-500",children:"Cration"})]}),c.jsxs("button",{type:"button",onClick:()=>{O(E()),b("compact"),a(!0)},className:"inline-flex items-center gap-2 rounded-full bg-slate-900 px-3 py-2 text-xs font-semibold text-white",children:[c.jsx(na,{className:"h-4 w-4"})," Nouvelle"]})]}),c.jsxs("div",{className:"p-4",children:[c.jsxs("div",{className:"flex items-center gap-2 rounded-2xl border border-slate-200 bg-white px-3 py-2",children:[c.jsx(RA,{className:"h-4 w-4 text-slate-400"}),c.jsx("input",{className:"w-full bg-transparent text-sm outline-none placeholder:text-slate-400",placeholder:"Rechercher une sance",value:v,onChange:ae=>y(ae.target.value)})]}),c.jsx("div",{className:"mt-4 space-y-3",children:P.map(ae=>{const{totalDistance:J,totalDuration:me,blockCount:oe}=fRe(ae),pe=hRe(ae.id,C??null),we=!pe||$.isPending;return c.jsx(ke,{className:"rounded-2xl border-slate-200",children:c.jsx("div",{className:"p-4",children:c.jsxs("div",{className:"flex items-start justify-between gap-3",children:[c.jsxs("div",{children:[c.jsx("div",{className:"text-base font-semibold tracking-tight",children:ae.name}),c.jsxs("div",{className:"mt-1 flex items-center gap-2 text-xs text-slate-500",children:[c.jsxs("span",{className:"inline-flex items-center gap-1",children:[c.jsx(Zz,{className:"h-3.5 w-3.5"}),J,"m"]}),c.jsxs("span",{className:"inline-flex items-center gap-1",children:[c.jsx(Ov,{className:"h-3.5 w-3.5"}),"~",me??""," min"]}),c.jsxs("span",{className:"inline-flex items-center gap-1",children:[c.jsx(Xz,{className:"h-3.5 w-3.5"}),oe]})]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("button",{type:"button",onClick:()=>l(ae),className:"inline-flex h-9 w-9 items-center justify-center rounded-full hover:bg-slate-100","aria-label":"Aperu nageur",title:"Aperu nageur",children:c.jsx(Tv,{className:"h-4 w-4"})}),c.jsx("button",{type:"button",onClick:()=>{O({id:ae.id??null,name:ae.name??v6(new Date),description:ae.description??"",estimatedDuration:Number(ae.estimated_duration??0),blocks:cRe(ae.items??[])}),b("compact"),a(!0)},className:"inline-flex h-9 w-9 items-center justify-center rounded-full hover:bg-slate-100","aria-label":"Modifier",title:"Modifier",children:c.jsx(fee,{className:"h-4 w-4"})}),c.jsx("button",{type:"button",onClick:()=>p(ae),className:"inline-flex h-9 w-9 items-center justify-center rounded-full hover:bg-slate-100","aria-label":"Archiver",title:"Archiver",children:c.jsx(wZ,{className:"h-4 w-4"})}),c.jsx("button",{type:"button",onClick:()=>{we||f(ae)},className:Ae("inline-flex h-9 w-9 items-center justify-center rounded-full hover:bg-slate-100",we&&"cursor-not-allowed text-slate-300"),"aria-label":"Supprimer",title:C===null?"Suppression dsactive":pe?"Supprimer":"Sance dj assigne",children:c.jsx(ro,{className:"h-4 w-4"})})]})]})})},ae.id)})}),c.jsx("div",{className:"h-8"})]}),c.jsx(wu,{open:!!o,onOpenChange:ae=>{ae||l(null)},children:c.jsx(jl,{className:"max-w-4xl",children:c.jsx(pA,{title:o?.name??"",description:o?.description??void 0,items:o?.items})})}),c.jsx(Hy,{open:!!m,onOpenChange:ae=>{ae||p(null)},children:c.jsxs(Tm,{children:[c.jsxs(Om,{children:[c.jsx(Rm,{children:"Archiver la sance ?"}),c.jsx(Pm,{children:"La sance sera masque du catalogue (sans suppression)."})]}),c.jsxs(Cm,{children:[c.jsx(km,{children:"Annuler"}),c.jsx(Mm,{onClick:()=>{m&&(N(ae=>new Set([...Array.from(ae),m.id])),p(null),e({title:"Sance archive"}))},children:"Archiver"})]})]})}),c.jsx(Hy,{open:!!d,onOpenChange:ae=>{ae||f(null)},children:c.jsxs(Tm,{children:[c.jsxs(Om,{children:[c.jsx(Rm,{children:"Supprimer la sance ?"}),c.jsx(Pm,{children:"Cette action est dfinitive. La sance sera supprime du catalogue."})]}),c.jsxs(Cm,{children:[c.jsx(km,{children:"Annuler"}),c.jsx(Mm,{onClick:()=>{d&&$.mutate(d.id)},children:"Supprimer"})]})]})})]})}function pRe(e,t,{checkForDefaultPrevented:n=!0}={}){return function(i){if(e?.(i),n===!1||!i.defaultPrevented)return t?.(i)}}var gRe=Cr[" useInsertionEffect ".trim().toString()]||Ut;function vRe({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[i,a,o]=yRe({defaultProp:t,onChange:n}),l=e!==void 0,d=l?e:i;{const m=_.useRef(e!==void 0);_.useEffect(()=>{const p=m.current;p!==l&&console.warn(`${r} is changing from ${p?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),m.current=l},[l,r])}const f=_.useCallback(m=>{if(l){const p=bRe(m)?m(e):m;p!==e&&o.current?.(p)}else a(m)},[l,e,a,o]);return[d,f]}function yRe({defaultProp:e,onChange:t}){const[n,r]=_.useState(e),i=_.useRef(n),a=_.useRef(t);return gRe(()=>{a.current=t},[t]),_.useEffect(()=>{i.current!==n&&(a.current?.(n),i.current=n)},[n,i]),[n,r,a]}function bRe(e){return typeof e=="function"}var UK="Toggle",KO=_.forwardRef((e,t)=>{const{pressed:n,defaultPressed:r,onPressedChange:i,...a}=e,[o,l]=vRe({prop:n,onChange:i,defaultProp:r??!1,caller:UK});return c.jsx(bt.button,{type:"button","aria-pressed":o,"data-state":o?"on":"off","data-disabled":e.disabled?"":void 0,...a,ref:t,onClick:pRe(e.onClick,()=>{e.disabled||l(!o)})})});KO.displayName=UK;var VK=KO,xRe=Cr[" useInsertionEffect ".trim().toString()]||Ut;function HK({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[i,a,o]=wRe({defaultProp:t,onChange:n}),l=e!==void 0,d=l?e:i;{const m=_.useRef(e!==void 0);_.useEffect(()=>{const p=m.current;p!==l&&console.warn(`${r} is changing from ${p?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),m.current=l},[l,r])}const f=_.useCallback(m=>{if(l){const p=_Re(m)?m(e):m;p!==e&&o.current?.(p)}else a(m)},[l,e,a,o]);return[d,f]}function wRe({defaultProp:e,onChange:t}){const[n,r]=_.useState(e),i=_.useRef(n),a=_.useRef(t);return xRe(()=>{a.current=t},[t]),_.useEffect(()=>{i.current!==n&&(a.current?.(n),i.current=n)},[n,i]),[n,r,a]}function _Re(e){return typeof e=="function"}var Mo="ToggleGroup",[GK]=Rr(Mo,[Td]),KK=Td(),WO=q.forwardRef((e,t)=>{const{type:n,...r}=e;if(n==="single"){const i=r;return c.jsx(SRe,{...i,ref:t})}if(n==="multiple"){const i=r;return c.jsx(jRe,{...i,ref:t})}throw new Error(`Missing prop \`type\` expected on \`${Mo}\``)});WO.displayName=Mo;var[WK,YK]=GK(Mo),SRe=q.forwardRef((e,t)=>{const{value:n,defaultValue:r,onValueChange:i=()=>{},...a}=e,[o,l]=HK({prop:n,defaultProp:r??"",onChange:i,caller:Mo});return c.jsx(WK,{scope:e.__scopeToggleGroup,type:"single",value:q.useMemo(()=>o?[o]:[],[o]),onItemActivate:l,onItemDeactivate:q.useCallback(()=>l(""),[l]),children:c.jsx(XK,{...a,ref:t})})}),jRe=q.forwardRef((e,t)=>{const{value:n,defaultValue:r,onValueChange:i=()=>{},...a}=e,[o,l]=HK({prop:n,defaultProp:r??[],onChange:i,caller:Mo}),d=q.useCallback(m=>l((p=[])=>[...p,m]),[l]),f=q.useCallback(m=>l((p=[])=>p.filter(v=>v!==m)),[l]);return c.jsx(WK,{scope:e.__scopeToggleGroup,type:"multiple",value:o,onItemActivate:d,onItemDeactivate:f,children:c.jsx(XK,{...a,ref:t})})});WO.displayName=Mo;var[NRe,ERe]=GK(Mo),XK=q.forwardRef((e,t)=>{const{__scopeToggleGroup:n,disabled:r=!1,rovingFocus:i=!0,orientation:a,dir:o,loop:l=!0,...d}=e,f=KK(n),m=Um(o),p={role:"group",dir:m,...d};return c.jsx(NRe,{scope:n,rovingFocus:i,disabled:r,children:i?c.jsx(DT,{asChild:!0,...f,orientation:a,dir:m,loop:l,children:c.jsx(bt.div,{...p,ref:t})}):c.jsx(bt.div,{...p,ref:t})})}),Gy="ToggleGroupItem",QK=q.forwardRef((e,t)=>{const n=YK(Gy,e.__scopeToggleGroup),r=ERe(Gy,e.__scopeToggleGroup),i=KK(e.__scopeToggleGroup),a=n.value.includes(e.value),o=r.disabled||e.disabled,l={...e,pressed:a,disabled:o},d=q.useRef(null);return r.rovingFocus?c.jsx(IT,{asChild:!0,...i,focusable:!o,active:a,ref:d,children:c.jsx(_6,{...l,ref:t})}):c.jsx(_6,{...l,ref:t})});QK.displayName=Gy;var _6=q.forwardRef((e,t)=>{const{__scopeToggleGroup:n,value:r,...i}=e,a=YK(Gy,n),o={role:"radio","aria-checked":e.pressed,"aria-pressed":void 0},l=a.type==="single"?o:void 0;return c.jsx(KO,{...l,...i,ref:t,onPressedChange:d=>{d?a.onItemActivate(r):a.onItemDeactivate(r)}})}),JK=WO,ZK=QK;const eW=fd("inline-flex items-center justify-center gap-2 rounded-md text-sm font-medium transition-colors hover:bg-muted hover:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-transparent",outline:"border border-input bg-transparent shadow-sm hover:bg-accent hover:text-accent-foreground"},size:{default:"h-9 px-2 min-w-9",sm:"h-8 px-1.5 min-w-8",lg:"h-10 px-2.5 min-w-10"}},defaultVariants:{variant:"default",size:"default"}}),ARe=_.forwardRef(({className:e,variant:t,size:n,...r},i)=>c.jsx(VK,{ref:i,className:Ae(eW({variant:t,size:n,className:e})),...r}));ARe.displayName=VK.displayName;const tW=_.createContext({size:"default",variant:"default"}),nW=_.forwardRef(({className:e,variant:t,size:n,children:r,...i},a)=>c.jsx(JK,{ref:a,className:Ae("flex items-center justify-center gap-1",e),...i,children:c.jsx(tW.Provider,{value:{variant:t,size:n},children:r})}));nW.displayName=JK.displayName;const wv=_.forwardRef(({className:e,children:t,variant:n,size:r,...i},a)=>{const o=_.useContext(tW);return c.jsx(ZK,{ref:a,className:Ae(eW({variant:o.variant||n,size:o.size||r}),e),...i,children:t})});wv.displayName=ZK.displayName;const Nh=({title:e,description:t,onBack:n,actions:r})=>c.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-4",children:[c.jsxs("div",{className:"space-y-1",children:[c.jsxs(Oe,{variant:"ghost",size:"sm",className:"-ml-2",onClick:n,children:[c.jsx(Wz,{className:"mr-2 h-4 w-4"}),"Retour  l'accueil"]}),c.jsx("h2",{className:"text-2xl font-display font-semibold uppercase italic text-primary",children:e}),t?c.jsx("p",{className:"text-sm text-muted-foreground",children:t}):null]}),r?c.jsx("div",{className:"flex items-center gap-2",children:r}):null]});function Eh(e,t,{checkForDefaultPrevented:n=!0}={}){return function(i){if(e?.(i),n===!1||!i.defaultPrevented)return t?.(i)}}function TRe(e){const t=ORe(e),n=_.forwardRef((r,i)=>{const{children:a,...o}=r,l=_.Children.toArray(a),d=l.find(RRe);if(d){const f=d.props.children,m=l.map(p=>p===d?_.Children.count(f)>1?_.Children.only(null):_.isValidElement(f)?f.props.children:null:p);return c.jsx(t,{...o,ref:i,children:_.isValidElement(f)?_.cloneElement(f,void 0,m):null})}return c.jsx(t,{...o,ref:i,children:a})});return n.displayName=`${e}.Slot`,n}function ORe(e){const t=_.forwardRef((n,r)=>{const{children:i,...a}=n;if(_.isValidElement(i)){const o=MRe(i),l=PRe(a,i.props);return i.type!==_.Fragment&&(l.ref=r?So(r,o):o),_.cloneElement(i,l)}return _.Children.count(i)>1?_.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var CRe=Symbol("radix.slottable");function RRe(e){return _.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===CRe}function PRe(e,t){const n={...t};for(const r in t){const i=e[r],a=t[r];/^on[A-Z]/.test(r)?i&&a?n[r]=(...l)=>{const d=a(...l);return i(...l),d}:i&&(n[r]=i):r==="style"?n[r]={...i,...a}:r==="className"&&(n[r]=[i,a].filter(Boolean).join(" "))}return{...e,...n}}function MRe(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var kRe=Cr[" useInsertionEffect ".trim().toString()]||Ut;function DRe({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[i,a,o]=IRe({defaultProp:t,onChange:n}),l=e!==void 0,d=l?e:i;{const m=_.useRef(e!==void 0);_.useEffect(()=>{const p=m.current;p!==l&&console.warn(`${r} is changing from ${p?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),m.current=l},[l,r])}const f=_.useCallback(m=>{if(l){const p=$Re(m)?m(e):m;p!==e&&o.current?.(p)}else a(m)},[l,e,a,o]);return[d,f]}function IRe({defaultProp:e,onChange:t}){const[n,r]=_.useState(e),i=_.useRef(n),a=_.useRef(t);return kRe(()=>{a.current=t},[t]),_.useEffect(()=>{i.current!==n&&(a.current?.(n),i.current=n)},[n,i]),[n,r,a]}function $Re(e){return typeof e=="function"}var ub="Popover",[rW]=Rr(ub,[vd]),ip=vd(),[LRe,ko]=rW(ub),iW=e=>{const{__scopePopover:t,children:n,open:r,defaultOpen:i,onOpenChange:a,modal:o=!1}=e,l=ip(t),d=_.useRef(null),[f,m]=_.useState(!1),[p,v]=DRe({prop:r,defaultProp:i??!1,onChange:a,caller:ub});return c.jsx(LF,{...l,children:c.jsx(LRe,{scope:t,contentId:cs(),triggerRef:d,open:p,onOpenChange:v,onOpenToggle:_.useCallback(()=>v(y=>!y),[v]),hasCustomAnchor:f,onCustomAnchorAdd:_.useCallback(()=>m(!0),[]),onCustomAnchorRemove:_.useCallback(()=>m(!1),[]),modal:o,children:n})})};iW.displayName=ub;var aW="PopoverAnchor",BRe=_.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,i=ko(aW,n),a=ip(n),{onCustomAnchorAdd:o,onCustomAnchorRemove:l}=i;return _.useEffect(()=>(o(),()=>l()),[o,l]),c.jsx(a0,{...a,...r,ref:t})});BRe.displayName=aW;var sW="PopoverTrigger",oW=_.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,i=ko(sW,n),a=ip(n),o=At(t,i.triggerRef),l=c.jsx(bt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":fW(i.open),...r,ref:o,onClick:Eh(e.onClick,i.onOpenToggle)});return i.hasCustomAnchor?l:c.jsx(a0,{asChild:!0,...a,children:l})});oW.displayName=sW;var YO="PopoverPortal",[qRe,zRe]=rW(YO,{forceMount:void 0}),lW=e=>{const{__scopePopover:t,forceMount:n,children:r,container:i}=e,a=ko(YO,t);return c.jsx(qRe,{scope:t,forceMount:n,children:c.jsx(ua,{present:n||a.open,children:c.jsx(qm,{asChild:!0,container:i,children:r})})})};lW.displayName=YO;var ld="PopoverContent",cW=_.forwardRef((e,t)=>{const n=zRe(ld,e.__scopePopover),{forceMount:r=n.forceMount,...i}=e,a=ko(ld,e.__scopePopover);return c.jsx(ua,{present:r||a.open,children:a.modal?c.jsx(URe,{...i,ref:t}):c.jsx(VRe,{...i,ref:t})})});cW.displayName=ld;var FRe=TRe("PopoverContent.RemoveScroll"),URe=_.forwardRef((e,t)=>{const n=ko(ld,e.__scopePopover),r=_.useRef(null),i=At(t,r),a=_.useRef(!1);return _.useEffect(()=>{const o=r.current;if(o)return XA(o)},[]),c.jsx(h0,{as:FRe,allowPinchZoom:!0,children:c.jsx(uW,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Eh(e.onCloseAutoFocus,o=>{o.preventDefault(),a.current||n.triggerRef.current?.focus()}),onPointerDownOutside:Eh(e.onPointerDownOutside,o=>{const l=o.detail.originalEvent,d=l.button===0&&l.ctrlKey===!0,f=l.button===2||d;a.current=f},{checkForDefaultPrevented:!1}),onFocusOutside:Eh(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),VRe=_.forwardRef((e,t)=>{const n=ko(ld,e.__scopePopover),r=_.useRef(!1),i=_.useRef(!1);return c.jsx(uW,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{e.onCloseAutoFocus?.(a),a.defaultPrevented||(r.current||n.triggerRef.current?.focus(),a.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:a=>{e.onInteractOutside?.(a),a.defaultPrevented||(r.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=a.target;n.triggerRef.current?.contains(o)&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),uW=_.forwardRef((e,t)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:a,disableOutsidePointerEvents:o,onEscapeKeyDown:l,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:m,...p}=e,v=ko(ld,n),y=ip(n);return YA(),c.jsx(d0,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:a,children:c.jsx(Lm,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:m,onEscapeKeyDown:l,onPointerDownOutside:d,onFocusOutside:f,onDismiss:()=>v.onOpenChange(!1),children:c.jsx(zA,{"data-state":fW(v.open),role:"dialog",id:v.contentId,...y,...p,ref:t,style:{...p.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),dW="PopoverClose",HRe=_.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,i=ko(dW,n);return c.jsx(bt.button,{type:"button",...r,ref:t,onClick:Eh(e.onClick,()=>i.onOpenChange(!1))})});HRe.displayName=dW;var GRe="PopoverArrow",KRe=_.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,i=ip(n);return c.jsx(FA,{...i,...r,ref:t})});KRe.displayName=GRe;function fW(e){return e?"open":"closed"}var WRe=iW,YRe=oW,XRe=lW,hW=cW;const QRe=WRe,JRe=YRe,mW=_.forwardRef(({className:e,align:t="center",sideOffset:n=4,...r},i)=>c.jsx(XRe,{children:c.jsx(hW,{ref:i,align:t,sideOffset:n,className:Ae("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-popover-content-transform-origin]",e),...r})}));mW.displayName=hW.displayName;const ZRe=({onBack:e,swimSessions:t,strengthSessions:n,athletes:r,groups:i})=>{const{toast:a}=Yr(),[o,l]=_.useState({session_type:"swim",session_id:"",assigned_date:new Date().toISOString().split("T")[0],assigned_slot:"morning"}),[d,f]=_.useState(!1),[m,p]=_.useState("user"),[v,y]=_.useState(""),[x,b]=_.useState([]),w=k=>{const $=typeof k=="number"?k:Number(k);return Number.isFinite($)&&$>0?$:null},N=_.useMemo(()=>r.map(k=>({value:k.id?`id:${k.id}`:`name:${k.display_name}`,label:k.group_label?`${k.display_name}  ${k.group_label}`:k.display_name,id:k.id,name:k.display_name})),[r]),E=_.useMemo(()=>new Map(N.map(k=>[k.value,k])),[N]),j=_.useMemo(()=>i.map(k=>{const $=w(k.id);return $?{...k,gid:$}:null}).filter(k=>!!k),[i]),O=_.useMemo(()=>j.filter(k=>x.includes(k.gid)),[j,x]),T=_.useMemo(()=>{if(O.length===0)return"Choisir des groupes";const k=O.slice(0,2).map(B=>B.name).join(", "),$=O.length>2?` +${O.length-2}`:"";return`${k}${$}`},[O]),C=Ot({mutationFn:async k=>Me.assignments_create(k),onSuccess:()=>{a({title:"Sance assigne & notifie"})},onError:k=>{const $="Impossible d'assigner la sance. Vrifiez les champs et ressayez.",B=k instanceof Error?k.message:typeof k=="string"?k:$;let I=B;const F=B.match(/HTTP \d+:\s*(\{.*\})/);if(F)try{I=JSON.parse(F[1])?.error||$}catch{I=$}a({title:"Erreur d'assignation",description:I})}}),R=async()=>{const k=Number(o.session_id);if(!Number.isInteger(k)||k<=0){a({title:"Sance invalide",description:"Slectionnez une sance valide."});return}if(m==="group"){if(x.length===0){a({title:"Groupe manquant",description:"Slectionnez au moins un groupe."});return}f(!0);try{const V={assignment_type:o.session_type,session_id:k,scheduled_date:o.assigned_date,scheduled_slot:o.assigned_slot},U=Array.from(new Set(x));await Promise.all(U.map(D=>Me.assignments_create({...V,target_group_id:D}))),a({title:"Sance assigne & notifie"})}catch(V){const U="Impossible d'assigner la sance. Vrifiez les champs et ressayez.",D=V instanceof Error?V.message:typeof V=="string"?V:U;let G=D;const z=D.match(/HTTP \d+:\s*(\{.*\})/);if(z)try{G=JSON.parse(z[1])?.error||U}catch{G=U}a({title:"Erreur d'assignation",description:G})}finally{f(!1)}return}const $=v.trim();if(!$){a({title:"Nageur manquant",description:"Slectionnez un nageur."});return}const B=E.get($),I=B?.id??(Number.isFinite(Number($))&&Number($)>0?Number($):void 0);if(!Number.isFinite(I)||Number(I)<=0){a({title:"Nageur invalide",description:"Slectionnez un nageur avec un identifiant valide."});return}const F=B?.name??$.replace(/^name:/,"");C.mutate({assignment_type:o.session_type,session_id:k,target_athlete:F,target_user_id:I,scheduled_date:o.assigned_date,scheduled_slot:o.assigned_slot})},P=!o.session_id||(m==="group"?x.length===0:!v.trim())||C.isPending||d;return c.jsxs("div",{className:"space-y-6 pb-24",children:[c.jsx(Nh,{title:"Assigner une sance",description:"Planifiez une sance pour un nageur ou un ou plusieurs groupes.",onBack:e}),c.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[c.jsxs(ke,{className:"border-l-4 border-l-green-500",children:[c.jsxs(it,{children:[c.jsx(st,{children:"Sance"}),c.jsx(Yt,{children:"Choisissez le type et la sance  envoyer."})]}),c.jsxs(Be,{className:"space-y-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(Le,{children:"Type"}),c.jsxs(cn,{value:o.session_type,onValueChange:k=>l({...o,session_type:k,session_id:""}),children:[c.jsx(rn,{children:c.jsx(un,{})}),c.jsxs(an,{children:[c.jsx(at,{value:"swim",children:"Natation"}),c.jsx(at,{value:"strength",children:"Musculation"})]})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Le,{children:"Sance"}),c.jsxs(cn,{value:o.session_id,onValueChange:k=>l({...o,session_id:k}),children:[c.jsx(rn,{children:c.jsx(un,{placeholder:"Choisir..."})}),c.jsx(an,{children:o.session_type==="swim"?t?.map(k=>c.jsx(at,{value:k.id.toString(),children:k.name},k.id)):n?.map(k=>c.jsx(at,{value:k.id.toString(),children:k.title},k.id))})]})]})]})]}),c.jsxs(ke,{children:[c.jsxs(it,{children:[c.jsx(st,{children:"Cible & planification"}),c.jsx(Yt,{children:"Dfinissez le destinataire, la date et le crneau."})]}),c.jsxs(Be,{className:"space-y-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(Le,{children:"Cible"}),c.jsxs(cn,{value:m,onValueChange:k=>{p(k),y(""),b([])},children:[c.jsx(rn,{children:c.jsx(un,{})}),c.jsxs(an,{children:[c.jsx(at,{value:"user",children:"Nageur"}),c.jsx(at,{value:"group",children:"Groupe(s)"})]})]})]}),m==="user"?c.jsxs("div",{className:"space-y-2",children:[c.jsx(Le,{children:"Nageur"}),N.length>0?c.jsxs(cn,{value:v,onValueChange:y,children:[c.jsx(rn,{children:c.jsx(un,{placeholder:"Choisir un nageur"})}),c.jsx(an,{children:N.map(k=>c.jsx(at,{value:k.value,children:k.label},k.value))})]}):c.jsx(et,{value:v,onChange:k=>y(k.target.value),placeholder:"ex: Camille"})]}):c.jsxs("div",{className:"space-y-2",children:[c.jsx(Le,{children:"Groupes"}),i.length>0?c.jsxs(QRe,{children:[c.jsx(JRe,{asChild:!0,children:c.jsxs(Oe,{type:"button",variant:"outline",className:"w-full justify-between","aria-label":"Slection des groupes",children:[c.jsx("span",{className:"truncate",children:T}),c.jsx(CA,{className:"ml-2 h-4 w-4 opacity-50"})]})}),c.jsxs(mW,{className:"w-[--radix-popover-trigger-width] p-2",align:"start",children:[c.jsx("div",{className:"max-h-64 overflow-auto",children:c.jsx("div",{className:"space-y-1",children:j.map(k=>{const $=x.includes(k.gid);return c.jsxs("label",{className:"flex cursor-pointer items-center gap-2 rounded-md px-2 py-1.5 hover:bg-muted",children:[c.jsx(od,{checked:$,onCheckedChange:B=>{const I=B===!0;b(F=>I?F.includes(k.gid)?F:[...F,k.gid]:F.filter(V=>V!==k.gid))}}),c.jsx("span",{className:"text-sm",children:k.name})]},k.gid)})})}),x.length>0?c.jsx(Oe,{type:"button",variant:"ghost",size:"sm",className:"mt-2 w-full",onClick:()=>b([]),children:"Tout dslectionner"}):null]})]}):c.jsx("div",{className:"text-xs text-muted-foreground",children:"Aucun groupe disponible."}),x.length>0?c.jsxs("div",{className:"text-xs text-muted-foreground",children:[x.length," groupe",x.length>1?"s":""," slectionn",x.length>1?"s":"","."]}):null]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Le,{children:"Date"}),c.jsx(et,{type:"date",value:o.assigned_date,onChange:k=>l({...o,assigned_date:k.target.value})})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Le,{children:"Crneau"}),c.jsxs(cn,{value:o.assigned_slot,onValueChange:k=>l({...o,assigned_slot:k}),children:[c.jsx(rn,{children:c.jsx(un,{placeholder:"Choisir..."})}),c.jsxs(an,{children:[c.jsx(at,{value:"morning",children:"Matin"}),c.jsx(at,{value:"evening",children:"Soir"})]})]})]})]})]})]}),c.jsx("div",{className:"sticky bottom-0 z-10 -mx-4 border-t bg-background/95 p-4 backdrop-blur sm:static sm:mx-0 sm:border-0 sm:p-0",children:c.jsxs(Oe,{className:"w-full sm:w-auto",onClick:R,disabled:P,children:[c.jsx(Th,{className:"mr-2 h-4 w-4"}),C.isPending||d?"Assignation...":"Assigner & notifier"]})})]})},ePe=({onBack:e,athletes:t,groups:n,athletesLoading:r})=>{const{toast:i}=Yr(),[a,o]=_.useState(""),[l,d]=_.useState("Message Coach"),[f,m]=_.useState(""),p=_.useMemo(()=>t.filter(w=>w.id).map(w=>({value:`user:${w.id}`,label:w.group_label?`${w.display_name}  ${w.group_label}`:w.display_name,id:w.id})),[t]),v=_.useMemo(()=>n.map(w=>({value:`group:${w.id}`,label:w.name,id:w.id})),[n]),y=_.useMemo(()=>new Map([...p,...v].map(w=>[w.value,w])),[p,v]),x=Ot({mutationFn:w=>Me.notifications_send({...w,type:"message"}),onSuccess:()=>{i({title:"Message envoy"}),o("")}}),b=()=>{if(!l.trim()||!a.trim()){i({title:"Message incomplet",description:"Ajoutez un titre et un contenu."});return}if(!f){i({title:"Destinataire manquant",description:"Slectionnez un nageur ou un groupe."});return}const w=y.get(f);if(!w?.id){i({title:"Destinataire invalide",description:"Slectionnez un destinataire valide."});return}if(f.startsWith("group:")){x.mutate({title:l,body:a,targets:[{target_group_id:w.id}]});return}x.mutate({title:l,body:a,targets:[{target_user_id:w.id}]})};return c.jsxs("div",{className:"space-y-6 pb-24",children:[c.jsx(Nh,{title:"Messagerie rapide",description:"Envoyez un message cibl  vos nageurs.",onBack:e}),c.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[c.jsxs(ke,{className:"border-l-4 border-l-primary",children:[c.jsxs(it,{children:[c.jsx(st,{children:"Destinataire"}),c.jsx(Yt,{children:"Slectionnez un nageur ou un groupe  prvenir."})]}),c.jsx(Be,{className:"space-y-4",children:c.jsxs("div",{className:"space-y-2",children:[c.jsx(Le,{children:"Destinataire"}),c.jsxs(cn,{value:f,onValueChange:m,children:[c.jsx(rn,{children:c.jsx(un,{placeholder:r?"Chargement...":"Choisir un nageur ou un groupe"})}),c.jsxs(an,{children:[v.length?c.jsxs(c.Fragment,{children:[c.jsx(at,{value:"section-group",disabled:!0,children:"Groupes"}),v.map(w=>c.jsx(at,{value:w.value,children:w.label},w.value))]}):null,p.length?c.jsxs(c.Fragment,{children:[c.jsx(at,{value:"section-athlete",disabled:!0,children:"Nageurs"}),p.map(w=>c.jsx(at,{value:w.value,children:w.label},w.value))]}):null]})]})]})})]}),c.jsxs(ke,{children:[c.jsxs(it,{children:[c.jsx(st,{children:"Contenu"}),c.jsx(Yt,{children:"Rdigez votre message en quelques lignes."})]}),c.jsxs(Be,{className:"space-y-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(Le,{children:"Titre"}),c.jsx(et,{value:l,onChange:w=>d(w.target.value)})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Le,{children:"Message"}),c.jsx(Ca,{placeholder:"Message...",value:a,onChange:w=>o(w.target.value),rows:5})]})]})]})]}),c.jsx("div",{className:"sticky bottom-0 z-10 -mx-4 border-t bg-background/95 p-4 backdrop-blur sm:static sm:mx-0 sm:border-0 sm:p-0",children:c.jsxs(Oe,{className:"w-full sm:w-auto",onClick:b,disabled:x.isPending,children:[c.jsx(ls,{className:"mr-2 h-4 w-4"}),x.isPending?"Envoi...":"Envoyer"]})})]})};function tPe({title:e=" venir",description:t="Cette fonctionnalit arrive bientt. Merci pour votre patience."}){return c.jsx("div",{className:"flex items-center justify-center min-h-[60vh] animate-in fade-in",children:c.jsxs(ke,{className:"w-full max-w-sm border-dashed text-center",children:[c.jsxs(it,{children:[c.jsx("div",{className:"mx-auto flex h-12 w-12 items-center justify-center rounded-full bg-primary/10 text-primary",children:c.jsx(qZ,{className:"h-6 w-6"})}),c.jsx(st,{className:"mt-4 text-2xl font-display uppercase italic text-primary",children:e}),c.jsx(Yt,{children:t})]}),c.jsx(Be,{className:"text-sm text-muted-foreground",children:"Nous finalisons cette section pour une prochaine mise  jour."})]})})}const nPe=({onNavigate:e})=>c.jsxs(ke,{className:"border-l-4 border-l-primary",children:[c.jsxs(it,{children:[c.jsx(st,{children:"Actions rapides"}),c.jsx(Yt,{children:"Acclrez vos tches les plus frquentes."})]}),c.jsxs(Be,{className:"grid gap-3 sm:grid-cols-2",children:[c.jsxs(Oe,{className:"justify-start",variant:"outline",onClick:()=>e("assignments"),children:[c.jsx(Th,{className:"mr-2 h-4 w-4"}),"Assigner une sance"]}),c.jsxs(Oe,{className:"justify-start",variant:"outline",onClick:()=>e("messaging"),children:[c.jsx(ls,{className:"mr-2 h-4 w-4"}),"Message rapide"]})]})]}),rPe=({onNavigate:e,onOpenRecordsAdmin:t,athletes:n,athletesLoading:r,upcomingBirthdays:i,birthdaysLoading:a,kpiLoading:o,kpiPeriod:l,onKpiPeriodChange:d,fatigueAlerts:f,mostLoadedAthlete:m})=>c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"space-y-1",children:[c.jsx("h1",{className:"text-3xl font-display font-bold uppercase italic text-primary",children:"Espace Coach"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Votre tableau de bord pour grer les sances, les nageurs et la communication."})]}),c.jsxs("div",{className:"space-y-3 sm:hidden",children:[c.jsx("div",{children:c.jsx("h2",{className:"text-sm font-semibold uppercase tracking-[0.2em] text-muted-foreground",children:"Par o commencer"})}),c.jsxs("div",{className:"grid gap-3",children:[c.jsx("button",{type:"button",onClick:()=>e("swim"),className:"rounded-xl border bg-white p-4 text-left shadow-sm transition hover:border-primary focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-semibold",children:"Crer une sance natation"}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Structurer un nouveau plan."})]}),c.jsx(mi,{className:"h-5 w-5 text-primary"})]})}),c.jsx("button",{type:"button",onClick:()=>e("assignments"),className:"rounded-xl border bg-white p-4 text-left shadow-sm transition hover:border-primary focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-semibold",children:"Assigner une sance"}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Envoyer une sance  un nageur."})]}),c.jsx(Th,{className:"h-5 w-5 text-primary"})]})}),c.jsx("button",{type:"button",onClick:()=>e("messaging"),className:"rounded-xl border bg-white p-4 text-left shadow-sm transition hover:border-primary focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-semibold",children:"Envoyer un message"}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Relancer ou fliciter un nageur."})]}),c.jsx(ls,{className:"h-5 w-5 text-primary"})]})})]})]}),c.jsx("div",{className:"hidden sm:block",children:c.jsx(nPe,{onNavigate:e})}),c.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[c.jsxs(ke,{className:"shadow-sm",children:[c.jsxs(it,{children:[c.jsxs(st,{className:"flex items-center gap-2",children:[c.jsx(mi,{className:"h-5 w-5 text-primary"}),"Natation"]}),c.jsx(Yt,{children:"Consultez et crez des sances natation."})]}),c.jsx(Be,{children:c.jsx(Oe,{className:"w-full",onClick:()=>e("swim"),children:"Accder  la bibliothque"})})]}),c.jsxs(ke,{className:"shadow-sm",children:[c.jsxs(it,{children:[c.jsxs(st,{className:"flex items-center gap-2",children:[c.jsx(Mi,{className:"h-5 w-5 text-primary"}),"Musculation"]}),c.jsx(Yt,{children:"Prparez les plans muscu et les suivis."})]}),c.jsx(Be,{children:c.jsx(Oe,{className:"w-full",onClick:()=>e("strength"),children:"Accder  la bibliothque"})})]}),c.jsxs(ke,{className:"shadow-sm",children:[c.jsxs(it,{children:[c.jsxs(st,{className:"flex items-center gap-2",children:[c.jsx(gu,{className:"h-5 w-5 text-primary"}),"Mes nageurs"]}),c.jsx(Yt,{children:"Accdez aux fiches individuelles et aux groupes."})]}),c.jsx(Be,{children:c.jsx(Oe,{className:"w-full",onClick:()=>e("swimmers"),children:"Voir les nageurs"})})]}),c.jsxs(ke,{className:"shadow-sm",children:[c.jsxs(it,{children:[c.jsxs(st,{className:"flex items-center gap-2",children:[c.jsx(so,{className:"h-5 w-5 text-primary"}),"Records club"]}),c.jsx(Yt,{children:"Importer les performances FFN et reconstruire les records."})]}),c.jsx(Be,{children:c.jsx(Oe,{className:"w-full",variant:"outline",onClick:t,children:"Administration des records"})})]})]}),c.jsxs("div",{className:"grid gap-4 lg:grid-cols-2",children:[c.jsxs(ke,{className:"sm:hidden bg-slate-950 text-white",children:[c.jsxs(it,{className:"space-y-1",children:[c.jsx(st,{className:"text-base",children:"Indicateurs cls"}),c.jsx(Yt,{className:"text-slate-200",children:"Synthse rapide pour aujourd'hui."})]}),c.jsxs(Be,{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-white/10 bg-white/5 p-3",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-xs uppercase tracking-[0.2em] text-slate-200",children:"Fatigue 5/5"}),c.jsx("p",{className:"text-2xl font-semibold",children:o?"":f.length}),c.jsx("p",{className:"text-xs text-slate-200",children:o?"Chargement...":f.length?f.slice(0,2).map(p=>p.athleteName).join(", "):"Aucune alerte"})]}),c.jsx(Ak,{className:"h-5 w-5 text-slate-200"})]}),c.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-white/10 bg-white/5 p-3",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-xs uppercase tracking-[0.2em] text-slate-200",children:"Nageur le plus charg"}),c.jsx("p",{className:"text-lg font-semibold",children:o?"":m?.athleteName??"-"}),c.jsx("p",{className:"text-xs text-slate-200",children:o?"Calcul en cours":m?`Charge ${Math.round(m.loadScore)}`:"Pas de donnes rcentes"})]}),c.jsx(gu,{className:"h-5 w-5 text-slate-200"})]})]})]}),c.jsxs(ke,{className:"hidden sm:block",children:[c.jsx(it,{className:"space-y-2",children:c.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[c.jsxs("div",{className:"space-y-1",children:[c.jsx(st,{children:"Signaux cls"}),c.jsx(Yt,{children:"Vue d'ensemble rapide de votre groupe."})]}),c.jsxs(nW,{type:"single",size:"sm",variant:"outline",value:String(l),onValueChange:p=>{p&&d(Number(p))},children:[c.jsx(wv,{value:"7","aria-label":"Priode 7 jours",children:"7j"}),c.jsx(wv,{value:"30","aria-label":"Priode 30 jours",children:"30j"}),c.jsx(wv,{value:"365","aria-label":"Priode 365 jours",children:"365j"})]})]})}),c.jsxs(Be,{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center justify-between rounded-lg border bg-muted/30 p-3",children:[c.jsxs("div",{children:[c.jsxs("p",{className:"text-sm text-muted-foreground",children:["Fatigue 5/5 (",l,"j)"]}),c.jsx("p",{className:"text-xl font-semibold",children:o?"":f.length}),c.jsx("p",{className:"text-xs text-muted-foreground",children:o?"Chargement...":f.length?f.slice(0,2).map(p=>p.athleteName).join(", "):"Aucune alerte"})]}),c.jsx(Ak,{className:"h-5 w-5 text-muted-foreground"})]}),c.jsxs("div",{className:"flex items-center justify-between rounded-lg border bg-muted/30 p-3",children:[c.jsxs("div",{children:[c.jsxs("p",{className:"text-sm text-muted-foreground",children:["Nageur le plus charg (",l,"j)"]}),c.jsx("p",{className:"text-xl font-semibold",children:o?"":m?.athleteName??"-"}),c.jsx("p",{className:"text-xs text-muted-foreground",children:o?"Calcul en cours":m?`Charge ${Math.round(m.loadScore)}`:"Pas de donnes rcentes"})]}),c.jsx(gu,{className:"h-5 w-5 text-muted-foreground"})]})]})]}),c.jsxs(ke,{children:[c.jsxs(it,{children:[c.jsx(st,{children:"Anniversaires  venir"}),c.jsx(Yt,{children:"Les 30 prochains jours."})]}),c.jsxs(Be,{className:"space-y-3",children:[a?c.jsx("p",{className:"text-sm text-muted-foreground",children:"Chargement..."}):i&&i.length>0?i.slice(0,3).map(p=>c.jsxs("div",{className:"flex items-center justify-between rounded-lg border p-3",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium",children:p.display_name}),c.jsx("p",{className:"text-xs text-muted-foreground",children:iPe(p.next_birthday)})]}),c.jsxs("span",{className:"text-xs font-semibold text-primary",children:["J-",p.days_until]})]},p.id)):c.jsx("p",{className:"text-sm text-muted-foreground",children:"Aucun anniversaire dans les 30 prochains jours."}),c.jsx(Oe,{variant:"outline",className:"w-full",onClick:()=>e("swimmers"),children:"Voir tous les nageurs"})]})]})]})]}),iPe=e=>{if(!e)return"-";const t=new Date(e);return Number.isNaN(t.getTime())?e:t.toLocaleDateString("fr-FR")},S6=e=>e.toISOString().split("T")[0],aPe=e=>new Date(e.completed_at||e.started_at||e.date||e.created_at||0).getTime(),sPe=e=>{if(!e.length)return null;const t=e.reduce((r,i)=>r+i,0)/e.length,n=Math.min(5,Math.max(1,Math.round(t/10*5)));return{average:t,rating:n}};function oPe(){const e=dn(C=>C.role);dn(C=>C.selectedAthleteId);const t=dn(C=>C.setSelectedAthlete),[,n]=ud(),[r,i]=_.useState("home"),[a,o]=_.useState(7),l=e==="coach"||e==="admin",d=r==="assignments",f=r==="home"||r==="assignments"||r==="messaging"||r==="swimmers",m=r==="assignments"||r==="messaging",p=r==="home"||r==="swimmers",{data:v}=Pt({queryKey:["swim_catalog"],queryFn:()=>Me.getSwimCatalog(),enabled:l&&d}),{data:y}=Pt({queryKey:["strength_catalog"],queryFn:()=>Me.getStrengthSessions(),enabled:l&&d}),{data:x=[],isLoading:b}=Pt({queryKey:["athletes"],queryFn:()=>Me.getAthletes(),enabled:l&&f}),w=_.useMemo(()=>x.slice(0,5),[x]),{data:N=[]}=Pt({queryKey:["groups"],queryFn:()=>Me.getGroups(),enabled:l&&m}),E=Pt({queryKey:["upcoming-birthdays"],queryFn:()=>Me.getUpcomingBirthdays({days:30}),enabled:l&&p}),j=E.data,O=Pt({queryKey:["coach-kpis",a,w.map(C=>C.id??C.display_name)],enabled:l&&r==="home"&&w.length>0,queryFn:async()=>{const C=a,R=new Date;R.setDate(R.getDate()-C);const P=S6(R),k=S6(new Date),$=await Promise.all(w.map(async F=>{const[V,U]=await Promise.all([Me.getSessions(F.display_name,F.id),Me.getStrengthHistory(F.display_name,{athleteId:F.id,limit:50,from:P,to:k})]),D=V.filter(le=>new Date(le.date).getTime()>=R.getTime()),G=D.map(le=>le.fatigue??le.feeling).filter(le=>Number.isFinite(le)),z=D.reduce((le,be)=>le+(Number(be.duration)||0)*(Number(be.effort)||0),0),de=(U?.runs??[]).filter(le=>aPe(le)>=R.getTime()),H=de.map(le=>le.fatigue??le.feeling??le.rpe).filter(le=>Number.isFinite(Number(le))).map(le=>Number(le)),K=de.reduce((le,be)=>{const ae=Number(be.feeling??be.rpe??0),J=Number(be.duration??0);if(J>0&&ae>0)return le+J*ae;const me=Array.isArray(be.logs)?be.logs.length:0;return le+me*5},0),Z=sPe([...G,...H]);return{athleteName:F.display_name,loadScore:z+K,fatigueRating:Z}})),B=$.filter(F=>F.fatigueRating?.rating===5).map(F=>({athleteName:F.athleteName,rating:F.fatigueRating?.rating??0})),I=$.filter(F=>F.loadScore>0).sort((F,V)=>V.loadScore-F.loadScore)[0];return{fatigueAlerts:B,mostLoadedAthlete:I??null}}}),T=C=>{t({id:C.id??null,name:C.display_name}),n("/progress")};return l?c.jsxs("div",{className:"space-y-6",children:[r==="home"?c.jsx(rPe,{onNavigate:i,onOpenRecordsAdmin:()=>n("/records-admin"),athletes:x,athletesLoading:b,upcomingBirthdays:j,birthdaysLoading:E.isLoading,kpiLoading:O.isLoading,kpiPeriod:a,onKpiPeriodChange:o,fatigueAlerts:O.data?.fatigueAlerts??[],mostLoadedAthlete:O.data?.mostLoadedAthlete??null}):null,r==="assignments"?c.jsx(ZRe,{onBack:()=>i("home"),swimSessions:v,strengthSessions:y,athletes:x,groups:N}):null,r==="swim"?c.jsxs("div",{className:"space-y-6",children:[c.jsx(Nh,{title:"Bibliothque natation",description:"Accdez aux sances et aux templates natation.",onBack:()=>i("home"),actions:c.jsxs(Oe,{variant:"outline",onClick:()=>i("assignments"),children:[c.jsx(Th,{className:"mr-2 h-4 w-4"}),"Nouvelle assignation"]})}),c.jsx(mRe,{})]}):null,r==="strength"?c.jsxs("div",{className:"space-y-6",children:[c.jsx(Nh,{title:"Bibliothque musculation",description:"Consultez et crez des sances musculation.",onBack:()=>i("home"),actions:c.jsxs(Oe,{variant:"outline",onClick:()=>i("assignments"),children:[c.jsx(Th,{className:"mr-2 h-4 w-4"}),"Nouvelle assignation"]})}),c.jsx(zCe,{})]}):null,r==="swimmers"?c.jsxs("div",{className:"space-y-6",children:[c.jsx(Nh,{title:"Nageurs",description:"Accdez aux fiches individuelles des nageurs.",onBack:()=>i("home"),actions:c.jsxs(Oe,{variant:"outline",onClick:()=>i("messaging"),children:[c.jsx(ls,{className:"mr-2 h-4 w-4"}),"Message rapide"]})}),c.jsxs(ke,{children:[c.jsxs(it,{children:[c.jsx(st,{children:"Suivi des Nageurs"}),c.jsx(Yt,{children:"Accdez aux fiches individuelles des nageurs."})]}),c.jsx(Be,{children:b?c.jsx("p",{className:"text-sm text-muted-foreground",children:"Chargement des nageurs..."}):x.length?c.jsx("div",{className:"w-full overflow-x-auto",children:c.jsxs(Wm,{children:[c.jsx(Ym,{children:c.jsxs(Ea,{children:[c.jsx(In,{children:"Nageur"}),c.jsx(In,{children:"Groupe"}),c.jsx(In,{className:"text-right",children:"Fiche"})]})}),c.jsx(Xm,{children:x.map(C=>c.jsxs(Ea,{children:[c.jsx(Rn,{className:"font-medium",children:C.display_name}),c.jsx(Rn,{children:C.group_label?c.jsx(hn,{variant:"secondary",children:C.group_label}):c.jsx("span",{className:"text-xs text-muted-foreground",children:"Sans groupe"})}),c.jsx(Rn,{className:"text-right",children:c.jsx(Oe,{size:"sm",variant:"outline",onClick:()=>T(C),children:"Voir la fiche"})})]},C.id??C.display_name))})]})}):c.jsx("p",{className:"text-sm text-muted-foreground",children:"Aucun nageur disponible."})})]})]}):null,r==="messaging"?c.jsx(ePe,{onBack:()=>i("home"),athletes:x,groups:N,athletesLoading:b}):null]}):c.jsx("div",{className:"flex items-center justify-center min-h-[60vh] animate-in fade-in",children:c.jsxs(ke,{className:"w-full max-w-sm shadow-xl border-t-4 border-t-primary",children:[c.jsxs(it,{children:[c.jsxs(st,{className:"flex items-center gap-2 uppercase italic",children:[c.jsx(gu,{className:"h-5 w-5 text-primary"}),"Accs Coach"]}),c.jsx(Yt,{children:"Cette section est rserve aux coachs et administrateurs."})]}),c.jsx(Be,{children:c.jsx("p",{className:"text-sm text-muted-foreground",children:"Connectez-vous avec un compte autoris pour accder aux outils de gestion."})})]})})}function lPe(e,t,{checkForDefaultPrevented:n=!0}={}){return function(i){if(e?.(i),n===!1||!i.defaultPrevented)return t?.(i)}}var cPe=Cr[" useInsertionEffect ".trim().toString()]||Ut;function uPe({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[i,a,o]=dPe({defaultProp:t,onChange:n}),l=e!==void 0,d=l?e:i;{const m=_.useRef(e!==void 0);_.useEffect(()=>{const p=m.current;p!==l&&console.warn(`${r} is changing from ${p?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),m.current=l},[l,r])}const f=_.useCallback(m=>{if(l){const p=fPe(m)?m(e):m;p!==e&&o.current?.(p)}else a(m)},[l,e,a,o]);return[d,f]}function dPe({defaultProp:e,onChange:t}){const[n,r]=_.useState(e),i=_.useRef(n),a=_.useRef(t);return cPe(()=>{a.current=t},[t]),_.useEffect(()=>{i.current!==n&&(a.current?.(n),i.current=n)},[n,i]),[n,r,a]}function fPe(e){return typeof e=="function"}var db="Switch",[hPe]=Rr(db),[mPe,pPe]=hPe(db),pW=_.forwardRef((e,t)=>{const{__scopeSwitch:n,name:r,checked:i,defaultChecked:a,required:o,disabled:l,value:d="on",onCheckedChange:f,form:m,...p}=e,[v,y]=_.useState(null),x=At(t,j=>y(j)),b=_.useRef(!1),w=v?m||!!v.closest("form"):!0,[N,E]=uPe({prop:i,defaultProp:a??!1,onChange:f,caller:db});return c.jsxs(mPe,{scope:n,checked:N,disabled:l,children:[c.jsx(bt.button,{type:"button",role:"switch","aria-checked":N,"aria-required":o,"data-state":bW(N),"data-disabled":l?"":void 0,disabled:l,value:d,...p,ref:x,onClick:lPe(e.onClick,j=>{E(O=>!O),w&&(b.current=j.isPropagationStopped(),b.current||j.stopPropagation())})}),w&&c.jsx(yW,{control:v,bubbles:!b.current,name:r,value:d,checked:N,required:o,disabled:l,form:m,style:{transform:"translateX(-100%)"}})]})});pW.displayName=db;var gW="SwitchThumb",vW=_.forwardRef((e,t)=>{const{__scopeSwitch:n,...r}=e,i=pPe(gW,n);return c.jsx(bt.span,{"data-state":bW(i.checked),"data-disabled":i.disabled?"":void 0,...r,ref:t})});vW.displayName=gW;var gPe="SwitchBubbleInput",yW=_.forwardRef(({__scopeSwitch:e,control:t,checked:n,bubbles:r=!0,...i},a)=>{const o=_.useRef(null),l=At(o,a),d=y0(n),f=i0(t);return _.useEffect(()=>{const m=o.current;if(!m)return;const p=window.HTMLInputElement.prototype,y=Object.getOwnPropertyDescriptor(p,"checked").set;if(d!==n&&y){const x=new Event("click",{bubbles:r});y.call(m,n),m.dispatchEvent(x)}},[d,n,r]),c.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:l,style:{...i.style,...f,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});yW.displayName=gPe;function bW(e){return e?"checked":"unchecked"}var xW=pW,vPe=vW;const cd=_.forwardRef(({className:e,...t},n)=>c.jsx(xW,{className:Ae("peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:n,children:c.jsx(vPe,{className:Ae("pointer-events-none block h-4 w-4 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0")})}));cd.displayName=xW.displayName;const j6=["athlete","coach","comite","admin"],Cj=e=>!(e===!1||e===0),yPe=(e,t,n)=>e.map(r=>r.id===t?{...r,role:n}:r),Rj=(e,t)=>Mr(e,t).message;function bPe(){const{useMemo:e,useState:t}=Cr,n=typeof window>"u"?dn.getState().role:dn(U=>U.role),r=dn(U=>U.userId),{toast:i}=Yr(),a=qi(),[o,l]=t(""),[d,f]=t("all"),[m,p]=t(!1),[v,y]=t(null),[x,b]=t(""),[w,N]=t(""),[E,j]=t(""),[O,T]=t(null),C=n==="admin",{data:R=[],isLoading:P}=Pt({queryKey:["admin-users",m],queryFn:()=>Me.listUsers({includeInactive:m}),enabled:C}),k=Ot({mutationFn:U=>Me.createCoach(U),onMutate:()=>{T(null)},onSuccess:U=>{a.invalidateQueries({queryKey:["admin-users"]}),b(""),N(""),j(""),T(U.initialPassword??null),i({title:"Coach cr"})},onError:U=>{i({title:"Erreur cration coach",description:Rj(U,"Impossible de crer le coach.")})}}),$=Ot({mutationFn:U=>Me.updateUserRole(U),onSuccess:(U,D)=>{a.setQueryData(["admin-users",m],G=>G&&yPe(G,D.userId,D.role)),a.invalidateQueries({queryKey:["admin-users"]}),i({title:"Rle mis  jour"})},onError:U=>{i({title:"Erreur mise  jour rle",description:Rj(U,"Impossible de mettre  jour le rle.")})}}),B=Ot({mutationFn:U=>Me.disableUser(U),onSuccess:()=>{a.invalidateQueries({queryKey:["admin-users"]}),i({title:"Compte dsactiv"})},onError:U=>{i({title:"Erreur dsactivation",description:Rj(U,"Impossible de dsactiver le compte.")})}}),I=e(()=>R.find(D=>D.role==="admin")?.id??null,[R]),F=e(()=>{const U=o.trim().toLowerCase();return R.filter(D=>{if(d!=="all"&&D.role!==d)return!1;const G=D.display_name?.toLowerCase()??"",z=D.email?.toLowerCase()??"";return!(U&&!G.includes(U)&&!z.includes(U))})},[R,d,o]),V=e(()=>v?R.find(U=>U.id===v)??null:null,[v,R]);return C?c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("h1",{className:"text-3xl font-display font-bold uppercase italic text-primary",children:"Administration"}),c.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[c.jsx(Cee,{className:"h-4 w-4 text-primary"}),c.jsx("span",{children:"Accs admin"})]})]}),c.jsxs(ke,{children:[c.jsxs(it,{children:[c.jsx(st,{children:"Crer un coach"}),c.jsx(Yt,{children:"Laissez le mot de passe vide pour en gnrer un automatiquement (affich une seule fois)."})]}),c.jsx(Be,{children:c.jsxs("form",{className:"space-y-4",onSubmit:U=>{U.preventDefault();const D=x.trim();D&&k.mutate({display_name:D,email:w.trim()||void 0,password:E||void 0})},children:[c.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(Le,{htmlFor:"coach-create-name",children:"Nom affich"}),c.jsx(et,{id:"coach-create-name",value:x,onChange:U=>b(U.target.value),placeholder:"Ex: Coach Martin",required:!0})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Le,{htmlFor:"coach-create-email",children:"Email"}),c.jsx(et,{id:"coach-create-email",type:"email",value:w,onChange:U=>N(U.target.value),placeholder:"coach@email.com"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Le,{htmlFor:"coach-create-password",children:"Mot de passe (optionnel)"}),c.jsx(et,{id:"coach-create-password",type:"text",value:E,onChange:U=>j(U.target.value),placeholder:"Laisser vide pour auto"})]})]}),c.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[c.jsx(Oe,{type:"submit",disabled:!x.trim()||k.isPending,children:k.isPending?"Cration...":"Crer le coach"}),O?c.jsxs("div",{className:"rounded-md border border-primary/30 bg-primary/5 px-4 py-2 text-sm",children:[c.jsx("p",{className:"font-medium text-primary",children:"Mot de passe initial ( copier)"}),c.jsx("p",{className:"font-mono",children:O})]}):null]})]})})]}),c.jsxs(ke,{children:[c.jsxs(it,{children:[c.jsx(st,{children:"Gestion des comptes"}),c.jsx(Yt,{children:"Mettre  jour les rles, filtrer et dsactiver les comptes."})]}),c.jsxs(Be,{className:"space-y-4",children:[c.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[c.jsxs("div",{className:"md:col-span-2 space-y-2",children:[c.jsx(Le,{htmlFor:"admin-search",children:"Recherche"}),c.jsxs("div",{className:"relative",children:[c.jsx(RA,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),c.jsx(et,{id:"admin-search",value:o,onChange:U=>l(U.target.value),placeholder:"Nom ou email",className:"pl-9"})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Le,{children:"Rle"}),c.jsxs(cn,{value:d,onValueChange:U=>f(U),children:[c.jsx(rn,{children:c.jsx(un,{placeholder:"Tous"})}),c.jsxs(an,{children:[c.jsx(at,{value:"all",children:"Tous"}),c.jsx(at,{value:"athlete",children:"Athlte"}),c.jsx(at,{value:"coach",children:"Entraineur EAC"}),c.jsx(at,{value:"comite",children:"Comit"}),c.jsx(at,{value:"admin",children:"Admin"})]})]})]}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(cd,{checked:m,onCheckedChange:p,id:"inactive-toggle"}),c.jsx(Le,{htmlFor:"inactive-toggle",className:"text-sm",children:"Inclure dsactivs"})]})]}),P?c.jsx("p",{className:"text-sm text-muted-foreground",children:"Chargement des utilisateurs..."}):F.length?c.jsx("div",{className:"w-full overflow-x-auto",children:c.jsxs(Wm,{children:[c.jsx(Ym,{children:c.jsxs(Ea,{children:[c.jsx(In,{children:"Utilisateur"}),c.jsx(In,{children:"Email"}),c.jsx(In,{children:"Rle"}),c.jsx(In,{children:"Statut"}),c.jsx(In,{className:"text-right",children:"Actions"})]})}),c.jsx(Xm,{children:F.map(U=>{const D=Cj(U.is_active),G=r===U.id,z=I!==null&&I!==U.id;return c.jsxs(Ea,{"data-selected":v===U.id,children:[c.jsx(Rn,{className:"font-medium",children:c.jsx(Oe,{variant:"ghost",size:"sm",className:"px-2",onClick:()=>y(U.id),children:U.display_name})}),c.jsx(Rn,{className:"text-sm text-muted-foreground",children:U.email||"-"}),c.jsx(Rn,{children:c.jsxs(cn,{value:U.role,onValueChange:Y=>{j6.includes(Y)&&U.id&&Y!==U.role&&$.mutate({userId:U.id,role:Y})},disabled:!D||$.isPending,children:[c.jsx(rn,{className:"w-[140px]",children:c.jsx(un,{})}),c.jsxs(an,{children:[c.jsx(at,{value:"athlete",children:"Athlte"}),c.jsx(at,{value:"coach",children:"Entraineur EAC"}),c.jsx(at,{value:"comite",children:"Comit"}),c.jsx(at,{value:"admin",disabled:z,children:"Admin"})]})]})}),c.jsx(Rn,{children:D?c.jsx(hn,{variant:"secondary",children:"Actif"}):c.jsx(hn,{variant:"outline",children:"Dsactiv"})}),c.jsx(Rn,{className:"text-right",children:c.jsxs(Oe,{variant:"destructive",size:"sm",onClick:()=>{if(!U.id)return;if(G){i({title:"Action impossible",description:"Vous ne pouvez pas dsactiver votre propre compte."});return}window.confirm(`Confirmer la dsactivation du compte "${U.display_name}" ?`)&&B.mutate({userId:U.id})},disabled:!D||B.isPending||G,children:[c.jsx(Fee,{className:"mr-2 h-4 w-4"}),"Dsactiver"]})})]},U.id)})})]})}):c.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[c.jsx(Vee,{className:"h-4 w-4"}),"Aucun utilisateur ne correspond  votre recherche."]})]})]}),c.jsxs(ke,{children:[c.jsxs(it,{children:[c.jsx(st,{children:"Fiche utilisateur"}),c.jsx(Yt,{children:"Slectionnez un compte pour afficher les dtails."})]}),c.jsx(Be,{children:V?c.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("p",{className:"text-sm text-muted-foreground",children:"Nom affich"}),c.jsx("p",{className:"text-lg font-semibold",children:V.display_name}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Email"}),c.jsx("p",{children:V.email||"-"})]}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-muted-foreground",children:"Rle"}),c.jsxs(cn,{value:V.role,onValueChange:U=>{j6.includes(U)&&V.id&&U!==V.role&&$.mutate({userId:V.id,role:U})},disabled:!Cj(V.is_active)||$.isPending,children:[c.jsx(rn,{className:"w-[180px]",children:c.jsx(un,{})}),c.jsxs(an,{children:[c.jsx(at,{value:"athlete",children:"Athlte"}),c.jsx(at,{value:"coach",children:"Entraineur EAC"}),c.jsx(at,{value:"comite",children:"Comit"}),c.jsx(at,{value:"admin",disabled:I!==null&&I!==V.id,children:"Admin"})]})]})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-muted-foreground",children:"Statut"}),Cj(V.is_active)?c.jsx(hn,{variant:"secondary",children:"Actif"}):c.jsx(hn,{variant:"outline",children:"Dsactiv"})]}),V.group_label?c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-muted-foreground",children:"Groupe"}),c.jsx("p",{children:V.group_label})]}):null]})]}):c.jsx("p",{className:"text-sm text-muted-foreground",children:"Aucun utilisateur slectionn."})})]})]}):typeof window>"u"?null:c.jsx(Qy,{to:"/"})}function xPe({children:e,className:t,top:n=!1,bottom:r=!1,left:i=!1,right:a=!1}){return c.jsx("div",{className:Ae(t),style:{paddingTop:n?"env(safe-area-inset-top)":void 0,paddingBottom:r?"env(safe-area-inset-bottom)":void 0,paddingLeft:i?"env(safe-area-inset-left)":void 0,paddingRight:a?"env(safe-area-inset-right)":void 0},children:e})}const mu=e=>String(e).padStart(2,"0"),gA=(e,t,n)=>Math.max(t,Math.min(n,e)),wPe=(e,t)=>{const n=Math.round(e/t)*t;return gA(n,0,60-t)},wW=(e,t=5)=>{const[n,r]=e.split(":"),i=Number(n),a=Number(r),o=gA(Number.isFinite(i)?i:0,0,23),l=gA(Number.isFinite(a)?a:0,0,59),d=wPe(l,t);return`${mu(o)}:${mu(d)}`},_Pe=(e,t)=>{const n=wW(e,t),[r,i]=n.split(":").map(a=>Number(a));return{hours:r,minutes:i}};function N6({value:e,values:t,onChange:n,width:r=68,itemHeight:i=28,visibleCount:a=3,format:o,snapKey:l}){const d=q.useRef(null),f=Math.floor(a/2)*i,[m,p]=q.useState(e),v=q.useRef(e),y=q.useRef(e),x=q.useRef(null),b=q.useRef(null),w=q.useRef(!1);return q.useEffect(()=>{y.current=e,v.current=e,p(e);const N=d.current;if(!N||w.current)return;const E=Math.max(0,t.indexOf(e));N.scrollTo({top:E*i,behavior:"instant"})},[i,e,t]),q.useEffect(()=>{const N=d.current;if(!N)return;const E=Math.max(0,t.indexOf(e));N.scrollTo({top:E*i,behavior:"instant"})},[i,l,e,t]),q.useEffect(()=>{const N=d.current;if(!N)return;const E=()=>{const T=Math.round(N.scrollTop/i),C=t[Math.max(0,Math.min(t.length-1,T))];v.current=C,p(C)},j=()=>{const T=v.current;T!==y.current&&n(T),w.current=!1},O=()=>{w.current=!0,x.current&&cancelAnimationFrame(x.current),x.current=requestAnimationFrame(E),b.current&&window.clearTimeout(b.current),b.current=window.setTimeout(j,140)};return N.addEventListener("scroll",O,{passive:!0}),()=>{N.removeEventListener("scroll",O),x.current&&cancelAnimationFrame(x.current),b.current&&window.clearTimeout(b.current)}},[i,n,t]),c.jsx("div",{style:{width:r,minWidth:0,flex:`0 0 ${r}px`},children:c.jsxs("div",{className:"relative overflow-hidden rounded-xl border border-slate-200 bg-white",children:[c.jsx("div",{className:"pointer-events-none absolute left-0 right-0 top-0 z-[2]",style:{height:f,background:"linear-gradient(#fff, rgba(255,255,255,0))"}}),c.jsx("div",{className:"pointer-events-none absolute left-0 right-0 bottom-0 z-[2]",style:{height:f,background:"linear-gradient(rgba(255,255,255,0), #fff)"}}),c.jsx("div",{className:"pointer-events-none absolute left-1.5 right-1.5 z-[1] rounded-lg",style:{top:f,height:i,background:"rgba(17,17,17,0.14)",boxShadow:"inset 0 0 0 1px rgba(17,17,17,0.25)"}}),c.jsx("div",{ref:d,style:{height:i*a,overflowY:"auto",overflowX:"hidden",scrollSnapType:"y mandatory",scrollSnapStop:"always",WebkitOverflowScrolling:"touch",paddingTop:f,paddingBottom:f,touchAction:"pan-y",overscrollBehavior:"contain"},children:t.map(N=>{const E=N===m;return c.jsx("div",{className:`flex items-center justify-center text-[15px] font-bold ${E?"text-slate-900":"text-slate-400"}`,style:{height:i,scrollSnapAlign:"center",fontWeight:E?900:700,userSelect:"none"},children:o?o(N):String(N)},N)})})]})})}function E6({label:e,value:t,onChange:n,allowEmpty:r=!1,showEmptyButton:i=!0,snapKey:a}){const o=q.useMemo(()=>Array.from({length:24},(b,w)=>w),[]),l=q.useMemo(()=>Array.from({length:12},(b,w)=>w*5),[]),d=t||"00:00",f=q.useMemo(()=>_Pe(d,5),[d]),[m,p]=q.useState(f.hours),[v,y]=q.useState(f.minutes);q.useEffect(()=>{p(f.hours),y(f.minutes)},[f.hours,f.minutes]),q.useEffect(()=>{if(!t)return;const b=wW(t,5),[w,N]=b.split(":");p(Number(w)),y(Number(N))},[t]);const x=q.useCallback((b,w)=>{n(`${mu(b)}:${mu(w)}`)},[n]);return c.jsxs("div",{className:"space-y-2",children:[c.jsx("div",{className:"text-xs font-black text-slate-900",children:e}),c.jsxs("div",{className:"flex flex-wrap items-end justify-center gap-2",children:[c.jsx(N6,{value:m,values:o,onChange:b=>{p(b),x(b,v)},format:b=>mu(b),snapKey:a}),c.jsx(N6,{value:v,values:l,onChange:b=>{y(b),x(m,b)},format:b=>mu(b),snapKey:a})]}),r&&i?c.jsx("button",{type:"button",onClick:()=>n(""),className:"mx-auto block h-8 min-w-[110px] rounded-full border border-slate-200 bg-white px-3 text-xs font-bold text-slate-900",children:"En cours"}):null]})}const Ky=e=>String(e).padStart(2,"0"),Pj=()=>{const e=new Date,t=Math.round(e.getMinutes()/5)*5,n=t===60?1:0,r=(e.getHours()+n)%24,i=t===60?0:t;return`${Ky(r)}:${Ky(i)}`},SPe=(e,t)=>{const[n,r]=e.split(":").map(f=>Number(f)),i=Number.isFinite(n)?n:0,a=Number.isFinite(r)?r:0,o=(i*60+a+t+1440)%1440,l=Math.floor(o/60),d=o%60;return`${Ky(l)}:${Ky(d)}`};function jPe({isOpen:e,isEditing:t,isSaving:n,date:r,startTime:i,endTime:a,location:o,isTravel:l,durationLabel:d,locations:f,onClose:m,onSubmit:p,onDateChange:v,onStartTimeChange:y,onEndTimeChange:x,onLocationChange:b,onTravelChange:w,onCreateLocation:N,onDeleteLocation:E}){const j=q.useMemo(()=>e?Date.now():0,[e]),[O,T]=q.useState(!1),[C,R]=q.useState("");return q.useEffect(()=>{if(!e||t||i)return;const P=Pj();y(P),a||x(SPe(P,60))},[a,t,e,x,y,i]),e?c.jsx("div",{className:"fixed inset-0 z-50 flex items-end justify-center bg-black/35 px-3 pb-3",onClick:m,children:c.jsxs("div",{className:"w-full max-w-3xl overflow-hidden rounded-2xl bg-white shadow-[0_12px_40px_rgba(0,0,0,0.2)]",onClick:P=>P.stopPropagation(),children:[c.jsx("div",{className:"mx-auto mt-2 h-1.5 w-10 rounded-full bg-slate-200"}),c.jsxs("div",{className:"grid grid-cols-[1fr_auto] items-center gap-2 px-4 pb-2 pt-3 text-sm font-black",children:[c.jsx("div",{children:t?"Modifier shift":"Nouveau shift"}),c.jsx(Oe,{type:"button",variant:"outline",size:"sm",onClick:m,children:"Fermer"}),c.jsxs("div",{className:"col-span-2 text-center text-sm font-black text-slate-900",children:[i||"","  ",a||"En cours",d?`  Dure ${d}`:null]})]}),c.jsxs("form",{onSubmit:p,className:"max-h-[72vh] space-y-4 overflow-y-auto px-4 pb-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(Le,{htmlFor:"shift-date",children:"Date"}),c.jsx(et,{id:"shift-date",type:"date",value:r,onChange:P=>v(P.target.value)})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[c.jsxs("div",{className:"space-y-3",children:[c.jsx(E6,{label:"Heure darrive",value:i,onChange:y,snapKey:j}),c.jsx("button",{type:"button",className:"mx-auto block h-8 min-w-[110px] rounded-full border border-slate-200 bg-white px-3 text-xs font-bold text-slate-900",onClick:()=>{const P=Pj();y(P)},children:"Maintenant"})]}),c.jsxs("div",{className:"space-y-3",children:[c.jsx(E6,{label:"Heure de sortie",value:a,onChange:x,allowEmpty:!0,showEmptyButton:!1,snapKey:j}),c.jsx("button",{type:"button",className:"mx-auto block h-8 min-w-[110px] rounded-full border border-slate-200 bg-white px-3 text-xs font-bold text-slate-900",onClick:()=>{const P=Pj();x(P)},children:"Maintenant"}),c.jsx("button",{type:"button",className:"mx-auto block h-8 min-w-[110px] rounded-full border border-slate-200 bg-white px-3 text-xs font-bold text-slate-900",onClick:()=>x(""),children:"En cours"})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Le,{htmlFor:"shift-location",children:"Lieu"}),c.jsxs(cn,{value:o||void 0,onValueChange:b,children:[c.jsx(rn,{id:"shift-location",children:c.jsx(un,{placeholder:"Slectionner un lieu"})}),c.jsx(an,{children:f.map(P=>c.jsx(at,{value:P.name,children:P.name},P.id))})]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(od,{id:"shift-travel",checked:l,onCheckedChange:P=>w(P===!0)}),c.jsx(Le,{htmlFor:"shift-travel",children:"Temps de trajet"})]}),c.jsxs("div",{className:"flex gap-3 border-t border-slate-100 pt-3",children:[c.jsx(Oe,{type:"button",variant:"outline",className:"flex-1",onClick:m,children:"Annuler"}),c.jsx(Oe,{type:"submit",className:"flex-1",disabled:n,children:t?"Enregistrer":"Ajouter"})]})]})]})}):null}const Wy=e=>{if(!e)return null;const t=new Date(e);return Number.isNaN(t.getTime())?null:t},_l=e=>{if(!e.end_time)return null;const t=Wy(e.start_time),n=Wy(e.end_time);if(!t||!n)return null;const r=(n.getTime()-t.getTime())/6e4;return r<0?null:Math.round(r)},A6=e=>e.reduce((t,n)=>{const r=_l(n);return r===null||(n.is_travel?t.travelMinutes+=r:t.workMinutes+=r,t.totalMinutes=t.workMinutes+t.travelMinutes),t},{workMinutes:0,travelMinutes:0,totalMinutes:0}),NPe=(e,t=new Date)=>{const n=e.filter(i=>{const a=Wy(i.start_time);return a?KOe(a,t,{weekStartsOn:1}):!1}),r=e.filter(i=>{const a=Wy(i.start_time);return a?WOe(a,t):!1});return{week:A6(n),month:A6(r)}},Hr=e=>{const t=Math.max(0,Math.round(e)),n=Math.floor(t/60),r=t%60;return`${n}h${String(r).padStart(2,"0")}`},T6=e=>{if(!e)return"";const t=new Date(e);return Number.isNaN(t.getTime())?"":jn(t,"HH:mm")},EPe=e=>{const t=new Date(e);return Number.isNaN(t.getTime())?e:new Intl.DateTimeFormat("fr-FR",{weekday:"long",day:"numeric",month:"long",year:"numeric"}).format(t)};function APe({groups:e,onEdit:t,onDelete:n}){return c.jsx("div",{className:"rounded-2xl border border-slate-200 bg-white shadow-[0_1px_6px_rgba(0,0,0,0.04)]",children:e.length===0?c.jsx("div",{className:"px-4 py-4 text-sm text-slate-500",children:"Aucun shift pour linstant."}):e.map(r=>c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center justify-between gap-3 border-b border-slate-200 bg-slate-50 px-3 py-2 text-xs font-black capitalize text-slate-900",children:[c.jsx("span",{children:EPe(r.date)}),c.jsx("span",{children:Hr(r.totalMinutes)})]}),c.jsx("div",{children:r.shifts.map(i=>{const a=_l(i),o=a===null;return c.jsxs("div",{className:"flex flex-wrap items-start gap-3 border-b border-slate-100 px-3 py-3",children:[c.jsx("span",{className:i.is_travel?"rounded-full border border-slate-200 bg-amber-50 px-2 py-1 text-[11px] font-semibold text-slate-900":"rounded-full border border-slate-200 bg-blue-50 px-2 py-1 text-[11px] font-semibold text-slate-900",children:i.is_travel?"Trajet":"Travail"}),c.jsxs("div",{className:"min-w-0 flex-1",children:[c.jsxs("div",{className:"flex flex-wrap items-baseline justify-between gap-2",children:[c.jsxs("div",{className:"text-sm font-black text-slate-900",children:[T6(i.start_time),"  ",i.end_time?T6(i.end_time):"En cours",a!==null?c.jsxs("span",{className:"ml-1 text-xs font-semibold text-slate-500",children:["(",Hr(a),")"]}):null]}),c.jsxs("div",{className:"flex flex-wrap justify-end gap-2",children:[c.jsx("button",{type:"button",className:"rounded-lg border border-slate-200 bg-white px-3 py-1.5 text-xs font-bold text-slate-900",onClick:()=>t(i),children:"Modifier"}),c.jsx("button",{type:"button",className:"rounded-lg border border-slate-200 bg-white px-3 py-1.5 text-xs font-bold text-slate-900",onClick:()=>n(i.id),children:"Suppr."})]})]}),c.jsx("div",{className:"mt-1 text-sm text-slate-700",children:i.location||"Lieu non prcis"}),o?c.jsx("div",{className:"mt-1 text-xs text-slate-500",children:"En cours"}):null]})]},i.id)})})]},r.date))})}const O6=e=>{if(!e)return"";const t=new Date(e);return Number.isNaN(t.getTime())?"":jn(t,"HH:mm")},Jc=e=>e.shift_date||e.start_time.split("T")[0],C6=(e,t,n)=>{const r=new Date(e).getTime(),i=new Date(t).getTime(),a=new Date(n).getTime(),o=Math.min(i,a),l=Math.max(i,a);return r>=o&&r<=l},R6=e=>e.find(t=>t.name==="Piscine")?.name??e[0]?.name??"Piscine";function TPe({initialTab:e="POINTAGE"}){const{useMemo:t,useState:n}=Cr,{toast:r}=Yr(),i=qi(),a=typeof window>"u"?dn.getState().role:dn(je=>je.role),o=typeof window>"u"?dn.getState().userId:dn(je=>je.userId),l=a==="coach"||a==="admin",[d,f]=n(e),[m,p]=n(()=>jn(new Date,"yyyy-MM-dd")),[v,y]=n(""),[x,b]=n(""),[w,N]=n("Piscine"),[E,j]=n(!1),[O,T]=n(!0),[C,R]=n(null),[P,k]=n(!1),[$,B]=n(""),{data:I=[],error:F}=Pt({queryKey:["timesheet-shifts",o],queryFn:()=>Me.listTimesheetShifts({coachId:o??void 0}),enabled:l}),{data:V=[],error:U}=Pt({queryKey:["timesheet-locations"],queryFn:()=>Me.listTimesheetLocations(),enabled:l}),{data:D,error:G}=Pt({queryKey:["capabilities","timesheet"],queryFn:()=>Me.getCapabilities(),enabled:Sl.hasSupabase}),z=t(()=>R6(V),[V]),Y=_.useCallback(()=>{p(jn(new Date,"yyyy-MM-dd")),y(""),b(""),N(z),j(!1)},[z]),de=Ot({mutationFn:je=>Me.createTimesheetShift(je),onSuccess:()=>{i.invalidateQueries({queryKey:["timesheet-shifts"]}),Y(),r({title:"Shift enregistr"})},onError:je=>{const Qe=Mr(je,"Impossible d'enregistrer le shift.");r({title:"Erreur",description:Qe.message})}}),H=Ot({mutationFn:je=>Me.updateTimesheetShift(je),onSuccess:()=>{i.invalidateQueries({queryKey:["timesheet-shifts"]}),T(!1),R(null),Y(),r({title:"Shift mis  jour"})},onError:je=>{const Qe=Mr(je,"Impossible de modifier le shift.");r({title:"Erreur",description:Qe.message})}}),K=Ot({mutationFn:je=>Me.deleteTimesheetShift(je),onSuccess:()=>{i.invalidateQueries({queryKey:["timesheet-shifts"]})},onError:je=>{const Qe=Mr(je,"Impossible de supprimer le shift.");r({title:"Erreur",description:Qe.message})}}),Z=Ot({mutationFn:je=>Me.createTimesheetLocation(je),onSuccess:()=>{i.invalidateQueries({queryKey:["timesheet-locations"]})},onError:je=>{const Qe=Mr(je,"Impossible d'ajouter le lieu.");r({title:"Erreur",description:Qe.message})}}),le=Ot({mutationFn:je=>Me.deleteTimesheetLocation(je),onSuccess:(je,Qe)=>{i.invalidateQueries({queryKey:["timesheet-locations"]});const yt=V.filter(wt=>wt.id!==Qe.id);w&&yt.every(wt=>wt.name!==w)&&N(R6(yt))},onError:je=>{const Qe=Mr(je,"Impossible de supprimer le lieu.");r({title:"Erreur",description:Qe.message})}}),be=jn(new Date,"yyyy-MM-dd"),ae=t(()=>I.reduce((je,Qe)=>{if(Jc(Qe)!==be)return je;const wt=_l(Qe);return wt?je+wt:je},0),[I,be]),J=t(()=>{const je=[...I].sort((yt,wt)=>yt.start_time<wt.start_time?1:-1),Qe=new Map;return je.forEach(yt=>{const wt=Jc(yt);Qe.has(wt)||Qe.set(wt,[]),Qe.get(wt)?.push(yt)}),Array.from(Qe.entries()).map(([yt,wt])=>{const qt=wt.reduce((ir,se)=>{const X=_l(se);return X?ir+X:ir},0);return{date:yt,shifts:wt,totalMinutes:qt}}).sort((yt,wt)=>yt.date<wt.date?1:-1)},[I]),me=t(()=>new Date,[]),[oe,pe]=n(()=>jn(new Date(me.getFullYear(),me.getMonth(),1),"yyyy-MM-dd")),[we,ee]=n(()=>jn(me,"yyyy-MM-dd")),qe=t(()=>{const je=I.filter(Qe=>C6(Jc(Qe),oe,we));return je.reduce((Qe,yt)=>{const qt=_l(yt)??0;return yt.is_travel?Qe.travel+=qt:Qe.work+=qt,Qe.total+=qt,Qe},{count:je.length,work:0,travel:0,total:0})},[oe,we,I]),ve=t(()=>{const je=I.filter(yt=>C6(Jc(yt),oe,we)),Qe=new Map;return je.forEach(yt=>{const wt=Jc(yt),qt=_l(yt)??0;Qe.set(wt,(Qe.get(wt)??0)+qt)}),Array.from(Qe.entries()).map(([yt,wt])=>({date:yt,label:jn(new Date(yt),"dd/MM"),hours:Number((wt/60).toFixed(2))})).sort((yt,wt)=>yt.date<wt.date?-1:1)},[oe,we,I]),Ge=t(()=>new Intl.DateTimeFormat("fr-FR",{weekday:"long",day:"numeric",month:"long",year:"numeric"}),[]);if(!l)return typeof window>"u"?null:c.jsx(Qy,{to:"/"});const ne=G?Mr(G,"Impossible de vrifier le module de pointage.").message:D?.mode==="supabase"&&!D.timesheet.available?"Pointage heures indisponible (tables manquantes ct D1).":null,ie=F?Mr(F,"Impossible de charger les shifts.").message:null,De=U?Mr(U,"Impossible de charger les lieux.").message:null,dt=de.isPending||H.isPending,Ie=Z.isPending||le.isPending,Xe=t(()=>{if(!v||!x)return null;const je=new Date(`${m}T${v}`),Qe=new Date(`${m}T${x}`);if(Number.isNaN(je.getTime())||Number.isNaN(Qe.getTime()))return null;const yt=(Qe.getTime()-je.getTime())/6e4;return yt<=0?null:Hr(yt)},[m,v,x]),te=je=>{if(je.preventDefault(),!m||!v){r({title:"Champs requis",description:"Date et heure de dbut obligatoires."});return}const Qe=`${m}T${v}`,yt=x?`${m}T${x}`:null;if(yt&&new Date(yt)<new Date(Qe)){r({title:"Heures invalides",description:"La fin doit tre aprs le dbut."});return}if(!o){r({title:"Utilisateur manquant"});return}if(C){H.mutate({id:C,coach_id:o,shift_date:m,start_time:Qe,end_time:yt,location:w.trim()||null,is_travel:E});return}de.mutate({coach_id:o,shift_date:m,start_time:Qe,end_time:yt,location:w.trim()||null,is_travel:E})},Pe=()=>{Y(),R(null),T(!0)},Ue=je=>{R(je.id),p(Jc(je)),y(O6(je.start_time)),b(je.end_time?O6(je.end_time):""),N(je.location??""),j(je.is_travel),T(!0)},Lt=()=>{T(!1),R(null)};_.useEffect(()=>{d==="DASHBOARD"&&(T(!1),R(null))},[d]),_.useEffect(()=>{!O||C||(!w||V.every(je=>je.name!==w))&&N(z)},[z,C,O,w,V]);const jt=()=>{const je=$.trim();je&&(Z.mutate({name:je}),B(""))};return c.jsxs(xPe,{top:!0,bottom:!0,className:"min-h-screen bg-slate-50",children:[c.jsxs("div",{className:"mx-auto flex w-full max-w-3xl flex-col gap-4 px-4 pb-24 pt-4 text-slate-900",children:[c.jsxs("div",{className:"flex items-center justify-between gap-3",children:[c.jsx("div",{className:"text-xs font-black tracking-[0.2px]",children:"ADMINISTRATIF"}),c.jsxs("div",{className:"flex items-center gap-1 rounded-full border border-slate-200 bg-white p-1 text-xs font-extrabold",children:[c.jsx("button",{type:"button",className:`rounded-full px-3 py-2 ${d==="POINTAGE"?"bg-slate-900 text-white":"text-slate-900"}`,"aria-current":d==="POINTAGE"?"page":void 0,onClick:()=>f("POINTAGE"),children:"Pointage"}),c.jsx("button",{type:"button",className:`rounded-full px-3 py-2 ${d==="DASHBOARD"?"bg-slate-900 text-white":"text-slate-900"}`,"aria-current":d==="DASHBOARD"?"page":void 0,onClick:()=>f("DASHBOARD"),children:"Dashboard"})]})]}),ne?c.jsx("div",{className:"rounded-2xl border border-dashed border-slate-200 bg-white px-4 py-3 text-sm text-slate-500",children:ne}):null,ie?c.jsx("div",{className:"rounded-2xl border border-red-200 bg-red-50 px-4 py-3 text-sm text-red-600",children:ie}):null,De?c.jsx("div",{className:"rounded-2xl border border-red-200 bg-red-50 px-4 py-3 text-sm text-red-600",children:De}):null,d==="POINTAGE"?c.jsxs(_.Fragment,{children:[c.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white px-4 py-3 shadow-[0_1px_6px_rgba(0,0,0,0.04)]",children:[c.jsx("div",{className:"text-xs text-slate-500",children:"Heures aujourd'hui"}),c.jsx("div",{className:"mt-1 text-2xl font-black text-slate-900",children:Hr(ae)})]}),c.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white px-4 py-3 shadow-[0_1px_6px_rgba(0,0,0,0.04)]",children:[c.jsxs("div",{className:"flex items-center justify-between gap-2",children:[c.jsx("div",{className:"text-sm font-black text-slate-900",children:"Lieux"}),c.jsx(Oe,{type:"button",variant:"outline",size:"sm",onClick:()=>k(je=>!je),children:"Grer les lieux"})]}),P?c.jsxs("div",{className:"mt-3 space-y-3 text-sm text-slate-700",children:[c.jsx("div",{className:"flex flex-wrap gap-2",children:V.length?V.map(je=>c.jsxs("div",{className:"flex items-center gap-2 rounded-full border border-slate-200 bg-white px-3 py-1 text-xs font-semibold text-slate-700",children:[c.jsx("span",{children:je.name}),c.jsx("button",{type:"button",className:"text-slate-400 transition hover:text-slate-900",onClick:()=>le.mutate({id:je.id}),"aria-label":`Supprimer ${je.name}`,disabled:Ie,children:""})]},je.id)):c.jsx("span",{className:"text-xs text-slate-500",children:"Aucun lieu enregistr."})}),c.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[c.jsx(et,{value:$,onChange:je=>B(je.target.value),placeholder:"Nouveau lieu",className:"min-w-[160px] flex-1"}),c.jsx(Oe,{type:"button",size:"sm",onClick:jt,disabled:!$.trim()||Ie,children:"Ajouter"})]})]}):null]}),c.jsx(APe,{groups:J,onEdit:Ue,onDelete:je=>K.mutate({id:je})}),c.jsx("button",{type:"button",className:"fixed bottom-4 right-4 z-40 flex h-14 w-14 items-center justify-center rounded-full bg-red-600 text-2xl font-black text-white shadow-[0_8px_20px_rgba(220,38,38,0.25)]",onClick:Pe,"aria-label":"Ajouter un shift",children:"+"})]}):c.jsxs(_.Fragment,{children:[c.jsxs("div",{className:"rounded-2xl border border-dashed border-slate-200 bg-white px-4 py-4 shadow-[0_1px_6px_rgba(0,0,0,0.04)]",children:[c.jsx("div",{className:"text-base font-black text-slate-900",children:"Dashboard KPI"}),c.jsxs("div",{className:"mt-3 flex flex-wrap gap-2",children:[c.jsxs("div",{className:"min-w-[180px] flex-1 space-y-2",children:[c.jsx(Le,{htmlFor:"dashboard-from",children:"Du"}),c.jsx(et,{id:"dashboard-from",type:"date",value:oe,onChange:je=>pe(je.target.value)})]}),c.jsxs("div",{className:"min-w-[180px] flex-1 space-y-2",children:[c.jsx(Le,{htmlFor:"dashboard-to",children:"Au"}),c.jsx(et,{id:"dashboard-to",type:"date",value:we,onChange:je=>ee(je.target.value)})]})]}),c.jsxs("div",{className:"mt-3 text-xs text-slate-500",children:["Priode slectionne : ",Ge.format(new Date(oe))," "," ",Ge.format(new Date(we))]})]}),c.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white px-4 py-4 shadow-[0_1px_6px_rgba(0,0,0,0.04)]",children:[c.jsx("div",{className:"mb-3 text-sm font-black text-slate-900",children:"Heures par jour"}),ve.length?c.jsx("div",{className:"h-56 w-full",children:c.jsx(ru,{width:"100%",height:"100%",children:c.jsxs(xv,{data:ve,margin:{top:8,right:12,left:-10,bottom:8},children:[c.jsx(hl,{strokeDasharray:"3 3",vertical:!1}),c.jsx(ia,{dataKey:"label",tickLine:!1,axisLine:!1}),c.jsx(wo,{tickLine:!1,axisLine:!1,tickFormatter:je=>`${je}h`}),c.jsx(kr,{formatter:je=>`${je} h`,labelFormatter:je=>`Jour ${je}`}),c.jsx(hi,{dataKey:"hours",fill:"#0f172a",radius:[6,6,0,0]})]})})}):c.jsx("div",{className:"text-sm text-slate-500",children:"Aucune donne sur la priode."})]}),c.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white px-4 py-4 shadow-[0_1px_6px_rgba(0,0,0,0.04)]",children:[c.jsx("div",{className:"mb-3 text-sm font-black text-slate-900",children:"Rsum priode"}),c.jsx("div",{className:"grid gap-3 sm:grid-cols-2",children:[{label:"Total",value:Hr(qe.total),hint:"Travail + trajet"},{label:"Shifts",value:qe.count.toString(),hint:"Nombre sur la priode"},{label:"Travail",value:Hr(qe.work),hint:"Heures de travail"},{label:"Trajet",value:Hr(qe.travel),hint:"Heures de trajet"}].map(je=>c.jsxs("div",{className:"rounded-2xl border border-dashed border-slate-200 bg-white p-3 shadow-[0_1px_6px_rgba(0,0,0,0.04)]",children:[c.jsx("div",{className:"text-xs text-slate-500",children:je.label}),c.jsx("div",{className:"text-lg font-black text-slate-900",children:je.value}),c.jsx("div",{className:"text-xs text-slate-500",children:je.hint})]},je.label))})]}),c.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white px-4 py-4 shadow-[0_1px_6px_rgba(0,0,0,0.04)]",children:[c.jsx("div",{className:"mb-2 text-sm font-black text-slate-900",children:"Graphiques ( venir)"}),c.jsxs("div",{className:"text-sm text-slate-500",children:[" Bar chart : heures par jour (priode)",c.jsx("br",{})," Donut : % trajet vs travail",c.jsx("br",{})," Top lieux : heures cumules",c.jsx("br",{})," Variations : priode vs priode-1"]})]})]})]}),d==="POINTAGE"?c.jsx(jPe,{isOpen:O,isEditing:!!C,isSaving:dt,date:m,startTime:v,endTime:x,location:w,isTravel:E,durationLabel:Xe,locations:V,onClose:Lt,onSubmit:te,onDateChange:p,onStartTimeChange:y,onEndTimeChange:b,onLocationChange:N,onTravelChange:j,onCreateLocation:je=>Z.mutate({name:je}),onDeleteLocation:je=>le.mutate({id:je})}):null]})}const P6=e=>{if(!e)return"";const t=new Date(e);return Number.isNaN(t.getTime())?"":jn(t,"HH:mm")};function OPe(){const{useMemo:e,useState:t}=Cr,n=typeof window>"u"?dn.getState().role:dn(j=>j.role),r=n==="comite"||n==="admin",[i,a]=t("all"),[o,l]=t(!1),{data:d=[]}=Pt({queryKey:["timesheet-coaches"],queryFn:()=>Me.listTimesheetCoaches(),enabled:r}),f=i==="all"?void 0:Number(i),{data:m=[],error:p}=Pt({queryKey:["timesheet-shifts",f??"all"],queryFn:()=>Me.listTimesheetShifts({coachId:f}),enabled:r}),{data:v,error:y}=Pt({queryKey:["capabilities","timesheet"],queryFn:()=>Me.getCapabilities(),enabled:Sl.hasSupabase}),x=NPe(m),b=e(()=>o?m.filter(j=>j.is_travel):m,[m,o]),w=e(()=>{const j=new Map;return b.forEach(O=>{const T=O.shift_date||O.start_time.split("T")[0];j.has(T)||j.set(T,[]),j.get(T)?.push(O)}),Array.from(j.entries()).sort(([O],[T])=>O<T?1:-1)},[b]);if(!r)return typeof window>"u"?null:c.jsx(Qy,{to:"/"});const N=y?Mr(y,"Impossible de vrifier le module de pointage.").message:v?.mode==="supabase"&&!v.timesheet.available?"Pointage heures indisponible (tables manquantes ct D1).":null,E=p?Mr(p,"Impossible de charger les shifts.").message:null;return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("h1",{className:"text-3xl font-display font-bold uppercase italic text-primary",children:"Comit"}),c.jsx("div",{className:"text-sm text-muted-foreground",children:"Tableau de bord shifts"})]}),N?c.jsx(ke,{className:"border-dashed",children:c.jsx(Be,{className:"py-4 text-sm text-muted-foreground",children:N})}):null,E?c.jsx(ke,{className:"border-destructive/40",children:c.jsx(Be,{className:"py-4 text-sm text-destructive",children:E})}):null,c.jsxs(ke,{children:[c.jsx(it,{children:c.jsx(st,{children:"Filtrer par coach"})}),c.jsx(Be,{children:c.jsxs(cn,{value:i,onValueChange:a,children:[c.jsx(rn,{className:"w-full md:w-80",children:c.jsx(un,{placeholder:"Tous les coachs"})}),c.jsxs(an,{children:[c.jsx(at,{value:"all",children:"Tous les coachs"}),d.map(j=>c.jsx(at,{value:String(j.id),children:j.display_name},j.id))]})]})})]}),c.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[c.jsxs(ke,{children:[c.jsx(it,{children:c.jsx(st,{children:"Totals semaine"})}),c.jsxs(Be,{className:"space-y-1 text-sm text-muted-foreground",children:[c.jsxs("div",{children:["Travail: ",Hr(x.week.workMinutes)]}),c.jsxs("div",{children:["Trajet: ",Hr(x.week.travelMinutes)]}),c.jsxs("div",{className:"font-semibold text-foreground",children:["Total: ",Hr(x.week.totalMinutes)]}),c.jsx("div",{className:"text-xs text-muted-foreground",children:"Les shifts en cours ne sont pas comptabiliss."})]})]}),c.jsxs(ke,{children:[c.jsx(it,{children:c.jsx(st,{children:"Totals mois"})}),c.jsxs(Be,{className:"space-y-1 text-sm text-muted-foreground",children:[c.jsxs("div",{children:["Travail: ",Hr(x.month.workMinutes)]}),c.jsxs("div",{children:["Trajet: ",Hr(x.month.travelMinutes)]}),c.jsxs("div",{className:"font-semibold text-foreground",children:["Total: ",Hr(x.month.totalMinutes)]}),c.jsx("div",{className:"text-xs text-muted-foreground",children:"Les shifts en cours ne sont pas comptabiliss."})]})]})]}),c.jsxs(ke,{children:[c.jsx(it,{children:c.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[c.jsx(st,{children:"Shifts enregistrs"}),c.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[c.jsx(od,{id:"shift-travel-filter",checked:o,onCheckedChange:j=>l(j===!0)}),c.jsx(Le,{htmlFor:"shift-travel-filter",children:"Trajet uniquement"})]})]})}),c.jsx(Be,{className:"space-y-4",children:w.length===0?c.jsx("p",{className:"text-sm text-muted-foreground",children:o?"Aucun trajet disponible.":"Aucun shift disponible."}):w.map(([j,O])=>c.jsxs("div",{className:"space-y-2",children:[c.jsx("div",{className:"text-sm font-semibold text-foreground",children:j}),c.jsx("div",{className:"space-y-2",children:O.map(T=>{const C=_l(T);return c.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2 rounded-lg border border-border/60 bg-muted/30 px-3 py-2 text-sm",children:[c.jsxs("div",{className:"space-y-1",children:[c.jsxs("div",{className:"font-medium text-foreground",children:[P6(T.start_time)," "," ",T.end_time?P6(T.end_time):"En cours  non comptabilis"]}),c.jsxs("div",{className:"text-xs text-muted-foreground",children:[T.coach_name||"Coach","  ",T.location||"Lieu non prcis"," "," ",T.is_travel?"Trajet":"Travail"]})]}),c.jsx("div",{className:"text-xs text-muted-foreground",children:C!==null?Hr(C):"En cours"})]},T.id)})})]},j))})]})]})}const XO=p0,CPe=HU,RPe=g0,_W=_.forwardRef(({className:e,...t},n)=>c.jsx(xd,{className:Ae("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:n}));_W.displayName=xd.displayName;const PPe=fd("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500 data-[state=open]:animate-in data-[state=closed]:animate-out",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4 border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),fb=_.forwardRef(({side:e="right",className:t,children:n,...r},i)=>c.jsxs(RPe,{children:[c.jsx(_W,{}),c.jsxs(wd,{ref:i,className:Ae(PPe({side:e}),t),...r,children:[c.jsxs(v0,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[c.jsx(Ii,{className:"h-4 w-4"}),c.jsx("span",{className:"sr-only",children:"Close"})]}),n]})]}));fb.displayName=wd.displayName;const hb=({className:e,...t})=>c.jsx("div",{className:Ae("flex flex-col space-y-2 text-center sm:text-left",e),...t});hb.displayName="SheetHeader";const mb=_.forwardRef(({className:e,...t},n)=>c.jsx(_d,{ref:n,className:Ae("text-lg font-semibold text-foreground",e),...t}));mb.displayName=_d.displayName;const MPe=_.forwardRef(({className:e,...t},n)=>c.jsx(Sd,{ref:n,className:Ae("text-sm text-muted-foreground",e),...t}));MPe.displayName=Sd.displayName;const kPe={lessThanXSeconds:{one:"moins dune seconde",other:"moins de {{count}} secondes"},xSeconds:{one:"1 seconde",other:"{{count}} secondes"},halfAMinute:"30 secondes",lessThanXMinutes:{one:"moins dune minute",other:"moins de {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"environ 1 heure",other:"environ {{count}} heures"},xHours:{one:"1 heure",other:"{{count}} heures"},xDays:{one:"1 jour",other:"{{count}} jours"},aboutXWeeks:{one:"environ 1 semaine",other:"environ {{count}} semaines"},xWeeks:{one:"1 semaine",other:"{{count}} semaines"},aboutXMonths:{one:"environ 1 mois",other:"environ {{count}} mois"},xMonths:{one:"1 mois",other:"{{count}} mois"},aboutXYears:{one:"environ 1 an",other:"environ {{count}} ans"},xYears:{one:"1 an",other:"{{count}} ans"},overXYears:{one:"plus dun an",other:"plus de {{count}} ans"},almostXYears:{one:"presquun an",other:"presque {{count}} ans"}},DPe=(e,t,n)=>{let r;const i=kPe[e];return typeof i=="string"?r=i:t===1?r=i.one:r=i.other.replace("{{count}}",String(t)),n?.addSuffix?n.comparison&&n.comparison>0?"dans "+r:"il y a "+r:r},IPe={full:"EEEE d MMMM y",long:"d MMMM y",medium:"d MMM y",short:"dd/MM/y"},$Pe={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},LPe={full:"{{date}} '' {{time}}",long:"{{date}} '' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},BPe={date:Tu({formats:IPe,defaultWidth:"full"}),time:Tu({formats:$Pe,defaultWidth:"full"}),dateTime:Tu({formats:LPe,defaultWidth:"full"})},qPe={lastWeek:"eeee 'dernier ' p",yesterday:"'hier ' p",today:"'aujourdhui ' p",tomorrow:"'demain ' p'",nextWeek:"eeee 'prochain ' p",other:"P"},zPe=(e,t,n,r)=>qPe[e],FPe={narrow:["av. J.-C","ap. J.-C"],abbreviated:["av. J.-C","ap. J.-C"],wide:["avant Jsus-Christ","aprs Jsus-Christ"]},UPe={narrow:["T1","T2","T3","T4"],abbreviated:["1er trim.","2me trim.","3me trim.","4me trim."],wide:["1er trimestre","2me trimestre","3me trimestre","4me trimestre"]},VPe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["janv.","fvr.","mars","avr.","mai","juin","juil.","aot","sept.","oct.","nov.","dc."],wide:["janvier","fvrier","mars","avril","mai","juin","juillet","aot","septembre","octobre","novembre","dcembre"]},HPe={narrow:["D","L","M","M","J","V","S"],short:["di","lu","ma","me","je","ve","sa"],abbreviated:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],wide:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"]},GPe={narrow:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"mat.",afternoon:"ap.m.",evening:"soir",night:"mat."},abbreviated:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"matin",afternoon:"aprs-midi",evening:"soir",night:"matin"},wide:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"du matin",afternoon:"de laprs-midi",evening:"du soir",night:"du matin"}},KPe=(e,t)=>{const n=Number(e),r=t?.unit;if(n===0)return"0";const i=["year","week","hour","minute","second"];let a;return n===1?a=r&&i.includes(r)?"re":"er":a="me",n+a},WPe=["MMM","MMMM"],YPe={preprocessor:(e,t)=>e.getDate()===1||!t.some(r=>r.isToken&&WPe.includes(r.value))?t:t.map(r=>r.isToken&&r.value==="do"?{isToken:!0,value:"d"}:r),ordinalNumber:KPe,era:ya({values:FPe,defaultWidth:"wide"}),quarter:ya({values:UPe,defaultWidth:"wide",argumentCallback:e=>e-1}),month:ya({values:VPe,defaultWidth:"wide"}),day:ya({values:HPe,defaultWidth:"wide"}),dayPeriod:ya({values:GPe,defaultWidth:"wide"})},XPe=/^(\d+)(ime|re|me|er|e)?/i,QPe=/\d+/i,JPe={narrow:/^(av\.J\.C|ap\.J\.C|ap\.J\.-C)/i,abbreviated:/^(av\.J\.-C|av\.J-C|apr\.J\.-C|apr\.J-C|ap\.J-C)/i,wide:/^(avant Jsus-Christ|aprs Jsus-Christ)/i},ZPe={any:[/^av/i,/^ap/i]},eMe={narrow:/^T?[1234]/i,abbreviated:/^[1234](er|me|e)? trim\.?/i,wide:/^[1234](er|me|e)? trimestre/i},tMe={any:[/1/i,/2/i,/3/i,/4/i]},nMe={narrow:/^[jfmasond]/i,abbreviated:/^(janv|fvr|mars|avr|mai|juin|juill|juil|aot|sept|oct|nov|dc)\.?/i,wide:/^(janvier|fvrier|mars|avril|mai|juin|juillet|aot|septembre|octobre|novembre|dcembre)/i},rMe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^av/i,/^ma/i,/^juin/i,/^juil/i,/^ao/i,/^s/i,/^o/i,/^n/i,/^d/i]},iMe={narrow:/^[lmjvsd]/i,short:/^(di|lu|ma|me|je|ve|sa)/i,abbreviated:/^(dim|lun|mar|mer|jeu|ven|sam)\.?/i,wide:/^(dimanche|lundi|mardi|mercredi|jeudi|vendredi|samedi)/i},aMe={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^di/i,/^lu/i,/^ma/i,/^me/i,/^je/i,/^ve/i,/^sa/i]},sMe={narrow:/^(a|p|minuit|midi|mat\.?|ap\.?m\.?|soir|nuit)/i,any:/^([ap]\.?\s?m\.?|du matin|de l'aprs[-\s]midi|du soir|de la nuit)/i},oMe={any:{am:/^a/i,pm:/^p/i,midnight:/^min/i,noon:/^mid/i,morning:/mat/i,afternoon:/ap/i,evening:/soir/i,night:/nuit/i}},lMe={ordinalNumber:KG({matchPattern:XPe,parsePattern:QPe,valueCallback:e=>parseInt(e)}),era:ba({matchPatterns:JPe,defaultMatchWidth:"wide",parsePatterns:ZPe,defaultParseWidth:"any"}),quarter:ba({matchPatterns:eMe,defaultMatchWidth:"wide",parsePatterns:tMe,defaultParseWidth:"any",valueCallback:e=>e+1}),month:ba({matchPatterns:nMe,defaultMatchWidth:"wide",parsePatterns:rMe,defaultParseWidth:"any"}),day:ba({matchPatterns:iMe,defaultMatchWidth:"wide",parsePatterns:aMe,defaultParseWidth:"any"}),dayPeriod:ba({matchPatterns:sMe,defaultMatchWidth:"any",parsePatterns:oMe,defaultParseWidth:"any"})},fo={code:"fr",formatDistance:DPe,formatLong:BPe,formatRelative:zPe,localize:YPe,match:lMe,options:{weekStartsOn:1,firstWeekContainsDate:4}};function cMe(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}const SW=q.createContext({drawerRef:{current:null},overlayRef:{current:null},onPress:()=>{},onRelease:()=>{},onDrag:()=>{},onNestedDrag:()=>{},onNestedOpenChange:()=>{},onNestedRelease:()=>{},openProp:void 0,dismissible:!1,isOpen:!1,isDragging:!1,keyboardIsOpen:{current:!1},snapPointsOffset:null,snapPoints:null,handleOnly:!1,modal:!1,shouldFade:!1,activeSnapPoint:null,onOpenChange:()=>{},setActiveSnapPoint:()=>{},closeDrawer:()=>{},direction:"bottom",shouldAnimate:{current:!0},shouldScaleBackground:!1,setBackgroundColorOnScale:!0,noBodyStyles:!1,container:null,autoFocus:!1}),ap=()=>{const e=q.useContext(SW);if(!e)throw new Error("useDrawerContext must be used within a Drawer.Root");return e};cMe(`[data-vaul-drawer]{touch-action:none;will-change:transform;transition:transform .5s cubic-bezier(.32, .72, 0, 1);animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=open]{animation-name:slideFromBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=closed]{animation-name:slideToBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=open]{animation-name:slideFromTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=closed]{animation-name:slideToTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=open]{animation-name:slideFromLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=closed]{animation-name:slideToLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=open]{animation-name:slideFromRight}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=closed]{animation-name:slideToRight}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--initial-transform,100%),0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--initial-transform,100%),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-overlay][data-vaul-snap-points=false]{animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-overlay][data-vaul-snap-points=false][data-state=open]{animation-name:fadeIn}[data-vaul-overlay][data-state=closed]{animation-name:fadeOut}[data-vaul-animate=false]{animation:none!important}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:0;transition:opacity .5s cubic-bezier(.32, .72, 0, 1)}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:1}[data-vaul-drawer]:not([data-vaul-custom-container=true])::after{content:'';position:absolute;background:inherit;background-color:inherit}[data-vaul-drawer][data-vaul-drawer-direction=top]::after{top:initial;bottom:100%;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=bottom]::after{top:100%;bottom:initial;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=left]::after{left:initial;right:100%;top:0;bottom:0;width:200%}[data-vaul-drawer][data-vaul-drawer-direction=right]::after{left:100%;right:initial;top:0;bottom:0;width:200%}[data-vaul-overlay][data-vaul-snap-points=true]:not([data-vaul-snap-points-overlay=true]):not(
[data-state=closed]
){opacity:0}[data-vaul-overlay][data-vaul-snap-points-overlay=true]{opacity:1}[data-vaul-handle]{display:block;position:relative;opacity:.7;background:#e2e2e4;margin-left:auto;margin-right:auto;height:5px;width:32px;border-radius:1rem;touch-action:pan-y}[data-vaul-handle]:active,[data-vaul-handle]:hover{opacity:1}[data-vaul-handle-hitarea]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:max(100%,2.75rem);height:max(100%,2.75rem);touch-action:inherit}@media (hover:hover) and (pointer:fine){[data-vaul-drawer]{user-select:none}}@media (pointer:fine){[data-vaul-handle-hitarea]:{width:100%;height:100%}}@keyframes fadeIn{from{opacity:0}to{opacity:1}}@keyframes fadeOut{to{opacity:0}}@keyframes slideFromBottom{from{transform:translate3d(0,var(--initial-transform,100%),0)}to{transform:translate3d(0,0,0)}}@keyframes slideToBottom{to{transform:translate3d(0,var(--initial-transform,100%),0)}}@keyframes slideFromTop{from{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}to{transform:translate3d(0,0,0)}}@keyframes slideToTop{to{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}}@keyframes slideFromLeft{from{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToLeft{to{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}}@keyframes slideFromRight{from{transform:translate3d(var(--initial-transform,100%),0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToRight{to{transform:translate3d(var(--initial-transform,100%),0,0)}}`);function uMe(){const e=navigator.userAgent;return typeof window<"u"&&(/Firefox/.test(e)&&/Mobile/.test(e)||/FxiOS/.test(e))}function dMe(){return QO(/^Mac/)}function fMe(){return QO(/^iPhone/)}function M6(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}function hMe(){return QO(/^iPad/)||dMe()&&navigator.maxTouchPoints>1}function jW(){return fMe()||hMe()}function QO(e){return typeof window<"u"&&window.navigator!=null?e.test(window.navigator.platform):void 0}const mMe=24,pMe=typeof window<"u"?_.useLayoutEffect:_.useEffect;function k6(...e){return(...t)=>{for(let n of e)typeof n=="function"&&n(...t)}}const Mj=typeof document<"u"&&window.visualViewport;function D6(e){let t=window.getComputedStyle(e);return/(auto|scroll)/.test(t.overflow+t.overflowX+t.overflowY)}function NW(e){for(D6(e)&&(e=e.parentElement);e&&!D6(e);)e=e.parentElement;return e||document.scrollingElement||document.documentElement}const gMe=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);let av=0,kj;function vMe(e={}){let{isDisabled:t}=e;pMe(()=>{if(!t)return av++,av===1&&jW()&&(kj=yMe()),()=>{av--,av===0&&kj?.()}},[t])}function yMe(){let e,t=0,n=p=>{e=NW(p.target),!(e===document.documentElement&&e===document.body)&&(t=p.changedTouches[0].pageY)},r=p=>{if(!e||e===document.documentElement||e===document.body){p.preventDefault();return}let v=p.changedTouches[0].pageY,y=e.scrollTop,x=e.scrollHeight-e.clientHeight;x!==0&&((y<=0&&v>t||y>=x&&v<t)&&p.preventDefault(),t=v)},i=p=>{let v=p.target;vA(v)&&v!==document.activeElement&&(p.preventDefault(),v.style.transform="translateY(-2000px)",v.focus(),requestAnimationFrame(()=>{v.style.transform=""}))},a=p=>{let v=p.target;vA(v)&&(v.style.transform="translateY(-2000px)",requestAnimationFrame(()=>{v.style.transform="",Mj&&(Mj.height<window.innerHeight?requestAnimationFrame(()=>{I6(v)}):Mj.addEventListener("resize",()=>I6(v),{once:!0}))}))},o=()=>{window.scrollTo(0,0)},l=window.pageXOffset,d=window.pageYOffset,f=k6(bMe(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`));window.scrollTo(0,0);let m=k6(Gf(document,"touchstart",n,{passive:!1,capture:!0}),Gf(document,"touchmove",r,{passive:!1,capture:!0}),Gf(document,"touchend",i,{passive:!1,capture:!0}),Gf(document,"focus",a,!0),Gf(window,"scroll",o));return()=>{f(),m(),window.scrollTo(l,d)}}function bMe(e,t,n){let r=e.style[t];return e.style[t]=n,()=>{e.style[t]=r}}function Gf(e,t,n,r){return e.addEventListener(t,n,r),()=>{e.removeEventListener(t,n,r)}}function I6(e){let t=document.scrollingElement||document.documentElement;for(;e&&e!==t;){let n=NW(e);if(n!==document.documentElement&&n!==document.body&&n!==e){let r=n.getBoundingClientRect().top,i=e.getBoundingClientRect().top,a=e.getBoundingClientRect().bottom;const o=n.getBoundingClientRect().bottom+mMe;a>o&&(n.scrollTop+=i-r)}e=n.parentElement}}function vA(e){return e instanceof HTMLInputElement&&!gMe.has(e.type)||e instanceof HTMLTextAreaElement||e instanceof HTMLElement&&e.isContentEditable}function xMe(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function wMe(...e){return t=>e.forEach(n=>xMe(n,t))}function EW(...e){return _.useCallback(wMe(...e),e)}const AW=new WeakMap;function Zn(e,t,n=!1){if(!e||!(e instanceof HTMLElement))return;let r={};Object.entries(t).forEach(([i,a])=>{if(i.startsWith("--")){e.style.setProperty(i,a);return}r[i]=e.style[i],e.style[i]=a}),!n&&AW.set(e,r)}function _Me(e,t){if(!e||!(e instanceof HTMLElement))return;let n=AW.get(e);n&&(e.style[t]=n[t])}const Hn=e=>{switch(e){case"top":case"bottom":return!0;case"left":case"right":return!1;default:return e}};function sv(e,t){if(!e)return null;const n=window.getComputedStyle(e),r=n.transform||n.webkitTransform||n.mozTransform;let i=r.match(/^matrix3d\((.+)\)$/);return i?parseFloat(i[1].split(", ")[Hn(t)?13:12]):(i=r.match(/^matrix\((.+)\)$/),i?parseFloat(i[1].split(", ")[Hn(t)?5:4]):null)}function SMe(e){return 8*(Math.log(e+1)-2)}function Dj(e,t){if(!e)return()=>{};const n=e.style.cssText;return Object.assign(e.style,t),()=>{e.style.cssText=n}}function jMe(...e){return(...t)=>{for(const n of e)typeof n=="function"&&n(...t)}}const Sn={DURATION:.5,EASE:[.32,.72,0,1]},TW=.4,NMe=.25,EMe=100,OW=8,il=16,yA=26,Ij="vaul-dragging";function CW(e){const t=q.useRef(e);return q.useEffect(()=>{t.current=e}),q.useMemo(()=>(...n)=>t.current==null?void 0:t.current.call(t,...n),[])}function AMe({defaultProp:e,onChange:t}){const n=q.useState(e),[r]=n,i=q.useRef(r),a=CW(t);return q.useEffect(()=>{i.current!==r&&(a(r),i.current=r)},[r,i,a]),n}function RW({prop:e,defaultProp:t,onChange:n=()=>{}}){const[r,i]=AMe({defaultProp:t,onChange:n}),a=e!==void 0,o=a?e:r,l=CW(n),d=q.useCallback(f=>{if(a){const p=typeof f=="function"?f(e):f;p!==e&&l(p)}else i(f)},[a,e,i,l]);return[o,d]}function TMe({activeSnapPointProp:e,setActiveSnapPointProp:t,snapPoints:n,drawerRef:r,overlayRef:i,fadeFromIndex:a,onSnapPointChange:o,direction:l="bottom",container:d,snapToSequentialPoint:f}){const[m,p]=RW({prop:e,defaultProp:n?.[0],onChange:t}),[v,y]=q.useState(typeof window<"u"?{innerWidth:window.innerWidth,innerHeight:window.innerHeight}:void 0);q.useEffect(()=>{function R(){y({innerWidth:window.innerWidth,innerHeight:window.innerHeight})}return window.addEventListener("resize",R),()=>window.removeEventListener("resize",R)},[]);const x=q.useMemo(()=>m===n?.[n.length-1]||null,[n,m]),b=q.useMemo(()=>{var R;return(R=n?.findIndex(P=>P===m))!=null?R:null},[n,m]),w=n&&n.length>0&&(a||a===0)&&!Number.isNaN(a)&&n[a]===m||!n,N=q.useMemo(()=>{const R=d?{width:d.getBoundingClientRect().width,height:d.getBoundingClientRect().height}:typeof window<"u"?{width:window.innerWidth,height:window.innerHeight}:{width:0,height:0};var P;return(P=n?.map(k=>{const $=typeof k=="string";let B=0;if($&&(B=parseInt(k,10)),Hn(l)){const F=$?B:v?k*R.height:0;return v?l==="bottom"?R.height-F:-R.height+F:F}const I=$?B:v?k*R.width:0;return v?l==="right"?R.width-I:-R.width+I:I}))!=null?P:[]},[n,v,d]),E=q.useMemo(()=>b!==null?N?.[b]:null,[N,b]),j=q.useCallback(R=>{var P;const k=(P=N?.findIndex($=>$===R))!=null?P:null;o(k),Zn(r.current,{transition:`transform ${Sn.DURATION}s cubic-bezier(${Sn.EASE.join(",")})`,transform:Hn(l)?`translate3d(0, ${R}px, 0)`:`translate3d(${R}px, 0, 0)`}),N&&k!==N.length-1&&a!==void 0&&k!==a&&k<a?Zn(i.current,{transition:`opacity ${Sn.DURATION}s cubic-bezier(${Sn.EASE.join(",")})`,opacity:"0"}):Zn(i.current,{transition:`opacity ${Sn.DURATION}s cubic-bezier(${Sn.EASE.join(",")})`,opacity:"1"}),p(n?.[Math.max(k,0)])},[r.current,n,N,a,i,p]);q.useEffect(()=>{if(m||e){var R;const P=(R=n?.findIndex(k=>k===e||k===m))!=null?R:-1;N&&P!==-1&&typeof N[P]=="number"&&j(N[P])}},[m,e,n,N,j]);function O({draggedDistance:R,closeDrawer:P,velocity:k,dismissible:$}){if(a===void 0)return;const B=l==="bottom"||l==="right"?(E??0)-R:(E??0)+R,I=b===a-1,F=b===0,V=R>0;if(I&&Zn(i.current,{transition:`opacity ${Sn.DURATION}s cubic-bezier(${Sn.EASE.join(",")})`}),!f&&k>2&&!V){$?P():j(N[0]);return}if(!f&&k>2&&V&&N&&n){j(N[n.length-1]);return}const U=N?.reduce((G,z)=>typeof G!="number"||typeof z!="number"?G:Math.abs(z-B)<Math.abs(G-B)?z:G),D=Hn(l)?window.innerHeight:window.innerWidth;if(k>TW&&Math.abs(R)<D*.4){const G=V?1:-1;if(G>0&&x&&n){j(N[n.length-1]);return}if(F&&G<0&&$&&P(),b===null)return;j(N[b+G]);return}j(U)}function T({draggedDistance:R}){if(E===null)return;const P=l==="bottom"||l==="right"?E-R:E+R;(l==="bottom"||l==="right")&&P<N[N.length-1]||(l==="top"||l==="left")&&P>N[N.length-1]||Zn(r.current,{transform:Hn(l)?`translate3d(0, ${P}px, 0)`:`translate3d(${P}px, 0, 0)`})}function C(R,P){if(!n||typeof b!="number"||!N||a===void 0)return null;const k=b===a-1;if(b>=a&&P)return 0;if(k&&!P)return 1;if(!w&&!k)return null;const B=k?b+1:b-1,I=k?N[B]-N[B-1]:N[B+1]-N[B],F=R/Math.abs(I);return k?1-F:F}return{isLastSnapPoint:x,activeSnapPoint:m,shouldFade:w,getPercentageDragged:C,setActiveSnapPoint:p,activeSnapPointIndex:b,onRelease:O,onDrag:T,snapPointsOffset:N}}const OMe=()=>()=>{};function CMe(){const{direction:e,isOpen:t,shouldScaleBackground:n,setBackgroundColorOnScale:r,noBodyStyles:i}=ap(),a=q.useRef(null),o=_.useMemo(()=>document.body.style.backgroundColor,[]);function l(){return(window.innerWidth-yA)/window.innerWidth}q.useEffect(()=>{if(t&&n){a.current&&clearTimeout(a.current);const d=document.querySelector("[data-vaul-drawer-wrapper]")||document.querySelector("[vaul-drawer-wrapper]");if(!d)return;jMe(r&&!i?Dj(document.body,{background:"black"}):OMe,Dj(d,{transformOrigin:Hn(e)?"top":"left",transitionProperty:"transform, border-radius",transitionDuration:`${Sn.DURATION}s`,transitionTimingFunction:`cubic-bezier(${Sn.EASE.join(",")})`}));const f=Dj(d,{borderRadius:`${OW}px`,overflow:"hidden",...Hn(e)?{transform:`scale(${l()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`}:{transform:`scale(${l()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`}});return()=>{f(),a.current=window.setTimeout(()=>{o?document.body.style.background=o:document.body.style.removeProperty("background")},Sn.DURATION*1e3)}}},[t,n,o])}let Kf=null;function RMe({isOpen:e,modal:t,nested:n,hasBeenOpened:r,preventScrollRestoration:i,noBodyStyles:a}){const[o,l]=q.useState(()=>typeof window<"u"?window.location.href:""),d=q.useRef(0),f=q.useCallback(()=>{if(M6()&&Kf===null&&e&&!a){Kf={position:document.body.style.position,top:document.body.style.top,left:document.body.style.left,height:document.body.style.height,right:"unset"};const{scrollX:p,innerHeight:v}=window;document.body.style.setProperty("position","fixed","important"),Object.assign(document.body.style,{top:`${-d.current}px`,left:`${-p}px`,right:"0px",height:"auto"}),window.setTimeout(()=>window.requestAnimationFrame(()=>{const y=v-window.innerHeight;y&&d.current>=v&&(document.body.style.top=`${-(d.current+y)}px`)}),300)}},[e]),m=q.useCallback(()=>{if(M6()&&Kf!==null&&!a){const p=-parseInt(document.body.style.top,10),v=-parseInt(document.body.style.left,10);Object.assign(document.body.style,Kf),window.requestAnimationFrame(()=>{if(i&&o!==window.location.href){l(window.location.href);return}window.scrollTo(v,p)}),Kf=null}},[o]);return q.useEffect(()=>{function p(){d.current=window.scrollY}return p(),window.addEventListener("scroll",p),()=>{window.removeEventListener("scroll",p)}},[]),q.useEffect(()=>{if(t)return()=>{typeof document>"u"||document.querySelector("[data-vaul-drawer]")||m()}},[t,m]),q.useEffect(()=>{n||!r||(e?(!window.matchMedia("(display-mode: standalone)").matches&&f(),t||window.setTimeout(()=>{m()},500)):m())},[e,r,o,t,n,f,m]),{restorePositionSetting:m}}function PMe({open:e,onOpenChange:t,children:n,onDrag:r,onRelease:i,snapPoints:a,shouldScaleBackground:o=!1,setBackgroundColorOnScale:l=!0,closeThreshold:d=NMe,scrollLockTimeout:f=EMe,dismissible:m=!0,handleOnly:p=!1,fadeFromIndex:v=a&&a.length-1,activeSnapPoint:y,setActiveSnapPoint:x,fixed:b,modal:w=!0,onClose:N,nested:E,noBodyStyles:j=!1,direction:O="bottom",defaultOpen:T=!1,disablePreventScroll:C=!0,snapToSequentialPoint:R=!1,preventScrollRestoration:P=!1,repositionInputs:k=!0,onAnimationEnd:$,container:B,autoFocus:I=!1}){var F,V;const[U=!1,D]=RW({defaultProp:T,prop:e,onChange:$e=>{t?.($e),!$e&&!E&&je(),setTimeout(()=>{$?.($e)},Sn.DURATION*1e3),$e&&!w&&typeof window<"u"&&window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"}),$e||(document.body.style.pointerEvents="auto")}}),[G,z]=q.useState(!1),[Y,de]=q.useState(!1),[H,K]=q.useState(!1),Z=q.useRef(null),le=q.useRef(null),be=q.useRef(null),ae=q.useRef(null),J=q.useRef(null),me=q.useRef(!1),oe=q.useRef(null),pe=q.useRef(0),we=q.useRef(!1),ee=q.useRef(!T),qe=q.useRef(0),ve=q.useRef(null),Ge=q.useRef(((F=ve.current)==null?void 0:F.getBoundingClientRect().height)||0),ne=q.useRef(((V=ve.current)==null?void 0:V.getBoundingClientRect().width)||0),ie=q.useRef(0),De=q.useCallback($e=>{a&&$e===Pe.length-1&&(le.current=new Date)},[]),{activeSnapPoint:dt,activeSnapPointIndex:Ie,setActiveSnapPoint:Xe,onRelease:te,snapPointsOffset:Pe,onDrag:Ue,shouldFade:Lt,getPercentageDragged:jt}=TMe({snapPoints:a,activeSnapPointProp:y,setActiveSnapPointProp:x,drawerRef:ve,fadeFromIndex:v,overlayRef:Z,onSnapPointChange:De,direction:O,container:B,snapToSequentialPoint:R});vMe({isDisabled:!U||Y||!w||H||!G||!k||!C});const{restorePositionSetting:je}=RMe({isOpen:U,modal:w,nested:E??!1,hasBeenOpened:G,preventScrollRestoration:P,noBodyStyles:j});function Qe(){return(window.innerWidth-yA)/window.innerWidth}function yt($e){var ut,ot;!m&&!a||ve.current&&!ve.current.contains($e.target)||(Ge.current=((ut=ve.current)==null?void 0:ut.getBoundingClientRect().height)||0,ne.current=((ot=ve.current)==null?void 0:ot.getBoundingClientRect().width)||0,de(!0),be.current=new Date,jW()&&window.addEventListener("touchend",()=>me.current=!1,{once:!0}),$e.target.setPointerCapture($e.pointerId),pe.current=Hn(O)?$e.pageY:$e.pageX)}function wt($e,ut){var ot;let Fe=$e;const he=(ot=window.getSelection())==null?void 0:ot.toString(),ze=ve.current?sv(ve.current,O):null,Ct=new Date;if(Fe.tagName==="SELECT"||Fe.hasAttribute("data-vaul-no-drag")||Fe.closest("[data-vaul-no-drag]"))return!1;if(O==="right"||O==="left")return!0;if(le.current&&Ct.getTime()-le.current.getTime()<500)return!1;if(ze!==null&&(O==="bottom"?ze>0:ze<0))return!0;if(he&&he.length>0)return!1;if(J.current&&Ct.getTime()-J.current.getTime()<f&&ze===0||ut)return J.current=Ct,!1;for(;Fe;){if(Fe.scrollHeight>Fe.clientHeight){if(Fe.scrollTop!==0)return J.current=new Date,!1;if(Fe.getAttribute("role")==="dialog")return!0}Fe=Fe.parentNode}return!0}function qt($e){if(ve.current&&Y){const ut=O==="bottom"||O==="right"?1:-1,ot=(pe.current-(Hn(O)?$e.pageY:$e.pageX))*ut,Fe=ot>0,he=a&&!m&&!Fe;if(he&&Ie===0)return;const ze=Math.abs(ot),Ct=document.querySelector("[data-vaul-drawer-wrapper]"),lt=O==="bottom"||O==="top"?Ge.current:ne.current;let bn=ze/lt;const Pn=jt(ze,Fe);if(Pn!==null&&(bn=Pn),he&&bn>=1||!me.current&&!wt($e.target,Fe))return;if(ve.current.classList.add(Ij),me.current=!0,Zn(ve.current,{transition:"none"}),Zn(Z.current,{transition:"none"}),a&&Ue({draggedDistance:ot}),Fe&&!a){const ur=SMe(ot),Fi=Math.min(ur*-1,0)*ut;Zn(ve.current,{transform:Hn(O)?`translate3d(0, ${Fi}px, 0)`:`translate3d(${Fi}px, 0, 0)`});return}const Ln=1-bn;if((Lt||v&&Ie===v-1)&&(r?.($e,bn),Zn(Z.current,{opacity:`${Ln}`,transition:"none"},!0)),Ct&&Z.current&&o){const ur=Math.min(Qe()+bn*(1-Qe()),1),Fi=8-bn*8,Do=Math.max(0,14-bn*14);Zn(Ct,{borderRadius:`${Fi}px`,transform:Hn(O)?`scale(${ur}) translate3d(0, ${Do}px, 0)`:`scale(${ur}) translate3d(${Do}px, 0, 0)`,transition:"none"},!0)}if(!a){const ur=ze*ut;Zn(ve.current,{transform:Hn(O)?`translate3d(0, ${ur}px, 0)`:`translate3d(${ur}px, 0, 0)`})}}}q.useEffect(()=>{window.requestAnimationFrame(()=>{ee.current=!0})},[]),q.useEffect(()=>{var $e;function ut(){if(!ve.current||!k)return;const ot=document.activeElement;if(vA(ot)||we.current){var Fe;const he=((Fe=window.visualViewport)==null?void 0:Fe.height)||0,ze=window.innerHeight;let Ct=ze-he;const lt=ve.current.getBoundingClientRect().height||0,bn=lt>ze*.8;ie.current||(ie.current=lt);const Pn=ve.current.getBoundingClientRect().top;if(Math.abs(qe.current-Ct)>60&&(we.current=!we.current),a&&a.length>0&&Pe&&Ie){const Ln=Pe[Ie]||0;Ct+=Ln}if(qe.current=Ct,lt>he||we.current){const Ln=ve.current.getBoundingClientRect().height;let ur=Ln;Ln>he&&(ur=he-(bn?Pn:yA)),b?ve.current.style.height=`${Ln-Math.max(Ct,0)}px`:ve.current.style.height=`${Math.max(ur,he-Pn)}px`}else uMe()||(ve.current.style.height=`${ie.current}px`);a&&a.length>0&&!we.current?ve.current.style.bottom="0px":ve.current.style.bottom=`${Math.max(Ct,0)}px`}}return($e=window.visualViewport)==null||$e.addEventListener("resize",ut),()=>{var ot;return(ot=window.visualViewport)==null?void 0:ot.removeEventListener("resize",ut)}},[Ie,a,Pe]);function ir($e){X(),N?.(),$e||D(!1),setTimeout(()=>{a&&Xe(a[0])},Sn.DURATION*1e3)}function se(){if(!ve.current)return;const $e=document.querySelector("[data-vaul-drawer-wrapper]"),ut=sv(ve.current,O);Zn(ve.current,{transform:"translate3d(0, 0, 0)",transition:`transform ${Sn.DURATION}s cubic-bezier(${Sn.EASE.join(",")})`}),Zn(Z.current,{transition:`opacity ${Sn.DURATION}s cubic-bezier(${Sn.EASE.join(",")})`,opacity:"1"}),o&&ut&&ut>0&&U&&Zn($e,{borderRadius:`${OW}px`,overflow:"hidden",...Hn(O)?{transform:`scale(${Qe()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`,transformOrigin:"top"}:{transform:`scale(${Qe()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`,transformOrigin:"left"},transitionProperty:"transform, border-radius",transitionDuration:`${Sn.DURATION}s`,transitionTimingFunction:`cubic-bezier(${Sn.EASE.join(",")})`},!0)}function X(){!Y||!ve.current||(ve.current.classList.remove(Ij),me.current=!1,de(!1),ae.current=new Date)}function _e($e){if(!Y||!ve.current)return;ve.current.classList.remove(Ij),me.current=!1,de(!1),ae.current=new Date;const ut=sv(ve.current,O);if(!$e||!wt($e.target,!1)||!ut||Number.isNaN(ut)||be.current===null)return;const ot=ae.current.getTime()-be.current.getTime(),Fe=pe.current-(Hn(O)?$e.pageY:$e.pageX),he=Math.abs(Fe)/ot;if(he>.05&&(K(!0),setTimeout(()=>{K(!1)},200)),a){te({draggedDistance:Fe*(O==="bottom"||O==="right"?1:-1),closeDrawer:ir,velocity:he,dismissible:m}),i?.($e,!0);return}if(O==="bottom"||O==="right"?Fe>0:Fe<0){se(),i?.($e,!0);return}if(he>TW){ir(),i?.($e,!1);return}var ze;const Ct=Math.min((ze=ve.current.getBoundingClientRect().height)!=null?ze:0,window.innerHeight);var lt;const bn=Math.min((lt=ve.current.getBoundingClientRect().width)!=null?lt:0,window.innerWidth),Pn=O==="left"||O==="right";if(Math.abs(ut)>=(Pn?bn:Ct)*d){ir(),i?.($e,!1);return}i?.($e,!0),se()}q.useEffect(()=>(U&&(Zn(document.documentElement,{scrollBehavior:"auto"}),le.current=new Date),()=>{_Me(document.documentElement,"scrollBehavior")}),[U]);function Ee($e){const ut=$e?(window.innerWidth-il)/window.innerWidth:1,ot=$e?-il:0;oe.current&&window.clearTimeout(oe.current),Zn(ve.current,{transition:`transform ${Sn.DURATION}s cubic-bezier(${Sn.EASE.join(",")})`,transform:Hn(O)?`scale(${ut}) translate3d(0, ${ot}px, 0)`:`scale(${ut}) translate3d(${ot}px, 0, 0)`}),!$e&&ve.current&&(oe.current=setTimeout(()=>{const Fe=sv(ve.current,O);Zn(ve.current,{transition:"none",transform:Hn(O)?`translate3d(0, ${Fe}px, 0)`:`translate3d(${Fe}px, 0, 0)`})},500))}function nt($e,ut){if(ut<0)return;const ot=(window.innerWidth-il)/window.innerWidth,Fe=ot+ut*(1-ot),he=-il+ut*il;Zn(ve.current,{transform:Hn(O)?`scale(${Fe}) translate3d(0, ${he}px, 0)`:`scale(${Fe}) translate3d(${he}px, 0, 0)`,transition:"none"})}function ft($e,ut){const ot=Hn(O)?window.innerHeight:window.innerWidth,Fe=ut?(ot-il)/ot:1,he=ut?-il:0;ut&&Zn(ve.current,{transition:`transform ${Sn.DURATION}s cubic-bezier(${Sn.EASE.join(",")})`,transform:Hn(O)?`scale(${Fe}) translate3d(0, ${he}px, 0)`:`scale(${Fe}) translate3d(${he}px, 0, 0)`})}return q.useEffect(()=>{w||window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"})},[w]),q.createElement(p0,{defaultOpen:T,onOpenChange:$e=>{!m&&!$e||($e?z(!0):ir(!0),D($e))},open:U},q.createElement(SW.Provider,{value:{activeSnapPoint:dt,snapPoints:a,setActiveSnapPoint:Xe,drawerRef:ve,overlayRef:Z,onOpenChange:t,onPress:yt,onRelease:_e,onDrag:qt,dismissible:m,shouldAnimate:ee,handleOnly:p,isOpen:U,isDragging:Y,shouldFade:Lt,closeDrawer:ir,onNestedDrag:nt,onNestedOpenChange:Ee,onNestedRelease:ft,keyboardIsOpen:we,modal:w,snapPointsOffset:Pe,activeSnapPointIndex:Ie,direction:O,shouldScaleBackground:o,setBackgroundColorOnScale:l,noBodyStyles:j,container:B,autoFocus:I}},n))}const PW=q.forwardRef(function({...e},t){const{overlayRef:n,snapPoints:r,onRelease:i,shouldFade:a,isOpen:o,modal:l,shouldAnimate:d}=ap(),f=EW(t,n),m=r&&r.length>0;if(!l)return null;const p=q.useCallback(v=>i(v),[i]);return q.createElement(xd,{onMouseUp:p,ref:f,"data-vaul-overlay":"","data-vaul-snap-points":o&&m?"true":"false","data-vaul-snap-points-overlay":o&&a?"true":"false","data-vaul-animate":d?.current?"true":"false",...e})});PW.displayName="Drawer.Overlay";const MW=q.forwardRef(function({onPointerDownOutside:e,style:t,onOpenAutoFocus:n,...r},i){const{drawerRef:a,onPress:o,onRelease:l,onDrag:d,keyboardIsOpen:f,snapPointsOffset:m,activeSnapPointIndex:p,modal:v,isOpen:y,direction:x,snapPoints:b,container:w,handleOnly:N,shouldAnimate:E,autoFocus:j}=ap(),[O,T]=q.useState(!1),C=EW(i,a),R=q.useRef(null),P=q.useRef(null),k=q.useRef(!1),$=b&&b.length>0;CMe();const B=(F,V,U=0)=>{if(k.current)return!0;const D=Math.abs(F.y),G=Math.abs(F.x),z=G>D,Y=["bottom","right"].includes(V)?1:-1;if(V==="left"||V==="right"){if(!(F.x*Y<0)&&G>=0&&G<=U)return z}else if(!(F.y*Y<0)&&D>=0&&D<=U)return!z;return k.current=!0,!0};q.useEffect(()=>{$&&window.requestAnimationFrame(()=>{T(!0)})},[]);function I(F){R.current=null,k.current=!1,l(F)}return q.createElement(wd,{"data-vaul-drawer-direction":x,"data-vaul-drawer":"","data-vaul-delayed-snap-points":O?"true":"false","data-vaul-snap-points":y&&$?"true":"false","data-vaul-custom-container":w?"true":"false","data-vaul-animate":E?.current?"true":"false",...r,ref:C,style:m&&m.length>0?{"--snap-point-height":`${m[p??0]}px`,...t}:t,onPointerDown:F=>{N||(r.onPointerDown==null||r.onPointerDown.call(r,F),R.current={x:F.pageX,y:F.pageY},o(F))},onOpenAutoFocus:F=>{n?.(F),j||F.preventDefault()},onPointerDownOutside:F=>{if(e?.(F),!v||F.defaultPrevented){F.preventDefault();return}f.current&&(f.current=!1)},onFocusOutside:F=>{if(!v){F.preventDefault();return}},onPointerMove:F=>{if(P.current=F,N||(r.onPointerMove==null||r.onPointerMove.call(r,F),!R.current))return;const V=F.pageY-R.current.y,U=F.pageX-R.current.x,D=F.pointerType==="touch"?10:2;B({x:U,y:V},x,D)?d(F):(Math.abs(U)>D||Math.abs(V)>D)&&(R.current=null)},onPointerUp:F=>{r.onPointerUp==null||r.onPointerUp.call(r,F),R.current=null,k.current=!1,l(F)},onPointerOut:F=>{r.onPointerOut==null||r.onPointerOut.call(r,F),I(P.current)},onContextMenu:F=>{r.onContextMenu==null||r.onContextMenu.call(r,F),P.current&&I(P.current)}})});MW.displayName="Drawer.Content";const MMe=250,kMe=120,DMe=q.forwardRef(function({preventCycle:e=!1,children:t,...n},r){const{closeDrawer:i,isDragging:a,snapPoints:o,activeSnapPoint:l,setActiveSnapPoint:d,dismissible:f,handleOnly:m,isOpen:p,onPress:v,onDrag:y}=ap(),x=q.useRef(null),b=q.useRef(!1);function w(){if(b.current){j();return}window.setTimeout(()=>{N()},kMe)}function N(){if(a||e||b.current){j();return}if(j(),!o||o.length===0){f||i();return}if(l===o[o.length-1]&&f){i();return}const T=o.findIndex(R=>R===l);if(T===-1)return;const C=o[T+1];d(C)}function E(){x.current=window.setTimeout(()=>{b.current=!0},MMe)}function j(){x.current&&window.clearTimeout(x.current),b.current=!1}return q.createElement("div",{onClick:w,onPointerCancel:j,onPointerDown:O=>{m&&v(O),E()},onPointerMove:O=>{m&&y(O)},ref:r,"data-vaul-drawer-visible":p?"true":"false","data-vaul-handle":"","aria-hidden":"true",...n},q.createElement("span",{"data-vaul-handle-hitarea":"","aria-hidden":"true"},t))});DMe.displayName="Drawer.Handle";function IMe(e){const t=ap(),{container:n=t.container,...r}=e;return q.createElement(g0,{container:n,...r})}const Ns={Root:PMe,Content:MW,Overlay:PW,Portal:IMe,Title:_d,Description:Sd},kW=({shouldScaleBackground:e=!0,...t})=>c.jsx(Ns.Root,{shouldScaleBackground:e,...t});kW.displayName="Drawer";const $Me=Ns.Portal,DW=_.forwardRef(({className:e,...t},n)=>c.jsx(Ns.Overlay,{ref:n,className:Ae("fixed inset-0 z-50 bg-black/80",e),...t}));DW.displayName=Ns.Overlay.displayName;const IW=_.forwardRef(({className:e,children:t,...n},r)=>c.jsxs($Me,{children:[c.jsx(DW,{}),c.jsxs(Ns.Content,{ref:r,className:Ae("fixed inset-x-0 bottom-0 z-50 mt-24 flex h-auto flex-col rounded-t-[10px] border bg-background",e),...n,children:[c.jsx("div",{className:"mx-auto mt-4 h-2 w-[100px] rounded-full bg-muted"}),t]})]}));IW.displayName="DrawerContent";const $W=({className:e,...t})=>c.jsx("div",{className:Ae("grid gap-1.5 p-4 text-center sm:text-left",e),...t});$W.displayName="DrawerHeader";const LW=_.forwardRef(({className:e,...t},n)=>c.jsx(Ns.Title,{ref:n,className:Ae("text-lg font-semibold leading-none tracking-tight",e),...t}));LW.displayName=Ns.Title.displayName;const BW=_.forwardRef(({className:e,...t},n)=>c.jsx(Ns.Description,{ref:n,className:Ae("text-sm text-muted-foreground",e),...t}));BW.displayName=Ns.Description.displayName;function qW({children:e,className:t,containerClassName:n}){return c.jsx("div",{className:Ae("fixed bottom-16 left-0 right-0 z-[60] md:bottom-0 md:z-40",t),children:c.jsx("div",{className:Ae("mx-auto flex w-full max-w-md items-center justify-between gap-2 border-t bg-background px-4 py-3 shadow-[0_-2px_10px_rgba(0,0,0,0.1)]","md:supports-[padding:env(safe-area-inset-bottom)]:pb-[calc(env(safe-area-inset-bottom)+0.75rem)]",n),children:e})})}const LMe=[1,2,3,4,5];function $6({value:e,onChange:t,className:n,disabled:r=!1,size:i="md",ariaLabel:a="Slecteur d'chelle 1  5"}){const o=i==="sm"?"h-8 w-8 text-xs":"h-10 w-10 text-sm";return c.jsx("div",{className:Ae("flex items-center gap-2",n),role:"group","aria-label":a,children:LMe.map(l=>{const d=e===l;return c.jsx("button",{type:"button",className:Ae("flex items-center justify-center rounded-full border font-semibold transition",o,d?"border-primary bg-primary text-primary-foreground":"border-muted-foreground/30 bg-background text-foreground",r&&"opacity-60"),"aria-pressed":d,disabled:r,onClick:()=>{r||t?.(l)},children:l},l)})})}const _v=(e,t)=>{const n=Number(e?.set_index??e?.set_number??e?.setIndex??t);return!Number.isFinite(n)||n<=0?t:n},zW=(e=[],t,n)=>{if(!e.length)return 0;const r=Array.isArray(t)?t:[];if(r.length>0){const o=new Map;r.forEach((d,f)=>{if(!d?.exercise_id)return;const m=o.get(d.exercise_id)??[];m.push({...d,set_index:_v(d,f+1)}),o.set(d.exercise_id,m)});let l=e.length+1;for(let d=0;d<e.length;d+=1){const f=e[d];if((o.get(f.exercise_id)??[]).length<(f.sets??0)){l=d+1;break}}return l}const i=Number(n??0);if(!Number.isFinite(i)||i<=0)return 0;const a=Math.min(e.length,Math.max(0,Math.round(i/100*e.length)));return Math.min(e.length,a+1)},rs=(e,t)=>{const n=Number(e);return!Number.isFinite(n)||n<=0?"":t?`${n}${t}`:String(n)};function BMe({session:e,exercises:t,oneRMs:n,onFinish:r,onStart:i,onLogSets:a,onProgress:o,initialLogs:l,isFinishing:d,initialStep:f,onStepChange:m,initialInputOpen:p,initialSeriesOpen:v,onExitFocus:y}){const[x,b]=_.useState(f??0),[w,N]=_.useState([]),[E,j]=_.useState(0),[O,T]=_.useState(!0),[C,R]=_.useState(0),[P,k]=_.useState(!1),[$,B]=_.useState(!1),[I,F]=_.useState(!0),[V,U]=_.useState(3),[D,G]=_.useState(3),[z,Y]=_.useState(""),[de,H]=_.useState(!1),[K,Z]=_.useState(1),[le,be]=_.useState(v??!1),[ae,J]=_.useState(p??!1),[me,oe]=_.useState("weight"),[pe,we]=_.useState(""),[ee,qe]=_.useState(!1);_.useEffect(()=>{let he=null;return O&&(he=setInterval(()=>j(ze=>ze+1),1e3)),()=>clearInterval(he)},[O]),_.useEffect(()=>{if(!ee)return;const he=ze=>{ze.key==="Escape"&&qe(!1)};return window.addEventListener("keydown",he),()=>window.removeEventListener("keydown",he)},[ee]),_.useEffect(()=>{let he=null;return P&&!$&&C>0?he=setInterval(()=>R(ze=>ze-1),1e3):C===0&&P&&(k(!1),B(!1)),()=>clearInterval(he)},[P,$,C]);const ve=e.items||[],Ge=x-1,ne=x>0&&x<=ve.length?ve[Ge]:null,ie=ne?t.find(he=>he.id===ne.exercise_id):null,De=x<ve.length?ve[x]:null,dt=De?t.find(he=>he.id===De.exercise_id):null,Ie=(()=>{const he=ie?.muscle_groups??ie?.muscles??ie?.muscleGroups??[];return Array.isArray(he)?he:[]})(),Xe=ne?.rest_seconds??0,te=ve.length?Math.min(100,Math.max(0,Math.round((x-1)/ve.length*100))):0,Pe=Number(ne?.percent_1rm),Ue=Number.isFinite(Pe)&&Pe>0,Lt=Ue&&n.find(he=>he.exercise_id===ne?.exercise_id)?.weight||0,jt=Ue?Math.round(Lt*(Pe/100)):0,[je,Qe]=_.useState({}),yt=_.useMemo(()=>{const he=new Map;return w.forEach((ze,Ct)=>{const lt=_v(ze,Ct+1);ze.exercise_id&&he.set(`${ze.exercise_id}-${lt}`,ze)}),he},[w]),wt=ne?`${ne.exercise_id}-${K}`:null,qt=wt?yt.get(wt):null,ir=qt?.weight??je[K-1]?.weight??jt,se=qt?.reps??je[K-1]?.reps??ne?.reps??"",X=()=>{if(typeof window>"u")return;const he=["#22c55e","#3b82f6","#f97316","#e11d48","#a855f7"],ze=120;for(let Ct=0;Ct<ze;Ct+=1){const lt=document.createElement("div"),bn=Math.random()*6+6;lt.style.position="fixed",lt.style.top="-10px",lt.style.left=`${Math.random()*100}vw`,lt.style.width=`${bn}px`,lt.style.height=`${bn*.6}px`,lt.style.backgroundColor=he[Ct%he.length],lt.style.opacity="0.9",lt.style.pointerEvents="none",lt.style.zIndex="9999",lt.style.borderRadius="2px",document.body.appendChild(lt);const Pn=(Math.random()-.5)*200,Ln=1200+Math.random()*800,ur=Math.random()*360;lt.animate([{transform:"translate3d(0, 0, 0) rotate(0deg)",opacity:1},{transform:`translate3d(${Pn}px, ${window.innerHeight+200}px, 0) rotate(${ur}deg)`,opacity:0}],{duration:Ln,easing:"ease-out"}).onfinish=()=>lt.remove()}};_.useEffect(()=>{if(!l){N(lt=>lt.length?[]:lt),Qe(lt=>Object.keys(lt).length?{}:lt);return}if(N(l),!l.length){Qe(lt=>Object.keys(lt).length?{}:lt),b(lt=>lt===0?lt:0);return}const he=e.items||[];if(!he.length)return;const ze=new Map;l.forEach((lt,bn)=>{if(!lt.exercise_id)return;const Pn=ze.get(lt.exercise_id)??[];Pn.push({...lt,set_index:_v(lt,bn+1)}),ze.set(lt.exercise_id,Pn)});const Ct=zW(he,l);if(Ct>0&&Ct<=he.length){const lt=he[Ct-1],bn=ze.get(lt.exercise_id)??[],Pn=bn.reduce((ur,Fi,Do)=>{const sp=_v(Fi,Do+1);return ur[sp-1]={reps:Fi.reps??void 0,weight:Fi.weight??void 0},ur},{});Qe(Pn);const Ln=Math.min(lt.sets??1,bn.length+1);Z(Ln)}else Qe({}),Z(1);b(lt=>lt===Ct?lt:Ct)},[l,e.items]),_.useEffect(()=>{x<=ve.length||de||(X(),H(!0))},[x,ve.length,de]);const _e=he=>{b(he),m?.(he)},Ee=he=>{he<=0||(R(he),k(!0),B(!1))},nt=async()=>{const he=x+1;Z(1),Qe({}),_e(he);const ze=Math.round(Math.min(he-1,ve.length)/ve.length*100);try{await o?.(ze)}catch{}},ft=async()=>{if(!ne)return;if(qt){K>=ne.sets?await nt():Z(ze=>Math.min(ne.sets,ze+1));return}const he={exercise_id:ne.exercise_id,set_number:K,reps:je[K-1]?.reps||ne.reps,weight:je[K-1]?.weight||jt};N(ze=>[...ze,he]);try{await a?.([he])}catch{}if(I&&ne.rest_seconds>0&&Ee(ne.rest_seconds),K>=ne.sets){await nt();return}Z(ze=>Math.min(ne.sets,ze+1))},$e=he=>{oe(he);const ze=he==="weight"?je[K-1]?.weight??jt??"":je[K-1]?.reps??ne?.reps??"";we(ze?String(ze):""),J(!0)},ut=()=>{if(!ne)return;const he=Number(me==="weight"?pe.replace(",","."):pe);Number.isFinite(he)&&(Qe(ze=>({...ze,[K-1]:{...ze[K-1],[me]:he}})),J(!1))},ot=he=>{we(ze=>he==="."&&ze.includes(".")?ze:ze+he)},Fe=he=>{if(!ne)return;oe(he);const ze=he==="weight"?je[K-1]?.weight??jt??"":je[K-1]?.reps??ne?.reps??"";we(ze?String(ze):"")};return x===0?c.jsxs("div",{className:"space-y-6 text-center py-8 animate-in zoom-in duration-300",children:[c.jsx("div",{className:"h-24 w-24 bg-primary/10 rounded-full flex items-center justify-center mx-auto animate-pulse",children:c.jsx(Mi,{className:"h-10 w-10 text-primary ml-1"})}),c.jsxs("div",{children:[c.jsx("h2",{className:"text-3xl font-bold font-display uppercase",children:e.title}),c.jsx("p",{className:"text-muted-foreground text-lg",children:e.description}),c.jsxs("div",{className:"flex gap-2 justify-center mt-4",children:[c.jsx(hn,{variant:"outline",className:"text-sm px-3 py-1",children:e.cycle}),c.jsxs(hn,{variant:"secondary",className:"text-sm px-3 py-1",children:[ve.length," Exercices"]})]})]}),c.jsx(Oe,{size:"lg",className:"w-full text-xl h-14 font-bold uppercase tracking-wider shadow-lg hover:scale-[1.02] transition-transform",onClick:async()=>{await i?.(),_e(1)},children:"COMMENCER SANCE"})]}):x>ve.length?c.jsx("div",{className:"space-y-6 animate-in fade-in",children:c.jsxs(ke,{className:"border-t-8 border-t-primary shadow-xl",children:[c.jsxs(it,{className:"text-center pb-2",children:[c.jsx("div",{className:"mx-auto bg-primary/10 p-4 rounded-full w-fit mb-4",children:c.jsx($Z,{className:"h-12 w-12 text-primary"})}),c.jsx(st,{className:"text-3xl uppercase font-display italic",children:"Sance Termine !"}),c.jsxs(Yt,{className:"text-lg",children:["Dure totale: ",Math.floor(E/60),"m ",E%60,"s"]})]}),c.jsxs(Be,{className:"space-y-6 pt-4",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-4 text-center",children:[c.jsxs("div",{className:"bg-muted p-4 rounded-lg",children:[c.jsx("div",{className:"text-xs uppercase font-bold text-muted-foreground",children:"Volume"}),c.jsxs("div",{className:"text-2xl font-mono font-bold",children:[w.reduce((he,ze)=>he+(Number(ze.weight)||0)*(Number(ze.reps)||0),0)," kg"]})]}),c.jsxs("div",{className:"bg-muted p-4 rounded-lg",children:[c.jsx("div",{className:"text-xs uppercase font-bold text-muted-foreground",children:"Sries"}),c.jsx("div",{className:"text-2xl font-mono font-bold",children:w.length})]})]}),c.jsxs("div",{className:"space-y-3",children:[c.jsx(Le,{className:"uppercase font-bold text-xs text-muted-foreground",children:"Difficult de la sance"}),c.jsxs("div",{className:"flex items-center justify-between text-[11px] font-semibold text-muted-foreground",children:[c.jsx("span",{children:"Facile"}),c.jsx("span",{children:"Trs dur"})]}),c.jsx($6,{value:V,onChange:U})]}),c.jsxs("div",{className:"space-y-3",children:[c.jsx(Le,{className:"uppercase font-bold text-xs text-muted-foreground",children:"Fatigue fin de sance"}),c.jsxs("div",{className:"flex items-center justify-between text-[11px] font-semibold text-muted-foreground",children:[c.jsx("span",{children:"Frais"}),c.jsx("span",{children:"puis"})]}),c.jsx($6,{value:D,onChange:G})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Le,{className:"uppercase font-bold text-xs text-muted-foreground",children:"Notes"}),c.jsx("textarea",{placeholder:"Sensations, douleurs...",value:z,onChange:he=>Y(he.target.value),rows:3,className:"flex w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 resize-none"})]})]}),c.jsx(WA,{children:c.jsx(Oe,{className:"w-full h-14 text-lg font-bold uppercase",disabled:d,onClick:()=>{d||r({duration:Math.floor(E/60),feeling:V,fatigue:D,comments:z,logs:w})},children:d?"ENREGISTREMENT...":"ENREGISTRER & FERMER"})})]})}):c.jsxs("div",{className:"space-y-6 pb-32",children:[c.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("button",{type:"button","aria-label":"Voir lanimation de lexercice",onClick:()=>{ie?.illustration_gif&&qe(!0)},className:"flex h-12 w-12 items-center justify-center overflow-hidden rounded-full border bg-card shadow-sm",children:ie?.illustration_gif?c.jsx("img",{src:ie.illustration_gif,alt:"",className:"h-full w-full object-cover"}):c.jsx(Mi,{className:"h-5 w-5 text-muted-foreground"})}),c.jsxs("div",{className:"flex flex-wrap gap-2",children:[c.jsxs("span",{className:"rounded-full bg-muted px-3 py-1 text-xs font-semibold",children:["Ex ",x,"/",ve.length]}),c.jsxs("span",{className:"rounded-full bg-muted px-3 py-1 text-xs font-semibold",children:["S ",K,"/",rs(ne?.sets)]})]})]}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"text-xs font-semibold text-muted-foreground",children:"Sance"}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"h-2 w-28 overflow-hidden rounded-full bg-muted",children:c.jsx("div",{className:"h-full rounded-full bg-primary",style:{width:`${te}%`}})}),c.jsxs("div",{className:"text-sm font-semibold",children:[te,"%"]})]}),y?c.jsx(Oe,{variant:"ghost",size:"icon","aria-label":"Quitter le focus",onClick:y,children:c.jsx(Ii,{className:"h-4 w-4"})}):null]})]}),c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-semibold tracking-tight",children:ie?.nom_exercice??"Exercice"}),Ie.length>0&&c.jsx("div",{className:"mt-3 flex flex-wrap gap-2",children:Ie.map(he=>c.jsx("span",{className:"rounded-full bg-muted px-3 py-1 text-xs font-semibold text-muted-foreground",children:he},he))})]}),c.jsxs(ke,{className:"rounded-3xl border bg-card p-4 shadow-sm",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("div",{className:"text-base font-semibold",children:"Srie en cours"}),c.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[c.jsx(cd,{checked:I,onCheckedChange:F}),"Auto repos"]})]}),c.jsxs("div",{className:"mt-4 rounded-2xl border bg-muted/20 p-4",children:[c.jsx("div",{className:"text-sm font-semibold",children:"En cours"}),c.jsxs("div",{className:"mt-2 text-lg font-semibold",children:["Srie ",K,"/",rs(ne?.sets),"  Objectif"," ",rs(ne?.reps)," reps"]}),c.jsx("div",{className:"mt-2 text-sm text-muted-foreground",children:"Appuie sur une tuile pour saisir."})]}),c.jsxs("div",{className:"mt-4 grid grid-cols-2 gap-3",children:[c.jsxs("button",{type:"button",className:"group relative rounded-2xl border-2 border-primary/20 bg-gradient-to-br from-card to-muted/30 p-4 text-left shadow-sm transition-all active:scale-[0.98] hover:border-primary/40 hover:shadow-md",onClick:()=>$e("weight"),children:[c.jsx("div",{className:"text-[10px] font-bold uppercase tracking-wide text-muted-foreground",children:"Charge"}),c.jsxs("div",{className:"mt-1 flex items-baseline gap-0.5",children:[c.jsx("span",{className:"text-3xl font-bold tabular-nums tracking-tight",children:ir||""}),c.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"kg"})]})]}),c.jsxs("button",{type:"button",className:"group relative rounded-2xl border-2 border-primary/20 bg-gradient-to-br from-card to-muted/30 p-4 text-left shadow-sm transition-all active:scale-[0.98] hover:border-primary/40 hover:shadow-md",onClick:()=>$e("reps"),children:[c.jsx("div",{className:"text-[10px] font-bold uppercase tracking-wide text-muted-foreground",children:"Reps"}),c.jsxs("div",{className:"mt-1 flex items-baseline gap-0.5",children:[c.jsx("span",{className:"text-3xl font-bold tabular-nums tracking-tight",children:se||""}),c.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"reps"})]})]})]}),c.jsxs("div",{className:"mt-4 rounded-2xl border bg-muted/10 p-4",children:[c.jsx("div",{className:"text-sm font-semibold",children:"Notes"}),c.jsx("div",{className:"mt-2 text-sm text-muted-foreground",children:ne?.notes||ie?.description||"Aucune note spcifique."})]}),c.jsx(Oe,{type:"button",variant:"outline",className:"mt-4 w-full rounded-2xl",onClick:()=>be(!0),children:"Voir les sries"})]}),!ae&&!P?c.jsxs(qW,{className:"bottom-0 z-[60]",containerClassName:"gap-3 py-4",children:[c.jsxs(Oe,{className:"flex-1 min-w-0 h-12 rounded-xl text-sm font-bold shadow-lg active:scale-95 transition-transform",onClick:ft,children:[c.jsx(go,{className:"mr-2 h-5 w-5"})," Valider srie"]}),c.jsx(Oe,{type:"button",variant:"outline",className:"h-12 w-12 rounded-xl p-0 active:scale-95 transition-transform",onClick:()=>{Xe<=0||Ee(Xe)},"aria-label":"Dmarrer le repos",children:c.jsx(Ov,{className:"h-5 w-5"})}),c.jsx(Oe,{type:"button",variant:"outline",className:"h-12 w-12 rounded-xl p-0 active:scale-95 transition-transform",onClick:()=>nt(),"aria-label":"Exercice suivant",children:c.jsx(Av,{className:"h-5 w-5"})})]}):null,P&&c.jsxs("div",{className:"fixed inset-0 z-50 flex flex-col bg-background/95 pb-[env(safe-area-inset-bottom)]",children:[c.jsxs("div",{className:"flex items-start justify-between border-b px-6 py-4",children:[c.jsxs("div",{children:[c.jsx("div",{className:"text-xs font-semibold text-muted-foreground",children:"Timer"}),c.jsx("div",{className:"text-lg font-semibold",children:"Transition inter-exercice"}),c.jsxs("div",{className:"text-sm text-muted-foreground",children:["Prochain exercice : ",dt?.nom_exercice??" venir"]})]}),c.jsx(Oe,{variant:"ghost",size:"icon",onClick:()=>{k(!1),B(!1)},"aria-label":"Fermer le timer de repos",children:c.jsx(Ii,{className:"h-4 w-4"})})]}),c.jsxs("div",{className:"flex flex-1 flex-col items-center justify-center gap-6 px-6 py-8",children:[c.jsxs(ke,{className:"w-full max-w-sm rounded-3xl border p-6 shadow-sm",children:[c.jsx("div",{className:"text-sm text-muted-foreground",children:"Temps restant"}),c.jsxs("div",{className:"mt-2 text-5xl font-semibold tracking-tight",children:[Math.floor(C/60),":",String(C%60).padStart(2,"0")]}),c.jsx("div",{className:"mt-6 h-3 w-full overflow-hidden rounded-full bg-muted",children:c.jsx("div",{className:"h-full rounded-full bg-primary",style:{width:Xe?`${C/Xe*100}%`:"0%"}})}),c.jsxs("div",{className:"mt-6 flex flex-wrap gap-3",children:[c.jsx(Oe,{variant:"outline",className:"rounded-full",onClick:()=>R(he=>he+15),children:"+15s"}),c.jsx(Oe,{variant:"outline",className:"rounded-full",onClick:()=>R(he=>he+30),children:"+30s"}),c.jsx(Oe,{variant:"outline",className:"rounded-full",onClick:()=>R(he=>Math.max(0,he-15)),children:"-15s"}),c.jsxs(Oe,{variant:"outline",className:"ml-auto rounded-full",onClick:()=>R(Xe),children:[c.jsx(bee,{className:"mr-2 h-4 w-4"}),"Reset"]})]})]}),c.jsxs("div",{className:"flex w-full max-w-sm flex-wrap gap-3",children:[c.jsxs(Oe,{className:"flex-1 rounded-full py-6 text-base font-semibold",onClick:()=>B(he=>!he),children:[c.jsx(cee,{className:"mr-2 h-4 w-4"})," ",$?"Reprendre":"Pause"]}),c.jsxs(Oe,{variant:"outline",className:"rounded-full px-6 py-6 text-base font-semibold",onClick:()=>{k(!1),R(0),B(!1)},children:["Passer ",c.jsx(Av,{className:"ml-2 h-4 w-4"})]})]})]})]}),ee&&ie?.illustration_gif&&c.jsx("div",{className:"fixed inset-0 z-50 bg-black/50",onClick:()=>qe(!1),children:c.jsx("div",{className:"fixed inset-0 flex items-center justify-center p-4",onClick:he=>he.stopPropagation(),children:c.jsxs("div",{className:"relative",children:[c.jsx("button",{type:"button","aria-label":"Fermer",className:"absolute -right-3 -top-3 rounded-full bg-background p-2 shadow",onClick:()=>qe(!1),children:c.jsx(Ii,{className:"h-4 w-4"})}),c.jsx("img",{src:ie.illustration_gif,alt:"",className:"max-h-[80vh] w-auto max-w-[92vw] rounded-2xl"})]})})}),c.jsx(XO,{open:le,onOpenChange:be,children:c.jsxs(fb,{side:"bottom",className:"max-h-[80vh] overflow-y-auto",children:[c.jsx(hb,{children:c.jsx(mb,{children:"Aperu sance"})}),c.jsx("div",{className:"mt-4 space-y-4",children:ve.map((he,ze)=>{const Ct=t.find(Pn=>Pn.id===he.exercise_id),lt=Array.from({length:he.sets}).filter((Pn,Ln)=>yt.get(`${he.exercise_id}-${Ln+1}`)).length,bn=he.sets?Math.round(lt/he.sets*100):0;return c.jsxs(ke,{className:"rounded-3xl border bg-muted/10 p-4 shadow-sm",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("div",{className:"text-base font-semibold",children:Ct?.nom_exercice??he.exercise_name}),c.jsxs("div",{className:"mt-1 text-sm text-muted-foreground",children:[rs(he.sets),"x",rs(he.reps)," "," ",he.percent_1rm?`${rs(he.percent_1rm)} 1RM`:""]})]}),c.jsxs("div",{className:"rounded-full bg-muted px-3 py-1 text-sm font-semibold",children:[lt,"/",rs(he.sets)]})]}),c.jsx("div",{className:"mt-4 h-3 w-full overflow-hidden rounded-full bg-muted",children:c.jsx("div",{className:"h-full rounded-full bg-primary",style:{width:`${bn}%`}})})]},`${he.exercise_id}-${ze}`)})})]})}),c.jsx(kW,{open:ae,onOpenChange:J,children:c.jsx(IW,{className:"max-h-[90vh]",children:c.jsxs("div",{className:"mx-auto w-full max-w-md px-4 pb-8",children:[c.jsxs($W,{className:"pb-2",children:[c.jsx(LW,{className:"text-center",children:me==="weight"?"Charge":"Rptitions"}),c.jsxs(BW,{className:"text-center",children:["Srie ",K,"/",rs(ne?.sets),"  Objectif"," ",rs(ne?.reps)," reps"]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[c.jsxs("button",{type:"button",className:Ae("rounded-xl border-2 p-4 text-center transition-all",me==="weight"?"border-primary bg-primary/10 shadow-sm":"border-muted bg-card hover:border-muted-foreground/30"),onClick:()=>Fe("weight"),children:[c.jsx("div",{className:"text-xs font-semibold uppercase text-muted-foreground",children:"Charge"}),c.jsxs("div",{className:"mt-1 text-2xl font-bold tabular-nums",children:[me==="weight"?pe||"":String(je[K-1]?.weight??jt??""),c.jsx("span",{className:"ml-1 text-base font-normal text-muted-foreground",children:"kg"})]})]}),c.jsxs("button",{type:"button",className:Ae("rounded-xl border-2 p-4 text-center transition-all",me==="reps"?"border-primary bg-primary/10 shadow-sm":"border-muted bg-card hover:border-muted-foreground/30"),onClick:()=>Fe("reps"),children:[c.jsx("div",{className:"text-xs font-semibold uppercase text-muted-foreground",children:"Reps"}),c.jsxs("div",{className:"mt-1 text-2xl font-bold tabular-nums",children:[me==="reps"?pe||"":String(je[K-1]?.reps??ne?.reps??""),c.jsx("span",{className:"ml-1 text-base font-normal text-muted-foreground",children:"reps"})]})]})]}),me==="weight"&&jt>0&&c.jsxs("div",{className:"mb-4",children:[c.jsx("div",{className:"text-xs font-semibold text-muted-foreground mb-2",children:"Suggestions"}),c.jsx("div",{className:"flex flex-wrap gap-2",children:[jt-10,jt-5,jt,jt+5,jt+10].filter(he=>he>0).map(he=>c.jsxs(Oe,{variant:Number(pe)===he?"default":"outline",size:"sm",className:"rounded-full px-4 h-10 text-sm font-semibold",onClick:()=>we(String(he)),children:[he," kg"]},he))})]}),me==="reps"&&c.jsxs("div",{className:"mb-4",children:[c.jsx("div",{className:"text-xs font-semibold text-muted-foreground mb-2",children:"Suggestions"}),c.jsx("div",{className:"flex flex-wrap gap-2",children:[6,8,10,12,15,20].map(he=>c.jsx(Oe,{variant:Number(pe)===he?"default":"outline",size:"sm",className:"rounded-full px-4 h-10 text-sm font-semibold",onClick:()=>we(String(he)),children:he},he))})]}),c.jsxs("div",{className:"grid grid-cols-3 gap-2 mb-4",children:[[1,2,3,4,5,6,7,8,9].map(he=>c.jsx(Oe,{variant:"outline",className:"h-14 text-xl font-semibold rounded-xl active:scale-95 transition-transform",onClick:()=>ot(String(he)),children:he},he)),c.jsx(Oe,{variant:"outline",className:"h-14 text-xl font-semibold rounded-xl active:scale-95 transition-transform",onClick:()=>ot("."),children:","}),c.jsx(Oe,{variant:"outline",className:"h-14 text-xl font-semibold rounded-xl active:scale-95 transition-transform",onClick:()=>ot("0"),children:"0"}),c.jsx(Oe,{variant:"outline",className:"h-14 text-xl font-semibold rounded-xl active:scale-95 transition-transform",onClick:()=>we(he=>he.slice(0,-1)),children:""})]}),c.jsxs("div",{className:"flex gap-3",children:[c.jsx(Oe,{variant:"outline",className:"flex-1 h-14 text-base font-semibold rounded-xl",onClick:()=>we(""),children:"Effacer"}),c.jsxs(Oe,{className:"flex-1 h-14 text-base font-semibold rounded-xl",onClick:ut,children:[c.jsx(go,{className:"mr-2 h-5 w-5"}),"Valider"]})]})]})})})]})}const al=e=>e==="endurance"||e==="hypertrophie"||e==="force"?e:"endurance",Wf=e=>{const t=Number(e);return!Number.isFinite(t)||t<=0?null:t},qMe=(e,t)=>{if(!e)return{sets:null,reps:null,percent1rm:null,restSeries:null,restExercise:null};const n={endurance:{sets:e.Nb_series_endurance,reps:e.Nb_reps_endurance,percent1rm:e.pct_1rm_endurance,restSeries:e.recup_endurance,restExercise:e.recup_exercices_endurance},hypertrophie:{sets:e.Nb_series_hypertrophie,reps:e.Nb_reps_hypertrophie,percent1rm:e.pct_1rm_hypertrophie,restSeries:e.recup_hypertrophie,restExercise:e.recup_exercices_hypertrophie},force:{sets:e.Nb_series_force,reps:e.Nb_reps_force,percent1rm:e.pct_1rm_force,restSeries:e.recup_force,restExercise:e.recup_exercices_force}}[t];return{sets:Wf(n.sets),reps:Wf(n.reps),percent1rm:Wf(n.percent1rm),restSeries:Wf(n.restSeries),restExercise:Wf(n.restExercise)}},Yf=(e=[],t,n)=>FMe(e,t).map(r=>{const i=qMe(n.get(r.exercise_id),t);return{...r,sets:i.sets??0,reps:i.reps??0,rest_seconds:i.restSeries??0,percent_1rm:i.percent1rm??0}}),L6=e=>{const t=Number(e);return!Number.isFinite(t)||t<=0?"":String(t)},zMe=e=>{const t=Number(e);return!Number.isFinite(t)||t<=0?"":`${t}s`},FW=(e=[])=>{if(!e.length)return e;const t=e.map((r,i)=>{const a=Number(r.order_index);return{item:r,index:i,order:Number.isFinite(a)?a:null}});return t.some(r=>r.order!==null)?t.sort((r,i)=>r.order===null&&i.order===null?r.index-i.index:r.order===null?1:i.order===null?-1:r.order===i.order?r.index-i.index:r.order-i.order).map(r=>r.item):e},FMe=(e=[],t)=>{const n=e.filter(i=>i.cycle_type===t),r=n.length?n:e;return FW(r)},UMe=e=>{e.setActiveSession(null),e.setActiveAssignment(null),e.setActiveRunId(null),e.setActiveRunLogs(null),e.setActiveRunnerStep(0),e.setScreenMode("list")},VMe=({runId:e,assignmentId:t,startedAt:n})=>({id:e,assignment_id:t??null,started_at:n,progress_pct:0,status:"in_progress",logs:[]}),$j=e=>({runs:e?[e]:[],pagination:{limit:1,offset:0,total:e?1:0},exercise_summary:[]});function HMe(){const{user:e,userId:t,role:n,selectedAthleteId:r,selectedAthleteName:i}=dn(),{toast:a}=Yr(),o=qi(),l="strength-preferences",[d,f]=_.useState(null),[m,p]=_.useState(null),[v,y]=_.useState(null),[x,b]=_.useState(null),[w,N]=_.useState(0),[E,j]=_.useState("list"),[O,T]=_.useState({poolMode:!1,largeText:!1}),[C,R]=_.useState(""),[P,k]=_.useState("endurance"),[$,B]=_.useState("all"),[I,F]=_.useState(""),[V,U]=_.useState(""),D=(n==="coach"||n==="admin")&&(r!==null||!!i),G=D?i:e,z=D?r:t,Y=z??G,de=_.useMemo(()=>`strength-focus-state-${Y??"anonymous"}`,[Y]),{poolMode:H,largeText:K}=O;_.useEffect(()=>{if(typeof window>"u")return;const se=window.localStorage.getItem(l);if(se)try{const X=JSON.parse(se);T(_e=>({..._e,...X??{}}))}catch{return}},[]),_.useEffect(()=>{typeof window>"u"||window.localStorage.setItem(l,JSON.stringify(O))},[l,O]),_.useEffect(()=>{if(!(typeof document>"u")){if(E==="focus")return document.body.dataset.focusMode="strength",()=>{document.body.dataset.focusMode==="strength"&&delete document.body.dataset.focusMode};document.body.dataset.focusMode==="strength"&&delete document.body.dataset.focusMode}},[E]),_.useEffect(()=>{if(typeof window>"u"||d)return;const se=window.localStorage.getItem(de);if(se)try{const X=JSON.parse(se),_e=X?.screenMode==="focus"?"focus":X?.screenMode==="reader"?"reader":null;if(!_e||!X?.session)return;f(X.session),p(X.assignment??null),y(typeof X.runId=="number"?X.runId:null),b(Array.isArray(X.runLogs)?X.runLogs:null),N(Number.isFinite(X.runnerStep)?X.runnerStep:0),X.cycleType&&k(al(X.cycleType)),j(_e)}catch{return}},[d,de]),_.useEffect(()=>{if(typeof window>"u")return;if(!(E==="focus"||E==="reader")||!d){window.localStorage.removeItem(de);return}const X={screenMode:E,session:d,assignment:m,runId:v,runLogs:x,runnerStep:w,cycleType:P};window.localStorage.setItem(de,JSON.stringify(X))},[m,v,x,w,d,P,de,E]);const{data:Z}=Pt({queryKey:["assignments",e,"strength"],queryFn:()=>Me.getAssignments(e,t,{assignmentType:"strength"}),enabled:!!e}),{data:le}=Pt({queryKey:["strength_catalog"],queryFn:()=>Me.getStrengthSessions()}),{data:be}=Pt({queryKey:["exercises"],queryFn:()=>Me.getExercises()}),{data:ae}=Pt({queryKey:["1rm",e,t],queryFn:()=>Me.get1RM({athleteName:e,athleteId:t}),enabled:!!e}),J=vz({queryKey:["strength_history",Y,$,I,V],queryFn:({pageParam:se=0})=>Me.getStrengthHistory(G,{athleteId:z,limit:10,offset:se,order:"desc",status:$==="all"?void 0:$,from:I||void 0,to:V||void 0}),enabled:!!G,getNextPageParam:se=>{const X=se.pagination.offset+se.pagination.limit;return X<se.pagination.total?X:void 0},initialPageParam:0}),me=J.data?.pages.flatMap(se=>se.runs)??[],pe=Pt({queryKey:["strength_run_in_progress",Y],queryFn:()=>Me.getStrengthHistory(G,{limit:1,offset:0,order:"desc",status:"in_progress",athleteId:z}),enabled:!!G}).data?.runs?.[0]??null,we=pe?.status==="completed"||(pe?.progress_pct??0)>=100,ee=Ot({mutationFn:se=>Me.startStrengthRun(se),onSuccess:se=>{if(se?.run_id&&(y(se.run_id),b(X=>X??[]),Y)){const X=VMe({runId:se.run_id,assignmentId:m?.id??null,startedAt:new Date().toISOString()});o.setQueryData(["strength_run_in_progress",Y],$j(X))}o.invalidateQueries({queryKey:["assignments",e,"strength"]}),o.invalidateQueries({queryKey:["strength_run_in_progress",Y]}),o.invalidateQueries({queryKey:["strength_history"]})},onError:()=>{a({title:"Erreur",description:"Impossible de dmarrer la sance.",variant:"destructive"})}}),qe=Ot({mutationFn:se=>Me.logStrengthSet(se),onSuccess:se=>{se?.one_rm_updated&&(o.invalidateQueries({queryKey:["1rm",e,t]}),a({title:"Nouveau 1RM dtect",description:"Ton record vient d'tre mis  jour."}))},onError:()=>{a({title:"Erreur",description:"Impossible d'enregistrer une srie.",variant:"destructive"})}}),ve=Ot({mutationFn:se=>Me.updateStrengthRun(se),onSuccess:(se,X)=>{o.invalidateQueries({queryKey:["strength_history"]}),X?.status==="completed"&&(Y&&o.setQueryData(["strength_run_in_progress",Y],$j(null)),o.invalidateQueries({queryKey:["assignments",e]}),o.invalidateQueries({queryKey:["assignments",e,"strength"]}),o.invalidateQueries({queryKey:["1rm",e,t]}),p(null),y(null),f(null),b(null),j("list"),a({title:"Sance sauvegarde",description:"Bravo pour l'effort !"}))}});Ot({mutationFn:se=>Me.startStrengthRun(se),onError:()=>{a({title:"Erreur",description:"Impossible de mettre  jour la sance.",variant:"destructive"})}});const Ge=(se,X)=>{const _e=se.items??[],Ee=al(X??se.cycle??_e.find(ft=>ft.cycle_type)?.cycle_type),nt=Yf(_e,Ee,te);p(se),f({...se,title:se.title,description:se.description,cycle:Ee,items:nt}),y(null),b(null),N(0),j("reader")},ie=(Z?.filter(se=>se.session_type==="strength")||[]).filter(se=>se.status!=="completed"),De=pe?ie.find(se=>se.id===pe.assignment_id):null,dt=!!De?.items?.length&&!we,Ie=ie.map(se=>({...se,session:{id:se.session_id,title:se.title,description:se.description,cycle:al(se.cycle),items:se.items??[]}})),Xe=[{value:"endurance",label:"Endurance"},{value:"hypertrophie",label:"Hypertrophie"},{value:"force",label:"Force"}],te=_.useMemo(()=>be?new Map(be.map(se=>[se.id,se])):new Map,[be]),Pe=Ie.map(se=>{const X=Yf(se.items??[],P,te);return{key:`assignment-${se.id}`,title:se.title,description:se.description,type:"assignment",assignedDate:se.assigned_date,session:{id:se.session_id,title:se.title,description:se.description,cycle:al(se.cycle),items:X},assignment:se,exerciseCount:X.length}}),Ue=(le??[]).map(se=>{const X=Yf(se.items??[],P,te);return{key:`catalog-${se.id}`,title:se.title,description:se.description,type:"catalog",session:{...se,items:X,cycle:P},exerciseCount:X.length}}),Lt=C.trim().toLowerCase(),jt=[...Pe,...Ue].filter(se=>Lt?`${se.title} ${se.description}`.toLowerCase().includes(Lt):!0),je=_.useMemo(()=>d?Yf(d.items??[],P,te):[],[d,P,te]),Qe=se=>{if((se.items??[]).length===0){a({title:"Sance vide",description:"Aucun exercice n'est disponible pour cette sance."});return}Ge(se,P),y(null),b(null)},yt=se=>{const X=se.items??[],Ee=X.filter(ft=>ft.cycle_type===P).length>0?P:al(se.cycle??X.find(ft=>ft.cycle_type)?.cycle_type),nt=Yf(X,Ee,te);if(nt.length===0){a({title:"Sance vide",description:"Aucun exercice n'est disponible pour cette sance."});return}f({...se,cycle:Ee,items:nt}),p(null),y(null),b(null),N(0),j("reader")},wt=()=>{if(d){if(je.length===0){a({title:"Sance vide",description:"Aucun exercice n'est disponible pour cette sance."});return}f({...d,cycle:P,items:je}),N(0),j("focus")}},qt=()=>{UMe({setActiveSession:f,setActiveAssignment:p,setActiveRunId:y,setActiveRunLogs:b,setActiveRunnerStep:N,setScreenMode:j})},ir=Ot({mutationFn:se=>Me.deleteStrengthRun(se),onSuccess:se=>{qt(),Y&&o.setQueryData(["strength_run_in_progress",Y],$j(null)),o.invalidateQueries({queryKey:["strength_run_in_progress",Y]}),o.invalidateQueries({queryKey:["strength_history"]}),o.invalidateQueries({queryKey:["assignments",e,"strength"]});const X=se?.source==="local"?"Suppression locale : le serveur n'est pas disponible.":void 0;a({title:"Sance supprime",description:X})},onError:()=>{a({title:"Erreur",description:"Impossible de supprimer la sance en cours.",variant:"destructive"})}});return c.jsx("div",{className:Ae("space-y-4 md:space-y-6",H&&"dark bg-background text-foreground contrast-125",K&&"text-lg leading-relaxed [&_.text-xs]:text-sm [&_.text-sm]:text-base"),children:E==="focus"&&d?be?c.jsx("div",{className:"animate-in fade-in",children:c.jsx(BMe,{session:d,exercises:be,oneRMs:ae||[],initialLogs:x,initialStep:w,isFinishing:ve.isPending,onStepChange:se=>N(se),onExitFocus:()=>j("reader"),onStart:async()=>{if(v)return;const se=m?.session_id??d?.id??null;if(!se){a({title:"Session manquante",description:"Impossible de dmarrer sans session associe.",variant:"destructive"});return}const X={assignment_id:m?.id??null,athlete_id:t??null,athleteName:e??null,progress_pct:0,session_id:se,cycle_type:d?.cycle};try{const _e=await ee.mutateAsync(X);_e?.run_id&&y(_e.run_id)}catch{return}},onLogSets:async se=>{v&&(b(X=>[...X??[],...se]),await Promise.all(se.map((X,_e)=>qe.mutateAsync({run_id:v,exercise_id:X.exercise_id,set_index:X.set_number??_e+1,reps:X.reps??null,weight:X.weight??null,athlete_id:t??null,athlete_name:e??null}))))},onProgress:async se=>{v&&await ve.mutateAsync({run_id:v,progress_pct:se,status:"in_progress"})},onFinish:se=>{v&&ve.mutate({assignment_id:m?.id??null,run_id:v,session_id:m?.session_id??d?.id??null,athlete_id:t??null,date:new Date().toISOString(),progress_pct:100,status:"completed",...se})}})}):c.jsx("div",{className:"py-10 text-center text-muted-foreground",children:"Chargement du focus..."}):c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("h1",{className:"text-3xl font-display font-bold uppercase italic text-primary",children:"Musculation"}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs(Oe,{variant:"ghost",size:"sm",onClick:()=>a({title:"Info",description:"Le 1RM est calcul automatiquement."}),className:"text-muted-foreground",children:[c.jsx(Mi,{className:"mr-2 h-4 w-4"})," Info 1RM"]}),c.jsx(Oe,{variant:"ghost",size:"icon",onClick:()=>j("settings"),className:"rounded-full border border-muted/50 text-muted-foreground","aria-label":"Paramtres",children:c.jsx(Pee,{className:"h-4 w-4"})})]})]}),c.jsxs(Od,{defaultValue:"start",className:"w-full",children:[c.jsxs(Vl,{className:"grid w-full grid-cols-2",children:[c.jsx(la,{value:"start",children:"S'entraner"}),c.jsx(la,{value:"history",children:"Historique"})]}),c.jsxs(Pa,{value:"start",className:"space-y-5 pt-4",children:[E==="list"&&c.jsxs("div",{className:"space-y-5 animate-in fade-in",children:[c.jsxs("p",{className:"text-center text-sm text-muted-foreground py-1",children:[jt.length," sance",jt.length>1?"s":""," disponible",jt.length>1?"s":""]}),c.jsx("div",{className:"flex justify-center gap-2",children:Xe.map(se=>c.jsx("button",{type:"button",onClick:()=>k(al(se.value)),className:Ae("px-5 py-2.5 rounded-full text-sm font-semibold transition-all active:scale-95",P===se.value?"bg-primary text-primary-foreground shadow-md":"bg-muted/50 text-muted-foreground hover:bg-muted"),children:se.label},se.value))}),c.jsxs("div",{className:"relative",children:[c.jsx(RA,{className:"absolute left-4 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground pointer-events-none"}),c.jsx(et,{placeholder:"Rechercher une sance...",className:"h-12 rounded-2xl bg-muted/30 pl-11 pr-4 border-0 shadow-sm focus-visible:ring-2",value:C,onChange:se=>R(se.target.value),"aria-label":"Rechercher une sance"})]}),pe&&c.jsxs("div",{className:"relative overflow-hidden rounded-2xl bg-gradient-to-br from-primary/10 via-primary/5 to-transparent border-2 border-primary/30 p-5",children:[c.jsx("div",{className:"absolute top-0 right-0 w-24 h-24 bg-primary/10 rounded-full blur-2xl -mr-8 -mt-8"}),c.jsxs("div",{className:"relative",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[c.jsxs("span",{className:"relative flex h-3 w-3",children:[c.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-primary opacity-75"}),c.jsx("span",{className:"relative inline-flex rounded-full h-3 w-3 bg-primary"})]}),c.jsx("span",{className:"text-xs font-bold uppercase tracking-wider text-primary",children:we?"Complte":"En cours"})]}),c.jsx("h3",{className:"text-xl font-bold tracking-tight mb-1",children:De?.title??"Sance en cours"}),c.jsxs("p",{className:"text-sm text-muted-foreground mb-4",children:["Dmarre le ",jn(new Date(pe.started_at||new Date),"dd MMMM",{locale:fo})]}),c.jsxs("div",{className:"mb-4",children:[c.jsxs("div",{className:"flex justify-between text-xs font-semibold mb-1.5",children:[c.jsx("span",{className:"text-muted-foreground",children:"Progression"}),c.jsxs("span",{className:"text-primary",children:[Math.round(pe.progress_pct??0),"%"]})]}),c.jsx("div",{className:"h-2 rounded-full bg-muted overflow-hidden",children:c.jsx("div",{className:"h-full rounded-full bg-primary transition-all duration-500",style:{width:`${pe.progress_pct??0}%`}})})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx(Oe,{className:"flex-1 h-12 rounded-xl font-semibold",disabled:!dt,onClick:()=>{if(!De)return;const se=De.items??[],X=al(De.cycle??se.find(nt=>nt.cycle_type)?.cycle_type),_e=se.filter(nt=>nt.cycle_type===X),Ee=FW(_e.length?_e:se);p(De),f({...De,title:De.title,description:De.description,cycle:X,items:Ee}),y(pe.id),b(pe.logs??[]),N(zW(Ee,pe.logs??[],pe.progress_pct)),j("focus")},children:we?"Voir le rsum":"Reprendre"}),!we&&c.jsx(Oe,{variant:"outline",className:"h-12 w-12 rounded-xl p-0",disabled:ir.isPending,onClick:()=>{!pe||!window.confirm("Supprimer la sance en cours ?")||ir.mutate(pe.id)},"aria-label":"Supprimer la sance",children:c.jsx(Ii,{className:"h-5 w-5"})})]})]})]}),!pe&&jt.length>0&&c.jsxs("div",{className:"flex items-center gap-2 pt-2",children:[c.jsx(Mi,{className:"h-4 w-4 text-muted-foreground"}),c.jsx("span",{className:"text-xs font-semibold uppercase tracking-wider text-muted-foreground",children:"Choisir une sance"})]}),jt.length>0?c.jsx("div",{className:"space-y-3",children:jt.map(se=>c.jsx("button",{type:"button",className:"group w-full rounded-2xl border bg-card p-4 text-left shadow-sm transition-all active:scale-[0.98] hover:shadow-md hover:border-primary/30",onClick:()=>{if(se.type==="assignment"){Qe(se.assignment);return}yt(se.session)},children:c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("div",{className:Ae("flex h-12 w-12 shrink-0 items-center justify-center rounded-xl",se.type==="assignment"?"bg-primary/10 text-primary":"bg-muted text-muted-foreground"),children:c.jsx(Mi,{className:"h-5 w-5"})}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-0.5",children:[se.type==="assignment"&&c.jsx("span",{className:"inline-flex items-center rounded-full bg-primary/10 px-2 py-0.5 text-[10px] font-bold uppercase text-primary",children:"Assigne"}),se.type==="assignment"&&se.assignedDate&&c.jsx("span",{className:"text-xs text-muted-foreground",children:jn(new Date(se.assignedDate),"dd MMM",{locale:fo})})]}),c.jsx("h3",{className:"font-semibold tracking-tight truncate",children:se.title}),c.jsxs("p",{className:"text-sm text-muted-foreground truncate",children:[se.exerciseCount," exercice",se.exerciseCount>1?"s":"",se.description?`  ${se.description}`:""]})]}),c.jsx("div",{className:"flex h-10 w-10 shrink-0 items-center justify-center rounded-full bg-muted/50 text-muted-foreground transition-colors group-hover:bg-primary group-hover:text-primary-foreground",children:c.jsx(Tv,{className:"h-4 w-4 ml-0.5"})})]})},se.key))}):c.jsxs("div",{className:"py-12 text-center",children:[c.jsx("div",{className:"mx-auto mb-4 flex h-16 w-16 items-center justify-center rounded-full bg-muted",children:c.jsx(Mi,{className:"h-7 w-7 text-muted-foreground"})}),c.jsx("h3",{className:"font-semibold",children:"Aucune sance"}),c.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Essayez un autre mot-cl ou changez de cycle."})]})]}),E==="settings"&&c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[c.jsxs(Oe,{variant:"ghost",size:"sm",onClick:()=>j("list"),className:"gap-2",children:[c.jsx(Oh,{className:"h-4 w-4"}),"Retour"]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-muted-foreground",children:"Prfrences"}),c.jsx("h2",{className:"text-2xl font-display font-bold uppercase text-primary",children:"Paramtres"})]})]}),c.jsxs(ke,{className:"border border-muted/60 shadow-sm",children:[c.jsxs(it,{children:[c.jsx(st,{className:"text-lg uppercase",children:"Lisibilit & contrastes"}),c.jsx(Yt,{children:"Ajuste l'cran pour rester lisible en bassin comme en extrieur."})]}),c.jsxs(Be,{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center justify-between gap-4 rounded-lg border bg-muted/30 p-4",children:[c.jsxs("div",{className:"space-y-1",children:[c.jsx("p",{className:"text-sm font-semibold uppercase",children:"Mode piscine"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Contraste renforc et lisibilit optimise."})]}),c.jsx(cd,{checked:H,onCheckedChange:se=>T(X=>({...X,poolMode:se}))})]}),c.jsxs("div",{className:"flex items-center justify-between gap-4 rounded-lg border bg-muted/30 p-4",children:[c.jsxs("div",{className:"space-y-1",children:[c.jsx("p",{className:"text-sm font-semibold uppercase",children:"Texte grand"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Police plus large pour lire pendant l'effort."})]}),c.jsx(cd,{checked:K,onCheckedChange:se=>T(X=>({...X,largeText:se}))})]})]})]}),c.jsx(ke,{className:"border border-muted/60 shadow-sm",children:c.jsxs(Be,{className:"space-y-3 pt-6",children:[c.jsxs("div",{className:"flex items-center gap-3 text-sm text-muted-foreground",children:[c.jsx(Qj,{className:"h-4 w-4"}),c.jsx("span",{children:"Les prfrences sont enregistres sur cet appareil."})]}),c.jsxs("div",{className:"flex flex-wrap gap-2 text-xs font-semibold uppercase text-muted-foreground",children:[H&&c.jsx(hn,{variant:"secondary",children:"Mode piscine activ"}),K&&c.jsx(hn,{variant:"secondary",children:"Texte grand activ"}),!H&&!K&&c.jsx(hn,{variant:"outline",children:"Rglages par dfaut"})]})]})})]}),E==="reader"&&d&&c.jsxs("div",{className:"space-y-5 animate-in fade-in pb-40",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("button",{type:"button",onClick:()=>j("list"),className:"flex h-10 w-10 items-center justify-center rounded-full bg-muted/50 text-muted-foreground transition-colors hover:bg-muted active:scale-95","aria-label":"Retour",children:c.jsx(Oh,{className:"h-5 w-5"})}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("p",{className:"text-xs font-semibold uppercase tracking-wider text-muted-foreground truncate",children:Xe.find(se=>se.value===P)?.label}),c.jsx("h1",{className:"text-xl font-bold tracking-tight truncate",children:d.title})]})]}),c.jsxs("div",{className:"relative overflow-hidden rounded-2xl bg-gradient-to-br from-primary/10 via-primary/5 to-transparent border border-primary/20 p-5",children:[c.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-primary/10 rounded-full blur-3xl -mr-12 -mt-12"}),c.jsxs("div",{className:"relative space-y-4",children:[c.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[m&&c.jsxs("span",{className:"inline-flex items-center gap-1.5 rounded-full bg-primary/20 px-3 py-1 text-xs font-bold uppercase text-primary",children:[c.jsx("span",{className:"h-1.5 w-1.5 rounded-full bg-primary"}),"Assigne"]}),!m&&c.jsx("span",{className:"inline-flex items-center rounded-full bg-muted px-3 py-1 text-xs font-semibold text-muted-foreground",children:"Catalogue"}),m?.assigned_date&&c.jsxs("span",{className:"text-xs text-muted-foreground",children:["Prvue le ",jn(new Date(m.assigned_date),"dd MMM",{locale:fo})]})]}),d.description&&c.jsx("p",{className:"text-sm text-muted-foreground leading-relaxed",children:d.description}),c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"flex h-9 w-9 items-center justify-center rounded-xl bg-background/80",children:c.jsx(Mi,{className:"h-4 w-4 text-primary"})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-lg font-bold leading-none",children:je.length}),c.jsx("p",{className:"text-[10px] uppercase text-muted-foreground font-semibold",children:"Exercices"})]})]}),c.jsx("div",{className:"h-8 w-px bg-border"}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"flex h-9 w-9 items-center justify-center rounded-xl bg-background/80",children:c.jsx(AZ,{className:"h-4 w-4 text-muted-foreground"})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-lg font-bold leading-none",children:Xe.find(se=>se.value===P)?.label}),c.jsx("p",{className:"text-[10px] uppercase text-muted-foreground font-semibold",children:"Cycle"})]})]})]})]})]}),c.jsxs("div",{className:"flex items-center justify-between gap-2 pt-1",children:[c.jsxs("span",{className:"text-xs font-semibold uppercase tracking-wider text-muted-foreground",children:[je.length," exercice",je.length>1?"s":""]}),c.jsx("div",{className:"flex-1 h-px bg-border"})]}),c.jsxs("div",{className:"space-y-2",children:[je.map((se,X)=>{const _e=te.get(se.exercise_id),Ee=Number(se.percent_1rm),nt=Number.isFinite(Ee)&&Ee>0,ft=nt?ae?.find(Ct=>Ct.exercise_id===se.exercise_id)?.weight??0:0,$e=nt?Math.round(ft*(Ee/100)):0,ut=nt?$e>0?`${$e} kg (${Ee}% 1RM)`:`${Ee}% 1RM`:null,ot=se.notes?.trim(),Fe=L6(se.sets),he=L6(se.reps),ze=zMe(se.rest_seconds);return c.jsxs(XO,{children:[c.jsx(CPe,{asChild:!0,children:c.jsxs("button",{type:"button",className:"w-full flex items-center gap-3 rounded-xl border bg-card px-3 py-3 text-left transition-all active:scale-[0.98] hover:border-primary/50 hover:shadow-sm",children:[c.jsx("div",{className:"flex h-7 w-7 shrink-0 items-center justify-center rounded-full bg-primary text-xs font-bold text-primary-foreground",children:X+1}),c.jsx("div",{className:"flex-1 min-w-0",children:c.jsx("p",{className:"font-semibold text-sm truncate",children:_e?.nom_exercice??se.exercise_name??"Exercice"})}),c.jsxs("div",{className:"flex items-center gap-2 shrink-0 text-xs font-medium text-muted-foreground",children:[c.jsxs("span",{className:"font-mono",children:[Fe,"",he]}),c.jsx("span",{className:"text-border",children:"|"}),c.jsx("span",{className:"font-mono",children:ze}),c.jsx(Av,{className:"h-4 w-4 text-muted-foreground/50"})]})]})}),c.jsxs(fb,{side:"bottom",className:"max-h-[90vh] overflow-y-auto rounded-t-3xl pb-8",children:[c.jsx(hb,{className:"text-left pb-4",children:c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx("div",{className:"flex h-10 w-10 shrink-0 items-center justify-center rounded-full bg-primary text-sm font-bold text-primary-foreground",children:X+1}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx(mb,{className:"text-xl leading-tight",children:_e?.nom_exercice??se.exercise_name??"Exercice"}),_e?.exercise_type&&c.jsx("p",{className:"text-sm text-muted-foreground mt-0.5",children:_e.exercise_type})]})]})}),c.jsxs("div",{className:"space-y-4",children:[_e?.illustration_gif&&c.jsx("div",{className:"rounded-xl overflow-hidden bg-muted/20 border aspect-video flex items-center justify-center",children:c.jsx("img",{src:_e.illustration_gif,alt:_e.nom_exercice??"Exercice",className:"w-full h-full max-h-36 object-contain",loading:"lazy",decoding:"async"})}),_e?.description&&c.jsx("div",{className:"text-sm text-muted-foreground leading-relaxed",children:_e.description}),c.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[c.jsxs("div",{className:"rounded-xl bg-muted/40 p-3 text-center",children:[c.jsx("p",{className:"text-2xl font-bold leading-none",children:Fe}),c.jsx("p",{className:"text-[10px] uppercase text-muted-foreground font-semibold mt-1",children:"Sries"})]}),c.jsxs("div",{className:"rounded-xl bg-muted/40 p-3 text-center",children:[c.jsx("p",{className:"text-2xl font-bold leading-none",children:he}),c.jsx("p",{className:"text-[10px] uppercase text-muted-foreground font-semibold mt-1",children:"Reps"})]}),c.jsxs("div",{className:"rounded-xl bg-muted/40 p-3 text-center",children:[c.jsx("p",{className:"text-lg font-bold leading-none",children:ut??""}),c.jsx("p",{className:"text-[10px] uppercase text-muted-foreground font-semibold mt-1",children:"Charge"})]}),c.jsxs("div",{className:"rounded-xl bg-muted/40 p-3 text-center",children:[c.jsx("p",{className:"text-lg font-bold leading-none",children:ze}),c.jsx("p",{className:"text-[10px] uppercase text-muted-foreground font-semibold mt-1",children:"Repos"})]})]}),ot&&c.jsxs("div",{className:"rounded-xl bg-primary/5 border border-primary/20 p-4",children:[c.jsx("div",{className:"text-[10px] uppercase text-primary font-semibold mb-1",children:"Notes coach"}),c.jsx("div",{className:"text-sm text-foreground",children:ot})]})]})]})]},`${se.exercise_id}-${X}`)}),je.length===0&&c.jsx("div",{className:"p-6 border-2 border-dashed rounded-xl text-center text-muted-foreground",children:"Aucun exercice disponible pour cette sance."})]}),c.jsx(qW,{children:c.jsxs(Oe,{className:"flex-1 h-14 rounded-xl font-bold text-base bg-primary hover:bg-primary/90 shadow-lg",onClick:wt,children:[c.jsx(Tv,{className:"h-5 w-5 mr-2"}),"Lancer la sance"]})})]})]}),c.jsxs(Pa,{value:"history",className:"space-y-4 pt-4",children:[c.jsxs("div",{className:"grid gap-3 md:grid-cols-3",children:[c.jsxs("div",{className:"space-y-1",children:[c.jsx(Le,{htmlFor:"strength-history-status",children:"Statut"}),c.jsxs(cn,{value:$,onValueChange:B,children:[c.jsx(rn,{id:"strength-history-status",children:c.jsx(un,{placeholder:"Tous"})}),c.jsxs(an,{children:[c.jsx(at,{value:"all",children:"Tous"}),c.jsx(at,{value:"in_progress",children:"En cours"}),c.jsx(at,{value:"completed",children:"Termin"}),c.jsx(at,{value:"abandoned",children:"Abandonn"})]})]})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx(Le,{htmlFor:"strength-history-from",children:"Du"}),c.jsx(et,{id:"strength-history-from",type:"date",value:I,onChange:se=>F(se.target.value)})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx(Le,{htmlFor:"strength-history-to",children:"Au"}),c.jsx(et,{id:"strength-history-to",type:"date",value:V,onChange:se=>U(se.target.value)})]})]}),me.map(se=>c.jsx(ke,{className:"group hover:border-primary/50 transition-colors",children:c.jsxs(it,{className:"pb-2",children:[c.jsxs("div",{className:"flex justify-between",children:[c.jsx(st,{className:"text-base font-bold uppercase",children:jn(new Date(se.started_at||se.date||se.created_at||new Date),"dd MMM yyyy",{locale:fo})}),c.jsxs("div",{className:"text-sm font-mono font-bold text-muted-foreground group-hover:text-primary",children:[se.duration??0," min"]})]}),c.jsxs("div",{className:"flex gap-2 text-xs font-bold text-muted-foreground",children:[c.jsxs("span",{children:["Difficult ",se.feeling??se.rpe??0,"/5"]}),c.jsx("span",{children:""}),c.jsxs("span",{children:[se.logs?.length||0," Sries"]})]})]})},se.id)),me.length===0&&c.jsx("div",{className:"text-center text-muted-foreground py-10",children:"Aucun historique."}),J.hasNextPage&&c.jsx(Oe,{variant:"outline",size:"sm",className:"w-full",onClick:()=>J.fetchNextPage(),disabled:J.isFetchingNextPage,children:J.isFetchingNextPage?"Chargement...":"Charger plus"})]})]})]})})}function GMe(e,t=[]){let n=[];function r(a,o){const l=_.createContext(o);l.displayName=a+"Context";const d=n.length;n=[...n,o];const f=p=>{const{scope:v,children:y,...x}=p,b=v?.[e]?.[d]||l,w=_.useMemo(()=>x,Object.values(x));return c.jsx(b.Provider,{value:w,children:y})};f.displayName=a+"Provider";function m(p,v){const y=v?.[e]?.[d]||l,x=_.useContext(y);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${p}\` must be used within \`${a}\``)}return[f,m]}const i=()=>{const a=n.map(o=>_.createContext(o));return function(l){const d=l?.[e]||a;return _.useMemo(()=>({[`__scope${e}`]:{...l,[e]:d}}),[l,d])}};return i.scopeName=e,[r,KMe(i,...t)]}function KMe(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const o=r.reduce((l,{useScope:d,scopeName:f})=>{const p=d(a)[`__scope${f}`];return{...l,...p}},{});return _.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}var WMe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],JO=WMe.reduce((e,t)=>{const n=u0(`Primitive.${t}`),r=_.forwardRef((i,a)=>{const{asChild:o,...l}=i,d=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),c.jsx(d,{...l,ref:a})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function YMe(){return H6.useSyncExternalStore(XMe,()=>!0,()=>!1)}function XMe(){return()=>{}}var ZO="Avatar",[QMe]=GMe(ZO),[JMe,UW]=QMe(ZO),VW=_.forwardRef((e,t)=>{const{__scopeAvatar:n,...r}=e,[i,a]=_.useState("idle");return c.jsx(JMe,{scope:n,imageLoadingStatus:i,onImageLoadingStatusChange:a,children:c.jsx(JO.span,{...r,ref:t})})});VW.displayName=ZO;var HW="AvatarImage",GW=_.forwardRef((e,t)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:i=()=>{},...a}=e,o=UW(HW,n),l=ZMe(r,a),d=Sr(f=>{i(f),o.onImageLoadingStatusChange(f)});return Ut(()=>{l!=="idle"&&d(l)},[l,d]),l==="loaded"?c.jsx(JO.img,{...a,ref:t,src:r}):null});GW.displayName=HW;var KW="AvatarFallback",WW=_.forwardRef((e,t)=>{const{__scopeAvatar:n,delayMs:r,...i}=e,a=UW(KW,n),[o,l]=_.useState(r===void 0);return _.useEffect(()=>{if(r!==void 0){const d=window.setTimeout(()=>l(!0),r);return()=>window.clearTimeout(d)}},[r]),o&&a.imageLoadingStatus!=="loaded"?c.jsx(JO.span,{...i,ref:t}):null});WW.displayName=KW;function B6(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function ZMe(e,{referrerPolicy:t,crossOrigin:n}){const r=YMe(),i=_.useRef(null),a=r?(i.current||(i.current=new window.Image),i.current):null,[o,l]=_.useState(()=>B6(a,e));return Ut(()=>{l(B6(a,e))},[a,e]),Ut(()=>{const d=p=>()=>{l(p)};if(!a)return;const f=d("loaded"),m=d("error");return a.addEventListener("load",f),a.addEventListener("error",m),t&&(a.referrerPolicy=t),typeof n=="string"&&(a.crossOrigin=n),()=>{a.removeEventListener("load",f),a.removeEventListener("error",m)}},[a,n,t]),o}var YW=VW,XW=GW,QW=WW;const JW=_.forwardRef(({className:e,...t},n)=>c.jsx(YW,{ref:n,className:Ae("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));JW.displayName=YW.displayName;const ZW=_.forwardRef(({className:e,...t},n)=>c.jsx(XW,{ref:n,className:Ae("aspect-square h-full w-full",e),...t}));ZW.displayName=XW.displayName;const eY=_.forwardRef(({className:e,...t},n)=>c.jsx(QW,{ref:n,className:Ae("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));eY.displayName=QW.displayName;const tY=e=>e!=="coach"&&e!=="admin"&&e!=="comite",eke=e=>{switch(e){case"coach":return"Entraineur EAC";case"admin":return"Admin";case"comite":return"Comit";default:return"Nageur"}};function tke(e){if(!e)return"-";const t=new Date(e);return Number.isNaN(t.getTime())?e:t.toLocaleDateString("fr-FR")}function nke(){const{user:e,userId:t,logout:n,role:r}=dn(),{toast:i}=Yr(),a=qi(),o=tY(r),l=r==="athlete"||r==="coach"||r==="admin",d=eke(r),[f,m]=_.useState(!1),[p,v]=_.useState(""),[y,x]=_.useState(""),[b,w]=_.useState({group_id:"",objectives:"",bio:"",avatar_url:"",birthdate:"",ffn_iuf:""}),{data:N}=Pt({queryKey:["profile",e,t],queryFn:()=>Me.getProfile({displayName:e,userId:t}),enabled:!!e}),{data:E=[],isLoading:j}=Pt({queryKey:["profile-groups"],queryFn:()=>Me.getGroups(),enabled:!!e}),O=_.useMemo(()=>{const I=N?.avatar_url;return I||(e?`https://api.dicebear.com/7.x/initials/svg?seed=${encodeURIComponent(e)}`:"")},[N,e]),T=Ot({mutationFn:I=>Me.updateProfile({userId:t,profile:{group_id:I.group_id?Number(I.group_id):null,birthdate:I.birthdate||null,objectives:I.objectives,bio:I.bio,avatar_url:I.avatar_url,ffn_iuf:(I.ffn_iuf||"").trim()||null}}),onSuccess:()=>{a.invalidateQueries({queryKey:["profile"]}),m(!1),i({title:"Profil mis  jour"})},onError:I=>{i({title:"Mise  jour impossible",description:String(I?.message||I),variant:"destructive"})}}),C=Ot({mutationFn:I=>Me.authPasswordUpdate(I),onSuccess:()=>{v(""),x(""),i({title:"Mot de passe mis  jour"})},onError:I=>{i({title:"Mise  jour impossible",description:String(I?.message||I),variant:"destructive"})}}),R=Ot({mutationFn:async()=>{const I=String(N?.ffn_iuf??"").trim();if(!I)throw new Error("IUF FFN manquant. Ajoutez-le dans votre profil.");return Me.syncFfnSwimRecords({athleteId:t??void 0,athleteName:e??void 0,iuf:I})},onSuccess:I=>{a.invalidateQueries({queryKey:["swim-records"]}),i({title:"Records FFN imports",description:`${I?.inserted??0} ajout(s), ${I?.updated??0} mis  jour, ${I?.skipped??0} inchang(s)`})},onError:I=>{i({title:"Import FFN impossible",description:String(I?.message||I),variant:"destructive"})}}),P=()=>{w({group_id:N?.group_id?String(N.group_id):"",objectives:N?.objectives||"",bio:N?.bio||"",avatar_url:N?.avatar_url||"",birthdate:N?.birthdate?String(N.birthdate).split("T")[0]:"",ffn_iuf:N?.ffn_iuf?String(N.ffn_iuf):""}),m(!0)},k=()=>T.mutate(b),$=()=>{if(!p||p.length<6){i({title:"Mot de passe invalide",description:"Minimum 6 caractres.",variant:"destructive"});return}if(p!==y){i({title:"Mot de passe invalide",description:"Les mots de passe ne correspondent pas.",variant:"destructive"});return}C.mutate({password:p})},B=E.find(I=>I.id===N?.group_id)?.name||N?.group_label||"Non dfini";return c.jsxs("div",{className:"space-y-6",children:[c.jsx("h1",{className:"text-3xl font-display font-bold uppercase italic text-primary",children:"Profil"}),c.jsxs(ke,{children:[c.jsxs(it,{className:"relative",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs(JW,{className:"h-16 w-16",children:[c.jsx(ZW,{src:O,alt:e||"Profil"}),c.jsx(eY,{children:(e||"?").slice(0,2).toUpperCase()})]}),c.jsxs("div",{className:"min-w-0",children:[c.jsx("p",{className:"text-xl font-semibold truncate",children:e}),c.jsx("p",{className:"text-sm text-muted-foreground uppercase font-bold tracking-wider",children:d})]})]}),!f&&c.jsx(Oe,{variant:"ghost",size:"icon",className:"absolute top-4 right-4",onClick:P,"aria-label":"Modifier le profil",children:c.jsx(Ch,{className:"h-4 w-4"})})]}),c.jsx(Be,{className:"space-y-4",children:f?c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"grid gap-2",children:[c.jsx(Le,{children:"Groupe"}),c.jsxs(cn,{value:b.group_id,onValueChange:I=>w({...b,group_id:I}),disabled:j,children:[c.jsx(rn,{children:c.jsx(un,{placeholder:j?"Chargement...":"Choisir un groupe"})}),c.jsx(an,{children:E.map(I=>c.jsx(at,{value:String(I.id),children:I.name},I.id))})]})]}),o?c.jsxs("div",{className:"grid gap-2",children:[c.jsx(Le,{children:"IUF FFN"}),c.jsx(et,{value:b.ffn_iuf,onChange:I=>w({...b,ffn_iuf:I.target.value}),placeholder:"879576",inputMode:"numeric"}),c.jsx("div",{className:"text-xs text-muted-foreground",children:"Identifiant unique FFN (utilis pour importer vos records comptition)."})]}):null,c.jsxs("div",{className:"grid gap-2",children:[c.jsx(Le,{children:"Objectifs"}),c.jsx(et,{value:b.objectives,onChange:I=>w({...b,objectives:I.target.value})})]}),c.jsxs("div",{className:"grid gap-2",children:[c.jsx(Le,{children:"Bio"}),c.jsx(Ca,{value:b.bio,onChange:I=>w({...b,bio:I.target.value})})]}),c.jsxs("div",{className:"grid gap-2",children:[c.jsx(Le,{children:"Avatar (URL)"}),c.jsx(et,{value:b.avatar_url,onChange:I=>w({...b,avatar_url:I.target.value}),placeholder:"https://..."})]}),c.jsxs("div",{className:"grid gap-2",children:[c.jsx(Le,{children:"Date de naissance"}),c.jsx(et,{type:"date",value:b.birthdate,onChange:I=>w({...b,birthdate:I.target.value})})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs(Oe,{onClick:k,disabled:T.isPending,className:"w-full",children:[c.jsx(sh,{className:"mr-2 h-4 w-4"}),"Enregistrer"]}),c.jsx(Oe,{variant:"outline",onClick:()=>m(!1),disabled:T.isPending,children:"Annuler"})]})]}):c.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[c.jsxs("div",{children:[c.jsx(Le,{className:"text-xs text-muted-foreground uppercase",children:"Groupe"}),c.jsx("div",{className:"font-medium",children:B})]}),c.jsxs("div",{children:[c.jsx(Le,{className:"text-xs text-muted-foreground uppercase",children:"Date de naissance"}),c.jsx("div",{className:"font-medium",children:tke(N?.birthdate??null)})]}),o?c.jsxs("div",{children:[c.jsx(Le,{className:"text-xs text-muted-foreground uppercase",children:"IUF FFN"}),c.jsx("div",{className:"font-medium",children:String(N?.ffn_iuf??"")||"Non renseign"})]}):null,c.jsxs("div",{className:o?"":"col-span-2",children:[c.jsx(Le,{className:"text-xs text-muted-foreground uppercase",children:"Objectifs"}),c.jsx("div",{className:"font-medium",children:N?.objectives||"Aucun objectif dfini."})]}),c.jsxs("div",{className:"col-span-2",children:[c.jsx(Le,{className:"text-xs text-muted-foreground uppercase",children:"Bio"}),c.jsx("div",{className:"font-medium",children:N?.bio||"Non renseigne."})]})]})}),c.jsx(WA,{className:"flex justify-end",children:c.jsxs(Oe,{variant:"outline",onClick:n,className:"gap-2",children:[c.jsx(nee,{className:"h-4 w-4"}),"Se dconnecter"]})})]}),o?c.jsxs(ke,{children:[c.jsxs(it,{children:[c.jsx(st,{children:"FFN"}),c.jsx(Yt,{children:"Importer vos records comptition depuis Extranat."})]}),c.jsxs(Be,{className:"space-y-3",children:[c.jsxs("div",{className:"text-sm text-muted-foreground",children:["IUF enregistr : ",c.jsx("span",{className:"font-medium text-foreground",children:String(N?.ffn_iuf??"")||""})]}),c.jsxs(Oe,{className:"w-full gap-2",onClick:()=>R.mutate(),disabled:R.isPending||!String(N?.ffn_iuf??"").trim(),children:[c.jsx(Jz,{className:["h-4 w-4",R.isPending?"animate-spin":""].join(" ")}),R.isPending?"Import en cours...":"Rcuprer records depuis FFN"]}),String(N?.ffn_iuf??"").trim()?null:c.jsx("div",{className:"text-xs text-muted-foreground",children:"Ajoutez votre IUF FFN dans le profil (bouton crayon) pour activer limport."})]})]}):null,l?c.jsxs(ke,{children:[c.jsxs(it,{children:[c.jsx(st,{children:"Mot de passe"}),c.jsx(Yt,{children:"Modifiez votre mot de passe."})]}),c.jsxs(Be,{className:"space-y-3",children:[c.jsxs("div",{className:"grid gap-2",children:[c.jsx(Le,{children:"Nouveau mot de passe"}),c.jsx(et,{type:"password",value:p,onChange:I=>v(I.target.value),placeholder:""})]}),c.jsxs("div",{className:"grid gap-2",children:[c.jsx(Le,{children:"Confirmer"}),c.jsx(et,{type:"password",value:y,onChange:I=>x(I.target.value),placeholder:""})]}),c.jsx(Oe,{className:"w-full",onClick:$,disabled:C.isPending,children:"Mettre  jour le mot de passe"})]})]}):null,o?c.jsxs(ke,{children:[c.jsxs(it,{children:[c.jsx(st,{children:"Records"}),c.jsx(Yt,{children:"Consultez vos records de natation et musculation."})]}),c.jsx(Be,{children:c.jsx(Sv,{href:"/records",children:c.jsx(Oe,{asChild:!0,children:c.jsx("a",{children:"Voir mes records"})})})})]}):null]})}const ov=(...e)=>e.filter(Boolean).join(" ");function q6(e){if(!e)return"";const t=new Date(e);return Number.isNaN(t.getTime())?e:t.toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit",year:"2-digit"})}function z6(e){if(e==null)return"";const t=Math.round(Math.max(0,e*1e3)),n=Math.floor(t/6e4),r=Math.floor(t%6e4/1e3),i=Math.floor(t%1e3/10);return n>0?`${n}:${String(r).padStart(2,"0")}.${String(i).padStart(2,"0")}`:`${r}.${String(i).padStart(2,"0")}`}function rke(e){const t=e.trim();if(!t)return null;if(t.includes(":")){const[r,i]=t.split(":"),a=Number(r);if(!Number.isFinite(a)||a<0)return null;const o=i.replace(",","."),l=Number(o);return!Number.isFinite(l)||l<0?null:a*60+l}const n=Number(t.replace(",","."));return!Number.isFinite(n)||n<0?null:n}function ike(e){if(!e)return null;const t=e.match(/FFN\s*\((\d+)\s*pts\)/i);if(!t)return null;const n=Number(t[1]);return Number.isFinite(n)?n:null}function ake({value:e,placeholder:t,onSave:n,onCancel:r,inputMode:i="decimal",hint:a}){const[o,l]=_.useState(e);return _.useEffect(()=>{l(e)},[e]),c.jsx("div",{className:"w-full",children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs("div",{className:"flex-1",children:[c.jsx(et,{value:o,onChange:d=>l(d.target.value),placeholder:t,inputMode:i,className:"h-10 rounded-xl",autoFocus:!0}),a?c.jsx("div",{className:"mt-1 text-xs text-muted-foreground",children:a}):null]}),c.jsx(Oe,{type:"button",onClick:()=>n(o),className:"h-10 w-10 p-0 rounded-xl","aria-label":"Valider",children:c.jsx(go,{className:"h-5 w-5"})}),c.jsx(Oe,{type:"button",variant:"outline",onClick:r,className:"h-10 w-10 p-0 rounded-xl","aria-label":"Annuler",children:c.jsx(Ii,{className:"h-5 w-5"})})]})})}const Zc=()=>c.jsx("div",{className:"h-10 rounded-xl bg-muted animate-pulse"});function ske(){const{user:e,userId:t,role:n}=dn(),{toast:r}=Yr(),i=qi(),a={id:null,event_name:"",pool_length:"",time_seconds:"",record_date:"",notes:""},[o,l]=_.useState("swim"),[d,f]=_.useState(a),[m,p]=_.useState("training"),[v,y]=_.useState(25),[x,b]=_.useState(null),[w,N]=_.useState(null),[E,j]=_.useState(""),O=tY(n);_.useEffect(()=>{window.scrollTo({top:0,left:0,behavior:"auto"})},[]);const T=ie=>{const De=ie?.pool_length??ie?.poolLength??ie?.poolLen??ie?.pool;if(De==null)return null;if(typeof De=="number")return De===25||De===50?De:null;const Ie=String(De).match(/\b(25|50)\b/);if(!Ie)return null;const Xe=Number(Ie[1]);return Xe===25||Xe===50?Xe:null},C=Pt({queryKey:["1rm",e,t],queryFn:()=>Me.get1RM({athleteName:e,athleteId:t}),enabled:!!e&&O}),R=Pt({queryKey:["exercises"],queryFn:()=>Me.getExercises(),enabled:O}),P=Pt({queryKey:["swim-records",t,e],queryFn:()=>Me.getSwimRecords({athleteId:t??void 0,athleteName:e??void 0}),enabled:!!e&&O}),{data:k,isLoading:$,isError:B}=C,{data:I,isLoading:F,isError:V}=R,{data:U,isLoading:D,isFetching:G,isError:z,refetch:Y}=P,de=()=>{Y()};_.useEffect(()=>{m==="comp"&&de()},[m]);const H=Ot({mutationFn:ie=>Me.update1RM({...ie,athlete_id:t,athlete_name:e}),onSuccess:()=>{i.invalidateQueries({queryKey:["1rm"]}),r({title:"1RM mis  jour"})}}),K=Ot({mutationFn:ie=>Me.upsertSwimRecord(ie),onSuccess:()=>{i.invalidateQueries({queryKey:["swim-records"]}),f(a),b(null),r({title:"Record mis  jour"})}});Ot({mutationFn:ie=>Me.syncFfnSwimRecords({athleteId:t??void 0,athleteName:e??void 0,iuf:ie}),onSuccess:ie=>{i.invalidateQueries({queryKey:["swim-records"]}),r({title:"Synchro FFN termine",description:`${ie?.inserted??0} ajout(s), ${ie?.updated??0} mis  jour, ${ie?.skipped??0} inchang(s)`})},onError:ie=>{r({title:"Synchro FFN impossible",description:String(ie?.message||ie),variant:"destructive"})}});const Z=()=>{f(a),b(null)},le=ie=>{const De=T(ie);f({id:ie.id,event_name:ie.event_name??"",pool_length:De?String(De):"",time_seconds:ie.time_seconds!=null?z6(Number(ie.time_seconds)):"",record_date:ie.record_date?String(ie.record_date).split("T")[0]:"",notes:ie.notes??""}),b(ie.id)},be=()=>{if(!d.event_name.trim()){r({title:"Nom d'preuve requis",variant:"destructive"});return}if(!d.pool_length){r({title:"Bassin requis",variant:"destructive"});return}const ie=rke(d.time_seconds);if(ie===null){r({title:"Temps invalide",description:"Ex: 1:02.34 ou 62.34",variant:"destructive"});return}K.mutate({id:d.id||null,athlete_id:t,athleteName:e,athlete_name:e,event_name:d.event_name,pool_length:parseInt(d.pool_length,10),time_seconds:ie,record_date:d.record_date||null,notes:d.notes||null,record_type:m})},ae=ie=>{ie.preventDefault(),be()},J=_.useMemo(()=>(U?.records??[]).filter(dt=>{const Ie=T(dt);if(!Ie||Ie!==v)return!1;const Xe=String(dt.record_type??"training");return m==="comp"?Xe==="comp":Xe==="training"}).sort((dt,Ie)=>{const Xe=String(dt.event_name??""),te=String(Ie.event_name??""),Pe=wt=>String(wt??"").toLowerCase().replace(/\./g,"").replace(/\s+/g," ").trim(),Ue=wt=>{const qt=Pe(wt);return qt.includes("nl")||qt.includes("nage libre")?0:qt.includes("dos")?1:qt.includes("bra")||qt.includes("brasse")?2:qt.includes("pap")||qt.includes("papillon")?3:qt.includes("4n")||qt.includes("4 n")||qt.includes("4 nages")?4:99},Lt=wt=>{const qt=String(wt??"").match(/^(\d+)/);return qt?Number(qt[1]):Number.POSITIVE_INFINITY},jt=Ue(Xe),je=Ue(te);if(jt!==je)return jt-je;const Qe=Lt(Xe),yt=Lt(te);return Qe!==yt?Qe-yt:Pe(Xe).localeCompare(Pe(te),"fr")}),[U,v,m]),me=()=>{f({...a,pool_length:String(v)}),b("add")},oe=ie=>{p(ie),Z()},pe=()=>{y(ie=>ie===25?50:25),Z()},we=(ie,De)=>{N(ie),j(De!=null&&Number(De)>0?String(De):"")},ee=()=>{N(null),j("")},qe=(ie,De)=>{const dt=Number(String(De??"").replace(",","."));if(!Number.isFinite(dt)||dt<=0){r({title:"Valeur invalide",description:"Entrez un nombre > 0",variant:"destructive"});return}H.mutate({exercise_id:ie,one_rm:dt}),ee()},ne=m==="training"?"grid-cols-[minmax(0,1fr)_4.75rem_4.75rem_2.5rem]":"grid-cols-[minmax(0,1fr)_4.75rem_3.75rem_4.75rem]";return O?c.jsx("div",{className:"min-h-[100dvh]",children:c.jsxs("div",{className:"mx-auto max-w-lg",children:[c.jsx("div",{className:"sticky top-0 z-20 backdrop-blur bg-background/80 border-b border-border",children:c.jsxs("div",{className:"px-4 pt-4 pb-3",children:[c.jsx("div",{className:"text-xl font-semibold tracking-tight",children:"Records"}),c.jsx("div",{className:"mt-0.5 text-sm text-muted-foreground",children:"Natation & 1RM musculation"})]})}),c.jsx("div",{className:"px-2 sm:px-4 pt-3",children:c.jsxs(Od,{value:o,onValueChange:ie=>l(ie),children:[c.jsxs(Vl,{className:"w-full rounded-3xl bg-muted/60 border border-border shadow-sm p-1.5 flex",children:[c.jsxs(la,{value:"swim",className:`flex-1 rounded-2xl px-4 py-2.5 text-sm font-semibold uppercase tracking-wide gap-2
                  data-[state=active]:bg-background data-[state=active]:text-foreground
                  data-[state=inactive]:text-muted-foreground`,children:[c.jsx(mi,{className:"h-4 w-4"}),"Natation"]}),c.jsxs(la,{value:"1rm",className:`flex-1 rounded-2xl px-4 py-2.5 text-sm font-semibold uppercase tracking-wide gap-2
                  data-[state=active]:bg-background data-[state=active]:text-foreground
                  data-[state=inactive]:text-muted-foreground`,children:[c.jsx(Mi,{className:"h-4 w-4"}),"Musculation"]})]}),o==="swim"?c.jsx("div",{className:"mt-3",children:c.jsxs("div",{className:"w-full rounded-2xl bg-muted/25 border border-border/60 p-1 flex",children:[c.jsxs("button",{type:"button",onClick:()=>oe("training"),className:ov("flex-1 rounded-2xl px-3 py-2 text-sm max-[360px]:text-xs font-semibold transition inline-flex items-center justify-center gap-2 whitespace-nowrap",m==="training"?"bg-background text-foreground shadow-sm":"text-muted-foreground hover:text-foreground"),"aria-pressed":m==="training",children:[c.jsx(so,{className:"h-4 w-4 max-[360px]:hidden"}),"Entranement"]}),c.jsxs("button",{type:"button",onClick:()=>oe("comp"),className:ov("flex-1 rounded-2xl px-3 py-2 text-sm max-[360px]:text-xs font-semibold transition inline-flex items-center justify-center gap-2 whitespace-nowrap",m==="comp"?"bg-background text-foreground shadow-sm":"text-muted-foreground hover:text-foreground"),"aria-pressed":m==="comp",children:[c.jsx(mi,{className:"h-4 w-4 max-[360px]:hidden"}),"Comptition"]})]})}):null,c.jsxs(Pa,{value:"swim",className:"mt-0",children:[c.jsxs("div",{className:"mt-5 mb-2 flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"h-9 w-9 rounded-2xl bg-muted/50 border border-border flex items-center justify-center",children:m==="training"?c.jsx(so,{className:"h-5 w-5"}):c.jsx(mi,{className:"h-5 w-5"})}),c.jsxs("div",{className:"text-sm font-semibold",children:[m==="training"?"Records entranement":"Records comptition"," "]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs("button",{type:"button",onClick:pe,className:"inline-flex items-center gap-2 whitespace-nowrap rounded-2xl bg-muted/25 border border-border/60 px-3 py-2 text-sm font-semibold active:scale-[0.99] transition","aria-label":"Changer le bassin",title:"Appuie pour basculer 25m / 50m",children:[c.jsx("span",{className:"inline-flex items-center justify-center h-6 w-6 rounded-xl bg-background/60 border border-border",children:c.jsx(mi,{className:"h-4 w-4"})}),c.jsxs("span",{className:"tabular-nums",children:[v,"m"]})]}),m!=="comp"?c.jsx(Oe,{type:"button",size:"sm",onClick:me,className:"rounded-2xl",children:"Ajouter"}):null]})]}),m==="comp"?c.jsx("div",{className:"-mt-1 mb-2 text-xs text-muted-foreground",children:"Records fdration (lecture seule)."}):null,c.jsx(ke,{className:"w-full overflow-hidden rounded-2xl",children:c.jsx(Be,{className:"p-0",children:D?c.jsxs("div",{className:"p-4 grid gap-3",children:[c.jsx(Zc,{}),c.jsx(Zc,{}),c.jsx(Zc,{})]}):z?c.jsx("div",{className:"p-4 text-sm text-muted-foreground",children:"Impossible de charger les records natation."}):J.length===0?c.jsxs("div",{className:"px-4 py-6 text-sm text-muted-foreground",children:["Aucun record en bassin ",v,"m."]}):c.jsxs("div",{className:"w-full",children:[c.jsx("div",{className:"px-3 sm:px-4 py-2 text-[11px] text-muted-foreground border-b border-border",children:c.jsxs("div",{className:ov("grid items-center gap-2",ne),children:[c.jsx("div",{className:"truncate justify-self-start",children:"preuve"}),c.jsx("div",{className:"whitespace-nowrap justify-self-end",children:"Temps"}),m==="comp"?c.jsx("div",{className:"whitespace-nowrap justify-self-end",children:"Pts"}):c.jsx("div",{className:"whitespace-nowrap justify-self-end",children:"Date"}),m==="comp"?c.jsx("div",{className:"whitespace-nowrap justify-self-end",children:"Date"}):c.jsx("div",{className:"sr-only",children:"Actions"})]})}),c.jsx("div",{className:"divide-y divide-border",children:J.map(ie=>{const De=x===ie.id,dt=z6(ie.time_seconds),Ie=q6(ie.record_date),Xe=(ie.notes??"").trim(),te=ie?.ffn_points??ie?.ffnPoints??ie?.points??ie?.pts??null,Pe=te==null||te===""?NaN:Number(te),Ue=Number.isFinite(Pe)?Pe:ike(ie?.notes),Lt=(ie?.meet??ie?.meet_name??ie?.meetName??ie?.competition??"").trim?.()??"";return c.jsxs("div",{className:"px-3 sm:px-4 py-3",children:[c.jsxs("div",{className:ov("grid items-center gap-2",ne),children:[c.jsx("div",{className:"min-w-0 justify-self-start",children:c.jsx("div",{className:"text-sm font-semibold truncate",children:ie.event_name})}),c.jsx("div",{className:"justify-self-end text-sm font-semibold tabular-nums whitespace-nowrap overflow-hidden font-mono",children:dt}),m==="comp"?c.jsx("div",{className:"justify-self-end text-sm tabular-nums text-muted-foreground whitespace-nowrap overflow-hidden",children:Ue==null?"":String(Ue)}):c.jsx("div",{className:"justify-self-end text-sm tabular-nums text-muted-foreground whitespace-nowrap overflow-hidden",children:Ie}),m==="comp"?c.jsx("div",{className:"justify-self-end text-sm tabular-nums text-muted-foreground whitespace-nowrap overflow-hidden",children:Ie}):c.jsx("button",{type:"button",onClick:()=>le(ie),className:"justify-self-end inline-flex items-center justify-center h-9 w-9 rounded-xl bg-transparent text-muted-foreground hover:text-foreground hover:bg-muted/60 focus:outline-none focus:ring-2 focus:ring-ring/20","aria-label":`Modifier ${ie.event_name}`,title:"Modifier",children:c.jsx(Ch,{className:"h-4 w-4"})})]}),m==="comp"&&Lt?c.jsx("div",{className:"mt-1 text-xs text-muted-foreground truncate",children:Lt}):null,m==="training"&&Xe?c.jsx("div",{className:"mt-1 text-xs text-muted-foreground truncate",children:Xe}):null,m==="training"&&De?c.jsx("div",{className:"mt-3",children:c.jsxs("div",{className:"rounded-2xl bg-muted/30 border border-border p-4 space-y-4",children:[c.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[c.jsxs("div",{className:"grid gap-2",children:[c.jsx(Le,{children:"Temps"}),c.jsx(et,{value:d.time_seconds,inputMode:"decimal",placeholder:"1:02.34",onChange:jt=>f({...d,time_seconds:jt.target.value}),className:"rounded-xl"}),c.jsx("div",{className:"text-xs text-muted-foreground",children:"Format: mm:ss.cc ou secondes"})]}),c.jsxs("div",{className:"grid gap-2",children:[c.jsx(Le,{children:"Date"}),c.jsx(et,{type:"date",value:d.record_date,onChange:jt=>f({...d,record_date:jt.target.value}),className:"rounded-xl"})]})]}),c.jsxs("div",{className:"grid gap-2",children:[c.jsx(Le,{children:"Notes"}),c.jsx(Ca,{value:d.notes,onChange:jt=>f({...d,notes:jt.target.value}),rows:2,className:"rounded-xl"})]}),c.jsxs("div",{className:"flex items-center justify-end gap-2",children:[c.jsxs(Oe,{type:"button",size:"sm",variant:"outline",onClick:Z,className:"rounded-2xl gap-2",children:[c.jsx(Ii,{className:"h-4 w-4"}),"Annuler"]}),c.jsxs(Oe,{type:"button",size:"sm",onClick:be,disabled:K.isPending,className:"rounded-2xl gap-2",children:[c.jsx(go,{className:"h-4 w-4"}),"Enregistrer"]})]})]})}):null]},ie.id)})})]})})}),m==="training"&&x==="add"?c.jsx("div",{className:"px-4 mt-4",children:c.jsx("form",{onSubmit:ae,children:c.jsxs("div",{className:"rounded-2xl border border-border p-4 space-y-4",children:[c.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[c.jsxs("div",{className:"grid gap-2",children:[c.jsx(Le,{children:"preuve"}),c.jsx(et,{value:d.event_name,onChange:ie=>f({...d,event_name:ie.target.value}),placeholder:"Ex: 100 NL, 200 Dos",className:"rounded-xl"})]}),c.jsxs("div",{className:"grid gap-2",children:[c.jsx(Le,{children:"Bassin (m)"}),c.jsxs(cn,{value:d.pool_length,onValueChange:ie=>f({...d,pool_length:ie}),children:[c.jsx(rn,{className:"rounded-xl",children:c.jsx(un,{placeholder:"Choisir"})}),c.jsxs(an,{children:[c.jsx(at,{value:"25",children:"25"}),c.jsx(at,{value:"50",children:"50"})]})]})]}),c.jsxs("div",{className:"grid gap-2",children:[c.jsx(Le,{children:"Temps"}),c.jsx(et,{value:d.time_seconds,inputMode:"decimal",placeholder:"1:02.34",onChange:ie=>f({...d,time_seconds:ie.target.value}),className:"rounded-xl"})]}),c.jsxs("div",{className:"grid gap-2",children:[c.jsx(Le,{children:"Date"}),c.jsx(et,{type:"date",value:d.record_date,onChange:ie=>f({...d,record_date:ie.target.value}),className:"rounded-xl"})]})]}),c.jsxs("div",{className:"grid gap-2",children:[c.jsx(Le,{children:"Notes"}),c.jsx(Ca,{value:d.notes,onChange:ie=>f({...d,notes:ie.target.value}),rows:3,className:"rounded-xl"})]}),c.jsxs("div",{className:"flex items-center justify-end gap-2",children:[c.jsx(Oe,{type:"button",variant:"outline",onClick:Z,className:"rounded-2xl",children:"Annuler"}),c.jsx(Oe,{type:"submit",disabled:K.isPending,className:"rounded-2xl",children:"Ajouter"})]})]})})}):null,c.jsx("div",{className:"h-10"})]}),c.jsxs(Pa,{value:"1rm",className:"mt-0",children:[c.jsx("div",{className:"mt-5 mb-2 flex items-center justify-between",children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"h-9 w-9 rounded-2xl bg-muted/50 border border-border flex items-center justify-center",children:c.jsx(Mi,{className:"h-5 w-5"})}),c.jsx("div",{className:"text-sm font-semibold",children:"1RM musculation"})]})}),c.jsx(ke,{className:"w-full overflow-hidden rounded-2xl",children:c.jsxs(Be,{className:"p-0",children:[$||F?c.jsxs("div",{className:"p-4 grid gap-3",children:[c.jsx(Zc,{}),c.jsx(Zc,{}),c.jsx(Zc,{})]}):B||V?c.jsx("div",{className:"p-4 text-sm text-muted-foreground",children:"Impossible de charger les records musculation."}):c.jsx("div",{className:"divide-y divide-border",children:I?.filter(ie=>ie.exercise_type!=="warmup").map(ie=>{const De=k?.find(Pe=>Pe.exercise_id===ie.id),dt=Number(De?.weight??0),Ie=dt>0?`${dt} kg`:"",Xe=De?.recorded_at??De?.date??null,te=w===ie.id;return c.jsxs("div",{className:"px-3 sm:px-4 py-3",children:[c.jsxs("div",{className:"flex items-start justify-between gap-4",children:[c.jsxs("div",{className:"min-w-0",children:[c.jsx("div",{className:"text-sm font-semibold truncate",children:ie.nom_exercice}),c.jsx("div",{className:"mt-0.5 text-xs text-muted-foreground tabular-nums",children:q6(Xe)})]}),c.jsxs("div",{className:"text-right shrink-0",children:[c.jsx("div",{className:"text-base font-semibold tabular-nums whitespace-nowrap font-mono",children:Ie}),te?null:c.jsxs("button",{type:"button",onClick:()=>we(ie.id,De?.weight??null),className:"mt-1 inline-flex items-center gap-1 text-xs text-muted-foreground hover:text-foreground",children:[c.jsx(Ch,{className:"h-3.5 w-3.5"}),"Modifier"]})]})]}),te?c.jsx("div",{className:"mt-3",children:c.jsx(ake,{value:E,placeholder:"Ex: 100",inputMode:"decimal",hint:"Charge max (kg).",onCancel:ee,onSave:Pe=>qe(ie.id,Pe)})}):null]},ie.id)})}),H.isPending?c.jsxs("div",{className:"px-4 pb-4 text-xs text-muted-foreground flex items-center gap-2",children:[c.jsx(Jz,{className:"h-3 w-3 animate-spin"})," Mise  jour..."]}):null]})}),c.jsx("div",{className:"h-10"})]})]})}),c.jsx("div",{className:"pb-10"})]})}):c.jsx("div",{className:"min-h-[100dvh]",children:c.jsxs("div",{className:"mx-auto max-w-lg",children:[c.jsx("div",{className:"sticky top-0 z-20 backdrop-blur bg-background/80 border-b border-border",children:c.jsxs("div",{className:"px-4 pt-4 pb-3",children:[c.jsx("div",{className:"text-xl font-semibold tracking-tight",children:"Records"}),c.jsx("div",{className:"mt-0.5 text-sm text-muted-foreground",children:"Natation & 1RM musculation"})]})}),c.jsx("div",{className:"px-4 pt-4 pb-10",children:c.jsx(ke,{className:"rounded-2xl",children:c.jsx(Be,{className:"pt-6 text-sm text-muted-foreground",children:"Cette page est rserve aux nageurs."})})})]})})}const F6=[{value:"M",label:"Garon"},{value:"F",label:"Fille"}],oke=e=>e==="user"?"Compte":"Ancien";function lke(){const e=dn(E=>E.role),{toast:t}=Yr(),[n,r]=_.useState({display_name:"",iuf:"",sex:"",birthdate:""}),[i,a]=_.useState([]),[o,l]=_.useState(!1),[d,f]=_.useState(null),m=e==="coach"||e==="admin",p=_.useCallback(async()=>{if(m){l(!0),f(null);try{const E=await Me.getClubRecordSwimmers();a(E)}catch(E){const j=Mr(E,"Impossible de charger la liste.");f(j.message),a([])}finally{l(!1)}}},[m]);_.useEffect(()=>{p()},[p]);const v=Ot({mutationFn:()=>Me.createClubRecordSwimmer({display_name:n.display_name.trim(),iuf:n.iuf.trim()||null,sex:n.sex?n.sex:null,birthdate:n.birthdate||null,is_active:!0}),onSuccess:()=>{t({title:"Nageur ajout"}),r({display_name:"",iuf:"",sex:"",birthdate:""}),p()},onError:()=>{t({title:"Impossible d'ajouter le nageur",variant:"destructive"})}}),y=Ot({mutationFn:({id:E,payload:j})=>Me.updateClubRecordSwimmer(E,j),onSuccess:()=>{p()},onError:()=>{t({title:"Mise  jour impossible",variant:"destructive"})}}),x=Ot({mutationFn:({userId:E,payload:j})=>Me.updateClubRecordSwimmerForUser(E,j),onSuccess:()=>{p()},onError:()=>{t({title:"Mise  jour impossible",variant:"destructive"})}}),b=(E,j)=>{if(E.source_type==="user"&&E.user_id){x.mutate({userId:E.user_id,payload:j});return}E.id&&y.mutate({id:E.id,payload:j})},w=Ot({mutationFn:()=>Me.importClubRecords(),onSuccess:E=>{t({title:"Import termin",description:E?`Performances importes: ${E.imported??0}. Erreurs: ${E.errors?.length??0}.`:""}),p()},onError:()=>{t({title:"Import impossible",variant:"destructive"})}}),N=_.useMemo(()=>[...i].sort((E,j)=>E.source_type!==j.source_type?E.source_type.localeCompare(j.source_type):E.display_name.localeCompare(j.display_name)),[i]);return m?c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-display font-bold uppercase italic text-primary",children:"Administration des records"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Grez les nageurs pris en compte pour les records et lancez l'import FFN."})]}),c.jsx(Oe,{onClick:()=>w.mutate(),disabled:w.isPending,children:w.isPending?"Import en cours...":"Mettre  jour les records"})]}),c.jsxs(ke,{children:[c.jsxs(it,{children:[c.jsx(st,{children:"Ajouter un ancien nageur"}),c.jsx(Yt,{children:"Ajoutez un nageur sans compte pour l'import des performances FFN."})]}),c.jsxs(Be,{className:"grid gap-4 md:grid-cols-[2fr_1fr_1fr_1fr_auto]",children:[c.jsx(et,{placeholder:"Nom du nageur",value:n.display_name,onChange:E=>r(j=>({...j,display_name:E.target.value}))}),c.jsx(et,{placeholder:"IUF",value:n.iuf,onChange:E=>r(j=>({...j,iuf:E.target.value}))}),c.jsxs(cn,{value:n.sex,onValueChange:E=>r(j=>({...j,sex:E})),children:[c.jsx(rn,{children:c.jsx(un,{placeholder:"Sexe"})}),c.jsx(an,{children:F6.map(E=>c.jsx(at,{value:E.value,children:E.label},E.value))})]}),c.jsx(et,{type:"date",value:n.birthdate,onChange:E=>r(j=>({...j,birthdate:E.target.value}))}),c.jsx(Oe,{onClick:()=>v.mutate(),disabled:!n.display_name.trim()||v.isPending,children:"Ajouter"})]})]}),c.jsxs(ke,{children:[c.jsxs(it,{children:[c.jsx(st,{children:"Liste des nageurs suivis"}),c.jsx(Yt,{children:"Mettre  jour l'IUF, le sexe ou l'activation pour l'import FFN."})]}),c.jsxs(Be,{children:[o&&c.jsx("p",{className:"text-sm text-muted-foreground",children:"Chargement..."}),d&&c.jsx("p",{className:"text-sm text-destructive",children:d}),!o&&!d&&i.length===0&&c.jsx("p",{className:"text-sm text-muted-foreground",children:"Aucun nageur disponible."}),!o&&!d&&i.length>0&&c.jsxs(Wm,{children:[c.jsx(Ym,{children:c.jsxs(Ea,{children:[c.jsx(In,{children:"Nageur"}),c.jsx(In,{children:"Source"}),c.jsx(In,{children:"IUF"}),c.jsx(In,{children:"Sexe"}),c.jsx(In,{children:"Naissance"}),c.jsx(In,{children:"Actif"})]})}),c.jsx(Xm,{children:N.map(E=>{const j=E.id??`user-${E.user_id??"unknown"}`;return c.jsxs(Ea,{children:[c.jsx(Rn,{className:"font-medium",children:E.display_name}),c.jsx(Rn,{children:c.jsx(hn,{variant:E.source_type==="manual"?"secondary":"outline",children:oke(E.source_type)})}),c.jsx(Rn,{children:c.jsx(et,{defaultValue:E.iuf??"",onBlur:O=>b(E,{iuf:O.target.value.trim()||null})},`${j}-${E.iuf??""}`)}),c.jsx(Rn,{children:c.jsxs(cn,{value:E.sex??"",onValueChange:O=>b(E,{sex:O||null}),children:[c.jsx(rn,{children:c.jsx(un,{placeholder:"Sexe"})}),c.jsx(an,{children:F6.map(O=>c.jsx(at,{value:O.value,children:O.label},O.value))})]})}),c.jsx(Rn,{children:c.jsx(et,{type:"date",defaultValue:E.birthdate??"",onBlur:O=>b(E,{birthdate:O.target.value||null})},`${j}-${E.birthdate??""}`)}),c.jsx(Rn,{children:c.jsx(cd,{checked:!!E.is_active,onCheckedChange:O=>b(E,{is_active:O})})})]},j)})})]})]})]})]}):c.jsxs("div",{className:"space-y-4",children:[c.jsx("h1",{className:"text-3xl font-display font-bold uppercase italic text-primary",children:"Administration des records"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Accs rserv aux coachs."})]})}const cke=[{key:"M",label:"Garons"},{key:"F",label:"Filles"}],uke=[{key:"25",label:"25 m"},{key:"50",label:"50 m"}],dke=[{key:"8",label:"8 ans et -"},{key:"9",label:"9 ans"},{key:"10",label:"10 ans"},{key:"11",label:"11 ans"},{key:"12",label:"12 ans"},{key:"13",label:"13 ans"},{key:"14",label:"14 ans"},{key:"15",label:"15 ans"},{key:"16",label:"16 ans"},{key:"17",label:"17 ans et +"}],fke=[{key:"ALL",label:"Toutes catgories"},...dke],hke=[{key:"ALL",label:"Toutes"},{key:"FREE",label:"Nage libre"},{key:"BACK",label:"Dos"},{key:"BREAST",label:"Brasse"},{key:"FLY",label:"Papillon"},{key:"IM",label:"4 nages"}],U6=[{id:"50_FREE",label:"50 m NL",stroke:"FREE"},{id:"100_FREE",label:"100 m NL",stroke:"FREE"},{id:"200_FREE",label:"200 m NL",stroke:"FREE"},{id:"400_FREE",label:"400 m NL",stroke:"FREE"},{id:"800_FREE",label:"800 m NL",stroke:"FREE"},{id:"1500_FREE",label:"1500 m NL",stroke:"FREE"},{id:"50_BACK",label:"50 m Dos",stroke:"BACK"},{id:"100_BACK",label:"100 m Dos",stroke:"BACK"},{id:"200_BACK",label:"200 m Dos",stroke:"BACK"},{id:"50_BREAST",label:"50 m Brasse",stroke:"BREAST"},{id:"100_BREAST",label:"100 m Brasse",stroke:"BREAST"},{id:"200_BREAST",label:"200 m Brasse",stroke:"BREAST"},{id:"50_FLY",label:"50 m Pap",stroke:"FLY"},{id:"100_FLY",label:"100 m Pap",stroke:"FLY"},{id:"200_FLY",label:"200 m Pap",stroke:"FLY"},{id:"200_IM",label:"200 m 4N",stroke:"IM"},{id:"400_IM",label:"400 m 4N",stroke:"IM"}],mke=e=>{if(!e&&e!==0)return"-";const t=Math.round(e/10),n=t%100,r=Math.floor(t/100),i=r%60,a=Math.floor(r/60),o=l=>String(l).padStart(2,"0");return a>0?`${a}:${o(i)}.${o(n)}`:`${i}.${o(n)}`},pke=e=>{if(!e)return"-";const t=new Date(e);return Number.isNaN(t.getTime())?e:t.toLocaleDateString("fr-FR")},gke=e=>e.replace(/^\d+_/,""),vke=(e,t)=>e.event_label||t.get(e.event_code)||e.event_code;function yke(){const[e,t]=_.useState("25"),[n,r]=_.useState("M"),[i,a]=_.useState("ALL"),[o,l]=_.useState("ALL"),d=i==="ALL"?null:Number(i),{data:f=[],isLoading:m,error:p}=Pt({queryKey:["club-records",e,n,i],queryFn:()=>Me.getClubRecords({pool_m:Number(e),sex:n,age:d})}),v=_.useMemo(()=>new Map(U6.map(b=>[b.id,b.label])),[]),y=_.useMemo(()=>new Map(U6.map((b,w)=>[b.id,w])),[]),x=_.useMemo(()=>[...o==="ALL"?f:f.filter(w=>gke(w.event_code)===o)].sort((w,N)=>{const E=y.get(w.event_code)??999,j=y.get(N.event_code)??999;return E!==j?E-j:w.age!==N.age?w.age-N.age:w.time_ms-N.time_ms}),[f,o,y]);return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("h1",{className:"text-3xl font-display font-bold uppercase italic text-primary",children:"Records du club"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Retrouvez les meilleures performances par preuve, sexe, bassin et catgorie dge."})]}),c.jsxs(ke,{children:[c.jsx(it,{children:c.jsx(st,{className:"text-base",children:"Filtres rapides"})}),c.jsxs(Be,{className:"space-y-4",children:[c.jsxs("div",{className:"grid gap-3 sm:grid-cols-3",children:[c.jsxs(cn,{value:e,onValueChange:t,children:[c.jsx(rn,{children:c.jsx(un,{placeholder:"Bassin"})}),c.jsx(an,{children:uke.map(b=>c.jsx(at,{value:b.key,children:b.label},b.key))})]}),c.jsxs(cn,{value:n,onValueChange:r,children:[c.jsx(rn,{children:c.jsx(un,{placeholder:"Sexe"})}),c.jsx(an,{children:cke.map(b=>c.jsx(at,{value:b.key,children:b.label},b.key))})]}),c.jsxs(cn,{value:i,onValueChange:a,children:[c.jsx(rn,{children:c.jsx(un,{placeholder:"Catgorie d'ge"})}),c.jsx(an,{children:fke.map(b=>c.jsx(at,{value:b.key,children:b.label},b.key))})]})]}),c.jsx(Od,{value:o,onValueChange:l,children:c.jsx(Vl,{className:"flex w-full justify-start gap-2 overflow-x-auto",children:hke.map(b=>c.jsx(la,{value:b.key,className:"shrink-0",children:b.label},b.key))})})]})]}),c.jsxs("div",{className:"space-y-3",children:[m&&c.jsx("div",{className:"text-sm text-muted-foreground",children:"Chargement des records..."}),p&&c.jsx("div",{className:"rounded-md border border-destructive/40 bg-destructive/10 p-3 text-sm text-destructive",children:"Impossible de charger les records. Ressayez plus tard."}),!m&&!p&&x.length===0&&c.jsx("div",{className:"text-sm text-muted-foreground",children:"Aucun record disponible pour ces filtres."}),x.map(b=>c.jsx(ke,{className:"shadow-sm",children:c.jsxs(Be,{className:"flex flex-col gap-3 py-4",children:[c.jsxs("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-start sm:justify-between",children:[c.jsxs("div",{children:[c.jsx("div",{className:"text-xs uppercase tracking-wide text-muted-foreground",children:vke(b,v)}),c.jsx("div",{className:"text-2xl font-semibold text-primary",children:mke(b.time_ms)})]}),c.jsxs("div",{className:"text-sm text-muted-foreground sm:text-right",children:[c.jsx("div",{className:"font-semibold text-foreground",children:b.athlete_name}),c.jsx("div",{children:pke(b.record_date)})]})]}),c.jsxs("div",{className:"flex flex-wrap gap-2",children:[c.jsx(hn,{variant:"secondary",children:b.sex==="M"?"Garons":"Filles"}),c.jsxs(hn,{variant:"outline",children:[b.pool_m," m"]}),c.jsxs(hn,{variant:"outline",children:[b.age," ans"]})]})]})},`${b.event_code}-${b.age}-${b.sex}-${b.pool_m}`))]})]})}const bke=(e,t)=>e.target_group_id?`group:${e.target_group_id}`:t&&e.sender_id!==null&&e.sender_id!==void 0&&e.sender_id!==t?`user:${e.sender_id}`:t&&e.counterparty_id!==null&&e.counterparty_id!==void 0?`user:${e.counterparty_id}`:t&&e.target_user_id?`user:${e.target_user_id}`:e.counterparty_id!==null&&e.counterparty_id!==void 0?`user:${e.counterparty_id}`:e.sender_id!==null&&e.sender_id!==void 0?`user:${e.sender_id}`:e.sender_email?`email:${e.sender_email}`:`sender:${e.sender}`,xke=e=>[...e].sort((t,n)=>new Date(t.date).getTime()-new Date(n.date).getTime()),wke=e=>e.filter(t=>!t.read).map(t=>t.target_id??t.id).filter(t=>Number.isFinite(t)),_ke=({message:e,senderId:t,senderLabel:n,targetUserId:r,targetGroupId:i,title:a="Message"})=>({id:Date.now(),sender:n||"Coach",sender_name:n||null,sender_id:t??null,sender_email:null,target_user_id:r??null,target_group_id:i??null,title:a,message:e,type:"message",read:!0,date:new Date().toISOString()}),Ske=(e,t)=>{const n=new Map;return e.forEach(r=>{const i=bke(r,t);n.has(i)||n.set(i,[]),n.get(i)?.push(r)}),Array.from(n.entries()).map(([r,i])=>{const a=xke(i),o=a[a.length-1],l=i.some(x=>!x.read),d=r.startsWith("user:")?Number(r.split(":")[1]):null,f=r.startsWith("group:")?Number(r.split(":")[1]):null,m=t?i.find(x=>x.sender_id&&x.sender_id!==t)??o:o,p=i.find(x=>x.counterparty_name)?.counterparty_name,v=i.find(x=>x.target_group_name)?.target_group_name??null,y=t?i.find(x=>x.target_id)?.target_id??null:i.find(x=>x.target_id)?.target_id??null;return{key:r,senderId:o.sender_id??null,senderLabel:v??p??m.sender,messages:a,lastMessage:o,lastTimestamp:new Date(o.date).getTime(),hasUnread:l,counterpartyId:Number.isFinite(d)?d:null,targetGroupId:Number.isFinite(f)?f:null,targetGroupName:v,replyTargetId:y}})};function jke(){const{user:e,userId:t,role:n}=dn(),{toast:r}=Yr(),i=qi(),[a,o]=_.useState(null),[l,d]=_.useState(""),{data:f,isLoading:m,error:p}=Pt({queryKey:["notifications",t,e,"threads"],queryFn:()=>Me.notifications_list({targetUserId:t,targetAthleteName:e,limit:200,offset:0,type:"message",order:"desc"}),enabled:!!e,refetchInterval:1e4}),{data:v,error:y}=Pt({queryKey:["capabilities","messaging"],queryFn:()=>Me.getCapabilities(),enabled:Sl.hasSupabase}),x=Ot({mutationFn:$=>Me.notifications_mark_read({targetId:$}),onMutate:async $=>{await i.cancelQueries({queryKey:["notifications"]});const B=i.getQueryData(["notifications",t,e,"threads"]);return i.setQueryData(["notifications",t,e,"threads"],I=>I?.notifications?{...I,notifications:I.notifications.map(F=>(F.target_id??F.id)===$?{...F,read:!0}:F)}:I),{previous:B}},onError:($,B,I)=>{I?.previous&&i.setQueryData(["notifications",t,e,"threads"],I.previous)},onSettled:()=>{i.invalidateQueries({queryKey:["notifications"]})}}),b=Ot({mutationFn:$=>Me.notifications_send({title:"Message",body:$.message,type:"message",targets:[$.targetGroupId?{target_group_id:$.targetGroupId}:{target_user_id:$.targetUserId||null}],reply_to_target_id:$.replyTargetId??void 0}),onMutate:async $=>{if(!$.message.trim())return;await i.cancelQueries({queryKey:["notifications",t,e,"threads"]});const B=i.getQueryData(["notifications",t,e,"threads"]),I=_ke({message:$.message,senderId:t,senderLabel:e??"Coach",targetUserId:$.targetUserId,targetGroupId:$.targetGroupId??null});return i.setQueryData(["notifications",t,e,"threads"],F=>F?.notifications?{...F,notifications:[I,...F.notifications]}:F),{previous:B}},onSuccess:()=>{d(""),i.invalidateQueries({queryKey:["notifications"]})},onError:($,B,I)=>{I?.previous&&i.setQueryData(["notifications",t,e,"threads"],I.previous);const F=Mr($,"Le message n'a pas pu tre envoy.");r({title:"Envoi impossible",description:F.message,variant:"destructive"})}}),w=f?.notifications??[],N=w.filter($=>!$.read).length,E=_.useMemo(()=>Ske(w,t).sort(($,B)=>B.lastTimestamp-$.lastTimestamp),[w,t]),j=E.filter($=>!$.targetGroupId),O=E.filter($=>$.targetGroupId),T=a?E.find($=>$.key===a):null,C=!!(T?.counterpartyId||T?.targetGroupId)&&(n!=="athlete"||!Sl.hasSupabase||!!T?.replyTargetId),R=$=>{o($.key),wke($.messages).forEach(I=>x.mutate(I))};if(m)return c.jsx("div",{className:"p-8 text-center animate-pulse",children:"Chargement..."});const P=y?Mr(y,"Impossible de vrifier la messagerie.").message:v?.mode==="supabase"&&!v.messaging.available?"Messagerie indisponible (tables manquantes ct D1).":null,k=p?Mr(p,"Impossible de charger les messages.").message:null;return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("h1",{className:"text-3xl font-display font-bold uppercase italic text-primary",children:"Messagerie"}),N>0&&c.jsxs(hn,{variant:"destructive",children:[N," non lus"]})]}),P?c.jsx(ke,{className:"border-dashed",children:c.jsx(Be,{className:"py-4 text-sm text-muted-foreground",children:P})}):null,k?c.jsx(ke,{className:"border-destructive/40",children:c.jsx(Be,{className:"py-4 text-sm text-destructive",children:k})}):null,T?c.jsxs("div",{className:"space-y-4",children:[c.jsxs("button",{type:"button",className:"inline-flex items-center gap-2 text-sm text-muted-foreground",onClick:()=>o(null),children:[c.jsx(Wz,{className:"h-4 w-4"}),"Retour"]}),c.jsxs(ke,{children:[c.jsxs(it,{children:[c.jsx(st,{children:T.senderLabel}),c.jsx(Yt,{children:"Conversation"})]}),c.jsx(Be,{className:"space-y-3",children:T.messages.map($=>{const B=$.sender_id===t;return c.jsx("div",{className:`flex ${B?"justify-end":"justify-start"}`,children:c.jsxs("div",{className:`flex items-end gap-2 ${B?"flex-row-reverse":"flex-row"}`,children:[c.jsxs("div",{className:`max-w-[80%] rounded-2xl border px-4 py-3 text-sm shadow-sm ${B?"border-primary/40 bg-primary text-primary-foreground":"border-border bg-muted/50 text-foreground"}`,children:[c.jsx("div",{className:`text-xs ${B?"text-primary-foreground/80":"text-muted-foreground"}`,children:$.sender}),c.jsx("div",{className:"mt-1",children:$.message})]}),c.jsx("span",{className:"text-xs text-muted-foreground",children:jn(new Date($.date),"HH:mm",{locale:fo})})]})},$.id)})})]}),c.jsxs(ke,{children:[c.jsxs(it,{children:[c.jsx(st,{children:C?"Rpondre":"Rponse indisponible"}),c.jsx(Yt,{children:"Rpondez  ce fil."})]}),c.jsx(Be,{className:"space-y-3",children:C?c.jsxs(c.Fragment,{children:[c.jsx(Ca,{value:l,onChange:$=>d($.target.value),placeholder:"Votre message...",rows:3}),c.jsxs(Oe,{onClick:()=>{const $=T.counterpartyId,B=T.targetGroupId;if(!$&&!B){r({title:"Envoi impossible",description:"Destinataire introuvable pour ce fil.",variant:"destructive"});return}b.mutate({targetUserId:$??0,targetGroupId:B,message:l,replyTargetId:n==="athlete"&&Sl.hasSupabase?T.replyTargetId:null})},disabled:!l.trim()||b.isPending,children:[c.jsx(Nee,{className:"mr-2 h-4 w-4"}),"Envoyer"]})]}):c.jsx("div",{className:"text-sm text-muted-foreground",children:n==="athlete"?"Rponse possible uniquement sur un fil existant.":"Aucun destinataire disponible pour ce fil."})})]})]}):c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"space-y-3",children:[c.jsx("div",{className:"text-sm font-bold uppercase text-muted-foreground tracking-wider ml-1",children:"Discussions"}),c.jsxs("div",{className:"space-y-3",children:[j.map($=>c.jsx("button",{type:"button",onClick:()=>R($),className:"w-full text-left",children:c.jsx(ke,{className:"group hover:bg-muted/50 transition-colors border-l-4 border-l-transparent hover:border-l-primary",children:c.jsxs(Be,{className:"p-4 flex items-start gap-4",children:[c.jsx("div",{className:`p-2 rounded-full ${$.hasUnread?"bg-primary/20":"bg-muted"}`,children:c.jsx(ls,{className:"h-4 w-4 text-primary"})}),c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("div",{className:"font-bold",children:$.senderLabel}),c.jsx("div",{className:"text-xs text-muted-foreground",children:jn(new Date($.lastMessage.date),"dd MMM",{locale:fo})})]}),c.jsx("p",{className:"text-sm text-muted-foreground line-clamp-1",children:$.lastMessage.message})]}),$.hasUnread?c.jsx(hn,{variant:"secondary",children:"Non lu"}):null]})})},$.key)),j.length===0?c.jsx(ke,{className:"border-dashed",children:c.jsx(Be,{className:"py-10 text-center text-sm text-muted-foreground",children:"Aucune discussion directe pour le moment."})}):null]})]}),c.jsxs("div",{className:"space-y-3",children:[c.jsx("div",{className:"text-sm font-bold uppercase text-muted-foreground tracking-wider ml-1",children:"Groupes"}),c.jsxs("div",{className:"space-y-3",children:[O.map($=>c.jsx("button",{type:"button",onClick:()=>R($),className:"w-full text-left",children:c.jsx(ke,{className:"group hover:bg-muted/50 transition-colors border-l-4 border-l-transparent hover:border-l-primary",children:c.jsxs(Be,{className:"p-4 flex items-start gap-4",children:[c.jsx("div",{className:`p-2 rounded-full ${$.hasUnread?"bg-primary/20":"bg-muted"}`,children:c.jsx(ls,{className:"h-4 w-4 text-primary"})}),c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("div",{className:"font-bold",children:$.senderLabel}),c.jsx("div",{className:"text-xs text-muted-foreground",children:jn(new Date($.lastMessage.date),"dd MMM",{locale:fo})})]}),c.jsx("p",{className:"text-sm text-muted-foreground line-clamp-1",children:$.lastMessage.message})]}),$.hasUnread?c.jsx(hn,{variant:"secondary",children:"Non lu"}):null]})})},$.key)),O.length===0?c.jsx(ke,{className:"border-dashed",children:c.jsx(Be,{className:"py-10 text-center text-sm text-muted-foreground",children:"Aucun message de groupe pour le moment."})}):null]})]})]})]})}const Nke={assigned:"Assigne",pending:"Assigne",in_progress:"En cours",completed:"Termine",cancelled:"Annule"},Eke=e=>{if(!e)return"-";const t=new Date(e);return Number.isNaN(t.getTime())?e:jn(t,"dd MMM",{locale:fo})};function Ake(){const{user:e,userId:t}=dn(),[n,r]=ud(),[i,a]=_.useState(!0),[o,l]=_.useState(null),{toast:d}=Yr(),f=qi(),m=_.useMemo(()=>{const[,E]=n.split("?");if(!E)return null;const O=new URLSearchParams(E).get("assignmentId"),T=O?Number(O):NaN;return Number.isFinite(T)?T:null},[n]),{data:p,isLoading:v}=Pt({queryKey:["assignments",e],queryFn:()=>Me.getAssignments(e,t),enabled:!!e}),y=p?.filter(E=>E.session_type==="swim")||[],x=m?y.find(E=>E.id===m):y[0],b=GO(x?.items??[]),w=_.useMemo(()=>{if(!x?.items)return 0;const E=new Set;return x.items.forEach(j=>{const O=j.raw_payload??{},T=O.block_title||O.section||"Bloc",C=O.block_order??0;E.add(`${C}-${T}`)}),E.size},[x?.items]),N=Ot({mutationFn:E=>Me.assignments_delete(E),onSuccess:()=>{f.invalidateQueries({queryKey:["assignments"]}),d({title:"Sance retire",description:"La sance a t retire de votre feed."}),r("/")},onError:()=>{d({title:"Erreur",description:"Impossible de retirer la sance.",variant:"destructive"})}});return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(Oe,{variant:"ghost",size:"icon",onClick:()=>r("/"),"aria-label":"Retour  l'accueil",children:c.jsx(Oh,{className:"h-5 w-5"})}),c.jsxs("div",{children:[c.jsx("div",{className:"text-xs uppercase tracking-[0.2em] text-muted-foreground",children:"Sance natation"}),c.jsx("h1",{className:"text-2xl font-display font-bold uppercase",children:"Lecture"})]})]}),x?c.jsx(hn,{variant:"secondary",className:"text-xs",children:Nke[x.status]??"Assigne"}):null]}),c.jsx(ke,{className:"border border-slate-200 shadow-sm",children:c.jsxs(Be,{className:"space-y-4 p-5",children:[c.jsxs("div",{className:"space-y-1",children:[c.jsx("div",{className:"text-lg font-semibold tracking-tight",children:x?.title??"Sance natation"}),x?.description?c.jsx("p",{className:"text-sm text-muted-foreground",children:x.description}):null]}),c.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[c.jsxs("div",{className:"flex flex-wrap gap-2",children:[c.jsx(hn,{variant:"outline",className:"text-xs",children:Eke(x?.assigned_date)}),c.jsxs(hn,{variant:"secondary",className:"text-xs",children:[c.jsx(Zz,{className:"mr-1 h-3.5 w-3.5"})," ",b,"m"]}),c.jsxs(hn,{variant:"secondary",className:"text-xs",children:[c.jsx(Xz,{className:"mr-1 h-3.5 w-3.5"})," ",w," blocs"]})]}),x?c.jsx(Oe,{variant:"ghost",size:"sm",onClick:()=>{window.confirm("Retirer cette sance de votre feed ?")&&N.mutate(x.id)},className:"text-xs text-muted-foreground hover:text-foreground",children:"Retirer de mon feed"}):null,c.jsxs("div",{className:"flex items-center rounded-full border border-slate-200 bg-slate-50 p-1 text-xs font-semibold",children:[c.jsx("button",{type:"button","aria-pressed":i,onClick:()=>a(!0),className:`rounded-full px-3 py-1 transition ${i?"bg-slate-900 text-white shadow-sm":"text-muted-foreground"}`,children:"Condens"}),c.jsx("button",{type:"button","aria-pressed":!i,onClick:()=>a(!1),className:`rounded-full px-3 py-1 transition ${i?"text-muted-foreground":"bg-slate-900 text-white shadow-sm"}`,children:"Dtail"})]})]}),c.jsx(HO,{}),v?c.jsx("div",{className:"text-sm text-muted-foreground",children:"Chargement de la sance..."}):x?c.jsx(pA,{title:x.title,description:x.description,items:x.items,showHeader:!1,compactMode:i,onExerciseSelect:E=>{l(E)}}):c.jsx("div",{className:"rounded-2xl border border-dashed border-muted/70 bg-muted/30 p-6 text-sm text-muted-foreground",children:"Aucune sance de natation assigne pour le moment."})]})}),c.jsx(XO,{open:!!o,onOpenChange:E=>{E||l(null)},children:c.jsxs(fb,{side:"bottom",className:"max-h-[80vh] overflow-y-auto",children:[c.jsx(hb,{children:c.jsx(mb,{children:"Dtails de l'exercice"})}),o?c.jsxs("div",{className:"mt-4 space-y-3",children:[c.jsxs("div",{className:"space-y-1",children:[c.jsx("p",{className:"text-xs uppercase tracking-[0.2em] text-muted-foreground",children:o.blockTitle&&o.blockIndex!==void 0?`Bloc ${o.blockIndex+1}`:"Bloc"}),c.jsx("p",{className:"text-lg font-semibold",children:o.label})]}),c.jsxs("div",{className:"flex flex-wrap gap-2 text-xs text-muted-foreground",children:[o.repetitions?c.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-muted/40 px-2 py-1",children:[o.repetitions,"x"]}):null,o.distance?c.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-muted/40 px-2 py-1",children:[o.distance,"m"]}):null,o.rest?c.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-muted/40 px-2 py-1",children:["Rcup ",o.rest,"s"]}):null,o.stroke?c.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-muted/40 px-2 py-1",children:["Nage : ",o.stroke]}):null,o.strokeType?c.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-muted/40 px-2 py-1",children:["Type : ",o.strokeType]}):null,o.intensity?c.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-muted/40 px-2 py-1",children:["Intensit : ",o.intensity]}):null]}),o.modalities?c.jsx("div",{className:"rounded-2xl border bg-muted/10 p-3 text-sm text-muted-foreground",children:o.modalities}):null,o.equipment?.length?c.jsx("div",{className:"flex flex-wrap gap-2 text-xs text-muted-foreground",children:o.equipment.map(E=>c.jsx("span",{className:"rounded-full border px-2 py-1",children:E},E))}):null]}):null]})})]})}function Tke(){return c.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:c.jsx(ke,{className:"w-full max-w-md mx-4",children:c.jsxs(Be,{className:"pt-6",children:[c.jsxs("div",{className:"flex mb-4 gap-2",children:[c.jsx(DZ,{className:"h-8 w-8 text-red-500"}),c.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),c.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}const Oke=()=>{const e=()=>(window.location.hash||"#/").replace(/^#/,"")||"/",[t,n]=q.useState(e);q.useEffect(()=>{const i=()=>n(e());return window.addEventListener("hashchange",i),()=>window.removeEventListener("hashchange",i)},[]);const r=q.useCallback((i,a)=>{const o=i.startsWith("/")?`#${i}`:`#/${i}`;a?.replace?window.location.replace(o):window.location.hash=o},[]);return[t,r]};function Cke(){const{user:e}=dn();return e?c.jsx(kse,{children:c.jsxs(ck,{children:[c.jsx(or,{path:"/",component:Yhe}),c.jsx(or,{path:"/progress",component:QOe}),c.jsx(or,{path:"/hall-of-fame",component:eCe}),c.jsx(or,{path:"/coach",component:oPe}),c.jsx(or,{path:"/admin",component:bPe}),c.jsx(or,{path:"/administratif",component:TPe}),c.jsx(or,{path:"/comite",component:OPe}),c.jsx(or,{path:"/strength",component:HMe}),c.jsx(or,{path:"/records",component:ske}),c.jsx(or,{path:"/records-admin",component:lke}),c.jsx(or,{path:"/records-club",component:yke}),c.jsx(or,{path:"/swim-session",component:Ake}),c.jsx(or,{path:"/profile",component:nke}),c.jsx(or,{path:"/notifications",component:jke}),c.jsx(or,{path:"/coming-soon",component:tPe}),c.jsx(or,{component:Tke})]})}):c.jsxs(ck,{children:[c.jsx(or,{path:"/",component:Jle}),c.jsx(or,{path:"/:rest*",component:()=>c.jsx(Qy,{to:"/"})})]})}function Rke(){const{loadUser:e}=dn();return q.useEffect(()=>{e()},[e]),c.jsx(lJ,{client:wJ,children:c.jsxs(zre,{children:[c.jsx(Mte,{}),c.jsx(ez,{hook:Oke,children:c.jsx(Cke,{})})]})})}_Q.createRoot(document.getElementById("root")).render(c.jsx(Rke,{}));
