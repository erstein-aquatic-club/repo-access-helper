import{c as h,C as b,I as y,B as I,S as i,a as L}from"./index-Dyae1WSo.js";import{j as e}from"./vendor-ui-DJQMR4VV.js";import{P as F,A as w,a as A,b as k,c as C,d as S,e as D,f as _,g as M}from"./alert-dialog-CsqA_DN1.js";import{C as $}from"./chevron-left-Yt11NKF_.js";import{S as q}from"./save-CxueBLCZ.js";import{C as z}from"./circle-alert-CJjyTAV2.js";import{T}from"./trash-2-Br0HBeec.js";/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],B=h("archive",V);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],X=h("arrow-down",E);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],Y=h("arrow-up",O);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],R=h("pencil",P);function Z({name:c,onNameChange:o,estimatedDuration:t,onEstimatedDurationChange:n,totalDistance:l,showDuration:x=!0,showTotalDistance:u=!0,additionalFields:d}){return e.jsx(b,{className:"rounded-2xl border-border",children:e.jsxs("div",{className:"space-y-3 p-4",children:[e.jsx("div",{className:"text-sm font-semibold",children:"Infos séance"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{className:"col-span-2",children:[e.jsx("div",{className:"text-xs font-semibold text-muted-foreground",children:"Nom"}),e.jsx("div",{className:"mt-1",children:e.jsx(y,{value:c,onChange:r=>o(r.target.value),placeholder:"Nom de la séance",className:"rounded-2xl"})})]}),x&&n&&e.jsxs("div",{children:[e.jsx("div",{className:"text-xs font-semibold text-muted-foreground",children:"Durée estimée (min)"}),e.jsx("div",{className:"mt-1",children:e.jsx(y,{type:"number",min:0,value:t||"",onChange:r=>n(r.target.value===""?0:Number(r.target.value)),placeholder:"55",className:"rounded-2xl"})})]}),u&&l!==void 0&&e.jsxs("div",{children:[e.jsx("div",{className:"text-xs font-semibold text-muted-foreground",children:"Distance totale"}),e.jsxs("div",{className:"mt-1 rounded-2xl border border-border bg-muted px-3 py-2 text-sm font-semibold",children:[l,"m"]})]}),d]})]})})}function ee({isEditing:c,isSaving:o,onSave:t,onCancel:n,onPreview:l,onDelete:x,canDelete:u=!0,deleteDialogTitle:d="Supprimer ?",deleteDialogDescription:r="Cette action est définitive.",archiveDialogTitle:j="Archiver ?",archiveDialogDescription:p="L'élément sera masqué.",pendingArchive:s,onArchiveConfirm:a,onArchiveCancel:m,pendingDelete:N,onDeleteConfirm:v,onDeleteCancel:g}){return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center justify-between border-b border-border px-4 py-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{type:"button",onClick:n,className:"inline-flex h-9 w-9 items-center justify-center rounded-full hover:bg-muted","aria-label":"Retour",children:e.jsx($,{className:"h-4 w-4"})}),e.jsx("div",{className:"text-base font-semibold",children:"Édition"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[l&&e.jsx("button",{type:"button",onClick:l,className:"inline-flex h-9 w-9 items-center justify-center rounded-full hover:bg-muted","aria-label":"Aperçu nageur",title:"Aperçu nageur",children:e.jsx(F,{className:"h-4 w-4"})}),e.jsxs(I,{variant:"default",size:"sm",onClick:t,disabled:o,className:"h-10 rounded-full",children:[e.jsx(q,{className:"h-4 w-4"})," Sauver"]})]})]}),s!==void 0&&a&&m&&e.jsx(w,{open:s,onOpenChange:f=>!f&&m(),children:e.jsxs(A,{children:[e.jsxs(k,{children:[e.jsx(C,{children:j}),e.jsx(S,{children:p})]}),e.jsxs(D,{children:[e.jsx(_,{children:"Annuler"}),e.jsx(M,{onClick:a,children:"Archiver"})]})]})}),N!==void 0&&v&&g&&e.jsx(w,{open:N,onOpenChange:f=>!f&&g(),children:e.jsxs(A,{children:[e.jsxs(k,{children:[e.jsx(C,{children:d}),e.jsx(S,{children:r})]}),e.jsxs(D,{children:[e.jsx(_,{children:"Annuler"}),e.jsx(M,{onClick:v,children:"Supprimer"})]})]})})]})}function se({sessions:c,isLoading:o,error:t,renderTitle:n,renderMetrics:l,onPreview:x,onEdit:u,onArchive:d,onDelete:r,canDelete:j,isDeleting:p}){return o?e.jsx("div",{className:"space-y-3",children:Array.from({length:4}).map((s,a)=>e.jsx(b,{className:"rounded-2xl border-border",children:e.jsx("div",{className:"p-4",children:e.jsxs("div",{className:"flex items-start justify-between gap-3",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx(i,{className:"h-5 w-3/4 mb-2"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(i,{className:"h-4 w-16"}),e.jsx(i,{className:"h-4 w-16"}),e.jsx(i,{className:"h-4 w-12"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(i,{className:"h-9 w-9 rounded-full"}),e.jsx(i,{className:"h-9 w-9 rounded-full"}),e.jsx(i,{className:"h-9 w-9 rounded-full"})]})]})})},`skeleton-${a}`))}):t?e.jsxs("div",{className:"flex flex-col items-center justify-center p-8 text-center",children:[e.jsx(z,{className:"h-12 w-12 text-destructive mb-4"}),e.jsx("h3",{className:"font-semibold",children:"Impossible de charger les données"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:t instanceof Error?t.message:"Une erreur s'est produite"})]}):c.length===0?e.jsx("div",{className:"rounded-2xl border border-dashed border-border bg-muted px-3 py-6 text-center text-sm text-muted-foreground",children:"Aucune séance trouvée. Crée une nouvelle séance pour commencer."}):e.jsx("div",{className:"space-y-3",children:c.map(s=>{const a=j(s.id),m=!a||p;return e.jsx(b,{className:"rounded-2xl border-border",children:e.jsx("div",{className:"p-4",children:e.jsxs("div",{className:"flex items-start justify-between gap-3",children:[e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("div",{className:"text-base font-semibold tracking-tight truncate",children:n(s)}),e.jsx("div",{className:"mt-1 flex items-center gap-2 text-xs text-muted-foreground",children:l(s)})]}),e.jsxs("div",{className:"flex shrink-0 items-center gap-1",children:[e.jsx("button",{type:"button",onClick:()=>x(s),className:"inline-flex h-9 w-9 items-center justify-center rounded-full hover:bg-muted","aria-label":"Aperçu",title:"Aperçu",children:e.jsx(F,{className:"h-4 w-4"})}),e.jsx("button",{type:"button",onClick:()=>u(s),className:"inline-flex h-9 w-9 items-center justify-center rounded-full hover:bg-muted","aria-label":"Modifier",title:"Modifier",children:e.jsx(R,{className:"h-4 w-4"})}),d&&e.jsx("button",{type:"button",onClick:()=>d(s),className:"inline-flex h-9 w-9 items-center justify-center rounded-full hover:bg-muted","aria-label":"Archiver",title:"Archiver",children:e.jsx(B,{className:"h-4 w-4"})}),e.jsx("button",{type:"button",onClick:()=>{m||r(s)},className:L("inline-flex h-9 w-9 items-center justify-center rounded-full hover:bg-muted",m&&"cursor-not-allowed text-muted-foreground"),"aria-label":"Supprimer",title:a?"Supprimer":"Suppression indisponible",children:e.jsx(T,{className:"h-4 w-4"})})]})]})})},s.id)})})}export{Y as A,ee as F,Z as S,X as a,se as b};
