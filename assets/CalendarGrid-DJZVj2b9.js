import{c as f}from"./index-AQJx-bCr.js";import{j as e,r as C}from"./vendor-query-BiSH4r2z.js";import{C as R}from"./chevron-left-Pr1ZJwwJ.js";import{C as _}from"./chevron-right-BrtQbrlZ.js";/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],K=f("circle",F);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],E=f("moon",A);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L=[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]],G=f("power",L);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Q=f("trash-2",Y);function w(...t){return t.filter(Boolean).join(" ")}function I(t){return t.toLocaleDateString("fr-FR",{month:"long",year:"numeric"})}function M({onClick:t,label:s,children:o,tone:i="neutral",disabled:a}){const n={neutral:"bg-background border-border text-foreground hover:bg-muted",dark:"bg-foreground border-foreground text-background hover:opacity-90",sky:"bg-primary/10 border-primary/30 text-primary hover:bg-primary/20"};return e.jsxs("button",{type:"button",onClick:t,disabled:a,className:w("inline-flex items-center justify-center rounded-2xl border p-2 transition",n[i],a&&"opacity-50 cursor-not-allowed hover:bg-background"),"aria-label":s,title:s,children:[o,e.jsx("span",{className:"sr-only",children:s})]})}function U({monthCursor:t,selectedDayStatus:s,onPrevMonth:o,onNextMonth:i,onJumpToday:a}){return e.jsxs("div",{className:"flex items-center justify-between px-3 sm:px-5 py-3 border-b border-border",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(M,{onClick:o,label:"Mois précédent",children:e.jsx(R,{className:"h-5 w-5"})}),e.jsx(M,{onClick:i,label:"Mois suivant",children:e.jsx(_,{className:"h-5 w-5"})})]}),e.jsxs("div",{className:"min-w-0 text-center",children:[e.jsx("div",{className:"text-base font-semibold text-foreground capitalize truncate",children:I(t)}),e.jsx("div",{className:"mt-1 flex items-center justify-center gap-1",children:s.total>0?s.slots.filter(n=>n.expected).map(n=>e.jsx("span",{className:w("h-1.5 w-1.5 rounded-full",n.completed?"bg-status-success":n.absent?"bg-muted-foreground/15":"bg-muted-foreground/30")},n.slotKey)):e.jsx("span",{className:"text-[10px] text-muted-foreground",children:"repos"})})]}),e.jsx(M,{onClick:a,label:"Aller à aujourd'hui",tone:"neutral",children:e.jsx(K,{className:"h-5 w-5"})})]})}function k(...t){return t.filter(Boolean).join(" ")}function P(t){const s=o=>String(o).padStart(2,"0");return`${t.getFullYear()}-${s(t.getMonth()+1)}-${s(t.getDate())}`}const T=C.memo(function({date:s,inMonth:o,isToday:i,isSelected:a,isFocused:n,status:u,strengthAssigned:p,onClick:h,onKeyDown:c}){const{total:r,slots:l}=u,m=r===0,x=l.filter(d=>d.expected),b=x.length>0&&x.every(d=>d.absent),g=r>0&&u.completed===r&&!b,j=m?"bg-muted/30":g?"bg-status-success/10":"bg-card",y="border-border",S=a?"ring-2 ring-primary/30":"",D=i&&!a?"ring-2 ring-primary/50":"",$=n?"ring-2 ring-primary":"",N=l.find(d=>d.slotKey==="AM"),v=l.find(d=>d.slotKey==="PM");return e.jsx("button",{type:"button",onClick:h,onKeyDown:c,tabIndex:n?0:-1,"data-calendar-cell":"true",className:k("aspect-square min-w-0 rounded-2xl border p-1 transition",j,y,!o&&"opacity-40","hover:shadow-sm focus:outline-none",S,D,$),"aria-label":`${P(s)} — ${m?"Repos":`${u.completed}/${r}`}`,children:e.jsxs("div",{className:"flex h-full flex-col justify-between",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsx("div",{className:"text-[12px] font-semibold text-foreground",children:s.getDate()}),e.jsx("div",{className:"h-[14px] w-[14px]"})]}),e.jsx("div",{className:"flex items-center justify-end gap-1",children:m&&!p?e.jsx(E,{className:"h-3 w-3 text-muted-foreground/40"}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-6",children:e.jsxs("div",{className:"flex gap-1",children:[N?.expected?e.jsx("span",{className:k("h-1.5 flex-1 rounded-full",N.completed?"bg-status-success":N.absent?"bg-muted-foreground/15":"bg-muted-foreground/30")}):e.jsx("span",{className:"flex-1"}),v?.expected?e.jsx("span",{className:k("h-1.5 flex-1 rounded-full",v.completed?"bg-status-success":v.absent?"bg-muted-foreground/15":"bg-muted-foreground/30")}):e.jsx("span",{className:"flex-1"})]})}),p?e.jsx("span",{className:"h-1.5 w-1.5 rounded-full bg-orange-400 shrink-0"}):null]})})]})})}),V=["L","M","M","J","V","S","D"],B=["Lun","Mar","Mer","Jeu","Ven","Sam","Dim"];function H(t){const s=o=>String(o).padStart(2,"0");return`${t.getFullYear()}-${s(t.getMonth()+1)}-${s(t.getDate())}`}function O(t,s){return t.getFullYear()===s.getFullYear()&&t.getMonth()===s.getMonth()&&t.getDate()===s.getDate()}function X({monthCursor:t,gridDates:s,completionByISO:o,strengthByISO:i,selectedISO:a,selectedDayIndex:n,today:u,onDayClick:p,onKeyDown:h}){return e.jsx("div",{className:"p-3 sm:p-5",children:e.jsxs("div",{className:"grid grid-cols-7 gap-1.5 sm:gap-2",children:[V.map((c,r)=>e.jsxs("div",{className:"px-0.5 pb-1 text-[10px] font-semibold text-muted-foreground text-center",children:[e.jsx("span",{className:"sm:hidden",children:c}),e.jsx("span",{className:"hidden sm:inline",children:B[r]})]},c+r)),s.map((c,r)=>{const l=H(c),m=c.getMonth()===t.getMonth(),x=l===a,b=o[l]||{completed:0,total:2,slots:[{slotKey:"AM",expected:!0,completed:!1,absent:!1},{slotKey:"PM",expected:!0,completed:!1,absent:!1}]},g=O(c,u),j=n===r||n===null&&g;return e.jsx(T,{date:c,inMonth:m,isToday:g,isSelected:x,isFocused:j,status:b,strengthAssigned:i?.[l],onClick:()=>p(l),onKeyDown:y=>h(y,r)},l)})]})})}export{K as C,E as M,G as P,Q as T,U as a,X as b};
