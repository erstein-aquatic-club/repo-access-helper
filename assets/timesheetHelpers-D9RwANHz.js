import{a as o,t as a}from"./format-B9mPVj_w.js";function m(e,t,n){const r=o(e,n),s=o(t,n);return+r==+s}function d(e,t){const n=a(e),r=a(t);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}const i=e=>{if(!e)return null;const t=e.match(/^(\d{2}):(\d{2})/);return t?Number(t[1])*60+Number(t[2]):null},l=e=>{if(!e.shift_date)return null;const t=new Date(`${e.shift_date}T${e.start_time||"00:00"}`);return Number.isNaN(t.getTime())?null:t},M=e=>{if(!e.end_time)return null;const t=i(e.start_time),n=i(e.end_time);if(t===null||n===null)return null;const r=n-t;return r<0?null:r},f=e=>e.reduce((t,n)=>{const r=M(n);return r===null||(n.is_travel?t.travelMinutes+=r:t.workMinutes+=r,t.totalMinutes=t.workMinutes+t.travelMinutes),t},{workMinutes:0,travelMinutes:0,totalMinutes:0}),h=(e,t=new Date)=>{const n=e.filter(s=>{const u=l(s);return u?m(u,t,{weekStartsOn:1}):!1}),r=e.filter(s=>{const u=l(s);return u?d(u,t):!1});return{week:f(n),month:f(r)}},g=e=>{const t=Math.max(0,Math.round(e)),n=Math.floor(t/60),r=t%60;return`${n}h${String(r).padStart(2,"0")}`};export{h as c,g as f,M as g};
