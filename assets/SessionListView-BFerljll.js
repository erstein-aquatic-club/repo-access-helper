import{c as p,C as g,a as w,I as k,B as L,S as i,Q as R}from"./index-D9MvW9ak.js";import{j as e}from"./vendor-query-BiSH4r2z.js";import{C as V}from"./chevron-down-qEQeuUfW.js";import{P as q,A,a as C,b as D,c as S,d as _,e as M,f as F,g as I}from"./alert-dialog-D3S20H0u.js";import{C as $}from"./chevron-left-23u-yEu1.js";import{S as H}from"./save-Dwmqf4cZ.js";import{C as P}from"./circle-alert-BmM4KlD5.js";import{P as T,T as B}from"./trash-2-CXtBsOUY.js";/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],O=p("archive",E);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],re=p("arrow-down",U);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],ae=p("arrow-up",z);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q=[["path",{d:"M2 9V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H20a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2v-1",key:"fm4g5t"}],["path",{d:"M2 13h10",key:"pgb2dq"}],["path",{d:"m9 16 3-3-3-3",key:"6m91ic"}]],Z=p("folder-input",Q);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G=[["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],le=p("folder-plus",G);function ne({name:x,onNameChange:h,estimatedDuration:a,onEstimatedDurationChange:d,totalDistance:c,showDuration:o=!0,showTotalDistance:b=!0,additionalFields:N,collapsible:t=!1,collapsed:l=!1,onToggleCollapse:j,collapsedSummary:m}){return e.jsx(g,{className:"rounded-2xl border-border",children:e.jsxs("div",{className:"space-y-3 p-4",children:[e.jsxs("button",{type:"button",className:w("flex w-full items-center justify-between text-left",t&&"cursor-pointer"),onClick:t?j:void 0,disabled:!t,children:[e.jsx("div",{className:"text-sm font-semibold",children:"Infos séance"}),t&&e.jsx(V,{className:w("h-4 w-4 text-muted-foreground transition-transform",!l&&"rotate-180")})]}),t&&l&&m&&e.jsx("div",{className:"pt-1",children:m}),(!t||!l)&&e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{className:"col-span-2",children:[e.jsx("div",{className:"text-xs font-semibold text-muted-foreground",children:"Nom"}),e.jsx("div",{className:"mt-1",children:e.jsx(k,{value:x,onChange:r=>h(r.target.value),placeholder:"Nom de la séance",className:"rounded-2xl"})})]}),o&&d&&e.jsxs("div",{children:[e.jsx("div",{className:"text-xs font-semibold text-muted-foreground",children:"Durée estimée (min)"}),e.jsx("div",{className:"mt-1",children:e.jsx(k,{type:"number",min:0,value:a||"",onChange:r=>d(r.target.value===""?0:Number(r.target.value)),placeholder:"55",className:"rounded-2xl"})})]}),b&&c!==void 0&&e.jsxs("div",{children:[e.jsx("div",{className:"text-xs font-semibold text-muted-foreground",children:"Distance totale"}),e.jsxs("div",{className:"mt-1 rounded-2xl border border-border bg-muted px-3 py-2 text-sm font-semibold",children:[c,"m"]})]}),N]})]})})}function ie({isEditing:x,isSaving:h,saveDisabled:a,onSave:d,onCancel:c,onPreview:o,onDelete:b,canDelete:N=!0,deleteDialogTitle:t="Supprimer ?",deleteDialogDescription:l="Cette action est définitive.",archiveDialogTitle:j="Archiver ?",archiveDialogDescription:m="L'élément sera masqué.",pendingArchive:r,onArchiveConfirm:u,onArchiveCancel:s,pendingDelete:n,onDeleteConfirm:f,onDeleteCancel:y}){return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center justify-between border-b border-border px-4 py-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{type:"button",onClick:c,className:"inline-flex h-9 w-9 items-center justify-center rounded-full hover:bg-muted","aria-label":"Retour",children:e.jsx($,{className:"h-4 w-4"})}),e.jsx("div",{className:"text-base font-semibold",children:"Édition"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[o&&e.jsx("button",{type:"button",onClick:o,className:"inline-flex h-9 w-9 items-center justify-center rounded-full hover:bg-muted","aria-label":"Aperçu nageur",title:"Aperçu nageur",children:e.jsx(q,{className:"h-4 w-4"})}),e.jsxs(L,{variant:"default",size:"sm",onClick:d,disabled:h||a,className:"h-10 rounded-full",children:[e.jsx(H,{className:"h-4 w-4"})," Sauver"]})]})]}),r!==void 0&&u&&s&&e.jsx(A,{open:r,onOpenChange:v=>!v&&s(),children:e.jsxs(C,{children:[e.jsxs(D,{children:[e.jsx(S,{children:j}),e.jsx(_,{children:m})]}),e.jsxs(M,{children:[e.jsx(F,{children:"Annuler"}),e.jsx(I,{onClick:u,children:"Archiver"})]})]})}),n!==void 0&&f&&y&&e.jsx(A,{open:n,onOpenChange:v=>!v&&y(),children:e.jsxs(C,{children:[e.jsxs(D,{children:[e.jsx(S,{children:t}),e.jsx(_,{children:l})]}),e.jsxs(M,{children:[e.jsx(F,{children:"Annuler"}),e.jsx(I,{onClick:f,children:"Supprimer"})]})]})})]})}function de({sessions:x,isLoading:h,error:a,renderTitle:d,renderMetrics:c,renderExtraActions:o,onPreview:b,onEdit:N,onArchive:t,onDelete:l,canDelete:j,isDeleting:m,onMove:r,archiveMode:u="archive"}){return h?e.jsx("div",{className:"space-y-3",children:Array.from({length:4}).map((s,n)=>e.jsx(g,{className:"rounded-2xl border-border",children:e.jsx("div",{className:"p-4",children:e.jsxs("div",{className:"flex items-start justify-between gap-3",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx(i,{className:"h-5 w-3/4 mb-2"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(i,{className:"h-4 w-16"}),e.jsx(i,{className:"h-4 w-16"}),e.jsx(i,{className:"h-4 w-12"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(i,{className:"h-9 w-9 rounded-full"}),e.jsx(i,{className:"h-9 w-9 rounded-full"}),e.jsx(i,{className:"h-9 w-9 rounded-full"})]})]})})},`skeleton-${n}`))}):a?e.jsxs("div",{className:"flex flex-col items-center justify-center p-8 text-center",children:[e.jsx(P,{className:"h-12 w-12 text-destructive mb-4"}),e.jsx("h3",{className:"font-semibold",children:"Impossible de charger les données"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:a instanceof Error?a.message:"Une erreur s'est produite"})]}):x.length===0?e.jsx("div",{className:"rounded-2xl border border-dashed border-border bg-muted px-3 py-6 text-center text-sm text-muted-foreground",children:"Aucune séance trouvée. Crée une nouvelle séance pour commencer."}):e.jsx("div",{className:"space-y-3",children:x.map(s=>{const n=j(s.id),f=!n||m;return e.jsx(g,{className:"rounded-2xl border-border",children:e.jsx("div",{className:"p-4",children:e.jsxs("div",{className:"flex items-start justify-between gap-3",children:[e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("div",{className:"text-base font-semibold tracking-tight truncate",children:d(s)}),e.jsx("div",{className:"mt-1 flex items-center gap-2 text-xs text-muted-foreground",children:c(s)})]}),e.jsxs("div",{className:"flex shrink-0 items-center gap-1",children:[e.jsx("button",{type:"button",onClick:()=>b(s),className:"inline-flex h-9 w-9 items-center justify-center rounded-full hover:bg-muted","aria-label":"Aperçu",title:"Aperçu",children:e.jsx(q,{className:"h-4 w-4"})}),e.jsx("button",{type:"button",onClick:()=>N(s),className:"inline-flex h-9 w-9 items-center justify-center rounded-full hover:bg-muted","aria-label":"Modifier",title:"Modifier",children:e.jsx(T,{className:"h-4 w-4"})}),r&&e.jsx("button",{type:"button",onClick:()=>r(s),className:"inline-flex h-9 w-9 items-center justify-center rounded-full hover:bg-muted","aria-label":"Déplacer",title:"Déplacer dans un dossier",children:e.jsx(Z,{className:"h-4 w-4"})}),t&&e.jsx("button",{type:"button",onClick:()=>t(s),className:"inline-flex h-9 w-9 items-center justify-center rounded-full hover:bg-muted","aria-label":u==="restore"?"Restaurer":"Archiver",title:u==="restore"?"Restaurer":"Archiver",children:u==="restore"?e.jsx(R,{className:"h-4 w-4"}):e.jsx(O,{className:"h-4 w-4"})}),o?.(s),e.jsx("button",{type:"button",onClick:()=>{f||l(s)},className:w("inline-flex h-9 w-9 items-center justify-center rounded-full hover:bg-muted",f&&"cursor-not-allowed text-muted-foreground"),"aria-label":"Supprimer",title:n?"Supprimer":"Suppression indisponible",children:e.jsx(B,{className:"h-4 w-4"})})]})]})})},s.id)})})}export{ae as A,ie as F,ne as S,re as a,Z as b,le as c,de as d,O as e};
