import{l as T,j as e,a as L,L as H,B as A,W as D,D as V,C as g,g as p,h as j,T as y,i as N,k as q}from"./index-DqxBy9a5.js";import{T as B,a as $,b as C,c as F}from"./tabs-DWvja1RP.js";import{B as z}from"./badge-CiNZkEw9.js";import{s as E}from"./score-CwBbkHfb.js";/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],I=T("crown",O);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],K=T("heart",P);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W=[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]],R=T("medal",W),Q="rounded-full px-3 py-1 text-lg font-mono font-bold md:text-xl",G=t=>{const a=t.match(/hsl\((\d+(?:\.\d+)?)\s+(\d+(?:\.\d+)?)%\s+(\d+(?:\.\d+)?)%\)/);if(!a)return"#000";const[,l,d,m]=a,n=Number(l),w=Number(d)/100,h=Number(m)/100,c=(1-Math.abs(2*h-1))*w,o=c*(1-Math.abs(n/60%2-1)),f=h-c/2;let u=0,x=0,i=0;n>=0&&n<60?(u=c,x=o):n>=60&&n<120?(u=o,x=c):n>=120&&n<180?(x=c,i=o):n>=180&&n<240?(x=o,i=c):n>=240&&n<300?(u=o,i=c):(u=c,i=o);const s=Math.round((u+f)*255),r=Math.round((x+f)*255),_=Math.round((i+f)*255);return .2126*s+.7152*r+.0722*_>155?"#000":"#fff"};function b({value:t,toneScore:a}){const l=E(a??null)??"hsl(var(--muted-foreground))";return e.jsx(z,{className:Q,style:{backgroundColor:l,color:G(l)},children:t})}const S=t=>{if(t==null)return null;const a=Number(t);return!Number.isFinite(a)||a<=0?null:a<=5?Math.min(5,a):Math.min(5,a/2)},k=t=>{const a=t.filter(l=>Number.isFinite(l));return a.length===0?null:{min:Math.min(...a),max:Math.max(...a)}},M=(t,a)=>{if(!Number.isFinite(t)||t===null||t===void 0||t<=0||!a||a.max<=0)return null;if(a.max===a.min)return 5;const d=1+(t-a.min)/(a.max-a.min)*4;return Math.max(1,Math.min(5,d))},v=(t,a)=>{if(t==null||!Number.isFinite(t))return"-";const{decimals:l=0,suffix:d}=a??{},m=t.toLocaleString(void 0,{minimumFractionDigits:l,maximumFractionDigits:l});return d?`${m} ${d}`:m};function ee(){const{data:t}=L({queryKey:["hall-of-fame"],queryFn:()=>q.getHallOfFame()}),a=t?.distance??[],l=t?.performance??[],d=t?.engagement??[],m=t?.strength??[],n=a.map(s=>({...s,total_distance:Number(s.total_distance??0)})),w=l.map(s=>({...s,avg_effort:S(s.avg_effort)})),h=d.map(s=>({...s,avg_engagement:S(s.avg_engagement)})),c=[...m].sort((s,r)=>Number(r.total_volume??0)-Number(s.total_volume??0)).slice(0,5),o=[...m].sort((s,r)=>Number(r.total_reps??0)-Number(s.total_reps??0)).slice(0,5),f=k(n.map(s=>Number(s.total_distance??0))),u=k(c.map(s=>Number(s.total_volume??0))),x=k(o.map(s=>Number(s.total_reps??0))),i=({rank:s})=>s===0?e.jsx(I,{className:"h-6 w-6 text-yellow-500 fill-yellow-500"}):s===1?e.jsx(R,{className:"h-5 w-5 text-gray-400 fill-gray-400"}):s===2?e.jsx(R,{className:"h-5 w-5 text-amber-700 fill-amber-700"}):e.jsx("span",{className:"font-mono font-bold text-muted-foreground w-6 text-center",children:s+1});return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[e.jsx("h1",{className:"text-3xl font-display font-bold uppercase italic text-primary",children:"Hall of Fame"}),e.jsx(H,{href:"/records-club",children:e.jsx(A,{variant:"outline",children:"Voir les records du club"})})]}),e.jsxs(B,{defaultValue:"swim",className:"w-full",children:[e.jsxs($,{className:"grid w-full grid-cols-2",children:[e.jsxs(C,{value:"swim",children:[e.jsx(D,{className:"mr-2 h-4 w-4"})," Bassin"]}),e.jsxs(C,{value:"strength",children:[e.jsx(V,{className:"mr-2 h-4 w-4"})," Muscu"]})]}),e.jsx(F,{value:"swim",className:"space-y-6 pt-4 animate-in slide-in-from-left-4 motion-reduce:animate-none",children:e.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[e.jsxs(g,{className:"border-t-4 border-t-yellow-500 shadow-md",children:[e.jsx(p,{children:e.jsxs(j,{className:"flex items-center gap-2 text-base",children:[e.jsx(y,{className:"h-5 w-5 text-yellow-500"}),"Top Distance"]})}),e.jsxs(N,{className:"space-y-4",children:[n.map((s,r)=>{const _=s.total_distance?s.total_distance/1e3:0;return e.jsxs("div",{className:"flex items-center justify-between gap-3 p-3 rounded-lg bg-muted/30",children:[e.jsxs("div",{className:"flex items-center gap-4 min-w-0",children:[e.jsx(i,{rank:r}),e.jsx("div",{className:"font-bold uppercase tracking-tight truncate",children:s.athlete_name})]}),e.jsx("div",{className:"shrink-0",children:e.jsx(b,{value:v(_,{decimals:1,suffix:"km"}),toneScore:M(s.total_distance,f)})})]},s.athlete_name)}),n.length===0&&e.jsx("div",{className:"text-center text-muted-foreground py-4",children:"Aucune donnée"})]})]}),e.jsxs(g,{className:"border-t-4 border-t-orange-500 shadow-md",children:[e.jsx(p,{children:e.jsxs(j,{className:"flex items-center gap-2 text-base",children:[e.jsx(y,{className:"h-5 w-5 text-orange-500"}),"Top Intensité (RPE Avg)"]})}),e.jsxs(N,{className:"space-y-4",children:[w.map((s,r)=>e.jsxs("div",{className:"flex items-center justify-between gap-3 p-3 rounded-lg bg-muted/30",children:[e.jsxs("div",{className:"flex items-center gap-4 min-w-0",children:[e.jsx(i,{rank:r}),e.jsx("div",{className:"font-bold uppercase tracking-tight truncate",children:s.athlete_name})]}),e.jsx("div",{className:"shrink-0",children:e.jsx(b,{value:v(s.avg_effort,{decimals:1}),toneScore:s.avg_effort})})]},s.athlete_name)),w.length===0&&e.jsx("div",{className:"text-center text-muted-foreground py-4",children:"Aucune donnée"})]})]}),e.jsxs(g,{className:"border-t-4 border-t-rose-500 shadow-md",children:[e.jsx(p,{children:e.jsxs(j,{className:"flex items-center gap-2 text-base",children:[e.jsx(K,{className:"h-5 w-5 text-rose-500"}),"Top Engagement"]})}),e.jsxs(N,{className:"space-y-4",children:[h.map((s,r)=>e.jsxs("div",{className:"flex items-center justify-between gap-3 p-3 rounded-lg bg-muted/30",children:[e.jsxs("div",{className:"flex items-center gap-4 min-w-0",children:[e.jsx(i,{rank:r}),e.jsx("div",{className:"font-bold uppercase tracking-tight truncate",children:s.athlete_name})]}),e.jsx("div",{className:"shrink-0",children:e.jsx(b,{value:v(s.avg_engagement,{decimals:1}),toneScore:s.avg_engagement})})]},`${s.athlete_name}-engagement`)),h.length===0&&e.jsx("div",{className:"text-center text-muted-foreground py-4",children:"Aucune donnée"})]})]})]})}),e.jsx(F,{value:"strength",className:"space-y-6 pt-4 animate-in slide-in-from-right-4 motion-reduce:animate-none",children:e.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[e.jsxs(g,{className:"border-t-4 border-t-emerald-500 shadow-md",children:[e.jsx(p,{children:e.jsxs(j,{className:"flex items-center gap-2 text-base",children:[e.jsx(y,{className:"h-5 w-5 text-emerald-500"}),"Top Tonnage"]})}),e.jsxs(N,{className:"space-y-4",children:[c.map((s,r)=>e.jsxs("div",{className:"flex items-center justify-between gap-3 p-3 rounded-lg bg-muted/30",children:[e.jsxs("div",{className:"flex items-center gap-4 min-w-0",children:[e.jsx(i,{rank:r}),e.jsx("div",{className:"font-bold uppercase tracking-tight truncate",children:s.athlete_name})]}),e.jsx("div",{className:"shrink-0",children:e.jsx(b,{value:v(Number(s.total_volume??0),{suffix:"kg"}),toneScore:M(Number(s.total_volume??0),u)})})]},s.athlete_name)),c.length===0&&e.jsx("div",{className:"text-center text-muted-foreground py-4",children:"Aucune donnée"})]})]}),e.jsxs(g,{className:"border-t-4 border-t-violet-500 shadow-md",children:[e.jsx(p,{children:e.jsxs(j,{className:"flex items-center gap-2 text-base",children:[e.jsx(y,{className:"h-5 w-5 text-violet-500"}),"Top Volume (Répétitions)"]})}),e.jsxs(N,{className:"space-y-4",children:[o.map((s,r)=>e.jsxs("div",{className:"flex items-center justify-between gap-3 p-3 rounded-lg bg-muted/30",children:[e.jsxs("div",{className:"flex items-center gap-4 min-w-0",children:[e.jsx(i,{rank:r}),e.jsx("div",{className:"font-bold uppercase tracking-tight truncate",children:s.athlete_name})]}),e.jsx("div",{className:"shrink-0",children:e.jsx(b,{value:v(Number(s.total_reps??0),{suffix:"reps"}),toneScore:M(Number(s.total_reps??0),x)})})]},`${s.athlete_name}-reps`)),o.length===0&&e.jsx("div",{className:"text-center text-muted-foreground py-4",children:"Aucune donnée"})]})]})]})})]})]})}export{ee as default};
