function aQ(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var ag=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function nn(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var fw={exports:{}},jf={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qM;function sQ(){if(qM)return jf;qM=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,i,a){var o=null;if(a!==void 0&&(o=""+a),i.key!==void 0&&(o=""+i.key),"key"in i){a={};for(var l in i)l!=="key"&&(a[l]=i[l])}else a=i;return i=a.ref,{$$typeof:e,type:r,key:o,ref:i!==void 0?i:null,props:a}}return jf.Fragment=t,jf.jsx=n,jf.jsxs=n,jf}var zM;function oQ(){return zM||(zM=1,fw.exports=sQ()),fw.exports}var u=oQ(),hw={exports:{}},Ef={},mw={exports:{}},pw={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UM;function lQ(){return UM||(UM=1,(function(e){function t(D,G){var z=D.length;D.push(G);e:for(;0<z;){var X=z-1>>>1,ue=D[X];if(0<i(ue,G))D[X]=G,D[z]=ue,z=X;else break e}}function n(D){return D.length===0?null:D[0]}function r(D){if(D.length===0)return null;var G=D[0],z=D.pop();if(z!==G){D[0]=z;e:for(var X=0,ue=D.length,V=ue>>>1;X<V;){var K=2*(X+1)-1,Z=D[K],oe=K+1,be=D[oe];if(0>i(Z,z))oe<ue&&0>i(be,Z)?(D[X]=be,D[oe]=z,X=oe):(D[X]=Z,D[K]=z,X=K);else if(oe<ue&&0>i(be,z))D[X]=be,D[oe]=z,X=oe;else break e}}return G}function i(D,G){var z=D.sortIndex-G.sortIndex;return z!==0?z:D.id-G.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var d=[],f=[],m=1,p=null,v=3,b=!1,x=!1,y=!1,w=!1,E=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;function O(D){for(var G=n(f);G!==null;){if(G.callback===null)r(f);else if(G.startTime<=D)r(f),G.sortIndex=G.expirationTime,t(d,G);else break;G=n(f)}}function T(D){if(y=!1,O(D),!x)if(n(d)!==null)x=!0,C||(C=!0,$());else{var G=n(f);G!==null&&U(T,G.startTime-D)}}var C=!1,R=-1,M=5,k=-1;function I(){return w?!0:!(e.unstable_now()-k<M)}function B(){if(w=!1,C){var D=e.unstable_now();k=D;var G=!0;try{e:{x=!1,y&&(y=!1,N(R),R=-1),b=!0;var z=v;try{t:{for(O(D),p=n(d);p!==null&&!(p.expirationTime>D&&I());){var X=p.callback;if(typeof X=="function"){p.callback=null,v=p.priorityLevel;var ue=X(p.expirationTime<=D);if(D=e.unstable_now(),typeof ue=="function"){p.callback=ue,O(D),G=!0;break t}p===n(d)&&r(d),O(D)}else r(d);p=n(d)}if(p!==null)G=!0;else{var V=n(f);V!==null&&U(T,V.startTime-D),G=!1}}break e}finally{p=null,v=z,b=!1}G=void 0}}finally{G?$():C=!1}}}var $;if(typeof j=="function")$=function(){j(B)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,H=F.port2;F.port1.onmessage=B,$=function(){H.postMessage(null)}}else $=function(){E(B,0)};function U(D,G){R=E(function(){D(e.unstable_now())},G)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(D){D.callback=null},e.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<D?Math.floor(1e3/D):5},e.unstable_getCurrentPriorityLevel=function(){return v},e.unstable_next=function(D){switch(v){case 1:case 2:case 3:var G=3;break;default:G=v}var z=v;v=G;try{return D()}finally{v=z}},e.unstable_requestPaint=function(){w=!0},e.unstable_runWithPriority=function(D,G){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var z=v;v=D;try{return G()}finally{v=z}},e.unstable_scheduleCallback=function(D,G,z){var X=e.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?X+z:X):z=X,D){case 1:var ue=-1;break;case 2:ue=250;break;case 5:ue=1073741823;break;case 4:ue=1e4;break;default:ue=5e3}return ue=z+ue,D={id:m++,callback:G,priorityLevel:D,startTime:z,expirationTime:ue,sortIndex:-1},z>X?(D.sortIndex=z,t(f,D),n(d)===null&&D===n(f)&&(y?(N(R),R=-1):y=!0,U(T,z-X))):(D.sortIndex=ue,t(d,D),x||b||(x=!0,C||(C=!0,$()))),D},e.unstable_shouldYield=I,e.unstable_wrapCallback=function(D){var G=v;return function(){var z=v;v=G;try{return D.apply(this,arguments)}finally{v=z}}}})(pw)),pw}var FM;function cQ(){return FM||(FM=1,mw.exports=lQ()),mw.exports}var gw={exports:{}},bt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VM;function uQ(){if(VM)return bt;VM=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),p=Symbol.for("react.activity"),v=Symbol.iterator;function b(V){return V===null||typeof V!="object"?null:(V=v&&V[v]||V["@@iterator"],typeof V=="function"?V:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y=Object.assign,w={};function E(V,K,Z){this.props=V,this.context=K,this.refs=w,this.updater=Z||x}E.prototype.isReactComponent={},E.prototype.setState=function(V,K){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,K,"setState")},E.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function N(){}N.prototype=E.prototype;function j(V,K,Z){this.props=V,this.context=K,this.refs=w,this.updater=Z||x}var O=j.prototype=new N;O.constructor=j,y(O,E.prototype),O.isPureReactComponent=!0;var T=Array.isArray;function C(){}var R={H:null,A:null,T:null,S:null},M=Object.prototype.hasOwnProperty;function k(V,K,Z){var oe=Z.ref;return{$$typeof:e,type:V,key:K,ref:oe!==void 0?oe:null,props:Z}}function I(V,K){return k(V.type,K,V.props)}function B(V){return typeof V=="object"&&V!==null&&V.$$typeof===e}function $(V){var K={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(Z){return K[Z]})}var F=/\/+/g;function H(V,K){return typeof V=="object"&&V!==null&&V.key!=null?$(""+V.key):K.toString(36)}function U(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(C,C):(V.status="pending",V.then(function(K){V.status==="pending"&&(V.status="fulfilled",V.value=K)},function(K){V.status==="pending"&&(V.status="rejected",V.reason=K)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function D(V,K,Z,oe,be){var ae=typeof V;(ae==="undefined"||ae==="boolean")&&(V=null);var J=!1;if(V===null)J=!0;else switch(ae){case"bigint":case"string":case"number":J=!0;break;case"object":switch(V.$$typeof){case e:case t:J=!0;break;case m:return J=V._init,D(J(V._payload),K,Z,oe,be)}}if(J)return be=be(V),J=oe===""?"."+H(V,0):oe,T(be)?(Z="",J!=null&&(Z=J.replace(F,"$&/")+"/"),D(be,K,Z,"",function(pe){return pe})):be!=null&&(B(be)&&(be=I(be,Z+(be.key==null||V&&V.key===be.key?"":(""+be.key).replace(F,"$&/")+"/")+J)),K.push(be)),1;J=0;var he=oe===""?".":oe+":";if(T(V))for(var se=0;se<V.length;se++)oe=V[se],ae=he+H(oe,se),J+=D(oe,K,Z,ae,be);else if(se=b(V),typeof se=="function")for(V=se.call(V),se=0;!(oe=V.next()).done;)oe=oe.value,ae=he+H(oe,se++),J+=D(oe,K,Z,ae,be);else if(ae==="object"){if(typeof V.then=="function")return D(U(V),K,Z,oe,be);throw K=String(V),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return J}function G(V,K,Z){if(V==null)return V;var oe=[],be=0;return D(V,oe,"","",function(ae){return K.call(Z,ae,be++)}),oe}function z(V){if(V._status===-1){var K=V._result;K=K(),K.then(function(Z){(V._status===0||V._status===-1)&&(V._status=1,V._result=Z)},function(Z){(V._status===0||V._status===-1)&&(V._status=2,V._result=Z)}),V._status===-1&&(V._status=0,V._result=K)}if(V._status===1)return V._result.default;throw V._result}var X=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)},ue={map:G,forEach:function(V,K,Z){G(V,function(){K.apply(this,arguments)},Z)},count:function(V){var K=0;return G(V,function(){K++}),K},toArray:function(V){return G(V,function(K){return K})||[]},only:function(V){if(!B(V))throw Error("React.Children.only expected to receive a single React element child.");return V}};return bt.Activity=p,bt.Children=ue,bt.Component=E,bt.Fragment=n,bt.Profiler=i,bt.PureComponent=j,bt.StrictMode=r,bt.Suspense=d,bt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,bt.__COMPILER_RUNTIME={__proto__:null,c:function(V){return R.H.useMemoCache(V)}},bt.cache=function(V){return function(){return V.apply(null,arguments)}},bt.cacheSignal=function(){return null},bt.cloneElement=function(V,K,Z){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var oe=y({},V.props),be=V.key;if(K!=null)for(ae in K.key!==void 0&&(be=""+K.key),K)!M.call(K,ae)||ae==="key"||ae==="__self"||ae==="__source"||ae==="ref"&&K.ref===void 0||(oe[ae]=K[ae]);var ae=arguments.length-2;if(ae===1)oe.children=Z;else if(1<ae){for(var J=Array(ae),he=0;he<ae;he++)J[he]=arguments[he+2];oe.children=J}return k(V.type,be,oe)},bt.createContext=function(V){return V={$$typeof:o,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:a,_context:V},V},bt.createElement=function(V,K,Z){var oe,be={},ae=null;if(K!=null)for(oe in K.key!==void 0&&(ae=""+K.key),K)M.call(K,oe)&&oe!=="key"&&oe!=="__self"&&oe!=="__source"&&(be[oe]=K[oe]);var J=arguments.length-2;if(J===1)be.children=Z;else if(1<J){for(var he=Array(J),se=0;se<J;se++)he[se]=arguments[se+2];be.children=he}if(V&&V.defaultProps)for(oe in J=V.defaultProps,J)be[oe]===void 0&&(be[oe]=J[oe]);return k(V,ae,be)},bt.createRef=function(){return{current:null}},bt.forwardRef=function(V){return{$$typeof:l,render:V}},bt.isValidElement=B,bt.lazy=function(V){return{$$typeof:m,_payload:{_status:-1,_result:V},_init:z}},bt.memo=function(V,K){return{$$typeof:f,type:V,compare:K===void 0?null:K}},bt.startTransition=function(V){var K=R.T,Z={};R.T=Z;try{var oe=V(),be=R.S;be!==null&&be(Z,oe),typeof oe=="object"&&oe!==null&&typeof oe.then=="function"&&oe.then(C,X)}catch(ae){X(ae)}finally{K!==null&&Z.types!==null&&(K.types=Z.types),R.T=K}},bt.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},bt.use=function(V){return R.H.use(V)},bt.useActionState=function(V,K,Z){return R.H.useActionState(V,K,Z)},bt.useCallback=function(V,K){return R.H.useCallback(V,K)},bt.useContext=function(V){return R.H.useContext(V)},bt.useDebugValue=function(){},bt.useDeferredValue=function(V,K){return R.H.useDeferredValue(V,K)},bt.useEffect=function(V,K){return R.H.useEffect(V,K)},bt.useEffectEvent=function(V){return R.H.useEffectEvent(V)},bt.useId=function(){return R.H.useId()},bt.useImperativeHandle=function(V,K,Z){return R.H.useImperativeHandle(V,K,Z)},bt.useInsertionEffect=function(V,K){return R.H.useInsertionEffect(V,K)},bt.useLayoutEffect=function(V,K){return R.H.useLayoutEffect(V,K)},bt.useMemo=function(V,K){return R.H.useMemo(V,K)},bt.useOptimistic=function(V,K){return R.H.useOptimistic(V,K)},bt.useReducer=function(V,K,Z){return R.H.useReducer(V,K,Z)},bt.useRef=function(V){return R.H.useRef(V)},bt.useState=function(V){return R.H.useState(V)},bt.useSyncExternalStore=function(V,K,Z){return R.H.useSyncExternalStore(V,K,Z)},bt.useTransition=function(){return R.H.useTransition()},bt.version="19.2.0",bt}var HM;function ky(){return HM||(HM=1,gw.exports=uQ()),gw.exports}var vw={exports:{}},jr={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GM;function dQ(){if(GM)return jr;GM=1;var e=ky();function t(d){var f="https://react.dev/errors/"+d;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)f+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+d+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function a(d,f,m){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:p==null?null:""+p,children:d,containerInfo:f,implementation:m}}var o=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function l(d,f){if(d==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return jr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,jr.createPortal=function(d,f){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(t(299));return a(d,f,null,m)},jr.flushSync=function(d){var f=o.T,m=r.p;try{if(o.T=null,r.p=2,d)return d()}finally{o.T=f,r.p=m,r.d.f()}},jr.preconnect=function(d,f){typeof d=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,r.d.C(d,f))},jr.prefetchDNS=function(d){typeof d=="string"&&r.d.D(d)},jr.preinit=function(d,f){if(typeof d=="string"&&f&&typeof f.as=="string"){var m=f.as,p=l(m,f.crossOrigin),v=typeof f.integrity=="string"?f.integrity:void 0,b=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;m==="style"?r.d.S(d,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:p,integrity:v,fetchPriority:b}):m==="script"&&r.d.X(d,{crossOrigin:p,integrity:v,fetchPriority:b,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},jr.preinitModule=function(d,f){if(typeof d=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var m=l(f.as,f.crossOrigin);r.d.M(d,{crossOrigin:m,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&r.d.M(d)},jr.preload=function(d,f){if(typeof d=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var m=f.as,p=l(m,f.crossOrigin);r.d.L(d,m,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},jr.preloadModule=function(d,f){if(typeof d=="string")if(f){var m=l(f.as,f.crossOrigin);r.d.m(d,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:m,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else r.d.m(d)},jr.requestFormReset=function(d){r.d.r(d)},jr.unstable_batchedUpdates=function(d,f){return d(f)},jr.useFormState=function(d,f,m){return o.H.useFormState(d,f,m)},jr.useFormStatus=function(){return o.H.useHostTransitionStatus()},jr.version="19.2.0",jr}var KM;function k6(){if(KM)return vw.exports;KM=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),vw.exports=dQ(),vw.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var WM;function fQ(){if(WM)return Ef;WM=1;var e=cQ(),t=ky(),n=k6();function r(s){var c="https://react.dev/errors/"+s;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)c+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+s+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function a(s){var c=s,h=s;if(s.alternate)for(;c.return;)c=c.return;else{s=c;do c=s,(c.flags&4098)!==0&&(h=c.return),s=c.return;while(s)}return c.tag===3?h:null}function o(s){if(s.tag===13){var c=s.memoizedState;if(c===null&&(s=s.alternate,s!==null&&(c=s.memoizedState)),c!==null)return c.dehydrated}return null}function l(s){if(s.tag===31){var c=s.memoizedState;if(c===null&&(s=s.alternate,s!==null&&(c=s.memoizedState)),c!==null)return c.dehydrated}return null}function d(s){if(a(s)!==s)throw Error(r(188))}function f(s){var c=s.alternate;if(!c){if(c=a(s),c===null)throw Error(r(188));return c!==s?null:s}for(var h=s,g=c;;){var S=h.return;if(S===null)break;var A=S.alternate;if(A===null){if(g=S.return,g!==null){h=g;continue}break}if(S.child===A.child){for(A=S.child;A;){if(A===h)return d(S),s;if(A===g)return d(S),c;A=A.sibling}throw Error(r(188))}if(h.return!==g.return)h=S,g=A;else{for(var P=!1,L=S.child;L;){if(L===h){P=!0,h=S,g=A;break}if(L===g){P=!0,g=S,h=A;break}L=L.sibling}if(!P){for(L=A.child;L;){if(L===h){P=!0,h=A,g=S;break}if(L===g){P=!0,g=A,h=S;break}L=L.sibling}if(!P)throw Error(r(189))}}if(h.alternate!==g)throw Error(r(190))}if(h.tag!==3)throw Error(r(188));return h.stateNode.current===h?s:c}function m(s){var c=s.tag;if(c===5||c===26||c===27||c===6)return s;for(s=s.child;s!==null;){if(c=m(s),c!==null)return c;s=s.sibling}return null}var p=Object.assign,v=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),y=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),N=Symbol.for("react.consumer"),j=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),C=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),M=Symbol.for("react.lazy"),k=Symbol.for("react.activity"),I=Symbol.for("react.memo_cache_sentinel"),B=Symbol.iterator;function $(s){return s===null||typeof s!="object"?null:(s=B&&s[B]||s["@@iterator"],typeof s=="function"?s:null)}var F=Symbol.for("react.client.reference");function H(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===F?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case y:return"Fragment";case E:return"Profiler";case w:return"StrictMode";case T:return"Suspense";case C:return"SuspenseList";case k:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case x:return"Portal";case j:return s.displayName||"Context";case N:return(s._context.displayName||"Context")+".Consumer";case O:var c=s.render;return s=s.displayName,s||(s=c.displayName||c.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case R:return c=s.displayName||null,c!==null?c:H(s.type)||"Memo";case M:c=s._payload,s=s._init;try{return H(s(c))}catch{}}return null}var U=Array.isArray,D=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,G=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,z={pending:!1,data:null,method:null,action:null},X=[],ue=-1;function V(s){return{current:s}}function K(s){0>ue||(s.current=X[ue],X[ue]=null,ue--)}function Z(s,c){ue++,X[ue]=s.current,s.current=c}var oe=V(null),be=V(null),ae=V(null),J=V(null);function he(s,c){switch(Z(ae,c),Z(be,s),Z(oe,null),c.nodeType){case 9:case 11:s=(s=c.documentElement)&&(s=s.namespaceURI)?cM(s):0;break;default:if(s=c.tagName,c=c.namespaceURI)c=cM(c),s=uM(c,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}K(oe),Z(oe,s)}function se(){K(oe),K(be),K(ae)}function pe(s){s.memoizedState!==null&&Z(J,s);var c=oe.current,h=uM(c,s.type);c!==h&&(Z(be,s),Z(oe,h))}function xe(s){be.current===s&&(K(oe),K(be)),J.current===s&&(K(J),xf._currentValue=z)}var ee,$e;function ge(s){if(ee===void 0)try{throw Error()}catch(h){var c=h.stack.trim().match(/\n( *(at )?)/);ee=c&&c[1]||"",$e=-1<h.stack.indexOf(`
    at`)?" (<anonymous>)":-1<h.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ee+s+$e}var He=!1;function te(s,c){if(!s||He)return"";He=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var g={DetermineComponentFrameRoot:function(){try{if(c){var Se=function(){throw Error()};if(Object.defineProperty(Se.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Se,[])}catch(me){var de=me}Reflect.construct(s,[],Se)}else{try{Se.call()}catch(me){de=me}s.call(Se.prototype)}}else{try{throw Error()}catch(me){de=me}(Se=s())&&typeof Se.catch=="function"&&Se.catch(function(){})}}catch(me){if(me&&de&&typeof me.stack=="string")return[me.stack,de.stack]}return[null,null]}};g.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var S=Object.getOwnPropertyDescriptor(g.DetermineComponentFrameRoot,"name");S&&S.configurable&&Object.defineProperty(g.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var A=g.DetermineComponentFrameRoot(),P=A[0],L=A[1];if(P&&L){var W=P.split(`
`),ce=L.split(`
`);for(S=g=0;g<W.length&&!W[g].includes("DetermineComponentFrameRoot");)g++;for(;S<ce.length&&!ce[S].includes("DetermineComponentFrameRoot");)S++;if(g===W.length||S===ce.length)for(g=W.length-1,S=ce.length-1;1<=g&&0<=S&&W[g]!==ce[S];)S--;for(;1<=g&&0<=S;g--,S--)if(W[g]!==ce[S]){if(g!==1||S!==1)do if(g--,S--,0>S||W[g]!==ce[S]){var ve=`
`+W[g].replace(" at new "," at ");return s.displayName&&ve.includes("<anonymous>")&&(ve=ve.replace("<anonymous>",s.displayName)),ve}while(1<=g&&0<=S);break}}}finally{He=!1,Error.prepareStackTrace=h}return(h=s?s.displayName||s.name:"")?ge(h):""}function re(s,c){switch(s.tag){case 26:case 27:case 5:return ge(s.type);case 16:return ge("Lazy");case 13:return s.child!==c&&c!==null?ge("Suspense Fallback"):ge("Suspense");case 19:return ge("SuspenseList");case 0:case 15:return te(s.type,!1);case 11:return te(s.type.render,!1);case 1:return te(s.type,!0);case 31:return ge("Activity");default:return""}}function Me(s){try{var c="",h=null;do c+=re(s,h),h=s,s=s.return;while(s);return c}catch(g){return`
Error generating stack: `+g.message+`
`+g.stack}}var ut=Object.prototype.hasOwnProperty,ke=e.unstable_scheduleCallback,Qe=e.unstable_cancelCallback,st=e.unstable_shouldYield,Bt=e.unstable_requestPaint,It=e.unstable_now,En=e.unstable_getCurrentPriorityLevel,Ot=e.unstable_ImmediatePriority,je=e.unstable_UserBlockingPriority,Ge=e.unstable_NormalPriority,pt=e.unstable_LowPriority,yt=e.unstable_IdlePriority,$t=e.log,ir=e.unstable_setDisableYieldValue,ie=null,Y=null;function we(s){if(typeof $t=="function"&&ir(s),Y&&typeof Y.setStrictMode=="function")try{Y.setStrictMode(ie,s)}catch{}}var Ee=Math.clz32?Math.clz32:Re,Ye=Math.log,ot=Math.LN2;function Re(s){return s>>>=0,s===0?32:31-(Ye(s)/ot|0)|0}var at=256,et=262144,Le=4194304;function fe(s){var c=s&42;if(c!==0)return c;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function Ie(s,c,h){var g=s.pendingLanes;if(g===0)return 0;var S=0,A=s.suspendedLanes,P=s.pingedLanes;s=s.warmLanes;var L=g&134217727;return L!==0?(g=L&~A,g!==0?S=fe(g):(P&=L,P!==0?S=fe(P):h||(h=L&~s,h!==0&&(S=fe(h))))):(L=g&~A,L!==0?S=fe(L):P!==0?S=fe(P):h||(h=g&~s,h!==0&&(S=fe(h)))),S===0?0:c!==0&&c!==S&&(c&A)===0&&(A=S&-S,h=c&-c,A>=h||A===32&&(h&4194048)!==0)?c:S}function Nt(s,c){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&c)===0}function tt(s,c){switch(s){case 1:case 2:case 4:case 8:case 64:return c+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gn(){var s=Le;return Le<<=1,(Le&62914560)===0&&(Le=4194304),s}function Pn(s){for(var c=[],h=0;31>h;h++)c.push(s);return c}function Ln(s,c){s.pendingLanes|=c,c!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function ur(s,c,h,g,S,A){var P=s.pendingLanes;s.pendingLanes=h,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=h,s.entangledLanes&=h,s.errorRecoveryDisabledLanes&=h,s.shellSuspendCounter=0;var L=s.entanglements,W=s.expirationTimes,ce=s.hiddenUpdates;for(h=P&~h;0<h;){var ve=31-Ee(h),Se=1<<ve;L[ve]=0,W[ve]=-1;var de=ce[ve];if(de!==null)for(ce[ve]=null,ve=0;ve<de.length;ve++){var me=de[ve];me!==null&&(me.lane&=-536870913)}h&=~Se}g!==0&&zi(s,g,0),A!==0&&S===0&&s.tag!==0&&(s.suspendedLanes|=A&~(P&~c))}function zi(s,c,h){s.pendingLanes|=c,s.suspendedLanes&=~c;var g=31-Ee(c);s.entangledLanes|=c,s.entanglements[g]=s.entanglements[g]|1073741824|h&261930}function Po(s,c){var h=s.entangledLanes|=c;for(s=s.entanglements;h;){var g=31-Ee(h),S=1<<g;S&c|s[g]&c&&(s[g]|=c),h&=~S}}function Gm(s,c){var h=c&-c;return h=(h&42)!==0?1:tb(h),(h&(s.suspendedLanes|c))!==0?0:h}function tb(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function nb(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function WO(){var s=G.p;return s!==0?s:(s=window.event,s===void 0?32:MM(s.type))}function YO(s,c){var h=G.p;try{return G.p=s,c()}finally{G.p=h}}var js=Math.random().toString(36).slice(2),dr="__reactFiber$"+js,Lr="__reactProps$"+js,Wl="__reactContainer$"+js,rb="__reactEvents$"+js,WW="__reactListeners$"+js,YW="__reactHandles$"+js,XO="__reactResources$"+js,kd="__reactMarker$"+js;function ib(s){delete s[dr],delete s[Lr],delete s[rb],delete s[WW],delete s[YW]}function Yl(s){var c=s[dr];if(c)return c;for(var h=s.parentNode;h;){if(c=h[Wl]||h[dr]){if(h=c.alternate,c.child!==null||h!==null&&h.child!==null)for(s=vM(s);s!==null;){if(h=s[dr])return h;s=vM(s)}return c}s=h,h=s.parentNode}return null}function Xl(s){if(s=s[dr]||s[Wl]){var c=s.tag;if(c===5||c===6||c===13||c===31||c===26||c===27||c===3)return s}return null}function Dd(s){var c=s.tag;if(c===5||c===26||c===27||c===6)return s.stateNode;throw Error(r(33))}function Ql(s){var c=s[XO];return c||(c=s[XO]={hoistableStyles:new Map,hoistableScripts:new Map}),c}function ar(s){s[kd]=!0}var QO=new Set,JO={};function Mo(s,c){Jl(s,c),Jl(s+"Capture",c)}function Jl(s,c){for(JO[s]=c,s=0;s<c.length;s++)QO.add(c[s])}var XW=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ZO={},eC={};function QW(s){return ut.call(eC,s)?!0:ut.call(ZO,s)?!1:XW.test(s)?eC[s]=!0:(ZO[s]=!0,!1)}function Km(s,c,h){if(QW(c))if(h===null)s.removeAttribute(c);else{switch(typeof h){case"undefined":case"function":case"symbol":s.removeAttribute(c);return;case"boolean":var g=c.toLowerCase().slice(0,5);if(g!=="data-"&&g!=="aria-"){s.removeAttribute(c);return}}s.setAttribute(c,""+h)}}function Wm(s,c,h){if(h===null)s.removeAttribute(c);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(c);return}s.setAttribute(c,""+h)}}function ka(s,c,h,g){if(g===null)s.removeAttribute(h);else{switch(typeof g){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(h);return}s.setAttributeNS(c,h,""+g)}}function gi(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function tC(s){var c=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function JW(s,c,h){var g=Object.getOwnPropertyDescriptor(s.constructor.prototype,c);if(!s.hasOwnProperty(c)&&typeof g<"u"&&typeof g.get=="function"&&typeof g.set=="function"){var S=g.get,A=g.set;return Object.defineProperty(s,c,{configurable:!0,get:function(){return S.call(this)},set:function(P){h=""+P,A.call(this,P)}}),Object.defineProperty(s,c,{enumerable:g.enumerable}),{getValue:function(){return h},setValue:function(P){h=""+P},stopTracking:function(){s._valueTracker=null,delete s[c]}}}}function ab(s){if(!s._valueTracker){var c=tC(s)?"checked":"value";s._valueTracker=JW(s,c,""+s[c])}}function nC(s){if(!s)return!1;var c=s._valueTracker;if(!c)return!0;var h=c.getValue(),g="";return s&&(g=tC(s)?s.checked?"true":"false":s.value),s=g,s!==h?(c.setValue(s),!0):!1}function Ym(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var ZW=/[\n"\\]/g;function vi(s){return s.replace(ZW,function(c){return"\\"+c.charCodeAt(0).toString(16)+" "})}function sb(s,c,h,g,S,A,P,L){s.name="",P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"?s.type=P:s.removeAttribute("type"),c!=null?P==="number"?(c===0&&s.value===""||s.value!=c)&&(s.value=""+gi(c)):s.value!==""+gi(c)&&(s.value=""+gi(c)):P!=="submit"&&P!=="reset"||s.removeAttribute("value"),c!=null?ob(s,P,gi(c)):h!=null?ob(s,P,gi(h)):g!=null&&s.removeAttribute("value"),S==null&&A!=null&&(s.defaultChecked=!!A),S!=null&&(s.checked=S&&typeof S!="function"&&typeof S!="symbol"),L!=null&&typeof L!="function"&&typeof L!="symbol"&&typeof L!="boolean"?s.name=""+gi(L):s.removeAttribute("name")}function rC(s,c,h,g,S,A,P,L){if(A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"&&(s.type=A),c!=null||h!=null){if(!(A!=="submit"&&A!=="reset"||c!=null)){ab(s);return}h=h!=null?""+gi(h):"",c=c!=null?""+gi(c):h,L||c===s.value||(s.value=c),s.defaultValue=c}g=g??S,g=typeof g!="function"&&typeof g!="symbol"&&!!g,s.checked=L?s.checked:!!g,s.defaultChecked=!!g,P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"&&(s.name=P),ab(s)}function ob(s,c,h){c==="number"&&Ym(s.ownerDocument)===s||s.defaultValue===""+h||(s.defaultValue=""+h)}function Zl(s,c,h,g){if(s=s.options,c){c={};for(var S=0;S<h.length;S++)c["$"+h[S]]=!0;for(h=0;h<s.length;h++)S=c.hasOwnProperty("$"+s[h].value),s[h].selected!==S&&(s[h].selected=S),S&&g&&(s[h].defaultSelected=!0)}else{for(h=""+gi(h),c=null,S=0;S<s.length;S++){if(s[S].value===h){s[S].selected=!0,g&&(s[S].defaultSelected=!0);return}c!==null||s[S].disabled||(c=s[S])}c!==null&&(c.selected=!0)}}function iC(s,c,h){if(c!=null&&(c=""+gi(c),c!==s.value&&(s.value=c),h==null)){s.defaultValue!==c&&(s.defaultValue=c);return}s.defaultValue=h!=null?""+gi(h):""}function aC(s,c,h,g){if(c==null){if(g!=null){if(h!=null)throw Error(r(92));if(U(g)){if(1<g.length)throw Error(r(93));g=g[0]}h=g}h==null&&(h=""),c=h}h=gi(c),s.defaultValue=h,g=s.textContent,g===h&&g!==""&&g!==null&&(s.value=g),ab(s)}function ec(s,c){if(c){var h=s.firstChild;if(h&&h===s.lastChild&&h.nodeType===3){h.nodeValue=c;return}}s.textContent=c}var eY=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function sC(s,c,h){var g=c.indexOf("--")===0;h==null||typeof h=="boolean"||h===""?g?s.setProperty(c,""):c==="float"?s.cssFloat="":s[c]="":g?s.setProperty(c,h):typeof h!="number"||h===0||eY.has(c)?c==="float"?s.cssFloat=h:s[c]=(""+h).trim():s[c]=h+"px"}function oC(s,c,h){if(c!=null&&typeof c!="object")throw Error(r(62));if(s=s.style,h!=null){for(var g in h)!h.hasOwnProperty(g)||c!=null&&c.hasOwnProperty(g)||(g.indexOf("--")===0?s.setProperty(g,""):g==="float"?s.cssFloat="":s[g]="");for(var S in c)g=c[S],c.hasOwnProperty(S)&&h[S]!==g&&sC(s,S,g)}else for(var A in c)c.hasOwnProperty(A)&&sC(s,A,c[A])}function lb(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var tY=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),nY=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Xm(s){return nY.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function Da(){}var cb=null;function ub(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var tc=null,nc=null;function lC(s){var c=Xl(s);if(c&&(s=c.stateNode)){var h=s[Lr]||null;e:switch(s=c.stateNode,c.type){case"input":if(sb(s,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name),c=h.name,h.type==="radio"&&c!=null){for(h=s;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll('input[name="'+vi(""+c)+'"][type="radio"]'),c=0;c<h.length;c++){var g=h[c];if(g!==s&&g.form===s.form){var S=g[Lr]||null;if(!S)throw Error(r(90));sb(g,S.value,S.defaultValue,S.defaultValue,S.checked,S.defaultChecked,S.type,S.name)}}for(c=0;c<h.length;c++)g=h[c],g.form===s.form&&nC(g)}break e;case"textarea":iC(s,h.value,h.defaultValue);break e;case"select":c=h.value,c!=null&&Zl(s,!!h.multiple,c,!1)}}}var db=!1;function cC(s,c,h){if(db)return s(c,h);db=!0;try{var g=s(c);return g}finally{if(db=!1,(tc!==null||nc!==null)&&($p(),tc&&(c=tc,s=nc,nc=tc=null,lC(c),s)))for(c=0;c<s.length;c++)lC(s[c])}}function Id(s,c){var h=s.stateNode;if(h===null)return null;var g=h[Lr]||null;if(g===null)return null;h=g[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(s=s.type,g=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!g;break e;default:s=!1}if(s)return null;if(h&&typeof h!="function")throw Error(r(231,c,typeof h));return h}var Ia=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),fb=!1;if(Ia)try{var $d={};Object.defineProperty($d,"passive",{get:function(){fb=!0}}),window.addEventListener("test",$d,$d),window.removeEventListener("test",$d,$d)}catch{fb=!1}var Es=null,hb=null,Qm=null;function uC(){if(Qm)return Qm;var s,c=hb,h=c.length,g,S="value"in Es?Es.value:Es.textContent,A=S.length;for(s=0;s<h&&c[s]===S[s];s++);var P=h-s;for(g=1;g<=P&&c[h-g]===S[A-g];g++);return Qm=S.slice(s,1<g?1-g:void 0)}function Jm(s){var c=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&c===13&&(s=13)):s=c,s===10&&(s=13),32<=s||s===13?s:0}function Zm(){return!0}function dC(){return!1}function Br(s){function c(h,g,S,A,P){this._reactName=h,this._targetInst=S,this.type=g,this.nativeEvent=A,this.target=P,this.currentTarget=null;for(var L in s)s.hasOwnProperty(L)&&(h=s[L],this[L]=h?h(A):A[L]);return this.isDefaultPrevented=(A.defaultPrevented!=null?A.defaultPrevented:A.returnValue===!1)?Zm:dC,this.isPropagationStopped=dC,this}return p(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=Zm)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=Zm)},persist:function(){},isPersistent:Zm}),c}var ko={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ep=Br(ko),Ld=p({},ko,{view:0,detail:0}),rY=Br(Ld),mb,pb,Bd,tp=p({},Ld,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vb,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Bd&&(Bd&&s.type==="mousemove"?(mb=s.screenX-Bd.screenX,pb=s.screenY-Bd.screenY):pb=mb=0,Bd=s),mb)},movementY:function(s){return"movementY"in s?s.movementY:pb}}),fC=Br(tp),iY=p({},tp,{dataTransfer:0}),aY=Br(iY),sY=p({},Ld,{relatedTarget:0}),gb=Br(sY),oY=p({},ko,{animationName:0,elapsedTime:0,pseudoElement:0}),lY=Br(oY),cY=p({},ko,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),uY=Br(cY),dY=p({},ko,{data:0}),hC=Br(dY),fY={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hY={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},mY={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pY(s){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(s):(s=mY[s])?!!c[s]:!1}function vb(){return pY}var gY=p({},Ld,{key:function(s){if(s.key){var c=fY[s.key]||s.key;if(c!=="Unidentified")return c}return s.type==="keypress"?(s=Jm(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?hY[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vb,charCode:function(s){return s.type==="keypress"?Jm(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Jm(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),vY=Br(gY),yY=p({},tp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),mC=Br(yY),bY=p({},Ld,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vb}),xY=Br(bY),wY=p({},ko,{propertyName:0,elapsedTime:0,pseudoElement:0}),_Y=Br(wY),SY=p({},tp,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),jY=Br(SY),EY=p({},ko,{newState:0,oldState:0}),NY=Br(EY),AY=[9,13,27,32],yb=Ia&&"CompositionEvent"in window,qd=null;Ia&&"documentMode"in document&&(qd=document.documentMode);var TY=Ia&&"TextEvent"in window&&!qd,pC=Ia&&(!yb||qd&&8<qd&&11>=qd),gC=" ",vC=!1;function yC(s,c){switch(s){case"keyup":return AY.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function bC(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var rc=!1;function OY(s,c){switch(s){case"compositionend":return bC(c);case"keypress":return c.which!==32?null:(vC=!0,gC);case"textInput":return s=c.data,s===gC&&vC?null:s;default:return null}}function CY(s,c){if(rc)return s==="compositionend"||!yb&&yC(s,c)?(s=uC(),Qm=hb=Es=null,rc=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return pC&&c.locale!=="ko"?null:c.data;default:return null}}var RY={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xC(s){var c=s&&s.nodeName&&s.nodeName.toLowerCase();return c==="input"?!!RY[s.type]:c==="textarea"}function wC(s,c,h,g){tc?nc?nc.push(g):nc=[g]:tc=g,c=Vp(c,"onChange"),0<c.length&&(h=new ep("onChange","change",null,h,g),s.push({event:h,listeners:c}))}var zd=null,Ud=null;function PY(s){rM(s,0)}function np(s){var c=Dd(s);if(nC(c))return s}function _C(s,c){if(s==="change")return c}var SC=!1;if(Ia){var bb;if(Ia){var xb="oninput"in document;if(!xb){var jC=document.createElement("div");jC.setAttribute("oninput","return;"),xb=typeof jC.oninput=="function"}bb=xb}else bb=!1;SC=bb&&(!document.documentMode||9<document.documentMode)}function EC(){zd&&(zd.detachEvent("onpropertychange",NC),Ud=zd=null)}function NC(s){if(s.propertyName==="value"&&np(Ud)){var c=[];wC(c,Ud,s,ub(s)),cC(PY,c)}}function MY(s,c,h){s==="focusin"?(EC(),zd=c,Ud=h,zd.attachEvent("onpropertychange",NC)):s==="focusout"&&EC()}function kY(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return np(Ud)}function DY(s,c){if(s==="click")return np(c)}function IY(s,c){if(s==="input"||s==="change")return np(c)}function $Y(s,c){return s===c&&(s!==0||1/s===1/c)||s!==s&&c!==c}var Xr=typeof Object.is=="function"?Object.is:$Y;function Fd(s,c){if(Xr(s,c))return!0;if(typeof s!="object"||s===null||typeof c!="object"||c===null)return!1;var h=Object.keys(s),g=Object.keys(c);if(h.length!==g.length)return!1;for(g=0;g<h.length;g++){var S=h[g];if(!ut.call(c,S)||!Xr(s[S],c[S]))return!1}return!0}function AC(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function TC(s,c){var h=AC(s);s=0;for(var g;h;){if(h.nodeType===3){if(g=s+h.textContent.length,s<=c&&g>=c)return{node:h,offset:c-s};s=g}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=AC(h)}}function OC(s,c){return s&&c?s===c?!0:s&&s.nodeType===3?!1:c&&c.nodeType===3?OC(s,c.parentNode):"contains"in s?s.contains(c):s.compareDocumentPosition?!!(s.compareDocumentPosition(c)&16):!1:!1}function CC(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var c=Ym(s.document);c instanceof s.HTMLIFrameElement;){try{var h=typeof c.contentWindow.location.href=="string"}catch{h=!1}if(h)s=c.contentWindow;else break;c=Ym(s.document)}return c}function wb(s){var c=s&&s.nodeName&&s.nodeName.toLowerCase();return c&&(c==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||c==="textarea"||s.contentEditable==="true")}var LY=Ia&&"documentMode"in document&&11>=document.documentMode,ic=null,_b=null,Vd=null,Sb=!1;function RC(s,c,h){var g=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;Sb||ic==null||ic!==Ym(g)||(g=ic,"selectionStart"in g&&wb(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),Vd&&Fd(Vd,g)||(Vd=g,g=Vp(_b,"onSelect"),0<g.length&&(c=new ep("onSelect","select",null,c,h),s.push({event:c,listeners:g}),c.target=ic)))}function Do(s,c){var h={};return h[s.toLowerCase()]=c.toLowerCase(),h["Webkit"+s]="webkit"+c,h["Moz"+s]="moz"+c,h}var ac={animationend:Do("Animation","AnimationEnd"),animationiteration:Do("Animation","AnimationIteration"),animationstart:Do("Animation","AnimationStart"),transitionrun:Do("Transition","TransitionRun"),transitionstart:Do("Transition","TransitionStart"),transitioncancel:Do("Transition","TransitionCancel"),transitionend:Do("Transition","TransitionEnd")},jb={},PC={};Ia&&(PC=document.createElement("div").style,"AnimationEvent"in window||(delete ac.animationend.animation,delete ac.animationiteration.animation,delete ac.animationstart.animation),"TransitionEvent"in window||delete ac.transitionend.transition);function Io(s){if(jb[s])return jb[s];if(!ac[s])return s;var c=ac[s],h;for(h in c)if(c.hasOwnProperty(h)&&h in PC)return jb[s]=c[h];return s}var MC=Io("animationend"),kC=Io("animationiteration"),DC=Io("animationstart"),BY=Io("transitionrun"),qY=Io("transitionstart"),zY=Io("transitioncancel"),IC=Io("transitionend"),$C=new Map,Eb="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Eb.push("scrollEnd");function Ui(s,c){$C.set(s,c),Mo(c,[s])}var rp=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var c=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(c))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},yi=[],sc=0,Nb=0;function ip(){for(var s=sc,c=Nb=sc=0;c<s;){var h=yi[c];yi[c++]=null;var g=yi[c];yi[c++]=null;var S=yi[c];yi[c++]=null;var A=yi[c];if(yi[c++]=null,g!==null&&S!==null){var P=g.pending;P===null?S.next=S:(S.next=P.next,P.next=S),g.pending=S}A!==0&&LC(h,S,A)}}function ap(s,c,h,g){yi[sc++]=s,yi[sc++]=c,yi[sc++]=h,yi[sc++]=g,Nb|=g,s.lanes|=g,s=s.alternate,s!==null&&(s.lanes|=g)}function Ab(s,c,h,g){return ap(s,c,h,g),sp(s)}function $o(s,c){return ap(s,null,null,c),sp(s)}function LC(s,c,h){s.lanes|=h;var g=s.alternate;g!==null&&(g.lanes|=h);for(var S=!1,A=s.return;A!==null;)A.childLanes|=h,g=A.alternate,g!==null&&(g.childLanes|=h),A.tag===22&&(s=A.stateNode,s===null||s._visibility&1||(S=!0)),s=A,A=A.return;return s.tag===3?(A=s.stateNode,S&&c!==null&&(S=31-Ee(h),s=A.hiddenUpdates,g=s[S],g===null?s[S]=[c]:g.push(c),c.lane=h|536870912),A):null}function sp(s){if(50<hf)throw hf=0,Ix=null,Error(r(185));for(var c=s.return;c!==null;)s=c,c=s.return;return s.tag===3?s.stateNode:null}var oc={};function UY(s,c,h,g){this.tag=s,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qr(s,c,h,g){return new UY(s,c,h,g)}function Tb(s){return s=s.prototype,!(!s||!s.isReactComponent)}function $a(s,c){var h=s.alternate;return h===null?(h=Qr(s.tag,c,s.key,s.mode),h.elementType=s.elementType,h.type=s.type,h.stateNode=s.stateNode,h.alternate=s,s.alternate=h):(h.pendingProps=c,h.type=s.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=s.flags&65011712,h.childLanes=s.childLanes,h.lanes=s.lanes,h.child=s.child,h.memoizedProps=s.memoizedProps,h.memoizedState=s.memoizedState,h.updateQueue=s.updateQueue,c=s.dependencies,h.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},h.sibling=s.sibling,h.index=s.index,h.ref=s.ref,h.refCleanup=s.refCleanup,h}function BC(s,c){s.flags&=65011714;var h=s.alternate;return h===null?(s.childLanes=0,s.lanes=c,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=h.childLanes,s.lanes=h.lanes,s.child=h.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=h.memoizedProps,s.memoizedState=h.memoizedState,s.updateQueue=h.updateQueue,s.type=h.type,c=h.dependencies,s.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),s}function op(s,c,h,g,S,A){var P=0;if(g=s,typeof s=="function")Tb(s)&&(P=1);else if(typeof s=="string")P=KX(s,h,oe.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case k:return s=Qr(31,h,c,S),s.elementType=k,s.lanes=A,s;case y:return Lo(h.children,S,A,c);case w:P=8,S|=24;break;case E:return s=Qr(12,h,c,S|2),s.elementType=E,s.lanes=A,s;case T:return s=Qr(13,h,c,S),s.elementType=T,s.lanes=A,s;case C:return s=Qr(19,h,c,S),s.elementType=C,s.lanes=A,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case j:P=10;break e;case N:P=9;break e;case O:P=11;break e;case R:P=14;break e;case M:P=16,g=null;break e}P=29,h=Error(r(130,s===null?"null":typeof s,"")),g=null}return c=Qr(P,h,c,S),c.elementType=s,c.type=g,c.lanes=A,c}function Lo(s,c,h,g){return s=Qr(7,s,g,c),s.lanes=h,s}function Ob(s,c,h){return s=Qr(6,s,null,c),s.lanes=h,s}function qC(s){var c=Qr(18,null,null,0);return c.stateNode=s,c}function Cb(s,c,h){return c=Qr(4,s.children!==null?s.children:[],s.key,c),c.lanes=h,c.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},c}var zC=new WeakMap;function bi(s,c){if(typeof s=="object"&&s!==null){var h=zC.get(s);return h!==void 0?h:(c={value:s,source:c,stack:Me(c)},zC.set(s,c),c)}return{value:s,source:c,stack:Me(c)}}var lc=[],cc=0,lp=null,Hd=0,xi=[],wi=0,Ns=null,da=1,fa="";function La(s,c){lc[cc++]=Hd,lc[cc++]=lp,lp=s,Hd=c}function UC(s,c,h){xi[wi++]=da,xi[wi++]=fa,xi[wi++]=Ns,Ns=s;var g=da;s=fa;var S=32-Ee(g)-1;g&=~(1<<S),h+=1;var A=32-Ee(c)+S;if(30<A){var P=S-S%5;A=(g&(1<<P)-1).toString(32),g>>=P,S-=P,da=1<<32-Ee(c)+S|h<<S|g,fa=A+s}else da=1<<A|h<<S|g,fa=s}function Rb(s){s.return!==null&&(La(s,1),UC(s,1,0))}function Pb(s){for(;s===lp;)lp=lc[--cc],lc[cc]=null,Hd=lc[--cc],lc[cc]=null;for(;s===Ns;)Ns=xi[--wi],xi[wi]=null,fa=xi[--wi],xi[wi]=null,da=xi[--wi],xi[wi]=null}function FC(s,c){xi[wi++]=da,xi[wi++]=fa,xi[wi++]=Ns,da=c.id,fa=c.overflow,Ns=s}var fr=null,dn=null,Dt=!1,As=null,_i=!1,Mb=Error(r(519));function Ts(s){var c=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Gd(bi(c,s)),Mb}function VC(s){var c=s.stateNode,h=s.type,g=s.memoizedProps;switch(c[dr]=s,c[Lr]=g,h){case"dialog":Rt("cancel",c),Rt("close",c);break;case"iframe":case"object":case"embed":Rt("load",c);break;case"video":case"audio":for(h=0;h<pf.length;h++)Rt(pf[h],c);break;case"source":Rt("error",c);break;case"img":case"image":case"link":Rt("error",c),Rt("load",c);break;case"details":Rt("toggle",c);break;case"input":Rt("invalid",c),rC(c,g.value,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name,!0);break;case"select":Rt("invalid",c);break;case"textarea":Rt("invalid",c),aC(c,g.value,g.defaultValue,g.children)}h=g.children,typeof h!="string"&&typeof h!="number"&&typeof h!="bigint"||c.textContent===""+h||g.suppressHydrationWarning===!0||oM(c.textContent,h)?(g.popover!=null&&(Rt("beforetoggle",c),Rt("toggle",c)),g.onScroll!=null&&Rt("scroll",c),g.onScrollEnd!=null&&Rt("scrollend",c),g.onClick!=null&&(c.onclick=Da),c=!0):c=!1,c||Ts(s,!0)}function HC(s){for(fr=s.return;fr;)switch(fr.tag){case 5:case 31:case 13:_i=!1;return;case 27:case 3:_i=!0;return;default:fr=fr.return}}function uc(s){if(s!==fr)return!1;if(!Dt)return HC(s),Dt=!0,!1;var c=s.tag,h;if((h=c!==3&&c!==27)&&((h=c===5)&&(h=s.type,h=!(h!=="form"&&h!=="button")||Qx(s.type,s.memoizedProps)),h=!h),h&&dn&&Ts(s),HC(s),c===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));dn=gM(s)}else if(c===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));dn=gM(s)}else c===27?(c=dn,Us(s.type)?(s=nw,nw=null,dn=s):dn=c):dn=fr?ji(s.stateNode.nextSibling):null;return!0}function Bo(){dn=fr=null,Dt=!1}function kb(){var s=As;return s!==null&&(Fr===null?Fr=s:Fr.push.apply(Fr,s),As=null),s}function Gd(s){As===null?As=[s]:As.push(s)}var Db=V(null),qo=null,Ba=null;function Os(s,c,h){Z(Db,c._currentValue),c._currentValue=h}function qa(s){s._currentValue=Db.current,K(Db)}function Ib(s,c,h){for(;s!==null;){var g=s.alternate;if((s.childLanes&c)!==c?(s.childLanes|=c,g!==null&&(g.childLanes|=c)):g!==null&&(g.childLanes&c)!==c&&(g.childLanes|=c),s===h)break;s=s.return}}function $b(s,c,h,g){var S=s.child;for(S!==null&&(S.return=s);S!==null;){var A=S.dependencies;if(A!==null){var P=S.child;A=A.firstContext;e:for(;A!==null;){var L=A;A=S;for(var W=0;W<c.length;W++)if(L.context===c[W]){A.lanes|=h,L=A.alternate,L!==null&&(L.lanes|=h),Ib(A.return,h,s),g||(P=null);break e}A=L.next}}else if(S.tag===18){if(P=S.return,P===null)throw Error(r(341));P.lanes|=h,A=P.alternate,A!==null&&(A.lanes|=h),Ib(P,h,s),P=null}else P=S.child;if(P!==null)P.return=S;else for(P=S;P!==null;){if(P===s){P=null;break}if(S=P.sibling,S!==null){S.return=P.return,P=S;break}P=P.return}S=P}}function dc(s,c,h,g){s=null;for(var S=c,A=!1;S!==null;){if(!A){if((S.flags&524288)!==0)A=!0;else if((S.flags&262144)!==0)break}if(S.tag===10){var P=S.alternate;if(P===null)throw Error(r(387));if(P=P.memoizedProps,P!==null){var L=S.type;Xr(S.pendingProps.value,P.value)||(s!==null?s.push(L):s=[L])}}else if(S===J.current){if(P=S.alternate,P===null)throw Error(r(387));P.memoizedState.memoizedState!==S.memoizedState.memoizedState&&(s!==null?s.push(xf):s=[xf])}S=S.return}s!==null&&$b(c,s,h,g),c.flags|=262144}function cp(s){for(s=s.firstContext;s!==null;){if(!Xr(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function zo(s){qo=s,Ba=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function hr(s){return GC(qo,s)}function up(s,c){return qo===null&&zo(s),GC(s,c)}function GC(s,c){var h=c._currentValue;if(c={context:c,memoizedValue:h,next:null},Ba===null){if(s===null)throw Error(r(308));Ba=c,s.dependencies={lanes:0,firstContext:c},s.flags|=524288}else Ba=Ba.next=c;return h}var FY=typeof AbortController<"u"?AbortController:function(){var s=[],c=this.signal={aborted:!1,addEventListener:function(h,g){s.push(g)}};this.abort=function(){c.aborted=!0,s.forEach(function(h){return h()})}},VY=e.unstable_scheduleCallback,HY=e.unstable_NormalPriority,Bn={$$typeof:j,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Lb(){return{controller:new FY,data:new Map,refCount:0}}function Kd(s){s.refCount--,s.refCount===0&&VY(HY,function(){s.controller.abort()})}var Wd=null,Bb=0,fc=0,hc=null;function GY(s,c){if(Wd===null){var h=Wd=[];Bb=0,fc=Ux(),hc={status:"pending",value:void 0,then:function(g){h.push(g)}}}return Bb++,c.then(KC,KC),c}function KC(){if(--Bb===0&&Wd!==null){hc!==null&&(hc.status="fulfilled");var s=Wd;Wd=null,fc=0,hc=null;for(var c=0;c<s.length;c++)(0,s[c])()}}function KY(s,c){var h=[],g={status:"pending",value:null,reason:null,then:function(S){h.push(S)}};return s.then(function(){g.status="fulfilled",g.value=c;for(var S=0;S<h.length;S++)(0,h[S])(c)},function(S){for(g.status="rejected",g.reason=S,S=0;S<h.length;S++)(0,h[S])(void 0)}),g}var WC=D.S;D.S=function(s,c){RP=It(),typeof c=="object"&&c!==null&&typeof c.then=="function"&&GY(s,c),WC!==null&&WC(s,c)};var Uo=V(null);function qb(){var s=Uo.current;return s!==null?s:rn.pooledCache}function dp(s,c){c===null?Z(Uo,Uo.current):Z(Uo,c.pool)}function YC(){var s=qb();return s===null?null:{parent:Bn._currentValue,pool:s}}var mc=Error(r(460)),zb=Error(r(474)),fp=Error(r(542)),hp={then:function(){}};function XC(s){return s=s.status,s==="fulfilled"||s==="rejected"}function QC(s,c,h){switch(h=s[h],h===void 0?s.push(c):h!==c&&(c.then(Da,Da),c=h),c.status){case"fulfilled":return c.value;case"rejected":throw s=c.reason,ZC(s),s;default:if(typeof c.status=="string")c.then(Da,Da);else{if(s=rn,s!==null&&100<s.shellSuspendCounter)throw Error(r(482));s=c,s.status="pending",s.then(function(g){if(c.status==="pending"){var S=c;S.status="fulfilled",S.value=g}},function(g){if(c.status==="pending"){var S=c;S.status="rejected",S.reason=g}})}switch(c.status){case"fulfilled":return c.value;case"rejected":throw s=c.reason,ZC(s),s}throw Vo=c,mc}}function Fo(s){try{var c=s._init;return c(s._payload)}catch(h){throw h!==null&&typeof h=="object"&&typeof h.then=="function"?(Vo=h,mc):h}}var Vo=null;function JC(){if(Vo===null)throw Error(r(459));var s=Vo;return Vo=null,s}function ZC(s){if(s===mc||s===fp)throw Error(r(483))}var pc=null,Yd=0;function mp(s){var c=Yd;return Yd+=1,pc===null&&(pc=[]),QC(pc,s,c)}function Xd(s,c){c=c.props.ref,s.ref=c!==void 0?c:null}function pp(s,c){throw c.$$typeof===v?Error(r(525)):(s=Object.prototype.toString.call(c),Error(r(31,s==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":s)))}function eR(s){function c(ne,Q){if(s){var le=ne.deletions;le===null?(ne.deletions=[Q],ne.flags|=16):le.push(Q)}}function h(ne,Q){if(!s)return null;for(;Q!==null;)c(ne,Q),Q=Q.sibling;return null}function g(ne){for(var Q=new Map;ne!==null;)ne.key!==null?Q.set(ne.key,ne):Q.set(ne.index,ne),ne=ne.sibling;return Q}function S(ne,Q){return ne=$a(ne,Q),ne.index=0,ne.sibling=null,ne}function A(ne,Q,le){return ne.index=le,s?(le=ne.alternate,le!==null?(le=le.index,le<Q?(ne.flags|=67108866,Q):le):(ne.flags|=67108866,Q)):(ne.flags|=1048576,Q)}function P(ne){return s&&ne.alternate===null&&(ne.flags|=67108866),ne}function L(ne,Q,le,_e){return Q===null||Q.tag!==6?(Q=Ob(le,ne.mode,_e),Q.return=ne,Q):(Q=S(Q,le),Q.return=ne,Q)}function W(ne,Q,le,_e){var nt=le.type;return nt===y?ve(ne,Q,le.props.children,_e,le.key):Q!==null&&(Q.elementType===nt||typeof nt=="object"&&nt!==null&&nt.$$typeof===M&&Fo(nt)===Q.type)?(Q=S(Q,le.props),Xd(Q,le),Q.return=ne,Q):(Q=op(le.type,le.key,le.props,null,ne.mode,_e),Xd(Q,le),Q.return=ne,Q)}function ce(ne,Q,le,_e){return Q===null||Q.tag!==4||Q.stateNode.containerInfo!==le.containerInfo||Q.stateNode.implementation!==le.implementation?(Q=Cb(le,ne.mode,_e),Q.return=ne,Q):(Q=S(Q,le.children||[]),Q.return=ne,Q)}function ve(ne,Q,le,_e,nt){return Q===null||Q.tag!==7?(Q=Lo(le,ne.mode,_e,nt),Q.return=ne,Q):(Q=S(Q,le),Q.return=ne,Q)}function Se(ne,Q,le){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return Q=Ob(""+Q,ne.mode,le),Q.return=ne,Q;if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case b:return le=op(Q.type,Q.key,Q.props,null,ne.mode,le),Xd(le,Q),le.return=ne,le;case x:return Q=Cb(Q,ne.mode,le),Q.return=ne,Q;case M:return Q=Fo(Q),Se(ne,Q,le)}if(U(Q)||$(Q))return Q=Lo(Q,ne.mode,le,null),Q.return=ne,Q;if(typeof Q.then=="function")return Se(ne,mp(Q),le);if(Q.$$typeof===j)return Se(ne,up(ne,Q),le);pp(ne,Q)}return null}function de(ne,Q,le,_e){var nt=Q!==null?Q.key:null;if(typeof le=="string"&&le!==""||typeof le=="number"||typeof le=="bigint")return nt!==null?null:L(ne,Q,""+le,_e);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case b:return le.key===nt?W(ne,Q,le,_e):null;case x:return le.key===nt?ce(ne,Q,le,_e):null;case M:return le=Fo(le),de(ne,Q,le,_e)}if(U(le)||$(le))return nt!==null?null:ve(ne,Q,le,_e,null);if(typeof le.then=="function")return de(ne,Q,mp(le),_e);if(le.$$typeof===j)return de(ne,Q,up(ne,le),_e);pp(ne,le)}return null}function me(ne,Q,le,_e,nt){if(typeof _e=="string"&&_e!==""||typeof _e=="number"||typeof _e=="bigint")return ne=ne.get(le)||null,L(Q,ne,""+_e,nt);if(typeof _e=="object"&&_e!==null){switch(_e.$$typeof){case b:return ne=ne.get(_e.key===null?le:_e.key)||null,W(Q,ne,_e,nt);case x:return ne=ne.get(_e.key===null?le:_e.key)||null,ce(Q,ne,_e,nt);case M:return _e=Fo(_e),me(ne,Q,le,_e,nt)}if(U(_e)||$(_e))return ne=ne.get(le)||null,ve(Q,ne,_e,nt,null);if(typeof _e.then=="function")return me(ne,Q,le,mp(_e),nt);if(_e.$$typeof===j)return me(ne,Q,le,up(Q,_e),nt);pp(Q,_e)}return null}function ze(ne,Q,le,_e){for(var nt=null,qt=null,Ke=Q,Et=Q=0,kt=null;Ke!==null&&Et<le.length;Et++){Ke.index>Et?(kt=Ke,Ke=null):kt=Ke.sibling;var zt=de(ne,Ke,le[Et],_e);if(zt===null){Ke===null&&(Ke=kt);break}s&&Ke&&zt.alternate===null&&c(ne,Ke),Q=A(zt,Q,Et),qt===null?nt=zt:qt.sibling=zt,qt=zt,Ke=kt}if(Et===le.length)return h(ne,Ke),Dt&&La(ne,Et),nt;if(Ke===null){for(;Et<le.length;Et++)Ke=Se(ne,le[Et],_e),Ke!==null&&(Q=A(Ke,Q,Et),qt===null?nt=Ke:qt.sibling=Ke,qt=Ke);return Dt&&La(ne,Et),nt}for(Ke=g(Ke);Et<le.length;Et++)kt=me(Ke,ne,Et,le[Et],_e),kt!==null&&(s&&kt.alternate!==null&&Ke.delete(kt.key===null?Et:kt.key),Q=A(kt,Q,Et),qt===null?nt=kt:qt.sibling=kt,qt=kt);return s&&Ke.forEach(function(Ks){return c(ne,Ks)}),Dt&&La(ne,Et),nt}function lt(ne,Q,le,_e){if(le==null)throw Error(r(151));for(var nt=null,qt=null,Ke=Q,Et=Q=0,kt=null,zt=le.next();Ke!==null&&!zt.done;Et++,zt=le.next()){Ke.index>Et?(kt=Ke,Ke=null):kt=Ke.sibling;var Ks=de(ne,Ke,zt.value,_e);if(Ks===null){Ke===null&&(Ke=kt);break}s&&Ke&&Ks.alternate===null&&c(ne,Ke),Q=A(Ks,Q,Et),qt===null?nt=Ks:qt.sibling=Ks,qt=Ks,Ke=kt}if(zt.done)return h(ne,Ke),Dt&&La(ne,Et),nt;if(Ke===null){for(;!zt.done;Et++,zt=le.next())zt=Se(ne,zt.value,_e),zt!==null&&(Q=A(zt,Q,Et),qt===null?nt=zt:qt.sibling=zt,qt=zt);return Dt&&La(ne,Et),nt}for(Ke=g(Ke);!zt.done;Et++,zt=le.next())zt=me(Ke,ne,Et,zt.value,_e),zt!==null&&(s&&zt.alternate!==null&&Ke.delete(zt.key===null?Et:zt.key),Q=A(zt,Q,Et),qt===null?nt=zt:qt.sibling=zt,qt=zt);return s&&Ke.forEach(function(iQ){return c(ne,iQ)}),Dt&&La(ne,Et),nt}function en(ne,Q,le,_e){if(typeof le=="object"&&le!==null&&le.type===y&&le.key===null&&(le=le.props.children),typeof le=="object"&&le!==null){switch(le.$$typeof){case b:e:{for(var nt=le.key;Q!==null;){if(Q.key===nt){if(nt=le.type,nt===y){if(Q.tag===7){h(ne,Q.sibling),_e=S(Q,le.props.children),_e.return=ne,ne=_e;break e}}else if(Q.elementType===nt||typeof nt=="object"&&nt!==null&&nt.$$typeof===M&&Fo(nt)===Q.type){h(ne,Q.sibling),_e=S(Q,le.props),Xd(_e,le),_e.return=ne,ne=_e;break e}h(ne,Q);break}else c(ne,Q);Q=Q.sibling}le.type===y?(_e=Lo(le.props.children,ne.mode,_e,le.key),_e.return=ne,ne=_e):(_e=op(le.type,le.key,le.props,null,ne.mode,_e),Xd(_e,le),_e.return=ne,ne=_e)}return P(ne);case x:e:{for(nt=le.key;Q!==null;){if(Q.key===nt)if(Q.tag===4&&Q.stateNode.containerInfo===le.containerInfo&&Q.stateNode.implementation===le.implementation){h(ne,Q.sibling),_e=S(Q,le.children||[]),_e.return=ne,ne=_e;break e}else{h(ne,Q);break}else c(ne,Q);Q=Q.sibling}_e=Cb(le,ne.mode,_e),_e.return=ne,ne=_e}return P(ne);case M:return le=Fo(le),en(ne,Q,le,_e)}if(U(le))return ze(ne,Q,le,_e);if($(le)){if(nt=$(le),typeof nt!="function")throw Error(r(150));return le=nt.call(le),lt(ne,Q,le,_e)}if(typeof le.then=="function")return en(ne,Q,mp(le),_e);if(le.$$typeof===j)return en(ne,Q,up(ne,le),_e);pp(ne,le)}return typeof le=="string"&&le!==""||typeof le=="number"||typeof le=="bigint"?(le=""+le,Q!==null&&Q.tag===6?(h(ne,Q.sibling),_e=S(Q,le),_e.return=ne,ne=_e):(h(ne,Q),_e=Ob(le,ne.mode,_e),_e.return=ne,ne=_e),P(ne)):h(ne,Q)}return function(ne,Q,le,_e){try{Yd=0;var nt=en(ne,Q,le,_e);return pc=null,nt}catch(Ke){if(Ke===mc||Ke===fp)throw Ke;var qt=Qr(29,Ke,null,ne.mode);return qt.lanes=_e,qt.return=ne,qt}finally{}}}var Ho=eR(!0),tR=eR(!1),Cs=!1;function Ub(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Fb(s,c){s=s.updateQueue,c.updateQueue===s&&(c.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function Rs(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function Ps(s,c,h){var g=s.updateQueue;if(g===null)return null;if(g=g.shared,(Vt&2)!==0){var S=g.pending;return S===null?c.next=c:(c.next=S.next,S.next=c),g.pending=c,c=sp(s),LC(s,null,h),c}return ap(s,g,c,h),sp(s)}function Qd(s,c,h){if(c=c.updateQueue,c!==null&&(c=c.shared,(h&4194048)!==0)){var g=c.lanes;g&=s.pendingLanes,h|=g,c.lanes=h,Po(s,h)}}function Vb(s,c){var h=s.updateQueue,g=s.alternate;if(g!==null&&(g=g.updateQueue,h===g)){var S=null,A=null;if(h=h.firstBaseUpdate,h!==null){do{var P={lane:h.lane,tag:h.tag,payload:h.payload,callback:null,next:null};A===null?S=A=P:A=A.next=P,h=h.next}while(h!==null);A===null?S=A=c:A=A.next=c}else S=A=c;h={baseState:g.baseState,firstBaseUpdate:S,lastBaseUpdate:A,shared:g.shared,callbacks:g.callbacks},s.updateQueue=h;return}s=h.lastBaseUpdate,s===null?h.firstBaseUpdate=c:s.next=c,h.lastBaseUpdate=c}var Hb=!1;function Jd(){if(Hb){var s=hc;if(s!==null)throw s}}function Zd(s,c,h,g){Hb=!1;var S=s.updateQueue;Cs=!1;var A=S.firstBaseUpdate,P=S.lastBaseUpdate,L=S.shared.pending;if(L!==null){S.shared.pending=null;var W=L,ce=W.next;W.next=null,P===null?A=ce:P.next=ce,P=W;var ve=s.alternate;ve!==null&&(ve=ve.updateQueue,L=ve.lastBaseUpdate,L!==P&&(L===null?ve.firstBaseUpdate=ce:L.next=ce,ve.lastBaseUpdate=W))}if(A!==null){var Se=S.baseState;P=0,ve=ce=W=null,L=A;do{var de=L.lane&-536870913,me=de!==L.lane;if(me?(Mt&de)===de:(g&de)===de){de!==0&&de===fc&&(Hb=!0),ve!==null&&(ve=ve.next={lane:0,tag:L.tag,payload:L.payload,callback:null,next:null});e:{var ze=s,lt=L;de=c;var en=h;switch(lt.tag){case 1:if(ze=lt.payload,typeof ze=="function"){Se=ze.call(en,Se,de);break e}Se=ze;break e;case 3:ze.flags=ze.flags&-65537|128;case 0:if(ze=lt.payload,de=typeof ze=="function"?ze.call(en,Se,de):ze,de==null)break e;Se=p({},Se,de);break e;case 2:Cs=!0}}de=L.callback,de!==null&&(s.flags|=64,me&&(s.flags|=8192),me=S.callbacks,me===null?S.callbacks=[de]:me.push(de))}else me={lane:de,tag:L.tag,payload:L.payload,callback:L.callback,next:null},ve===null?(ce=ve=me,W=Se):ve=ve.next=me,P|=de;if(L=L.next,L===null){if(L=S.shared.pending,L===null)break;me=L,L=me.next,me.next=null,S.lastBaseUpdate=me,S.shared.pending=null}}while(!0);ve===null&&(W=Se),S.baseState=W,S.firstBaseUpdate=ce,S.lastBaseUpdate=ve,A===null&&(S.shared.lanes=0),$s|=P,s.lanes=P,s.memoizedState=Se}}function nR(s,c){if(typeof s!="function")throw Error(r(191,s));s.call(c)}function rR(s,c){var h=s.callbacks;if(h!==null)for(s.callbacks=null,s=0;s<h.length;s++)nR(h[s],c)}var gc=V(null),gp=V(0);function iR(s,c){s=Ya,Z(gp,s),Z(gc,c),Ya=s|c.baseLanes}function Gb(){Z(gp,Ya),Z(gc,gc.current)}function Kb(){Ya=gp.current,K(gc),K(gp)}var Jr=V(null),Si=null;function Ms(s){var c=s.alternate;Z(Mn,Mn.current&1),Z(Jr,s),Si===null&&(c===null||gc.current!==null||c.memoizedState!==null)&&(Si=s)}function Wb(s){Z(Mn,Mn.current),Z(Jr,s),Si===null&&(Si=s)}function aR(s){s.tag===22?(Z(Mn,Mn.current),Z(Jr,s),Si===null&&(Si=s)):ks()}function ks(){Z(Mn,Mn.current),Z(Jr,Jr.current)}function Zr(s){K(Jr),Si===s&&(Si=null),K(Mn)}var Mn=V(0);function vp(s){for(var c=s;c!==null;){if(c.tag===13){var h=c.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||ew(h)||tw(h)))return c}else if(c.tag===19&&(c.memoizedProps.revealOrder==="forwards"||c.memoizedProps.revealOrder==="backwards"||c.memoizedProps.revealOrder==="unstable_legacy-backwards"||c.memoizedProps.revealOrder==="together")){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===s)break;for(;c.sibling===null;){if(c.return===null||c.return===s)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}var za=0,St=null,Jt=null,qn=null,yp=!1,vc=!1,Go=!1,bp=0,ef=0,yc=null,WY=0;function Nn(){throw Error(r(321))}function Yb(s,c){if(c===null)return!1;for(var h=0;h<c.length&&h<s.length;h++)if(!Xr(s[h],c[h]))return!1;return!0}function Xb(s,c,h,g,S,A){return za=A,St=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,D.H=s===null||s.memoizedState===null?UR:dx,Go=!1,A=h(g,S),Go=!1,vc&&(A=oR(c,h,g,S)),sR(s),A}function sR(s){D.H=rf;var c=Jt!==null&&Jt.next!==null;if(za=0,qn=Jt=St=null,yp=!1,ef=0,yc=null,c)throw Error(r(300));s===null||zn||(s=s.dependencies,s!==null&&cp(s)&&(zn=!0))}function oR(s,c,h,g){St=s;var S=0;do{if(vc&&(yc=null),ef=0,vc=!1,25<=S)throw Error(r(301));if(S+=1,qn=Jt=null,s.updateQueue!=null){var A=s.updateQueue;A.lastEffect=null,A.events=null,A.stores=null,A.memoCache!=null&&(A.memoCache.index=0)}D.H=FR,A=c(h,g)}while(vc);return A}function YY(){var s=D.H,c=s.useState()[0];return c=typeof c.then=="function"?tf(c):c,s=s.useState()[0],(Jt!==null?Jt.memoizedState:null)!==s&&(St.flags|=1024),c}function Qb(){var s=bp!==0;return bp=0,s}function Jb(s,c,h){c.updateQueue=s.updateQueue,c.flags&=-2053,s.lanes&=~h}function Zb(s){if(yp){for(s=s.memoizedState;s!==null;){var c=s.queue;c!==null&&(c.pending=null),s=s.next}yp=!1}za=0,qn=Jt=St=null,vc=!1,ef=bp=0,yc=null}function Pr(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return qn===null?St.memoizedState=qn=s:qn=qn.next=s,qn}function kn(){if(Jt===null){var s=St.alternate;s=s!==null?s.memoizedState:null}else s=Jt.next;var c=qn===null?St.memoizedState:qn.next;if(c!==null)qn=c,Jt=s;else{if(s===null)throw St.alternate===null?Error(r(467)):Error(r(310));Jt=s,s={memoizedState:Jt.memoizedState,baseState:Jt.baseState,baseQueue:Jt.baseQueue,queue:Jt.queue,next:null},qn===null?St.memoizedState=qn=s:qn=qn.next=s}return qn}function xp(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function tf(s){var c=ef;return ef+=1,yc===null&&(yc=[]),s=QC(yc,s,c),c=St,(qn===null?c.memoizedState:qn.next)===null&&(c=c.alternate,D.H=c===null||c.memoizedState===null?UR:dx),s}function wp(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return tf(s);if(s.$$typeof===j)return hr(s)}throw Error(r(438,String(s)))}function ex(s){var c=null,h=St.updateQueue;if(h!==null&&(c=h.memoCache),c==null){var g=St.alternate;g!==null&&(g=g.updateQueue,g!==null&&(g=g.memoCache,g!=null&&(c={data:g.data.map(function(S){return S.slice()}),index:0})))}if(c==null&&(c={data:[],index:0}),h===null&&(h=xp(),St.updateQueue=h),h.memoCache=c,h=c.data[c.index],h===void 0)for(h=c.data[c.index]=Array(s),g=0;g<s;g++)h[g]=I;return c.index++,h}function Ua(s,c){return typeof c=="function"?c(s):c}function _p(s){var c=kn();return tx(c,Jt,s)}function tx(s,c,h){var g=s.queue;if(g===null)throw Error(r(311));g.lastRenderedReducer=h;var S=s.baseQueue,A=g.pending;if(A!==null){if(S!==null){var P=S.next;S.next=A.next,A.next=P}c.baseQueue=S=A,g.pending=null}if(A=s.baseState,S===null)s.memoizedState=A;else{c=S.next;var L=P=null,W=null,ce=c,ve=!1;do{var Se=ce.lane&-536870913;if(Se!==ce.lane?(Mt&Se)===Se:(za&Se)===Se){var de=ce.revertLane;if(de===0)W!==null&&(W=W.next={lane:0,revertLane:0,gesture:null,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null}),Se===fc&&(ve=!0);else if((za&de)===de){ce=ce.next,de===fc&&(ve=!0);continue}else Se={lane:0,revertLane:ce.revertLane,gesture:null,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null},W===null?(L=W=Se,P=A):W=W.next=Se,St.lanes|=de,$s|=de;Se=ce.action,Go&&h(A,Se),A=ce.hasEagerState?ce.eagerState:h(A,Se)}else de={lane:Se,revertLane:ce.revertLane,gesture:ce.gesture,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null},W===null?(L=W=de,P=A):W=W.next=de,St.lanes|=Se,$s|=Se;ce=ce.next}while(ce!==null&&ce!==c);if(W===null?P=A:W.next=L,!Xr(A,s.memoizedState)&&(zn=!0,ve&&(h=hc,h!==null)))throw h;s.memoizedState=A,s.baseState=P,s.baseQueue=W,g.lastRenderedState=A}return S===null&&(g.lanes=0),[s.memoizedState,g.dispatch]}function nx(s){var c=kn(),h=c.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=s;var g=h.dispatch,S=h.pending,A=c.memoizedState;if(S!==null){h.pending=null;var P=S=S.next;do A=s(A,P.action),P=P.next;while(P!==S);Xr(A,c.memoizedState)||(zn=!0),c.memoizedState=A,c.baseQueue===null&&(c.baseState=A),h.lastRenderedState=A}return[A,g]}function lR(s,c,h){var g=St,S=kn(),A=Dt;if(A){if(h===void 0)throw Error(r(407));h=h()}else h=c();var P=!Xr((Jt||S).memoizedState,h);if(P&&(S.memoizedState=h,zn=!0),S=S.queue,ax(dR.bind(null,g,S,s),[s]),S.getSnapshot!==c||P||qn!==null&&qn.memoizedState.tag&1){if(g.flags|=2048,bc(9,{destroy:void 0},uR.bind(null,g,S,h,c),null),rn===null)throw Error(r(349));A||(za&127)!==0||cR(g,c,h)}return h}function cR(s,c,h){s.flags|=16384,s={getSnapshot:c,value:h},c=St.updateQueue,c===null?(c=xp(),St.updateQueue=c,c.stores=[s]):(h=c.stores,h===null?c.stores=[s]:h.push(s))}function uR(s,c,h,g){c.value=h,c.getSnapshot=g,fR(c)&&hR(s)}function dR(s,c,h){return h(function(){fR(c)&&hR(s)})}function fR(s){var c=s.getSnapshot;s=s.value;try{var h=c();return!Xr(s,h)}catch{return!0}}function hR(s){var c=$o(s,2);c!==null&&Vr(c,s,2)}function rx(s){var c=Pr();if(typeof s=="function"){var h=s;if(s=h(),Go){we(!0);try{h()}finally{we(!1)}}}return c.memoizedState=c.baseState=s,c.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ua,lastRenderedState:s},c}function mR(s,c,h,g){return s.baseState=h,tx(s,Jt,typeof g=="function"?g:Ua)}function XY(s,c,h,g,S){if(Ep(s))throw Error(r(485));if(s=c.action,s!==null){var A={payload:S,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(P){A.listeners.push(P)}};D.T!==null?h(!0):A.isTransition=!1,g(A),h=c.pending,h===null?(A.next=c.pending=A,pR(c,A)):(A.next=h.next,c.pending=h.next=A)}}function pR(s,c){var h=c.action,g=c.payload,S=s.state;if(c.isTransition){var A=D.T,P={};D.T=P;try{var L=h(S,g),W=D.S;W!==null&&W(P,L),gR(s,c,L)}catch(ce){ix(s,c,ce)}finally{A!==null&&P.types!==null&&(A.types=P.types),D.T=A}}else try{A=h(S,g),gR(s,c,A)}catch(ce){ix(s,c,ce)}}function gR(s,c,h){h!==null&&typeof h=="object"&&typeof h.then=="function"?h.then(function(g){vR(s,c,g)},function(g){return ix(s,c,g)}):vR(s,c,h)}function vR(s,c,h){c.status="fulfilled",c.value=h,yR(c),s.state=h,c=s.pending,c!==null&&(h=c.next,h===c?s.pending=null:(h=h.next,c.next=h,pR(s,h)))}function ix(s,c,h){var g=s.pending;if(s.pending=null,g!==null){g=g.next;do c.status="rejected",c.reason=h,yR(c),c=c.next;while(c!==g)}s.action=null}function yR(s){s=s.listeners;for(var c=0;c<s.length;c++)(0,s[c])()}function bR(s,c){return c}function xR(s,c){if(Dt){var h=rn.formState;if(h!==null){e:{var g=St;if(Dt){if(dn){t:{for(var S=dn,A=_i;S.nodeType!==8;){if(!A){S=null;break t}if(S=ji(S.nextSibling),S===null){S=null;break t}}A=S.data,S=A==="F!"||A==="F"?S:null}if(S){dn=ji(S.nextSibling),g=S.data==="F!";break e}}Ts(g)}g=!1}g&&(c=h[0])}}return h=Pr(),h.memoizedState=h.baseState=c,g={pending:null,lanes:0,dispatch:null,lastRenderedReducer:bR,lastRenderedState:c},h.queue=g,h=BR.bind(null,St,g),g.dispatch=h,g=rx(!1),A=ux.bind(null,St,!1,g.queue),g=Pr(),S={state:c,dispatch:null,action:s,pending:null},g.queue=S,h=XY.bind(null,St,S,A,h),S.dispatch=h,g.memoizedState=s,[c,h,!1]}function wR(s){var c=kn();return _R(c,Jt,s)}function _R(s,c,h){if(c=tx(s,c,bR)[0],s=_p(Ua)[0],typeof c=="object"&&c!==null&&typeof c.then=="function")try{var g=tf(c)}catch(P){throw P===mc?fp:P}else g=c;c=kn();var S=c.queue,A=S.dispatch;return h!==c.memoizedState&&(St.flags|=2048,bc(9,{destroy:void 0},QY.bind(null,S,h),null)),[g,A,s]}function QY(s,c){s.action=c}function SR(s){var c=kn(),h=Jt;if(h!==null)return _R(c,h,s);kn(),c=c.memoizedState,h=kn();var g=h.queue.dispatch;return h.memoizedState=s,[c,g,!1]}function bc(s,c,h,g){return s={tag:s,create:h,deps:g,inst:c,next:null},c=St.updateQueue,c===null&&(c=xp(),St.updateQueue=c),h=c.lastEffect,h===null?c.lastEffect=s.next=s:(g=h.next,h.next=s,s.next=g,c.lastEffect=s),s}function jR(){return kn().memoizedState}function Sp(s,c,h,g){var S=Pr();St.flags|=s,S.memoizedState=bc(1|c,{destroy:void 0},h,g===void 0?null:g)}function jp(s,c,h,g){var S=kn();g=g===void 0?null:g;var A=S.memoizedState.inst;Jt!==null&&g!==null&&Yb(g,Jt.memoizedState.deps)?S.memoizedState=bc(c,A,h,g):(St.flags|=s,S.memoizedState=bc(1|c,A,h,g))}function ER(s,c){Sp(8390656,8,s,c)}function ax(s,c){jp(2048,8,s,c)}function JY(s){St.flags|=4;var c=St.updateQueue;if(c===null)c=xp(),St.updateQueue=c,c.events=[s];else{var h=c.events;h===null?c.events=[s]:h.push(s)}}function NR(s){var c=kn().memoizedState;return JY({ref:c,nextImpl:s}),function(){if((Vt&2)!==0)throw Error(r(440));return c.impl.apply(void 0,arguments)}}function AR(s,c){return jp(4,2,s,c)}function TR(s,c){return jp(4,4,s,c)}function OR(s,c){if(typeof c=="function"){s=s();var h=c(s);return function(){typeof h=="function"?h():c(null)}}if(c!=null)return s=s(),c.current=s,function(){c.current=null}}function CR(s,c,h){h=h!=null?h.concat([s]):null,jp(4,4,OR.bind(null,c,s),h)}function sx(){}function RR(s,c){var h=kn();c=c===void 0?null:c;var g=h.memoizedState;return c!==null&&Yb(c,g[1])?g[0]:(h.memoizedState=[s,c],s)}function PR(s,c){var h=kn();c=c===void 0?null:c;var g=h.memoizedState;if(c!==null&&Yb(c,g[1]))return g[0];if(g=s(),Go){we(!0);try{s()}finally{we(!1)}}return h.memoizedState=[g,c],g}function ox(s,c,h){return h===void 0||(za&1073741824)!==0&&(Mt&261930)===0?s.memoizedState=c:(s.memoizedState=h,s=MP(),St.lanes|=s,$s|=s,h)}function MR(s,c,h,g){return Xr(h,c)?h:gc.current!==null?(s=ox(s,h,g),Xr(s,c)||(zn=!0),s):(za&42)===0||(za&1073741824)!==0&&(Mt&261930)===0?(zn=!0,s.memoizedState=h):(s=MP(),St.lanes|=s,$s|=s,c)}function kR(s,c,h,g,S){var A=G.p;G.p=A!==0&&8>A?A:8;var P=D.T,L={};D.T=L,ux(s,!1,c,h);try{var W=S(),ce=D.S;if(ce!==null&&ce(L,W),W!==null&&typeof W=="object"&&typeof W.then=="function"){var ve=KY(W,g);nf(s,c,ve,ni(s))}else nf(s,c,g,ni(s))}catch(Se){nf(s,c,{then:function(){},status:"rejected",reason:Se},ni())}finally{G.p=A,P!==null&&L.types!==null&&(P.types=L.types),D.T=P}}function ZY(){}function lx(s,c,h,g){if(s.tag!==5)throw Error(r(476));var S=DR(s).queue;kR(s,S,c,z,h===null?ZY:function(){return IR(s),h(g)})}function DR(s){var c=s.memoizedState;if(c!==null)return c;c={memoizedState:z,baseState:z,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ua,lastRenderedState:z},next:null};var h={};return c.next={memoizedState:h,baseState:h,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ua,lastRenderedState:h},next:null},s.memoizedState=c,s=s.alternate,s!==null&&(s.memoizedState=c),c}function IR(s){var c=DR(s);c.next===null&&(c=s.alternate.memoizedState),nf(s,c.next.queue,{},ni())}function cx(){return hr(xf)}function $R(){return kn().memoizedState}function LR(){return kn().memoizedState}function eX(s){for(var c=s.return;c!==null;){switch(c.tag){case 24:case 3:var h=ni();s=Rs(h);var g=Ps(c,s,h);g!==null&&(Vr(g,c,h),Qd(g,c,h)),c={cache:Lb()},s.payload=c;return}c=c.return}}function tX(s,c,h){var g=ni();h={lane:g,revertLane:0,gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null},Ep(s)?qR(c,h):(h=Ab(s,c,h,g),h!==null&&(Vr(h,s,g),zR(h,c,g)))}function BR(s,c,h){var g=ni();nf(s,c,h,g)}function nf(s,c,h,g){var S={lane:g,revertLane:0,gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null};if(Ep(s))qR(c,S);else{var A=s.alternate;if(s.lanes===0&&(A===null||A.lanes===0)&&(A=c.lastRenderedReducer,A!==null))try{var P=c.lastRenderedState,L=A(P,h);if(S.hasEagerState=!0,S.eagerState=L,Xr(L,P))return ap(s,c,S,0),rn===null&&ip(),!1}catch{}finally{}if(h=Ab(s,c,S,g),h!==null)return Vr(h,s,g),zR(h,c,g),!0}return!1}function ux(s,c,h,g){if(g={lane:2,revertLane:Ux(),gesture:null,action:g,hasEagerState:!1,eagerState:null,next:null},Ep(s)){if(c)throw Error(r(479))}else c=Ab(s,h,g,2),c!==null&&Vr(c,s,2)}function Ep(s){var c=s.alternate;return s===St||c!==null&&c===St}function qR(s,c){vc=yp=!0;var h=s.pending;h===null?c.next=c:(c.next=h.next,h.next=c),s.pending=c}function zR(s,c,h){if((h&4194048)!==0){var g=c.lanes;g&=s.pendingLanes,h|=g,c.lanes=h,Po(s,h)}}var rf={readContext:hr,use:wp,useCallback:Nn,useContext:Nn,useEffect:Nn,useImperativeHandle:Nn,useLayoutEffect:Nn,useInsertionEffect:Nn,useMemo:Nn,useReducer:Nn,useRef:Nn,useState:Nn,useDebugValue:Nn,useDeferredValue:Nn,useTransition:Nn,useSyncExternalStore:Nn,useId:Nn,useHostTransitionStatus:Nn,useFormState:Nn,useActionState:Nn,useOptimistic:Nn,useMemoCache:Nn,useCacheRefresh:Nn};rf.useEffectEvent=Nn;var UR={readContext:hr,use:wp,useCallback:function(s,c){return Pr().memoizedState=[s,c===void 0?null:c],s},useContext:hr,useEffect:ER,useImperativeHandle:function(s,c,h){h=h!=null?h.concat([s]):null,Sp(4194308,4,OR.bind(null,c,s),h)},useLayoutEffect:function(s,c){return Sp(4194308,4,s,c)},useInsertionEffect:function(s,c){Sp(4,2,s,c)},useMemo:function(s,c){var h=Pr();c=c===void 0?null:c;var g=s();if(Go){we(!0);try{s()}finally{we(!1)}}return h.memoizedState=[g,c],g},useReducer:function(s,c,h){var g=Pr();if(h!==void 0){var S=h(c);if(Go){we(!0);try{h(c)}finally{we(!1)}}}else S=c;return g.memoizedState=g.baseState=S,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:S},g.queue=s,s=s.dispatch=tX.bind(null,St,s),[g.memoizedState,s]},useRef:function(s){var c=Pr();return s={current:s},c.memoizedState=s},useState:function(s){s=rx(s);var c=s.queue,h=BR.bind(null,St,c);return c.dispatch=h,[s.memoizedState,h]},useDebugValue:sx,useDeferredValue:function(s,c){var h=Pr();return ox(h,s,c)},useTransition:function(){var s=rx(!1);return s=kR.bind(null,St,s.queue,!0,!1),Pr().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,c,h){var g=St,S=Pr();if(Dt){if(h===void 0)throw Error(r(407));h=h()}else{if(h=c(),rn===null)throw Error(r(349));(Mt&127)!==0||cR(g,c,h)}S.memoizedState=h;var A={value:h,getSnapshot:c};return S.queue=A,ER(dR.bind(null,g,A,s),[s]),g.flags|=2048,bc(9,{destroy:void 0},uR.bind(null,g,A,h,c),null),h},useId:function(){var s=Pr(),c=rn.identifierPrefix;if(Dt){var h=fa,g=da;h=(g&~(1<<32-Ee(g)-1)).toString(32)+h,c="_"+c+"R_"+h,h=bp++,0<h&&(c+="H"+h.toString(32)),c+="_"}else h=WY++,c="_"+c+"r_"+h.toString(32)+"_";return s.memoizedState=c},useHostTransitionStatus:cx,useFormState:xR,useActionState:xR,useOptimistic:function(s){var c=Pr();c.memoizedState=c.baseState=s;var h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return c.queue=h,c=ux.bind(null,St,!0,h),h.dispatch=c,[s,c]},useMemoCache:ex,useCacheRefresh:function(){return Pr().memoizedState=eX.bind(null,St)},useEffectEvent:function(s){var c=Pr(),h={impl:s};return c.memoizedState=h,function(){if((Vt&2)!==0)throw Error(r(440));return h.impl.apply(void 0,arguments)}}},dx={readContext:hr,use:wp,useCallback:RR,useContext:hr,useEffect:ax,useImperativeHandle:CR,useInsertionEffect:AR,useLayoutEffect:TR,useMemo:PR,useReducer:_p,useRef:jR,useState:function(){return _p(Ua)},useDebugValue:sx,useDeferredValue:function(s,c){var h=kn();return MR(h,Jt.memoizedState,s,c)},useTransition:function(){var s=_p(Ua)[0],c=kn().memoizedState;return[typeof s=="boolean"?s:tf(s),c]},useSyncExternalStore:lR,useId:$R,useHostTransitionStatus:cx,useFormState:wR,useActionState:wR,useOptimistic:function(s,c){var h=kn();return mR(h,Jt,s,c)},useMemoCache:ex,useCacheRefresh:LR};dx.useEffectEvent=NR;var FR={readContext:hr,use:wp,useCallback:RR,useContext:hr,useEffect:ax,useImperativeHandle:CR,useInsertionEffect:AR,useLayoutEffect:TR,useMemo:PR,useReducer:nx,useRef:jR,useState:function(){return nx(Ua)},useDebugValue:sx,useDeferredValue:function(s,c){var h=kn();return Jt===null?ox(h,s,c):MR(h,Jt.memoizedState,s,c)},useTransition:function(){var s=nx(Ua)[0],c=kn().memoizedState;return[typeof s=="boolean"?s:tf(s),c]},useSyncExternalStore:lR,useId:$R,useHostTransitionStatus:cx,useFormState:SR,useActionState:SR,useOptimistic:function(s,c){var h=kn();return Jt!==null?mR(h,Jt,s,c):(h.baseState=s,[s,h.queue.dispatch])},useMemoCache:ex,useCacheRefresh:LR};FR.useEffectEvent=NR;function fx(s,c,h,g){c=s.memoizedState,h=h(g,c),h=h==null?c:p({},c,h),s.memoizedState=h,s.lanes===0&&(s.updateQueue.baseState=h)}var hx={enqueueSetState:function(s,c,h){s=s._reactInternals;var g=ni(),S=Rs(g);S.payload=c,h!=null&&(S.callback=h),c=Ps(s,S,g),c!==null&&(Vr(c,s,g),Qd(c,s,g))},enqueueReplaceState:function(s,c,h){s=s._reactInternals;var g=ni(),S=Rs(g);S.tag=1,S.payload=c,h!=null&&(S.callback=h),c=Ps(s,S,g),c!==null&&(Vr(c,s,g),Qd(c,s,g))},enqueueForceUpdate:function(s,c){s=s._reactInternals;var h=ni(),g=Rs(h);g.tag=2,c!=null&&(g.callback=c),c=Ps(s,g,h),c!==null&&(Vr(c,s,h),Qd(c,s,h))}};function VR(s,c,h,g,S,A,P){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(g,A,P):c.prototype&&c.prototype.isPureReactComponent?!Fd(h,g)||!Fd(S,A):!0}function HR(s,c,h,g){s=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(h,g),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(h,g),c.state!==s&&hx.enqueueReplaceState(c,c.state,null)}function Ko(s,c){var h=c;if("ref"in c){h={};for(var g in c)g!=="ref"&&(h[g]=c[g])}if(s=s.defaultProps){h===c&&(h=p({},h));for(var S in s)h[S]===void 0&&(h[S]=s[S])}return h}function GR(s){rp(s)}function KR(s){console.error(s)}function WR(s){rp(s)}function Np(s,c){try{var h=s.onUncaughtError;h(c.value,{componentStack:c.stack})}catch(g){setTimeout(function(){throw g})}}function YR(s,c,h){try{var g=s.onCaughtError;g(h.value,{componentStack:h.stack,errorBoundary:c.tag===1?c.stateNode:null})}catch(S){setTimeout(function(){throw S})}}function mx(s,c,h){return h=Rs(h),h.tag=3,h.payload={element:null},h.callback=function(){Np(s,c)},h}function XR(s){return s=Rs(s),s.tag=3,s}function QR(s,c,h,g){var S=h.type.getDerivedStateFromError;if(typeof S=="function"){var A=g.value;s.payload=function(){return S(A)},s.callback=function(){YR(c,h,g)}}var P=h.stateNode;P!==null&&typeof P.componentDidCatch=="function"&&(s.callback=function(){YR(c,h,g),typeof S!="function"&&(Ls===null?Ls=new Set([this]):Ls.add(this));var L=g.stack;this.componentDidCatch(g.value,{componentStack:L!==null?L:""})})}function nX(s,c,h,g,S){if(h.flags|=32768,g!==null&&typeof g=="object"&&typeof g.then=="function"){if(c=h.alternate,c!==null&&dc(c,h,S,!0),h=Jr.current,h!==null){switch(h.tag){case 31:case 13:return Si===null?Lp():h.alternate===null&&An===0&&(An=3),h.flags&=-257,h.flags|=65536,h.lanes=S,g===hp?h.flags|=16384:(c=h.updateQueue,c===null?h.updateQueue=new Set([g]):c.add(g),Bx(s,g,S)),!1;case 22:return h.flags|=65536,g===hp?h.flags|=16384:(c=h.updateQueue,c===null?(c={transitions:null,markerInstances:null,retryQueue:new Set([g])},h.updateQueue=c):(h=c.retryQueue,h===null?c.retryQueue=new Set([g]):h.add(g)),Bx(s,g,S)),!1}throw Error(r(435,h.tag))}return Bx(s,g,S),Lp(),!1}if(Dt)return c=Jr.current,c!==null?((c.flags&65536)===0&&(c.flags|=256),c.flags|=65536,c.lanes=S,g!==Mb&&(s=Error(r(422),{cause:g}),Gd(bi(s,h)))):(g!==Mb&&(c=Error(r(423),{cause:g}),Gd(bi(c,h))),s=s.current.alternate,s.flags|=65536,S&=-S,s.lanes|=S,g=bi(g,h),S=mx(s.stateNode,g,S),Vb(s,S),An!==4&&(An=2)),!1;var A=Error(r(520),{cause:g});if(A=bi(A,h),ff===null?ff=[A]:ff.push(A),An!==4&&(An=2),c===null)return!0;g=bi(g,h),h=c;do{switch(h.tag){case 3:return h.flags|=65536,s=S&-S,h.lanes|=s,s=mx(h.stateNode,g,s),Vb(h,s),!1;case 1:if(c=h.type,A=h.stateNode,(h.flags&128)===0&&(typeof c.getDerivedStateFromError=="function"||A!==null&&typeof A.componentDidCatch=="function"&&(Ls===null||!Ls.has(A))))return h.flags|=65536,S&=-S,h.lanes|=S,S=XR(S),QR(S,s,h,g),Vb(h,S),!1}h=h.return}while(h!==null);return!1}var px=Error(r(461)),zn=!1;function mr(s,c,h,g){c.child=s===null?tR(c,null,h,g):Ho(c,s.child,h,g)}function JR(s,c,h,g,S){h=h.render;var A=c.ref;if("ref"in g){var P={};for(var L in g)L!=="ref"&&(P[L]=g[L])}else P=g;return zo(c),g=Xb(s,c,h,P,A,S),L=Qb(),s!==null&&!zn?(Jb(s,c,S),Fa(s,c,S)):(Dt&&L&&Rb(c),c.flags|=1,mr(s,c,g,S),c.child)}function ZR(s,c,h,g,S){if(s===null){var A=h.type;return typeof A=="function"&&!Tb(A)&&A.defaultProps===void 0&&h.compare===null?(c.tag=15,c.type=A,eP(s,c,A,g,S)):(s=op(h.type,null,g,c,c.mode,S),s.ref=c.ref,s.return=c,c.child=s)}if(A=s.child,!Sx(s,S)){var P=A.memoizedProps;if(h=h.compare,h=h!==null?h:Fd,h(P,g)&&s.ref===c.ref)return Fa(s,c,S)}return c.flags|=1,s=$a(A,g),s.ref=c.ref,s.return=c,c.child=s}function eP(s,c,h,g,S){if(s!==null){var A=s.memoizedProps;if(Fd(A,g)&&s.ref===c.ref)if(zn=!1,c.pendingProps=g=A,Sx(s,S))(s.flags&131072)!==0&&(zn=!0);else return c.lanes=s.lanes,Fa(s,c,S)}return gx(s,c,h,g,S)}function tP(s,c,h,g){var S=g.children,A=s!==null?s.memoizedState:null;if(s===null&&c.stateNode===null&&(c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),g.mode==="hidden"){if((c.flags&128)!==0){if(A=A!==null?A.baseLanes|h:h,s!==null){for(g=c.child=s.child,S=0;g!==null;)S=S|g.lanes|g.childLanes,g=g.sibling;g=S&~A}else g=0,c.child=null;return nP(s,c,A,h,g)}if((h&536870912)!==0)c.memoizedState={baseLanes:0,cachePool:null},s!==null&&dp(c,A!==null?A.cachePool:null),A!==null?iR(c,A):Gb(),aR(c);else return g=c.lanes=536870912,nP(s,c,A!==null?A.baseLanes|h:h,h,g)}else A!==null?(dp(c,A.cachePool),iR(c,A),ks(),c.memoizedState=null):(s!==null&&dp(c,null),Gb(),ks());return mr(s,c,S,h),c.child}function af(s,c){return s!==null&&s.tag===22||c.stateNode!==null||(c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.sibling}function nP(s,c,h,g,S){var A=qb();return A=A===null?null:{parent:Bn._currentValue,pool:A},c.memoizedState={baseLanes:h,cachePool:A},s!==null&&dp(c,null),Gb(),aR(c),s!==null&&dc(s,c,g,!0),c.childLanes=S,null}function Ap(s,c){return c=Op({mode:c.mode,children:c.children},s.mode),c.ref=s.ref,s.child=c,c.return=s,c}function rP(s,c,h){return Ho(c,s.child,null,h),s=Ap(c,c.pendingProps),s.flags|=2,Zr(c),c.memoizedState=null,s}function rX(s,c,h){var g=c.pendingProps,S=(c.flags&128)!==0;if(c.flags&=-129,s===null){if(Dt){if(g.mode==="hidden")return s=Ap(c,g),c.lanes=536870912,af(null,s);if(Wb(c),(s=dn)?(s=pM(s,_i),s=s!==null&&s.data==="&"?s:null,s!==null&&(c.memoizedState={dehydrated:s,treeContext:Ns!==null?{id:da,overflow:fa}:null,retryLane:536870912,hydrationErrors:null},h=qC(s),h.return=c,c.child=h,fr=c,dn=null)):s=null,s===null)throw Ts(c);return c.lanes=536870912,null}return Ap(c,g)}var A=s.memoizedState;if(A!==null){var P=A.dehydrated;if(Wb(c),S)if(c.flags&256)c.flags&=-257,c=rP(s,c,h);else if(c.memoizedState!==null)c.child=s.child,c.flags|=128,c=null;else throw Error(r(558));else if(zn||dc(s,c,h,!1),S=(h&s.childLanes)!==0,zn||S){if(g=rn,g!==null&&(P=Gm(g,h),P!==0&&P!==A.retryLane))throw A.retryLane=P,$o(s,P),Vr(g,s,P),px;Lp(),c=rP(s,c,h)}else s=A.treeContext,dn=ji(P.nextSibling),fr=c,Dt=!0,As=null,_i=!1,s!==null&&FC(c,s),c=Ap(c,g),c.flags|=4096;return c}return s=$a(s.child,{mode:g.mode,children:g.children}),s.ref=c.ref,c.child=s,s.return=c,s}function Tp(s,c){var h=c.ref;if(h===null)s!==null&&s.ref!==null&&(c.flags|=4194816);else{if(typeof h!="function"&&typeof h!="object")throw Error(r(284));(s===null||s.ref!==h)&&(c.flags|=4194816)}}function gx(s,c,h,g,S){return zo(c),h=Xb(s,c,h,g,void 0,S),g=Qb(),s!==null&&!zn?(Jb(s,c,S),Fa(s,c,S)):(Dt&&g&&Rb(c),c.flags|=1,mr(s,c,h,S),c.child)}function iP(s,c,h,g,S,A){return zo(c),c.updateQueue=null,h=oR(c,g,h,S),sR(s),g=Qb(),s!==null&&!zn?(Jb(s,c,A),Fa(s,c,A)):(Dt&&g&&Rb(c),c.flags|=1,mr(s,c,h,A),c.child)}function aP(s,c,h,g,S){if(zo(c),c.stateNode===null){var A=oc,P=h.contextType;typeof P=="object"&&P!==null&&(A=hr(P)),A=new h(g,A),c.memoizedState=A.state!==null&&A.state!==void 0?A.state:null,A.updater=hx,c.stateNode=A,A._reactInternals=c,A=c.stateNode,A.props=g,A.state=c.memoizedState,A.refs={},Ub(c),P=h.contextType,A.context=typeof P=="object"&&P!==null?hr(P):oc,A.state=c.memoizedState,P=h.getDerivedStateFromProps,typeof P=="function"&&(fx(c,h,P,g),A.state=c.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof A.getSnapshotBeforeUpdate=="function"||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(P=A.state,typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount(),P!==A.state&&hx.enqueueReplaceState(A,A.state,null),Zd(c,g,A,S),Jd(),A.state=c.memoizedState),typeof A.componentDidMount=="function"&&(c.flags|=4194308),g=!0}else if(s===null){A=c.stateNode;var L=c.memoizedProps,W=Ko(h,L);A.props=W;var ce=A.context,ve=h.contextType;P=oc,typeof ve=="object"&&ve!==null&&(P=hr(ve));var Se=h.getDerivedStateFromProps;ve=typeof Se=="function"||typeof A.getSnapshotBeforeUpdate=="function",L=c.pendingProps!==L,ve||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(L||ce!==P)&&HR(c,A,g,P),Cs=!1;var de=c.memoizedState;A.state=de,Zd(c,g,A,S),Jd(),ce=c.memoizedState,L||de!==ce||Cs?(typeof Se=="function"&&(fx(c,h,Se,g),ce=c.memoizedState),(W=Cs||VR(c,h,W,g,de,ce,P))?(ve||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount()),typeof A.componentDidMount=="function"&&(c.flags|=4194308)):(typeof A.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=g,c.memoizedState=ce),A.props=g,A.state=ce,A.context=P,g=W):(typeof A.componentDidMount=="function"&&(c.flags|=4194308),g=!1)}else{A=c.stateNode,Fb(s,c),P=c.memoizedProps,ve=Ko(h,P),A.props=ve,Se=c.pendingProps,de=A.context,ce=h.contextType,W=oc,typeof ce=="object"&&ce!==null&&(W=hr(ce)),L=h.getDerivedStateFromProps,(ce=typeof L=="function"||typeof A.getSnapshotBeforeUpdate=="function")||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(P!==Se||de!==W)&&HR(c,A,g,W),Cs=!1,de=c.memoizedState,A.state=de,Zd(c,g,A,S),Jd();var me=c.memoizedState;P!==Se||de!==me||Cs||s!==null&&s.dependencies!==null&&cp(s.dependencies)?(typeof L=="function"&&(fx(c,h,L,g),me=c.memoizedState),(ve=Cs||VR(c,h,ve,g,de,me,W)||s!==null&&s.dependencies!==null&&cp(s.dependencies))?(ce||typeof A.UNSAFE_componentWillUpdate!="function"&&typeof A.componentWillUpdate!="function"||(typeof A.componentWillUpdate=="function"&&A.componentWillUpdate(g,me,W),typeof A.UNSAFE_componentWillUpdate=="function"&&A.UNSAFE_componentWillUpdate(g,me,W)),typeof A.componentDidUpdate=="function"&&(c.flags|=4),typeof A.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof A.componentDidUpdate!="function"||P===s.memoizedProps&&de===s.memoizedState||(c.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||P===s.memoizedProps&&de===s.memoizedState||(c.flags|=1024),c.memoizedProps=g,c.memoizedState=me),A.props=g,A.state=me,A.context=W,g=ve):(typeof A.componentDidUpdate!="function"||P===s.memoizedProps&&de===s.memoizedState||(c.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||P===s.memoizedProps&&de===s.memoizedState||(c.flags|=1024),g=!1)}return A=g,Tp(s,c),g=(c.flags&128)!==0,A||g?(A=c.stateNode,h=g&&typeof h.getDerivedStateFromError!="function"?null:A.render(),c.flags|=1,s!==null&&g?(c.child=Ho(c,s.child,null,S),c.child=Ho(c,null,h,S)):mr(s,c,h,S),c.memoizedState=A.state,s=c.child):s=Fa(s,c,S),s}function sP(s,c,h,g){return Bo(),c.flags|=256,mr(s,c,h,g),c.child}var vx={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function yx(s){return{baseLanes:s,cachePool:YC()}}function bx(s,c,h){return s=s!==null?s.childLanes&~h:0,c&&(s|=ti),s}function oP(s,c,h){var g=c.pendingProps,S=!1,A=(c.flags&128)!==0,P;if((P=A)||(P=s!==null&&s.memoizedState===null?!1:(Mn.current&2)!==0),P&&(S=!0,c.flags&=-129),P=(c.flags&32)!==0,c.flags&=-33,s===null){if(Dt){if(S?Ms(c):ks(),(s=dn)?(s=pM(s,_i),s=s!==null&&s.data!=="&"?s:null,s!==null&&(c.memoizedState={dehydrated:s,treeContext:Ns!==null?{id:da,overflow:fa}:null,retryLane:536870912,hydrationErrors:null},h=qC(s),h.return=c,c.child=h,fr=c,dn=null)):s=null,s===null)throw Ts(c);return tw(s)?c.lanes=32:c.lanes=536870912,null}var L=g.children;return g=g.fallback,S?(ks(),S=c.mode,L=Op({mode:"hidden",children:L},S),g=Lo(g,S,h,null),L.return=c,g.return=c,L.sibling=g,c.child=L,g=c.child,g.memoizedState=yx(h),g.childLanes=bx(s,P,h),c.memoizedState=vx,af(null,g)):(Ms(c),xx(c,L))}var W=s.memoizedState;if(W!==null&&(L=W.dehydrated,L!==null)){if(A)c.flags&256?(Ms(c),c.flags&=-257,c=wx(s,c,h)):c.memoizedState!==null?(ks(),c.child=s.child,c.flags|=128,c=null):(ks(),L=g.fallback,S=c.mode,g=Op({mode:"visible",children:g.children},S),L=Lo(L,S,h,null),L.flags|=2,g.return=c,L.return=c,g.sibling=L,c.child=g,Ho(c,s.child,null,h),g=c.child,g.memoizedState=yx(h),g.childLanes=bx(s,P,h),c.memoizedState=vx,c=af(null,g));else if(Ms(c),tw(L)){if(P=L.nextSibling&&L.nextSibling.dataset,P)var ce=P.dgst;P=ce,g=Error(r(419)),g.stack="",g.digest=P,Gd({value:g,source:null,stack:null}),c=wx(s,c,h)}else if(zn||dc(s,c,h,!1),P=(h&s.childLanes)!==0,zn||P){if(P=rn,P!==null&&(g=Gm(P,h),g!==0&&g!==W.retryLane))throw W.retryLane=g,$o(s,g),Vr(P,s,g),px;ew(L)||Lp(),c=wx(s,c,h)}else ew(L)?(c.flags|=192,c.child=s.child,c=null):(s=W.treeContext,dn=ji(L.nextSibling),fr=c,Dt=!0,As=null,_i=!1,s!==null&&FC(c,s),c=xx(c,g.children),c.flags|=4096);return c}return S?(ks(),L=g.fallback,S=c.mode,W=s.child,ce=W.sibling,g=$a(W,{mode:"hidden",children:g.children}),g.subtreeFlags=W.subtreeFlags&65011712,ce!==null?L=$a(ce,L):(L=Lo(L,S,h,null),L.flags|=2),L.return=c,g.return=c,g.sibling=L,c.child=g,af(null,g),g=c.child,L=s.child.memoizedState,L===null?L=yx(h):(S=L.cachePool,S!==null?(W=Bn._currentValue,S=S.parent!==W?{parent:W,pool:W}:S):S=YC(),L={baseLanes:L.baseLanes|h,cachePool:S}),g.memoizedState=L,g.childLanes=bx(s,P,h),c.memoizedState=vx,af(s.child,g)):(Ms(c),h=s.child,s=h.sibling,h=$a(h,{mode:"visible",children:g.children}),h.return=c,h.sibling=null,s!==null&&(P=c.deletions,P===null?(c.deletions=[s],c.flags|=16):P.push(s)),c.child=h,c.memoizedState=null,h)}function xx(s,c){return c=Op({mode:"visible",children:c},s.mode),c.return=s,s.child=c}function Op(s,c){return s=Qr(22,s,null,c),s.lanes=0,s}function wx(s,c,h){return Ho(c,s.child,null,h),s=xx(c,c.pendingProps.children),s.flags|=2,c.memoizedState=null,s}function lP(s,c,h){s.lanes|=c;var g=s.alternate;g!==null&&(g.lanes|=c),Ib(s.return,c,h)}function _x(s,c,h,g,S,A){var P=s.memoizedState;P===null?s.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:g,tail:h,tailMode:S,treeForkCount:A}:(P.isBackwards=c,P.rendering=null,P.renderingStartTime=0,P.last=g,P.tail=h,P.tailMode=S,P.treeForkCount=A)}function cP(s,c,h){var g=c.pendingProps,S=g.revealOrder,A=g.tail;g=g.children;var P=Mn.current,L=(P&2)!==0;if(L?(P=P&1|2,c.flags|=128):P&=1,Z(Mn,P),mr(s,c,g,h),g=Dt?Hd:0,!L&&s!==null&&(s.flags&128)!==0)e:for(s=c.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&lP(s,h,c);else if(s.tag===19)lP(s,h,c);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===c)break e;for(;s.sibling===null;){if(s.return===null||s.return===c)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(S){case"forwards":for(h=c.child,S=null;h!==null;)s=h.alternate,s!==null&&vp(s)===null&&(S=h),h=h.sibling;h=S,h===null?(S=c.child,c.child=null):(S=h.sibling,h.sibling=null),_x(c,!1,S,h,A,g);break;case"backwards":case"unstable_legacy-backwards":for(h=null,S=c.child,c.child=null;S!==null;){if(s=S.alternate,s!==null&&vp(s)===null){c.child=S;break}s=S.sibling,S.sibling=h,h=S,S=s}_x(c,!0,h,null,A,g);break;case"together":_x(c,!1,null,null,void 0,g);break;default:c.memoizedState=null}return c.child}function Fa(s,c,h){if(s!==null&&(c.dependencies=s.dependencies),$s|=c.lanes,(h&c.childLanes)===0)if(s!==null){if(dc(s,c,h,!1),(h&c.childLanes)===0)return null}else return null;if(s!==null&&c.child!==s.child)throw Error(r(153));if(c.child!==null){for(s=c.child,h=$a(s,s.pendingProps),c.child=h,h.return=c;s.sibling!==null;)s=s.sibling,h=h.sibling=$a(s,s.pendingProps),h.return=c;h.sibling=null}return c.child}function Sx(s,c){return(s.lanes&c)!==0?!0:(s=s.dependencies,!!(s!==null&&cp(s)))}function iX(s,c,h){switch(c.tag){case 3:he(c,c.stateNode.containerInfo),Os(c,Bn,s.memoizedState.cache),Bo();break;case 27:case 5:pe(c);break;case 4:he(c,c.stateNode.containerInfo);break;case 10:Os(c,c.type,c.memoizedProps.value);break;case 31:if(c.memoizedState!==null)return c.flags|=128,Wb(c),null;break;case 13:var g=c.memoizedState;if(g!==null)return g.dehydrated!==null?(Ms(c),c.flags|=128,null):(h&c.child.childLanes)!==0?oP(s,c,h):(Ms(c),s=Fa(s,c,h),s!==null?s.sibling:null);Ms(c);break;case 19:var S=(s.flags&128)!==0;if(g=(h&c.childLanes)!==0,g||(dc(s,c,h,!1),g=(h&c.childLanes)!==0),S){if(g)return cP(s,c,h);c.flags|=128}if(S=c.memoizedState,S!==null&&(S.rendering=null,S.tail=null,S.lastEffect=null),Z(Mn,Mn.current),g)break;return null;case 22:return c.lanes=0,tP(s,c,h,c.pendingProps);case 24:Os(c,Bn,s.memoizedState.cache)}return Fa(s,c,h)}function uP(s,c,h){if(s!==null)if(s.memoizedProps!==c.pendingProps)zn=!0;else{if(!Sx(s,h)&&(c.flags&128)===0)return zn=!1,iX(s,c,h);zn=(s.flags&131072)!==0}else zn=!1,Dt&&(c.flags&1048576)!==0&&UC(c,Hd,c.index);switch(c.lanes=0,c.tag){case 16:e:{var g=c.pendingProps;if(s=Fo(c.elementType),c.type=s,typeof s=="function")Tb(s)?(g=Ko(s,g),c.tag=1,c=aP(null,c,s,g,h)):(c.tag=0,c=gx(null,c,s,g,h));else{if(s!=null){var S=s.$$typeof;if(S===O){c.tag=11,c=JR(null,c,s,g,h);break e}else if(S===R){c.tag=14,c=ZR(null,c,s,g,h);break e}}throw c=H(s)||s,Error(r(306,c,""))}}return c;case 0:return gx(s,c,c.type,c.pendingProps,h);case 1:return g=c.type,S=Ko(g,c.pendingProps),aP(s,c,g,S,h);case 3:e:{if(he(c,c.stateNode.containerInfo),s===null)throw Error(r(387));g=c.pendingProps;var A=c.memoizedState;S=A.element,Fb(s,c),Zd(c,g,null,h);var P=c.memoizedState;if(g=P.cache,Os(c,Bn,g),g!==A.cache&&$b(c,[Bn],h,!0),Jd(),g=P.element,A.isDehydrated)if(A={element:g,isDehydrated:!1,cache:P.cache},c.updateQueue.baseState=A,c.memoizedState=A,c.flags&256){c=sP(s,c,g,h);break e}else if(g!==S){S=bi(Error(r(424)),c),Gd(S),c=sP(s,c,g,h);break e}else{switch(s=c.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(dn=ji(s.firstChild),fr=c,Dt=!0,As=null,_i=!0,h=tR(c,null,g,h),c.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling}else{if(Bo(),g===S){c=Fa(s,c,h);break e}mr(s,c,g,h)}c=c.child}return c;case 26:return Tp(s,c),s===null?(h=wM(c.type,null,c.pendingProps,null))?c.memoizedState=h:Dt||(h=c.type,s=c.pendingProps,g=Hp(ae.current).createElement(h),g[dr]=c,g[Lr]=s,pr(g,h,s),ar(g),c.stateNode=g):c.memoizedState=wM(c.type,s.memoizedProps,c.pendingProps,s.memoizedState),null;case 27:return pe(c),s===null&&Dt&&(g=c.stateNode=yM(c.type,c.pendingProps,ae.current),fr=c,_i=!0,S=dn,Us(c.type)?(nw=S,dn=ji(g.firstChild)):dn=S),mr(s,c,c.pendingProps.children,h),Tp(s,c),s===null&&(c.flags|=4194304),c.child;case 5:return s===null&&Dt&&((S=g=dn)&&(g=kX(g,c.type,c.pendingProps,_i),g!==null?(c.stateNode=g,fr=c,dn=ji(g.firstChild),_i=!1,S=!0):S=!1),S||Ts(c)),pe(c),S=c.type,A=c.pendingProps,P=s!==null?s.memoizedProps:null,g=A.children,Qx(S,A)?g=null:P!==null&&Qx(S,P)&&(c.flags|=32),c.memoizedState!==null&&(S=Xb(s,c,YY,null,null,h),xf._currentValue=S),Tp(s,c),mr(s,c,g,h),c.child;case 6:return s===null&&Dt&&((s=h=dn)&&(h=DX(h,c.pendingProps,_i),h!==null?(c.stateNode=h,fr=c,dn=null,s=!0):s=!1),s||Ts(c)),null;case 13:return oP(s,c,h);case 4:return he(c,c.stateNode.containerInfo),g=c.pendingProps,s===null?c.child=Ho(c,null,g,h):mr(s,c,g,h),c.child;case 11:return JR(s,c,c.type,c.pendingProps,h);case 7:return mr(s,c,c.pendingProps,h),c.child;case 8:return mr(s,c,c.pendingProps.children,h),c.child;case 12:return mr(s,c,c.pendingProps.children,h),c.child;case 10:return g=c.pendingProps,Os(c,c.type,g.value),mr(s,c,g.children,h),c.child;case 9:return S=c.type._context,g=c.pendingProps.children,zo(c),S=hr(S),g=g(S),c.flags|=1,mr(s,c,g,h),c.child;case 14:return ZR(s,c,c.type,c.pendingProps,h);case 15:return eP(s,c,c.type,c.pendingProps,h);case 19:return cP(s,c,h);case 31:return rX(s,c,h);case 22:return tP(s,c,h,c.pendingProps);case 24:return zo(c),g=hr(Bn),s===null?(S=qb(),S===null&&(S=rn,A=Lb(),S.pooledCache=A,A.refCount++,A!==null&&(S.pooledCacheLanes|=h),S=A),c.memoizedState={parent:g,cache:S},Ub(c),Os(c,Bn,S)):((s.lanes&h)!==0&&(Fb(s,c),Zd(c,null,null,h),Jd()),S=s.memoizedState,A=c.memoizedState,S.parent!==g?(S={parent:g,cache:g},c.memoizedState=S,c.lanes===0&&(c.memoizedState=c.updateQueue.baseState=S),Os(c,Bn,g)):(g=A.cache,Os(c,Bn,g),g!==S.cache&&$b(c,[Bn],h,!0))),mr(s,c,c.pendingProps.children,h),c.child;case 29:throw c.pendingProps}throw Error(r(156,c.tag))}function Va(s){s.flags|=4}function jx(s,c,h,g,S){if((c=(s.mode&32)!==0)&&(c=!1),c){if(s.flags|=16777216,(S&335544128)===S)if(s.stateNode.complete)s.flags|=8192;else if($P())s.flags|=8192;else throw Vo=hp,zb}else s.flags&=-16777217}function dP(s,c){if(c.type!=="stylesheet"||(c.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!NM(c))if($P())s.flags|=8192;else throw Vo=hp,zb}function Cp(s,c){c!==null&&(s.flags|=4),s.flags&16384&&(c=s.tag!==22?gn():536870912,s.lanes|=c,Sc|=c)}function sf(s,c){if(!Dt)switch(s.tailMode){case"hidden":c=s.tail;for(var h=null;c!==null;)c.alternate!==null&&(h=c),c=c.sibling;h===null?s.tail=null:h.sibling=null;break;case"collapsed":h=s.tail;for(var g=null;h!==null;)h.alternate!==null&&(g=h),h=h.sibling;g===null?c||s.tail===null?s.tail=null:s.tail.sibling=null:g.sibling=null}}function fn(s){var c=s.alternate!==null&&s.alternate.child===s.child,h=0,g=0;if(c)for(var S=s.child;S!==null;)h|=S.lanes|S.childLanes,g|=S.subtreeFlags&65011712,g|=S.flags&65011712,S.return=s,S=S.sibling;else for(S=s.child;S!==null;)h|=S.lanes|S.childLanes,g|=S.subtreeFlags,g|=S.flags,S.return=s,S=S.sibling;return s.subtreeFlags|=g,s.childLanes=h,c}function aX(s,c,h){var g=c.pendingProps;switch(Pb(c),c.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return fn(c),null;case 1:return fn(c),null;case 3:return h=c.stateNode,g=null,s!==null&&(g=s.memoizedState.cache),c.memoizedState.cache!==g&&(c.flags|=2048),qa(Bn),se(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(s===null||s.child===null)&&(uc(c)?Va(c):s===null||s.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,kb())),fn(c),null;case 26:var S=c.type,A=c.memoizedState;return s===null?(Va(c),A!==null?(fn(c),dP(c,A)):(fn(c),jx(c,S,null,g,h))):A?A!==s.memoizedState?(Va(c),fn(c),dP(c,A)):(fn(c),c.flags&=-16777217):(s=s.memoizedProps,s!==g&&Va(c),fn(c),jx(c,S,s,g,h)),null;case 27:if(xe(c),h=ae.current,S=c.type,s!==null&&c.stateNode!=null)s.memoizedProps!==g&&Va(c);else{if(!g){if(c.stateNode===null)throw Error(r(166));return fn(c),null}s=oe.current,uc(c)?VC(c):(s=yM(S,g,h),c.stateNode=s,Va(c))}return fn(c),null;case 5:if(xe(c),S=c.type,s!==null&&c.stateNode!=null)s.memoizedProps!==g&&Va(c);else{if(!g){if(c.stateNode===null)throw Error(r(166));return fn(c),null}if(A=oe.current,uc(c))VC(c);else{var P=Hp(ae.current);switch(A){case 1:A=P.createElementNS("http://www.w3.org/2000/svg",S);break;case 2:A=P.createElementNS("http://www.w3.org/1998/Math/MathML",S);break;default:switch(S){case"svg":A=P.createElementNS("http://www.w3.org/2000/svg",S);break;case"math":A=P.createElementNS("http://www.w3.org/1998/Math/MathML",S);break;case"script":A=P.createElement("div"),A.innerHTML="<script><\/script>",A=A.removeChild(A.firstChild);break;case"select":A=typeof g.is=="string"?P.createElement("select",{is:g.is}):P.createElement("select"),g.multiple?A.multiple=!0:g.size&&(A.size=g.size);break;default:A=typeof g.is=="string"?P.createElement(S,{is:g.is}):P.createElement(S)}}A[dr]=c,A[Lr]=g;e:for(P=c.child;P!==null;){if(P.tag===5||P.tag===6)A.appendChild(P.stateNode);else if(P.tag!==4&&P.tag!==27&&P.child!==null){P.child.return=P,P=P.child;continue}if(P===c)break e;for(;P.sibling===null;){if(P.return===null||P.return===c)break e;P=P.return}P.sibling.return=P.return,P=P.sibling}c.stateNode=A;e:switch(pr(A,S,g),S){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break e;case"img":g=!0;break e;default:g=!1}g&&Va(c)}}return fn(c),jx(c,c.type,s===null?null:s.memoizedProps,c.pendingProps,h),null;case 6:if(s&&c.stateNode!=null)s.memoizedProps!==g&&Va(c);else{if(typeof g!="string"&&c.stateNode===null)throw Error(r(166));if(s=ae.current,uc(c)){if(s=c.stateNode,h=c.memoizedProps,g=null,S=fr,S!==null)switch(S.tag){case 27:case 5:g=S.memoizedProps}s[dr]=c,s=!!(s.nodeValue===h||g!==null&&g.suppressHydrationWarning===!0||oM(s.nodeValue,h)),s||Ts(c,!0)}else s=Hp(s).createTextNode(g),s[dr]=c,c.stateNode=s}return fn(c),null;case 31:if(h=c.memoizedState,s===null||s.memoizedState!==null){if(g=uc(c),h!==null){if(s===null){if(!g)throw Error(r(318));if(s=c.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(557));s[dr]=c}else Bo(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;fn(c),s=!1}else h=kb(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=h),s=!0;if(!s)return c.flags&256?(Zr(c),c):(Zr(c),null);if((c.flags&128)!==0)throw Error(r(558))}return fn(c),null;case 13:if(g=c.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(S=uc(c),g!==null&&g.dehydrated!==null){if(s===null){if(!S)throw Error(r(318));if(S=c.memoizedState,S=S!==null?S.dehydrated:null,!S)throw Error(r(317));S[dr]=c}else Bo(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;fn(c),S=!1}else S=kb(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=S),S=!0;if(!S)return c.flags&256?(Zr(c),c):(Zr(c),null)}return Zr(c),(c.flags&128)!==0?(c.lanes=h,c):(h=g!==null,s=s!==null&&s.memoizedState!==null,h&&(g=c.child,S=null,g.alternate!==null&&g.alternate.memoizedState!==null&&g.alternate.memoizedState.cachePool!==null&&(S=g.alternate.memoizedState.cachePool.pool),A=null,g.memoizedState!==null&&g.memoizedState.cachePool!==null&&(A=g.memoizedState.cachePool.pool),A!==S&&(g.flags|=2048)),h!==s&&h&&(c.child.flags|=8192),Cp(c,c.updateQueue),fn(c),null);case 4:return se(),s===null&&Gx(c.stateNode.containerInfo),fn(c),null;case 10:return qa(c.type),fn(c),null;case 19:if(K(Mn),g=c.memoizedState,g===null)return fn(c),null;if(S=(c.flags&128)!==0,A=g.rendering,A===null)if(S)sf(g,!1);else{if(An!==0||s!==null&&(s.flags&128)!==0)for(s=c.child;s!==null;){if(A=vp(s),A!==null){for(c.flags|=128,sf(g,!1),s=A.updateQueue,c.updateQueue=s,Cp(c,s),c.subtreeFlags=0,s=h,h=c.child;h!==null;)BC(h,s),h=h.sibling;return Z(Mn,Mn.current&1|2),Dt&&La(c,g.treeForkCount),c.child}s=s.sibling}g.tail!==null&&It()>Dp&&(c.flags|=128,S=!0,sf(g,!1),c.lanes=4194304)}else{if(!S)if(s=vp(A),s!==null){if(c.flags|=128,S=!0,s=s.updateQueue,c.updateQueue=s,Cp(c,s),sf(g,!0),g.tail===null&&g.tailMode==="hidden"&&!A.alternate&&!Dt)return fn(c),null}else 2*It()-g.renderingStartTime>Dp&&h!==536870912&&(c.flags|=128,S=!0,sf(g,!1),c.lanes=4194304);g.isBackwards?(A.sibling=c.child,c.child=A):(s=g.last,s!==null?s.sibling=A:c.child=A,g.last=A)}return g.tail!==null?(s=g.tail,g.rendering=s,g.tail=s.sibling,g.renderingStartTime=It(),s.sibling=null,h=Mn.current,Z(Mn,S?h&1|2:h&1),Dt&&La(c,g.treeForkCount),s):(fn(c),null);case 22:case 23:return Zr(c),Kb(),g=c.memoizedState!==null,s!==null?s.memoizedState!==null!==g&&(c.flags|=8192):g&&(c.flags|=8192),g?(h&536870912)!==0&&(c.flags&128)===0&&(fn(c),c.subtreeFlags&6&&(c.flags|=8192)):fn(c),h=c.updateQueue,h!==null&&Cp(c,h.retryQueue),h=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(h=s.memoizedState.cachePool.pool),g=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(g=c.memoizedState.cachePool.pool),g!==h&&(c.flags|=2048),s!==null&&K(Uo),null;case 24:return h=null,s!==null&&(h=s.memoizedState.cache),c.memoizedState.cache!==h&&(c.flags|=2048),qa(Bn),fn(c),null;case 25:return null;case 30:return null}throw Error(r(156,c.tag))}function sX(s,c){switch(Pb(c),c.tag){case 1:return s=c.flags,s&65536?(c.flags=s&-65537|128,c):null;case 3:return qa(Bn),se(),s=c.flags,(s&65536)!==0&&(s&128)===0?(c.flags=s&-65537|128,c):null;case 26:case 27:case 5:return xe(c),null;case 31:if(c.memoizedState!==null){if(Zr(c),c.alternate===null)throw Error(r(340));Bo()}return s=c.flags,s&65536?(c.flags=s&-65537|128,c):null;case 13:if(Zr(c),s=c.memoizedState,s!==null&&s.dehydrated!==null){if(c.alternate===null)throw Error(r(340));Bo()}return s=c.flags,s&65536?(c.flags=s&-65537|128,c):null;case 19:return K(Mn),null;case 4:return se(),null;case 10:return qa(c.type),null;case 22:case 23:return Zr(c),Kb(),s!==null&&K(Uo),s=c.flags,s&65536?(c.flags=s&-65537|128,c):null;case 24:return qa(Bn),null;case 25:return null;default:return null}}function fP(s,c){switch(Pb(c),c.tag){case 3:qa(Bn),se();break;case 26:case 27:case 5:xe(c);break;case 4:se();break;case 31:c.memoizedState!==null&&Zr(c);break;case 13:Zr(c);break;case 19:K(Mn);break;case 10:qa(c.type);break;case 22:case 23:Zr(c),Kb(),s!==null&&K(Uo);break;case 24:qa(Bn)}}function of(s,c){try{var h=c.updateQueue,g=h!==null?h.lastEffect:null;if(g!==null){var S=g.next;h=S;do{if((h.tag&s)===s){g=void 0;var A=h.create,P=h.inst;g=A(),P.destroy=g}h=h.next}while(h!==S)}}catch(L){Yt(c,c.return,L)}}function Ds(s,c,h){try{var g=c.updateQueue,S=g!==null?g.lastEffect:null;if(S!==null){var A=S.next;g=A;do{if((g.tag&s)===s){var P=g.inst,L=P.destroy;if(L!==void 0){P.destroy=void 0,S=c;var W=h,ce=L;try{ce()}catch(ve){Yt(S,W,ve)}}}g=g.next}while(g!==A)}}catch(ve){Yt(c,c.return,ve)}}function hP(s){var c=s.updateQueue;if(c!==null){var h=s.stateNode;try{rR(c,h)}catch(g){Yt(s,s.return,g)}}}function mP(s,c,h){h.props=Ko(s.type,s.memoizedProps),h.state=s.memoizedState;try{h.componentWillUnmount()}catch(g){Yt(s,c,g)}}function lf(s,c){try{var h=s.ref;if(h!==null){switch(s.tag){case 26:case 27:case 5:var g=s.stateNode;break;case 30:g=s.stateNode;break;default:g=s.stateNode}typeof h=="function"?s.refCleanup=h(g):h.current=g}}catch(S){Yt(s,c,S)}}function ha(s,c){var h=s.ref,g=s.refCleanup;if(h!==null)if(typeof g=="function")try{g()}catch(S){Yt(s,c,S)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof h=="function")try{h(null)}catch(S){Yt(s,c,S)}else h.current=null}function pP(s){var c=s.type,h=s.memoizedProps,g=s.stateNode;try{e:switch(c){case"button":case"input":case"select":case"textarea":h.autoFocus&&g.focus();break e;case"img":h.src?g.src=h.src:h.srcSet&&(g.srcset=h.srcSet)}}catch(S){Yt(s,s.return,S)}}function Ex(s,c,h){try{var g=s.stateNode;TX(g,s.type,h,c),g[Lr]=c}catch(S){Yt(s,s.return,S)}}function gP(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&Us(s.type)||s.tag===4}function Nx(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||gP(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&Us(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Ax(s,c,h){var g=s.tag;if(g===5||g===6)s=s.stateNode,c?(h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h).insertBefore(s,c):(c=h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h,c.appendChild(s),h=h._reactRootContainer,h!=null||c.onclick!==null||(c.onclick=Da));else if(g!==4&&(g===27&&Us(s.type)&&(h=s.stateNode,c=null),s=s.child,s!==null))for(Ax(s,c,h),s=s.sibling;s!==null;)Ax(s,c,h),s=s.sibling}function Rp(s,c,h){var g=s.tag;if(g===5||g===6)s=s.stateNode,c?h.insertBefore(s,c):h.appendChild(s);else if(g!==4&&(g===27&&Us(s.type)&&(h=s.stateNode),s=s.child,s!==null))for(Rp(s,c,h),s=s.sibling;s!==null;)Rp(s,c,h),s=s.sibling}function vP(s){var c=s.stateNode,h=s.memoizedProps;try{for(var g=s.type,S=c.attributes;S.length;)c.removeAttributeNode(S[0]);pr(c,g,h),c[dr]=s,c[Lr]=h}catch(A){Yt(s,s.return,A)}}var Ha=!1,Un=!1,Tx=!1,yP=typeof WeakSet=="function"?WeakSet:Set,sr=null;function oX(s,c){if(s=s.containerInfo,Yx=Jp,s=CC(s),wb(s)){if("selectionStart"in s)var h={start:s.selectionStart,end:s.selectionEnd};else e:{h=(h=s.ownerDocument)&&h.defaultView||window;var g=h.getSelection&&h.getSelection();if(g&&g.rangeCount!==0){h=g.anchorNode;var S=g.anchorOffset,A=g.focusNode;g=g.focusOffset;try{h.nodeType,A.nodeType}catch{h=null;break e}var P=0,L=-1,W=-1,ce=0,ve=0,Se=s,de=null;t:for(;;){for(var me;Se!==h||S!==0&&Se.nodeType!==3||(L=P+S),Se!==A||g!==0&&Se.nodeType!==3||(W=P+g),Se.nodeType===3&&(P+=Se.nodeValue.length),(me=Se.firstChild)!==null;)de=Se,Se=me;for(;;){if(Se===s)break t;if(de===h&&++ce===S&&(L=P),de===A&&++ve===g&&(W=P),(me=Se.nextSibling)!==null)break;Se=de,de=Se.parentNode}Se=me}h=L===-1||W===-1?null:{start:L,end:W}}else h=null}h=h||{start:0,end:0}}else h=null;for(Xx={focusedElem:s,selectionRange:h},Jp=!1,sr=c;sr!==null;)if(c=sr,s=c.child,(c.subtreeFlags&1028)!==0&&s!==null)s.return=c,sr=s;else for(;sr!==null;){switch(c=sr,A=c.alternate,s=c.flags,c.tag){case 0:if((s&4)!==0&&(s=c.updateQueue,s=s!==null?s.events:null,s!==null))for(h=0;h<s.length;h++)S=s[h],S.ref.impl=S.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&A!==null){s=void 0,h=c,S=A.memoizedProps,A=A.memoizedState,g=h.stateNode;try{var ze=Ko(h.type,S);s=g.getSnapshotBeforeUpdate(ze,A),g.__reactInternalSnapshotBeforeUpdate=s}catch(lt){Yt(h,h.return,lt)}}break;case 3:if((s&1024)!==0){if(s=c.stateNode.containerInfo,h=s.nodeType,h===9)Zx(s);else if(h===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":Zx(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(r(163))}if(s=c.sibling,s!==null){s.return=c.return,sr=s;break}sr=c.return}}function bP(s,c,h){var g=h.flags;switch(h.tag){case 0:case 11:case 15:Ka(s,h),g&4&&of(5,h);break;case 1:if(Ka(s,h),g&4)if(s=h.stateNode,c===null)try{s.componentDidMount()}catch(P){Yt(h,h.return,P)}else{var S=Ko(h.type,c.memoizedProps);c=c.memoizedState;try{s.componentDidUpdate(S,c,s.__reactInternalSnapshotBeforeUpdate)}catch(P){Yt(h,h.return,P)}}g&64&&hP(h),g&512&&lf(h,h.return);break;case 3:if(Ka(s,h),g&64&&(s=h.updateQueue,s!==null)){if(c=null,h.child!==null)switch(h.child.tag){case 27:case 5:c=h.child.stateNode;break;case 1:c=h.child.stateNode}try{rR(s,c)}catch(P){Yt(h,h.return,P)}}break;case 27:c===null&&g&4&&vP(h);case 26:case 5:Ka(s,h),c===null&&g&4&&pP(h),g&512&&lf(h,h.return);break;case 12:Ka(s,h);break;case 31:Ka(s,h),g&4&&_P(s,h);break;case 13:Ka(s,h),g&4&&SP(s,h),g&64&&(s=h.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(h=gX.bind(null,h),IX(s,h))));break;case 22:if(g=h.memoizedState!==null||Ha,!g){c=c!==null&&c.memoizedState!==null||Un,S=Ha;var A=Un;Ha=g,(Un=c)&&!A?Wa(s,h,(h.subtreeFlags&8772)!==0):Ka(s,h),Ha=S,Un=A}break;case 30:break;default:Ka(s,h)}}function xP(s){var c=s.alternate;c!==null&&(s.alternate=null,xP(c)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(c=s.stateNode,c!==null&&ib(c)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var vn=null,qr=!1;function Ga(s,c,h){for(h=h.child;h!==null;)wP(s,c,h),h=h.sibling}function wP(s,c,h){if(Y&&typeof Y.onCommitFiberUnmount=="function")try{Y.onCommitFiberUnmount(ie,h)}catch{}switch(h.tag){case 26:Un||ha(h,c),Ga(s,c,h),h.memoizedState?h.memoizedState.count--:h.stateNode&&(h=h.stateNode,h.parentNode.removeChild(h));break;case 27:Un||ha(h,c);var g=vn,S=qr;Us(h.type)&&(vn=h.stateNode,qr=!1),Ga(s,c,h),vf(h.stateNode),vn=g,qr=S;break;case 5:Un||ha(h,c);case 6:if(g=vn,S=qr,vn=null,Ga(s,c,h),vn=g,qr=S,vn!==null)if(qr)try{(vn.nodeType===9?vn.body:vn.nodeName==="HTML"?vn.ownerDocument.body:vn).removeChild(h.stateNode)}catch(A){Yt(h,c,A)}else try{vn.removeChild(h.stateNode)}catch(A){Yt(h,c,A)}break;case 18:vn!==null&&(qr?(s=vn,hM(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,h.stateNode),Rc(s)):hM(vn,h.stateNode));break;case 4:g=vn,S=qr,vn=h.stateNode.containerInfo,qr=!0,Ga(s,c,h),vn=g,qr=S;break;case 0:case 11:case 14:case 15:Ds(2,h,c),Un||Ds(4,h,c),Ga(s,c,h);break;case 1:Un||(ha(h,c),g=h.stateNode,typeof g.componentWillUnmount=="function"&&mP(h,c,g)),Ga(s,c,h);break;case 21:Ga(s,c,h);break;case 22:Un=(g=Un)||h.memoizedState!==null,Ga(s,c,h),Un=g;break;default:Ga(s,c,h)}}function _P(s,c){if(c.memoizedState===null&&(s=c.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{Rc(s)}catch(h){Yt(c,c.return,h)}}}function SP(s,c){if(c.memoizedState===null&&(s=c.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{Rc(s)}catch(h){Yt(c,c.return,h)}}function lX(s){switch(s.tag){case 31:case 13:case 19:var c=s.stateNode;return c===null&&(c=s.stateNode=new yP),c;case 22:return s=s.stateNode,c=s._retryCache,c===null&&(c=s._retryCache=new yP),c;default:throw Error(r(435,s.tag))}}function Pp(s,c){var h=lX(s);c.forEach(function(g){if(!h.has(g)){h.add(g);var S=vX.bind(null,s,g);g.then(S,S)}})}function zr(s,c){var h=c.deletions;if(h!==null)for(var g=0;g<h.length;g++){var S=h[g],A=s,P=c,L=P;e:for(;L!==null;){switch(L.tag){case 27:if(Us(L.type)){vn=L.stateNode,qr=!1;break e}break;case 5:vn=L.stateNode,qr=!1;break e;case 3:case 4:vn=L.stateNode.containerInfo,qr=!0;break e}L=L.return}if(vn===null)throw Error(r(160));wP(A,P,S),vn=null,qr=!1,A=S.alternate,A!==null&&(A.return=null),S.return=null}if(c.subtreeFlags&13886)for(c=c.child;c!==null;)jP(c,s),c=c.sibling}var Fi=null;function jP(s,c){var h=s.alternate,g=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:zr(c,s),Ur(s),g&4&&(Ds(3,s,s.return),of(3,s),Ds(5,s,s.return));break;case 1:zr(c,s),Ur(s),g&512&&(Un||h===null||ha(h,h.return)),g&64&&Ha&&(s=s.updateQueue,s!==null&&(g=s.callbacks,g!==null&&(h=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=h===null?g:h.concat(g))));break;case 26:var S=Fi;if(zr(c,s),Ur(s),g&512&&(Un||h===null||ha(h,h.return)),g&4){var A=h!==null?h.memoizedState:null;if(g=s.memoizedState,h===null)if(g===null)if(s.stateNode===null){e:{g=s.type,h=s.memoizedProps,S=S.ownerDocument||S;t:switch(g){case"title":A=S.getElementsByTagName("title")[0],(!A||A[kd]||A[dr]||A.namespaceURI==="http://www.w3.org/2000/svg"||A.hasAttribute("itemprop"))&&(A=S.createElement(g),S.head.insertBefore(A,S.querySelector("head > title"))),pr(A,g,h),A[dr]=s,ar(A),g=A;break e;case"link":var P=jM("link","href",S).get(g+(h.href||""));if(P){for(var L=0;L<P.length;L++)if(A=P[L],A.getAttribute("href")===(h.href==null||h.href===""?null:h.href)&&A.getAttribute("rel")===(h.rel==null?null:h.rel)&&A.getAttribute("title")===(h.title==null?null:h.title)&&A.getAttribute("crossorigin")===(h.crossOrigin==null?null:h.crossOrigin)){P.splice(L,1);break t}}A=S.createElement(g),pr(A,g,h),S.head.appendChild(A);break;case"meta":if(P=jM("meta","content",S).get(g+(h.content||""))){for(L=0;L<P.length;L++)if(A=P[L],A.getAttribute("content")===(h.content==null?null:""+h.content)&&A.getAttribute("name")===(h.name==null?null:h.name)&&A.getAttribute("property")===(h.property==null?null:h.property)&&A.getAttribute("http-equiv")===(h.httpEquiv==null?null:h.httpEquiv)&&A.getAttribute("charset")===(h.charSet==null?null:h.charSet)){P.splice(L,1);break t}}A=S.createElement(g),pr(A,g,h),S.head.appendChild(A);break;default:throw Error(r(468,g))}A[dr]=s,ar(A),g=A}s.stateNode=g}else EM(S,s.type,s.stateNode);else s.stateNode=SM(S,g,s.memoizedProps);else A!==g?(A===null?h.stateNode!==null&&(h=h.stateNode,h.parentNode.removeChild(h)):A.count--,g===null?EM(S,s.type,s.stateNode):SM(S,g,s.memoizedProps)):g===null&&s.stateNode!==null&&Ex(s,s.memoizedProps,h.memoizedProps)}break;case 27:zr(c,s),Ur(s),g&512&&(Un||h===null||ha(h,h.return)),h!==null&&g&4&&Ex(s,s.memoizedProps,h.memoizedProps);break;case 5:if(zr(c,s),Ur(s),g&512&&(Un||h===null||ha(h,h.return)),s.flags&32){S=s.stateNode;try{ec(S,"")}catch(ze){Yt(s,s.return,ze)}}g&4&&s.stateNode!=null&&(S=s.memoizedProps,Ex(s,S,h!==null?h.memoizedProps:S)),g&1024&&(Tx=!0);break;case 6:if(zr(c,s),Ur(s),g&4){if(s.stateNode===null)throw Error(r(162));g=s.memoizedProps,h=s.stateNode;try{h.nodeValue=g}catch(ze){Yt(s,s.return,ze)}}break;case 3:if(Wp=null,S=Fi,Fi=Gp(c.containerInfo),zr(c,s),Fi=S,Ur(s),g&4&&h!==null&&h.memoizedState.isDehydrated)try{Rc(c.containerInfo)}catch(ze){Yt(s,s.return,ze)}Tx&&(Tx=!1,EP(s));break;case 4:g=Fi,Fi=Gp(s.stateNode.containerInfo),zr(c,s),Ur(s),Fi=g;break;case 12:zr(c,s),Ur(s);break;case 31:zr(c,s),Ur(s),g&4&&(g=s.updateQueue,g!==null&&(s.updateQueue=null,Pp(s,g)));break;case 13:zr(c,s),Ur(s),s.child.flags&8192&&s.memoizedState!==null!=(h!==null&&h.memoizedState!==null)&&(kp=It()),g&4&&(g=s.updateQueue,g!==null&&(s.updateQueue=null,Pp(s,g)));break;case 22:S=s.memoizedState!==null;var W=h!==null&&h.memoizedState!==null,ce=Ha,ve=Un;if(Ha=ce||S,Un=ve||W,zr(c,s),Un=ve,Ha=ce,Ur(s),g&8192)e:for(c=s.stateNode,c._visibility=S?c._visibility&-2:c._visibility|1,S&&(h===null||W||Ha||Un||Wo(s)),h=null,c=s;;){if(c.tag===5||c.tag===26){if(h===null){W=h=c;try{if(A=W.stateNode,S)P=A.style,typeof P.setProperty=="function"?P.setProperty("display","none","important"):P.display="none";else{L=W.stateNode;var Se=W.memoizedProps.style,de=Se!=null&&Se.hasOwnProperty("display")?Se.display:null;L.style.display=de==null||typeof de=="boolean"?"":(""+de).trim()}}catch(ze){Yt(W,W.return,ze)}}}else if(c.tag===6){if(h===null){W=c;try{W.stateNode.nodeValue=S?"":W.memoizedProps}catch(ze){Yt(W,W.return,ze)}}}else if(c.tag===18){if(h===null){W=c;try{var me=W.stateNode;S?mM(me,!0):mM(W.stateNode,!1)}catch(ze){Yt(W,W.return,ze)}}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===s)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===s)break e;for(;c.sibling===null;){if(c.return===null||c.return===s)break e;h===c&&(h=null),c=c.return}h===c&&(h=null),c.sibling.return=c.return,c=c.sibling}g&4&&(g=s.updateQueue,g!==null&&(h=g.retryQueue,h!==null&&(g.retryQueue=null,Pp(s,h))));break;case 19:zr(c,s),Ur(s),g&4&&(g=s.updateQueue,g!==null&&(s.updateQueue=null,Pp(s,g)));break;case 30:break;case 21:break;default:zr(c,s),Ur(s)}}function Ur(s){var c=s.flags;if(c&2){try{for(var h,g=s.return;g!==null;){if(gP(g)){h=g;break}g=g.return}if(h==null)throw Error(r(160));switch(h.tag){case 27:var S=h.stateNode,A=Nx(s);Rp(s,A,S);break;case 5:var P=h.stateNode;h.flags&32&&(ec(P,""),h.flags&=-33);var L=Nx(s);Rp(s,L,P);break;case 3:case 4:var W=h.stateNode.containerInfo,ce=Nx(s);Ax(s,ce,W);break;default:throw Error(r(161))}}catch(ve){Yt(s,s.return,ve)}s.flags&=-3}c&4096&&(s.flags&=-4097)}function EP(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var c=s;EP(c),c.tag===5&&c.flags&1024&&c.stateNode.reset(),s=s.sibling}}function Ka(s,c){if(c.subtreeFlags&8772)for(c=c.child;c!==null;)bP(s,c.alternate,c),c=c.sibling}function Wo(s){for(s=s.child;s!==null;){var c=s;switch(c.tag){case 0:case 11:case 14:case 15:Ds(4,c,c.return),Wo(c);break;case 1:ha(c,c.return);var h=c.stateNode;typeof h.componentWillUnmount=="function"&&mP(c,c.return,h),Wo(c);break;case 27:vf(c.stateNode);case 26:case 5:ha(c,c.return),Wo(c);break;case 22:c.memoizedState===null&&Wo(c);break;case 30:Wo(c);break;default:Wo(c)}s=s.sibling}}function Wa(s,c,h){for(h=h&&(c.subtreeFlags&8772)!==0,c=c.child;c!==null;){var g=c.alternate,S=s,A=c,P=A.flags;switch(A.tag){case 0:case 11:case 15:Wa(S,A,h),of(4,A);break;case 1:if(Wa(S,A,h),g=A,S=g.stateNode,typeof S.componentDidMount=="function")try{S.componentDidMount()}catch(ce){Yt(g,g.return,ce)}if(g=A,S=g.updateQueue,S!==null){var L=g.stateNode;try{var W=S.shared.hiddenCallbacks;if(W!==null)for(S.shared.hiddenCallbacks=null,S=0;S<W.length;S++)nR(W[S],L)}catch(ce){Yt(g,g.return,ce)}}h&&P&64&&hP(A),lf(A,A.return);break;case 27:vP(A);case 26:case 5:Wa(S,A,h),h&&g===null&&P&4&&pP(A),lf(A,A.return);break;case 12:Wa(S,A,h);break;case 31:Wa(S,A,h),h&&P&4&&_P(S,A);break;case 13:Wa(S,A,h),h&&P&4&&SP(S,A);break;case 22:A.memoizedState===null&&Wa(S,A,h),lf(A,A.return);break;case 30:break;default:Wa(S,A,h)}c=c.sibling}}function Ox(s,c){var h=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(h=s.memoizedState.cachePool.pool),s=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(s=c.memoizedState.cachePool.pool),s!==h&&(s!=null&&s.refCount++,h!=null&&Kd(h))}function Cx(s,c){s=null,c.alternate!==null&&(s=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==s&&(c.refCount++,s!=null&&Kd(s))}function Vi(s,c,h,g){if(c.subtreeFlags&10256)for(c=c.child;c!==null;)NP(s,c,h,g),c=c.sibling}function NP(s,c,h,g){var S=c.flags;switch(c.tag){case 0:case 11:case 15:Vi(s,c,h,g),S&2048&&of(9,c);break;case 1:Vi(s,c,h,g);break;case 3:Vi(s,c,h,g),S&2048&&(s=null,c.alternate!==null&&(s=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==s&&(c.refCount++,s!=null&&Kd(s)));break;case 12:if(S&2048){Vi(s,c,h,g),s=c.stateNode;try{var A=c.memoizedProps,P=A.id,L=A.onPostCommit;typeof L=="function"&&L(P,c.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(W){Yt(c,c.return,W)}}else Vi(s,c,h,g);break;case 31:Vi(s,c,h,g);break;case 13:Vi(s,c,h,g);break;case 23:break;case 22:A=c.stateNode,P=c.alternate,c.memoizedState!==null?A._visibility&2?Vi(s,c,h,g):cf(s,c):A._visibility&2?Vi(s,c,h,g):(A._visibility|=2,xc(s,c,h,g,(c.subtreeFlags&10256)!==0||!1)),S&2048&&Ox(P,c);break;case 24:Vi(s,c,h,g),S&2048&&Cx(c.alternate,c);break;default:Vi(s,c,h,g)}}function xc(s,c,h,g,S){for(S=S&&((c.subtreeFlags&10256)!==0||!1),c=c.child;c!==null;){var A=s,P=c,L=h,W=g,ce=P.flags;switch(P.tag){case 0:case 11:case 15:xc(A,P,L,W,S),of(8,P);break;case 23:break;case 22:var ve=P.stateNode;P.memoizedState!==null?ve._visibility&2?xc(A,P,L,W,S):cf(A,P):(ve._visibility|=2,xc(A,P,L,W,S)),S&&ce&2048&&Ox(P.alternate,P);break;case 24:xc(A,P,L,W,S),S&&ce&2048&&Cx(P.alternate,P);break;default:xc(A,P,L,W,S)}c=c.sibling}}function cf(s,c){if(c.subtreeFlags&10256)for(c=c.child;c!==null;){var h=s,g=c,S=g.flags;switch(g.tag){case 22:cf(h,g),S&2048&&Ox(g.alternate,g);break;case 24:cf(h,g),S&2048&&Cx(g.alternate,g);break;default:cf(h,g)}c=c.sibling}}var uf=8192;function wc(s,c,h){if(s.subtreeFlags&uf)for(s=s.child;s!==null;)AP(s,c,h),s=s.sibling}function AP(s,c,h){switch(s.tag){case 26:wc(s,c,h),s.flags&uf&&s.memoizedState!==null&&WX(h,Fi,s.memoizedState,s.memoizedProps);break;case 5:wc(s,c,h);break;case 3:case 4:var g=Fi;Fi=Gp(s.stateNode.containerInfo),wc(s,c,h),Fi=g;break;case 22:s.memoizedState===null&&(g=s.alternate,g!==null&&g.memoizedState!==null?(g=uf,uf=16777216,wc(s,c,h),uf=g):wc(s,c,h));break;default:wc(s,c,h)}}function TP(s){var c=s.alternate;if(c!==null&&(s=c.child,s!==null)){c.child=null;do c=s.sibling,s.sibling=null,s=c;while(s!==null)}}function df(s){var c=s.deletions;if((s.flags&16)!==0){if(c!==null)for(var h=0;h<c.length;h++){var g=c[h];sr=g,CP(g,s)}TP(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)OP(s),s=s.sibling}function OP(s){switch(s.tag){case 0:case 11:case 15:df(s),s.flags&2048&&Ds(9,s,s.return);break;case 3:df(s);break;case 12:df(s);break;case 22:var c=s.stateNode;s.memoizedState!==null&&c._visibility&2&&(s.return===null||s.return.tag!==13)?(c._visibility&=-3,Mp(s)):df(s);break;default:df(s)}}function Mp(s){var c=s.deletions;if((s.flags&16)!==0){if(c!==null)for(var h=0;h<c.length;h++){var g=c[h];sr=g,CP(g,s)}TP(s)}for(s=s.child;s!==null;){switch(c=s,c.tag){case 0:case 11:case 15:Ds(8,c,c.return),Mp(c);break;case 22:h=c.stateNode,h._visibility&2&&(h._visibility&=-3,Mp(c));break;default:Mp(c)}s=s.sibling}}function CP(s,c){for(;sr!==null;){var h=sr;switch(h.tag){case 0:case 11:case 15:Ds(8,h,c);break;case 23:case 22:if(h.memoizedState!==null&&h.memoizedState.cachePool!==null){var g=h.memoizedState.cachePool.pool;g!=null&&g.refCount++}break;case 24:Kd(h.memoizedState.cache)}if(g=h.child,g!==null)g.return=h,sr=g;else e:for(h=s;sr!==null;){g=sr;var S=g.sibling,A=g.return;if(xP(g),g===h){sr=null;break e}if(S!==null){S.return=A,sr=S;break e}sr=A}}}var cX={getCacheForType:function(s){var c=hr(Bn),h=c.data.get(s);return h===void 0&&(h=s(),c.data.set(s,h)),h},cacheSignal:function(){return hr(Bn).controller.signal}},uX=typeof WeakMap=="function"?WeakMap:Map,Vt=0,rn=null,Ct=null,Mt=0,Wt=0,ei=null,Is=!1,_c=!1,Rx=!1,Ya=0,An=0,$s=0,Yo=0,Px=0,ti=0,Sc=0,ff=null,Fr=null,Mx=!1,kp=0,RP=0,Dp=1/0,Ip=null,Ls=null,Wn=0,Bs=null,jc=null,Xa=0,kx=0,Dx=null,PP=null,hf=0,Ix=null;function ni(){return(Vt&2)!==0&&Mt!==0?Mt&-Mt:D.T!==null?Ux():WO()}function MP(){if(ti===0)if((Mt&536870912)===0||Dt){var s=et;et<<=1,(et&3932160)===0&&(et=262144),ti=s}else ti=536870912;return s=Jr.current,s!==null&&(s.flags|=32),ti}function Vr(s,c,h){(s===rn&&(Wt===2||Wt===9)||s.cancelPendingCommit!==null)&&(Ec(s,0),qs(s,Mt,ti,!1)),Ln(s,h),((Vt&2)===0||s!==rn)&&(s===rn&&((Vt&2)===0&&(Yo|=h),An===4&&qs(s,Mt,ti,!1)),ma(s))}function kP(s,c,h){if((Vt&6)!==0)throw Error(r(327));var g=!h&&(c&127)===0&&(c&s.expiredLanes)===0||Nt(s,c),S=g?hX(s,c):Lx(s,c,!0),A=g;do{if(S===0){_c&&!g&&qs(s,c,0,!1);break}else{if(h=s.current.alternate,A&&!dX(h)){S=Lx(s,c,!1),A=!1;continue}if(S===2){if(A=c,s.errorRecoveryDisabledLanes&A)var P=0;else P=s.pendingLanes&-536870913,P=P!==0?P:P&536870912?536870912:0;if(P!==0){c=P;e:{var L=s;S=ff;var W=L.current.memoizedState.isDehydrated;if(W&&(Ec(L,P).flags|=256),P=Lx(L,P,!1),P!==2){if(Rx&&!W){L.errorRecoveryDisabledLanes|=A,Yo|=A,S=4;break e}A=Fr,Fr=S,A!==null&&(Fr===null?Fr=A:Fr.push.apply(Fr,A))}S=P}if(A=!1,S!==2)continue}}if(S===1){Ec(s,0),qs(s,c,0,!0);break}e:{switch(g=s,A=S,A){case 0:case 1:throw Error(r(345));case 4:if((c&4194048)!==c)break;case 6:qs(g,c,ti,!Is);break e;case 2:Fr=null;break;case 3:case 5:break;default:throw Error(r(329))}if((c&62914560)===c&&(S=kp+300-It(),10<S)){if(qs(g,c,ti,!Is),Ie(g,0,!0)!==0)break e;Xa=c,g.timeoutHandle=dM(DP.bind(null,g,h,Fr,Ip,Mx,c,ti,Yo,Sc,Is,A,"Throttled",-0,0),S);break e}DP(g,h,Fr,Ip,Mx,c,ti,Yo,Sc,Is,A,null,-0,0)}}break}while(!0);ma(s)}function DP(s,c,h,g,S,A,P,L,W,ce,ve,Se,de,me){if(s.timeoutHandle=-1,Se=c.subtreeFlags,Se&8192||(Se&16785408)===16785408){Se={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Da},AP(c,A,Se);var ze=(A&62914560)===A?kp-It():(A&4194048)===A?RP-It():0;if(ze=YX(Se,ze),ze!==null){Xa=A,s.cancelPendingCommit=ze(FP.bind(null,s,c,A,h,g,S,P,L,W,ve,Se,null,de,me)),qs(s,A,P,!ce);return}}FP(s,c,A,h,g,S,P,L,W)}function dX(s){for(var c=s;;){var h=c.tag;if((h===0||h===11||h===15)&&c.flags&16384&&(h=c.updateQueue,h!==null&&(h=h.stores,h!==null)))for(var g=0;g<h.length;g++){var S=h[g],A=S.getSnapshot;S=S.value;try{if(!Xr(A(),S))return!1}catch{return!1}}if(h=c.child,c.subtreeFlags&16384&&h!==null)h.return=c,c=h;else{if(c===s)break;for(;c.sibling===null;){if(c.return===null||c.return===s)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function qs(s,c,h,g){c&=~Px,c&=~Yo,s.suspendedLanes|=c,s.pingedLanes&=~c,g&&(s.warmLanes|=c),g=s.expirationTimes;for(var S=c;0<S;){var A=31-Ee(S),P=1<<A;g[A]=-1,S&=~P}h!==0&&zi(s,h,c)}function $p(){return(Vt&6)===0?(mf(0),!1):!0}function $x(){if(Ct!==null){if(Wt===0)var s=Ct.return;else s=Ct,Ba=qo=null,Zb(s),pc=null,Yd=0,s=Ct;for(;s!==null;)fP(s.alternate,s),s=s.return;Ct=null}}function Ec(s,c){var h=s.timeoutHandle;h!==-1&&(s.timeoutHandle=-1,RX(h)),h=s.cancelPendingCommit,h!==null&&(s.cancelPendingCommit=null,h()),Xa=0,$x(),rn=s,Ct=h=$a(s.current,null),Mt=c,Wt=0,ei=null,Is=!1,_c=Nt(s,c),Rx=!1,Sc=ti=Px=Yo=$s=An=0,Fr=ff=null,Mx=!1,(c&8)!==0&&(c|=c&32);var g=s.entangledLanes;if(g!==0)for(s=s.entanglements,g&=c;0<g;){var S=31-Ee(g),A=1<<S;c|=s[S],g&=~A}return Ya=c,ip(),h}function IP(s,c){St=null,D.H=rf,c===mc||c===fp?(c=JC(),Wt=3):c===zb?(c=JC(),Wt=4):Wt=c===px?8:c!==null&&typeof c=="object"&&typeof c.then=="function"?6:1,ei=c,Ct===null&&(An=1,Np(s,bi(c,s.current)))}function $P(){var s=Jr.current;return s===null?!0:(Mt&4194048)===Mt?Si===null:(Mt&62914560)===Mt||(Mt&536870912)!==0?s===Si:!1}function LP(){var s=D.H;return D.H=rf,s===null?rf:s}function BP(){var s=D.A;return D.A=cX,s}function Lp(){An=4,Is||(Mt&4194048)!==Mt&&Jr.current!==null||(_c=!0),($s&134217727)===0&&(Yo&134217727)===0||rn===null||qs(rn,Mt,ti,!1)}function Lx(s,c,h){var g=Vt;Vt|=2;var S=LP(),A=BP();(rn!==s||Mt!==c)&&(Ip=null,Ec(s,c)),c=!1;var P=An;e:do try{if(Wt!==0&&Ct!==null){var L=Ct,W=ei;switch(Wt){case 8:$x(),P=6;break e;case 3:case 2:case 9:case 6:Jr.current===null&&(c=!0);var ce=Wt;if(Wt=0,ei=null,Nc(s,L,W,ce),h&&_c){P=0;break e}break;default:ce=Wt,Wt=0,ei=null,Nc(s,L,W,ce)}}fX(),P=An;break}catch(ve){IP(s,ve)}while(!0);return c&&s.shellSuspendCounter++,Ba=qo=null,Vt=g,D.H=S,D.A=A,Ct===null&&(rn=null,Mt=0,ip()),P}function fX(){for(;Ct!==null;)qP(Ct)}function hX(s,c){var h=Vt;Vt|=2;var g=LP(),S=BP();rn!==s||Mt!==c?(Ip=null,Dp=It()+500,Ec(s,c)):_c=Nt(s,c);e:do try{if(Wt!==0&&Ct!==null){c=Ct;var A=ei;t:switch(Wt){case 1:Wt=0,ei=null,Nc(s,c,A,1);break;case 2:case 9:if(XC(A)){Wt=0,ei=null,zP(c);break}c=function(){Wt!==2&&Wt!==9||rn!==s||(Wt=7),ma(s)},A.then(c,c);break e;case 3:Wt=7;break e;case 4:Wt=5;break e;case 7:XC(A)?(Wt=0,ei=null,zP(c)):(Wt=0,ei=null,Nc(s,c,A,7));break;case 5:var P=null;switch(Ct.tag){case 26:P=Ct.memoizedState;case 5:case 27:var L=Ct;if(P?NM(P):L.stateNode.complete){Wt=0,ei=null;var W=L.sibling;if(W!==null)Ct=W;else{var ce=L.return;ce!==null?(Ct=ce,Bp(ce)):Ct=null}break t}}Wt=0,ei=null,Nc(s,c,A,5);break;case 6:Wt=0,ei=null,Nc(s,c,A,6);break;case 8:$x(),An=6;break e;default:throw Error(r(462))}}mX();break}catch(ve){IP(s,ve)}while(!0);return Ba=qo=null,D.H=g,D.A=S,Vt=h,Ct!==null?0:(rn=null,Mt=0,ip(),An)}function mX(){for(;Ct!==null&&!st();)qP(Ct)}function qP(s){var c=uP(s.alternate,s,Ya);s.memoizedProps=s.pendingProps,c===null?Bp(s):Ct=c}function zP(s){var c=s,h=c.alternate;switch(c.tag){case 15:case 0:c=iP(h,c,c.pendingProps,c.type,void 0,Mt);break;case 11:c=iP(h,c,c.pendingProps,c.type.render,c.ref,Mt);break;case 5:Zb(c);default:fP(h,c),c=Ct=BC(c,Ya),c=uP(h,c,Ya)}s.memoizedProps=s.pendingProps,c===null?Bp(s):Ct=c}function Nc(s,c,h,g){Ba=qo=null,Zb(c),pc=null,Yd=0;var S=c.return;try{if(nX(s,S,c,h,Mt)){An=1,Np(s,bi(h,s.current)),Ct=null;return}}catch(A){if(S!==null)throw Ct=S,A;An=1,Np(s,bi(h,s.current)),Ct=null;return}c.flags&32768?(Dt||g===1?s=!0:_c||(Mt&536870912)!==0?s=!1:(Is=s=!0,(g===2||g===9||g===3||g===6)&&(g=Jr.current,g!==null&&g.tag===13&&(g.flags|=16384))),UP(c,s)):Bp(c)}function Bp(s){var c=s;do{if((c.flags&32768)!==0){UP(c,Is);return}s=c.return;var h=aX(c.alternate,c,Ya);if(h!==null){Ct=h;return}if(c=c.sibling,c!==null){Ct=c;return}Ct=c=s}while(c!==null);An===0&&(An=5)}function UP(s,c){do{var h=sX(s.alternate,s);if(h!==null){h.flags&=32767,Ct=h;return}if(h=s.return,h!==null&&(h.flags|=32768,h.subtreeFlags=0,h.deletions=null),!c&&(s=s.sibling,s!==null)){Ct=s;return}Ct=s=h}while(s!==null);An=6,Ct=null}function FP(s,c,h,g,S,A,P,L,W){s.cancelPendingCommit=null;do qp();while(Wn!==0);if((Vt&6)!==0)throw Error(r(327));if(c!==null){if(c===s.current)throw Error(r(177));if(A=c.lanes|c.childLanes,A|=Nb,ur(s,h,A,P,L,W),s===rn&&(Ct=rn=null,Mt=0),jc=c,Bs=s,Xa=h,kx=A,Dx=S,PP=g,(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,yX(Ge,function(){return WP(),null})):(s.callbackNode=null,s.callbackPriority=0),g=(c.flags&13878)!==0,(c.subtreeFlags&13878)!==0||g){g=D.T,D.T=null,S=G.p,G.p=2,P=Vt,Vt|=4;try{oX(s,c,h)}finally{Vt=P,G.p=S,D.T=g}}Wn=1,VP(),HP(),GP()}}function VP(){if(Wn===1){Wn=0;var s=Bs,c=jc,h=(c.flags&13878)!==0;if((c.subtreeFlags&13878)!==0||h){h=D.T,D.T=null;var g=G.p;G.p=2;var S=Vt;Vt|=4;try{jP(c,s);var A=Xx,P=CC(s.containerInfo),L=A.focusedElem,W=A.selectionRange;if(P!==L&&L&&L.ownerDocument&&OC(L.ownerDocument.documentElement,L)){if(W!==null&&wb(L)){var ce=W.start,ve=W.end;if(ve===void 0&&(ve=ce),"selectionStart"in L)L.selectionStart=ce,L.selectionEnd=Math.min(ve,L.value.length);else{var Se=L.ownerDocument||document,de=Se&&Se.defaultView||window;if(de.getSelection){var me=de.getSelection(),ze=L.textContent.length,lt=Math.min(W.start,ze),en=W.end===void 0?lt:Math.min(W.end,ze);!me.extend&&lt>en&&(P=en,en=lt,lt=P);var ne=TC(L,lt),Q=TC(L,en);if(ne&&Q&&(me.rangeCount!==1||me.anchorNode!==ne.node||me.anchorOffset!==ne.offset||me.focusNode!==Q.node||me.focusOffset!==Q.offset)){var le=Se.createRange();le.setStart(ne.node,ne.offset),me.removeAllRanges(),lt>en?(me.addRange(le),me.extend(Q.node,Q.offset)):(le.setEnd(Q.node,Q.offset),me.addRange(le))}}}}for(Se=[],me=L;me=me.parentNode;)me.nodeType===1&&Se.push({element:me,left:me.scrollLeft,top:me.scrollTop});for(typeof L.focus=="function"&&L.focus(),L=0;L<Se.length;L++){var _e=Se[L];_e.element.scrollLeft=_e.left,_e.element.scrollTop=_e.top}}Jp=!!Yx,Xx=Yx=null}finally{Vt=S,G.p=g,D.T=h}}s.current=c,Wn=2}}function HP(){if(Wn===2){Wn=0;var s=Bs,c=jc,h=(c.flags&8772)!==0;if((c.subtreeFlags&8772)!==0||h){h=D.T,D.T=null;var g=G.p;G.p=2;var S=Vt;Vt|=4;try{bP(s,c.alternate,c)}finally{Vt=S,G.p=g,D.T=h}}Wn=3}}function GP(){if(Wn===4||Wn===3){Wn=0,Bt();var s=Bs,c=jc,h=Xa,g=PP;(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?Wn=5:(Wn=0,jc=Bs=null,KP(s,s.pendingLanes));var S=s.pendingLanes;if(S===0&&(Ls=null),nb(h),c=c.stateNode,Y&&typeof Y.onCommitFiberRoot=="function")try{Y.onCommitFiberRoot(ie,c,void 0,(c.current.flags&128)===128)}catch{}if(g!==null){c=D.T,S=G.p,G.p=2,D.T=null;try{for(var A=s.onRecoverableError,P=0;P<g.length;P++){var L=g[P];A(L.value,{componentStack:L.stack})}}finally{D.T=c,G.p=S}}(Xa&3)!==0&&qp(),ma(s),S=s.pendingLanes,(h&261930)!==0&&(S&42)!==0?s===Ix?hf++:(hf=0,Ix=s):hf=0,mf(0)}}function KP(s,c){(s.pooledCacheLanes&=c)===0&&(c=s.pooledCache,c!=null&&(s.pooledCache=null,Kd(c)))}function qp(){return VP(),HP(),GP(),WP()}function WP(){if(Wn!==5)return!1;var s=Bs,c=kx;kx=0;var h=nb(Xa),g=D.T,S=G.p;try{G.p=32>h?32:h,D.T=null,h=Dx,Dx=null;var A=Bs,P=Xa;if(Wn=0,jc=Bs=null,Xa=0,(Vt&6)!==0)throw Error(r(331));var L=Vt;if(Vt|=4,OP(A.current),NP(A,A.current,P,h),Vt=L,mf(0,!1),Y&&typeof Y.onPostCommitFiberRoot=="function")try{Y.onPostCommitFiberRoot(ie,A)}catch{}return!0}finally{G.p=S,D.T=g,KP(s,c)}}function YP(s,c,h){c=bi(h,c),c=mx(s.stateNode,c,2),s=Ps(s,c,2),s!==null&&(Ln(s,2),ma(s))}function Yt(s,c,h){if(s.tag===3)YP(s,s,h);else for(;c!==null;){if(c.tag===3){YP(c,s,h);break}else if(c.tag===1){var g=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(Ls===null||!Ls.has(g))){s=bi(h,s),h=XR(2),g=Ps(c,h,2),g!==null&&(QR(h,g,c,s),Ln(g,2),ma(g));break}}c=c.return}}function Bx(s,c,h){var g=s.pingCache;if(g===null){g=s.pingCache=new uX;var S=new Set;g.set(c,S)}else S=g.get(c),S===void 0&&(S=new Set,g.set(c,S));S.has(h)||(Rx=!0,S.add(h),s=pX.bind(null,s,c,h),c.then(s,s))}function pX(s,c,h){var g=s.pingCache;g!==null&&g.delete(c),s.pingedLanes|=s.suspendedLanes&h,s.warmLanes&=~h,rn===s&&(Mt&h)===h&&(An===4||An===3&&(Mt&62914560)===Mt&&300>It()-kp?(Vt&2)===0&&Ec(s,0):Px|=h,Sc===Mt&&(Sc=0)),ma(s)}function XP(s,c){c===0&&(c=gn()),s=$o(s,c),s!==null&&(Ln(s,c),ma(s))}function gX(s){var c=s.memoizedState,h=0;c!==null&&(h=c.retryLane),XP(s,h)}function vX(s,c){var h=0;switch(s.tag){case 31:case 13:var g=s.stateNode,S=s.memoizedState;S!==null&&(h=S.retryLane);break;case 19:g=s.stateNode;break;case 22:g=s.stateNode._retryCache;break;default:throw Error(r(314))}g!==null&&g.delete(c),XP(s,h)}function yX(s,c){return ke(s,c)}var zp=null,Ac=null,qx=!1,Up=!1,zx=!1,zs=0;function ma(s){s!==Ac&&s.next===null&&(Ac===null?zp=Ac=s:Ac=Ac.next=s),Up=!0,qx||(qx=!0,xX())}function mf(s,c){if(!zx&&Up){zx=!0;do for(var h=!1,g=zp;g!==null;){if(s!==0){var S=g.pendingLanes;if(S===0)var A=0;else{var P=g.suspendedLanes,L=g.pingedLanes;A=(1<<31-Ee(42|s)+1)-1,A&=S&~(P&~L),A=A&201326741?A&201326741|1:A?A|2:0}A!==0&&(h=!0,eM(g,A))}else A=Mt,A=Ie(g,g===rn?A:0,g.cancelPendingCommit!==null||g.timeoutHandle!==-1),(A&3)===0||Nt(g,A)||(h=!0,eM(g,A));g=g.next}while(h);zx=!1}}function bX(){QP()}function QP(){Up=qx=!1;var s=0;zs!==0&&CX()&&(s=zs);for(var c=It(),h=null,g=zp;g!==null;){var S=g.next,A=JP(g,c);A===0?(g.next=null,h===null?zp=S:h.next=S,S===null&&(Ac=h)):(h=g,(s!==0||(A&3)!==0)&&(Up=!0)),g=S}Wn!==0&&Wn!==5||mf(s),zs!==0&&(zs=0)}function JP(s,c){for(var h=s.suspendedLanes,g=s.pingedLanes,S=s.expirationTimes,A=s.pendingLanes&-62914561;0<A;){var P=31-Ee(A),L=1<<P,W=S[P];W===-1?((L&h)===0||(L&g)!==0)&&(S[P]=tt(L,c)):W<=c&&(s.expiredLanes|=L),A&=~L}if(c=rn,h=Mt,h=Ie(s,s===c?h:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),g=s.callbackNode,h===0||s===c&&(Wt===2||Wt===9)||s.cancelPendingCommit!==null)return g!==null&&g!==null&&Qe(g),s.callbackNode=null,s.callbackPriority=0;if((h&3)===0||Nt(s,h)){if(c=h&-h,c===s.callbackPriority)return c;switch(g!==null&&Qe(g),nb(h)){case 2:case 8:h=je;break;case 32:h=Ge;break;case 268435456:h=yt;break;default:h=Ge}return g=ZP.bind(null,s),h=ke(h,g),s.callbackPriority=c,s.callbackNode=h,c}return g!==null&&g!==null&&Qe(g),s.callbackPriority=2,s.callbackNode=null,2}function ZP(s,c){if(Wn!==0&&Wn!==5)return s.callbackNode=null,s.callbackPriority=0,null;var h=s.callbackNode;if(qp()&&s.callbackNode!==h)return null;var g=Mt;return g=Ie(s,s===rn?g:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),g===0?null:(kP(s,g,c),JP(s,It()),s.callbackNode!=null&&s.callbackNode===h?ZP.bind(null,s):null)}function eM(s,c){if(qp())return null;kP(s,c,!0)}function xX(){PX(function(){(Vt&6)!==0?ke(Ot,bX):QP()})}function Ux(){if(zs===0){var s=fc;s===0&&(s=at,at<<=1,(at&261888)===0&&(at=256)),zs=s}return zs}function tM(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:Xm(""+s)}function nM(s,c){var h=c.ownerDocument.createElement("input");return h.name=c.name,h.value=c.value,s.id&&h.setAttribute("form",s.id),c.parentNode.insertBefore(h,c),s=new FormData(s),h.parentNode.removeChild(h),s}function wX(s,c,h,g,S){if(c==="submit"&&h&&h.stateNode===S){var A=tM((S[Lr]||null).action),P=g.submitter;P&&(c=(c=P[Lr]||null)?tM(c.formAction):P.getAttribute("formAction"),c!==null&&(A=c,P=null));var L=new ep("action","action",null,g,S);s.push({event:L,listeners:[{instance:null,listener:function(){if(g.defaultPrevented){if(zs!==0){var W=P?nM(S,P):new FormData(S);lx(h,{pending:!0,data:W,method:S.method,action:A},null,W)}}else typeof A=="function"&&(L.preventDefault(),W=P?nM(S,P):new FormData(S),lx(h,{pending:!0,data:W,method:S.method,action:A},A,W))},currentTarget:S}]})}}for(var Fx=0;Fx<Eb.length;Fx++){var Vx=Eb[Fx],_X=Vx.toLowerCase(),SX=Vx[0].toUpperCase()+Vx.slice(1);Ui(_X,"on"+SX)}Ui(MC,"onAnimationEnd"),Ui(kC,"onAnimationIteration"),Ui(DC,"onAnimationStart"),Ui("dblclick","onDoubleClick"),Ui("focusin","onFocus"),Ui("focusout","onBlur"),Ui(BY,"onTransitionRun"),Ui(qY,"onTransitionStart"),Ui(zY,"onTransitionCancel"),Ui(IC,"onTransitionEnd"),Jl("onMouseEnter",["mouseout","mouseover"]),Jl("onMouseLeave",["mouseout","mouseover"]),Jl("onPointerEnter",["pointerout","pointerover"]),Jl("onPointerLeave",["pointerout","pointerover"]),Mo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Mo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Mo("onBeforeInput",["compositionend","keypress","textInput","paste"]),Mo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Mo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Mo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var pf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),jX=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(pf));function rM(s,c){c=(c&4)!==0;for(var h=0;h<s.length;h++){var g=s[h],S=g.event;g=g.listeners;e:{var A=void 0;if(c)for(var P=g.length-1;0<=P;P--){var L=g[P],W=L.instance,ce=L.currentTarget;if(L=L.listener,W!==A&&S.isPropagationStopped())break e;A=L,S.currentTarget=ce;try{A(S)}catch(ve){rp(ve)}S.currentTarget=null,A=W}else for(P=0;P<g.length;P++){if(L=g[P],W=L.instance,ce=L.currentTarget,L=L.listener,W!==A&&S.isPropagationStopped())break e;A=L,S.currentTarget=ce;try{A(S)}catch(ve){rp(ve)}S.currentTarget=null,A=W}}}}function Rt(s,c){var h=c[rb];h===void 0&&(h=c[rb]=new Set);var g=s+"__bubble";h.has(g)||(iM(c,s,2,!1),h.add(g))}function Hx(s,c,h){var g=0;c&&(g|=4),iM(h,s,g,c)}var Fp="_reactListening"+Math.random().toString(36).slice(2);function Gx(s){if(!s[Fp]){s[Fp]=!0,QO.forEach(function(h){h!=="selectionchange"&&(jX.has(h)||Hx(h,!1,s),Hx(h,!0,s))});var c=s.nodeType===9?s:s.ownerDocument;c===null||c[Fp]||(c[Fp]=!0,Hx("selectionchange",!1,c))}}function iM(s,c,h,g){switch(MM(c)){case 2:var S=JX;break;case 8:S=ZX;break;default:S=ow}h=S.bind(null,c,h,s),S=void 0,!fb||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(S=!0),g?S!==void 0?s.addEventListener(c,h,{capture:!0,passive:S}):s.addEventListener(c,h,!0):S!==void 0?s.addEventListener(c,h,{passive:S}):s.addEventListener(c,h,!1)}function Kx(s,c,h,g,S){var A=g;if((c&1)===0&&(c&2)===0&&g!==null)e:for(;;){if(g===null)return;var P=g.tag;if(P===3||P===4){var L=g.stateNode.containerInfo;if(L===S)break;if(P===4)for(P=g.return;P!==null;){var W=P.tag;if((W===3||W===4)&&P.stateNode.containerInfo===S)return;P=P.return}for(;L!==null;){if(P=Yl(L),P===null)return;if(W=P.tag,W===5||W===6||W===26||W===27){g=A=P;continue e}L=L.parentNode}}g=g.return}cC(function(){var ce=A,ve=ub(h),Se=[];e:{var de=$C.get(s);if(de!==void 0){var me=ep,ze=s;switch(s){case"keypress":if(Jm(h)===0)break e;case"keydown":case"keyup":me=vY;break;case"focusin":ze="focus",me=gb;break;case"focusout":ze="blur",me=gb;break;case"beforeblur":case"afterblur":me=gb;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":me=fC;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":me=aY;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":me=xY;break;case MC:case kC:case DC:me=lY;break;case IC:me=_Y;break;case"scroll":case"scrollend":me=rY;break;case"wheel":me=jY;break;case"copy":case"cut":case"paste":me=uY;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":me=mC;break;case"toggle":case"beforetoggle":me=NY}var lt=(c&4)!==0,en=!lt&&(s==="scroll"||s==="scrollend"),ne=lt?de!==null?de+"Capture":null:de;lt=[];for(var Q=ce,le;Q!==null;){var _e=Q;if(le=_e.stateNode,_e=_e.tag,_e!==5&&_e!==26&&_e!==27||le===null||ne===null||(_e=Id(Q,ne),_e!=null&&lt.push(gf(Q,_e,le))),en)break;Q=Q.return}0<lt.length&&(de=new me(de,ze,null,h,ve),Se.push({event:de,listeners:lt}))}}if((c&7)===0){e:{if(de=s==="mouseover"||s==="pointerover",me=s==="mouseout"||s==="pointerout",de&&h!==cb&&(ze=h.relatedTarget||h.fromElement)&&(Yl(ze)||ze[Wl]))break e;if((me||de)&&(de=ve.window===ve?ve:(de=ve.ownerDocument)?de.defaultView||de.parentWindow:window,me?(ze=h.relatedTarget||h.toElement,me=ce,ze=ze?Yl(ze):null,ze!==null&&(en=a(ze),lt=ze.tag,ze!==en||lt!==5&&lt!==27&&lt!==6)&&(ze=null)):(me=null,ze=ce),me!==ze)){if(lt=fC,_e="onMouseLeave",ne="onMouseEnter",Q="mouse",(s==="pointerout"||s==="pointerover")&&(lt=mC,_e="onPointerLeave",ne="onPointerEnter",Q="pointer"),en=me==null?de:Dd(me),le=ze==null?de:Dd(ze),de=new lt(_e,Q+"leave",me,h,ve),de.target=en,de.relatedTarget=le,_e=null,Yl(ve)===ce&&(lt=new lt(ne,Q+"enter",ze,h,ve),lt.target=le,lt.relatedTarget=en,_e=lt),en=_e,me&&ze)t:{for(lt=EX,ne=me,Q=ze,le=0,_e=ne;_e;_e=lt(_e))le++;_e=0;for(var nt=Q;nt;nt=lt(nt))_e++;for(;0<le-_e;)ne=lt(ne),le--;for(;0<_e-le;)Q=lt(Q),_e--;for(;le--;){if(ne===Q||Q!==null&&ne===Q.alternate){lt=ne;break t}ne=lt(ne),Q=lt(Q)}lt=null}else lt=null;me!==null&&aM(Se,de,me,lt,!1),ze!==null&&en!==null&&aM(Se,en,ze,lt,!0)}}e:{if(de=ce?Dd(ce):window,me=de.nodeName&&de.nodeName.toLowerCase(),me==="select"||me==="input"&&de.type==="file")var qt=_C;else if(xC(de))if(SC)qt=IY;else{qt=kY;var Ke=MY}else me=de.nodeName,!me||me.toLowerCase()!=="input"||de.type!=="checkbox"&&de.type!=="radio"?ce&&lb(ce.elementType)&&(qt=_C):qt=DY;if(qt&&(qt=qt(s,ce))){wC(Se,qt,h,ve);break e}Ke&&Ke(s,de,ce),s==="focusout"&&ce&&de.type==="number"&&ce.memoizedProps.value!=null&&ob(de,"number",de.value)}switch(Ke=ce?Dd(ce):window,s){case"focusin":(xC(Ke)||Ke.contentEditable==="true")&&(ic=Ke,_b=ce,Vd=null);break;case"focusout":Vd=_b=ic=null;break;case"mousedown":Sb=!0;break;case"contextmenu":case"mouseup":case"dragend":Sb=!1,RC(Se,h,ve);break;case"selectionchange":if(LY)break;case"keydown":case"keyup":RC(Se,h,ve)}var Et;if(yb)e:{switch(s){case"compositionstart":var kt="onCompositionStart";break e;case"compositionend":kt="onCompositionEnd";break e;case"compositionupdate":kt="onCompositionUpdate";break e}kt=void 0}else rc?yC(s,h)&&(kt="onCompositionEnd"):s==="keydown"&&h.keyCode===229&&(kt="onCompositionStart");kt&&(pC&&h.locale!=="ko"&&(rc||kt!=="onCompositionStart"?kt==="onCompositionEnd"&&rc&&(Et=uC()):(Es=ve,hb="value"in Es?Es.value:Es.textContent,rc=!0)),Ke=Vp(ce,kt),0<Ke.length&&(kt=new hC(kt,s,null,h,ve),Se.push({event:kt,listeners:Ke}),Et?kt.data=Et:(Et=bC(h),Et!==null&&(kt.data=Et)))),(Et=TY?OY(s,h):CY(s,h))&&(kt=Vp(ce,"onBeforeInput"),0<kt.length&&(Ke=new hC("onBeforeInput","beforeinput",null,h,ve),Se.push({event:Ke,listeners:kt}),Ke.data=Et)),wX(Se,s,ce,h,ve)}rM(Se,c)})}function gf(s,c,h){return{instance:s,listener:c,currentTarget:h}}function Vp(s,c){for(var h=c+"Capture",g=[];s!==null;){var S=s,A=S.stateNode;if(S=S.tag,S!==5&&S!==26&&S!==27||A===null||(S=Id(s,h),S!=null&&g.unshift(gf(s,S,A)),S=Id(s,c),S!=null&&g.push(gf(s,S,A))),s.tag===3)return g;s=s.return}return[]}function EX(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function aM(s,c,h,g,S){for(var A=c._reactName,P=[];h!==null&&h!==g;){var L=h,W=L.alternate,ce=L.stateNode;if(L=L.tag,W!==null&&W===g)break;L!==5&&L!==26&&L!==27||ce===null||(W=ce,S?(ce=Id(h,A),ce!=null&&P.unshift(gf(h,ce,W))):S||(ce=Id(h,A),ce!=null&&P.push(gf(h,ce,W)))),h=h.return}P.length!==0&&s.push({event:c,listeners:P})}var NX=/\r\n?/g,AX=/\u0000|\uFFFD/g;function sM(s){return(typeof s=="string"?s:""+s).replace(NX,`
`).replace(AX,"")}function oM(s,c){return c=sM(c),sM(s)===c}function Zt(s,c,h,g,S,A){switch(h){case"children":typeof g=="string"?c==="body"||c==="textarea"&&g===""||ec(s,g):(typeof g=="number"||typeof g=="bigint")&&c!=="body"&&ec(s,""+g);break;case"className":Wm(s,"class",g);break;case"tabIndex":Wm(s,"tabindex",g);break;case"dir":case"role":case"viewBox":case"width":case"height":Wm(s,h,g);break;case"style":oC(s,g,A);break;case"data":if(c!=="object"){Wm(s,"data",g);break}case"src":case"href":if(g===""&&(c!=="a"||h!=="href")){s.removeAttribute(h);break}if(g==null||typeof g=="function"||typeof g=="symbol"||typeof g=="boolean"){s.removeAttribute(h);break}g=Xm(""+g),s.setAttribute(h,g);break;case"action":case"formAction":if(typeof g=="function"){s.setAttribute(h,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof A=="function"&&(h==="formAction"?(c!=="input"&&Zt(s,c,"name",S.name,S,null),Zt(s,c,"formEncType",S.formEncType,S,null),Zt(s,c,"formMethod",S.formMethod,S,null),Zt(s,c,"formTarget",S.formTarget,S,null)):(Zt(s,c,"encType",S.encType,S,null),Zt(s,c,"method",S.method,S,null),Zt(s,c,"target",S.target,S,null)));if(g==null||typeof g=="symbol"||typeof g=="boolean"){s.removeAttribute(h);break}g=Xm(""+g),s.setAttribute(h,g);break;case"onClick":g!=null&&(s.onclick=Da);break;case"onScroll":g!=null&&Rt("scroll",s);break;case"onScrollEnd":g!=null&&Rt("scrollend",s);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(r(61));if(h=g.__html,h!=null){if(S.children!=null)throw Error(r(60));s.innerHTML=h}}break;case"multiple":s.multiple=g&&typeof g!="function"&&typeof g!="symbol";break;case"muted":s.muted=g&&typeof g!="function"&&typeof g!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(g==null||typeof g=="function"||typeof g=="boolean"||typeof g=="symbol"){s.removeAttribute("xlink:href");break}h=Xm(""+g),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",h);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":g!=null&&typeof g!="function"&&typeof g!="symbol"?s.setAttribute(h,""+g):s.removeAttribute(h);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":g&&typeof g!="function"&&typeof g!="symbol"?s.setAttribute(h,""):s.removeAttribute(h);break;case"capture":case"download":g===!0?s.setAttribute(h,""):g!==!1&&g!=null&&typeof g!="function"&&typeof g!="symbol"?s.setAttribute(h,g):s.removeAttribute(h);break;case"cols":case"rows":case"size":case"span":g!=null&&typeof g!="function"&&typeof g!="symbol"&&!isNaN(g)&&1<=g?s.setAttribute(h,g):s.removeAttribute(h);break;case"rowSpan":case"start":g==null||typeof g=="function"||typeof g=="symbol"||isNaN(g)?s.removeAttribute(h):s.setAttribute(h,g);break;case"popover":Rt("beforetoggle",s),Rt("toggle",s),Km(s,"popover",g);break;case"xlinkActuate":ka(s,"http://www.w3.org/1999/xlink","xlink:actuate",g);break;case"xlinkArcrole":ka(s,"http://www.w3.org/1999/xlink","xlink:arcrole",g);break;case"xlinkRole":ka(s,"http://www.w3.org/1999/xlink","xlink:role",g);break;case"xlinkShow":ka(s,"http://www.w3.org/1999/xlink","xlink:show",g);break;case"xlinkTitle":ka(s,"http://www.w3.org/1999/xlink","xlink:title",g);break;case"xlinkType":ka(s,"http://www.w3.org/1999/xlink","xlink:type",g);break;case"xmlBase":ka(s,"http://www.w3.org/XML/1998/namespace","xml:base",g);break;case"xmlLang":ka(s,"http://www.w3.org/XML/1998/namespace","xml:lang",g);break;case"xmlSpace":ka(s,"http://www.w3.org/XML/1998/namespace","xml:space",g);break;case"is":Km(s,"is",g);break;case"innerText":case"textContent":break;default:(!(2<h.length)||h[0]!=="o"&&h[0]!=="O"||h[1]!=="n"&&h[1]!=="N")&&(h=tY.get(h)||h,Km(s,h,g))}}function Wx(s,c,h,g,S,A){switch(h){case"style":oC(s,g,A);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(r(61));if(h=g.__html,h!=null){if(S.children!=null)throw Error(r(60));s.innerHTML=h}}break;case"children":typeof g=="string"?ec(s,g):(typeof g=="number"||typeof g=="bigint")&&ec(s,""+g);break;case"onScroll":g!=null&&Rt("scroll",s);break;case"onScrollEnd":g!=null&&Rt("scrollend",s);break;case"onClick":g!=null&&(s.onclick=Da);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!JO.hasOwnProperty(h))e:{if(h[0]==="o"&&h[1]==="n"&&(S=h.endsWith("Capture"),c=h.slice(2,S?h.length-7:void 0),A=s[Lr]||null,A=A!=null?A[h]:null,typeof A=="function"&&s.removeEventListener(c,A,S),typeof g=="function")){typeof A!="function"&&A!==null&&(h in s?s[h]=null:s.hasAttribute(h)&&s.removeAttribute(h)),s.addEventListener(c,g,S);break e}h in s?s[h]=g:g===!0?s.setAttribute(h,""):Km(s,h,g)}}}function pr(s,c,h){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Rt("error",s),Rt("load",s);var g=!1,S=!1,A;for(A in h)if(h.hasOwnProperty(A)){var P=h[A];if(P!=null)switch(A){case"src":g=!0;break;case"srcSet":S=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,c));default:Zt(s,c,A,P,h,null)}}S&&Zt(s,c,"srcSet",h.srcSet,h,null),g&&Zt(s,c,"src",h.src,h,null);return;case"input":Rt("invalid",s);var L=A=P=S=null,W=null,ce=null;for(g in h)if(h.hasOwnProperty(g)){var ve=h[g];if(ve!=null)switch(g){case"name":S=ve;break;case"type":P=ve;break;case"checked":W=ve;break;case"defaultChecked":ce=ve;break;case"value":A=ve;break;case"defaultValue":L=ve;break;case"children":case"dangerouslySetInnerHTML":if(ve!=null)throw Error(r(137,c));break;default:Zt(s,c,g,ve,h,null)}}rC(s,A,L,W,ce,P,S,!1);return;case"select":Rt("invalid",s),g=P=A=null;for(S in h)if(h.hasOwnProperty(S)&&(L=h[S],L!=null))switch(S){case"value":A=L;break;case"defaultValue":P=L;break;case"multiple":g=L;default:Zt(s,c,S,L,h,null)}c=A,h=P,s.multiple=!!g,c!=null?Zl(s,!!g,c,!1):h!=null&&Zl(s,!!g,h,!0);return;case"textarea":Rt("invalid",s),A=S=g=null;for(P in h)if(h.hasOwnProperty(P)&&(L=h[P],L!=null))switch(P){case"value":g=L;break;case"defaultValue":S=L;break;case"children":A=L;break;case"dangerouslySetInnerHTML":if(L!=null)throw Error(r(91));break;default:Zt(s,c,P,L,h,null)}aC(s,g,S,A);return;case"option":for(W in h)if(h.hasOwnProperty(W)&&(g=h[W],g!=null))switch(W){case"selected":s.selected=g&&typeof g!="function"&&typeof g!="symbol";break;default:Zt(s,c,W,g,h,null)}return;case"dialog":Rt("beforetoggle",s),Rt("toggle",s),Rt("cancel",s),Rt("close",s);break;case"iframe":case"object":Rt("load",s);break;case"video":case"audio":for(g=0;g<pf.length;g++)Rt(pf[g],s);break;case"image":Rt("error",s),Rt("load",s);break;case"details":Rt("toggle",s);break;case"embed":case"source":case"link":Rt("error",s),Rt("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ce in h)if(h.hasOwnProperty(ce)&&(g=h[ce],g!=null))switch(ce){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,c));default:Zt(s,c,ce,g,h,null)}return;default:if(lb(c)){for(ve in h)h.hasOwnProperty(ve)&&(g=h[ve],g!==void 0&&Wx(s,c,ve,g,h,void 0));return}}for(L in h)h.hasOwnProperty(L)&&(g=h[L],g!=null&&Zt(s,c,L,g,h,null))}function TX(s,c,h,g){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var S=null,A=null,P=null,L=null,W=null,ce=null,ve=null;for(me in h){var Se=h[me];if(h.hasOwnProperty(me)&&Se!=null)switch(me){case"checked":break;case"value":break;case"defaultValue":W=Se;default:g.hasOwnProperty(me)||Zt(s,c,me,null,g,Se)}}for(var de in g){var me=g[de];if(Se=h[de],g.hasOwnProperty(de)&&(me!=null||Se!=null))switch(de){case"type":A=me;break;case"name":S=me;break;case"checked":ce=me;break;case"defaultChecked":ve=me;break;case"value":P=me;break;case"defaultValue":L=me;break;case"children":case"dangerouslySetInnerHTML":if(me!=null)throw Error(r(137,c));break;default:me!==Se&&Zt(s,c,de,me,g,Se)}}sb(s,P,L,W,ce,ve,A,S);return;case"select":me=P=L=de=null;for(A in h)if(W=h[A],h.hasOwnProperty(A)&&W!=null)switch(A){case"value":break;case"multiple":me=W;default:g.hasOwnProperty(A)||Zt(s,c,A,null,g,W)}for(S in g)if(A=g[S],W=h[S],g.hasOwnProperty(S)&&(A!=null||W!=null))switch(S){case"value":de=A;break;case"defaultValue":L=A;break;case"multiple":P=A;default:A!==W&&Zt(s,c,S,A,g,W)}c=L,h=P,g=me,de!=null?Zl(s,!!h,de,!1):!!g!=!!h&&(c!=null?Zl(s,!!h,c,!0):Zl(s,!!h,h?[]:"",!1));return;case"textarea":me=de=null;for(L in h)if(S=h[L],h.hasOwnProperty(L)&&S!=null&&!g.hasOwnProperty(L))switch(L){case"value":break;case"children":break;default:Zt(s,c,L,null,g,S)}for(P in g)if(S=g[P],A=h[P],g.hasOwnProperty(P)&&(S!=null||A!=null))switch(P){case"value":de=S;break;case"defaultValue":me=S;break;case"children":break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(r(91));break;default:S!==A&&Zt(s,c,P,S,g,A)}iC(s,de,me);return;case"option":for(var ze in h)if(de=h[ze],h.hasOwnProperty(ze)&&de!=null&&!g.hasOwnProperty(ze))switch(ze){case"selected":s.selected=!1;break;default:Zt(s,c,ze,null,g,de)}for(W in g)if(de=g[W],me=h[W],g.hasOwnProperty(W)&&de!==me&&(de!=null||me!=null))switch(W){case"selected":s.selected=de&&typeof de!="function"&&typeof de!="symbol";break;default:Zt(s,c,W,de,g,me)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var lt in h)de=h[lt],h.hasOwnProperty(lt)&&de!=null&&!g.hasOwnProperty(lt)&&Zt(s,c,lt,null,g,de);for(ce in g)if(de=g[ce],me=h[ce],g.hasOwnProperty(ce)&&de!==me&&(de!=null||me!=null))switch(ce){case"children":case"dangerouslySetInnerHTML":if(de!=null)throw Error(r(137,c));break;default:Zt(s,c,ce,de,g,me)}return;default:if(lb(c)){for(var en in h)de=h[en],h.hasOwnProperty(en)&&de!==void 0&&!g.hasOwnProperty(en)&&Wx(s,c,en,void 0,g,de);for(ve in g)de=g[ve],me=h[ve],!g.hasOwnProperty(ve)||de===me||de===void 0&&me===void 0||Wx(s,c,ve,de,g,me);return}}for(var ne in h)de=h[ne],h.hasOwnProperty(ne)&&de!=null&&!g.hasOwnProperty(ne)&&Zt(s,c,ne,null,g,de);for(Se in g)de=g[Se],me=h[Se],!g.hasOwnProperty(Se)||de===me||de==null&&me==null||Zt(s,c,Se,de,g,me)}function lM(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function OX(){if(typeof performance.getEntriesByType=="function"){for(var s=0,c=0,h=performance.getEntriesByType("resource"),g=0;g<h.length;g++){var S=h[g],A=S.transferSize,P=S.initiatorType,L=S.duration;if(A&&L&&lM(P)){for(P=0,L=S.responseEnd,g+=1;g<h.length;g++){var W=h[g],ce=W.startTime;if(ce>L)break;var ve=W.transferSize,Se=W.initiatorType;ve&&lM(Se)&&(W=W.responseEnd,P+=ve*(W<L?1:(L-ce)/(W-ce)))}if(--g,c+=8*(A+P)/(S.duration/1e3),s++,10<s)break}}if(0<s)return c/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var Yx=null,Xx=null;function Hp(s){return s.nodeType===9?s:s.ownerDocument}function cM(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function uM(s,c){if(s===0)switch(c){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&c==="foreignObject"?0:s}function Qx(s,c){return s==="textarea"||s==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.children=="bigint"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var Jx=null;function CX(){var s=window.event;return s&&s.type==="popstate"?s===Jx?!1:(Jx=s,!0):(Jx=null,!1)}var dM=typeof setTimeout=="function"?setTimeout:void 0,RX=typeof clearTimeout=="function"?clearTimeout:void 0,fM=typeof Promise=="function"?Promise:void 0,PX=typeof queueMicrotask=="function"?queueMicrotask:typeof fM<"u"?function(s){return fM.resolve(null).then(s).catch(MX)}:dM;function MX(s){setTimeout(function(){throw s})}function Us(s){return s==="head"}function hM(s,c){var h=c,g=0;do{var S=h.nextSibling;if(s.removeChild(h),S&&S.nodeType===8)if(h=S.data,h==="/$"||h==="/&"){if(g===0){s.removeChild(S),Rc(c);return}g--}else if(h==="$"||h==="$?"||h==="$~"||h==="$!"||h==="&")g++;else if(h==="html")vf(s.ownerDocument.documentElement);else if(h==="head"){h=s.ownerDocument.head,vf(h);for(var A=h.firstChild;A;){var P=A.nextSibling,L=A.nodeName;A[kd]||L==="SCRIPT"||L==="STYLE"||L==="LINK"&&A.rel.toLowerCase()==="stylesheet"||h.removeChild(A),A=P}}else h==="body"&&vf(s.ownerDocument.body);h=S}while(h);Rc(c)}function mM(s,c){var h=s;s=0;do{var g=h.nextSibling;if(h.nodeType===1?c?(h._stashedDisplay=h.style.display,h.style.display="none"):(h.style.display=h._stashedDisplay||"",h.getAttribute("style")===""&&h.removeAttribute("style")):h.nodeType===3&&(c?(h._stashedText=h.nodeValue,h.nodeValue=""):h.nodeValue=h._stashedText||""),g&&g.nodeType===8)if(h=g.data,h==="/$"){if(s===0)break;s--}else h!=="$"&&h!=="$?"&&h!=="$~"&&h!=="$!"||s++;h=g}while(h)}function Zx(s){var c=s.firstChild;for(c&&c.nodeType===10&&(c=c.nextSibling);c;){var h=c;switch(c=c.nextSibling,h.nodeName){case"HTML":case"HEAD":case"BODY":Zx(h),ib(h);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(h.rel.toLowerCase()==="stylesheet")continue}s.removeChild(h)}}function kX(s,c,h,g){for(;s.nodeType===1;){var S=h;if(s.nodeName.toLowerCase()!==c.toLowerCase()){if(!g&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(g){if(!s[kd])switch(c){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(A=s.getAttribute("rel"),A==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(A!==S.rel||s.getAttribute("href")!==(S.href==null||S.href===""?null:S.href)||s.getAttribute("crossorigin")!==(S.crossOrigin==null?null:S.crossOrigin)||s.getAttribute("title")!==(S.title==null?null:S.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(A=s.getAttribute("src"),(A!==(S.src==null?null:S.src)||s.getAttribute("type")!==(S.type==null?null:S.type)||s.getAttribute("crossorigin")!==(S.crossOrigin==null?null:S.crossOrigin))&&A&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(c==="input"&&s.type==="hidden"){var A=S.name==null?null:""+S.name;if(S.type==="hidden"&&s.getAttribute("name")===A)return s}else return s;if(s=ji(s.nextSibling),s===null)break}return null}function DX(s,c,h){if(c==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!h||(s=ji(s.nextSibling),s===null))return null;return s}function pM(s,c){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!c||(s=ji(s.nextSibling),s===null))return null;return s}function ew(s){return s.data==="$?"||s.data==="$~"}function tw(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function IX(s,c){var h=s.ownerDocument;if(s.data==="$~")s._reactRetry=c;else if(s.data!=="$?"||h.readyState!=="loading")c();else{var g=function(){c(),h.removeEventListener("DOMContentLoaded",g)};h.addEventListener("DOMContentLoaded",g),s._reactRetry=g}}function ji(s){for(;s!=null;s=s.nextSibling){var c=s.nodeType;if(c===1||c===3)break;if(c===8){if(c=s.data,c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"||c==="F!"||c==="F")break;if(c==="/$"||c==="/&")return null}}return s}var nw=null;function gM(s){s=s.nextSibling;for(var c=0;s;){if(s.nodeType===8){var h=s.data;if(h==="/$"||h==="/&"){if(c===0)return ji(s.nextSibling);c--}else h!=="$"&&h!=="$!"&&h!=="$?"&&h!=="$~"&&h!=="&"||c++}s=s.nextSibling}return null}function vM(s){s=s.previousSibling;for(var c=0;s;){if(s.nodeType===8){var h=s.data;if(h==="$"||h==="$!"||h==="$?"||h==="$~"||h==="&"){if(c===0)return s;c--}else h!=="/$"&&h!=="/&"||c++}s=s.previousSibling}return null}function yM(s,c,h){switch(c=Hp(h),s){case"html":if(s=c.documentElement,!s)throw Error(r(452));return s;case"head":if(s=c.head,!s)throw Error(r(453));return s;case"body":if(s=c.body,!s)throw Error(r(454));return s;default:throw Error(r(451))}}function vf(s){for(var c=s.attributes;c.length;)s.removeAttributeNode(c[0]);ib(s)}var Ei=new Map,bM=new Set;function Gp(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var Qa=G.d;G.d={f:$X,r:LX,D:BX,C:qX,L:zX,m:UX,X:VX,S:FX,M:HX};function $X(){var s=Qa.f(),c=$p();return s||c}function LX(s){var c=Xl(s);c!==null&&c.tag===5&&c.type==="form"?IR(c):Qa.r(s)}var Tc=typeof document>"u"?null:document;function xM(s,c,h){var g=Tc;if(g&&typeof c=="string"&&c){var S=vi(c);S='link[rel="'+s+'"][href="'+S+'"]',typeof h=="string"&&(S+='[crossorigin="'+h+'"]'),bM.has(S)||(bM.add(S),s={rel:s,crossOrigin:h,href:c},g.querySelector(S)===null&&(c=g.createElement("link"),pr(c,"link",s),ar(c),g.head.appendChild(c)))}}function BX(s){Qa.D(s),xM("dns-prefetch",s,null)}function qX(s,c){Qa.C(s,c),xM("preconnect",s,c)}function zX(s,c,h){Qa.L(s,c,h);var g=Tc;if(g&&s&&c){var S='link[rel="preload"][as="'+vi(c)+'"]';c==="image"&&h&&h.imageSrcSet?(S+='[imagesrcset="'+vi(h.imageSrcSet)+'"]',typeof h.imageSizes=="string"&&(S+='[imagesizes="'+vi(h.imageSizes)+'"]')):S+='[href="'+vi(s)+'"]';var A=S;switch(c){case"style":A=Oc(s);break;case"script":A=Cc(s)}Ei.has(A)||(s=p({rel:"preload",href:c==="image"&&h&&h.imageSrcSet?void 0:s,as:c},h),Ei.set(A,s),g.querySelector(S)!==null||c==="style"&&g.querySelector(yf(A))||c==="script"&&g.querySelector(bf(A))||(c=g.createElement("link"),pr(c,"link",s),ar(c),g.head.appendChild(c)))}}function UX(s,c){Qa.m(s,c);var h=Tc;if(h&&s){var g=c&&typeof c.as=="string"?c.as:"script",S='link[rel="modulepreload"][as="'+vi(g)+'"][href="'+vi(s)+'"]',A=S;switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":A=Cc(s)}if(!Ei.has(A)&&(s=p({rel:"modulepreload",href:s},c),Ei.set(A,s),h.querySelector(S)===null)){switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(h.querySelector(bf(A)))return}g=h.createElement("link"),pr(g,"link",s),ar(g),h.head.appendChild(g)}}}function FX(s,c,h){Qa.S(s,c,h);var g=Tc;if(g&&s){var S=Ql(g).hoistableStyles,A=Oc(s);c=c||"default";var P=S.get(A);if(!P){var L={loading:0,preload:null};if(P=g.querySelector(yf(A)))L.loading=5;else{s=p({rel:"stylesheet",href:s,"data-precedence":c},h),(h=Ei.get(A))&&rw(s,h);var W=P=g.createElement("link");ar(W),pr(W,"link",s),W._p=new Promise(function(ce,ve){W.onload=ce,W.onerror=ve}),W.addEventListener("load",function(){L.loading|=1}),W.addEventListener("error",function(){L.loading|=2}),L.loading|=4,Kp(P,c,g)}P={type:"stylesheet",instance:P,count:1,state:L},S.set(A,P)}}}function VX(s,c){Qa.X(s,c);var h=Tc;if(h&&s){var g=Ql(h).hoistableScripts,S=Cc(s),A=g.get(S);A||(A=h.querySelector(bf(S)),A||(s=p({src:s,async:!0},c),(c=Ei.get(S))&&iw(s,c),A=h.createElement("script"),ar(A),pr(A,"link",s),h.head.appendChild(A)),A={type:"script",instance:A,count:1,state:null},g.set(S,A))}}function HX(s,c){Qa.M(s,c);var h=Tc;if(h&&s){var g=Ql(h).hoistableScripts,S=Cc(s),A=g.get(S);A||(A=h.querySelector(bf(S)),A||(s=p({src:s,async:!0,type:"module"},c),(c=Ei.get(S))&&iw(s,c),A=h.createElement("script"),ar(A),pr(A,"link",s),h.head.appendChild(A)),A={type:"script",instance:A,count:1,state:null},g.set(S,A))}}function wM(s,c,h,g){var S=(S=ae.current)?Gp(S):null;if(!S)throw Error(r(446));switch(s){case"meta":case"title":return null;case"style":return typeof h.precedence=="string"&&typeof h.href=="string"?(c=Oc(h.href),h=Ql(S).hoistableStyles,g=h.get(c),g||(g={type:"style",instance:null,count:0,state:null},h.set(c,g)),g):{type:"void",instance:null,count:0,state:null};case"link":if(h.rel==="stylesheet"&&typeof h.href=="string"&&typeof h.precedence=="string"){s=Oc(h.href);var A=Ql(S).hoistableStyles,P=A.get(s);if(P||(S=S.ownerDocument||S,P={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},A.set(s,P),(A=S.querySelector(yf(s)))&&!A._p&&(P.instance=A,P.state.loading=5),Ei.has(s)||(h={rel:"preload",as:"style",href:h.href,crossOrigin:h.crossOrigin,integrity:h.integrity,media:h.media,hrefLang:h.hrefLang,referrerPolicy:h.referrerPolicy},Ei.set(s,h),A||GX(S,s,h,P.state))),c&&g===null)throw Error(r(528,""));return P}if(c&&g!==null)throw Error(r(529,""));return null;case"script":return c=h.async,h=h.src,typeof h=="string"&&c&&typeof c!="function"&&typeof c!="symbol"?(c=Cc(h),h=Ql(S).hoistableScripts,g=h.get(c),g||(g={type:"script",instance:null,count:0,state:null},h.set(c,g)),g):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,s))}}function Oc(s){return'href="'+vi(s)+'"'}function yf(s){return'link[rel="stylesheet"]['+s+"]"}function _M(s){return p({},s,{"data-precedence":s.precedence,precedence:null})}function GX(s,c,h,g){s.querySelector('link[rel="preload"][as="style"]['+c+"]")?g.loading=1:(c=s.createElement("link"),g.preload=c,c.addEventListener("load",function(){return g.loading|=1}),c.addEventListener("error",function(){return g.loading|=2}),pr(c,"link",h),ar(c),s.head.appendChild(c))}function Cc(s){return'[src="'+vi(s)+'"]'}function bf(s){return"script[async]"+s}function SM(s,c,h){if(c.count++,c.instance===null)switch(c.type){case"style":var g=s.querySelector('style[data-href~="'+vi(h.href)+'"]');if(g)return c.instance=g,ar(g),g;var S=p({},h,{"data-href":h.href,"data-precedence":h.precedence,href:null,precedence:null});return g=(s.ownerDocument||s).createElement("style"),ar(g),pr(g,"style",S),Kp(g,h.precedence,s),c.instance=g;case"stylesheet":S=Oc(h.href);var A=s.querySelector(yf(S));if(A)return c.state.loading|=4,c.instance=A,ar(A),A;g=_M(h),(S=Ei.get(S))&&rw(g,S),A=(s.ownerDocument||s).createElement("link"),ar(A);var P=A;return P._p=new Promise(function(L,W){P.onload=L,P.onerror=W}),pr(A,"link",g),c.state.loading|=4,Kp(A,h.precedence,s),c.instance=A;case"script":return A=Cc(h.src),(S=s.querySelector(bf(A)))?(c.instance=S,ar(S),S):(g=h,(S=Ei.get(A))&&(g=p({},h),iw(g,S)),s=s.ownerDocument||s,S=s.createElement("script"),ar(S),pr(S,"link",g),s.head.appendChild(S),c.instance=S);case"void":return null;default:throw Error(r(443,c.type))}else c.type==="stylesheet"&&(c.state.loading&4)===0&&(g=c.instance,c.state.loading|=4,Kp(g,h.precedence,s));return c.instance}function Kp(s,c,h){for(var g=h.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),S=g.length?g[g.length-1]:null,A=S,P=0;P<g.length;P++){var L=g[P];if(L.dataset.precedence===c)A=L;else if(A!==S)break}A?A.parentNode.insertBefore(s,A.nextSibling):(c=h.nodeType===9?h.head:h,c.insertBefore(s,c.firstChild))}function rw(s,c){s.crossOrigin==null&&(s.crossOrigin=c.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=c.referrerPolicy),s.title==null&&(s.title=c.title)}function iw(s,c){s.crossOrigin==null&&(s.crossOrigin=c.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=c.referrerPolicy),s.integrity==null&&(s.integrity=c.integrity)}var Wp=null;function jM(s,c,h){if(Wp===null){var g=new Map,S=Wp=new Map;S.set(h,g)}else S=Wp,g=S.get(h),g||(g=new Map,S.set(h,g));if(g.has(s))return g;for(g.set(s,null),h=h.getElementsByTagName(s),S=0;S<h.length;S++){var A=h[S];if(!(A[kd]||A[dr]||s==="link"&&A.getAttribute("rel")==="stylesheet")&&A.namespaceURI!=="http://www.w3.org/2000/svg"){var P=A.getAttribute(c)||"";P=s+P;var L=g.get(P);L?L.push(A):g.set(P,[A])}}return g}function EM(s,c,h){s=s.ownerDocument||s,s.head.insertBefore(h,c==="title"?s.querySelector("head > title"):null)}function KX(s,c,h){if(h===1||c.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof c.precedence!="string"||typeof c.href!="string"||c.href==="")break;return!0;case"link":if(typeof c.rel!="string"||typeof c.href!="string"||c.href===""||c.onLoad||c.onError)break;switch(c.rel){case"stylesheet":return s=c.disabled,typeof c.precedence=="string"&&s==null;default:return!0}case"script":if(c.async&&typeof c.async!="function"&&typeof c.async!="symbol"&&!c.onLoad&&!c.onError&&c.src&&typeof c.src=="string")return!0}return!1}function NM(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function WX(s,c,h,g){if(h.type==="stylesheet"&&(typeof g.media!="string"||matchMedia(g.media).matches!==!1)&&(h.state.loading&4)===0){if(h.instance===null){var S=Oc(g.href),A=c.querySelector(yf(S));if(A){c=A._p,c!==null&&typeof c=="object"&&typeof c.then=="function"&&(s.count++,s=Yp.bind(s),c.then(s,s)),h.state.loading|=4,h.instance=A,ar(A);return}A=c.ownerDocument||c,g=_M(g),(S=Ei.get(S))&&rw(g,S),A=A.createElement("link"),ar(A);var P=A;P._p=new Promise(function(L,W){P.onload=L,P.onerror=W}),pr(A,"link",g),h.instance=A}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(h,c),(c=h.state.preload)&&(h.state.loading&3)===0&&(s.count++,h=Yp.bind(s),c.addEventListener("load",h),c.addEventListener("error",h))}}var aw=0;function YX(s,c){return s.stylesheets&&s.count===0&&Qp(s,s.stylesheets),0<s.count||0<s.imgCount?function(h){var g=setTimeout(function(){if(s.stylesheets&&Qp(s,s.stylesheets),s.unsuspend){var A=s.unsuspend;s.unsuspend=null,A()}},6e4+c);0<s.imgBytes&&aw===0&&(aw=62500*OX());var S=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&Qp(s,s.stylesheets),s.unsuspend)){var A=s.unsuspend;s.unsuspend=null,A()}},(s.imgBytes>aw?50:800)+c);return s.unsuspend=h,function(){s.unsuspend=null,clearTimeout(g),clearTimeout(S)}}:null}function Yp(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Qp(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var Xp=null;function Qp(s,c){s.stylesheets=null,s.unsuspend!==null&&(s.count++,Xp=new Map,c.forEach(XX,s),Xp=null,Yp.call(s))}function XX(s,c){if(!(c.state.loading&4)){var h=Xp.get(s);if(h)var g=h.get(null);else{h=new Map,Xp.set(s,h);for(var S=s.querySelectorAll("link[data-precedence],style[data-precedence]"),A=0;A<S.length;A++){var P=S[A];(P.nodeName==="LINK"||P.getAttribute("media")!=="not all")&&(h.set(P.dataset.precedence,P),g=P)}g&&h.set(null,g)}S=c.instance,P=S.getAttribute("data-precedence"),A=h.get(P)||g,A===g&&h.set(null,S),h.set(P,S),this.count++,g=Yp.bind(this),S.addEventListener("load",g),S.addEventListener("error",g),A?A.parentNode.insertBefore(S,A.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(S,s.firstChild)),c.state.loading|=4}}var xf={$$typeof:j,Provider:null,Consumer:null,_currentValue:z,_currentValue2:z,_threadCount:0};function QX(s,c,h,g,S,A,P,L,W){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Pn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Pn(0),this.hiddenUpdates=Pn(null),this.identifierPrefix=g,this.onUncaughtError=S,this.onCaughtError=A,this.onRecoverableError=P,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=W,this.incompleteTransitions=new Map}function AM(s,c,h,g,S,A,P,L,W,ce,ve,Se){return s=new QX(s,c,h,P,W,ce,ve,Se,L),c=1,A===!0&&(c|=24),A=Qr(3,null,null,c),s.current=A,A.stateNode=s,c=Lb(),c.refCount++,s.pooledCache=c,c.refCount++,A.memoizedState={element:g,isDehydrated:h,cache:c},Ub(A),s}function TM(s){return s?(s=oc,s):oc}function OM(s,c,h,g,S,A){S=TM(S),g.context===null?g.context=S:g.pendingContext=S,g=Rs(c),g.payload={element:h},A=A===void 0?null:A,A!==null&&(g.callback=A),h=Ps(s,g,c),h!==null&&(Vr(h,s,c),Qd(h,s,c))}function CM(s,c){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var h=s.retryLane;s.retryLane=h!==0&&h<c?h:c}}function sw(s,c){CM(s,c),(s=s.alternate)&&CM(s,c)}function RM(s){if(s.tag===13||s.tag===31){var c=$o(s,67108864);c!==null&&Vr(c,s,67108864),sw(s,67108864)}}function PM(s){if(s.tag===13||s.tag===31){var c=ni();c=tb(c);var h=$o(s,c);h!==null&&Vr(h,s,c),sw(s,c)}}var Jp=!0;function JX(s,c,h,g){var S=D.T;D.T=null;var A=G.p;try{G.p=2,ow(s,c,h,g)}finally{G.p=A,D.T=S}}function ZX(s,c,h,g){var S=D.T;D.T=null;var A=G.p;try{G.p=8,ow(s,c,h,g)}finally{G.p=A,D.T=S}}function ow(s,c,h,g){if(Jp){var S=lw(g);if(S===null)Kx(s,c,g,Zp,h),kM(s,g);else if(tQ(S,s,c,h,g))g.stopPropagation();else if(kM(s,g),c&4&&-1<eQ.indexOf(s)){for(;S!==null;){var A=Xl(S);if(A!==null)switch(A.tag){case 3:if(A=A.stateNode,A.current.memoizedState.isDehydrated){var P=fe(A.pendingLanes);if(P!==0){var L=A;for(L.pendingLanes|=2,L.entangledLanes|=2;P;){var W=1<<31-Ee(P);L.entanglements[1]|=W,P&=~W}ma(A),(Vt&6)===0&&(Dp=It()+500,mf(0))}}break;case 31:case 13:L=$o(A,2),L!==null&&Vr(L,A,2),$p(),sw(A,2)}if(A=lw(g),A===null&&Kx(s,c,g,Zp,h),A===S)break;S=A}S!==null&&g.stopPropagation()}else Kx(s,c,g,null,h)}}function lw(s){return s=ub(s),cw(s)}var Zp=null;function cw(s){if(Zp=null,s=Yl(s),s!==null){var c=a(s);if(c===null)s=null;else{var h=c.tag;if(h===13){if(s=o(c),s!==null)return s;s=null}else if(h===31){if(s=l(c),s!==null)return s;s=null}else if(h===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;s=null}else c!==s&&(s=null)}}return Zp=s,null}function MM(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(En()){case Ot:return 2;case je:return 8;case Ge:case pt:return 32;case yt:return 268435456;default:return 32}default:return 32}}var uw=!1,Fs=null,Vs=null,Hs=null,wf=new Map,_f=new Map,Gs=[],eQ="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function kM(s,c){switch(s){case"focusin":case"focusout":Fs=null;break;case"dragenter":case"dragleave":Vs=null;break;case"mouseover":case"mouseout":Hs=null;break;case"pointerover":case"pointerout":wf.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":_f.delete(c.pointerId)}}function Sf(s,c,h,g,S,A){return s===null||s.nativeEvent!==A?(s={blockedOn:c,domEventName:h,eventSystemFlags:g,nativeEvent:A,targetContainers:[S]},c!==null&&(c=Xl(c),c!==null&&RM(c)),s):(s.eventSystemFlags|=g,c=s.targetContainers,S!==null&&c.indexOf(S)===-1&&c.push(S),s)}function tQ(s,c,h,g,S){switch(c){case"focusin":return Fs=Sf(Fs,s,c,h,g,S),!0;case"dragenter":return Vs=Sf(Vs,s,c,h,g,S),!0;case"mouseover":return Hs=Sf(Hs,s,c,h,g,S),!0;case"pointerover":var A=S.pointerId;return wf.set(A,Sf(wf.get(A)||null,s,c,h,g,S)),!0;case"gotpointercapture":return A=S.pointerId,_f.set(A,Sf(_f.get(A)||null,s,c,h,g,S)),!0}return!1}function DM(s){var c=Yl(s.target);if(c!==null){var h=a(c);if(h!==null){if(c=h.tag,c===13){if(c=o(h),c!==null){s.blockedOn=c,YO(s.priority,function(){PM(h)});return}}else if(c===31){if(c=l(h),c!==null){s.blockedOn=c,YO(s.priority,function(){PM(h)});return}}else if(c===3&&h.stateNode.current.memoizedState.isDehydrated){s.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}s.blockedOn=null}function eg(s){if(s.blockedOn!==null)return!1;for(var c=s.targetContainers;0<c.length;){var h=lw(s.nativeEvent);if(h===null){h=s.nativeEvent;var g=new h.constructor(h.type,h);cb=g,h.target.dispatchEvent(g),cb=null}else return c=Xl(h),c!==null&&RM(c),s.blockedOn=h,!1;c.shift()}return!0}function IM(s,c,h){eg(s)&&h.delete(c)}function nQ(){uw=!1,Fs!==null&&eg(Fs)&&(Fs=null),Vs!==null&&eg(Vs)&&(Vs=null),Hs!==null&&eg(Hs)&&(Hs=null),wf.forEach(IM),_f.forEach(IM)}function tg(s,c){s.blockedOn===c&&(s.blockedOn=null,uw||(uw=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,nQ)))}var ng=null;function $M(s){ng!==s&&(ng=s,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){ng===s&&(ng=null);for(var c=0;c<s.length;c+=3){var h=s[c],g=s[c+1],S=s[c+2];if(typeof g!="function"){if(cw(g||h)===null)continue;break}var A=Xl(h);A!==null&&(s.splice(c,3),c-=3,lx(A,{pending:!0,data:S,method:h.method,action:g},g,S))}}))}function Rc(s){function c(W){return tg(W,s)}Fs!==null&&tg(Fs,s),Vs!==null&&tg(Vs,s),Hs!==null&&tg(Hs,s),wf.forEach(c),_f.forEach(c);for(var h=0;h<Gs.length;h++){var g=Gs[h];g.blockedOn===s&&(g.blockedOn=null)}for(;0<Gs.length&&(h=Gs[0],h.blockedOn===null);)DM(h),h.blockedOn===null&&Gs.shift();if(h=(s.ownerDocument||s).$$reactFormReplay,h!=null)for(g=0;g<h.length;g+=3){var S=h[g],A=h[g+1],P=S[Lr]||null;if(typeof A=="function")P||$M(h);else if(P){var L=null;if(A&&A.hasAttribute("formAction")){if(S=A,P=A[Lr]||null)L=P.formAction;else if(cw(S)!==null)continue}else L=P.action;typeof L=="function"?h[g+1]=L:(h.splice(g,3),g-=3),$M(h)}}}function LM(){function s(A){A.canIntercept&&A.info==="react-transition"&&A.intercept({handler:function(){return new Promise(function(P){return S=P})},focusReset:"manual",scroll:"manual"})}function c(){S!==null&&(S(),S=null),g||setTimeout(h,20)}function h(){if(!g&&!navigation.transition){var A=navigation.currentEntry;A&&A.url!=null&&navigation.navigate(A.url,{state:A.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var g=!1,S=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",c),navigation.addEventListener("navigateerror",c),setTimeout(h,100),function(){g=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",c),navigation.removeEventListener("navigateerror",c),S!==null&&(S(),S=null)}}}function dw(s){this._internalRoot=s}rg.prototype.render=dw.prototype.render=function(s){var c=this._internalRoot;if(c===null)throw Error(r(409));var h=c.current,g=ni();OM(h,g,s,c,null,null)},rg.prototype.unmount=dw.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var c=s.containerInfo;OM(s.current,2,null,s,null,null),$p(),c[Wl]=null}};function rg(s){this._internalRoot=s}rg.prototype.unstable_scheduleHydration=function(s){if(s){var c=WO();s={blockedOn:null,target:s,priority:c};for(var h=0;h<Gs.length&&c!==0&&c<Gs[h].priority;h++);Gs.splice(h,0,s),h===0&&DM(s)}};var BM=t.version;if(BM!=="19.2.0")throw Error(r(527,BM,"19.2.0"));G.findDOMNode=function(s){var c=s._reactInternals;if(c===void 0)throw typeof s.render=="function"?Error(r(188)):(s=Object.keys(s).join(","),Error(r(268,s)));return s=f(c),s=s!==null?m(s):null,s=s===null?null:s.stateNode,s};var rQ={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:D,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ig=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ig.isDisabled&&ig.supportsFiber)try{ie=ig.inject(rQ),Y=ig}catch{}}return Ef.createRoot=function(s,c){if(!i(s))throw Error(r(299));var h=!1,g="",S=GR,A=KR,P=WR;return c!=null&&(c.unstable_strictMode===!0&&(h=!0),c.identifierPrefix!==void 0&&(g=c.identifierPrefix),c.onUncaughtError!==void 0&&(S=c.onUncaughtError),c.onCaughtError!==void 0&&(A=c.onCaughtError),c.onRecoverableError!==void 0&&(P=c.onRecoverableError)),c=AM(s,1,!1,null,null,h,g,null,S,A,P,LM),s[Wl]=c.current,Gx(s),new dw(c)},Ef.hydrateRoot=function(s,c,h){if(!i(s))throw Error(r(299));var g=!1,S="",A=GR,P=KR,L=WR,W=null;return h!=null&&(h.unstable_strictMode===!0&&(g=!0),h.identifierPrefix!==void 0&&(S=h.identifierPrefix),h.onUncaughtError!==void 0&&(A=h.onUncaughtError),h.onCaughtError!==void 0&&(P=h.onCaughtError),h.onRecoverableError!==void 0&&(L=h.onRecoverableError),h.formState!==void 0&&(W=h.formState)),c=AM(s,1,!0,c,h??null,g,S,W,A,P,L,LM),c.context=TM(null),h=c.current,g=ni(),g=tb(g),S=Rs(g),S.callback=null,Ps(h,S,g),h=g,c.current.lanes=h,Ln(c,h),ma(c),s[Wl]=c.current,Gx(s),new rg(c)},Ef.version="19.2.0",Ef}var YM;function hQ(){if(YM)return hw.exports;YM=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),hw.exports=fQ(),hw.exports}var mQ=hQ(),_=ky();const q=nn(_),Cr=aQ({__proto__:null,default:q},[_]);function pQ(e,t){if(e instanceof RegExp)return{keys:!1,pattern:e};var n,r,i,a,o=[],l="",d=e.split("/");for(d[0]||d.shift();i=d.shift();)n=i[0],n==="*"?(o.push(n),l+=i[1]==="?"?"(?:/(.*))?":"/(.*)"):n===":"?(r=i.indexOf("?",1),a=i.indexOf(".",1),o.push(i.substring(1,~r?r:~a?a:i.length)),l+=~r&&!~a?"(?:/([^/]+?))?":"/([^/]+?)",~a&&(l+=(~r?"?":"")+"\\"+i.substring(a))):l+="/"+i;return{keys:o,pattern:new RegExp("^"+l+(t?"(?=$|/)":"/?$"),"i")}}var yw={exports:{}},bw={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XM;function gQ(){if(XM)return bw;XM=1;var e=ky();function t(p,v){return p===v&&(p!==0||1/p===1/v)||p!==p&&v!==v}var n=typeof Object.is=="function"?Object.is:t,r=e.useState,i=e.useEffect,a=e.useLayoutEffect,o=e.useDebugValue;function l(p,v){var b=v(),x=r({inst:{value:b,getSnapshot:v}}),y=x[0].inst,w=x[1];return a(function(){y.value=b,y.getSnapshot=v,d(y)&&w({inst:y})},[p,b,v]),i(function(){return d(y)&&w({inst:y}),p(function(){d(y)&&w({inst:y})})},[p]),o(b),b}function d(p){var v=p.getSnapshot;p=p.value;try{var b=v();return!n(p,b)}catch{return!0}}function f(p,v){return v()}var m=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:l;return bw.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:m,bw}var QM;function vQ(){return QM||(QM=1,yw.exports=gQ()),yw.exports}var D6=vQ();const yQ=Cr.useInsertionEffect,bQ=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",I6=bQ?_.useLayoutEffect:_.useEffect,xQ=yQ||I6,hA=e=>{const t=_.useRef([e,(...n)=>t[0](...n)]).current;return xQ(()=>{t[0]=e}),t[1]},wQ="popstate",mA="pushState",pA="replaceState",_Q="hashchange",JM=[wQ,mA,pA,_Q],SQ=e=>{for(const t of JM)addEventListener(t,e);return()=>{for(const t of JM)removeEventListener(t,e)}},$6=(e,t)=>D6.useSyncExternalStore(SQ,e,t),jQ=()=>location.search,EQ=({ssrSearch:e=""}={})=>$6(jQ,()=>e),ZM=()=>location.pathname,NQ=({ssrPath:e}={})=>$6(ZM,e?()=>e:ZM),AQ=(e,{replace:t=!1,state:n=null}={})=>history[t?pA:mA](n,"",e),TQ=(e={})=>[NQ(e),AQ],ek=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[ek]>"u"){for(const e of[mA,pA]){const t=history[e];history[e]=function(){const n=t.apply(this,arguments),r=new Event(e);return r.arguments=arguments,dispatchEvent(r),n}}Object.defineProperty(window,ek,{value:!0})}const OQ=(e,t)=>t.toLowerCase().indexOf(e.toLowerCase())?"~"+t:t.slice(e.length)||"/",L6=(e="")=>e==="/"?"":e,CQ=(e,t)=>e[0]==="~"?e.slice(1):L6(t)+e,RQ=(e="",t)=>OQ(tk(L6(e)),tk(t)),tk=e=>{try{return decodeURI(e)}catch{return e}},B6={hook:TQ,searchHook:EQ,parser:pQ,base:"",ssrPath:void 0,ssrSearch:void 0,hrefs:e=>e},q6=_.createContext(B6),_m=()=>_.useContext(q6),z6={},U6=_.createContext(z6),PQ=()=>_.useContext(U6),Dy=e=>{const[t,n]=e.hook(e);return[RQ(e.base,t),hA((r,i)=>n(CQ(r,e.base),i))]},ad=()=>Dy(_m()),F6=(e,t,n,r)=>{const{pattern:i,keys:a}=t instanceof RegExp?{keys:!1,pattern:t}:e(t||"*",r),o=i.exec(n)||[],[l,...d]=o;return l!==void 0?[!0,(()=>{const f=a!==!1?Object.fromEntries(a.map((p,v)=>[p,d[v]])):o.groups;let m={...d};return f&&Object.assign(m,f),m})(),...r?[l]:[]]:[!1,null]},V6=({children:e,...t})=>{const n=_m(),r=t.hook?B6:n;let i=r;const[a,o]=t.ssrPath?.split("?")??[];o&&(t.ssrSearch=o,t.ssrPath=a),t.hrefs=t.hrefs??t.hook?.hrefs;let l=_.useRef({}),d=l.current,f=d;for(let m in r){const p=m==="base"?r[m]+(t[m]||""):t[m]||r[m];d===f&&p!==f[m]&&(l.current=f={...f}),f[m]=p,p!==r[m]&&(i=f)}return _.createElement(q6.Provider,{value:i,children:e})},nk=({children:e,component:t},n)=>t?_.createElement(t,{params:n}):typeof e=="function"?e(n):e,MQ=e=>{let t=_.useRef(z6),n=t.current;for(const r in e)e[r]!==n[r]&&(n=e);return Object.keys(e).length===0&&(n=e),t.current=n},or=({path:e,nest:t,match:n,...r})=>{const i=_m(),[a]=Dy(i),[o,l,d]=n??F6(i.parser,e,a,t),f=MQ({...PQ(),...l});if(!o)return null;const m=d?_.createElement(V6,{base:d},nk(r,f)):nk(r,f);return _.createElement(U6.Provider,{value:f,children:m})},lv=_.forwardRef((e,t)=>{const n=_m(),[r,i]=Dy(n),{to:a="",href:o=a,onClick:l,asChild:d,children:f,className:m,replace:p,state:v,...b}=e,x=hA(w=>{w.ctrlKey||w.metaKey||w.altKey||w.shiftKey||w.button!==0||(l?.(w),w.defaultPrevented||(w.preventDefault(),i(o,e)))}),y=n.hrefs(o[0]==="~"?o.slice(1):n.base+o,n);return d&&_.isValidElement(f)?_.cloneElement(f,{onClick:x,href:y}):_.createElement("a",{...b,onClick:x,href:y,className:m?.call?m(r===o):m,children:f,ref:t})}),H6=e=>Array.isArray(e)?e.flatMap(t=>H6(t&&t.type===_.Fragment?t.props.children:t)):[e],rk=({children:e,location:t})=>{const n=_m(),[r]=Dy(n);for(const i of H6(e)){let a=0;if(_.isValidElement(i)&&(a=F6(n.parser,i.props.path,t||r,i.props.nest))[0])return _.cloneElement(i,{match:a})}return null},Iy=e=>{const{to:t,href:n=t}=e,[,r]=ad(),i=hA(()=>r(t||n,e));return I6(()=>{i()},[]),null};var sd=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Al=typeof window>"u"||"Deno"in globalThis;function Pi(){}function kQ(e,t){return typeof e=="function"?e(t):e}function jj(e){return typeof e=="number"&&e>=0&&e!==1/0}function G6(e,t){return Math.max(e+(t||0)-Date.now(),0)}function fu(e,t){return typeof e=="function"?e(t):e}function Zi(e,t){return typeof e=="function"?e(t):e}function ik(e,t){const{type:n="all",exact:r,fetchStatus:i,predicate:a,queryKey:o,stale:l}=e;if(o){if(r){if(t.queryHash!==gA(o,t.options))return!1}else if(!xh(t.queryKey,o))return!1}if(n!=="all"){const d=t.isActive();if(n==="active"&&!d||n==="inactive"&&d)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||i&&i!==t.state.fetchStatus||a&&!a(t))}function ak(e,t){const{exact:n,status:r,predicate:i,mutationKey:a}=e;if(a){if(!t.options.mutationKey)return!1;if(n){if(Tl(t.options.mutationKey)!==Tl(a))return!1}else if(!xh(t.options.mutationKey,a))return!1}return!(r&&t.state.status!==r||i&&!i(t))}function gA(e,t){return(t?.queryKeyHashFn||Tl)(e)}function Tl(e){return JSON.stringify(e,(t,n)=>Ej(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function xh(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(n=>!xh(e[n],t[n])):!1}function K6(e,t){if(e===t)return e;const n=sk(e)&&sk(t);if(n||Ej(e)&&Ej(t)){const r=n?e:Object.keys(e),i=r.length,a=n?t:Object.keys(t),o=a.length,l=n?[]:{};let d=0;for(let f=0;f<o;f++){const m=n?f:a[f];(!n&&r.includes(m)||n)&&e[m]===void 0&&t[m]===void 0?(l[m]=void 0,d++):(l[m]=K6(e[m],t[m]),l[m]===e[m]&&e[m]!==void 0&&d++)}return i===o&&d===i?e:l}return t}function cv(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function sk(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Ej(e){if(!ok(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!ok(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function ok(e){return Object.prototype.toString.call(e)==="[object Object]"}function DQ(e){return new Promise(t=>{setTimeout(t,e)})}function Nj(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?K6(e,t):t}function IQ(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function $Q(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var vA=Symbol();function W6(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:!e.queryFn||e.queryFn===vA?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var LQ=class extends sd{#e;#t;#r;constructor(){super(),this.#r=e=>{if(!Al&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#t||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#r=e,this.#t?.(),this.#t=e(t=>{typeof t=="boolean"?this.setFocused(t):this.onFocus()})}setFocused(e){this.#e!==e&&(this.#e=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},yA=new LQ,BQ=class extends sd{#e=!0;#t;#r;constructor(){super(),this.#r=e=>{if(!Al&&window.addEventListener){const t=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#t||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#r=e,this.#t?.(),this.#t=e(this.setOnline.bind(this))}setOnline(e){this.#e!==e&&(this.#e=e,this.listeners.forEach(n=>{n(e)}))}isOnline(){return this.#e}},uv=new BQ;function Aj(){let e,t;const n=new Promise((i,a)=>{e=i,t=a});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),e(i)},n.reject=i=>{r({status:"rejected",reason:i}),t(i)},n}function qQ(e){return Math.min(1e3*2**e,3e4)}function Y6(e){return(e??"online")==="online"?uv.isOnline():!0}var X6=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function xw(e){return e instanceof X6}function Q6(e){let t=!1,n=0,r=!1,i;const a=Aj(),o=y=>{r||(v(new X6(y)),e.abort?.())},l=()=>{t=!0},d=()=>{t=!1},f=()=>yA.isFocused()&&(e.networkMode==="always"||uv.isOnline())&&e.canRun(),m=()=>Y6(e.networkMode)&&e.canRun(),p=y=>{r||(r=!0,e.onSuccess?.(y),i?.(),a.resolve(y))},v=y=>{r||(r=!0,e.onError?.(y),i?.(),a.reject(y))},b=()=>new Promise(y=>{i=w=>{(r||f())&&y(w)},e.onPause?.()}).then(()=>{i=void 0,r||e.onContinue?.()}),x=()=>{if(r)return;let y;const w=n===0?e.initialPromise:void 0;try{y=w??e.fn()}catch(E){y=Promise.reject(E)}Promise.resolve(y).then(p).catch(E=>{if(r)return;const N=e.retry??(Al?0:3),j=e.retryDelay??qQ,O=typeof j=="function"?j(n,E):j,T=N===!0||typeof N=="number"&&n<N||typeof N=="function"&&N(n,E);if(t||!T){v(E);return}n++,e.onFail?.(n,E),DQ(O).then(()=>f()?void 0:b()).then(()=>{t?v(E):x()})})};return{promise:a,cancel:o,continue:()=>(i?.(),a),cancelRetry:l,continueRetry:d,canStart:m,start:()=>(m()?x():b().then(x),a)}}function zQ(){let e=[],t=0,n=l=>{l()},r=l=>{l()},i=l=>setTimeout(l,0);const a=l=>{t?e.push(l):i(()=>{n(l)})},o=()=>{const l=e;e=[],l.length&&i(()=>{r(()=>{l.forEach(d=>{n(d)})})})};return{batch:l=>{let d;t++;try{d=l()}finally{t--,t||o()}return d},batchCalls:l=>(...d)=>{a(()=>{l(...d)})},schedule:a,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{r=l},setScheduler:l=>{i=l}}}var er=zQ(),J6=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),jj(this.gcTime)&&(this.#e=setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Al?1/0:300*1e3))}clearGcTimeout(){this.#e&&(clearTimeout(this.#e),this.#e=void 0)}},UQ=class extends J6{#e;#t;#r;#n;#s;#a;constructor(e){super(),this.#a=!1,this.#s=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#r=e.cache,this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#e=FQ(this.options),this.state=e.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#n?.promise}setOptions(e){this.options={...this.#s,...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#r.remove(this)}setData(e,t){const n=Nj(this.state.data,e,this.options);return this.#i({data:n,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),n}setState(e,t){this.#i({type:"setState",state:e,setStateOptions:t})}cancel(e){const t=this.#n?.promise;return this.#n?.cancel(e),t?t.then(Pi).catch(Pi):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(e=>Zi(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===vA||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!G6(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(t=>t.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#n?.continue()}onOnline(){this.observers.find(t=>t.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#n?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#r.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.#n&&(this.#a?this.#n.cancel({revert:!0}):this.#n.cancelRetry()),this.scheduleGc()),this.#r.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#i({type:"invalidate"})}fetch(e,t){if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#n)return this.#n.continueRetry(),this.#n.promise}if(e&&this.setOptions(e),!this.options.queryFn){const l=this.observers.find(d=>d.options.queryFn);l&&this.setOptions(l.options)}const n=new AbortController,r=l=>{Object.defineProperty(l,"signal",{enumerable:!0,get:()=>(this.#a=!0,n.signal)})},i=()=>{const l=W6(this.options,t),d={queryKey:this.queryKey,meta:this.meta};return r(d),this.#a=!1,this.options.persister?this.options.persister(l,d,this):l(d)},a={fetchOptions:t,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:i};r(a),this.options.behavior?.onFetch(a,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==a.fetchOptions?.meta)&&this.#i({type:"fetch",meta:a.fetchOptions?.meta});const o=l=>{xw(l)&&l.silent||this.#i({type:"error",error:l}),xw(l)||(this.#r.config.onError?.(l,this),this.#r.config.onSettled?.(this.state.data,l,this)),this.scheduleGc()};return this.#n=Q6({initialPromise:t?.initialPromise,fn:a.fetchFn,abort:n.abort.bind(n),onSuccess:l=>{if(l===void 0){o(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(l)}catch(d){o(d);return}this.#r.config.onSuccess?.(l,this),this.#r.config.onSettled?.(l,this.state.error,this),this.scheduleGc()},onError:o,onFail:(l,d)=>{this.#i({type:"failed",failureCount:l,error:d})},onPause:()=>{this.#i({type:"pause"})},onContinue:()=>{this.#i({type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0}),this.#n.start()}#i(e){const t=n=>{switch(e.type){case"failed":return{...n,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...Z6(n.data,this.options),fetchMeta:e.meta??null};case"success":return{...n,data:e.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const r=e.error;return xw(r)&&r.revert&&this.#t?{...this.#t,fetchStatus:"idle"}:{...n,error:r,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:r,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...e.state}}};this.state=t(this.state),er.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),this.#r.notify({query:this,type:"updated",action:e})})}};function Z6(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Y6(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function FQ(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var VQ=class extends sd{constructor(e={}){super(),this.config=e,this.#e=new Map}#e;build(e,t,n){const r=t.queryKey,i=t.queryHash??gA(r,t);let a=this.get(i);return a||(a=new UQ({cache:this,queryKey:r,queryHash:i,options:e.defaultQueryOptions(t),state:n,defaultOptions:e.getQueryDefaults(r)}),this.add(a)),a}add(e){this.#e.has(e.queryHash)||(this.#e.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=this.#e.get(e.queryHash);t&&(e.destroy(),t===e&&this.#e.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){er.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#e.get(e)}getAll(){return[...this.#e.values()]}find(e){const t={exact:!0,...e};return this.getAll().find(n=>ik(t,n))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(n=>ik(e,n)):t}notify(e){er.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){er.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){er.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},HQ=class extends J6{#e;#t;#r;constructor(e){super(),this.mutationId=e.mutationId,this.#t=e.mutationCache,this.#e=[],this.state=e.state||ez(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#e.includes(e)||(this.#e.push(e),this.clearGcTimeout(),this.#t.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#e=this.#e.filter(t=>t!==e),this.scheduleGc(),this.#t.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#e.length||(this.state.status==="pending"?this.scheduleGc():this.#t.remove(this))}continue(){return this.#r?.continue()??this.execute(this.state.variables)}async execute(e){this.#r=Q6({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(r,i)=>{this.#n({type:"failed",failureCount:r,error:i})},onPause:()=>{this.#n({type:"pause"})},onContinue:()=>{this.#n({type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#t.canRun(this)});const t=this.state.status==="pending",n=!this.#r.canStart();try{if(!t){this.#n({type:"pending",variables:e,isPaused:n}),await this.#t.config.onMutate?.(e,this);const i=await this.options.onMutate?.(e);i!==this.state.context&&this.#n({type:"pending",context:i,variables:e,isPaused:n})}const r=await this.#r.start();return await this.#t.config.onSuccess?.(r,e,this.state.context,this),await this.options.onSuccess?.(r,e,this.state.context),await this.#t.config.onSettled?.(r,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(r,null,e,this.state.context),this.#n({type:"success",data:r}),r}catch(r){try{throw await this.#t.config.onError?.(r,e,this.state.context,this),await this.options.onError?.(r,e,this.state.context),await this.#t.config.onSettled?.(void 0,r,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,r,e,this.state.context),r}finally{this.#n({type:"error",error:r})}}finally{this.#t.runNext(this)}}#n(e){const t=n=>{switch(e.type){case"failed":return{...n,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...n,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:e.error,failureCount:n.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),er.batch(()=>{this.#e.forEach(n=>{n.onMutationUpdate(e)}),this.#t.notify({mutation:this,type:"updated",action:e})})}};function ez(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var GQ=class extends sd{constructor(e={}){super(),this.config=e,this.#e=new Map,this.#t=Date.now()}#e;#t;build(e,t,n){const r=new HQ({mutationCache:this,mutationId:++this.#t,options:e.defaultMutationOptions(t),state:n});return this.add(r),r}add(e){const t=sg(e),n=this.#e.get(t)??[];n.push(e),this.#e.set(t,n),this.notify({type:"added",mutation:e})}remove(e){const t=sg(e);if(this.#e.has(t)){const n=this.#e.get(t)?.filter(r=>r!==e);n&&(n.length===0?this.#e.delete(t):this.#e.set(t,n))}this.notify({type:"removed",mutation:e})}canRun(e){const t=this.#e.get(sg(e))?.find(n=>n.state.status==="pending");return!t||t===e}runNext(e){return this.#e.get(sg(e))?.find(n=>n!==e&&n.state.isPaused)?.continue()??Promise.resolve()}clear(){er.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...this.#e.values()].flat()}find(e){const t={exact:!0,...e};return this.getAll().find(n=>ak(t,n))}findAll(e={}){return this.getAll().filter(t=>ak(e,t))}notify(e){er.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return er.batch(()=>Promise.all(e.map(t=>t.continue().catch(Pi))))}};function sg(e){return e.options.scope?.id??String(e.mutationId)}function dv(e){return{onFetch:(t,n)=>{const r=t.options,i=t.fetchOptions?.meta?.fetchMore?.direction,a=t.state.data?.pages||[],o=t.state.data?.pageParams||[];let l={pages:[],pageParams:[]},d=0;const f=async()=>{let m=!1;const p=x=>{Object.defineProperty(x,"signal",{enumerable:!0,get:()=>(t.signal.aborted?m=!0:t.signal.addEventListener("abort",()=>{m=!0}),t.signal)})},v=W6(t.options,t.fetchOptions),b=async(x,y,w)=>{if(m)return Promise.reject();if(y==null&&x.pages.length)return Promise.resolve(x);const E={queryKey:t.queryKey,pageParam:y,direction:w?"backward":"forward",meta:t.options.meta};p(E);const N=await v(E),{maxPages:j}=t.options,O=w?$Q:IQ;return{pages:O(x.pages,N,j),pageParams:O(x.pageParams,y,j)}};if(i&&a.length){const x=i==="backward",y=x?tz:Tj,w={pages:a,pageParams:o},E=y(r,w);l=await b(w,E,x)}else{const x=e??a.length;do{const y=d===0?o[0]??r.initialPageParam:Tj(r,l);if(d>0&&y==null)break;l=await b(l,y),d++}while(d<x)}return l};t.options.persister?t.fetchFn=()=>t.options.persister?.(f,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n):t.fetchFn=f}}}function Tj(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function tz(e,{pages:t,pageParams:n}){return t.length>0?e.getPreviousPageParam?.(t[0],t,n[0],n):void 0}function KQ(e,t){return t?Tj(e,t)!=null:!1}function WQ(e,t){return!t||!e.getPreviousPageParam?!1:tz(e,t)!=null}var YQ=class{#e;#t;#r;#n;#s;#a;#i;#o;constructor(e={}){this.#e=e.queryCache||new VQ,this.#t=e.mutationCache||new GQ,this.#r=e.defaultOptions||{},this.#n=new Map,this.#s=new Map,this.#a=0}mount(){this.#a++,this.#a===1&&(this.#i=yA.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#o=uv.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#a--,this.#a===0&&(this.#i?.(),this.#i=void 0,this.#o?.(),this.#o=void 0)}isFetching(e){return this.#e.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#t.findAll({...e,status:"pending"}).length}getQueryData(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const n=this.defaultQueryOptions(e),r=this.#e.build(this,n);return e.revalidateIfStale&&r.isStaleByTime(fu(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(t)}}getQueriesData(e){return this.#e.findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),a=this.#e.get(r.queryHash)?.state.data,o=kQ(t,a);if(o!==void 0)return this.#e.build(this,r).setData(o,{...n,manual:!0})}setQueriesData(e,t,n){return er.batch(()=>this.#e.findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state}removeQueries(e){const t=this.#e;er.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=this.#e,r={type:"active",...e};return er.batch(()=>(n.findAll(e).forEach(i=>{i.reset()}),this.refetchQueries(r,t)))}cancelQueries(e={},t={}){const n={revert:!0,...t},r=er.batch(()=>this.#e.findAll(e).map(i=>i.cancel(n)));return Promise.all(r).then(Pi).catch(Pi)}invalidateQueries(e={},t={}){return er.batch(()=>{if(this.#e.findAll(e).forEach(r=>{r.invalidate()}),e.refetchType==="none")return Promise.resolve();const n={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(n,t)})}refetchQueries(e={},t){const n={...t,cancelRefetch:t?.cancelRefetch??!0},r=er.batch(()=>this.#e.findAll(e).filter(i=>!i.isDisabled()).map(i=>{let a=i.fetch(void 0,n);return n.throwOnError||(a=a.catch(Pi)),i.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(r).then(Pi)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=this.#e.build(this,t);return n.isStaleByTime(fu(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Pi).catch(Pi)}fetchInfiniteQuery(e){return e.behavior=dv(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Pi).catch(Pi)}ensureInfiniteQueryData(e){return e.behavior=dv(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return uv.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#r}setDefaultOptions(e){this.#r=e}setQueryDefaults(e,t){this.#n.set(Tl(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...this.#n.values()];let n={};return t.forEach(r=>{xh(e,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(e,t){this.#s.set(Tl(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...this.#s.values()];let n={};return t.forEach(r=>{xh(e,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...this.#r.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=gA(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===vA&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#r.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},nz=class extends sd{constructor(e,t){super(),this.options=t,this.#e=e,this.#o=null,this.#i=Aj(),this.options.experimental_prefetchInRender||this.#i.reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(t)}#e;#t=void 0;#r=void 0;#n=void 0;#s;#a;#i;#o;#p;#f;#h;#c;#u;#l;#m=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),lk(this.#t,this.options)?this.#d():this.updateResult(),this.#b())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Oj(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Oj(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#x(),this.#w(),this.#t.removeObserver(this)}setOptions(e,t){const n=this.options,r=this.#t;if(this.options=this.#e.defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Zi(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#_(),this.#t.setOptions(this.options),n._defaulted&&!cv(this.options,n)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const i=this.hasListeners();i&&ck(this.#t,r,this.options,n)&&this.#d(),this.updateResult(t),i&&(this.#t!==r||Zi(this.options.enabled,this.#t)!==Zi(n.enabled,this.#t)||fu(this.options.staleTime,this.#t)!==fu(n.staleTime,this.#t))&&this.#g();const a=this.#v();i&&(this.#t!==r||Zi(this.options.enabled,this.#t)!==Zi(n.enabled,this.#t)||a!==this.#l)&&this.#y(a)}getOptimisticResult(e){const t=this.#e.getQueryCache().build(this.#e,e),n=this.createResult(t,e);return QQ(this,n)&&(this.#n=n,this.#a=this.options,this.#s=this.#t.state),n}getCurrentResult(){return this.#n}trackResult(e,t){const n={};return Object.keys(e).forEach(r=>{Object.defineProperty(n,r,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(r),t?.(r),e[r])})}),n}trackProp(e){this.#m.add(e)}getCurrentQuery(){return this.#t}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=this.#e.defaultQueryOptions(e),n=this.#e.getQueryCache().build(this.#e,t);return n.fetch().then(()=>this.createResult(n,t))}fetch(e){return this.#d({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#n))}#d(e){this.#_();let t=this.#t.fetch(this.options,e);return e?.throwOnError||(t=t.catch(Pi)),t}#g(){this.#x();const e=fu(this.options.staleTime,this.#t);if(Al||this.#n.isStale||!jj(e))return;const n=G6(this.#n.dataUpdatedAt,e)+1;this.#c=setTimeout(()=>{this.#n.isStale||this.updateResult()},n)}#v(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#y(e){this.#w(),this.#l=e,!(Al||Zi(this.options.enabled,this.#t)===!1||!jj(this.#l)||this.#l===0)&&(this.#u=setInterval(()=>{(this.options.refetchIntervalInBackground||yA.isFocused())&&this.#d()},this.#l))}#b(){this.#g(),this.#y(this.#v())}#x(){this.#c&&(clearTimeout(this.#c),this.#c=void 0)}#w(){this.#u&&(clearInterval(this.#u),this.#u=void 0)}createResult(e,t){const n=this.#t,r=this.options,i=this.#n,a=this.#s,o=this.#a,d=e!==n?e.state:this.#r,{state:f}=e;let m={...f},p=!1,v;if(t._optimisticResults){const R=this.hasListeners(),M=!R&&lk(e,t),k=R&&ck(e,n,t,r);(M||k)&&(m={...m,...Z6(f.data,e.options)}),t._optimisticResults==="isRestoring"&&(m.fetchStatus="idle")}let{error:b,errorUpdatedAt:x,status:y}=m;if(t.select&&m.data!==void 0)if(i&&m.data===a?.data&&t.select===this.#p)v=this.#f;else try{this.#p=t.select,v=t.select(m.data),v=Nj(i?.data,v,t),this.#f=v,this.#o=null}catch(R){this.#o=R}else v=m.data;if(t.placeholderData!==void 0&&v===void 0&&y==="pending"){let R;if(i?.isPlaceholderData&&t.placeholderData===o?.placeholderData)R=i.data;else if(R=typeof t.placeholderData=="function"?t.placeholderData(this.#h?.state.data,this.#h):t.placeholderData,t.select&&R!==void 0)try{R=t.select(R),this.#o=null}catch(M){this.#o=M}R!==void 0&&(y="success",v=Nj(i?.data,R,t),p=!0)}this.#o&&(b=this.#o,v=this.#f,x=Date.now(),y="error");const w=m.fetchStatus==="fetching",E=y==="pending",N=y==="error",j=E&&w,O=v!==void 0,C={status:y,fetchStatus:m.fetchStatus,isPending:E,isSuccess:y==="success",isError:N,isInitialLoading:j,isLoading:j,data:v,dataUpdatedAt:m.dataUpdatedAt,error:b,errorUpdatedAt:x,failureCount:m.fetchFailureCount,failureReason:m.fetchFailureReason,errorUpdateCount:m.errorUpdateCount,isFetched:m.dataUpdateCount>0||m.errorUpdateCount>0,isFetchedAfterMount:m.dataUpdateCount>d.dataUpdateCount||m.errorUpdateCount>d.errorUpdateCount,isFetching:w,isRefetching:w&&!E,isLoadingError:N&&!O,isPaused:m.fetchStatus==="paused",isPlaceholderData:p,isRefetchError:N&&O,isStale:bA(e,t),refetch:this.refetch,promise:this.#i};if(this.options.experimental_prefetchInRender){const R=I=>{C.status==="error"?I.reject(C.error):C.data!==void 0&&I.resolve(C.data)},M=()=>{const I=this.#i=C.promise=Aj();R(I)},k=this.#i;switch(k.status){case"pending":e.queryHash===n.queryHash&&R(k);break;case"fulfilled":(C.status==="error"||C.data!==k.value)&&M();break;case"rejected":(C.status!=="error"||C.error!==k.reason)&&M();break}}return C}updateResult(e){const t=this.#n,n=this.createResult(this.#t,this.options);if(this.#s=this.#t.state,this.#a=this.options,this.#s.data!==void 0&&(this.#h=this.#t),cv(n,t))return;this.#n=n;const r={},i=()=>{if(!t)return!0;const{notifyOnChangeProps:a}=this.options,o=typeof a=="function"?a():a;if(o==="all"||!o&&!this.#m.size)return!0;const l=new Set(o??this.#m);return this.options.throwOnError&&l.add("error"),Object.keys(this.#n).some(d=>{const f=d;return this.#n[f]!==t[f]&&l.has(f)})};e?.listeners!==!1&&i()&&(r.listeners=!0),this.#S({...r,...e})}#_(){const e=this.#e.getQueryCache().build(this.#e,this.options);if(e===this.#t)return;const t=this.#t;this.#t=e,this.#r=e.state,this.hasListeners()&&(t?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#b()}#S(e){er.batch(()=>{e.listeners&&this.listeners.forEach(t=>{t(this.#n)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function XQ(e,t){return Zi(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function lk(e,t){return XQ(e,t)||e.state.data!==void 0&&Oj(e,t,t.refetchOnMount)}function Oj(e,t,n){if(Zi(t.enabled,e)!==!1){const r=typeof n=="function"?n(e):n;return r==="always"||r!==!1&&bA(e,t)}return!1}function ck(e,t,n,r){return(e!==t||Zi(r.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&bA(e,n)}function bA(e,t){return Zi(t.enabled,e)!==!1&&e.isStaleByTime(fu(t.staleTime,e))}function QQ(e,t){return!cv(e.getCurrentResult(),t)}var JQ=class extends nz{constructor(e,t){super(e,t)}bindMethods(){super.bindMethods(),this.fetchNextPage=this.fetchNextPage.bind(this),this.fetchPreviousPage=this.fetchPreviousPage.bind(this)}setOptions(e,t){super.setOptions({...e,behavior:dv()},t)}getOptimisticResult(e){return e.behavior=dv(),super.getOptimisticResult(e)}fetchNextPage(e){return this.fetch({...e,meta:{fetchMore:{direction:"forward"}}})}fetchPreviousPage(e){return this.fetch({...e,meta:{fetchMore:{direction:"backward"}}})}createResult(e,t){const{state:n}=e,r=super.createResult(e,t),{isFetching:i,isRefetching:a,isError:o,isRefetchError:l}=r,d=n.fetchMeta?.fetchMore?.direction,f=o&&d==="forward",m=i&&d==="forward",p=o&&d==="backward",v=i&&d==="backward";return{...r,fetchNextPage:this.fetchNextPage,fetchPreviousPage:this.fetchPreviousPage,hasNextPage:KQ(t,n.data),hasPreviousPage:WQ(t,n.data),isFetchNextPageError:f,isFetchingNextPage:m,isFetchPreviousPageError:p,isFetchingPreviousPage:v,isRefetchError:l&&!f&&!p,isRefetching:a&&!m&&!v}}},ZQ=class extends sd{#e;#t=void 0;#r;#n;constructor(t,n){super(),this.#e=t,this.setOptions(n),this.bindMethods(),this.#s()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){const n=this.options;this.options=this.#e.defaultMutationOptions(t),cv(this.options,n)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#r,observer:this}),n?.mutationKey&&this.options.mutationKey&&Tl(n.mutationKey)!==Tl(this.options.mutationKey)?this.reset():this.#r?.state.status==="pending"&&this.#r.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#r?.removeObserver(this)}onMutationUpdate(t){this.#s(),this.#a(t)}getCurrentResult(){return this.#t}reset(){this.#r?.removeObserver(this),this.#r=void 0,this.#s(),this.#a()}mutate(t,n){return this.#n=n,this.#r?.removeObserver(this),this.#r=this.#e.getMutationCache().build(this.#e,this.options),this.#r.addObserver(this),this.#r.execute(t)}#s(){const t=this.#r?.state??ez();this.#t={...t,isPending:t.status==="pending",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset}}#a(t){er.batch(()=>{if(this.#n&&this.hasListeners()){const n=this.#t.variables,r=this.#t.context;t?.type==="success"?(this.#n.onSuccess?.(t.data,n,r),this.#n.onSettled?.(t.data,null,n,r)):t?.type==="error"&&(this.#n.onError?.(t.error,n,r),this.#n.onSettled?.(void 0,t.error,n,r))}this.listeners.forEach(n=>{n(this.#t)})})}},rz=_.createContext(void 0),oa=e=>{const t=_.useContext(rz);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},eJ=({client:e,children:t})=>(_.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),u.jsx(rz.Provider,{value:e,children:t})),iz=_.createContext(!1),tJ=()=>_.useContext(iz);iz.Provider;function nJ(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var rJ=_.createContext(nJ()),iJ=()=>_.useContext(rJ);function az(e,t){return typeof e=="function"?e(...t):!!e}function Cj(){}var aJ=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},sJ=e=>{_.useEffect(()=>{e.clearReset()},[e])},oJ=({result:e,errorResetBoundary:t,throwOnError:n,query:r})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&az(n,[e.error,r]),lJ=e=>{e.suspense&&(e.staleTime===void 0&&(e.staleTime=1e3),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3)))},cJ=(e,t)=>e.isLoading&&e.isFetching&&!t,uJ=(e,t)=>e?.suspense&&t.isPending,uk=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function sz(e,t,n){const r=oa(),i=tJ(),a=iJ(),o=r.defaultQueryOptions(e);r.getDefaultOptions().queries?._experimental_beforeQuery?.(o),o._optimisticResults=i?"isRestoring":"optimistic",lJ(o),aJ(o,a),sJ(a);const l=!r.getQueryCache().get(o.queryHash),[d]=_.useState(()=>new t(r,o)),f=d.getOptimisticResult(o);if(_.useSyncExternalStore(_.useCallback(m=>{const p=i?Cj:d.subscribe(er.batchCalls(m));return d.updateResult(),p},[d,i]),()=>d.getCurrentResult(),()=>d.getCurrentResult()),_.useEffect(()=>{d.setOptions(o,{listeners:!1})},[o,d]),uJ(o,f))throw uk(o,d,a);if(oJ({result:f,errorResetBoundary:a,throwOnError:o.throwOnError,query:r.getQueryCache().get(o.queryHash)}))throw f.error;return r.getDefaultOptions().queries?._experimental_afterQuery?.(o,f),o.experimental_prefetchInRender&&!Al&&cJ(f,i)&&(l?uk(o,d,a):r.getQueryCache().get(o.queryHash)?.promise)?.catch(Cj).finally(()=>{d.updateResult()}),o.notifyOnChangeProps?f:d.trackResult(f)}function Pt(e,t){return sz(e,nz)}function Lt(e,t){const n=oa(),[r]=_.useState(()=>new ZQ(n,e));_.useEffect(()=>{r.setOptions(e)},[r,e]);const i=_.useSyncExternalStore(_.useCallback(o=>r.subscribe(er.batchCalls(o)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),a=_.useCallback((o,l)=>{r.mutate(o,l).catch(Cj)},[r]);if(i.error&&az(r.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:a,mutateAsync:i.mutate}}function oz(e,t){return sz(e,JQ)}async function dJ(e){if(!e.ok){const t=await e.text()||e.statusText;throw new Error(`${e.status}: ${t}`)}}const fJ=({on401:e})=>async({queryKey:t})=>{const n=await fetch(t.join("/"),{credentials:"include"});return await dJ(n),await n.json()},hJ=new YQ({defaultOptions:{queries:{queryFn:fJ({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),mJ=1,pJ=1e6;let ww=0;function gJ(){return ww=(ww+1)%Number.MAX_SAFE_INTEGER,ww.toString()}const _w=new Map,dk=e=>{if(_w.has(e))return;const t=setTimeout(()=>{_w.delete(e),th({type:"REMOVE_TOAST",toastId:e})},pJ);_w.set(e,t)},vJ=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,mJ)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?dk(n):e.toasts.forEach(r=>{dk(r.id)}),{...e,toasts:e.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},Kg=[];let Wg={toasts:[]};function th(e){Wg=vJ(Wg,e),Kg.forEach(t=>{t(Wg)})}function yJ({...e}){const t=gJ(),n=i=>th({type:"UPDATE_TOAST",toast:{...i,id:t}}),r=()=>th({type:"DISMISS_TOAST",toastId:t});return th({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:i=>{i||r()}}}),{id:t,dismiss:r,update:n}}function pi(){const[e,t]=_.useState(Wg);return _.useEffect(()=>(Kg.push(t),()=>{const n=Kg.indexOf(t);n>-1&&Kg.splice(n,1)}),[e]),{...e,toast:yJ,dismiss:n=>th({type:"DISMISS_TOAST",toastId:n})}}var zl=k6();const lz=nn(zl);function ci(e,t,{checkForDefaultPrevented:n=!0}={}){return function(i){if(e?.(i),n===!1||!i.defaultPrevented)return t?.(i)}}function fk(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function xo(...e){return t=>{let n=!1;const r=e.map(i=>{const a=fk(i,t);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let i=0;i<r.length;i++){const a=r[i];typeof a=="function"?a():fk(e[i],null)}}}}function jt(...e){return _.useCallback(xo(...e),e)}function bJ(e,t){const n=_.createContext(t),r=a=>{const{children:o,...l}=a,d=_.useMemo(()=>l,Object.values(l));return u.jsx(n.Provider,{value:d,children:o})};r.displayName=e+"Provider";function i(a){const o=_.useContext(n);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${a}\` must be used within \`${e}\``)}return[r,i]}function Rr(e,t=[]){let n=[];function r(a,o){const l=_.createContext(o),d=n.length;n=[...n,o];const f=p=>{const{scope:v,children:b,...x}=p,y=v?.[e]?.[d]||l,w=_.useMemo(()=>x,Object.values(x));return u.jsx(y.Provider,{value:w,children:b})};f.displayName=a+"Provider";function m(p,v){const b=v?.[e]?.[d]||l,x=_.useContext(b);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${p}\` must be used within \`${a}\``)}return[f,m]}const i=()=>{const a=n.map(o=>_.createContext(o));return function(l){const d=l?.[e]||a;return _.useMemo(()=>({[`__scope${e}`]:{...l,[e]:d}}),[l,d])}};return i.scopeName=e,[r,xJ(i,...t)]}function xJ(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const o=r.reduce((l,{useScope:d,scopeName:f})=>{const p=d(a)[`__scope${f}`];return{...l,...p}},{});return _.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}function Rj(e){const t=wJ(e),n=_.forwardRef((r,i)=>{const{children:a,...o}=r,l=_.Children.toArray(a),d=l.find(SJ);if(d){const f=d.props.children,m=l.map(p=>p===d?_.Children.count(f)>1?_.Children.only(null):_.isValidElement(f)?f.props.children:null:p);return u.jsx(t,{...o,ref:i,children:_.isValidElement(f)?_.cloneElement(f,void 0,m):null})}return u.jsx(t,{...o,ref:i,children:a})});return n.displayName=`${e}.Slot`,n}function wJ(e){const t=_.forwardRef((n,r)=>{const{children:i,...a}=n;if(_.isValidElement(i)){const o=EJ(i),l=jJ(a,i.props);return i.type!==_.Fragment&&(l.ref=r?xo(r,o):o),_.cloneElement(i,l)}return _.Children.count(i)>1?_.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var _J=Symbol("radix.slottable");function SJ(e){return _.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===_J}function jJ(e,t){const n={...t};for(const r in t){const i=e[r],a=t[r];/^on[A-Z]/.test(r)?i&&a?n[r]=(...l)=>{a(...l),i(...l)}:i&&(n[r]=i):r==="style"?n[r]={...i,...a}:r==="className"&&(n[r]=[i,a].filter(Boolean).join(" "))}return{...e,...n}}function EJ(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function NJ(e){const t=e+"CollectionProvider",[n,r]=Rr(t),[i,a]=n(t,{collectionRef:{current:null},itemMap:new Map}),o=y=>{const{scope:w,children:E}=y,N=q.useRef(null),j=q.useRef(new Map).current;return u.jsx(i,{scope:w,itemMap:j,collectionRef:N,children:E})};o.displayName=t;const l=e+"CollectionSlot",d=Rj(l),f=q.forwardRef((y,w)=>{const{scope:E,children:N}=y,j=a(l,E),O=jt(w,j.collectionRef);return u.jsx(d,{ref:O,children:N})});f.displayName=l;const m=e+"CollectionItemSlot",p="data-radix-collection-item",v=Rj(m),b=q.forwardRef((y,w)=>{const{scope:E,children:N,...j}=y,O=q.useRef(null),T=jt(w,O),C=a(m,E);return q.useEffect(()=>(C.itemMap.set(O,{ref:O,...j}),()=>void C.itemMap.delete(O))),u.jsx(v,{[p]:"",ref:T,children:N})});b.displayName=m;function x(y){const w=a(e+"CollectionConsumer",y);return q.useCallback(()=>{const N=w.collectionRef.current;if(!N)return[];const j=Array.from(N.querySelectorAll(`[${p}]`));return Array.from(w.itemMap.values()).sort((C,R)=>j.indexOf(C.ref.current)-j.indexOf(R.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:o,Slot:f,ItemSlot:b},x,r]}var AJ=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Ra=AJ.reduce((e,t)=>{const n=Rj(`Primitive.${t}`),r=_.forwardRef((i,a)=>{const{asChild:o,...l}=i,d=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),u.jsx(d,{...l,ref:a})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function cz(e,t){e&&zl.flushSync(()=>e.dispatchEvent(t))}function Sr(e){const t=_.useRef(e);return _.useEffect(()=>{t.current=e}),_.useMemo(()=>(...n)=>t.current?.(...n),[])}function uz(e,t=globalThis?.document){const n=Sr(e);_.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var TJ="DismissableLayer",Pj="dismissableLayer.update",OJ="dismissableLayer.pointerDownOutside",CJ="dismissableLayer.focusOutside",hk,dz=_.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),fz=_.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:o,onDismiss:l,...d}=e,f=_.useContext(dz),[m,p]=_.useState(null),v=m?.ownerDocument??globalThis?.document,[,b]=_.useState({}),x=jt(t,R=>p(R)),y=Array.from(f.layers),[w]=[...f.layersWithOutsidePointerEventsDisabled].slice(-1),E=y.indexOf(w),N=m?y.indexOf(m):-1,j=f.layersWithOutsidePointerEventsDisabled.size>0,O=N>=E,T=PJ(R=>{const M=R.target,k=[...f.branches].some(I=>I.contains(M));!O||k||(i?.(R),o?.(R),R.defaultPrevented||l?.())},v),C=MJ(R=>{const M=R.target;[...f.branches].some(I=>I.contains(M))||(a?.(R),o?.(R),R.defaultPrevented||l?.())},v);return uz(R=>{N===f.layers.size-1&&(r?.(R),!R.defaultPrevented&&l&&(R.preventDefault(),l()))},v),_.useEffect(()=>{if(m)return n&&(f.layersWithOutsidePointerEventsDisabled.size===0&&(hk=v.body.style.pointerEvents,v.body.style.pointerEvents="none"),f.layersWithOutsidePointerEventsDisabled.add(m)),f.layers.add(m),mk(),()=>{n&&f.layersWithOutsidePointerEventsDisabled.size===1&&(v.body.style.pointerEvents=hk)}},[m,v,n,f]),_.useEffect(()=>()=>{m&&(f.layers.delete(m),f.layersWithOutsidePointerEventsDisabled.delete(m),mk())},[m,f]),_.useEffect(()=>{const R=()=>b({});return document.addEventListener(Pj,R),()=>document.removeEventListener(Pj,R)},[]),u.jsx(Ra.div,{...d,ref:x,style:{pointerEvents:j?O?"auto":"none":void 0,...e.style},onFocusCapture:ci(e.onFocusCapture,C.onFocusCapture),onBlurCapture:ci(e.onBlurCapture,C.onBlurCapture),onPointerDownCapture:ci(e.onPointerDownCapture,T.onPointerDownCapture)})});fz.displayName=TJ;var RJ="DismissableLayerBranch",hz=_.forwardRef((e,t)=>{const n=_.useContext(dz),r=_.useRef(null),i=jt(t,r);return _.useEffect(()=>{const a=r.current;if(a)return n.branches.add(a),()=>{n.branches.delete(a)}},[n.branches]),u.jsx(Ra.div,{...e,ref:i})});hz.displayName=RJ;function PJ(e,t=globalThis?.document){const n=Sr(e),r=_.useRef(!1),i=_.useRef(()=>{});return _.useEffect(()=>{const a=l=>{if(l.target&&!r.current){let d=function(){mz(OJ,n,f,{discrete:!0})};const f={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=d,t.addEventListener("click",i.current,{once:!0})):d()}else t.removeEventListener("click",i.current);r.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",a),t.removeEventListener("click",i.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function MJ(e,t=globalThis?.document){const n=Sr(e),r=_.useRef(!1);return _.useEffect(()=>{const i=a=>{a.target&&!r.current&&mz(CJ,n,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function mk(){const e=new CustomEvent(Pj);document.dispatchEvent(e)}function mz(e,t,n,{discrete:r}){const i=n.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),r?cz(i,a):i.dispatchEvent(a)}var kJ=fz,DJ=hz,Ut=globalThis?.document?_.useLayoutEffect:()=>{},IJ="Portal",pz=_.forwardRef((e,t)=>{const{container:n,...r}=e,[i,a]=_.useState(!1);Ut(()=>a(!0),[]);const o=n||i&&globalThis?.document?.body;return o?lz.createPortal(u.jsx(Ra.div,{...r,ref:t}),o):null});pz.displayName=IJ;function $J(e,t){return _.useReducer((n,r)=>t[n][r]??n,e)}var gz=e=>{const{present:t,children:n}=e,r=LJ(t),i=typeof n=="function"?n({present:r.isPresent}):_.Children.only(n),a=jt(r.ref,BJ(i));return typeof n=="function"||r.isPresent?_.cloneElement(i,{ref:a}):null};gz.displayName="Presence";function LJ(e){const[t,n]=_.useState(),r=_.useRef({}),i=_.useRef(e),a=_.useRef("none"),o=e?"mounted":"unmounted",[l,d]=$J(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return _.useEffect(()=>{const f=og(r.current);a.current=l==="mounted"?f:"none"},[l]),Ut(()=>{const f=r.current,m=i.current;if(m!==e){const v=a.current,b=og(f);e?d("MOUNT"):b==="none"||f?.display==="none"?d("UNMOUNT"):d(m&&v!==b?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,d]),Ut(()=>{if(t){let f;const m=t.ownerDocument.defaultView??window,p=b=>{const y=og(r.current).includes(b.animationName);if(b.target===t&&y&&(d("ANIMATION_END"),!i.current)){const w=t.style.animationFillMode;t.style.animationFillMode="forwards",f=m.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=w)})}},v=b=>{b.target===t&&(a.current=og(r.current))};return t.addEventListener("animationstart",v),t.addEventListener("animationcancel",p),t.addEventListener("animationend",p),()=>{m.clearTimeout(f),t.removeEventListener("animationstart",v),t.removeEventListener("animationcancel",p),t.removeEventListener("animationend",p)}}else d("ANIMATION_END")},[t,d]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:_.useCallback(f=>{f&&(r.current=getComputedStyle(f)),n(f)},[])}}function og(e){return e?.animationName||"none"}function BJ(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function qJ({prop:e,defaultProp:t,onChange:n=()=>{}}){const[r,i]=zJ({defaultProp:t,onChange:n}),a=e!==void 0,o=a?e:r,l=Sr(n),d=_.useCallback(f=>{if(a){const p=typeof f=="function"?f(e):f;p!==e&&l(p)}else i(f)},[a,e,i,l]);return[o,d]}function zJ({defaultProp:e,onChange:t}){const n=_.useState(e),[r]=n,i=_.useRef(r),a=Sr(t);return _.useEffect(()=>{i.current!==r&&(a(r),i.current=r)},[r,i,a]),n}var UJ="VisuallyHidden",xA=_.forwardRef((e,t)=>u.jsx(Ra.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));xA.displayName=UJ;var wA="ToastProvider",[_A,FJ,VJ]=NJ("Toast"),[vz]=Rr("Toast",[VJ]),[HJ,$y]=vz(wA),yz=e=>{const{__scopeToast:t,label:n="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:a=50,children:o}=e,[l,d]=_.useState(null),[f,m]=_.useState(0),p=_.useRef(!1),v=_.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${wA}\`. Expected non-empty \`string\`.`),u.jsx(_A.Provider,{scope:t,children:u.jsx(HJ,{scope:t,label:n,duration:r,swipeDirection:i,swipeThreshold:a,toastCount:f,viewport:l,onViewportChange:d,onToastAdd:_.useCallback(()=>m(b=>b+1),[]),onToastRemove:_.useCallback(()=>m(b=>b-1),[]),isFocusedToastEscapeKeyDownRef:p,isClosePausedRef:v,children:o})})};yz.displayName=wA;var bz="ToastViewport",GJ=["F8"],Mj="toast.viewportPause",kj="toast.viewportResume",xz=_.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:r=GJ,label:i="Notifications ({hotkey})",...a}=e,o=$y(bz,n),l=FJ(n),d=_.useRef(null),f=_.useRef(null),m=_.useRef(null),p=_.useRef(null),v=jt(t,p,o.onViewportChange),b=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),x=o.toastCount>0;_.useEffect(()=>{const w=E=>{r.length!==0&&r.every(j=>E[j]||E.code===j)&&p.current?.focus()};return document.addEventListener("keydown",w),()=>document.removeEventListener("keydown",w)},[r]),_.useEffect(()=>{const w=d.current,E=p.current;if(x&&w&&E){const N=()=>{if(!o.isClosePausedRef.current){const C=new CustomEvent(Mj);E.dispatchEvent(C),o.isClosePausedRef.current=!0}},j=()=>{if(o.isClosePausedRef.current){const C=new CustomEvent(kj);E.dispatchEvent(C),o.isClosePausedRef.current=!1}},O=C=>{!w.contains(C.relatedTarget)&&j()},T=()=>{w.contains(document.activeElement)||j()};return w.addEventListener("focusin",N),w.addEventListener("focusout",O),w.addEventListener("pointermove",N),w.addEventListener("pointerleave",T),window.addEventListener("blur",N),window.addEventListener("focus",j),()=>{w.removeEventListener("focusin",N),w.removeEventListener("focusout",O),w.removeEventListener("pointermove",N),w.removeEventListener("pointerleave",T),window.removeEventListener("blur",N),window.removeEventListener("focus",j)}}},[x,o.isClosePausedRef]);const y=_.useCallback(({tabbingDirection:w})=>{const N=l().map(j=>{const O=j.ref.current,T=[O,...aZ(O)];return w==="forwards"?T:T.reverse()});return(w==="forwards"?N.reverse():N).flat()},[l]);return _.useEffect(()=>{const w=p.current;if(w){const E=N=>{const j=N.altKey||N.ctrlKey||N.metaKey;if(N.key==="Tab"&&!j){const T=document.activeElement,C=N.shiftKey;if(N.target===w&&C){f.current?.focus();return}const k=y({tabbingDirection:C?"backwards":"forwards"}),I=k.findIndex(B=>B===T);Sw(k.slice(I+1))?N.preventDefault():C?f.current?.focus():m.current?.focus()}};return w.addEventListener("keydown",E),()=>w.removeEventListener("keydown",E)}},[l,y]),u.jsxs(DJ,{ref:d,role:"region","aria-label":i.replace("{hotkey}",b),tabIndex:-1,style:{pointerEvents:x?void 0:"none"},children:[x&&u.jsx(Dj,{ref:f,onFocusFromOutsideViewport:()=>{const w=y({tabbingDirection:"forwards"});Sw(w)}}),u.jsx(_A.Slot,{scope:n,children:u.jsx(Ra.ol,{tabIndex:-1,...a,ref:v})}),x&&u.jsx(Dj,{ref:m,onFocusFromOutsideViewport:()=>{const w=y({tabbingDirection:"backwards"});Sw(w)}})]})});xz.displayName=bz;var wz="ToastFocusProxy",Dj=_.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...i}=e,a=$y(wz,n);return u.jsx(xA,{"aria-hidden":!0,tabIndex:0,...i,ref:t,style:{position:"fixed"},onFocus:o=>{const l=o.relatedTarget;!a.viewport?.contains(l)&&r()}})});Dj.displayName=wz;var Ly="Toast",KJ="toast.swipeStart",WJ="toast.swipeMove",YJ="toast.swipeCancel",XJ="toast.swipeEnd",_z=_.forwardRef((e,t)=>{const{forceMount:n,open:r,defaultOpen:i,onOpenChange:a,...o}=e,[l=!0,d]=qJ({prop:r,defaultProp:i,onChange:a});return u.jsx(gz,{present:n||l,children:u.jsx(ZJ,{open:l,...o,ref:t,onClose:()=>d(!1),onPause:Sr(e.onPause),onResume:Sr(e.onResume),onSwipeStart:ci(e.onSwipeStart,f=>{f.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:ci(e.onSwipeMove,f=>{const{x:m,y:p}=f.detail.delta;f.currentTarget.setAttribute("data-swipe","move"),f.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${m}px`),f.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${p}px`)}),onSwipeCancel:ci(e.onSwipeCancel,f=>{f.currentTarget.setAttribute("data-swipe","cancel"),f.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),f.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),f.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),f.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:ci(e.onSwipeEnd,f=>{const{x:m,y:p}=f.detail.delta;f.currentTarget.setAttribute("data-swipe","end"),f.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),f.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),f.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${m}px`),f.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${p}px`),d(!1)})})})});_z.displayName=Ly;var[QJ,JJ]=vz(Ly,{onClose(){}}),ZJ=_.forwardRef((e,t)=>{const{__scopeToast:n,type:r="foreground",duration:i,open:a,onClose:o,onEscapeKeyDown:l,onPause:d,onResume:f,onSwipeStart:m,onSwipeMove:p,onSwipeCancel:v,onSwipeEnd:b,...x}=e,y=$y(Ly,n),[w,E]=_.useState(null),N=jt(t,H=>E(H)),j=_.useRef(null),O=_.useRef(null),T=i||y.duration,C=_.useRef(0),R=_.useRef(T),M=_.useRef(0),{onToastAdd:k,onToastRemove:I}=y,B=Sr(()=>{w?.contains(document.activeElement)&&y.viewport?.focus(),o()}),$=_.useCallback(H=>{!H||H===1/0||(window.clearTimeout(M.current),C.current=new Date().getTime(),M.current=window.setTimeout(B,H))},[B]);_.useEffect(()=>{const H=y.viewport;if(H){const U=()=>{$(R.current),f?.()},D=()=>{const G=new Date().getTime()-C.current;R.current=R.current-G,window.clearTimeout(M.current),d?.()};return H.addEventListener(Mj,D),H.addEventListener(kj,U),()=>{H.removeEventListener(Mj,D),H.removeEventListener(kj,U)}}},[y.viewport,T,d,f,$]),_.useEffect(()=>{a&&!y.isClosePausedRef.current&&$(T)},[a,T,y.isClosePausedRef,$]),_.useEffect(()=>(k(),()=>I()),[k,I]);const F=_.useMemo(()=>w?Oz(w):null,[w]);return y.viewport?u.jsxs(u.Fragment,{children:[F&&u.jsx(eZ,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:F}),u.jsx(QJ,{scope:n,onClose:B,children:zl.createPortal(u.jsx(_A.ItemSlot,{scope:n,children:u.jsx(kJ,{asChild:!0,onEscapeKeyDown:ci(l,()=>{y.isFocusedToastEscapeKeyDownRef.current||B(),y.isFocusedToastEscapeKeyDownRef.current=!1}),children:u.jsx(Ra.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":y.swipeDirection,...x,ref:N,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:ci(e.onKeyDown,H=>{H.key==="Escape"&&(l?.(H.nativeEvent),H.nativeEvent.defaultPrevented||(y.isFocusedToastEscapeKeyDownRef.current=!0,B()))}),onPointerDown:ci(e.onPointerDown,H=>{H.button===0&&(j.current={x:H.clientX,y:H.clientY})}),onPointerMove:ci(e.onPointerMove,H=>{if(!j.current)return;const U=H.clientX-j.current.x,D=H.clientY-j.current.y,G=!!O.current,z=["left","right"].includes(y.swipeDirection),X=["left","up"].includes(y.swipeDirection)?Math.min:Math.max,ue=z?X(0,U):0,V=z?0:X(0,D),K=H.pointerType==="touch"?10:2,Z={x:ue,y:V},oe={originalEvent:H,delta:Z};G?(O.current=Z,lg(WJ,p,oe,{discrete:!1})):pk(Z,y.swipeDirection,K)?(O.current=Z,lg(KJ,m,oe,{discrete:!1}),H.target.setPointerCapture(H.pointerId)):(Math.abs(U)>K||Math.abs(D)>K)&&(j.current=null)}),onPointerUp:ci(e.onPointerUp,H=>{const U=O.current,D=H.target;if(D.hasPointerCapture(H.pointerId)&&D.releasePointerCapture(H.pointerId),O.current=null,j.current=null,U){const G=H.currentTarget,z={originalEvent:H,delta:U};pk(U,y.swipeDirection,y.swipeThreshold)?lg(XJ,b,z,{discrete:!0}):lg(YJ,v,z,{discrete:!0}),G.addEventListener("click",X=>X.preventDefault(),{once:!0})}})})})}),y.viewport)})]}):null}),eZ=e=>{const{__scopeToast:t,children:n,...r}=e,i=$y(Ly,t),[a,o]=_.useState(!1),[l,d]=_.useState(!1);return rZ(()=>o(!0)),_.useEffect(()=>{const f=window.setTimeout(()=>d(!0),1e3);return()=>window.clearTimeout(f)},[]),l?null:u.jsx(pz,{asChild:!0,children:u.jsx(xA,{...r,children:a&&u.jsxs(u.Fragment,{children:[i.label," ",n]})})})},tZ="ToastTitle",Sz=_.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return u.jsx(Ra.div,{...r,ref:t})});Sz.displayName=tZ;var nZ="ToastDescription",jz=_.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return u.jsx(Ra.div,{...r,ref:t})});jz.displayName=nZ;var Ez="ToastAction",Nz=_.forwardRef((e,t)=>{const{altText:n,...r}=e;return n.trim()?u.jsx(Tz,{altText:n,asChild:!0,children:u.jsx(SA,{...r,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${Ez}\`. Expected non-empty \`string\`.`),null)});Nz.displayName=Ez;var Az="ToastClose",SA=_.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e,i=JJ(Az,n);return u.jsx(Tz,{asChild:!0,children:u.jsx(Ra.button,{type:"button",...r,ref:t,onClick:ci(e.onClick,i.onClose)})})});SA.displayName=Az;var Tz=_.forwardRef((e,t)=>{const{__scopeToast:n,altText:r,...i}=e;return u.jsx(Ra.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:t})});function Oz(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),iZ(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",a=r.dataset.radixToastAnnounceExclude==="";if(!i)if(a){const o=r.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...Oz(r))}}),t}function lg(e,t,n,{discrete:r}){const i=n.originalEvent.currentTarget,a=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),r?cz(i,a):i.dispatchEvent(a)}var pk=(e,t,n=0)=>{const r=Math.abs(e.x),i=Math.abs(e.y),a=r>i;return t==="left"||t==="right"?a&&r>n:!a&&i>n};function rZ(e=()=>{}){const t=Sr(e);Ut(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[t])}function iZ(e){return e.nodeType===e.ELEMENT_NODE}function aZ(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Sw(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var sZ=yz,Cz=xz,Rz=_z,Pz=Sz,Mz=jz,kz=Nz,Dz=SA;function Iz(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=Iz(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Tt(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=Iz(e))&&(r&&(r+=" "),r+=t);return r}const gk=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,vk=Tt,od=(e,t)=>n=>{var r;if(t?.variants==null)return vk(e,n?.class,n?.className);const{variants:i,defaultVariants:a}=t,o=Object.keys(i).map(f=>{const m=n?.[f],p=a?.[f];if(m===null)return null;const v=gk(m)||gk(p);return i[f][v]}),l=n&&Object.entries(n).reduce((f,m)=>{let[p,v]=m;return v===void 0||(f[p]=v),f},{}),d=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((f,m)=>{let{class:p,className:v,...b}=m;return Object.entries(b).every(x=>{let[y,w]=x;return Array.isArray(w)?w.includes({...a,...l}[y]):{...a,...l}[y]===w})?[...f,p,v]:f},[]);return vk(e,o,d,n?.class,n?.className)};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oZ=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),lZ=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),yk=e=>{const t=lZ(e);return t.charAt(0).toUpperCase()+t.slice(1)},$z=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim(),cZ=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var uZ={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dZ=_.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:o,...l},d)=>_.createElement("svg",{ref:d,...uZ,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:$z("lucide",i),...!a&&!cZ(l)&&{"aria-hidden":"true"},...l},[...o.map(([f,m])=>_.createElement(f,m)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Je=(e,t)=>{const n=_.forwardRef(({className:r,...i},a)=>_.createElement(dZ,{ref:a,iconNode:t,className:$z(`lucide-${oZ(yk(e))}`,`lucide-${e}`,r),...i}));return n.displayName=yk(e),n};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fZ=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],hZ=Je("archive",fZ);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mZ=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],bk=Je("arrow-down",mZ);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pZ=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Lz=Je("arrow-left",pZ);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gZ=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],xk=Je("arrow-up",gZ);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vZ=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],wh=Je("bell",vZ);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yZ=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],bZ=Je("calendar",yZ);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xZ=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],ho=Je("check",xZ);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wZ=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],jA=Je("chevron-down",wZ);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _Z=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],_h=Je("chevron-left",_Z);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SZ=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],fv=Je("chevron-right",SZ);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jZ=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],EZ=Je("chevron-up",jZ);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NZ=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],AZ=Je("circle-alert",NZ);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TZ=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],OZ=Je("circle-check",TZ);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CZ=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Gf=Je("circle",CZ);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RZ=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],PZ=Je("clock",RZ);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MZ=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],kZ=Je("crown",MZ);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DZ=[["path",{d:"M17.596 12.768a2 2 0 1 0 2.829-2.829l-1.768-1.767a2 2 0 0 0 2.828-2.829l-2.828-2.828a2 2 0 0 0-2.829 2.828l-1.767-1.768a2 2 0 1 0-2.829 2.829z",key:"9m4mmf"}],["path",{d:"m2.5 21.5 1.4-1.4",key:"17g3f0"}],["path",{d:"m20.1 3.9 1.4-1.4",key:"1qn309"}],["path",{d:"M5.343 21.485a2 2 0 1 0 2.829-2.828l1.767 1.768a2 2 0 1 0 2.829-2.829l-6.364-6.364a2 2 0 1 0-2.829 2.829l1.768 1.767a2 2 0 0 0-2.828 2.829z",key:"1t2c92"}],["path",{d:"m9.6 14.4 4.8-4.8",key:"6umqxw"}]],Mi=Je("dumbbell",DZ);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IZ=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Ij=Je("file-text",IZ);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $Z=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],LZ=Je("grip-vertical",$Z);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BZ=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}],["path",{d:"M3.22 13H9.5l.5-1 2 4.5 2-7 1.5 3.5h5.27",key:"auskq0"}]],wk=Je("heart-pulse",BZ);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qZ=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],zZ=Je("heart",qZ);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UZ=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],$j=Je("info",UZ);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FZ=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],Bz=Je("layers",FZ);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VZ=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],HZ=Je("log-out",VZ);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GZ=[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]],_k=Je("medal",GZ);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KZ=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],as=Je("message-square",KZ);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WZ=[["path",{d:"M5 12h14",key:"1ays0h"}]],qz=Je("minus",WZ);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YZ=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],XZ=Je("moon",YZ);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QZ=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],JZ=Je("pause",QZ);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZZ=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Lj=Je("pen",ZZ);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eee=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],tee=Je("pencil",eee);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nee=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],hv=Je("play",nee);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ree=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],ll=Je("plus",ree);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iee=[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]],aee=Je("power",iee);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const see=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],zz=Je("refresh-cw",see);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oee=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],lee=Je("rotate-ccw",oee);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cee=[["circle",{cx:"6",cy:"19",r:"3",key:"1kj8tv"}],["path",{d:"M9 19h8.5a3.5 3.5 0 0 0 0-7h-11a3.5 3.5 0 0 1 0-7H15",key:"1d8sl"}],["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}]],Uz=Je("route",cee);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uee=[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]],Sk=Je("ruler",uee);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dee=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Fz=Je("save",dee);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fee=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],EA=Je("search",fee);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hee=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],mee=Je("send",hee);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pee=[["path",{d:"M14 17H5",key:"gfn3mx"}],["path",{d:"M19 7h-9",key:"6i9tg"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]],jk=Je("settings-2",pee);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gee=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],vee=Je("settings",gee);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yee=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],bee=Je("shield-check",yee);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xee=[["path",{d:"M10 5H3",key:"1qgfaw"}],["path",{d:"M12 19H3",key:"yhmn1j"}],["path",{d:"M14 3v4",key:"1sua03"}],["path",{d:"M16 17v4",key:"1q0r14"}],["path",{d:"M21 12h-9",key:"1o4lsq"}],["path",{d:"M21 19h-5",key:"1rlt1p"}],["path",{d:"M21 5h-7",key:"1oszz2"}],["path",{d:"M8 10v4",key:"tgpxqk"}],["path",{d:"M8 12H3",key:"a7s4jb"}]],wee=Je("sliders-horizontal",xee);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _ee=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],See=Je("sun",_ee);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jee=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],mv=Je("timer",jee);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eee=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Nf=Je("trash-2",Eee);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nee=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Aee=Je("trending-up",Nee);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tee=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],ro=Je("trophy",Tee);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oee=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Ek=Je("user-check",Oee);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cee=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],Ree=Je("user-minus",Cee);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pee=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],Mee=Je("user-plus",Pee);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kee=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]],cg=Je("user-x",kee);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dee=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],hu=Je("users",Dee);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iee=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],ug=Je("user",Iee);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $ee=[["path",{d:"M2 6c.6.5 1.2 1 2.5 1C7 7 7 5 9.5 5c2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"knzxuh"}],["path",{d:"M2 12c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"2jd2cc"}],["path",{d:"M2 18c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"rd2r6e"}]],hi=Je("waves",$ee);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lee=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Ii=Je("x",Lee),NA="-",Bee=e=>{const t=zee(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:o=>{const l=o.split(NA);return l[0]===""&&l.length!==1&&l.shift(),Vz(l,t)||qee(o)},getConflictingClassGroupIds:(o,l)=>{const d=n[o]||[];return l&&r[o]?[...d,...r[o]]:d}}},Vz=(e,t)=>{if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),i=r?Vz(e.slice(1),r):void 0;if(i)return i;if(t.validators.length===0)return;const a=e.join(NA);return t.validators.find(({validator:o})=>o(a))?.classGroupId},Nk=/^\[(.+)\]$/,qee=e=>{if(Nk.test(e)){const t=Nk.exec(e)[1],n=t?.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},zee=e=>{const{theme:t,classGroups:n}=e,r={nextPart:new Map,validators:[]};for(const i in n)Bj(n[i],r,i,t);return r},Bj=(e,t,n,r)=>{e.forEach(i=>{if(typeof i=="string"){const a=i===""?t:Ak(t,i);a.classGroupId=n;return}if(typeof i=="function"){if(Uee(i)){Bj(i(r),t,n,r);return}t.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([a,o])=>{Bj(o,Ak(t,a),n,r)})})},Ak=(e,t)=>{let n=e;return t.split(NA).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},Uee=e=>e.isThemeGetter,Fee=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const i=(a,o)=>{n.set(a,o),t++,t>e&&(t=0,r=n,n=new Map)};return{get(a){let o=n.get(a);if(o!==void 0)return o;if((o=r.get(a))!==void 0)return i(a,o),o},set(a,o){n.has(a)?n.set(a,o):i(a,o)}}},qj="!",zj=":",Vee=zj.length,Hee=e=>{const{prefix:t,experimentalParseClassName:n}=e;let r=i=>{const a=[];let o=0,l=0,d=0,f;for(let x=0;x<i.length;x++){let y=i[x];if(o===0&&l===0){if(y===zj){a.push(i.slice(d,x)),d=x+Vee;continue}if(y==="/"){f=x;continue}}y==="["?o++:y==="]"?o--:y==="("?l++:y===")"&&l--}const m=a.length===0?i:i.substring(d),p=Gee(m),v=p!==m,b=f&&f>d?f-d:void 0;return{modifiers:a,hasImportantModifier:v,baseClassName:p,maybePostfixModifierPosition:b}};if(t){const i=t+zj,a=r;r=o=>o.startsWith(i)?a(o.substring(i.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:o,maybePostfixModifierPosition:void 0}}if(n){const i=r;r=a=>n({className:a,parseClassName:i})}return r},Gee=e=>e.endsWith(qj)?e.substring(0,e.length-1):e.startsWith(qj)?e.substring(1):e,Kee=e=>{const t=Object.fromEntries(e.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const i=[];let a=[];return r.forEach(o=>{o[0]==="["||t[o]?(i.push(...a.sort(),o),a=[]):a.push(o)}),i.push(...a.sort()),i}},Wee=e=>({cache:Fee(e.cacheSize),parseClassName:Hee(e),sortModifiers:Kee(e),...Bee(e)}),Yee=/\s+/,Xee=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i,sortModifiers:a}=t,o=[],l=e.trim().split(Yee);let d="";for(let f=l.length-1;f>=0;f-=1){const m=l[f],{isExternal:p,modifiers:v,hasImportantModifier:b,baseClassName:x,maybePostfixModifierPosition:y}=n(m);if(p){d=m+(d.length>0?" "+d:d);continue}let w=!!y,E=r(w?x.substring(0,y):x);if(!E){if(!w){d=m+(d.length>0?" "+d:d);continue}if(E=r(x),!E){d=m+(d.length>0?" "+d:d);continue}w=!1}const N=a(v).join(":"),j=b?N+qj:N,O=j+E;if(o.includes(O))continue;o.push(O);const T=i(E,w);for(let C=0;C<T.length;++C){const R=T[C];o.push(j+R)}d=m+(d.length>0?" "+d:d)}return d};function Qee(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=Hz(t))&&(r&&(r+=" "),r+=n);return r}const Hz=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=Hz(e[r]))&&(n&&(n+=" "),n+=t);return n};function Jee(e,...t){let n,r,i,a=o;function o(d){const f=t.reduce((m,p)=>p(m),e());return n=Wee(f),r=n.cache.get,i=n.cache.set,a=l,l(d)}function l(d){const f=r(d);if(f)return f;const m=Xee(d,n);return i(d,m),m}return function(){return a(Qee.apply(null,arguments))}}const Yn=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},Gz=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,Kz=/^\((?:(\w[\w-]*):)?(.+)\)$/i,Zee=/^\d+\/\d+$/,ete=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,tte=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,nte=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,rte=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,ite=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Pc=e=>Zee.test(e),At=e=>!!e&&!Number.isNaN(Number(e)),Ws=e=>!!e&&Number.isInteger(Number(e)),jw=e=>e.endsWith("%")&&At(e.slice(0,-1)),Ja=e=>ete.test(e),ate=()=>!0,ste=e=>tte.test(e)&&!nte.test(e),Wz=()=>!1,ote=e=>rte.test(e),lte=e=>ite.test(e),cte=e=>!Ue(e)&&!Fe(e),ute=e=>ld(e,Qz,Wz),Ue=e=>Gz.test(e),Xo=e=>ld(e,Jz,ste),Ew=e=>ld(e,pte,At),Tk=e=>ld(e,Yz,Wz),dte=e=>ld(e,Xz,lte),dg=e=>ld(e,Zz,ote),Fe=e=>Kz.test(e),Af=e=>cd(e,Jz),fte=e=>cd(e,gte),Ok=e=>cd(e,Yz),hte=e=>cd(e,Qz),mte=e=>cd(e,Xz),fg=e=>cd(e,Zz,!0),ld=(e,t,n)=>{const r=Gz.exec(e);return r?r[1]?t(r[1]):n(r[2]):!1},cd=(e,t,n=!1)=>{const r=Kz.exec(e);return r?r[1]?t(r[1]):n:!1},Yz=e=>e==="position"||e==="percentage",Xz=e=>e==="image"||e==="url",Qz=e=>e==="length"||e==="size"||e==="bg-size",Jz=e=>e==="length",pte=e=>e==="number",gte=e=>e==="family-name",Zz=e=>e==="shadow",vte=()=>{const e=Yn("color"),t=Yn("font"),n=Yn("text"),r=Yn("font-weight"),i=Yn("tracking"),a=Yn("leading"),o=Yn("breakpoint"),l=Yn("container"),d=Yn("spacing"),f=Yn("radius"),m=Yn("shadow"),p=Yn("inset-shadow"),v=Yn("text-shadow"),b=Yn("drop-shadow"),x=Yn("blur"),y=Yn("perspective"),w=Yn("aspect"),E=Yn("ease"),N=Yn("animate"),j=()=>["auto","avoid","all","avoid-page","page","left","right","column"],O=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],T=()=>[...O(),Fe,Ue],C=()=>["auto","hidden","clip","visible","scroll"],R=()=>["auto","contain","none"],M=()=>[Fe,Ue,d],k=()=>[Pc,"full","auto",...M()],I=()=>[Ws,"none","subgrid",Fe,Ue],B=()=>["auto",{span:["full",Ws,Fe,Ue]},Ws,Fe,Ue],$=()=>[Ws,"auto",Fe,Ue],F=()=>["auto","min","max","fr",Fe,Ue],H=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],U=()=>["start","end","center","stretch","center-safe","end-safe"],D=()=>["auto",...M()],G=()=>[Pc,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...M()],z=()=>[e,Fe,Ue],X=()=>[...O(),Ok,Tk,{position:[Fe,Ue]}],ue=()=>["no-repeat",{repeat:["","x","y","space","round"]}],V=()=>["auto","cover","contain",hte,ute,{size:[Fe,Ue]}],K=()=>[jw,Af,Xo],Z=()=>["","none","full",f,Fe,Ue],oe=()=>["",At,Af,Xo],be=()=>["solid","dashed","dotted","double"],ae=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],J=()=>[At,jw,Ok,Tk],he=()=>["","none",x,Fe,Ue],se=()=>["none",At,Fe,Ue],pe=()=>["none",At,Fe,Ue],xe=()=>[At,Fe,Ue],ee=()=>[Pc,"full",...M()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Ja],breakpoint:[Ja],color:[ate],container:[Ja],"drop-shadow":[Ja],ease:["in","out","in-out"],font:[cte],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Ja],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Ja],shadow:[Ja],spacing:["px",At],text:[Ja],"text-shadow":[Ja],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Pc,Ue,Fe,w]}],container:["container"],columns:[{columns:[At,Ue,Fe,l]}],"break-after":[{"break-after":j()}],"break-before":[{"break-before":j()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:T()}],overflow:[{overflow:C()}],"overflow-x":[{"overflow-x":C()}],"overflow-y":[{"overflow-y":C()}],overscroll:[{overscroll:R()}],"overscroll-x":[{"overscroll-x":R()}],"overscroll-y":[{"overscroll-y":R()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:k()}],"inset-x":[{"inset-x":k()}],"inset-y":[{"inset-y":k()}],start:[{start:k()}],end:[{end:k()}],top:[{top:k()}],right:[{right:k()}],bottom:[{bottom:k()}],left:[{left:k()}],visibility:["visible","invisible","collapse"],z:[{z:[Ws,"auto",Fe,Ue]}],basis:[{basis:[Pc,"full","auto",l,...M()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[At,Pc,"auto","initial","none",Ue]}],grow:[{grow:["",At,Fe,Ue]}],shrink:[{shrink:["",At,Fe,Ue]}],order:[{order:[Ws,"first","last","none",Fe,Ue]}],"grid-cols":[{"grid-cols":I()}],"col-start-end":[{col:B()}],"col-start":[{"col-start":$()}],"col-end":[{"col-end":$()}],"grid-rows":[{"grid-rows":I()}],"row-start-end":[{row:B()}],"row-start":[{"row-start":$()}],"row-end":[{"row-end":$()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":F()}],"auto-rows":[{"auto-rows":F()}],gap:[{gap:M()}],"gap-x":[{"gap-x":M()}],"gap-y":[{"gap-y":M()}],"justify-content":[{justify:[...H(),"normal"]}],"justify-items":[{"justify-items":[...U(),"normal"]}],"justify-self":[{"justify-self":["auto",...U()]}],"align-content":[{content:["normal",...H()]}],"align-items":[{items:[...U(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...U(),{baseline:["","last"]}]}],"place-content":[{"place-content":H()}],"place-items":[{"place-items":[...U(),"baseline"]}],"place-self":[{"place-self":["auto",...U()]}],p:[{p:M()}],px:[{px:M()}],py:[{py:M()}],ps:[{ps:M()}],pe:[{pe:M()}],pt:[{pt:M()}],pr:[{pr:M()}],pb:[{pb:M()}],pl:[{pl:M()}],m:[{m:D()}],mx:[{mx:D()}],my:[{my:D()}],ms:[{ms:D()}],me:[{me:D()}],mt:[{mt:D()}],mr:[{mr:D()}],mb:[{mb:D()}],ml:[{ml:D()}],"space-x":[{"space-x":M()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":M()}],"space-y-reverse":["space-y-reverse"],size:[{size:G()}],w:[{w:[l,"screen",...G()]}],"min-w":[{"min-w":[l,"screen","none",...G()]}],"max-w":[{"max-w":[l,"screen","none","prose",{screen:[o]},...G()]}],h:[{h:["screen","lh",...G()]}],"min-h":[{"min-h":["screen","lh","none",...G()]}],"max-h":[{"max-h":["screen","lh",...G()]}],"font-size":[{text:["base",n,Af,Xo]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,Fe,Ew]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",jw,Ue]}],"font-family":[{font:[fte,Ue,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,Fe,Ue]}],"line-clamp":[{"line-clamp":[At,"none",Fe,Ew]}],leading:[{leading:[a,...M()]}],"list-image":[{"list-image":["none",Fe,Ue]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Fe,Ue]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:z()}],"text-color":[{text:z()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...be(),"wavy"]}],"text-decoration-thickness":[{decoration:[At,"from-font","auto",Fe,Xo]}],"text-decoration-color":[{decoration:z()}],"underline-offset":[{"underline-offset":[At,"auto",Fe,Ue]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:M()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Fe,Ue]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Fe,Ue]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:X()}],"bg-repeat":[{bg:ue()}],"bg-size":[{bg:V()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Ws,Fe,Ue],radial:["",Fe,Ue],conic:[Ws,Fe,Ue]},mte,dte]}],"bg-color":[{bg:z()}],"gradient-from-pos":[{from:K()}],"gradient-via-pos":[{via:K()}],"gradient-to-pos":[{to:K()}],"gradient-from":[{from:z()}],"gradient-via":[{via:z()}],"gradient-to":[{to:z()}],rounded:[{rounded:Z()}],"rounded-s":[{"rounded-s":Z()}],"rounded-e":[{"rounded-e":Z()}],"rounded-t":[{"rounded-t":Z()}],"rounded-r":[{"rounded-r":Z()}],"rounded-b":[{"rounded-b":Z()}],"rounded-l":[{"rounded-l":Z()}],"rounded-ss":[{"rounded-ss":Z()}],"rounded-se":[{"rounded-se":Z()}],"rounded-ee":[{"rounded-ee":Z()}],"rounded-es":[{"rounded-es":Z()}],"rounded-tl":[{"rounded-tl":Z()}],"rounded-tr":[{"rounded-tr":Z()}],"rounded-br":[{"rounded-br":Z()}],"rounded-bl":[{"rounded-bl":Z()}],"border-w":[{border:oe()}],"border-w-x":[{"border-x":oe()}],"border-w-y":[{"border-y":oe()}],"border-w-s":[{"border-s":oe()}],"border-w-e":[{"border-e":oe()}],"border-w-t":[{"border-t":oe()}],"border-w-r":[{"border-r":oe()}],"border-w-b":[{"border-b":oe()}],"border-w-l":[{"border-l":oe()}],"divide-x":[{"divide-x":oe()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":oe()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...be(),"hidden","none"]}],"divide-style":[{divide:[...be(),"hidden","none"]}],"border-color":[{border:z()}],"border-color-x":[{"border-x":z()}],"border-color-y":[{"border-y":z()}],"border-color-s":[{"border-s":z()}],"border-color-e":[{"border-e":z()}],"border-color-t":[{"border-t":z()}],"border-color-r":[{"border-r":z()}],"border-color-b":[{"border-b":z()}],"border-color-l":[{"border-l":z()}],"divide-color":[{divide:z()}],"outline-style":[{outline:[...be(),"none","hidden"]}],"outline-offset":[{"outline-offset":[At,Fe,Ue]}],"outline-w":[{outline:["",At,Af,Xo]}],"outline-color":[{outline:z()}],shadow:[{shadow:["","none",m,fg,dg]}],"shadow-color":[{shadow:z()}],"inset-shadow":[{"inset-shadow":["none",p,fg,dg]}],"inset-shadow-color":[{"inset-shadow":z()}],"ring-w":[{ring:oe()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:z()}],"ring-offset-w":[{"ring-offset":[At,Xo]}],"ring-offset-color":[{"ring-offset":z()}],"inset-ring-w":[{"inset-ring":oe()}],"inset-ring-color":[{"inset-ring":z()}],"text-shadow":[{"text-shadow":["none",v,fg,dg]}],"text-shadow-color":[{"text-shadow":z()}],opacity:[{opacity:[At,Fe,Ue]}],"mix-blend":[{"mix-blend":[...ae(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ae()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[At]}],"mask-image-linear-from-pos":[{"mask-linear-from":J()}],"mask-image-linear-to-pos":[{"mask-linear-to":J()}],"mask-image-linear-from-color":[{"mask-linear-from":z()}],"mask-image-linear-to-color":[{"mask-linear-to":z()}],"mask-image-t-from-pos":[{"mask-t-from":J()}],"mask-image-t-to-pos":[{"mask-t-to":J()}],"mask-image-t-from-color":[{"mask-t-from":z()}],"mask-image-t-to-color":[{"mask-t-to":z()}],"mask-image-r-from-pos":[{"mask-r-from":J()}],"mask-image-r-to-pos":[{"mask-r-to":J()}],"mask-image-r-from-color":[{"mask-r-from":z()}],"mask-image-r-to-color":[{"mask-r-to":z()}],"mask-image-b-from-pos":[{"mask-b-from":J()}],"mask-image-b-to-pos":[{"mask-b-to":J()}],"mask-image-b-from-color":[{"mask-b-from":z()}],"mask-image-b-to-color":[{"mask-b-to":z()}],"mask-image-l-from-pos":[{"mask-l-from":J()}],"mask-image-l-to-pos":[{"mask-l-to":J()}],"mask-image-l-from-color":[{"mask-l-from":z()}],"mask-image-l-to-color":[{"mask-l-to":z()}],"mask-image-x-from-pos":[{"mask-x-from":J()}],"mask-image-x-to-pos":[{"mask-x-to":J()}],"mask-image-x-from-color":[{"mask-x-from":z()}],"mask-image-x-to-color":[{"mask-x-to":z()}],"mask-image-y-from-pos":[{"mask-y-from":J()}],"mask-image-y-to-pos":[{"mask-y-to":J()}],"mask-image-y-from-color":[{"mask-y-from":z()}],"mask-image-y-to-color":[{"mask-y-to":z()}],"mask-image-radial":[{"mask-radial":[Fe,Ue]}],"mask-image-radial-from-pos":[{"mask-radial-from":J()}],"mask-image-radial-to-pos":[{"mask-radial-to":J()}],"mask-image-radial-from-color":[{"mask-radial-from":z()}],"mask-image-radial-to-color":[{"mask-radial-to":z()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":O()}],"mask-image-conic-pos":[{"mask-conic":[At]}],"mask-image-conic-from-pos":[{"mask-conic-from":J()}],"mask-image-conic-to-pos":[{"mask-conic-to":J()}],"mask-image-conic-from-color":[{"mask-conic-from":z()}],"mask-image-conic-to-color":[{"mask-conic-to":z()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:X()}],"mask-repeat":[{mask:ue()}],"mask-size":[{mask:V()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Fe,Ue]}],filter:[{filter:["","none",Fe,Ue]}],blur:[{blur:he()}],brightness:[{brightness:[At,Fe,Ue]}],contrast:[{contrast:[At,Fe,Ue]}],"drop-shadow":[{"drop-shadow":["","none",b,fg,dg]}],"drop-shadow-color":[{"drop-shadow":z()}],grayscale:[{grayscale:["",At,Fe,Ue]}],"hue-rotate":[{"hue-rotate":[At,Fe,Ue]}],invert:[{invert:["",At,Fe,Ue]}],saturate:[{saturate:[At,Fe,Ue]}],sepia:[{sepia:["",At,Fe,Ue]}],"backdrop-filter":[{"backdrop-filter":["","none",Fe,Ue]}],"backdrop-blur":[{"backdrop-blur":he()}],"backdrop-brightness":[{"backdrop-brightness":[At,Fe,Ue]}],"backdrop-contrast":[{"backdrop-contrast":[At,Fe,Ue]}],"backdrop-grayscale":[{"backdrop-grayscale":["",At,Fe,Ue]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[At,Fe,Ue]}],"backdrop-invert":[{"backdrop-invert":["",At,Fe,Ue]}],"backdrop-opacity":[{"backdrop-opacity":[At,Fe,Ue]}],"backdrop-saturate":[{"backdrop-saturate":[At,Fe,Ue]}],"backdrop-sepia":[{"backdrop-sepia":["",At,Fe,Ue]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":M()}],"border-spacing-x":[{"border-spacing-x":M()}],"border-spacing-y":[{"border-spacing-y":M()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Fe,Ue]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[At,"initial",Fe,Ue]}],ease:[{ease:["linear","initial",E,Fe,Ue]}],delay:[{delay:[At,Fe,Ue]}],animate:[{animate:["none",N,Fe,Ue]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[y,Fe,Ue]}],"perspective-origin":[{"perspective-origin":T()}],rotate:[{rotate:se()}],"rotate-x":[{"rotate-x":se()}],"rotate-y":[{"rotate-y":se()}],"rotate-z":[{"rotate-z":se()}],scale:[{scale:pe()}],"scale-x":[{"scale-x":pe()}],"scale-y":[{"scale-y":pe()}],"scale-z":[{"scale-z":pe()}],"scale-3d":["scale-3d"],skew:[{skew:xe()}],"skew-x":[{"skew-x":xe()}],"skew-y":[{"skew-y":xe()}],transform:[{transform:[Fe,Ue,"","none","gpu","cpu"]}],"transform-origin":[{origin:T()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:ee()}],"translate-x":[{"translate-x":ee()}],"translate-y":[{"translate-y":ee()}],"translate-z":[{"translate-z":ee()}],"translate-none":["translate-none"],accent:[{accent:z()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:z()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Fe,Ue]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":M()}],"scroll-mx":[{"scroll-mx":M()}],"scroll-my":[{"scroll-my":M()}],"scroll-ms":[{"scroll-ms":M()}],"scroll-me":[{"scroll-me":M()}],"scroll-mt":[{"scroll-mt":M()}],"scroll-mr":[{"scroll-mr":M()}],"scroll-mb":[{"scroll-mb":M()}],"scroll-ml":[{"scroll-ml":M()}],"scroll-p":[{"scroll-p":M()}],"scroll-px":[{"scroll-px":M()}],"scroll-py":[{"scroll-py":M()}],"scroll-ps":[{"scroll-ps":M()}],"scroll-pe":[{"scroll-pe":M()}],"scroll-pt":[{"scroll-pt":M()}],"scroll-pr":[{"scroll-pr":M()}],"scroll-pb":[{"scroll-pb":M()}],"scroll-pl":[{"scroll-pl":M()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Fe,Ue]}],fill:[{fill:["none",...z()]}],"stroke-w":[{stroke:[At,Af,Xo,Ew]}],stroke:[{stroke:["none",...z()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},yte=Jee(vte);function Ne(...e){return yte(Tt(e))}const bte=sZ,eU=_.forwardRef(({className:e,...t},n)=>u.jsx(Cz,{ref:n,className:Ne("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));eU.displayName=Cz.displayName;const xte=od("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),tU=_.forwardRef(({className:e,variant:t,...n},r)=>u.jsx(Rz,{ref:r,className:Ne(xte({variant:t}),e),...n}));tU.displayName=Rz.displayName;const wte=_.forwardRef(({className:e,...t},n)=>u.jsx(kz,{ref:n,className:Ne("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));wte.displayName=kz.displayName;const nU=_.forwardRef(({className:e,...t},n)=>u.jsx(Dz,{ref:n,className:Ne("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:u.jsx(Ii,{className:"h-4 w-4"})}));nU.displayName=Dz.displayName;const rU=_.forwardRef(({className:e,...t},n)=>u.jsx(Pz,{ref:n,className:Ne("text-sm font-semibold",e),...t}));rU.displayName=Pz.displayName;const iU=_.forwardRef(({className:e,...t},n)=>u.jsx(Mz,{ref:n,className:Ne("text-sm opacity-90",e),...t}));iU.displayName=Mz.displayName;function _te(){const{toasts:e}=pi();return u.jsxs(bte,{children:[e.map(function({id:t,title:n,description:r,action:i,...a}){return u.jsxs(tU,{...a,children:[u.jsxs("div",{className:"grid gap-1",children:[n&&u.jsx(rU,{children:n}),r&&u.jsx(iU,{children:r})]}),i,u.jsx(nU,{})]},t)}),u.jsx(eU,{})]})}function Mc(e,t,{checkForDefaultPrevented:n=!0}={}){return function(i){if(e?.(i),n===!1||!i.defaultPrevented)return t?.(i)}}function Nw(e,t,{checkForDefaultPrevented:n=!0}={}){return function(i){if(e?.(i),n===!1||!i.defaultPrevented)return t?.(i)}}function Ste(e){const t=jte(e),n=_.forwardRef((r,i)=>{const{children:a,...o}=r,l=_.Children.toArray(a),d=l.find(Nte);if(d){const f=d.props.children,m=l.map(p=>p===d?_.Children.count(f)>1?_.Children.only(null):_.isValidElement(f)?f.props.children:null:p);return u.jsx(t,{...o,ref:i,children:_.isValidElement(f)?_.cloneElement(f,void 0,m):null})}return u.jsx(t,{...o,ref:i,children:a})});return n.displayName=`${e}.Slot`,n}function jte(e){const t=_.forwardRef((n,r)=>{const{children:i,...a}=n;if(_.isValidElement(i)){const o=Tte(i),l=Ate(a,i.props);return i.type!==_.Fragment&&(l.ref=r?xo(r,o):o),_.cloneElement(i,l)}return _.Children.count(i)>1?_.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Ete=Symbol("radix.slottable");function Nte(e){return _.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Ete}function Ate(e,t){const n={...t};for(const r in t){const i=e[r],a=t[r];/^on[A-Z]/.test(r)?i&&a?n[r]=(...l)=>{const d=a(...l);return i(...l),d}:i&&(n[r]=i):r==="style"?n[r]={...i,...a}:r==="className"&&(n[r]=[i,a].filter(Boolean).join(" "))}return{...e,...n}}function Tte(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var Ote=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],gt=Ote.reduce((e,t)=>{const n=Ste(`Primitive.${t}`),r=_.forwardRef((i,a)=>{const{asChild:o,...l}=i,d=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),u.jsx(d,{...l,ref:a})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function Cte(e,t){e&&zl.flushSync(()=>e.dispatchEvent(t))}var Rte="DismissableLayer",Uj="dismissableLayer.update",Pte="dismissableLayer.pointerDownOutside",Mte="dismissableLayer.focusOutside",Ck,aU=_.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Sm=_.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:o,onDismiss:l,...d}=e,f=_.useContext(aU),[m,p]=_.useState(null),v=m?.ownerDocument??globalThis?.document,[,b]=_.useState({}),x=jt(t,R=>p(R)),y=Array.from(f.layers),[w]=[...f.layersWithOutsidePointerEventsDisabled].slice(-1),E=y.indexOf(w),N=m?y.indexOf(m):-1,j=f.layersWithOutsidePointerEventsDisabled.size>0,O=N>=E,T=Ite(R=>{const M=R.target,k=[...f.branches].some(I=>I.contains(M));!O||k||(i?.(R),o?.(R),R.defaultPrevented||l?.())},v),C=$te(R=>{const M=R.target;[...f.branches].some(I=>I.contains(M))||(a?.(R),o?.(R),R.defaultPrevented||l?.())},v);return uz(R=>{N===f.layers.size-1&&(r?.(R),!R.defaultPrevented&&l&&(R.preventDefault(),l()))},v),_.useEffect(()=>{if(m)return n&&(f.layersWithOutsidePointerEventsDisabled.size===0&&(Ck=v.body.style.pointerEvents,v.body.style.pointerEvents="none"),f.layersWithOutsidePointerEventsDisabled.add(m)),f.layers.add(m),Rk(),()=>{n&&f.layersWithOutsidePointerEventsDisabled.size===1&&(v.body.style.pointerEvents=Ck)}},[m,v,n,f]),_.useEffect(()=>()=>{m&&(f.layers.delete(m),f.layersWithOutsidePointerEventsDisabled.delete(m),Rk())},[m,f]),_.useEffect(()=>{const R=()=>b({});return document.addEventListener(Uj,R),()=>document.removeEventListener(Uj,R)},[]),u.jsx(gt.div,{...d,ref:x,style:{pointerEvents:j?O?"auto":"none":void 0,...e.style},onFocusCapture:Nw(e.onFocusCapture,C.onFocusCapture),onBlurCapture:Nw(e.onBlurCapture,C.onBlurCapture),onPointerDownCapture:Nw(e.onPointerDownCapture,T.onPointerDownCapture)})});Sm.displayName=Rte;var kte="DismissableLayerBranch",Dte=_.forwardRef((e,t)=>{const n=_.useContext(aU),r=_.useRef(null),i=jt(t,r);return _.useEffect(()=>{const a=r.current;if(a)return n.branches.add(a),()=>{n.branches.delete(a)}},[n.branches]),u.jsx(gt.div,{...e,ref:i})});Dte.displayName=kte;function Ite(e,t=globalThis?.document){const n=Sr(e),r=_.useRef(!1),i=_.useRef(()=>{});return _.useEffect(()=>{const a=l=>{if(l.target&&!r.current){let d=function(){sU(Pte,n,f,{discrete:!0})};const f={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=d,t.addEventListener("click",i.current,{once:!0})):d()}else t.removeEventListener("click",i.current);r.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",a),t.removeEventListener("click",i.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function $te(e,t=globalThis?.document){const n=Sr(e),r=_.useRef(!1);return _.useEffect(()=>{const i=a=>{a.target&&!r.current&&sU(Mte,n,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Rk(){const e=new CustomEvent(Uj);document.dispatchEvent(e)}function sU(e,t,n,{discrete:r}){const i=n.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),r?Cte(i,a):i.dispatchEvent(a)}var Lte=Cr[" useId ".trim().toString()]||(()=>{}),Bte=0;function ss(e){const[t,n]=_.useState(Lte());return Ut(()=>{n(r=>r??String(Bte++))},[e]),t?`radix-${t}`:""}const qte=["top","right","bottom","left"],mo=Math.min,li=Math.max,pv=Math.round,hg=Math.floor,wa=e=>({x:e,y:e}),zte={left:"right",right:"left",bottom:"top",top:"bottom"},Ute={start:"end",end:"start"};function Fj(e,t,n){return li(e,mo(t,n))}function us(e,t){return typeof e=="function"?e(t):e}function ds(e){return e.split("-")[0]}function ud(e){return e.split("-")[1]}function AA(e){return e==="x"?"y":"x"}function TA(e){return e==="y"?"height":"width"}const Fte=new Set(["top","bottom"]);function ya(e){return Fte.has(ds(e))?"y":"x"}function OA(e){return AA(ya(e))}function Vte(e,t,n){n===void 0&&(n=!1);const r=ud(e),i=OA(e),a=TA(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(o=gv(o)),[o,gv(o)]}function Hte(e){const t=gv(e);return[Vj(e),t,Vj(t)]}function Vj(e){return e.replace(/start|end/g,t=>Ute[t])}const Pk=["left","right"],Mk=["right","left"],Gte=["top","bottom"],Kte=["bottom","top"];function Wte(e,t,n){switch(e){case"top":case"bottom":return n?t?Mk:Pk:t?Pk:Mk;case"left":case"right":return t?Gte:Kte;default:return[]}}function Yte(e,t,n,r){const i=ud(e);let a=Wte(ds(e),n==="start",r);return i&&(a=a.map(o=>o+"-"+i),t&&(a=a.concat(a.map(Vj)))),a}function gv(e){return e.replace(/left|right|bottom|top/g,t=>zte[t])}function Xte(e){return{top:0,right:0,bottom:0,left:0,...e}}function oU(e){return typeof e!="number"?Xte(e):{top:e,right:e,bottom:e,left:e}}function vv(e){const{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}function kk(e,t,n){let{reference:r,floating:i}=e;const a=ya(t),o=OA(t),l=TA(o),d=ds(t),f=a==="y",m=r.x+r.width/2-i.width/2,p=r.y+r.height/2-i.height/2,v=r[l]/2-i[l]/2;let b;switch(d){case"top":b={x:m,y:r.y-i.height};break;case"bottom":b={x:m,y:r.y+r.height};break;case"right":b={x:r.x+r.width,y:p};break;case"left":b={x:r.x-i.width,y:p};break;default:b={x:r.x,y:r.y}}switch(ud(t)){case"start":b[o]-=v*(n&&f?-1:1);break;case"end":b[o]+=v*(n&&f?-1:1);break}return b}const Qte=async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:a=[],platform:o}=n,l=a.filter(Boolean),d=await(o.isRTL==null?void 0:o.isRTL(t));let f=await o.getElementRects({reference:e,floating:t,strategy:i}),{x:m,y:p}=kk(f,r,d),v=r,b={},x=0;for(let y=0;y<l.length;y++){const{name:w,fn:E}=l[y],{x:N,y:j,data:O,reset:T}=await E({x:m,y:p,initialPlacement:r,placement:v,strategy:i,middlewareData:b,rects:f,platform:o,elements:{reference:e,floating:t}});m=N??m,p=j??p,b={...b,[w]:{...b[w],...O}},T&&x<=50&&(x++,typeof T=="object"&&(T.placement&&(v=T.placement),T.rects&&(f=T.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:i}):T.rects),{x:m,y:p}=kk(f,v,d)),y=-1)}return{x:m,y:p,placement:v,strategy:i,middlewareData:b}};async function Sh(e,t){var n;t===void 0&&(t={});const{x:r,y:i,platform:a,rects:o,elements:l,strategy:d}=e,{boundary:f="clippingAncestors",rootBoundary:m="viewport",elementContext:p="floating",altBoundary:v=!1,padding:b=0}=us(t,e),x=oU(b),w=l[v?p==="floating"?"reference":"floating":p],E=vv(await a.getClippingRect({element:(n=await(a.isElement==null?void 0:a.isElement(w)))==null||n?w:w.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(l.floating)),boundary:f,rootBoundary:m,strategy:d})),N=p==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,j=await(a.getOffsetParent==null?void 0:a.getOffsetParent(l.floating)),O=await(a.isElement==null?void 0:a.isElement(j))?await(a.getScale==null?void 0:a.getScale(j))||{x:1,y:1}:{x:1,y:1},T=vv(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:N,offsetParent:j,strategy:d}):N);return{top:(E.top-T.top+x.top)/O.y,bottom:(T.bottom-E.bottom+x.bottom)/O.y,left:(E.left-T.left+x.left)/O.x,right:(T.right-E.right+x.right)/O.x}}const Jte=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:i,rects:a,platform:o,elements:l,middlewareData:d}=t,{element:f,padding:m=0}=us(e,t)||{};if(f==null)return{};const p=oU(m),v={x:n,y:r},b=OA(i),x=TA(b),y=await o.getDimensions(f),w=b==="y",E=w?"top":"left",N=w?"bottom":"right",j=w?"clientHeight":"clientWidth",O=a.reference[x]+a.reference[b]-v[b]-a.floating[x],T=v[b]-a.reference[b],C=await(o.getOffsetParent==null?void 0:o.getOffsetParent(f));let R=C?C[j]:0;(!R||!await(o.isElement==null?void 0:o.isElement(C)))&&(R=l.floating[j]||a.floating[x]);const M=O/2-T/2,k=R/2-y[x]/2-1,I=mo(p[E],k),B=mo(p[N],k),$=I,F=R-y[x]-B,H=R/2-y[x]/2+M,U=Fj($,H,F),D=!d.arrow&&ud(i)!=null&&H!==U&&a.reference[x]/2-(H<$?I:B)-y[x]/2<0,G=D?H<$?H-$:H-F:0;return{[b]:v[b]+G,data:{[b]:U,centerOffset:H-U-G,...D&&{alignmentOffset:G}},reset:D}}}),Zte=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:i,middlewareData:a,rects:o,initialPlacement:l,platform:d,elements:f}=t,{mainAxis:m=!0,crossAxis:p=!0,fallbackPlacements:v,fallbackStrategy:b="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:y=!0,...w}=us(e,t);if((n=a.arrow)!=null&&n.alignmentOffset)return{};const E=ds(i),N=ya(l),j=ds(l)===l,O=await(d.isRTL==null?void 0:d.isRTL(f.floating)),T=v||(j||!y?[gv(l)]:Hte(l)),C=x!=="none";!v&&C&&T.push(...Yte(l,y,x,O));const R=[l,...T],M=await Sh(t,w),k=[];let I=((r=a.flip)==null?void 0:r.overflows)||[];if(m&&k.push(M[E]),p){const H=Vte(i,o,O);k.push(M[H[0]],M[H[1]])}if(I=[...I,{placement:i,overflows:k}],!k.every(H=>H<=0)){var B,$;const H=(((B=a.flip)==null?void 0:B.index)||0)+1,U=R[H];if(U&&(!(p==="alignment"?N!==ya(U):!1)||I.every(z=>ya(z.placement)===N?z.overflows[0]>0:!0)))return{data:{index:H,overflows:I},reset:{placement:U}};let D=($=I.filter(G=>G.overflows[0]<=0).sort((G,z)=>G.overflows[1]-z.overflows[1])[0])==null?void 0:$.placement;if(!D)switch(b){case"bestFit":{var F;const G=(F=I.filter(z=>{if(C){const X=ya(z.placement);return X===N||X==="y"}return!0}).map(z=>[z.placement,z.overflows.filter(X=>X>0).reduce((X,ue)=>X+ue,0)]).sort((z,X)=>z[1]-X[1])[0])==null?void 0:F[0];G&&(D=G);break}case"initialPlacement":D=l;break}if(i!==D)return{reset:{placement:D}}}return{}}}};function Dk(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Ik(e){return qte.some(t=>e[t]>=0)}const ene=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...i}=us(e,t);switch(r){case"referenceHidden":{const a=await Sh(t,{...i,elementContext:"reference"}),o=Dk(a,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:Ik(o)}}}case"escaped":{const a=await Sh(t,{...i,altBoundary:!0}),o=Dk(a,n.floating);return{data:{escapedOffsets:o,escaped:Ik(o)}}}default:return{}}}}},lU=new Set(["left","top"]);async function tne(e,t){const{placement:n,platform:r,elements:i}=e,a=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=ds(n),l=ud(n),d=ya(n)==="y",f=lU.has(o)?-1:1,m=a&&d?-1:1,p=us(t,e);let{mainAxis:v,crossAxis:b,alignmentAxis:x}=typeof p=="number"?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:p.mainAxis||0,crossAxis:p.crossAxis||0,alignmentAxis:p.alignmentAxis};return l&&typeof x=="number"&&(b=l==="end"?x*-1:x),d?{x:b*m,y:v*f}:{x:v*f,y:b*m}}const nne=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:i,y:a,placement:o,middlewareData:l}=t,d=await tne(t,e);return o===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:i+d.x,y:a+d.y,data:{...d,placement:o}}}}},rne=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i}=t,{mainAxis:a=!0,crossAxis:o=!1,limiter:l={fn:w=>{let{x:E,y:N}=w;return{x:E,y:N}}},...d}=us(e,t),f={x:n,y:r},m=await Sh(t,d),p=ya(ds(i)),v=AA(p);let b=f[v],x=f[p];if(a){const w=v==="y"?"top":"left",E=v==="y"?"bottom":"right",N=b+m[w],j=b-m[E];b=Fj(N,b,j)}if(o){const w=p==="y"?"top":"left",E=p==="y"?"bottom":"right",N=x+m[w],j=x-m[E];x=Fj(N,x,j)}const y=l.fn({...t,[v]:b,[p]:x});return{...y,data:{x:y.x-n,y:y.y-r,enabled:{[v]:a,[p]:o}}}}}},ine=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:i,rects:a,middlewareData:o}=t,{offset:l=0,mainAxis:d=!0,crossAxis:f=!0}=us(e,t),m={x:n,y:r},p=ya(i),v=AA(p);let b=m[v],x=m[p];const y=us(l,t),w=typeof y=="number"?{mainAxis:y,crossAxis:0}:{mainAxis:0,crossAxis:0,...y};if(d){const j=v==="y"?"height":"width",O=a.reference[v]-a.floating[j]+w.mainAxis,T=a.reference[v]+a.reference[j]-w.mainAxis;b<O?b=O:b>T&&(b=T)}if(f){var E,N;const j=v==="y"?"width":"height",O=lU.has(ds(i)),T=a.reference[p]-a.floating[j]+(O&&((E=o.offset)==null?void 0:E[p])||0)+(O?0:w.crossAxis),C=a.reference[p]+a.reference[j]+(O?0:((N=o.offset)==null?void 0:N[p])||0)-(O?w.crossAxis:0);x<T?x=T:x>C&&(x=C)}return{[v]:b,[p]:x}}}},ane=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:i,rects:a,platform:o,elements:l}=t,{apply:d=()=>{},...f}=us(e,t),m=await Sh(t,f),p=ds(i),v=ud(i),b=ya(i)==="y",{width:x,height:y}=a.floating;let w,E;p==="top"||p==="bottom"?(w=p,E=v===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(E=p,w=v==="end"?"top":"bottom");const N=y-m.top-m.bottom,j=x-m.left-m.right,O=mo(y-m[w],N),T=mo(x-m[E],j),C=!t.middlewareData.shift;let R=O,M=T;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(M=j),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(R=N),C&&!v){const I=li(m.left,0),B=li(m.right,0),$=li(m.top,0),F=li(m.bottom,0);b?M=x-2*(I!==0||B!==0?I+B:li(m.left,m.right)):R=y-2*($!==0||F!==0?$+F:li(m.top,m.bottom))}await d({...t,availableWidth:M,availableHeight:R});const k=await o.getDimensions(l.floating);return x!==k.width||y!==k.height?{reset:{rects:!0}}:{}}}};function By(){return typeof window<"u"}function dd(e){return cU(e)?(e.nodeName||"").toLowerCase():"#document"}function mi(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Pa(e){var t;return(t=(cU(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function cU(e){return By()?e instanceof Node||e instanceof mi(e).Node:!1}function ia(e){return By()?e instanceof Element||e instanceof mi(e).Element:!1}function Ta(e){return By()?e instanceof HTMLElement||e instanceof mi(e).HTMLElement:!1}function $k(e){return!By()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof mi(e).ShadowRoot}const sne=new Set(["inline","contents"]);function jm(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=aa(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!sne.has(i)}const one=new Set(["table","td","th"]);function lne(e){return one.has(dd(e))}const cne=[":popover-open",":modal"];function qy(e){return cne.some(t=>{try{return e.matches(t)}catch{return!1}})}const une=["transform","translate","scale","rotate","perspective"],dne=["transform","translate","scale","rotate","perspective","filter"],fne=["paint","layout","strict","content"];function CA(e){const t=RA(),n=ia(e)?aa(e):e;return une.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||dne.some(r=>(n.willChange||"").includes(r))||fne.some(r=>(n.contain||"").includes(r))}function hne(e){let t=po(e);for(;Ta(t)&&!Nu(t);){if(CA(t))return t;if(qy(t))return null;t=po(t)}return null}function RA(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const mne=new Set(["html","body","#document"]);function Nu(e){return mne.has(dd(e))}function aa(e){return mi(e).getComputedStyle(e)}function zy(e){return ia(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function po(e){if(dd(e)==="html")return e;const t=e.assignedSlot||e.parentNode||$k(e)&&e.host||Pa(e);return $k(t)?t.host:t}function uU(e){const t=po(e);return Nu(t)?e.ownerDocument?e.ownerDocument.body:e.body:Ta(t)&&jm(t)?t:uU(t)}function jh(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const i=uU(e),a=i===((r=e.ownerDocument)==null?void 0:r.body),o=mi(i);if(a){const l=Hj(o);return t.concat(o,o.visualViewport||[],jm(i)?i:[],l&&n?jh(l):[])}return t.concat(i,jh(i,[],n))}function Hj(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function dU(e){const t=aa(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=Ta(e),a=i?e.offsetWidth:n,o=i?e.offsetHeight:r,l=pv(n)!==a||pv(r)!==o;return l&&(n=a,r=o),{width:n,height:r,$:l}}function PA(e){return ia(e)?e:e.contextElement}function mu(e){const t=PA(e);if(!Ta(t))return wa(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:a}=dU(t);let o=(a?pv(n.width):n.width)/r,l=(a?pv(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const pne=wa(0);function fU(e){const t=mi(e);return!RA()||!t.visualViewport?pne:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function gne(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==mi(e)?!1:t}function Ol(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),a=PA(e);let o=wa(1);t&&(r?ia(r)&&(o=mu(r)):o=mu(e));const l=gne(a,n,r)?fU(a):wa(0);let d=(i.left+l.x)/o.x,f=(i.top+l.y)/o.y,m=i.width/o.x,p=i.height/o.y;if(a){const v=mi(a),b=r&&ia(r)?mi(r):r;let x=v,y=Hj(x);for(;y&&r&&b!==x;){const w=mu(y),E=y.getBoundingClientRect(),N=aa(y),j=E.left+(y.clientLeft+parseFloat(N.paddingLeft))*w.x,O=E.top+(y.clientTop+parseFloat(N.paddingTop))*w.y;d*=w.x,f*=w.y,m*=w.x,p*=w.y,d+=j,f+=O,x=mi(y),y=Hj(x)}}return vv({width:m,height:p,x:d,y:f})}function Uy(e,t){const n=zy(e).scrollLeft;return t?t.left+n:Ol(Pa(e)).left+n}function hU(e,t){const n=e.getBoundingClientRect(),r=n.left+t.scrollLeft-Uy(e,n),i=n.top+t.scrollTop;return{x:r,y:i}}function vne(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e;const a=i==="fixed",o=Pa(r),l=t?qy(t.floating):!1;if(r===o||l&&a)return n;let d={scrollLeft:0,scrollTop:0},f=wa(1);const m=wa(0),p=Ta(r);if((p||!p&&!a)&&((dd(r)!=="body"||jm(o))&&(d=zy(r)),Ta(r))){const b=Ol(r);f=mu(r),m.x=b.x+r.clientLeft,m.y=b.y+r.clientTop}const v=o&&!p&&!a?hU(o,d):wa(0);return{width:n.width*f.x,height:n.height*f.y,x:n.x*f.x-d.scrollLeft*f.x+m.x+v.x,y:n.y*f.y-d.scrollTop*f.y+m.y+v.y}}function yne(e){return Array.from(e.getClientRects())}function bne(e){const t=Pa(e),n=zy(e),r=e.ownerDocument.body,i=li(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),a=li(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+Uy(e);const l=-n.scrollTop;return aa(r).direction==="rtl"&&(o+=li(t.clientWidth,r.clientWidth)-i),{width:i,height:a,x:o,y:l}}const Lk=25;function xne(e,t){const n=mi(e),r=Pa(e),i=n.visualViewport;let a=r.clientWidth,o=r.clientHeight,l=0,d=0;if(i){a=i.width,o=i.height;const m=RA();(!m||m&&t==="fixed")&&(l=i.offsetLeft,d=i.offsetTop)}const f=Uy(r);if(f<=0){const m=r.ownerDocument,p=m.body,v=getComputedStyle(p),b=m.compatMode==="CSS1Compat"&&parseFloat(v.marginLeft)+parseFloat(v.marginRight)||0,x=Math.abs(r.clientWidth-p.clientWidth-b);x<=Lk&&(a-=x)}else f<=Lk&&(a+=f);return{width:a,height:o,x:l,y:d}}const wne=new Set(["absolute","fixed"]);function _ne(e,t){const n=Ol(e,!0,t==="fixed"),r=n.top+e.clientTop,i=n.left+e.clientLeft,a=Ta(e)?mu(e):wa(1),o=e.clientWidth*a.x,l=e.clientHeight*a.y,d=i*a.x,f=r*a.y;return{width:o,height:l,x:d,y:f}}function Bk(e,t,n){let r;if(t==="viewport")r=xne(e,n);else if(t==="document")r=bne(Pa(e));else if(ia(t))r=_ne(t,n);else{const i=fU(e);r={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return vv(r)}function mU(e,t){const n=po(e);return n===t||!ia(n)||Nu(n)?!1:aa(n).position==="fixed"||mU(n,t)}function Sne(e,t){const n=t.get(e);if(n)return n;let r=jh(e,[],!1).filter(l=>ia(l)&&dd(l)!=="body"),i=null;const a=aa(e).position==="fixed";let o=a?po(e):e;for(;ia(o)&&!Nu(o);){const l=aa(o),d=CA(o);!d&&l.position==="fixed"&&(i=null),(a?!d&&!i:!d&&l.position==="static"&&!!i&&wne.has(i.position)||jm(o)&&!d&&mU(e,o))?r=r.filter(m=>m!==o):i=l,o=po(o)}return t.set(e,r),r}function jne(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const o=[...n==="clippingAncestors"?qy(t)?[]:Sne(t,this._c):[].concat(n),r],l=o[0],d=o.reduce((f,m)=>{const p=Bk(t,m,i);return f.top=li(p.top,f.top),f.right=mo(p.right,f.right),f.bottom=mo(p.bottom,f.bottom),f.left=li(p.left,f.left),f},Bk(t,l,i));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function Ene(e){const{width:t,height:n}=dU(e);return{width:t,height:n}}function Nne(e,t,n){const r=Ta(t),i=Pa(t),a=n==="fixed",o=Ol(e,!0,a,t);let l={scrollLeft:0,scrollTop:0};const d=wa(0);function f(){d.x=Uy(i)}if(r||!r&&!a)if((dd(t)!=="body"||jm(i))&&(l=zy(t)),r){const b=Ol(t,!0,a,t);d.x=b.x+t.clientLeft,d.y=b.y+t.clientTop}else i&&f();a&&!r&&i&&f();const m=i&&!r&&!a?hU(i,l):wa(0),p=o.left+l.scrollLeft-d.x-m.x,v=o.top+l.scrollTop-d.y-m.y;return{x:p,y:v,width:o.width,height:o.height}}function Aw(e){return aa(e).position==="static"}function qk(e,t){if(!Ta(e)||aa(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Pa(e)===n&&(n=n.ownerDocument.body),n}function pU(e,t){const n=mi(e);if(qy(e))return n;if(!Ta(e)){let i=po(e);for(;i&&!Nu(i);){if(ia(i)&&!Aw(i))return i;i=po(i)}return n}let r=qk(e,t);for(;r&&lne(r)&&Aw(r);)r=qk(r,t);return r&&Nu(r)&&Aw(r)&&!CA(r)?n:r||hne(e)||n}const Ane=async function(e){const t=this.getOffsetParent||pU,n=this.getDimensions,r=await n(e.floating);return{reference:Nne(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function Tne(e){return aa(e).direction==="rtl"}const One={convertOffsetParentRelativeRectToViewportRelativeRect:vne,getDocumentElement:Pa,getClippingRect:jne,getOffsetParent:pU,getElementRects:Ane,getClientRects:yne,getDimensions:Ene,getScale:mu,isElement:ia,isRTL:Tne};function gU(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function Cne(e,t){let n=null,r;const i=Pa(e);function a(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function o(l,d){l===void 0&&(l=!1),d===void 0&&(d=1),a();const f=e.getBoundingClientRect(),{left:m,top:p,width:v,height:b}=f;if(l||t(),!v||!b)return;const x=hg(p),y=hg(i.clientWidth-(m+v)),w=hg(i.clientHeight-(p+b)),E=hg(m),j={rootMargin:-x+"px "+-y+"px "+-w+"px "+-E+"px",threshold:li(0,mo(1,d))||1};let O=!0;function T(C){const R=C[0].intersectionRatio;if(R!==d){if(!O)return o();R?o(!1,R):r=setTimeout(()=>{o(!1,1e-7)},1e3)}R===1&&!gU(f,e.getBoundingClientRect())&&o(),O=!1}try{n=new IntersectionObserver(T,{...j,root:i.ownerDocument})}catch{n=new IntersectionObserver(T,j)}n.observe(e)}return o(!0),a}function Rne(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:d=!1}=r,f=PA(e),m=i||a?[...f?jh(f):[],...jh(t)]:[];m.forEach(E=>{i&&E.addEventListener("scroll",n,{passive:!0}),a&&E.addEventListener("resize",n)});const p=f&&l?Cne(f,n):null;let v=-1,b=null;o&&(b=new ResizeObserver(E=>{let[N]=E;N&&N.target===f&&b&&(b.unobserve(t),cancelAnimationFrame(v),v=requestAnimationFrame(()=>{var j;(j=b)==null||j.observe(t)})),n()}),f&&!d&&b.observe(f),b.observe(t));let x,y=d?Ol(e):null;d&&w();function w(){const E=Ol(e);y&&!gU(y,E)&&n(),y=E,x=requestAnimationFrame(w)}return n(),()=>{var E;m.forEach(N=>{i&&N.removeEventListener("scroll",n),a&&N.removeEventListener("resize",n)}),p?.(),(E=b)==null||E.disconnect(),b=null,d&&cancelAnimationFrame(x)}}const Pne=nne,Mne=rne,kne=Zte,Dne=ane,Ine=ene,zk=Jte,$ne=ine,Lne=(e,t,n)=>{const r=new Map,i={platform:One,...n},a={...i.platform,_c:r};return Qte(e,t,{...i,platform:a})};var Bne=typeof document<"u",qne=function(){},Yg=Bne?_.useLayoutEffect:qne;function yv(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!yv(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,i[r]))return!1;for(r=n;r--!==0;){const a=i[r];if(!(a==="_owner"&&e.$$typeof)&&!yv(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function vU(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Uk(e,t){const n=vU(e);return Math.round(t*n)/n}function Tw(e){const t=_.useRef(e);return Yg(()=>{t.current=e}),t}function zne(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:a,floating:o}={},transform:l=!0,whileElementsMounted:d,open:f}=e,[m,p]=_.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[v,b]=_.useState(r);yv(v,r)||b(r);const[x,y]=_.useState(null),[w,E]=_.useState(null),N=_.useCallback(z=>{z!==C.current&&(C.current=z,y(z))},[]),j=_.useCallback(z=>{z!==R.current&&(R.current=z,E(z))},[]),O=a||x,T=o||w,C=_.useRef(null),R=_.useRef(null),M=_.useRef(m),k=d!=null,I=Tw(d),B=Tw(i),$=Tw(f),F=_.useCallback(()=>{if(!C.current||!R.current)return;const z={placement:t,strategy:n,middleware:v};B.current&&(z.platform=B.current),Lne(C.current,R.current,z).then(X=>{const ue={...X,isPositioned:$.current!==!1};H.current&&!yv(M.current,ue)&&(M.current=ue,zl.flushSync(()=>{p(ue)}))})},[v,t,n,B,$]);Yg(()=>{f===!1&&M.current.isPositioned&&(M.current.isPositioned=!1,p(z=>({...z,isPositioned:!1})))},[f]);const H=_.useRef(!1);Yg(()=>(H.current=!0,()=>{H.current=!1}),[]),Yg(()=>{if(O&&(C.current=O),T&&(R.current=T),O&&T){if(I.current)return I.current(O,T,F);F()}},[O,T,F,I,k]);const U=_.useMemo(()=>({reference:C,floating:R,setReference:N,setFloating:j}),[N,j]),D=_.useMemo(()=>({reference:O,floating:T}),[O,T]),G=_.useMemo(()=>{const z={position:n,left:0,top:0};if(!D.floating)return z;const X=Uk(D.floating,m.x),ue=Uk(D.floating,m.y);return l?{...z,transform:"translate("+X+"px, "+ue+"px)",...vU(D.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:X,top:ue}},[n,l,D.floating,m.x,m.y]);return _.useMemo(()=>({...m,update:F,refs:U,elements:D,floatingStyles:G}),[m,F,U,D,G])}const Une=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:i}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?zk({element:r.current,padding:i}).fn(n):{}:r?zk({element:r,padding:i}).fn(n):{}}}},Fne=(e,t)=>({...Pne(e),options:[e,t]}),Vne=(e,t)=>({...Mne(e),options:[e,t]}),Hne=(e,t)=>({...$ne(e),options:[e,t]}),Gne=(e,t)=>({...kne(e),options:[e,t]}),Kne=(e,t)=>({...Dne(e),options:[e,t]}),Wne=(e,t)=>({...Ine(e),options:[e,t]}),Yne=(e,t)=>({...Une(e),options:[e,t]});var Xne="Arrow",yU=_.forwardRef((e,t)=>{const{children:n,width:r=10,height:i=5,...a}=e;return u.jsx(gt.svg,{...a,ref:t,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:u.jsx("polygon",{points:"0,0 30,0 15,10"})})});yU.displayName=Xne;var Qne=yU;function Fy(e){const[t,n]=_.useState(void 0);return Ut(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const a=i[0];let o,l;if("borderBoxSize"in a){const d=a.borderBoxSize,f=Array.isArray(d)?d[0]:d;o=f.inlineSize,l=f.blockSize}else o=e.offsetWidth,l=e.offsetHeight;n({width:o,height:l})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var MA="Popper",[bU,fd]=Rr(MA),[Jne,xU]=bU(MA),wU=e=>{const{__scopePopper:t,children:n}=e,[r,i]=_.useState(null);return u.jsx(Jne,{scope:t,anchor:r,onAnchorChange:i,children:n})};wU.displayName=MA;var _U="PopperAnchor",SU=_.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...i}=e,a=xU(_U,n),o=_.useRef(null),l=jt(t,o),d=_.useRef(null);return _.useEffect(()=>{const f=d.current;d.current=r?.current||o.current,f!==d.current&&a.onAnchorChange(d.current)}),r?null:u.jsx(gt.div,{...i,ref:l})});SU.displayName=_U;var kA="PopperContent",[Zne,ere]=bU(kA),jU=_.forwardRef((e,t)=>{const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:a="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:d=!0,collisionBoundary:f=[],collisionPadding:m=0,sticky:p="partial",hideWhenDetached:v=!1,updatePositionStrategy:b="optimized",onPlaced:x,...y}=e,w=xU(kA,n),[E,N]=_.useState(null),j=jt(t,J=>N(J)),[O,T]=_.useState(null),C=Fy(O),R=C?.width??0,M=C?.height??0,k=r+(a!=="center"?"-"+a:""),I=typeof m=="number"?m:{top:0,right:0,bottom:0,left:0,...m},B=Array.isArray(f)?f:[f],$=B.length>0,F={padding:I,boundary:B.filter(nre),altBoundary:$},{refs:H,floatingStyles:U,placement:D,isPositioned:G,middlewareData:z}=zne({strategy:"fixed",placement:k,whileElementsMounted:(...J)=>Rne(...J,{animationFrame:b==="always"}),elements:{reference:w.anchor},middleware:[Fne({mainAxis:i+M,alignmentAxis:o}),d&&Vne({mainAxis:!0,crossAxis:!1,limiter:p==="partial"?Hne():void 0,...F}),d&&Gne({...F}),Kne({...F,apply:({elements:J,rects:he,availableWidth:se,availableHeight:pe})=>{const{width:xe,height:ee}=he.reference,$e=J.floating.style;$e.setProperty("--radix-popper-available-width",`${se}px`),$e.setProperty("--radix-popper-available-height",`${pe}px`),$e.setProperty("--radix-popper-anchor-width",`${xe}px`),$e.setProperty("--radix-popper-anchor-height",`${ee}px`)}}),O&&Yne({element:O,padding:l}),rre({arrowWidth:R,arrowHeight:M}),v&&Wne({strategy:"referenceHidden",...F})]}),[X,ue]=AU(D),V=Sr(x);Ut(()=>{G&&V?.()},[G,V]);const K=z.arrow?.x,Z=z.arrow?.y,oe=z.arrow?.centerOffset!==0,[be,ae]=_.useState();return Ut(()=>{E&&ae(window.getComputedStyle(E).zIndex)},[E]),u.jsx("div",{ref:H.setFloating,"data-radix-popper-content-wrapper":"",style:{...U,transform:G?U.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:be,"--radix-popper-transform-origin":[z.transformOrigin?.x,z.transformOrigin?.y].join(" "),...z.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:u.jsx(Zne,{scope:n,placedSide:X,onArrowChange:T,arrowX:K,arrowY:Z,shouldHideArrow:oe,children:u.jsx(gt.div,{"data-side":X,"data-align":ue,...y,ref:j,style:{...y.style,animation:G?void 0:"none"}})})})});jU.displayName=kA;var EU="PopperArrow",tre={top:"bottom",right:"left",bottom:"top",left:"right"},NU=_.forwardRef(function(t,n){const{__scopePopper:r,...i}=t,a=ere(EU,r),o=tre[a.placedSide];return u.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:u.jsx(Qne,{...i,ref:n,style:{...i.style,display:"block"}})})});NU.displayName=EU;function nre(e){return e!==null}var rre=e=>({name:"transformOrigin",options:e,fn(t){const{placement:n,rects:r,middlewareData:i}=t,o=i.arrow?.centerOffset!==0,l=o?0:e.arrowWidth,d=o?0:e.arrowHeight,[f,m]=AU(n),p={start:"0%",center:"50%",end:"100%"}[m],v=(i.arrow?.x??0)+l/2,b=(i.arrow?.y??0)+d/2;let x="",y="";return f==="bottom"?(x=o?p:`${v}px`,y=`${-d}px`):f==="top"?(x=o?p:`${v}px`,y=`${r.floating.height+d}px`):f==="right"?(x=`${-d}px`,y=o?p:`${b}px`):f==="left"&&(x=`${r.floating.width+d}px`,y=o?p:`${b}px`),{data:{x,y}}}});function AU(e){const[t,n="center"]=e.split("-");return[t,n]}var TU=wU,Vy=SU,DA=jU,IA=NU,ire="Portal",Em=_.forwardRef((e,t)=>{const{container:n,...r}=e,[i,a]=_.useState(!1);Ut(()=>a(!0),[]);const o=n||i&&globalThis?.document?.body;return o?lz.createPortal(u.jsx(gt.div,{...r,ref:t}),o):null});Em.displayName=ire;function are(e,t){return _.useReducer((n,r)=>t[n][r]??n,e)}var la=e=>{const{present:t,children:n}=e,r=sre(t),i=typeof n=="function"?n({present:r.isPresent}):_.Children.only(n),a=jt(r.ref,ore(i));return typeof n=="function"||r.isPresent?_.cloneElement(i,{ref:a}):null};la.displayName="Presence";function sre(e){const[t,n]=_.useState(),r=_.useRef(null),i=_.useRef(e),a=_.useRef("none"),o=e?"mounted":"unmounted",[l,d]=are(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return _.useEffect(()=>{const f=mg(r.current);a.current=l==="mounted"?f:"none"},[l]),Ut(()=>{const f=r.current,m=i.current;if(m!==e){const v=a.current,b=mg(f);e?d("MOUNT"):b==="none"||f?.display==="none"?d("UNMOUNT"):d(m&&v!==b?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,d]),Ut(()=>{if(t){let f;const m=t.ownerDocument.defaultView??window,p=b=>{const y=mg(r.current).includes(CSS.escape(b.animationName));if(b.target===t&&y&&(d("ANIMATION_END"),!i.current)){const w=t.style.animationFillMode;t.style.animationFillMode="forwards",f=m.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=w)})}},v=b=>{b.target===t&&(a.current=mg(r.current))};return t.addEventListener("animationstart",v),t.addEventListener("animationcancel",p),t.addEventListener("animationend",p),()=>{m.clearTimeout(f),t.removeEventListener("animationstart",v),t.removeEventListener("animationcancel",p),t.removeEventListener("animationend",p)}}else d("ANIMATION_END")},[t,d]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:_.useCallback(f=>{r.current=f?getComputedStyle(f):null,n(f)},[])}}function mg(e){return e?.animationName||"none"}function ore(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var lre=Symbol("radix.slottable");function cre(e){const t=({children:n})=>u.jsx(u.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=lre,t}var OU=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),ure="VisuallyHidden",CU=_.forwardRef((e,t)=>u.jsx(gt.span,{...e,ref:t,style:{...OU,...e.style}}));CU.displayName=ure;var dre=CU,[Hy]=Rr("Tooltip",[fd]),$A=fd(),RU="TooltipProvider",fre=700,Fk="tooltip.open",[hre,PU]=Hy(RU),MU=e=>{const{__scopeTooltip:t,delayDuration:n=fre,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:a}=e,o=_.useRef(!0),l=_.useRef(!1),d=_.useRef(0);return _.useEffect(()=>{const f=d.current;return()=>window.clearTimeout(f)},[]),u.jsx(hre,{scope:t,isOpenDelayedRef:o,delayDuration:n,onOpen:_.useCallback(()=>{window.clearTimeout(d.current),o.current=!1},[]),onClose:_.useCallback(()=>{window.clearTimeout(d.current),d.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:_.useCallback(f=>{l.current=f},[]),disableHoverableContent:i,children:a})};MU.displayName=RU;var kU="Tooltip",[xke,Nm]=Hy(kU),Gj="TooltipTrigger",mre=_.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,i=Nm(Gj,n),a=PU(Gj,n),o=$A(n),l=_.useRef(null),d=jt(t,l,i.onTriggerChange),f=_.useRef(!1),m=_.useRef(!1),p=_.useCallback(()=>f.current=!1,[]);return _.useEffect(()=>()=>document.removeEventListener("pointerup",p),[p]),u.jsx(Vy,{asChild:!0,...o,children:u.jsx(gt.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:d,onPointerMove:Mc(e.onPointerMove,v=>{v.pointerType!=="touch"&&!m.current&&!a.isPointerInTransitRef.current&&(i.onTriggerEnter(),m.current=!0)}),onPointerLeave:Mc(e.onPointerLeave,()=>{i.onTriggerLeave(),m.current=!1}),onPointerDown:Mc(e.onPointerDown,()=>{i.open&&i.onClose(),f.current=!0,document.addEventListener("pointerup",p,{once:!0})}),onFocus:Mc(e.onFocus,()=>{f.current||i.onOpen()}),onBlur:Mc(e.onBlur,i.onClose),onClick:Mc(e.onClick,i.onClose)})})});mre.displayName=Gj;var LA="TooltipPortal",[pre,gre]=Hy(LA,{forceMount:void 0}),DU=e=>{const{__scopeTooltip:t,forceMount:n,children:r,container:i}=e,a=Nm(LA,t);return u.jsx(pre,{scope:t,forceMount:n,children:u.jsx(la,{present:n||a.open,children:u.jsx(Em,{asChild:!0,container:i,children:r})})})};DU.displayName=LA;var Au="TooltipContent",IU=_.forwardRef((e,t)=>{const n=gre(Au,e.__scopeTooltip),{forceMount:r=n.forceMount,side:i="top",...a}=e,o=Nm(Au,e.__scopeTooltip);return u.jsx(la,{present:r||o.open,children:o.disableHoverableContent?u.jsx($U,{side:i,...a,ref:t}):u.jsx(vre,{side:i,...a,ref:t})})}),vre=_.forwardRef((e,t)=>{const n=Nm(Au,e.__scopeTooltip),r=PU(Au,e.__scopeTooltip),i=_.useRef(null),a=jt(t,i),[o,l]=_.useState(null),{trigger:d,onClose:f}=n,m=i.current,{onPointerInTransitChange:p}=r,v=_.useCallback(()=>{l(null),p(!1)},[p]),b=_.useCallback((x,y)=>{const w=x.currentTarget,E={x:x.clientX,y:x.clientY},N=_re(E,w.getBoundingClientRect()),j=Sre(E,N),O=jre(y.getBoundingClientRect()),T=Nre([...j,...O]);l(T),p(!0)},[p]);return _.useEffect(()=>()=>v(),[v]),_.useEffect(()=>{if(d&&m){const x=w=>b(w,m),y=w=>b(w,d);return d.addEventListener("pointerleave",x),m.addEventListener("pointerleave",y),()=>{d.removeEventListener("pointerleave",x),m.removeEventListener("pointerleave",y)}}},[d,m,b,v]),_.useEffect(()=>{if(o){const x=y=>{const w=y.target,E={x:y.clientX,y:y.clientY},N=d?.contains(w)||m?.contains(w),j=!Ere(E,o);N?v():j&&(v(),f())};return document.addEventListener("pointermove",x),()=>document.removeEventListener("pointermove",x)}},[d,m,o,f,v]),u.jsx($U,{...e,ref:a})}),[yre,bre]=Hy(kU,{isInside:!1}),xre=cre("TooltipContent"),$U=_.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:a,onPointerDownOutside:o,...l}=e,d=Nm(Au,n),f=$A(n),{onClose:m}=d;return _.useEffect(()=>(document.addEventListener(Fk,m),()=>document.removeEventListener(Fk,m)),[m]),_.useEffect(()=>{if(d.trigger){const p=v=>{v.target?.contains(d.trigger)&&m()};return window.addEventListener("scroll",p,{capture:!0}),()=>window.removeEventListener("scroll",p,{capture:!0})}},[d.trigger,m]),u.jsx(Sm,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:p=>p.preventDefault(),onDismiss:m,children:u.jsxs(DA,{"data-state":d.stateAttribute,...f,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[u.jsx(xre,{children:r}),u.jsx(yre,{scope:n,isInside:!0,children:u.jsx(dre,{id:d.contentId,role:"tooltip",children:i||r})})]})})});IU.displayName=Au;var LU="TooltipArrow",wre=_.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,i=$A(n);return bre(LU,n).isInside?null:u.jsx(IA,{...i,...r,ref:t})});wre.displayName=LU;function _re(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),i=Math.abs(t.right-e.x),a=Math.abs(t.left-e.x);switch(Math.min(n,r,i,a)){case a:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function Sre(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function jre(e){const{top:t,right:n,bottom:r,left:i}=e;return[{x:i,y:t},{x:n,y:t},{x:n,y:r},{x:i,y:r}]}function Ere(e,t){const{x:n,y:r}=e;let i=!1;for(let a=0,o=t.length-1;a<t.length;o=a++){const l=t[a],d=t[o],f=l.x,m=l.y,p=d.x,v=d.y;m>r!=v>r&&n<(p-f)*(r-m)/(v-m)+f&&(i=!i)}return i}function Nre(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),Are(t)}function Are(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const i=e[r];for(;t.length>=2;){const a=t[t.length-1],o=t[t.length-2];if((a.x-o.x)*(i.y-o.y)>=(a.y-o.y)*(i.x-o.x))t.pop();else break}t.push(i)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const i=e[r];for(;n.length>=2;){const a=n[n.length-1],o=n[n.length-2];if((a.x-o.x)*(i.y-o.y)>=(a.y-o.y)*(i.x-o.x))n.pop();else break}n.push(i)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var Tre=MU,Ore=DU,BU=IU;const Cre=Tre,Rre=_.forwardRef(({className:e,sideOffset:t=4,...n},r)=>u.jsx(Ore,{children:u.jsx(BU,{ref:r,sideOffset:t,className:Ne("z-50 overflow-hidden rounded-md bg-primary px-3 py-1.5 text-xs text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",e),...n})}));Rre.displayName=BU.displayName;const Vk=e=>{let t;const n=new Set,r=(f,m)=>{const p=typeof f=="function"?f(t):f;if(!Object.is(p,t)){const v=t;t=m??(typeof p!="object"||p===null)?p:Object.assign({},t,p),n.forEach(b=>b(t,v))}},i=()=>t,l={setState:r,getState:i,getInitialState:()=>d,subscribe:f=>(n.add(f),()=>n.delete(f))},d=t=e(r,i,l);return l},Pre=(e=>e?Vk(e):Vk),Mre=e=>e;function kre(e,t=Mre){const n=q.useSyncExternalStore(e.subscribe,q.useCallback(()=>t(e.getState()),[e,t]),q.useCallback(()=>t(e.getInitialState()),[e,t]));return q.useDebugValue(n),n}const Hk=e=>{const t=Pre(e),n=r=>kre(t,r);return Object.assign(n,t),n},Dre=(e=>e?Hk(e):Hk);var pa=function(){return pa=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},pa.apply(this,arguments)};function hd(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function Ire(e,t,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function l(m){try{f(r.next(m))}catch(p){o(p)}}function d(m){try{f(r.throw(m))}catch(p){o(p)}}function f(m){m.done?a(m.value):i(m.value).then(l,d)}f((r=r.apply(e,t||[])).next())})}function $re(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,a;r<i;r++)(a||!(r in t))&&(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))}const Lre=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class BA extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class Bre extends BA{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Gk extends BA{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Kk extends BA{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Kj;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Kj||(Kj={}));class qre{constructor(t,{headers:n={},customFetch:r,region:i=Kj.Any}={}){this.url=t,this.headers=n,this.region=i,this.fetch=Lre(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return Ire(this,arguments,void 0,function*(n,r={}){var i;let a,o;try{const{headers:l,method:d,body:f,signal:m,timeout:p}=r;let v={},{region:b}=r;b||(b=this.region);const x=new URL(`${this.url}/${n}`);b&&b!=="any"&&(v["x-region"]=b,x.searchParams.set("forceFunctionRegion",b));let y;f&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)?typeof Blob<"u"&&f instanceof Blob||f instanceof ArrayBuffer?(v["Content-Type"]="application/octet-stream",y=f):typeof f=="string"?(v["Content-Type"]="text/plain",y=f):typeof FormData<"u"&&f instanceof FormData?y=f:(v["Content-Type"]="application/json",y=JSON.stringify(f)):f&&typeof f!="string"&&!(typeof Blob<"u"&&f instanceof Blob)&&!(f instanceof ArrayBuffer)&&!(typeof FormData<"u"&&f instanceof FormData)?y=JSON.stringify(f):y=f;let w=m;p&&(o=new AbortController,a=setTimeout(()=>o.abort(),p),m?(w=o.signal,m.addEventListener("abort",()=>o.abort())):w=o.signal);const E=yield this.fetch(x.toString(),{method:d||"POST",headers:Object.assign(Object.assign(Object.assign({},v),this.headers),l),body:y,signal:w}).catch(T=>{throw new Bre(T)}),N=E.headers.get("x-relay-error");if(N&&N==="true")throw new Gk(E);if(!E.ok)throw new Kk(E);let j=((i=E.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),O;return j==="application/json"?O=yield E.json():j==="application/octet-stream"||j==="application/pdf"?O=yield E.blob():j==="text/event-stream"?O=E:j==="multipart/form-data"?O=yield E.formData():O=yield E.text(),{data:O,error:null,response:E}}catch(l){return{data:null,error:l,response:l instanceof Kk||l instanceof Gk?l.context:void 0}}finally{a&&clearTimeout(a)}})}}var zre=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},Ure=class{constructor(e){var t,n;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(n=e.isMaybeSingle)!==null&&n!==void 0?n:!1,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var n=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{let o=null,l=null,d=null,f=a.status,m=a.statusText;if(a.ok){var p,v;if(n.method!=="HEAD"){var b;const E=await a.text();E===""||(n.headers.get("Accept")==="text/csv"||n.headers.get("Accept")&&(!((b=n.headers.get("Accept"))===null||b===void 0)&&b.includes("application/vnd.pgrst.plan+text"))?l=E:l=JSON.parse(E))}const y=(p=n.headers.get("Prefer"))===null||p===void 0?void 0:p.match(/count=(exact|planned|estimated)/),w=(v=a.headers.get("content-range"))===null||v===void 0?void 0:v.split("/");y&&w&&w.length>1&&(d=parseInt(w[1])),n.isMaybeSingle&&n.method==="GET"&&Array.isArray(l)&&(l.length>1?(o={code:"PGRST116",details:`Results contain ${l.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},l=null,d=null,f=406,m="Not Acceptable"):l.length===1?l=l[0]:l=null)}else{var x;const y=await a.text();try{o=JSON.parse(y),Array.isArray(o)&&a.status===404&&(l=[],o=null,f=200,m="OK")}catch{a.status===404&&y===""?(f=204,m="No Content"):o={message:y}}if(o&&n.isMaybeSingle&&(!(o==null||(x=o.details)===null||x===void 0)&&x.includes("0 rows"))&&(o=null,f=200,m="OK"),o&&n.shouldThrowOnError)throw new zre(o)}return{error:o,data:l,count:d,status:f,statusText:m}});return this.shouldThrowOnError||(i=i.catch(a=>{var o;let l="";const d=a?.cause;if(d){var f,m,p,v;const x=(f=d?.message)!==null&&f!==void 0?f:"",y=(m=d?.code)!==null&&m!==void 0?m:"";l=`${(p=a?.name)!==null&&p!==void 0?p:"FetchError"}: ${a?.message}`,l+=`

Caused by: ${(v=d?.name)!==null&&v!==void 0?v:"Error"}: ${x}`,y&&(l+=` (${y})`),d?.stack&&(l+=`
${d.stack}`)}else{var b;l=(b=a?.stack)!==null&&b!==void 0?b:""}return{error:{message:`${(o=a?.name)!==null&&o!==void 0?o:"FetchError"}: ${a?.message}`,details:l,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),i.then(e,t)}returns(){return this}overrideTypes(){return this}},Fre=class extends Ure{select(e){let t=!1;const n=(e??"*").split("").map(r=>/\s/.test(r)&&!t?"":(r==='"'&&(t=!t),r)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:n,foreignTable:r,referencedTable:i=r}={}){const a=i?`${i}.order`:"order",o=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${o?`${o},`:""}${e}.${t?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:n=t}={}){const r=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(r,`${e}`),this}range(e,t,{foreignTable:n,referencedTable:r=n}={}){const i=typeof r>"u"?"offset":`${r}.offset`,a=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(a,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:n=!1,buffers:r=!1,wal:i=!1,format:a="text"}={}){var o;const l=[e?"analyze":null,t?"verbose":null,n?"settings":null,r?"buffers":null,i?"wal":null].filter(Boolean).join("|"),d=(o=this.headers.get("Accept"))!==null&&o!==void 0?o:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${a}; for="${d}"; options=${l};`),a==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const Wk=new RegExp("[,()]");var Qc=class extends Fre{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const n=Array.from(new Set(t)).map(r=>typeof r=="string"&&Wk.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}notIn(e,t){const n=Array.from(new Set(t)).map(r=>typeof r=="string"&&Wk.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(e,`not.in.(${n})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:n,type:r}={}){let i="";r==="plain"?i="pl":r==="phrase"?i="ph":r==="websearch"&&(i="w");const a=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${i}fts${a}.${t}`),this}match(e){return Object.entries(e).forEach(([t,n])=>{this.url.searchParams.append(t,`eq.${n}`)}),this}not(e,t,n){return this.url.searchParams.append(e,`not.${t}.${n}`),this}or(e,{foreignTable:t,referencedTable:n=t}={}){const r=n?`${n}.or`:"or";return this.url.searchParams.append(r,`(${e})`),this}filter(e,t,n){return this.url.searchParams.append(e,`${t}.${n}`),this}},Vre=class{constructor(e,{headers:t={},schema:n,fetch:r}){this.url=e,this.headers=new Headers(t),this.schema=n,this.fetch=r}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(e,t){const{head:n=!1,count:r}=t??{},i=n?"HEAD":"GET";let a=!1;const o=(e??"*").split("").map(f=>/\s/.test(f)&&!a?"":(f==='"'&&(a=!a),f)).join(""),{url:l,headers:d}=this.cloneRequestState();return l.searchParams.set("select",o),r&&d.append("Prefer",`count=${r}`),new Qc({method:i,url:l,headers:d,schema:this.schema,fetch:this.fetch})}insert(e,{count:t,defaultToNull:n=!0}={}){var r;const i="POST",{url:a,headers:o}=this.cloneRequestState();if(t&&o.append("Prefer",`count=${t}`),n||o.append("Prefer","missing=default"),Array.isArray(e)){const l=e.reduce((d,f)=>d.concat(Object.keys(f)),[]);if(l.length>0){const d=[...new Set(l)].map(f=>`"${f}"`);a.searchParams.set("columns",d.join(","))}}return new Qc({method:i,url:a,headers:o,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}upsert(e,{onConflict:t,ignoreDuplicates:n=!1,count:r,defaultToNull:i=!0}={}){var a;const o="POST",{url:l,headers:d}=this.cloneRequestState();if(d.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),t!==void 0&&l.searchParams.set("on_conflict",t),r&&d.append("Prefer",`count=${r}`),i||d.append("Prefer","missing=default"),Array.isArray(e)){const f=e.reduce((m,p)=>m.concat(Object.keys(p)),[]);if(f.length>0){const m=[...new Set(f)].map(p=>`"${p}"`);l.searchParams.set("columns",m.join(","))}}return new Qc({method:o,url:l,headers:d,schema:this.schema,body:e,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}update(e,{count:t}={}){var n;const r="PATCH",{url:i,headers:a}=this.cloneRequestState();return t&&a.append("Prefer",`count=${t}`),new Qc({method:r,url:i,headers:a,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:e}={}){var t;const n="DELETE",{url:r,headers:i}=this.cloneRequestState();return e&&i.append("Prefer",`count=${e}`),new Qc({method:n,url:r,headers:i,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}},Hre=class qU{constructor(t,{headers:n={},schema:r,fetch:i}={}){this.url=t,this.headers=new Headers(n),this.schemaName=r,this.fetch=i}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new Vre(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new qU(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:i=!1,count:a}={}){var o;let l;const d=new URL(`${this.url}/rpc/${t}`);let f;const m=b=>b!==null&&typeof b=="object"&&(!Array.isArray(b)||b.some(m)),p=r&&Object.values(n).some(m);p?(l="POST",f=n):r||i?(l=r?"HEAD":"GET",Object.entries(n).filter(([b,x])=>x!==void 0).map(([b,x])=>[b,Array.isArray(x)?`{${x.join(",")}}`:`${x}`]).forEach(([b,x])=>{d.searchParams.append(b,x)})):(l="POST",f=n);const v=new Headers(this.headers);return p?v.set("Prefer",a?`count=${a},return=minimal`:"return=minimal"):a&&v.set("Prefer",`count=${a}`),new Qc({method:l,url:d,headers:v,schema:this.schemaName,body:f,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};class Gre{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const n=globalThis.process;if(n){const r=n.versions;if(r&&r.node){const i=r.node,a=parseInt(i.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const r=this.getWebSocketConstructor();return new r(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const Kre="2.93.3",Wre=`realtime-js/${Kre}`,Yre="1.0.0",zU="2.0.0",Yk=zU,Wj=1e4,Xre=1e3,Qre=100;var Zs;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Zs||(Zs={}));var Jn;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Jn||(Jn={}));var Xi;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Xi||(Xi={}));var Yj;(function(e){e.websocket="websocket"})(Yj||(Yj={}));var cl;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(cl||(cl={}));class Jre{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,n){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(t));let r=[t.join_ref,t.ref,t.topic,t.event,t.payload];return n(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(t){var n;return this._isArrayBuffer((n=t.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var n,r;const i=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(t){var n,r;const i=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:{},o=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,o)}_encodeUserBroadcastPush(t,n,r){var i,a;const o=t.topic,l=(i=t.ref)!==null&&i!==void 0?i:"",d=(a=t.join_ref)!==null&&a!==void 0?a:"",f=t.payload.event,m=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},p=Object.keys(m).length===0?"":JSON.stringify(m);if(d.length>255)throw new Error(`joinRef length ${d.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`ref length ${l.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`topic length ${o.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`userEvent length ${f.length} exceeds maximum of 255`);if(p.length>255)throw new Error(`metadata length ${p.length} exceeds maximum of 255`);const v=this.USER_BROADCAST_PUSH_META_LENGTH+d.length+l.length+o.length+f.length+p.length,b=new ArrayBuffer(this.HEADER_LENGTH+v);let x=new DataView(b),y=0;x.setUint8(y++,this.KINDS.userBroadcastPush),x.setUint8(y++,d.length),x.setUint8(y++,l.length),x.setUint8(y++,o.length),x.setUint8(y++,f.length),x.setUint8(y++,p.length),x.setUint8(y++,n),Array.from(d,E=>x.setUint8(y++,E.charCodeAt(0))),Array.from(l,E=>x.setUint8(y++,E.charCodeAt(0))),Array.from(o,E=>x.setUint8(y++,E.charCodeAt(0))),Array.from(f,E=>x.setUint8(y++,E.charCodeAt(0))),Array.from(p,E=>x.setUint8(y++,E.charCodeAt(0)));var w=new Uint8Array(b.byteLength+r.byteLength);return w.set(new Uint8Array(b),0),w.set(new Uint8Array(r),b.byteLength),w.buffer}decode(t,n){if(this._isArrayBuffer(t)){let r=this._binaryDecode(t);return n(r)}if(typeof t=="string"){const r=JSON.parse(t),[i,a,o,l,d]=r;return n({join_ref:i,ref:a,topic:o,event:l,payload:d})}return n({})}_binaryDecode(t){const n=new DataView(t),r=n.getUint8(0),i=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,n,i)}}_decodeUserBroadcast(t,n,r){const i=n.getUint8(1),a=n.getUint8(2),o=n.getUint8(3),l=n.getUint8(4);let d=this.HEADER_LENGTH+4;const f=r.decode(t.slice(d,d+i));d=d+i;const m=r.decode(t.slice(d,d+a));d=d+a;const p=r.decode(t.slice(d,d+o));d=d+o;const v=t.slice(d,t.byteLength),b=l===this.JSON_ENCODING?JSON.parse(r.decode(v)):v,x={type:this.BROADCAST_EVENT,event:m,payload:b};return o>0&&(x.meta=JSON.parse(p)),{join_ref:null,ref:null,topic:f,event:this.BROADCAST_EVENT,payload:x}}_isArrayBuffer(t){var n;return t instanceof ArrayBuffer||((n=t?.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(t,n){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([r])=>n.includes(r)))}}class UU{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var cn;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(cn||(cn={}));const Xk=(e,t,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return t?Object.keys(t).reduce((a,o)=>(a[o]=Zre(o,e,t,i),a),{}):{}},Zre=(e,t,n,r)=>{const i=t.find(l=>l.name===e),a=i?.type,o=n[e];return a&&!r.includes(a)?FU(a,o):Xj(o)},FU=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return rie(t,n)}switch(e){case cn.bool:return eie(t);case cn.float4:case cn.float8:case cn.int2:case cn.int4:case cn.int8:case cn.numeric:case cn.oid:return tie(t);case cn.json:case cn.jsonb:return nie(t);case cn.timestamp:return iie(t);case cn.abstime:case cn.date:case cn.daterange:case cn.int4range:case cn.int8range:case cn.money:case cn.reltime:case cn.text:case cn.time:case cn.timestamptz:case cn.timetz:case cn.tsrange:case cn.tstzrange:return Xj(t);default:return Xj(t)}},Xj=e=>e,eie=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},tie=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},nie=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},rie=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let a;const o=e.slice(1,n);try{a=JSON.parse("["+o+"]")}catch{a=o?o.split(","):[]}return a.map(l=>FU(t,l))}return e},iie=e=>typeof e=="string"?e.replace(" ","T"):e,VU=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Ow{constructor(t,n,r={},i=Wj){this.channel=t,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Qk;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Qk||(Qk={}));class nh{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:a,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=nh.syncState(this.state,i,a,o),this.pendingDiffs.forEach(d=>{this.state=nh.syncDiff(this.state,d,a,o)}),this.pendingDiffs=[],l()}),this.channel._on(r.diff,{},i=>{const{onJoin:a,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=nh.syncDiff(this.state,i,a,o),l())}),this.onJoin((i,a,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:o})}),this.onLeave((i,a,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,i){const a=this.cloneDeep(t),o=this.transformState(n),l={},d={};return this.map(a,(f,m)=>{o[f]||(d[f]=m)}),this.map(o,(f,m)=>{const p=a[f];if(p){const v=m.map(w=>w.presence_ref),b=p.map(w=>w.presence_ref),x=m.filter(w=>b.indexOf(w.presence_ref)<0),y=p.filter(w=>v.indexOf(w.presence_ref)<0);x.length>0&&(l[f]=x),y.length>0&&(d[f]=y)}else l[f]=m}),this.syncDiff(a,{joins:l,leaves:d},r,i)}static syncDiff(t,n,r,i){const{joins:a,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(a,(l,d)=>{var f;const m=(f=t[l])!==null&&f!==void 0?f:[];if(t[l]=this.cloneDeep(d),m.length>0){const p=t[l].map(b=>b.presence_ref),v=m.filter(b=>p.indexOf(b.presence_ref)<0);t[l].unshift(...v)}r(l,m,d)}),this.map(o,(l,d)=>{let f=t[l];if(!f)return;const m=d.map(p=>p.presence_ref);f=f.filter(p=>m.indexOf(p.presence_ref)<0),t[l]=f,i(l,f,d),f.length===0&&delete t[l]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const i=t[r];return"metas"in i?n[r]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):n[r]=i,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Jk;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Jk||(Jk={}));var rh;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(rh||(rh={}));var ts;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(ts||(ts={}));class nu{constructor(t,n={config:{}},r){var i,a;if(this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=Jn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Ow(this,Xi.join,this.params,this.timeout),this.rejoinTimer=new UU(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Jn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Jn.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Jn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Jn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Jn.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Xi.reply,{},(o,l)=>{this._trigger(this._replyEventName(l),o)}),this.presence=new nh(this),this.broadcastEndpointURL=VU(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((a=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||a===void 0)&&a.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var r,i,a;if(this.socket.isConnected()||this.socket.connect(),this.state==Jn.closed){const{config:{broadcast:o,presence:l,private:d}}=this.params,f=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(b=>b.filter))!==null&&i!==void 0?i:[],m=!!this.bindings[rh.PRESENCE]&&this.bindings[rh.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,p={},v={broadcast:o,presence:Object.assign(Object.assign({},l),{enabled:m}),postgres_changes:f,private:d};this.socket.accessTokenValue&&(p.access_token=this.socket.accessTokenValue),this._onError(b=>t?.(ts.CHANNEL_ERROR,b)),this._onClose(()=>t?.(ts.CLOSED)),this.updateJoinPayload(Object.assign({config:v},p)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:b})=>{var x;if(this.socket._isManualToken()||this.socket.setAuth(),b===void 0){t?.(ts.SUBSCRIBED);return}else{const y=this.bindings.postgres_changes,w=(x=y?.length)!==null&&x!==void 0?x:0,E=[];for(let N=0;N<w;N++){const j=y[N],{filter:{event:O,schema:T,table:C,filter:R}}=j,M=b&&b[N];if(M&&M.event===O&&nu.isFilterValueEqual(M.schema,T)&&nu.isFilterValueEqual(M.table,C)&&nu.isFilterValueEqual(M.filter,R))E.push(Object.assign(Object.assign({},j),{id:M.id}));else{this.unsubscribe(),this.state=Jn.errored,t?.(ts.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=E,t&&t(ts.SUBSCRIBED);return}}).receive("error",b=>{this.state=Jn.errored,t?.(ts.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(b).join(", ")||"error")))}).receive("timeout",()=>{t?.(ts.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this.state===Jn.joined&&t===rh.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,n,r)}async httpSend(t,n,r={}){var i;if(n==null)return Promise.reject("Payload is required for httpSend()");const a={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(a.Authorization=`Bearer ${this.socket.accessTokenValue}`);const o={method:"POST",headers:a,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:n,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(i=r.timeout)!==null&&i!==void 0?i:this.timeout);if(l.status===202)return{success:!0};let d=l.statusText;try{const f=await l.json();d=f.error||f.message||d}catch{}return Promise.reject(new Error(d))}async send(t,n={}){var r,i;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:a,payload:o}=t,l={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(l.Authorization=`Bearer ${this.socket.accessTokenValue}`);const d={method:"POST",headers:l,body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:o,private:this.private}]})};try{const f=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=f.body)===null||i===void 0?void 0:i.cancel()),f.ok?"ok":"error"}catch(f){return f.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var o,l,d;const f=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((d=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||d===void 0)&&d.ack)&&a("ok"),f.receive("ok",()=>a("ok")),f.receive("error",()=>a("error")),f.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Jn.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Xi.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new Ow(this,Xi.leave,{},t),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Jn.closed,this.bindings={}}async _fetchWithTimeout(t,n,r){const i=new AbortController,a=setTimeout(()=>i.abort(),r),o=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(a),o}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Ow(this,t,n,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>Qre){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var i,a;const o=t.toLocaleLowerCase(),{close:l,error:d,leave:f,join:m}=Xi;if(r&&[l,d,f,m].indexOf(o)>=0&&r!==this._joinRef())return;let v=this._onMessage(o,n,r);if(n&&!v)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(b=>{var x,y,w;return((x=b.filter)===null||x===void 0?void 0:x.event)==="*"||((w=(y=b.filter)===null||y===void 0?void 0:y.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===o}).map(b=>b.callback(v,r)):(a=this.bindings[o])===null||a===void 0||a.filter(b=>{var x,y,w,E,N,j;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in b){const O=b.id,T=(x=b.filter)===null||x===void 0?void 0:x.event;return O&&((y=n.ids)===null||y===void 0?void 0:y.includes(O))&&(T==="*"||T?.toLocaleLowerCase()===((w=n.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))}else{const O=(N=(E=b?.filter)===null||E===void 0?void 0:E.event)===null||N===void 0?void 0:N.toLocaleLowerCase();return O==="*"||O===((j=n?.event)===null||j===void 0?void 0:j.toLocaleLowerCase())}else return b.type.toLocaleLowerCase()===o}).map(b=>{if(typeof v=="object"&&"ids"in v){const x=v.data,{schema:y,table:w,commit_timestamp:E,type:N,errors:j}=x;v=Object.assign(Object.assign({},{schema:y,table:w,commit_timestamp:E,eventType:N,new:{},old:{},errors:j}),this._getPayloadRecords(x))}b.callback(v,r)})}_isClosed(){return this.state===Jn.closed}_isJoined(){return this.state===Jn.joined}_isJoining(){return this.state===Jn.joining}_isLeaving(){return this.state===Jn.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const i=t.toLocaleLowerCase(),a={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===r&&nu.isEqual(i.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}static isFilterValueEqual(t,n){return(t??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Xi.close,{},t)}_onError(t){this._on(Xi.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Jn.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=Xk(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=Xk(t.columns,t.old_record)),n}}const Cw=()=>{},pg={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},aie=[1e3,2e3,5e3,1e4],sie=1e4,oie=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class lie{constructor(t,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Wj,this.transport=null,this.heartbeatIntervalMs=pg.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Cw,this.ref=0,this.reconnectTimer=null,this.vsn=Yk,this.logger=Cw,this.conn=null,this.sendBuffer=[],this.serializer=new Jre,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=i=>i?(...a)=>i(...a):(...a)=>fetch(...a),!(!((r=n?.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${Yj.websocket}`,this.httpEndpoint=VU(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Gre.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Zs.connecting:return cl.Connecting;case Zs.open:return cl.Open;case Zs.closing:return cl.Closing;default:return cl.Closed}}isConnected(){return this.connectionState()===cl.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const r=`realtime:${t}`,i=this.getChannels().find(a=>a.topic===r);if(i)return i;{const a=new nu(`realtime:${t}`,n,this);return this.channels.push(a),a}}push(t){const{topic:n,event:r,payload:i,ref:a}=t,o=()=>{this.encode(t,l=>{var d;(d=this.conn)===null||d===void 0||d.send(l)})};this.log("push",`${n} ${r} (${a})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(Xre,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},pg.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply"&&n.ref&&n.ref===this.pendingHeartbeatRef){const f=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error",f)}catch(m){this.log("error","error in heartbeat callback",m)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:r,event:i,payload:a,ref:o}=n,l=o?`(${o})`:"",d=a.status||"";this.log("receive",`${d} ${r} ${i} ${l}`.trim(),a),this.channels.filter(f=>f._isMember(r)).forEach(f=>f._trigger(i,a,o)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===Zs.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Zs.open||this.conn.readyState===Zs.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t);try{this.heartbeatCallback("error")}catch(n){this.log("error","error in heartbeat callback",n)}}_triggerChanError(){this.channels.forEach(t=>t._trigger(Xi.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${t}${r}${i}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([oie],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n,r=!1;if(t)n=t,r=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(i){this.log("error","Error fetching access token from callback",i),n=this.accessTokenValue}else n=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(i=>{const a={access_token:n,version:Wre};n&&i.updateJoinPayload(a),i.joinedOnce&&i._isJoined()&&i._push(Xi.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(n)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new UU(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},pg.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,r,i,a,o,l,d,f,m,p,v,b;switch(this.transport=(n=t?.transport)!==null&&n!==void 0?n:null,this.timeout=(r=t?.timeout)!==null&&r!==void 0?r:Wj,this.heartbeatIntervalMs=(i=t?.heartbeatIntervalMs)!==null&&i!==void 0?i:pg.HEARTBEAT_INTERVAL,this.worker=(a=t?.worker)!==null&&a!==void 0?a:!1,this.accessToken=(o=t?.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(l=t?.heartbeatCallback)!==null&&l!==void 0?l:Cw,this.vsn=(d=t?.vsn)!==null&&d!==void 0?d:Yk,t?.params&&(this.params=t.params),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(f=t?.reconnectAfterMs)!==null&&f!==void 0?f:(x=>aie[x-1]||sie),this.vsn){case Yre:this.encode=(m=t?.encode)!==null&&m!==void 0?m:((x,y)=>y(JSON.stringify(x))),this.decode=(p=t?.decode)!==null&&p!==void 0?p:((x,y)=>y(JSON.parse(x)));break;case zU:this.encode=(v=t?.encode)!==null&&v!==void 0?v:this.serializer.encode.bind(this.serializer),this.decode=(b=t?.decode)!==null&&b!==void 0?b:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t?.workerUrl}}}var Eh=class extends Error{constructor(e,t){super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&t.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function cie(e,t,n){const r=new URL(t,e);if(n)for(const[i,a]of Object.entries(n))a!==void 0&&r.searchParams.set(i,a);return r.toString()}async function uie(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function die(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:n,path:r,query:i,body:a,headers:o}){const l=cie(e.baseUrl,r,i),d=await uie(e.auth),f=await t(l,{method:n,headers:{...a?{"Content-Type":"application/json"}:{},...d,...o},body:a?JSON.stringify(a):void 0}),m=await f.text(),p=(f.headers.get("content-type")||"").includes("application/json"),v=p&&m?JSON.parse(m):m;if(!f.ok){const b=p?v:void 0,x=b?.error;throw new Eh(x?.message??`Request failed with status ${f.status}`,{status:f.status,icebergType:x?.type,icebergCode:x?.code,details:b})}return{status:f.status,headers:f.headers,data:v}}}}function gg(e){return e.join("")}var fie=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:gg(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(e,t){const n={namespace:e.namespace,properties:t?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${gg(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${gg(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${gg(e.namespace)}`}),!0}catch(t){if(t instanceof Eh&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(n){if(n instanceof Eh&&n.status===409)return;throw n}}};function kc(e){return e.join("")}var hie=class{constructor(e,t="",n){this.client=e,this.prefix=t,this.accessDelegation=n}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${kc(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${kc(e.namespace)}/tables`,body:t,headers:n})).data.metadata}async updateTable(e,t){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${kc(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${kc(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String(t?.purge??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${kc(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${kc(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(n){if(n instanceof Eh&&n.status===404)return!1;throw n}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(n){if(n instanceof Eh&&n.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw n}}},mie=class{constructor(e){let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const n=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=die({baseUrl:n,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=e.accessDelegation?.join(","),this.namespaceOps=new fie(this.client,t),this.tableOps=new hie(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},Gy=class extends Error{constructor(e,t="storage",n,r){super(e),this.__isStorageError=!0,this.namespace=t,this.name=t==="vectors"?"StorageVectorsError":"StorageError",this.status=n,this.statusCode=r}};function Ky(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var vg=class extends Gy{constructor(e,t,n,r="storage"){super(e,r,t,n),this.name=r==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},HU=class extends Gy{constructor(e,t,n="storage"){super(e,n),this.name=n==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=t}};const pie=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),gie=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Qj=e=>{if(Array.isArray(e))return e.map(n=>Qj(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[i]=Qj(r)}),t},vie=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function Nh(e){"@babel/helpers - typeof";return Nh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nh(e)}function yie(e,t){if(Nh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Nh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bie(e){var t=yie(e,"string");return Nh(t)=="symbol"?t:t+""}function xie(e,t,n){return(t=bie(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Zk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ht(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Zk(Object(n),!0).forEach(function(r){xie(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}const eD=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},wie=async(e,t,n,r)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!n?.noResolveJson){const i=e,a=i.status||500;if(typeof i.json=="function")i.json().then(o=>{const l=o?.statusCode||o?.code||a+"";t(new vg(eD(o),a,l,r))}).catch(()=>{if(r==="vectors"){const o=a+"";t(new vg(i.statusText||`HTTP ${a} error`,a,o,r))}else{const o=a+"";t(new vg(i.statusText||`HTTP ${a} error`,a,o,r))}});else{const o=a+"";t(new vg(i.statusText||`HTTP ${a} error`,a,o,r))}}else t(new HU(eD(e),e,r))},_ie=(e,t,n,r)=>{const i={method:e,headers:t?.headers||{}};return e==="GET"||e==="HEAD"||!r?ht(ht({},i),n):(gie(r)?(i.headers=ht({"Content-Type":"application/json"},t?.headers),i.body=JSON.stringify(r)):i.body=r,t?.duplex&&(i.duplex=t.duplex),ht(ht({},i),n))};async function Tf(e,t,n,r,i,a,o){return new Promise((l,d)=>{e(n,_ie(t,r,i,a)).then(f=>{if(!f.ok)throw f;if(r?.noResolveJson)return f;if(o==="vectors"){const m=f.headers.get("content-type");if(f.headers.get("content-length")==="0"||f.status===204)return{};if(!m||!m.includes("application/json"))return{}}return f.json()}).then(f=>l(f)).catch(f=>wie(f,d,r,o))})}function GU(e="storage"){return{get:async(t,n,r,i)=>Tf(t,"GET",n,r,i,void 0,e),post:async(t,n,r,i,a)=>Tf(t,"POST",n,i,a,r,e),put:async(t,n,r,i,a)=>Tf(t,"PUT",n,i,a,r,e),head:async(t,n,r,i)=>Tf(t,"HEAD",n,ht(ht({},r),{},{noResolveJson:!0}),i,void 0,e),remove:async(t,n,r,i,a)=>Tf(t,"DELETE",n,i,a,r,e)}}const Sie=GU("storage"),{get:Ah,post:Yi,put:Jj,head:jie,remove:qA}=Sie,ui=GU("vectors");var md=class{constructor(e,t={},n,r="storage"){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.fetch=pie(n),this.namespace=r}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(e){var t=this;try{return{data:await e(),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Ky(n))return{data:null,error:n};throw n}}},Eie=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Ky(t))return{data:null,error:t};throw t}}};let KU;KU=Symbol.toStringTag;var Nie=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[KU]="BlobDownloadBuilder",this.promise=null}asStream(){return new Eie(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Ky(t))return{data:null,error:t};throw t}}};const Aie={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},tD={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var Tie=class extends md{constructor(e,t={},n,r){super(e,t,r,"storage"),this.bucketId=n}async uploadOrUpdate(e,t,n,r){var i=this;return i.handleOperation(async()=>{let a;const o=ht(ht({},tD),r);let l=ht(ht({},i.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const d=o.metadata;typeof Blob<"u"&&n instanceof Blob?(a=new FormData,a.append("cacheControl",o.cacheControl),d&&a.append("metadata",i.encodeMetadata(d)),a.append("",n)):typeof FormData<"u"&&n instanceof FormData?(a=n,a.has("cacheControl")||a.append("cacheControl",o.cacheControl),d&&!a.has("metadata")&&a.append("metadata",i.encodeMetadata(d))):(a=n,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,d&&(l["x-metadata"]=i.toBase64(i.encodeMetadata(d))),(typeof ReadableStream<"u"&&a instanceof ReadableStream||a&&typeof a=="object"&&"pipe"in a&&typeof a.pipe=="function")&&!o.duplex&&(o.duplex="half")),r?.headers&&(l=ht(ht({},l),r.headers));const f=i._removeEmptyFolders(t),m=i._getFinalPath(f),p=await(e=="PUT"?Jj:Yi)(i.fetch,`${i.url}/object/${m}`,a,ht({headers:l},o?.duplex?{duplex:o.duplex}:{}));return{path:f,id:p.Id,fullPath:p.Key}})}async upload(e,t,n){return this.uploadOrUpdate("POST",e,t,n)}async uploadToSignedUrl(e,t,n,r){var i=this;const a=i._removeEmptyFolders(e),o=i._getFinalPath(a),l=new URL(i.url+`/object/upload/sign/${o}`);return l.searchParams.set("token",t),i.handleOperation(async()=>{let d;const f=ht({upsert:tD.upsert},r),m=ht(ht({},i.headers),{"x-upsert":String(f.upsert)});return typeof Blob<"u"&&n instanceof Blob?(d=new FormData,d.append("cacheControl",f.cacheControl),d.append("",n)):typeof FormData<"u"&&n instanceof FormData?(d=n,d.append("cacheControl",f.cacheControl)):(d=n,m["cache-control"]=`max-age=${f.cacheControl}`,m["content-type"]=f.contentType),{path:a,fullPath:(await Jj(i.fetch,l.toString(),d,{headers:m})).Key}})}async createSignedUploadUrl(e,t){var n=this;return n.handleOperation(async()=>{let r=n._getFinalPath(e);const i=ht({},n.headers);t?.upsert&&(i["x-upsert"]="true");const a=await Yi(n.fetch,`${n.url}/object/upload/sign/${r}`,{},{headers:i}),o=new URL(n.url+a.url),l=o.searchParams.get("token");if(!l)throw new Gy("No token returned by API");return{signedUrl:o.toString(),path:e,token:l}})}async update(e,t,n){return this.uploadOrUpdate("PUT",e,t,n)}async move(e,t,n){var r=this;return r.handleOperation(async()=>await Yi(r.fetch,`${r.url}/object/move`,{bucketId:r.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n?.destinationBucket},{headers:r.headers}))}async copy(e,t,n){var r=this;return r.handleOperation(async()=>({path:(await Yi(r.fetch,`${r.url}/object/copy`,{bucketId:r.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n?.destinationBucket},{headers:r.headers})).Key}))}async createSignedUrl(e,t,n){var r=this;return r.handleOperation(async()=>{let i=r._getFinalPath(e),a=await Yi(r.fetch,`${r.url}/object/sign/${i}`,ht({expiresIn:t},n?.transform?{transform:n.transform}:{}),{headers:r.headers});const o=n?.download?`&download=${n.download===!0?"":n.download}`:"";return{signedUrl:encodeURI(`${r.url}${a.signedURL}${o}`)}})}async createSignedUrls(e,t,n){var r=this;return r.handleOperation(async()=>{const i=await Yi(r.fetch,`${r.url}/object/sign/${r.bucketId}`,{expiresIn:t,paths:e},{headers:r.headers}),a=n?.download?`&download=${n.download===!0?"":n.download}`:"";return i.map(o=>ht(ht({},o),{},{signedUrl:o.signedURL?encodeURI(`${r.url}${o.signedURL}${a}`):null}))})}download(e,t){const n=typeof t?.transform<"u"?"render/image/authenticated":"object",r=this.transformOptsToQueryString(t?.transform||{}),i=r?`?${r}`:"",a=this._getFinalPath(e),o=()=>Ah(this.fetch,`${this.url}/${n}/${a}${i}`,{headers:this.headers,noResolveJson:!0});return new Nie(o,this.shouldThrowOnError)}async info(e){var t=this;const n=t._getFinalPath(e);return t.handleOperation(async()=>Qj(await Ah(t.fetch,`${t.url}/object/info/${n}`,{headers:t.headers})))}async exists(e){var t=this;const n=t._getFinalPath(e);try{return await jie(t.fetch,`${t.url}/object/${n}`,{headers:t.headers}),{data:!0,error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Ky(r)&&r instanceof HU){const i=r.originalError;if([400,404].includes(i?.status))return{data:!1,error:r}}throw r}}getPublicUrl(e,t){const n=this._getFinalPath(e),r=[],i=t?.download?`download=${t.download===!0?"":t.download}`:"";i!==""&&r.push(i);const a=typeof t?.transform<"u"?"render/image":"object",o=this.transformOptsToQueryString(t?.transform||{});o!==""&&r.push(o);let l=r.join("&");return l!==""&&(l=`?${l}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${n}${l}`)}}}async remove(e){var t=this;return t.handleOperation(async()=>await qA(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}))}async list(e,t,n){var r=this;return r.handleOperation(async()=>{const i=ht(ht(ht({},Aie),t),{},{prefix:e||""});return await Yi(r.fetch,`${r.url}/object/list/${r.bucketId}`,i,{headers:r.headers},n)})}async listV2(e,t){var n=this;return n.handleOperation(async()=>{const r=ht({},e);return await Yi(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,r,{headers:n.headers},t)})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const Oie="2.93.3",Am={"X-Client-Info":`storage-js/${Oie}`};var Cie=class extends md{constructor(e,t={},n,r){const i=new URL(e);r?.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase."));const a=i.href.replace(/\/$/,""),o=ht(ht({},Am),t);super(a,o,n,"storage")}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const n=t.listBucketOptionsToQueryString(e);return await Ah(t.fetch,`${t.url}/bucket${n}`,{headers:t.headers})})}async getBucket(e){var t=this;return t.handleOperation(async()=>await Ah(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}))}async createBucket(e,t={public:!1}){var n=this;return n.handleOperation(async()=>await Yi(n.fetch,`${n.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}))}async updateBucket(e,t){var n=this;return n.handleOperation(async()=>await Jj(n.fetch,`${n.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}))}async emptyBucket(e){var t=this;return t.handleOperation(async()=>await Yi(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await qA(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},Rie=class extends md{constructor(e,t={},n){const r=e.replace(/\/$/,""),i=ht(ht({},Am),t);super(r,i,n,"storage")}async createBucket(e){var t=this;return t.handleOperation(async()=>await Yi(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}))}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const n=new URLSearchParams;e?.limit!==void 0&&n.set("limit",e.limit.toString()),e?.offset!==void 0&&n.set("offset",e.offset.toString()),e?.sortColumn&&n.set("sortColumn",e.sortColumn),e?.sortOrder&&n.set("sortOrder",e.sortOrder),e?.search&&n.set("search",e.search);const r=n.toString(),i=r?`${t.url}/bucket?${r}`:`${t.url}/bucket`;return await Ah(t.fetch,i,{headers:t.headers})})}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await qA(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}from(e){var t=this;if(!vie(e))throw new Gy("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new mie({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(n,{get(i,a){const o=i[a];return typeof o!="function"?o:async(...l)=>{try{return{data:await o.apply(i,l),error:null}}catch(d){if(r)throw d;return{data:null,error:d}}}}})}},Pie=class extends md{constructor(e,t={},n){const r=e.replace(/\/$/,""),i=ht(ht({},Am),{},{"Content-Type":"application/json"},t);super(r,i,n,"vectors")}async createIndex(e){var t=this;return t.handleOperation(async()=>await ui.post(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{})}async getIndex(e,t){var n=this;return n.handleOperation(async()=>await ui.post(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:n.headers}))}async listIndexes(e){var t=this;return t.handleOperation(async()=>await ui.post(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}))}async deleteIndex(e,t){var n=this;return n.handleOperation(async()=>await ui.post(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:n.headers})||{})}},Mie=class extends md{constructor(e,t={},n){const r=e.replace(/\/$/,""),i=ht(ht({},Am),{},{"Content-Type":"application/json"},t);super(r,i,n,"vectors")}async putVectors(e){var t=this;if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return t.handleOperation(async()=>await ui.post(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{})}async getVectors(e){var t=this;return t.handleOperation(async()=>await ui.post(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}))}async listVectors(e){var t=this;if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return t.handleOperation(async()=>await ui.post(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}))}async queryVectors(e){var t=this;return t.handleOperation(async()=>await ui.post(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}))}async deleteVectors(e){var t=this;if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return t.handleOperation(async()=>await ui.post(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{})}},kie=class extends md{constructor(e,t={},n){const r=e.replace(/\/$/,""),i=ht(ht({},Am),{},{"Content-Type":"application/json"},t);super(r,i,n,"vectors")}async createBucket(e){var t=this;return t.handleOperation(async()=>await ui.post(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}async getBucket(e){var t=this;return t.handleOperation(async()=>await ui.post(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}))}async listBuckets(e={}){var t=this;return t.handleOperation(async()=>await ui.post(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await ui.post(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}},Die=class extends kie{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new Iie(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,n=this;return t().call(n,e)}async getBucket(e){var t=()=>super.getBucket,n=this;return t().call(n,e)}async listBuckets(e={}){var t=()=>super.listBuckets,n=this;return t().call(n,e)}async deleteBucket(e){var t=()=>super.deleteBucket,n=this;return t().call(n,e)}},Iie=class extends Pie{constructor(e,t,n,r){super(e,t,r),this.vectorBucketName=n}async createIndex(e){var t=()=>super.createIndex,n=this;return t().call(n,ht(ht({},e),{},{vectorBucketName:n.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,n=this;return t().call(n,ht(ht({},e),{},{vectorBucketName:n.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,n=this;return t().call(n,n.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,n=this;return t().call(n,n.vectorBucketName,e)}index(e){return new $ie(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},$ie=class extends Mie{constructor(e,t,n,r,i){super(e,t,i),this.vectorBucketName=n,this.indexName=r}async putVectors(e){var t=()=>super.putVectors,n=this;return t().call(n,ht(ht({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async getVectors(e){var t=()=>super.getVectors,n=this;return t().call(n,ht(ht({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,n=this;return t().call(n,ht(ht({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,n=this;return t().call(n,ht(ht({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,n=this;return t().call(n,ht(ht({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}},Lie=class extends Cie{constructor(e,t={},n,r){super(e,t,n,r)}from(e){return new Tie(this.url,this.headers,e,this.fetch)}get vectors(){return new Die(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Rie(this.url+"/iceberg",this.headers,this.fetch)}};const WU="2.93.3",Jc=30*1e3,Zj=3,Rw=Zj*Jc,Bie="http://localhost:9999",qie="supabase.auth.token",zie={"X-Client-Info":`gotrue-js/${WU}`},eE="X-Supabase-Api-Version",YU={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Uie=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Fie=600*1e3;class Th extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function Xe(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class Vie extends Th{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function Hie(e){return Xe(e)&&e.name==="AuthApiError"}class ul extends Th{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class ys extends Th{constructor(t,n,r,i){super(t,r,i),this.name=n,this.status=r}}class ri extends ys{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Pw(e){return Xe(e)&&e.name==="AuthSessionMissingError"}class Dc extends ys{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class yg extends ys{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class bg extends ys{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Gie(e){return Xe(e)&&e.name==="AuthImplicitGrantRedirectError"}class nD extends ys{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Kie extends ys{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class tE extends ys{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function Mw(e){return Xe(e)&&e.name==="AuthRetryableFetchError"}class rD extends ys{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class nE extends ys{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const bv="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),iD=` 	
\r=`.split(""),Wie=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<iD.length;t+=1)e[iD[t].charCodeAt(0)]=-2;for(let t=0;t<bv.length;t+=1)e[bv[t].charCodeAt(0)]=t;return e})();function aD(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(bv[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(bv[r]),t.queuedBits-=6}}function XU(e,t,n){const r=Wie[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function sD(e){const t=[],n=o=>{t.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=o=>{Qie(o,r,n)};for(let o=0;o<e.length;o+=1)XU(e.charCodeAt(o),i,a);return t.join("")}function Yie(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function Xie(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}Yie(r,t)}}function Qie(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if((e>>7-r&1)===0){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function pu(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)XU(e.charCodeAt(i),n,r);return new Uint8Array(t)}function Jie(e){const t=[];return Xie(e,n=>t.push(n)),new Uint8Array(t)}function fl(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};return e.forEach(i=>aD(i,n,r)),aD(null,n,r),t.join("")}function Zie(e){return Math.round(Date.now()/1e3)+e}function eae(){return Symbol("auth-callback")}const vr=()=>typeof window<"u"&&typeof document<"u",Qo={tested:!1,writable:!1},QU=()=>{if(!vr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Qo.tested)return Qo.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Qo.tested=!0,Qo.writable=!0}catch{Qo.tested=!0,Qo.writable=!1}return Qo.writable};function tae(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,a)=>{t[a]=i})}catch{}return n.searchParams.forEach((r,i)=>{t[i]=r}),t}const JU=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),nae=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Zc=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Jo=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},gr=async(e,t)=>{await e.removeItem(t)};class Wy{constructor(){this.promise=new Wy.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}Wy.promiseConstructor=Promise;function xg(e){const t=e.split(".");if(t.length!==3)throw new nE("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!Uie.test(t[r]))throw new nE("JWT not in base64url format");return{header:JSON.parse(sD(t[0])),payload:JSON.parse(sD(t[1])),signature:pu(t[2]),raw:{header:t[0],payload:t[1]}}}async function rae(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function iae(e,t){return new Promise((r,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const o=await e(a);if(!t(a,null,o)){r(o);return}}catch(o){if(!t(a,o)){i(o);return}}})()})}function aae(e){return("0"+e.toString(16)).substr(-2)}function sae(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let a=0;a<56;a++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(t),Array.from(t,aae).join("")}async function oae(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function lae(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await oae(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ic(e,t,n=!1){const r=sae();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await Zc(e,`${t}-code-verifier`,i);const a=await lae(r);return[a,r===a?"plain":"s256"]}const cae=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function uae(e){const t=e.headers.get(eE);if(!t||!t.match(cae))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function dae(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function fae(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const hae=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function $c(e){if(!hae.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function kw(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function mae(e,t){return new Proxy(e,{get:(n,r,i)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const a=r.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)"||a==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,i)}return!t.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(n,r,i)}})}function oD(e){return JSON.parse(JSON.stringify(e))}const rl=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),pae=[502,503,504];async function lD(e){var t;if(!nae(e))throw new tE(rl(e),0);if(pae.includes(e.status))throw new tE(rl(e),e.status);let n;try{n=await e.json()}catch(a){throw new ul(rl(a),a)}let r;const i=uae(e);if(i&&i.getTime()>=YU["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new rD(rl(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new ri}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((a,o)=>a&&typeof o=="string",!0))throw new rD(rl(n),e.status,n.weak_password.reasons);throw new Vie(rl(n),e.status||500,r)}const gae=(e,t,n,r)=>{const i={method:e,headers:t?.headers||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function ft(e,t,n,r){var i;const a=Object.assign({},r?.headers);a[eE]||(a[eE]=YU["2024-01-01"].name),r?.jwt&&(a.Authorization=`Bearer ${r.jwt}`);const o=(i=r?.query)!==null&&i!==void 0?i:{};r?.redirectTo&&(o.redirect_to=r.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",d=await vae(e,t,n+l,{headers:a,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(d):{data:Object.assign({},d),error:null}}async function vae(e,t,n,r,i,a){const o=gae(t,r,i,a);let l;try{l=await e(n,Object.assign({},o))}catch(d){throw console.error(d),new tE(rl(d),0)}if(l.ok||await lD(l),r?.noResolveJson)return l;try{return await l.json()}catch(d){await lD(d)}}function Gi(e){var t;let n=null;xae(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=Zie(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function cD(e){const t=Gi(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function to(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function yae(e){return{data:e,error:null}}function bae(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:a}=e,o=hd(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:a},d=Object.assign({},o);return{data:{properties:l,user:d},error:null}}function uD(e){return e}function xae(e){return e.access_token&&e.refresh_token&&e.expires_in}const Dw=["global","local","others"];class wae{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=JU(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,n=Dw[0]){if(Dw.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Dw.join(", ")}`);try{return await ft(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Xe(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await ft(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:to})}catch(r){if(Xe(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=hd(t,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r?.newEmail,delete i.newEmail),await ft(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:bae,redirectTo:n?.redirectTo})}catch(n){if(Xe(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await ft(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:to})}catch(n){if(Xe(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,i,a,o,l,d;try{const f={nextPage:null,lastPage:0,total:0},m=await ft(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t?.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(a=(i=t?.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:uD});if(m.error)throw m.error;const p=await m.json(),v=(o=m.headers.get("x-total-count"))!==null&&o!==void 0?o:0,b=(d=(l=m.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&d!==void 0?d:[];return b.length>0&&(b.forEach(x=>{const y=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(x.split(";")[1].split("=")[1]);f[`${w}Page`]=y}),f.total=parseInt(v)),{data:Object.assign(Object.assign({},p),f),error:null}}catch(f){if(Xe(f))return{data:{users:[]},error:f};throw f}}async getUserById(t){$c(t);try{return await ft(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:to})}catch(n){if(Xe(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){$c(t);try{return await ft(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:to})}catch(r){if(Xe(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){$c(t);try{return await ft(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:to})}catch(r){if(Xe(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){$c(t.userId);try{const{data:n,error:r}=await ft(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(Xe(n))return{data:null,error:n};throw n}}async _deleteFactor(t){$c(t.userId),$c(t.id);try{return{data:await ft(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(Xe(n))return{data:null,error:n};throw n}}async _listOAuthClients(t){var n,r,i,a,o,l,d;try{const f={nextPage:null,lastPage:0,total:0},m=await ft(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t?.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(a=(i=t?.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:uD});if(m.error)throw m.error;const p=await m.json(),v=(o=m.headers.get("x-total-count"))!==null&&o!==void 0?o:0,b=(d=(l=m.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&d!==void 0?d:[];return b.length>0&&(b.forEach(x=>{const y=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(x.split(";")[1].split("=")[1]);f[`${w}Page`]=y}),f.total=parseInt(v)),{data:Object.assign(Object.assign({},p),f),error:null}}catch(f){if(Xe(f))return{data:{clients:[]},error:f};throw f}}async _createOAuthClient(t){try{return await ft(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Xe(n))return{data:null,error:n};throw n}}async _getOAuthClient(t){try{return await ft(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Xe(n))return{data:null,error:n};throw n}}async _updateOAuthClient(t,n){try{return await ft(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Xe(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(t){try{return await ft(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Xe(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(t){try{return await ft(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Xe(n))return{data:null,error:n};throw n}}}function dD(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const Lc={debug:!!(globalThis&&QU()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class ZU extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class _ae extends ZU{}async function Sae(e,t,n){Lc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),Lc.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){Lc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await n()}finally{Lc.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw Lc.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new _ae(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Lc.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function jae(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function eF(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function Eae(e){return parseInt(e,16)}function Nae(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,r=>r.toString(16).padStart(2,"0")).join("")}function Aae(e){var t;const{chainId:n,domain:r,expirationTime:i,issuedAt:a=new Date,nonce:o,notBefore:l,requestId:d,resources:f,scheme:m,uri:p,version:v}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!p)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(v!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${v}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const b=eF(e.address),x=m?`${m}://${r}`:r,y=e.statement?`${e.statement}
`:"",w=`${x} wants you to sign in with your Ethereum account:
${b}

${y}`;let E=`URI: ${p}
Version: ${v}
Chain ID: ${n}${o?`
Nonce: ${o}`:""}
Issued At: ${a.toISOString()}`;if(i&&(E+=`
Expiration Time: ${i.toISOString()}`),l&&(E+=`
Not Before: ${l.toISOString()}`),d&&(E+=`
Request ID: ${d}`),f){let N=`
Resources:`;for(const j of f){if(!j||typeof j!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${j}`);N+=`
- ${j}`}E+=N}return`${w}
${E}`}class Vn extends Error{constructor({message:t,code:n,cause:r,name:i}){var a;super(t,{cause:r}),this.__isWebAuthnError=!0,this.name=(a=i??(r instanceof Error?r.name:void 0))!==null&&a!==void 0?a:"Unknown Error",this.code=n}}class xv extends Vn{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}}function Tae({error:e,options:t}){var n,r,i;const{publicKey:a}=t;if(!a)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Vn({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=a.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new Vn({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((r=a.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new Vn({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((i=a.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Vn({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Vn({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Vn({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return a.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new Vn({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Vn({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const o=window.location.hostname;if(tF(o)){if(a.rp.id!==o)return new Vn({message:`The RP ID "${a.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Vn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(a.user.id.byteLength<1||a.user.id.byteLength>64)return new Vn({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Vn({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Vn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function Oae({error:e,options:t}){const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Vn({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Vn({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const r=window.location.hostname;if(tF(r)){if(n.rpId!==r)return new Vn({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Vn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Vn({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Vn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class Cae{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const Rae=new Cae;function Pae(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:n,excludeCredentials:r}=e,i=hd(e,["challenge","user","excludeCredentials"]),a=pu(t).buffer,o=Object.assign(Object.assign({},n),{id:pu(n.id).buffer}),l=Object.assign(Object.assign({},i),{challenge:a,user:o});if(r&&r.length>0){l.excludeCredentials=new Array(r.length);for(let d=0;d<r.length;d++){const f=r[d];l.excludeCredentials[d]=Object.assign(Object.assign({},f),{id:pu(f.id).buffer,type:f.type||"public-key",transports:f.transports})}}return l}function Mae(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:n}=e,r=hd(e,["challenge","allowCredentials"]),i=pu(t).buffer,a=Object.assign(Object.assign({},r),{challenge:i});if(n&&n.length>0){a.allowCredentials=new Array(n.length);for(let o=0;o<n.length;o++){const l=n[o];a.allowCredentials[o]=Object.assign(Object.assign({},l),{id:pu(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return a}function kae(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e;return{id:e.id,rawId:e.id,response:{attestationObject:fl(new Uint8Array(e.response.attestationObject)),clientDataJSON:fl(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function Dae(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e,r=e.getClientExtensionResults(),i=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:fl(new Uint8Array(i.authenticatorData)),clientDataJSON:fl(new Uint8Array(i.clientDataJSON)),signature:fl(new Uint8Array(i.signature)),userHandle:i.userHandle?fl(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function tF(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function fD(){var e,t;return!!(vr()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.get)=="function")}async function Iae(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new xv("Browser returned unexpected credential type",t)}:{data:null,error:new xv("Empty credential response",t)}}catch(t){return{data:null,error:Tae({error:t,options:e})}}}async function $ae(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new xv("Browser returned unexpected credential type",t)}:{data:null,error:new xv("Empty credential response",t)}}catch(t){return{data:null,error:Oae({error:t,options:e})}}}const Lae={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},Bae={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function wv(...e){const t=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),n=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),r={};for(const i of e)if(i)for(const a in i){const o=i[a];if(o!==void 0)if(Array.isArray(o))r[a]=o;else if(n(o))r[a]=o;else if(t(o)){const l=r[a];t(l)?r[a]=wv(l,o):r[a]=wv(o)}else r[a]=o}return r}function qae(e,t){return wv(Lae,e,t||{})}function zae(e,t){return wv(Bae,e,t||{})}class Uae{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:n,friendlyName:r,signal:i},a){var o;try{const{data:l,error:d}=await this.client.mfa.challenge({factorId:t,webauthn:n});if(!l)return{data:null,error:d};const f=i??Rae.createNewAbortSignal();if(l.webauthn.type==="create"){const{user:m}=l.webauthn.credential_options.publicKey;if(!m.name){const p=r;if(p)m.name=`${m.id}:${p}`;else{const b=(await this.client.getUser()).data.user,x=((o=b?.user_metadata)===null||o===void 0?void 0:o.name)||b?.email||b?.id||"User";m.name=`${m.id}:${x}`}}m.displayName||(m.displayName=m.name)}switch(l.webauthn.type){case"create":{const m=qae(l.webauthn.credential_options.publicKey,a?.create),{data:p,error:v}=await Iae({publicKey:m,signal:f});return p?{data:{factorId:t,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:p}},error:null}:{data:null,error:v}}case"request":{const m=zae(l.webauthn.credential_options.publicKey,a?.request),{data:p,error:v}=await $ae(Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:m,signal:f}));return p?{data:{factorId:t,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:p}},error:null}:{data:null,error:v}}}}catch(l){return Xe(l)?{data:null,error:l}:{data:null,error:new ul("Unexpected error in challenge",l)}}}async _verify({challengeId:t,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:r})}async _authenticate({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},a){if(!n)return{data:null,error:new Th("rpId is required for WebAuthn authentication")};try{if(!fD())return{data:null,error:new ul("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:r},signal:i},{request:a});if(!o)return{data:null,error:l};const{webauthn:d}=o;return this._verify({factorId:t,challengeId:o.challengeId,webauthn:{type:d.type,rpId:n,rpOrigins:r,credential_response:d.credential_response}})}catch(o){return Xe(o)?{data:null,error:o}:{data:null,error:new ul("Unexpected error in authenticate",o)}}}async _register({friendlyName:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},a){if(!n)return{data:null,error:new Th("rpId is required for WebAuthn registration")};try{if(!fD())return{data:null,error:new ul("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this._enroll({friendlyName:t});if(!o)return await this.client.mfa.listFactors().then(m=>{var p;return(p=m.data)===null||p===void 0?void 0:p.all.find(v=>v.factor_type==="webauthn"&&v.friendly_name===t&&v.status!=="unverified")}).then(m=>m?this.client.mfa.unenroll({factorId:m?.id}):void 0),{data:null,error:l};const{data:d,error:f}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:i},{create:a});return d?this._verify({factorId:o.id,challengeId:d.challengeId,webauthn:{rpId:n,rpOrigins:r,type:d.webauthn.type,credential_response:d.webauthn.credential_response}}):{data:null,error:f}}catch(o){return Xe(o)?{data:null,error:o}:{data:null,error:new ul("Unexpected error in register",o)}}}}jae();const Fae={url:Bie,storageKey:qie,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:zie,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function hD(e,t,n){return await n()}const Bc={};class Oh{get jwks(){var t,n;return(n=(t=Bc[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){Bc[this.storageKey]=Object.assign(Object.assign({},Bc[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=Bc[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Bc[this.storageKey]=Object.assign(Object.assign({},Bc[this.storageKey]),{cachedAt:t})}constructor(t){var n,r,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const a=Object.assign(Object.assign({},Fae),t);if(this.storageKey=a.storageKey,this.instanceID=(n=Oh.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,Oh.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.instanceID>0&&vr()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=a.persistSession,this.autoRefreshToken=a.autoRefreshToken,this.admin=new wae({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=JU(a.fetch),this.lock=a.lock||hD,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,this.throwOnError=a.throwOnError,this.lockAcquireTimeout=a.lockAcquireTimeout,a.lock?this.lock=a.lock:this.persistSession&&vr()&&(!((r=globalThis?.navigator)===null||r===void 0)&&r.locks)?this.lock=Sae:this.lock=hD,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Uae(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:QU()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=dD(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=dD(this.memoryStorage)),vr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o);try{await this._notifyAllSubscribers(o.data.event,o.data.session,!1)}catch(l){this._debug("#broadcastChannel","error",l)}})}this.initialize().catch(o=>{this._debug("#initialize()","error",o)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${WU}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let n={},r="none";if(vr()&&(n=tae(window.location.href),this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce")),vr()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:a}=await this._getSessionFromURL(n,r);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),Gie(a)){const d=(t=a.details)===null||t===void 0?void 0:t.code;if(d==="identity_already_exists"||d==="identity_not_found"||d==="single_identity_not_deletable")return{error:a}}return{error:a}}const{session:o,redirectType:l}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Xe(n)?this._returnResult({error:n}):this._returnResult({error:new ul("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,i;try{const a=await ft(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t?.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=t?.options)===null||i===void 0?void 0:i.captchaToken}},xform:Gi}),{data:o,error:l}=a;if(l||!o)return this._returnResult({data:{user:null,session:null},error:l});const d=o.session,f=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",d)),this._returnResult({data:{user:f,session:d},error:null})}catch(a){if(Xe(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signUp(t){var n,r,i;try{let a;if("email"in t){const{email:m,password:p,options:v}=t;let b=null,x=null;this.flowType==="pkce"&&([b,x]=await Ic(this.storage,this.storageKey)),a=await ft(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:v?.emailRedirectTo,body:{email:m,password:p,data:(n=v?.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:v?.captchaToken},code_challenge:b,code_challenge_method:x},xform:Gi})}else if("phone"in t){const{phone:m,password:p,options:v}=t;a=await ft(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:m,password:p,data:(r=v?.data)!==null&&r!==void 0?r:{},channel:(i=v?.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:v?.captchaToken}},xform:Gi})}else throw new yg("You must provide either an email or phone number and a password");const{data:o,error:l}=a;if(l||!o)return await gr(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:l});const d=o.session,f=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",d)),this._returnResult({data:{user:f,session:d},error:null})}catch(a){if(await gr(this.storage,`${this.storageKey}-code-verifier`),Xe(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithPassword(t){try{let n;if("email"in t){const{email:a,password:o,options:l}=t;n=await ft(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:o,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:cD})}else if("phone"in t){const{phone:a,password:o,options:l}=t;n=await ft(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:o,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:cD})}else throw new yg("You must provide either an email or phone number and a password");const{data:r,error:i}=n;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!r||!r.session||!r.user){const a=new Dc;return this._returnResult({data:{user:null,session:null},error:a})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(Xe(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(t){var n,r,i,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;switch(n){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(t){var n,r,i,a,o,l,d,f,m,p,v;let b,x;if("message"in t)b=t.message,x=t.signature;else{const{chain:y,wallet:w,statement:E,options:N}=t;let j;if(vr())if(typeof w=="object")j=w;else{const k=window;if("ethereum"in k&&typeof k.ethereum=="object"&&"request"in k.ethereum&&typeof k.ethereum.request=="function")j=k.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof w!="object"||!N?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");j=w}const O=new URL((n=N?.url)!==null&&n!==void 0?n:window.location.href),T=await j.request({method:"eth_requestAccounts"}).then(k=>k).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!T||T.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const C=eF(T[0]);let R=(r=N?.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!R){const k=await j.request({method:"eth_chainId"});R=Eae(k)}const M={domain:O.host,address:C,statement:E,uri:O.href,version:"1",chainId:R,nonce:(i=N?.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(o=(a=N?.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(l=N?.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(d=N?.signInWithEthereum)===null||d===void 0?void 0:d.notBefore,requestId:(f=N?.signInWithEthereum)===null||f===void 0?void 0:f.requestId,resources:(m=N?.signInWithEthereum)===null||m===void 0?void 0:m.resources};b=Aae(M),x=await j.request({method:"personal_sign",params:[Nae(b),C]})}try{const{data:y,error:w}=await ft(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:b,signature:x},!((p=t.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(v=t.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:Gi});if(w)throw w;if(!y||!y.session||!y.user){const E=new Dc;return this._returnResult({data:{user:null,session:null},error:E})}return y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),this._returnResult({data:Object.assign({},y),error:w})}catch(y){if(Xe(y))return this._returnResult({data:{user:null,session:null},error:y});throw y}}async signInWithSolana(t){var n,r,i,a,o,l,d,f,m,p,v,b;let x,y;if("message"in t)x=t.message,y=t.signature;else{const{chain:w,wallet:E,statement:N,options:j}=t;let O;if(vr())if(typeof E=="object")O=E;else{const C=window;if("solana"in C&&typeof C.solana=="object"&&("signIn"in C.solana&&typeof C.solana.signIn=="function"||"signMessage"in C.solana&&typeof C.solana.signMessage=="function"))O=C.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof E!="object"||!j?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");O=E}const T=new URL((n=j?.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in O&&O.signIn){const C=await O.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},j?.signInWithSolana),{version:"1",domain:T.host,uri:T.href}),N?{statement:N}:null));let R;if(Array.isArray(C)&&C[0]&&typeof C[0]=="object")R=C[0];else if(C&&typeof C=="object"&&"signedMessage"in C&&"signature"in C)R=C;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in R&&"signature"in R&&(typeof R.signedMessage=="string"||R.signedMessage instanceof Uint8Array)&&R.signature instanceof Uint8Array)x=typeof R.signedMessage=="string"?R.signedMessage:new TextDecoder().decode(R.signedMessage),y=R.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in O)||typeof O.signMessage!="function"||!("publicKey"in O)||typeof O!="object"||!O.publicKey||!("toBase58"in O.publicKey)||typeof O.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");x=[`${T.host} wants you to sign in with your Solana account:`,O.publicKey.toBase58(),...N?["",N,""]:[""],"Version: 1",`URI: ${T.href}`,`Issued At: ${(i=(r=j?.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=j?.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${j.signInWithSolana.notBefore}`]:[],...!((o=j?.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${j.signInWithSolana.expirationTime}`]:[],...!((l=j?.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${j.signInWithSolana.chainId}`]:[],...!((d=j?.signInWithSolana)===null||d===void 0)&&d.nonce?[`Nonce: ${j.signInWithSolana.nonce}`]:[],...!((f=j?.signInWithSolana)===null||f===void 0)&&f.requestId?[`Request ID: ${j.signInWithSolana.requestId}`]:[],...!((p=(m=j?.signInWithSolana)===null||m===void 0?void 0:m.resources)===null||p===void 0)&&p.length?["Resources",...j.signInWithSolana.resources.map(R=>`- ${R}`)]:[]].join(`
`);const C=await O.signMessage(new TextEncoder().encode(x),"utf8");if(!C||!(C instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");y=C}}try{const{data:w,error:E}=await ft(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:x,signature:fl(y)},!((v=t.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(b=t.options)===null||b===void 0?void 0:b.captchaToken}}:null),xform:Gi});if(E)throw E;if(!w||!w.session||!w.user){const N=new Dc;return this._returnResult({data:{user:null,session:null},error:N})}return w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),this._returnResult({data:Object.assign({},w),error:E})}catch(w){if(Xe(w))return this._returnResult({data:{user:null,session:null},error:w});throw w}}async _exchangeCodeForSession(t){const n=await Jo(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{if(!r&&this.flowType==="pkce")throw new Kie;const{data:a,error:o}=await ft(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:Gi});if(await gr(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!a||!a.session||!a.user){const l=new Dc;return this._returnResult({data:{user:null,session:null,redirectType:null},error:l})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:o})}catch(a){if(await gr(this.storage,`${this.storageKey}-code-verifier`),Xe(a))return this._returnResult({data:{user:null,session:null,redirectType:null},error:a});throw a}}async signInWithIdToken(t){try{const{options:n,provider:r,token:i,access_token:a,nonce:o}=t,l=await ft(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:a,nonce:o,gotrue_meta_security:{captcha_token:n?.captchaToken}},xform:Gi}),{data:d,error:f}=l;if(f)return this._returnResult({data:{user:null,session:null},error:f});if(!d||!d.session||!d.user){const m=new Dc;return this._returnResult({data:{user:null,session:null},error:m})}return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),this._returnResult({data:d,error:f})}catch(n){if(Xe(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(t){var n,r,i,a,o;try{if("email"in t){const{email:l,options:d}=t;let f=null,m=null;this.flowType==="pkce"&&([f,m]=await Ic(this.storage,this.storageKey));const{error:p}=await ft(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(n=d?.data)!==null&&n!==void 0?n:{},create_user:(r=d?.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:d?.captchaToken},code_challenge:f,code_challenge_method:m},redirectTo:d?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:p})}if("phone"in t){const{phone:l,options:d}=t,{data:f,error:m}=await ft(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(i=d?.data)!==null&&i!==void 0?i:{},create_user:(a=d?.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:d?.captchaToken},channel:(o=d?.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:f?.message_id},error:m})}throw new yg("You must provide either an email or phone number.")}catch(l){if(await gr(this.storage,`${this.storageKey}-code-verifier`),Xe(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async verifyOtp(t){var n,r;try{let i,a;"options"in t&&(i=(n=t.options)===null||n===void 0?void 0:n.redirectTo,a=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:l}=await ft(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:Gi});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const d=o.session,f=o.user;return d?.access_token&&(await this._saveSession(d),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",d)),this._returnResult({data:{user:f,session:d},error:null})}catch(i){if(Xe(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(t){var n,r,i,a,o;try{let l=null,d=null;this.flowType==="pkce"&&([l,d]=await Ic(this.storage,this.storageKey));const f=await ft(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=t?.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:d}),headers:this.headers,xform:yae});return!((a=f.data)===null||a===void 0)&&a.url&&vr()&&!(!((o=t.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(f.data.url),this._returnResult(f)}catch(l){if(await gr(this.storage,`${this.storageKey}-code-verifier`),Xe(l))return this._returnResult({data:null,error:l});throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new ri;const{error:i}=await ft(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(t){if(Xe(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:i,options:a}=t,{error:o}=await ft(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:a?.captchaToken}},redirectTo:a?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in t){const{phone:r,type:i,options:a}=t,{data:o,error:l}=await ft(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:a?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o?.message_id},error:l})}throw new yg("You must provide either an email or phone number and a type")}catch(n){if(Xe(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await Jo(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<Rw:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const o=await Jo(this.userStorage,this.storageKey+"-user");o?.user?t.user=o.user:t.user=kw()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};t.user=mae(t.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?this._returnResult({data:{session:null},error:a}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const n=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(t){try{return t?await ft(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:to}):await this._useSession(async n=>{var r,i,a;const{data:o,error:l}=n;if(l)throw l;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ri}:await ft(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:to})})}catch(n){if(Xe(n))return Pw(n)&&(await this._removeSession(),await gr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:i,error:a}=r;if(a)throw a;if(!i.session)throw new ri;const o=i.session;let l=null,d=null;this.flowType==="pkce"&&t.email!=null&&([l,d]=await Ic(this.storage,this.storageKey));const{data:f,error:m}=await ft(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:d}),jwt:o.access_token,xform:to});if(m)throw m;return o.user=f.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(r){if(await gr(this.storage,`${this.storageKey}-code-verifier`),Xe(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new ri;const n=Date.now()/1e3;let r=n,i=!0,a=null;const{payload:o}=xg(t.access_token);if(o.exp&&(r=o.exp,i=r<=n),i){const{data:l,error:d}=await this._callRefreshToken(t.refresh_token);if(d)return this._returnResult({data:{user:null,session:null},error:d});if(!l)return{data:{user:null,session:null},error:null};a=l}else{const{data:l,error:d}=await this._getUser(t.access_token);if(d)return this._returnResult({data:{user:null,session:null},error:d});a={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return this._returnResult({data:{user:a.user,session:a},error:null})}catch(n){if(Xe(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:o,error:l}=n;if(l)throw l;t=(r=o.session)!==null&&r!==void 0?r:void 0}if(!t?.refresh_token)throw new ri;const{data:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?this._returnResult({data:{user:null,session:null},error:a}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(Xe(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(t,n){try{if(!vr())throw new bg("No browser detected.");if(t.error||t.error_description||t.error_code)throw new bg(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new nD("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new bg("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new nD("No code detected.");const{data:N,error:j}=await this._exchangeCodeForSession(t.code);if(j)throw j;const O=new URL(window.location.href);return O.searchParams.delete("code"),window.history.replaceState(window.history.state,"",O.toString()),{data:{session:N.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:a,refresh_token:o,expires_in:l,expires_at:d,token_type:f}=t;if(!a||!l||!o||!f)throw new bg("No session defined in URL");const m=Math.round(Date.now()/1e3),p=parseInt(l);let v=m+p;d&&(v=parseInt(d));const b=v-m;b*1e3<=Jc&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${b}s, should have been closer to ${p}s`);const x=v-p;m-x>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",x,v,m):m-x<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",x,v,m);const{data:y,error:w}=await this._getUser(a);if(w)throw w;const E={provider_token:r,provider_refresh_token:i,access_token:a,expires_in:p,expires_at:v,refresh_token:o,token_type:f,user:y.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:E,redirectType:t.type},error:null})}catch(r){if(Xe(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await Jo(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a&&!Pw(a))return this._returnResult({error:a});const o=(r=i.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(Hie(l)&&(l.status===404||l.status===401||l.status===403)||Pw(l)))return this._returnResult({error:l})}return t!=="others"&&(await this._removeSession(),await gr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const n=eae(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,i;try{const{data:{session:a},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await Ic(this.storage,this.storageKey,!0));try{return await ft(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(a){if(await gr(this.storage,`${this.storageKey}-code-verifier`),Xe(a))return this._returnResult({data:null,error:a});throw a}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(n){if(Xe(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var n;try{const{data:r,error:i}=await this._useSession(async a=>{var o,l,d,f,m;const{data:p,error:v}=a;if(v)throw v;const b=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(d=t.options)===null||d===void 0?void 0:d.queryParams,skipBrowserRedirect:!0});return await ft(this.fetch,"GET",b,{headers:this.headers,jwt:(m=(f=p.session)===null||f===void 0?void 0:f.access_token)!==null&&m!==void 0?m:void 0})});if(i)throw i;return vr()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r?.url),this._returnResult({data:{provider:t.provider,url:r?.url},error:null})}catch(r){if(Xe(r))return this._returnResult({data:{provider:t.provider,url:null},error:r});throw r}}async linkIdentityIdToken(t){return await this._useSession(async n=>{var r;try{const{error:i,data:{session:a}}=n;if(i)throw i;const{options:o,provider:l,token:d,access_token:f,nonce:m}=t,p=await ft(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=a?.access_token)!==null&&r!==void 0?r:void 0,body:{provider:l,id_token:d,access_token:f,nonce:m,link_identity:!0,gotrue_meta_security:{captcha_token:o?.captchaToken}},xform:Gi}),{data:v,error:b}=p;return b?this._returnResult({data:{user:null,session:null},error:b}):!v||!v.session||!v.user?this._returnResult({data:{user:null,session:null},error:new Dc}):(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("USER_UPDATED",v.session)),this._returnResult({data:v,error:b}))}catch(i){if(await gr(this.storage,`${this.storageKey}-code-verifier`),Xe(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,i;const{data:a,error:o}=n;if(o)throw o;return await ft(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(r=a.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(Xe(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await iae(async i=>(i>0&&await rae(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await ft(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Gi})),(i,a)=>{const o=200*Math.pow(2,i);return a&&Mw(a)&&Date.now()+o-r<Jc})}catch(r){if(this._debug(n,"error",r),Xe(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),vr()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await Jo(this.storage,this.storageKey);if(i&&this.userStorage){let o=await Jo(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:i.user},await Zc(this.userStorage,this.storageKey+"-user",o)),i.user=(t=o?.user)!==null&&t!==void 0?t:kw()}else if(i&&!i.user&&!i.user){const o=await Jo(this.storage,this.storageKey+"-user");o&&o?.user?(i.user=o.user,await gr(this.storage,this.storageKey+"-user"),await Zc(this.storage,this.storageKey,i)):i.user=kw()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const a=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Rw;if(this._debug(r,`session has${a?"":" not"} expired with margin of ${Rw}s`),a){if(this.autoRefreshToken&&i.refresh_token){const{error:o}=await this._callRefreshToken(i.refresh_token);o&&(console.error(o),Mw(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(i.access_token);!l&&o?.user?(i.user=o.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(r,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new ri;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Wy;const{data:a,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!a.session)throw new ri;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const l={data:a.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(a){if(this._debug(i,"error",a),Xe(a)){const o={data:null,error:a};return Mw(a)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,n,r=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const a=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,n)}catch(d){a.push(d)}});if(await Promise.all(o),a.length>0){for(let l=0;l<a.length;l+=1)console.error(a[l]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await gr(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await Zc(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const a=oD(i);await Zc(this.storage,this.storageKey,a)}else{const i=oD(n);await Zc(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await gr(this.storage,this.storageKey),await gr(this.storage,this.storageKey+"-code-verifier"),await gr(this.storage,this.storageKey+"-user"),this.userStorage&&await gr(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&vr()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Jc);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t);const n=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t);const n=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,n&&clearTimeout(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-t)/Jc);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Jc}ms, refresh threshold is ${Zj} ticks`),i<=Zj&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof ZU)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!vr()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(t){this._debug("#visibilityChangedCallback","error",t)}},window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r?.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r?.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[a,o]=await Ic(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(l.toString())}if(r?.queryParams){const a=new URLSearchParams(r.queryParams);i.push(a.toString())}return r?.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;return a?this._returnResult({data:null,error:a}):await ft(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Xe(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,i;const{data:a,error:o}=n;if(o)return this._returnResult({data:null,error:o});const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:d,error:f}=await ft(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(r=a?.session)===null||r===void 0?void 0:r.access_token});return f?this._returnResult({data:null,error:f}):(t.factorType==="totp"&&d.type==="totp"&&(!((i=d?.totp)===null||i===void 0)&&i.qr_code)&&(d.totp.qr_code=`data:image/svg+xml;utf-8,${d.totp.qr_code}`),this._returnResult({data:d,error:null}))})}catch(n){if(Xe(n))return this._returnResult({data:null,error:n});throw n}}async _verify(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return this._returnResult({data:null,error:a});const o=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?kae(t.webauthn.credential_response):Dae(t.webauthn.credential_response)})}:{code:t.code}),{data:l,error:d}=await ft(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:o,headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token});return d?this._returnResult({data:null,error:d}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),this._returnResult({data:l,error:d}))})}catch(n){if(Xe(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return this._returnResult({data:null,error:a});const o=await ft(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token});if(o.error)return o;const{data:l}=o;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:Pae(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:Mae(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(Xe(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){var t;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const i={all:[],phone:[],totp:[],webauthn:[]};for(const a of(t=n?.factors)!==null&&t!==void 0?t:[])i.all.push(a),a.status==="verified"&&i[a.factor_type].push(a);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(t){var n,r,i,a;if(t)try{const{payload:b}=xg(t);let x=null;b.aal&&(x=b.aal);let y=x;const{data:{user:w},error:E}=await this.getUser(t);if(E)return this._returnResult({data:null,error:E});((r=(n=w?.factors)===null||n===void 0?void 0:n.filter(O=>O.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(y="aal2");const j=b.amr||[];return{data:{currentLevel:x,nextLevel:y,currentAuthenticationMethods:j},error:null}}catch(b){if(Xe(b))return this._returnResult({data:null,error:b});throw b}const{data:{session:o},error:l}=await this.getSession();if(l)return this._returnResult({data:null,error:l});if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:d}=xg(o.access_token);let f=null;d.aal&&(f=d.aal);let m=f;((a=(i=o.user.factors)===null||i===void 0?void 0:i.filter(b=>b.status==="verified"))!==null&&a!==void 0?a:[]).length>0&&(m="aal2");const v=d.amr||[];return{data:{currentLevel:f,nextLevel:m,currentAuthenticationMethods:v},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?await ft(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:r.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new ri})})}catch(n){if(Xe(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:i},error:a}=r;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new ri});const o=await ft(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return o.data&&o.data.redirect_url&&vr()&&!n?.skipBrowserRedirect&&window.location.assign(o.data.redirect_url),o})}catch(r){if(Xe(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:i},error:a}=r;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new ri});const o=await ft(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return o.data&&o.data.redirect_url&&vr()&&!n?.skipBrowserRedirect&&window.location.assign(o.data.redirect_url),o})}catch(r){if(Xe(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;return r?this._returnResult({data:null,error:r}):n?await ft(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new ri})})}catch(t){if(Xe(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?(await ft(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new ri})})}catch(n){if(Xe(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(l=>l.kid===t);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(l=>l.kid===t),r&&this.jwks_cached_at+Fie>i)return r;const{data:a,error:o}=await ft(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=i,r=a.keys.find(l=>l.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:b,error:x}=await this.getSession();if(x||!b.session)return this._returnResult({data:null,error:x});r=b.session.access_token}const{header:i,payload:a,signature:o,raw:{header:l,payload:d}}=xg(r);n?.allowExpired||dae(a.exp);const f=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n?.keys?{keys:n.keys}:n?.jwks);if(!f){const{error:b}=await this.getUser(r);if(b)throw b;return{data:{claims:a,header:i,signature:o},error:null}}const m=fae(i.alg),p=await crypto.subtle.importKey("jwk",f,m,!0,["verify"]);if(!await crypto.subtle.verify(m,p,o,Jie(`${l}.${d}`)))throw new nE("Invalid JWT signature");return{data:{claims:a,header:i,signature:o},error:null}}catch(r){if(Xe(r))return this._returnResult({data:null,error:r});throw r}}}Oh.nextInstanceID={};const Vae=Oh,Hae="2.93.3";let Kf="";typeof Deno<"u"?Kf="deno":typeof document<"u"?Kf="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Kf="react-native":Kf="node";const Gae={"X-Client-Info":`supabase-js-${Kf}/${Hae}`},Kae={headers:Gae},Wae={schema:"public"},Yae={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Xae={};function Ch(e){"@babel/helpers - typeof";return Ch=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ch(e)}function Qae(e,t){if(Ch(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Ch(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Jae(e){var t=Qae(e,"string");return Ch(t)=="symbol"?t:t+""}function Zae(e,t,n){return(t=Jae(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Tn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?mD(Object(n),!0).forEach(function(r){Zae(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}const ese=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),tse=()=>Headers,nse=(e,t,n)=>{const r=ese(n),i=tse();return async(a,o)=>{var l;const d=(l=await t())!==null&&l!==void 0?l:e;let f=new i(o?.headers);return f.has("apikey")||f.set("apikey",e),f.has("Authorization")||f.set("Authorization",`Bearer ${d}`),r(a,Tn(Tn({},o),{},{headers:f}))}};function rse(e){return e.endsWith("/")?e:e+"/"}function ise(e,t){var n,r;const{db:i,auth:a,realtime:o,global:l}=e,{db:d,auth:f,realtime:m,global:p}=t,v={db:Tn(Tn({},d),i),auth:Tn(Tn({},f),a),realtime:Tn(Tn({},m),o),storage:{},global:Tn(Tn(Tn({},p),l),{},{headers:Tn(Tn({},(n=p?.headers)!==null&&n!==void 0?n:{}),(r=l?.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return e.accessToken?v.accessToken=e.accessToken:delete v.accessToken,v}function ase(e){const t=e?.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(rse(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var sse=class extends Vae{constructor(e){super(e)}},ose=class{constructor(e,t,n){var r,i;this.supabaseUrl=e,this.supabaseKey=t;const a=ase(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const o=`sb-${a.hostname.split(".")[0]}-auth-token`,l={db:Wae,realtime:Xae,auth:Tn(Tn({},Yae),{},{storageKey:o}),global:Kae},d=ise(n??{},l);if(this.storageKey=(r=d.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken)this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(m,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}});else{var f;this.auth=this._initSupabaseAuthClient((f=d.auth)!==null&&f!==void 0?f:{},this.headers,d.global.fetch)}this.fetch=nse(t,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Tn({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(m=>this.realtime.setAuth(m)).catch(m=>console.warn("Failed to set initial Realtime auth token:",m)),this.rest=new Hre(new URL("rest/v1",a).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new Lie(this.storageUrl.href,this.headers,this.fetch,n?.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new qre(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,n)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,n;if(e.accessToken)return await e.accessToken();const{data:r}=await e.auth.getSession();return(t=(n=r.session)===null||n===void 0?void 0:n.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:r,userStorage:i,storageKey:a,flowType:o,lock:l,debug:d,throwOnError:f},m,p){const v={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new sse({url:this.authUrl.href,headers:Tn(Tn({},v),m),storageKey:a,autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:r,userStorage:i,flowType:o,lock:l,debug:d,throwOnError:f,fetch:p,hasCustomAuthorizationHeader:Object.keys(this.headers).some(b=>b.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new lie(this.realtimeUrl.href,Tn(Tn({},e),{},{params:Tn(Tn({},{apikey:this.supabaseKey}),e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t?.access_token)})}_handleTokenChanged(e,t,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const lse=(e,t,n)=>new ose(e,t,n);function cse(){if(typeof window<"u")return!1;const e=globalThis.process;if(!e)return!1;const t=e.version;if(t==null)return!1;const n=t.match(/^v(\d+)\./);return n?parseInt(n[1],10)<=18:!1}cse()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const use="https://fscnobivsgornxdwqwlk.supabase.co",nF="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImZzY25vYml2c2dvcm54ZHdxd2xrIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njk4Njc3NTIsImV4cCI6MjA4NTQ0Mzc1Mn0.lX74HG_hI-0eaEDsyEJnzgFODCErUfQ-WW-5GFsoND8",rF=!!nF;rF||console.warn("[supabase] VITE_SUPABASE_URL or VITE_SUPABASE_ANON_KEY is missing. Supabase features will not work.");const Oe=rF?lse(use,nF):new Proxy({},{get:(e,t)=>{if(t==="auth")return{getSession:async()=>({data:{session:null},error:null}),refreshSession:async()=>({data:{session:null},error:null}),signInWithPassword:async()=>({data:{session:null,user:null},error:{message:"Supabase not configured"}}),signUp:async()=>({data:{session:null,user:null},error:{message:"Supabase not configured"}}),signOut:async()=>({error:null}),onAuthStateChange:()=>({data:{subscription:{unsubscribe:()=>{}}}}),updateUser:async()=>({data:{user:null},error:{message:"Supabase not configured"}}),getUser:async()=>({data:{user:null},error:null})};if(t==="from")return()=>new Proxy({},{get:()=>()=>Promise.resolve({data:null,error:{message:"Supabase not configured"}})});if(t==="rpc")return()=>Promise.resolve({data:null,error:{message:"Supabase not configured"}});if(t==="functions")return{invoke:async()=>({data:null,error:{message:"Supabase not configured"}})}}}),Xg="coach_selected_athlete_id",Qg="coach_selected_athlete_name",iF=e=>{if(typeof window>"u")return null;try{return window.localStorage.getItem(e)}catch(t){return console.warn(`[auth] Unable to read ${e} from storage`,t),null}},qc=(e,t)=>{if(!(typeof window>"u"))try{t===null?window.localStorage.removeItem(e):window.localStorage.setItem(e,t)}catch(n){console.warn(`[auth] Unable to update ${e} in storage`,n)}},dse=()=>{const e=iF(Xg);if(!e)return null;const t=Number(e);return Number.isFinite(t)?t:null},fse=()=>iF(Qg)||null,pD=e=>{if(!e)return null;const t=e.app_metadata??e.user_metadata??{},n=t.app_user_id??t.user_id,r=Number(n);return Number.isFinite(r)?r:null},gD=e=>{if(!e)return null;const t=e.app_metadata??e.user_metadata??{};return t.app_user_role??t.role??"athlete"},vD=e=>{if(!e)return null;const t=e.user_metadata??{};return t.display_name??t.full_name??e.email??null},sn=Dre(e=>({user:null,userId:null,role:null,selectedAthleteId:dse(),selectedAthleteName:fse(),accessToken:null,refreshToken:null,loginFromSession:t=>{const n=t.user,r=vD(n),i=pD(n),a=gD(n);e({user:r,userId:i,role:a,accessToken:t.access_token,refreshToken:t.refresh_token})},login:({user:t,accessToken:n,refreshToken:r,userId:i,role:a})=>{e({user:t,accessToken:n,refreshToken:r,userId:i??null,role:a??null})},logout:async()=>{await Oe.auth.signOut(),qc(Xg,null),qc(Qg,null),e({user:null,userId:null,role:null,accessToken:null,refreshToken:null,selectedAthleteId:null,selectedAthleteName:null})},updateAccessToken:t=>{e({accessToken:t})},setSelectedAthlete:t=>{if(!t){qc(Xg,null),qc(Qg,null),e({selectedAthleteId:null,selectedAthleteName:null});return}qc(Xg,t.id!==null&&t.id!==void 0?String(t.id):null),qc(Qg,t.name??null),e({selectedAthleteId:t.id??null,selectedAthleteName:t.name??null})},loadUser:async()=>{const{data:t,error:n}=await Oe.auth.getSession();if(n||!t.session)return e({user:null,userId:null,role:null,accessToken:null,refreshToken:null}),null;const r=t.session,i=r.user,a=vD(i),o=pD(i),l=gD(i);return e({user:a,userId:o,role:l,accessToken:r.access_token,refreshToken:r.refresh_token}),a}}));Oe.auth.onAuthStateChange((e,t)=>{const n=sn.getState();t?n.loginFromSession(t):sn.setState({user:null,userId:null,role:null,accessToken:null,refreshToken:null})});const aF="/competition-V2/assets/logo-eac-CbBi48or.png",hse=e=>{const t=e??"athlete";return t==="admin"?[{href:"/profile",icon:ug,label:"Profil"},{href:"/admin",icon:vee,label:"Gestion des comptes"}]:t==="comite"?[{href:"/notifications",icon:as,label:"Messagerie"},{href:"/administratif",icon:Ij,label:"Administratif"},{href:"/profile",icon:ug,label:"Profil"},{href:"/comite",icon:hu,label:"Comit"}]:t==="coach"?[{href:"/coach",icon:hu,label:"Coach"},{href:"/notifications",icon:as,label:"Messagerie"},{href:"/administratif",icon:Ij,label:"Administratif"},{href:"/profile",icon:ug,label:"Profil"}]:[{href:"/",icon:hi,label:"Sance"},{href:"/progress",icon:Aee,label:"Progression"},{href:"/strength",icon:Mi,label:"Muscu"},{href:"/notifications",icon:as,label:"Messagerie"},{href:"/hall-of-fame",icon:ro,label:"H.O.F"},{href:"/profile",icon:ug,label:"Profil"}]},mse={BASE_URL:"/competition-V2/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImZzY25vYml2c2dvcm54ZHdxd2xrIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njk4Njc3NTIsImV4cCI6MjA4NTQ0Mzc1Mn0.lX74HG_hI-0eaEDsyEJnzgFODCErUfQ-WW-5GFsoND8",VITE_SUPABASE_URL:"https://fscnobivsgornxdwqwlk.supabase.co"},pse=e=>e?String(e).trim():"",sF=e=>{const t=typeof import.meta>"u"?void 0:mse;return t?pse(t?.[e]):""},gse=sF("VITE_SUPABASE_URL"),vse=sF("VITE_SUPABASE_ANON_KEY"),wl={hasSupabase:!!(gse&&vse)};console.info("[config] supabase:",wl.hasSupabase);const yse=()=>typeof navigator>"u"?!0:navigator.onLine,Ve=()=>wl.hasSupabase&&yse(),Ae={SESSIONS:"suivi_natation_sessions",EXERCISES:"suivi_natation_exercises",STRENGTH_SESSIONS:"suivi_natation_strength_sessions",SWIM_SESSIONS:"suivi_natation_swim_sessions",ASSIGNMENTS:"suivi_natation_assignments",STRENGTH_RUNS:"suivi_natation_strength_runs",NOTIFICATIONS:"suivi_natation_notifications",ONE_RM:"suivi_natation_1rm",SWIM_RECORDS:"suivi_natation_swim_records",TIMESHEET_SHIFTS:"suivi_natation_timesheet_shifts",TIMESHEET_LOCATIONS:"suivi_natation_timesheet_locations"},Er=e=>new Promise(t=>setTimeout(t,e)),yD=["Piscine","Comptition"],bD=e=>{if(!e)return null;if(typeof e=="string")try{return JSON.parse(e)}catch{return null}return typeof e=="object"?e:null},xD=async e=>{if(!e||!Ve())return[];const{data:t,error:n}=await Oe.from("group_members").select("group_id").eq("user_id",e);return n||!t?[]:t.map(r=>r.group_id).filter(r=>r>0)},bse=e=>({id:xr(e.id),numero_exercice:We(e.numero_exercice),nom_exercice:e.nom_exercice??"",description:e.description??null,illustration_gif:e.illustration_gif??null,exercise_type:lF(e.exercise_type),warmup_reps:null,warmup_duration:null,Nb_series_endurance:We(e.nb_series_endurance),Nb_reps_endurance:We(e.nb_reps_endurance),pct_1rm_endurance:gu(e.pourcentage_charge_1rm_endurance),recup_endurance:We(e.recup_series_endurance),recup_exercices_endurance:We(e.recup_exercices_endurance),Nb_series_hypertrophie:We(e.nb_series_hypertrophie),Nb_reps_hypertrophie:We(e.nb_reps_hypertrophie),pct_1rm_hypertrophie:gu(e.pourcentage_charge_1rm_hypertrophie),recup_hypertrophie:We(e.recup_series_hypertrophie),recup_exercices_hypertrophie:We(e.recup_exercices_hypertrophie),Nb_series_force:We(e.nb_series_force),Nb_reps_force:We(e.nb_reps_force),pct_1rm_force:gu(e.pourcentage_charge_1rm_force),recup_force:We(e.recup_series_force),recup_exercices_force:We(e.recup_exercices_force)}),wD=e=>({numero_exercice:e.numero_exercice??null,nom_exercice:e.nom_exercice??e.name??"",description:e.description??null,illustration_gif:e.illustration_gif??null,exercise_type:e.exercise_type??"strength",nb_series_endurance:e.Nb_series_endurance??null,nb_reps_endurance:e.Nb_reps_endurance??null,pourcentage_charge_1rm_endurance:e.pct_1rm_endurance??null,recup_series_endurance:e.recup_endurance??null,recup_exercices_endurance:e.recup_exercices_endurance??null,nb_series_hypertrophie:e.Nb_series_hypertrophie??null,nb_reps_hypertrophie:e.Nb_reps_hypertrophie??null,pourcentage_charge_1rm_hypertrophie:e.pct_1rm_hypertrophie??null,recup_series_hypertrophie:e.recup_hypertrophie??null,recup_exercices_hypertrophie:e.recup_exercices_hypertrophie??null,nb_series_force:e.Nb_series_force??null,nb_reps_force:e.Nb_reps_force??null,pourcentage_charge_1rm_force:e.pct_1rm_force??null,recup_series_force:e.recup_force??null,recup_exercices_force:e.recup_exercices_force??null}),xr=(e,t=0)=>{const n=Number(e);return Number.isFinite(n)?Math.round(n):t},We=e=>{const t=Number(e);return Number.isFinite(t)?Math.round(t):null},_D=new Set,xse=e=>{if(e instanceof Error){const t=e;return{message:t.message||"Erreur inconnue",code:t.code,status:t.status}}return{message:String(e||"Erreur inconnue")}},Mr=(e,t)=>{const n=xse(e),r=n.status,i=n.code;let a=n.message||t;i==="unknown_action"?a="Action inconnue ct serveur.":i==="table_missing"?a="Base de donnes non initialise (table manquante).":r===401?a="Authentification expire ou manquante.":r===403&&(a="Accs refus pour ce rle.");const o=`${i??"none"}:${r??"none"}:${a}`;return _D.has(o)||(console.error("[api] error:",n),_D.add(o)),{...n,message:a}},ea=e=>{if(e==null)return null;const t=Number(e);return Number.isFinite(t)?t<=5?Math.max(1,Math.round(t)):Math.min(5,Math.max(1,Math.round(t/2))):null},io=e=>{if(e==null)return null;const t=Number(e);return Number.isFinite(t)?t<=5?Math.round(t*2):Math.round(t):null},gu=e=>{const t=Number(e);return Number.isFinite(t)?t:null},Iw=(e,t)=>!Number.isFinite(e)||!Number.isFinite(t)||(e??0)<=0||(t??0)<=0?null:Math.round(t===1?e:e*(1+t/30)),Jg=e=>{const t=String(e??"").trim().toLowerCase();return t==="hypertrophie"||t==="force"||t==="endurance"?t:"endurance"},$w=(e,t,n)=>({exercise_id:xr(e.exercise_id),order_index:We(e.ordre??e.order_index)??t,sets:We(e.sets)??0,reps:We(e.reps)??0,rest_seconds:We(e.rest_series_s??e.rest_seconds)??0,percent_1rm:We(e.pct_1rm??e.percent_1rm)??0,cycle_type:Jg(e.cycle_type??n),notes:e.notes??"",exercise_name:e.exercise_name??e.nom_exercice??void 0,category:e.category??e.exercise_type??void 0}),SD=e=>{for(let t=0;t<e.length;t+=1){const n=e[t];if(!Number.isFinite(n.sets)||n.sets<0)throw new Error(`Sries invalides pour l'exercice #${t+1}`);if(!Number.isFinite(n.reps)||n.reps<0)throw new Error(`Reps invalides pour l'exercice #${t+1}`);if(!Number.isFinite(n.rest_seconds)||n.rest_seconds<0)throw new Error(`Repos invalide pour l'exercice #${t+1}`)}},oF=e=>e==="strength"||e==="warmup",lF=e=>oF(e)?e:"strength",jD=e=>{if(oF(e))return e;throw new Error("exercise_type must be 'strength' or 'warmup'")},Lw=e=>({id:xr(e.id),numero_exercice:We(e.numero_exercice??e.numero),nom_exercice:e.nom_exercice??e.name??"",description:e.description??null,illustration_gif:e.illustration_gif??null,exercise_type:lF(e.exercise_type??e.type??(e.is_warmup?"warmup":"strength")),warmup_reps:We(e.warmup_reps),warmup_duration:We(e.warmup_duration),Nb_series_endurance:We(e.Nb_series_endurance),Nb_reps_endurance:We(e.Nb_reps_endurance),pct_1rm_endurance:gu(e.pct_1rm_endurance),recup_endurance:We(e.recup_endurance),recup_exercices_endurance:We(e.recup_exercices_endurance),Nb_series_hypertrophie:We(e.Nb_series_hypertrophie),Nb_reps_hypertrophie:We(e.Nb_reps_hypertrophie),pct_1rm_hypertrophie:gu(e.pct_1rm_hypertrophie),recup_hypertrophie:We(e.recup_hypertrophie),recup_exercices_hypertrophie:We(e.recup_exercices_hypertrophie),Nb_series_force:We(e.Nb_series_force),Nb_reps_force:We(e.Nb_reps_force),pct_1rm_force:gu(e.pct_1rm_force),recup_force:We(e.recup_force),recup_exercices_force:We(e.recup_exercices_force)}),wse=e=>{const t={athlete_name:e.athlete_name,session_date:e.date,time_slot:e.slot,distance:e.distance,duration:e.duration,rpe:io(e.effort),performance:io(e.performance??e.feeling),engagement:io(e.engagement??e.feeling),fatigue:io(e.feeling),comments:e.comments};return e.athlete_id!==null&&e.athlete_id!==void 0&&String(e.athlete_id)!==""&&(t.athlete_id=e.athlete_id),t},_se=e=>{if(!e)return null;const t=String(e.athlete_name||"").trim(),n=String(e.session_date||e.date||"").trim();if(!t||!n)return null;const r=ea(We(e.rpe??e.effort)),i=ea(We(e.performance??e.feeling)),a=ea(We(e.engagement??e.feeling)),o=ea(We(e.fatigue??e.feeling)),l=r??3,d=ea(We(e.performance??e.engagement??e.fatigue??e.feeling))??3;return{id:xr(e.id,Date.now()),athlete_id:e.athlete_id?xr(e.athlete_id):void 0,athlete_name:t,date:n,slot:String(e.time_slot||e.slot||""),effort:l,feeling:d,rpe:r,performance:i,engagement:a,fatigue:o,distance:xr(e.distance,0),duration:xr(e.duration,0),comments:e.comments||"",created_at:e.created_at||e.updated_at||new Date().toISOString()}},De={async getCapabilities(){return Ve()?{mode:"supabase",version:null,timesheet:{available:!0},messaging:{available:!0}}:{mode:"local",version:null,timesheet:{available:!0},messaging:{available:!0}}},async syncFfnSwimRecords(e){if(!Ve())throw new Error("Supabase not configured");const{data:t,error:n}=await Oe.functions.invoke("ffn-sync",{body:{athlete_id:e.athleteId??null,athlete_name:e.athleteName??null,iuf:e.iuf}});if(n)throw new Error(n.message);return t??{inserted:0,updated:0,skipped:0}},async syncSession(e){if(Ve()){const r=wse(e),{error:i}=await Oe.from("dim_sessions").insert(r);if(i)throw new Error(i.message);return{status:"ok"}}await Er(300);const t=this._get(Ae.SESSIONS)||[],n={...e,id:Date.now(),created_at:new Date().toISOString()};return this._save(Ae.SESSIONS,[...t,n]),{status:"ok"}},async getSessions(e,t){const n=t!=null&&String(t)!=="";if(Ve()){let i=Oe.from("dim_sessions").select("*").order("session_date",{ascending:!1});n?i=i.eq("athlete_id",Number(t)):i=i.eq("athlete_name",e);const{data:a,error:o}=await i;if(o)throw new Error(o.message);return(a??[]).map(_se).filter(l=>!!l)}return await Er(200),(this._get(Ae.SESSIONS)||[]).filter(i=>n&&i.athlete_id?String(i.athlete_id)===String(t):i.athlete_name.toLowerCase()===e.toLowerCase()).map(i=>({...i,effort:ea(i.effort)??i.effort,feeling:ea(i.feeling)??i.feeling,rpe:ea(i.rpe??null),performance:ea(i.performance??null),engagement:ea(i.engagement??null),fatigue:ea(i.fatigue??null)})).sort((i,a)=>new Date(a.date).getTime()-new Date(i.date).getTime())},async updateSession(e){if(Ve()){const i={athlete_name:e.athlete_name,session_date:e.date,time_slot:e.slot,distance:e.distance,duration:e.duration,rpe:io(e.effort),performance:io(e.performance??e.feeling),engagement:io(e.engagement??e.feeling),fatigue:io(e.feeling),comments:e.comments},{error:a}=await Oe.from("dim_sessions").update(i).eq("id",e.id);if(a)throw new Error(a.message);return{status:"updated"}}await Er(200);const t=this._get(Ae.SESSIONS)||[],n=t.findIndex(i=>i.id===e.id);if(n===-1)return{status:"missing"};const r=[...t];return r[n]={...r[n],...e},this._save(Ae.SESSIONS,r),{status:"updated"}},async deleteSession(e){if(Ve()){const{error:r}=await Oe.from("dim_sessions").delete().eq("id",e);if(r)throw new Error(r.message);return{status:"deleted"}}await Er(200);const n=(this._get(Ae.SESSIONS)||[]).filter(r=>r.id!==e);return this._save(Ae.SESSIONS,n),{status:"deleted"}},async getHallOfFame(){if(Ve()){const{data:o,error:l}=await Oe.rpc("get_hall_of_fame");if(!l&&o){const d=Array.isArray(o)?o:[],f=[...d].map(v=>({athlete_name:v.athlete_name,total_distance:Number(v.total_distance??0)})).sort((v,b)=>b.total_distance-v.total_distance).slice(0,5),m=[...d].map(v=>({athlete_name:v.athlete_name,avg_effort:Number(v.avg_performance??v.avg_engagement??0)})).sort((v,b)=>b.avg_effort-v.avg_effort).slice(0,5),p=[...d].map(v=>({athlete_name:v.athlete_name,avg_engagement:Number(v.avg_engagement??0)})).sort((v,b)=>b.avg_engagement-v.avg_engagement).slice(0,5);return{distance:f,performance:m,engagement:p,strength:[]}}}await Er(300);const e=this._get(Ae.SESSIONS)||[],t=this._get(Ae.STRENGTH_RUNS)||[],n=new Map;e.forEach(o=>{n.has(o.athlete_name)||n.set(o.athlete_name,{distance:0,effortSum:0,count:0,engagementSum:0,engagementCount:0});const l=n.get(o.athlete_name);l.distance+=o.distance,l.effortSum+=o.effort,l.count+=1,o.engagement!==null&&o.engagement!==void 0&&Number.isFinite(o.engagement)&&(l.engagementSum+=o.engagement,l.engagementCount+=1)});const r=Array.from(n.entries()).map(([o,l])=>({athlete_name:o,total_distance:l.distance,avg_effort:l.effortSum/l.count,avg_engagement:l.engagementCount?l.engagementSum/l.engagementCount:0})),i=new Map;t.forEach(o=>{i.has(o.athlete_name)||i.set(o.athlete_name,{volume:0,reps:0,sets:0,maxWeight:0});const l=i.get(o.athlete_name);o.logs&&o.logs.forEach(d=>{const f=Number(d.reps??0),m=Number(d.weight??0);l.volume+=f*m,l.reps+=f,l.sets+=1,m>l.maxWeight&&(l.maxWeight=m)})});const a=Array.from(i.entries()).map(([o,l])=>({athlete_name:o,total_volume:l.volume,total_reps:l.reps,total_sets:l.sets,max_weight:l.maxWeight}));return{distance:[...r].sort((o,l)=>l.total_distance-o.total_distance).slice(0,5),performance:[...r].sort((o,l)=>l.avg_effort-o.avg_effort).slice(0,5),engagement:[...r].sort((o,l)=>l.avg_engagement-o.avg_engagement).slice(0,5),strength:[...a].sort((o,l)=>l.total_volume-o.total_volume).slice(0,5)}},async getClubRecords(e){if(!Ve())return[];let t=Oe.from("club_records").select("*");e.pool_m&&(t=t.eq("pool_m",e.pool_m)),e.sex&&(t=t.eq("sex",e.sex)),e.age&&(t=t.eq("age",e.age)),e.event_code&&(t=t.eq("event_code",e.event_code));const{data:n,error:r}=await t;if(r)throw new Error(r.message);return n??[]},async getClubRecordSwimmers(){if(!Ve())return[];const{data:e,error:t}=await Oe.from("club_record_swimmers").select("*");if(t)throw new Error(t.message);return(e??[]).map(n=>({...n,is_active:n.is_active?1:0}))},async createClubRecordSwimmer(e){if(!Ve())return null;const{data:t,error:n}=await Oe.from("club_record_swimmers").insert({source_type:"manual",display_name:e.display_name,iuf:e.iuf??null,sex:e.sex??null,birthdate:e.birthdate??null,is_active:e.is_active!==!1}).select().single();if(n)throw new Error(n.message);return t?{...t,is_active:t.is_active?1:0}:null},async updateClubRecordSwimmer(e,t){if(!Ve())return null;const n={};t.iuf!==void 0&&(n.iuf=t.iuf),t.is_active!==void 0&&(n.is_active=t.is_active),t.sex!==void 0&&(n.sex=t.sex),t.birthdate!==void 0&&(n.birthdate=t.birthdate);const{data:r,error:i}=await Oe.from("club_record_swimmers").update(n).eq("id",e).select().single();if(i)throw new Error(i.message);return r?{...r,is_active:r.is_active?1:0}:null},async updateClubRecordSwimmerForUser(e,t){if(!Ve())return null;const n={};t.iuf!==void 0&&(n.iuf=t.iuf),t.is_active!==void 0&&(n.is_active=t.is_active),t.sex!==void 0&&(n.sex=t.sex),t.birthdate!==void 0&&(n.birthdate=t.birthdate);const{data:r,error:i}=await Oe.from("club_record_swimmers").update(n).eq("user_id",e).eq("source_type","user").select().single();if(i)throw new Error(i.message);return r?{...r,is_active:r.is_active?1:0}:null},async importClubRecords(){if(!Ve())return null;const{data:e,error:t}=await Oe.functions.invoke("import-club-records");if(t)throw new Error(t.message);return e?.summary??e},async getExercises(){if(Ve()){const{data:n,error:r}=await Oe.from("dim_exercices").select("*");if(r)throw new Error(r.message);return(n??[]).map(bse)}const e=this._get(Ae.EXERCISES)||[];return(Array.isArray(e)?e:[]).map(n=>Lw(n))},async createExercise(e){const t=jD(e.exercise_type);if(Ve()){const i=wD({...e,exercise_type:t}),{error:a}=await Oe.from("dim_exercices").insert(i);if(a)throw new Error(a.message);return{status:"created"}}const n=this._get(Ae.EXERCISES)||[],r=Lw({...e,exercise_type:t,id:Date.now()});return this._save(Ae.EXERCISES,[...n,r]),{status:"created"}},async updateExercise(e){const t=jD(e.exercise_type);if(Ve()){const o=wD({...e,exercise_type:t}),{error:l}=await Oe.from("dim_exercices").update(o).eq("id",e.id);if(l)throw new Error(l.message);return{status:"updated"}}const n=this._get(Ae.EXERCISES)||[],r=n.findIndex(o=>o.id===e.id);if(r===-1)throw new Error("Exercice introuvable");const i=Lw({...n[r],...e,exercise_type:t}),a=[...n];return a[r]=i,this._save(Ae.EXERCISES,a),{status:"updated"}},async deleteExercise(e){if(Ve()){const{error:a}=await Oe.from("dim_exercices").delete().eq("id",e);if(a)throw new Error(a.message);return{status:"deleted"}}const n=(this._get(Ae.EXERCISES)||[]).filter(a=>a.id!==e);this._save(Ae.EXERCISES,n);const i=(this._get(Ae.STRENGTH_SESSIONS)||[]).map(a=>({...a,items:Array.isArray(a.items)?a.items.filter(o=>o.exercise_id!==e):a.items}));return this._save(Ae.STRENGTH_SESSIONS,i),{status:"deleted"}},async getStrengthSessions(){if(Ve()){const{data:e,error:t}=await Oe.from("strength_sessions").select("*, strength_session_items(*, dim_exercices(nom_exercice, exercise_type))").order("created_at",{ascending:!1});if(t)throw new Error(t.message);return(e??[]).map(n=>{const r=Array.isArray(n.strength_session_items)?n.strength_session_items:[],i=Jg(r[0]?.cycle_type);return{id:xr(n.id,Date.now()),title:String(n.name||""),description:n.description??"",cycle:i,items:r.sort((a,o)=>(a.ordre??0)-(o.ordre??0)).map((a,o)=>({...$w(a,o,i),exercise_name:a.dim_exercices?.nom_exercice??void 0,category:a.dim_exercices?.exercise_type??void 0}))}})}return this._get(Ae.STRENGTH_SESSIONS)||[]},async createStrengthSession(e){const t=Jg(e?.cycle??e?.cycle_type),r=(Array.isArray(e?.items)?e.items:[]).map((d,f)=>$w(d,f,t));SD(r);const i=r.sort((d,f)=>d.order_index-f.order_index).map(d=>({ordre:d.order_index,exercise_id:d.exercise_id,cycle_type:d.cycle_type,sets:d.sets,reps:d.reps,pct_1rm:d.percent_1rm,rest_series_s:d.rest_seconds,notes:d.notes}));if(Ve()){const{data:d,error:f}=await Oe.from("strength_sessions").insert({name:e?.title??e?.name??"",description:e?.description??""}).select("id").single();if(f)throw new Error(f.message);const m=d.id;if(i.length>0){const{error:p}=await Oe.from("strength_session_items").insert(i.map(v=>({session_id:m,ordre:v.ordre,exercise_id:v.exercise_id,block:"main",cycle_type:v.cycle_type??t,sets:v.sets,reps:v.reps,pct_1rm:v.pct_1rm,rest_series_s:v.rest_series_s,notes:v.notes})));if(p)throw new Error(p.message)}return{status:"created",id:m}}const a=this._get(Ae.STRENGTH_SESSIONS)||[],o=Date.now(),l=r.map(d=>{const f=(this._get(Ae.EXERCISES)||[]).find(m=>m.id===d.exercise_id);return{...d,exercise_name:f?.nom_exercice,category:f?.exercise_type}});return this._save(Ae.STRENGTH_SESSIONS,[...a,{...e,title:e?.title??e?.name??"",cycle:t,items:l,id:o}]),{status:"created",id:o}},async updateStrengthSession(e){if(!e?.id)throw new Error("Session id manquant");const t=Jg(e?.cycle??e?.cycle_type),r=(Array.isArray(e?.items)?e.items:[]).map((m,p)=>$w(m,p,t));SD(r);const i=r.sort((m,p)=>m.order_index-p.order_index).map(m=>({ordre:m.order_index,exercise_id:m.exercise_id,cycle_type:m.cycle_type,sets:m.sets,reps:m.reps,pct_1rm:m.percent_1rm,rest_series_s:m.rest_seconds,notes:m.notes}));if(Ve()){const{error:m}=await Oe.from("strength_sessions").update({name:e?.title??e?.name??"",description:e?.description??""}).eq("id",e.id);if(m)throw new Error(m.message);if(await Oe.from("strength_session_items").delete().eq("session_id",e.id),i.length>0){const{error:p}=await Oe.from("strength_session_items").insert(i.map(v=>({session_id:e.id,ordre:v.ordre,exercise_id:v.exercise_id,block:"main",cycle_type:v.cycle_type??t,sets:v.sets,reps:v.reps,pct_1rm:v.pct_1rm,rest_series_s:v.rest_series_s,notes:v.notes})));if(p)throw new Error(p.message)}return{status:"updated"}}const a=this._get(Ae.STRENGTH_SESSIONS)||[],o=a.findIndex(m=>m.id===e.id);if(o===-1)throw new Error("Sance introuvable");const l=r.map(m=>{const p=(this._get(Ae.EXERCISES)||[]).find(v=>v.id===m.exercise_id);return{...m,exercise_name:p?.nom_exercice,category:p?.exercise_type}}),d={...a[o],...e,title:e?.title??e?.name??"",cycle:t,items:l},f=[...a];return f[o]=d,this._save(Ae.STRENGTH_SESSIONS,f),{status:"updated"}},async persistStrengthSessionOrder(e){return this.updateStrengthSession(e)},async deleteStrengthSession(e){if(Ve()){const{error:r}=await Oe.from("strength_sessions").delete().eq("id",e);if(r)throw new Error(r.message);return{status:"deleted"}}const n=(this._get(Ae.STRENGTH_SESSIONS)||[]).filter(r=>r.id!==e);return this._save(Ae.STRENGTH_SESSIONS,n),{status:"deleted"}},async startStrengthRun(e){if(Ve()){const{data:i,error:a}=await Oe.from("strength_session_runs").insert({assignment_id:e.assignment_id??null,athlete_id:e.athlete_id??null,status:"in_progress",progress_pct:e.progress_pct??0,started_at:new Date().toISOString()}).select("id").single();if(a)throw new Error(a.message);return e.assignment_id&&await Oe.from("session_assignments").update({status:"in_progress"}).eq("id",e.assignment_id),{run_id:i.id}}const t=this._get(Ae.STRENGTH_RUNS)||[],n=Date.now(),r={id:n,assignment_id:e.assignment_id,athlete_id:e.athlete_id??null,athlete_name:e.athleteName??null,session_id:e.session_id??null,cycle_type:e.cycle_type??null,status:"in_progress",progress_pct:e.progress_pct??0,started_at:new Date().toISOString(),logs:[]};if(this._save(Ae.STRENGTH_RUNS,[...t,r]),e.assignment_id){const a=(this._get(Ae.ASSIGNMENTS)||[]).map(o=>o.id===e.assignment_id?{...o,status:"in_progress"}:o);this._save(Ae.ASSIGNMENTS,a)}return{run_id:n}},async logStrengthSet(e){const t=async p=>{const v=Iw(Number(e.weight),Number(e.reps));if(!v)return null;const b=p?.athleteId??null,x=p?.athleteName??null;if(b===null&&!x)return null;const y=await this.get1RM({athleteName:x,athleteId:b}),E=new Map((y||[]).map(N=>[N.exercise_id,Number(N.weight??0)])).get(e.exercise_id)??0;return v<=E||Ve()&&(b==null||b==="")?null:(await this.update1RM({athlete_id:b??void 0,athlete_name:x??void 0,exercise_id:e.exercise_id,one_rm:v}),v)},n=p=>{const v=e.athlete_id??e.athleteId??null,b=e.athlete_name??e.athleteName??null;if(v!==null||b)return{athleteId:v,athleteName:b};if(!p)return{athleteId:null,athleteName:null};const x=p.find(y=>y.id===e.run_id);return{athleteId:x?.athlete_id??null,athleteName:x?.athlete_name??null}};if(Ve()){const{error:p}=await Oe.from("strength_set_logs").insert({run_id:e.run_id,exercise_id:e.exercise_id,set_index:e.set_index??null,reps:e.reps??null,weight:e.weight??null,pct_1rm_suggested:e.pct_1rm_suggested??null,rest_seconds:e.rest_seconds??null,rpe:e.rpe??null,notes:e.notes??null,completed_at:new Date().toISOString()});if(p)throw new Error(p.message);const v=n(),b=await t(v);return{status:"ok",one_rm_updated:!!b,one_rm:b??void 0}}const r=this._get(Ae.STRENGTH_RUNS)||[],i=r.findIndex(p=>p.id===e.run_id),a=i>=0?r[i]:{id:e.run_id,logs:[]},o=[...a.logs||[],{...e,completed_at:new Date().toISOString()}],l={...a,logs:o},d=i>=0?[...r.slice(0,i),l,...r.slice(i+1)]:[...r,l];this._save(Ae.STRENGTH_RUNS,d);const f=n(d),m=await t(f);return{status:"ok",one_rm_updated:!!m,one_rm:m??void 0}},async updateStrengthRun(e){if(Ve()){const l={};e.progress_pct!==void 0&&(l.progress_pct=e.progress_pct),e.status&&(l.status=e.status),e.status==="completed"&&(l.completed_at=new Date().toISOString()),e.fatigue!==void 0&&(l.raw_payload={fatigue:e.fatigue,comments:e.comments});const{error:d}=await Oe.from("strength_session_runs").update(l).eq("id",e.run_id);if(d)throw new Error(d.message);return e.status==="completed"&&e.assignment_id&&await Oe.from("session_assignments").update({status:"completed"}).eq("id",e.assignment_id),{status:"ok"}}const t=this._get(Ae.STRENGTH_RUNS)||[],n=t.findIndex(l=>l.id===e.run_id),r=new Date().toISOString(),i=n>=0?t[n]:{id:e.run_id,started_at:r},a={...i,...e,id:e.run_id,updated_at:r};if(e.status==="completed"&&!a.completed_at&&(a.completed_at=r),e.status==="completed"){const l=e.assignment_id??i.assignment_id;if(l){const f=(this._get(Ae.ASSIGNMENTS)||[]).map(m=>m.id===l?{...m,status:"completed"}:m);this._save(Ae.ASSIGNMENTS,f)}}const o=n>=0?[...t.slice(0,n),a,...t.slice(n+1)]:[...t,a];return this._save(Ae.STRENGTH_RUNS,o),{status:"ok"}},async deleteStrengthRun(e){if(Ve()){const{error:i}=await Oe.from("strength_session_runs").delete().eq("id",e);if(i)throw new Error(i.message);return{status:"deleted",source:"remote"}}const t=this._get(Ae.STRENGTH_RUNS)||[],n=t.find(i=>i.id===e),r=t.filter(i=>i.id!==e);if(this._save(Ae.STRENGTH_RUNS,r),n?.assignment_id){const a=(this._get(Ae.ASSIGNMENTS)||[]).map(o=>o.id===n.assignment_id?{...o,status:"assigned"}:o);this._save(Ae.ASSIGNMENTS,a)}return{status:"deleted",source:"local"}},async saveStrengthRun(e){if(Ve()){let l=e.run_id;if(!l){const{data:m,error:p}=await Oe.from("strength_session_runs").insert({assignment_id:e.assignment_id??null,athlete_id:e.athlete_id??null,status:"in_progress",progress_pct:e.progress_pct??0,started_at:new Date().toISOString()}).select("id").single();if(p)throw new Error(p.message);l=m.id}if(l&&Array.isArray(e.logs)&&e.logs.length>0){const{error:m}=await Oe.from("strength_set_logs").insert(e.logs.map((p,v)=>({run_id:l,exercise_id:p.exercise_id,set_index:p.set_index??p.set_number??v,reps:p.reps??null,weight:p.weight??null,rpe:p.rpe??null,notes:p.notes??null,completed_at:new Date().toISOString()})));if(m)throw new Error(m.message)}const d=new Map;if((Array.isArray(e.logs)?e.logs:[]).forEach(m=>{const p=Iw(Number(m.weight),Number(m.reps));if(!p)return;const v=Number(m.exercise_id);if(!Number.isFinite(v))return;const b=d.get(v)??0;p>b&&d.set(v,p)}),d.size>0){const m=e.athlete_id??null,p=e.athlete_name??null;if(m!=null&&m!==""){const v=await this.get1RM({athleteName:p,athleteId:m}),b=new Map((v||[]).map(x=>[x.exercise_id,Number(x.weight??0)]));await Promise.all(Array.from(d.entries()).filter(([x,y])=>y>(b.get(x)??0)).map(([x,y])=>this.update1RM({athlete_id:m??void 0,athlete_name:p??void 0,exercise_id:x,one_rm:y})))}}return l&&await Oe.from("strength_session_runs").update({progress_pct:e.progress_pct??100,status:"completed",completed_at:new Date().toISOString()}).eq("id",l),e.assignment_id&&await Oe.from("session_assignments").update({status:"completed"}).eq("id",e.assignment_id),{status:"ok",run_id:l??null}}const t=this._get(Ae.STRENGTH_RUNS)||[],n=e.run_id??Date.now(),r=t.find(l=>l.id===n)||{},i={...r,...e,id:n,status:"completed",started_at:r.started_at??e.started_at??e.date??new Date().toISOString(),completed_at:new Date().toISOString()};if(this._save(Ae.STRENGTH_RUNS,[...t.filter(l=>l.id!==n),i]),e.assignment_id){const d=(this._get(Ae.ASSIGNMENTS)||[]).map(f=>f.id===e.assignment_id?{...f,status:"completed"}:f);this._save(Ae.ASSIGNMENTS,d)}const a=new Map;if((Array.isArray(e.logs)?e.logs:[]).forEach(l=>{const d=Iw(Number(l.weight),Number(l.reps));if(!d)return;const f=Number(l.exercise_id);if(!Number.isFinite(f))return;const m=a.get(f)??0;d>m&&a.set(f,d)}),a.size>0){const l=e.athlete_id??null,d=e.athlete_name??null,f=await this.get1RM({athleteName:d,athleteId:l}),m=new Map((f||[]).map(p=>[p.exercise_id,Number(p.weight??0)]));await Promise.all(Array.from(a.entries()).filter(([p,v])=>v>(m.get(p)??0)).map(([p,v])=>this.update1RM({athlete_id:l??void 0,athlete_name:d??void 0,exercise_id:p,one_rm:v})))}return{status:"ok",run_id:n}},async strengthRunStart(e){if(Ve()){const a=e.athleteId?Number(e.athleteId):null,{data:o,error:l}=await Oe.from("strength_session_runs").insert({assignment_id:e.assignmentId,athlete_id:a,status:"in_progress",progress_pct:e.progressPct??0,started_at:new Date().toISOString()}).select("id").single();if(l)throw new Error(l.message);return await Oe.from("session_assignments").update({status:"in_progress"}).eq("id",e.assignmentId),{run_id:o.id}}const t=Date.now(),n=this._get(Ae.STRENGTH_RUNS)||[];this._save(Ae.STRENGTH_RUNS,[...n,{id:t,assignment_id:e.assignmentId,athlete_id:e.athleteId??null,athlete_name:e.athleteName??null,status:"in_progress",progress_pct:e.progressPct??0,started_at:new Date().toISOString()}]);const i=(this._get(Ae.ASSIGNMENTS)||[]).map(a=>a.id===e.assignmentId?{...a,status:"in_progress",updated_at:new Date().toISOString()}:a);return this._save(Ae.ASSIGNMENTS,i),{run_id:t}},async getStrengthHistory(e,t){const n=t?.limit??50,r=Number.isFinite(n)?Math.min(Math.max(Number(n),1),200):50,i=t?.offset??0,a=Number.isFinite(i)?Math.max(Number(i),0):0,o=t?.order==="asc"?"asc":"desc",l=t?.athleteId,d=l!=null&&l!=="";if(Ve()){let N=Oe.from("strength_session_runs").select("*, strength_set_logs(*)").order("started_at",{ascending:o==="asc"}).range(a,a+r-1);d&&(N=N.eq("athlete_id",Number(l))),t?.status&&(N=N.eq("status",t.status)),t?.from&&(N=N.gte("started_at",t.from)),t?.to&&(N=N.lte("started_at",t.to+"T23:59:59"));const{data:j,error:O,count:T}=await N;if(O)throw new Error(O.message);return{runs:j??[],pagination:{limit:r,offset:a,total:T??(j??[]).length},exercise_summary:[]}}const p=(this._get(Ae.STRENGTH_RUNS)||[]).filter(N=>{if(d&&String(N.athlete_id)!==String(l)||!d&&e&&N.athlete_name!==e||t?.status&&N.status!==t.status)return!1;if(t?.from||t?.to){const j=new Date(N.date||N.started_at||N.created_at||0).getTime();if(t?.from){const O=new Date(t.from).getTime();if(Number.isFinite(O)&&j<O)return!1}if(t?.to){const O=new Date(t.to);O.setHours(23,59,59,999);const T=O.getTime();if(Number.isFinite(T)&&j>T)return!1}}return!0}).sort((N,j)=>{const O=new Date(N.date||N.started_at||N.created_at||0).getTime(),T=new Date(j.date||j.started_at||j.created_at||0).getTime();return o==="asc"?O-T:T-O}),v=this._get(Ae.EXERCISES)||[],b=new Map((Array.isArray(v)?v:[]).map(N=>[xr(N.id),N.nom_exercice||N.name||`Exercice ${N.id}`])),x=new Map;p.forEach(N=>{(N.logs||[]).forEach(j=>{const O=xr(j.exercise_id);if(!O)return;const T=x.get(O)||{exercise_id:O,exercise_name:b.get(O)||`Exercice ${O}`,total_sets:0,total_reps:0,total_volume:0,max_weight:null,last_performed_at:null},C=Number(j.reps??0)||0,R=Number(j.weight??0)||0;T.total_sets+=1,T.total_reps+=C,T.total_volume+=C*R,T.max_weight=Math.max(T.max_weight??0,R)||T.max_weight;const M=j.completed_at||N.completed_at||N.started_at||null;if(M){const k=new Date(M).getTime(),I=T.last_performed_at?new Date(T.last_performed_at).getTime():0;(!T.last_performed_at||k>I)&&(T.last_performed_at=M)}x.set(O,T)})});const y=p.length,w=p.slice(a,a+r),E=Array.from(x.values()).sort((N,j)=>j.total_volume-N.total_volume);return{runs:w,pagination:{limit:r,offset:a,total:y},exercise_summary:E}},async getStrengthHistoryAggregate(e,t){const n=t?.limit??200,r=Number.isFinite(n)?Math.min(Math.max(Number(n),1),200):200,i=t?.offset??0,a=Number.isFinite(i)?Math.max(Number(i),0):0,o=t?.order==="asc"?"asc":"desc",l=t?.athleteId,d=l!=null&&l!=="",f=t?.period??"day";if(Ve()){const j={p_period:f};d&&(j.p_athlete_id=Number(l)),t?.from&&(j.p_from=t.from),t?.to&&(j.p_to=t.to);const{data:O,error:T}=await Oe.rpc("get_strength_history_aggregate",j);if(T)throw new Error(T.message);const C=Array.isArray(O)?O:[];return{periods:C,pagination:{limit:r,offset:a,total:C.length}}}const p=(this._get(Ae.STRENGTH_RUNS)||[]).filter(j=>d?j.athlete_id?String(j.athlete_id)===String(l):!1:j.athlete_name===e),v=t?.from?new Date(t.from):null,b=t?.to?new Date(t.to):null,x=new Map,y=j=>{if(f==="month")return`${j.getUTCFullYear()}-${String(j.getUTCMonth()+1).padStart(2,"0")}`;if(f==="week"){const O=new Date(Date.UTC(j.getUTCFullYear(),j.getUTCMonth(),j.getUTCDate())),T=O.getUTCDay()||7;O.setUTCDate(O.getUTCDate()+4-T);const C=new Date(Date.UTC(O.getUTCFullYear(),0,1)),R=Math.ceil(((O.getTime()-C.getTime())/864e5+1)/7);return`${O.getUTCFullYear()}-W${String(R).padStart(2,"0")}`}return j.toISOString().split("T")[0]};p.forEach(j=>{(Array.isArray(j.logs)?j.logs:[]).forEach(T=>{const C=T.completed_at||j.started_at||j.date||j.created_at;if(!C)return;const R=new Date(C);if(Number.isNaN(R.getTime())||v&&R<v||b&&R>b)return;const M=y(R),k=x.get(M)||{period:M,tonnage:0,volume:0},I=Number(T.reps)||0,B=Number(T.weight)||0;k.volume+=I,k.tonnage+=I*B,x.set(M,k)})});const w=Array.from(x.values()).sort((j,O)=>o==="asc"?j.period.localeCompare(O.period):O.period.localeCompare(j.period)),E=w.length;return{periods:w.slice(a,a+r),pagination:{limit:r,offset:a,total:E}}},async get1RM(e){const t=typeof e=="string"?e:e?.athleteName??null,n=typeof e=="string"?null:e?.athleteId??null;if(Ve()){let i=Oe.from("one_rm_records").select("*");n!=null&&String(n)!==""&&(i=i.eq("athlete_id",Number(n)));const{data:a,error:o}=await i;if(o)throw new Error(o.message);return(a??[]).map(l=>({id:We(l.id),athlete_id:We(l.athlete_id),exercise_id:xr(l.exercise_id),weight:Number(l.one_rm??0),recorded_at:l.recorded_at??null}))}return(this._get(Ae.ONE_RM)||[]).filter(i=>i.athlete_name===t)},async update1RM(e){if(Ve()){const i=e.athlete_id??e.athleteId,a=e.one_rm??e.weight;if(i==null||i===""||a===null||a===void 0)throw new Error("athlete_id et one_rm sont requis");const{error:o}=await Oe.from("one_rm_records").upsert({athlete_id:Number(i),exercise_id:e.exercise_id,one_rm:a,recorded_at:new Date().toISOString()},{onConflict:"athlete_id,exercise_id"});if(o)throw new Error(o.message);return{status:"ok"}}const t=this._get(Ae.ONE_RM)||[],n=e.athlete_name??e.athleteName,r=t.filter(i=>!(i.athlete_name===n&&i.exercise_id===e.exercise_id));return this._save(Ae.ONE_RM,[...r,{...e,athlete_name:n,id:Date.now(),date:new Date().toISOString()}]),{status:"ok"}},async getSwimRecords(e){if(Ve()){let r=Oe.from("swim_records").select("*").order("record_date",{ascending:!1});e.athleteId&&(r=r.eq("athlete_id",e.athleteId));const{data:i,error:a}=await r;if(a)throw new Error(a.message);const o=i??[];return{records:o,pagination:{limit:o.length,offset:0,total:o.length}}}const n=(this._get(Ae.SWIM_RECORDS)||[]).filter(r=>e.athleteId?r.athlete_id===e.athleteId:e.athleteName?r.athlete_name===e.athleteName:!1);return{records:n,pagination:{limit:n.length,offset:0,total:n.length}}},async upsertSwimRecord(e){if(Ve()){const r={athlete_id:e.athlete_id??null,event_name:e.event_name,pool_length:e.pool_length??null,time_seconds:e.time_seconds??null,record_date:e.record_date??null,notes:e.notes??null};if(e.id){const{error:i}=await Oe.from("swim_records").update(r).eq("id",e.id);if(i)throw new Error(i.message)}else{const{error:i}=await Oe.from("swim_records").insert(r);if(i)throw new Error(i.message)}return{status:"ok"}}const t=this._get(Ae.SWIM_RECORDS)||[];if(e.id){const r=t.map(i=>i.id===e.id?{...i,...e,athlete_id:e.athlete_id??i.athlete_id}:i);return this._save(Ae.SWIM_RECORDS,r),{status:"ok"}}const n={...e,id:Date.now(),athlete_id:e.athlete_id??-1,athlete_name:e.athleteName??null};return this._save(Ae.SWIM_RECORDS,[...t,n]),{status:"created"}},async getSwimCatalog(){if(Ve()){const{data:t,error:n}=await Oe.from("swim_sessions_catalog").select("*, swim_session_items(*)").order("created_at",{ascending:!1});if(n)throw new Error(n.message);return(t??[]).map(r=>({id:xr(r.id,Date.now()),name:String(r.name||""),description:r.description??null,created_by:We(r.created_by)??null,created_at:r.created_at??null,updated_at:r.updated_at??null,items:Array.isArray(r.swim_session_items)?r.swim_session_items.sort((i,a)=>(i.ordre??0)-(a.ordre??0)).map((i,a)=>({id:We(i.id)??void 0,catalog_id:We(i.catalog_id)??void 0,ordre:We(i.ordre)??a,label:i.label??null,distance:We(i.distance)??null,duration:We(i.duration)??null,intensity:i.intensity??null,notes:i.notes??null,raw_payload:bD(i.raw_payload)})):[]}))}return(this._get(Ae.SWIM_SESSIONS)||[]).map(t=>({id:xr(t.id,Date.now()),name:String(t.name||t.title||""),description:t.description??null,created_by:We(t.created_by)??null,created_at:t.created_at??null,updated_at:t.updated_at??null,items:Array.isArray(t.items)?t.items.map((n,r)=>({id:We(n.id)??void 0,catalog_id:We(n.catalog_id)??void 0,ordre:We(n.ordre)??r,label:n.label??n.section??null,distance:We(n.distance)??null,duration:We(n.duration)??null,intensity:n.intensity??null,notes:n.notes??n.instruction??null,raw_payload:bD(n.raw_payload)??(n.section||n.stroke||n.instruction||n.rest?{section:n.section,stroke:n.stroke,instruction:n.instruction,rest:n.rest}:null)})):[]}))},async createSwimSession(e){if(Ve()){const n=Array.isArray(e.items)?e.items.map((a,o)=>({ordre:a.ordre??o,label:a.label??null,distance:a.distance??null,duration:a.duration??null,intensity:a.intensity??null,notes:a.notes??null,raw_payload:a.raw_payload??null})):[];if(e.id){const{error:a}=await Oe.from("swim_sessions_catalog").update({name:e.name,description:e.description??null}).eq("id",e.id);if(a)throw new Error(a.message);if(await Oe.from("swim_session_items").delete().eq("catalog_id",e.id),n.length>0){const{error:o}=await Oe.from("swim_session_items").insert(n.map(l=>({...l,catalog_id:e.id})));if(o)throw new Error(o.message)}return{status:"updated"}}const{data:r,error:i}=await Oe.from("swim_sessions_catalog").insert({name:e.name,description:e.description??null}).select("id").single();if(i)throw new Error(i.message);if(n.length>0){const{error:a}=await Oe.from("swim_session_items").insert(n.map(o=>({...o,catalog_id:r.id})));if(a)throw new Error(a.message)}return{status:"created"}}const t=this._get(Ae.SWIM_SESSIONS)||[];if(e.id){const n=t.some(i=>i.id===e.id),r=n?t.map(i=>i.id===e.id?{...i,...e}:i):[...t,{...e,id:e.id}];return this._save(Ae.SWIM_SESSIONS,r),{status:n?"updated":"created"}}return this._save(Ae.SWIM_SESSIONS,[...t,{...e,id:Date.now()}]),{status:"created"}},async deleteSwimSession(e){if(Ve()){const{error:r}=await Oe.from("swim_sessions_catalog").delete().eq("id",e);if(r)throw new Error(r.message);return{status:"deleted"}}const n=(this._get(Ae.SWIM_SESSIONS)||[]).filter(r=>r.id!==e);return this._save(Ae.SWIM_SESSIONS,n),{status:"deleted"}},async getAssignmentsForCoach(){return Ve()?null:(await Er(100),this._get(Ae.ASSIGNMENTS)||[])},async getAssignments(e,t,n){if(Ve()){const i=await xD(t??null),a=[];if(t!=null&&a.push(`target_user_id.eq.${t}`),i.forEach(y=>a.push(`target_group_id.eq.${y}`)),!a.length)return[];let o=Oe.from("session_assignments").select("*").or(a.join(","));n?.assignmentType&&(o=o.eq("assignment_type",n.assignmentType)),n?.status?o=o.eq("status",n.status):o=o.neq("status","completed");const{data:l,error:d}=await o;if(d)throw new Error(d.message);if(!l?.length)return[];const[f,m]=await Promise.all([this.getSwimCatalog(),this.getStrengthSessions()]),p=new Map(f.map(y=>[y.id,y])),v=new Map(m.map(y=>[y.id,y])),b=l.map(y=>{const w=y.assignment_type==="strength"?"strength":"swim",E=We(w==="swim"?y.swim_catalog_id:y.strength_session_id)??0,N=y.scheduled_date||y.created_at||"",j=String(y.status||"assigned"),O=w==="swim"?p.get(E):void 0,T=w==="strength"?v.get(E):void 0,C={id:xr(y.id,Date.now()),session_id:E,session_type:w,title:w==="swim"?O?.name??"Sance natation":T?.title??"Sance musculation",description:O?.description??T?.description??"",assigned_date:N||new Date().toISOString(),status:j,items:T?.items??O?.items};return w==="strength"&&(C.cycle=T?.cycle??"endurance"),C}),x=new Map(b.map(y=>[y.id,y]));return Array.from(x.values())}return await Er(200),(this._get(Ae.ASSIGNMENTS)||[]).filter(i=>!(t!=null&&String(t)!==""&&String(i.target_user_id)===String(t)||i.target_athlete===e)||n?.assignmentType&&i.session_type!==n.assignmentType?!1:n?.status?i.status===n.status:i.status!=="completed")},async assignments_create(e){const t=e.assignment_type??e.session_type;if(!t)return{status:"error"};const n=e.scheduled_date??e.assigned_date??new Date().toISOString();if(Ve()){const l={assignment_type:t,scheduled_date:n,status:"assigned"};t==="swim"?l.swim_catalog_id=e.session_id:l.strength_session_id=e.session_id,e.target_user_id!==null&&e.target_user_id!==void 0?l.target_user_id=e.target_user_id:e.target_group_id!==null&&e.target_group_id!==void 0&&(l.target_group_id=e.target_group_id);const{data:d,error:f}=await Oe.from("session_assignments").insert(l).select("id").single();if(f)throw new Error(f.message);const{data:m,error:p}=await Oe.from("notifications").insert({title:"Nouvelle sance assigne",body:`Sance prvue le ${n}.`,type:"assignment"}).select("id").single();if(!p&&m){const v={notification_id:m.id};e.target_user_id&&(v.target_user_id=e.target_user_id),e.target_group_id&&(v.target_group_id=e.target_group_id),await Oe.from("notification_targets").insert(v)}return{status:"assigned"}}let r;if(t==="swim"?r=(this._get(Ae.SWIM_SESSIONS)||[]).find(l=>l.id===e.session_id):r=(this._get(Ae.STRENGTH_SESSIONS)||[]).find(l=>l.id===e.session_id),!r)return{status:"error"};const i={id:Date.now(),session_id:e.session_id,session_type:t,target_athlete:e.target_athlete??"",target_user_id:e.target_user_id??null,target_group_id:e.target_group_id??null,assigned_date:n,title:r.name??r.title,description:r.description,items:r.items,status:"assigned"},a=this._get(Ae.ASSIGNMENTS)||[];this._save(Ae.ASSIGNMENTS,[...a,i]);const o=this._get(Ae.NOTIFICATIONS)||[];return this._save(Ae.NOTIFICATIONS,[...o,{id:Date.now()+1,sender:"Coach",target_athlete:e.target_athlete,target_user_id:e.target_user_id??null,target_group_id:e.target_group_id??null,title:"Nouvelle sance assigne",message:`Sance ${r.title??r.name} prvue le ${n}.`,type:"assignment",related_id:i.id,read:!1,date:new Date().toISOString()}]),{status:"assigned"}},async assignments_delete(e){if(Ve()){const{error:r}=await Oe.from("session_assignments").delete().eq("id",e);if(r)throw new Error(r.message);return{status:"deleted"}}const n=(this._get(Ae.ASSIGNMENTS)||[]).filter(r=>r.id!==e);return this._save(Ae.ASSIGNMENTS,n),{status:"deleted"}},async getNotifications(e){return await Er(200),(this._get(Ae.NOTIFICATIONS)||[]).filter(n=>n.target_athlete===e||n.target_athlete==="All").reverse()},async notifications_send(e){if(Ve()){const{data:i,error:a}=await Oe.from("notifications").insert({title:e.title,body:e.body??null,type:e.type}).select("id").single();if(a)throw new Error(a.message);if(i&&e.targets.length>0){const{error:o}=await Oe.from("notification_targets").insert(e.targets.map(l=>({notification_id:i.id,target_user_id:l.target_user_id??null,target_group_id:l.target_group_id??null})));if(o)throw new Error(o.message)}return{status:"sent"}}const t=this._get(Ae.NOTIFICATIONS)||[],n={sender:"Coach",title:e.title,message:e.body||"",type:e.type},r=e.targets.map((i,a)=>({...n,id:Date.now()+a,read:!1,date:new Date().toISOString(),sender_id:null,sender_email:null,target_user_id:i.target_user_id??null,target_group_id:i.target_group_id??null}));return this._save(Ae.NOTIFICATIONS,[...t,...r]),{status:"sent"}},async markNotificationRead(e){const n=(this._get(Ae.NOTIFICATIONS)||[]).map(r=>r.id===e?{...r,read:!0}:r);this._save(Ae.NOTIFICATIONS,n)},async notifications_list(e){const t=e.limit??20,n=Number.isFinite(t)?Math.min(Math.max(Number(t),1),200):20,r=e.offset??0,i=Number.isFinite(r)?Math.max(Number(r),0):0,a=e.order==="asc"?"asc":"desc";if(Ve()){const v=await xD(e.targetUserId??null),b=[];if(e.targetUserId&&b.push(`target_user_id.eq.${e.targetUserId}`),v.forEach(O=>b.push(`target_group_id.eq.${O}`)),!b.length)return{notifications:[],pagination:{limit:n,offset:i,total:0}};let x=Oe.from("notification_targets").select("*, notifications!inner(*)").or(b.join(",")).order("notifications(created_at)",{ascending:a==="asc"});e.status==="read"?x=x.not("read_at","is",null):e.status==="unread"&&(x=x.is("read_at",null)),e.type&&(x=x.eq("notifications.type",e.type)),e.from&&(x=x.gte("notifications.created_at",e.from)),e.to&&(x=x.lte("notifications.created_at",e.to+"T23:59:59"));const{data:y,error:w}=await x;if(w)throw new Error(w.message);const E=(y??[]).map(O=>{const T=O.notifications||{};return{id:xr(O.id,Date.now()),target_id:We(O.id)??void 0,target_user_id:We(O.target_user_id)??null,sender_id:We(T.created_by)??null,sender_email:null,target_group_id:We(O.target_group_id)??null,target_group_name:null,sender_name:null,sender_role:null,counterparty_id:null,counterparty_name:null,counterparty_role:null,sender:T.created_by?"Coach":"Systme",title:String(T.title||""),message:String(T.body||""),type:String(T.type||"message"),read:!!O.read_at,date:T.created_at||new Date().toISOString()}}),N=E.length;return{notifications:E.slice(i,i+n),pagination:{limit:n,offset:i,total:N}}}await Er(200);const d=(this._get(Ae.NOTIFICATIONS)||[]).filter(v=>!(e.targetUserId&&v.target_user_id!==e.targetUserId||e.targetAthleteName&&!(v.target_athlete===e.targetAthleteName||v.target_athlete==="All")||e.type&&v.type!==e.type||e.status==="read"&&!v.read||e.status==="unread"&&v.read)).sort((v,b)=>{const x=new Date(v.date||v.created_at||0).getTime(),y=new Date(b.date||b.created_at||0).getTime();return a==="asc"?x-y:y-x}),f=d.length;return{notifications:d.slice(i,i+n).map(v=>({id:xr(v.id,Date.now()),target_user_id:We(v.target_user_id)??null,sender_id:We(v.sender_id)??null,sender_email:v.sender_email?String(v.sender_email):null,sender:String(v.sender||"Coach"),title:String(v.title||""),message:String(v.message||""),type:String(v.type||"message"),read:!!v.read,date:v.date||new Date().toISOString(),related_id:v.related_id??void 0})),pagination:{limit:n,offset:i,total:f}}},async notifications_mark_read(e){const t=e.targetId??e.id;if(!t)throw new Error("Missing target id");if(Ve()){const{error:i}=await Oe.from("notification_targets").update({read_at:new Date().toISOString()}).eq("id",t);if(i)throw new Error(i.message);return}const r=(this._get(Ae.NOTIFICATIONS)||[]).map(i=>i.id===t?{...i,read:!0}:i);this._save(Ae.NOTIFICATIONS,r)},async listTimesheetShifts(e){if(Ve()){let n=Oe.from("timesheet_shifts").select("*").order("shift_date",{ascending:!1});e?.coachId&&(n=n.eq("coach_id",e.coachId)),e?.from&&(n=n.gte("shift_date",e.from)),e?.to&&(n=n.lte("shift_date",e.to));const{data:r,error:i}=await n;if(i)throw new Error(i.message);return r??[]}return await Er(200),(this._get(Ae.TIMESHEET_SHIFTS)||[]).filter(n=>!(e?.coachId&&n.coach_id!==e.coachId||e?.from&&n.shift_date<e.from||e?.to&&n.shift_date>e.to)).sort((n,r)=>n.shift_date!==r.shift_date?n.shift_date<r.shift_date?1:-1:n.start_time<r.start_time?1:-1)},async listTimesheetLocations(){if(Ve()){const{data:r,error:i}=await Oe.from("timesheet_locations").select("*").order("name");if(i)throw new Error(i.message);return r??[]}await Er(120);const e=this._get(Ae.TIMESHEET_LOCATIONS);if(Array.isArray(e)&&e.length)return e;const t=new Date().toISOString(),n=yD.map((r,i)=>({id:i+1,name:r,created_at:t,updated_at:t}));return this._save(Ae.TIMESHEET_LOCATIONS,n),n},async createTimesheetLocation(e){if(Ve()){const{error:d}=await Oe.from("timesheet_locations").insert({name:e.name.trim()});if(d)throw new Error(d.message);return{status:"created"}}await Er(120);const t=e.name.trim();if(!t)throw new Error("Missing location name");const n=this._get(Ae.TIMESHEET_LOCATIONS),r=new Date().toISOString(),i=Array.isArray(n)&&n.length?n:yD.map((d,f)=>({id:f+1,name:d,created_at:r,updated_at:r}));if(i.some(d=>d.name.toLowerCase()===t.toLowerCase()))return{status:"exists"};const o=new Date().toISOString(),l={id:Date.now(),name:t,created_at:o,updated_at:o};return this._save(Ae.TIMESHEET_LOCATIONS,[...i,l]),{status:"created"}},async deleteTimesheetLocation(e){if(Ve()){const{error:r}=await Oe.from("timesheet_locations").delete().eq("id",e.id);if(r)throw new Error(r.message);return{status:"deleted"}}await Er(120);const n=(this._get(Ae.TIMESHEET_LOCATIONS)||[]).filter(r=>r.id!==e.id);return this._save(Ae.TIMESHEET_LOCATIONS,n),{status:"deleted"}},async listTimesheetCoaches(){if(Ve()){const{data:e,error:t}=await Oe.from("users").select("id, display_name").eq("role","coach").eq("is_active",!0);if(t)throw new Error(t.message);return(e??[]).map(n=>({id:n.id,display_name:n.display_name}))}return[]},async createTimesheetShift(e){if(Ve()){const{error:r}=await Oe.from("timesheet_shifts").insert({coach_id:e.coach_id,shift_date:e.shift_date,start_time:e.start_time,end_time:e.end_time??null,location_name:e.location??null});if(r)throw new Error(r.message);return{status:"created"}}await Er(200);const t=this._get(Ae.TIMESHEET_SHIFTS)||[],n={...e,id:Date.now(),created_at:new Date().toISOString()};return this._save(Ae.TIMESHEET_SHIFTS,[...t,n]),{status:"created"}},async updateTimesheetShift(e){if(Ve()){const{id:i,...a}=e,{error:o}=await Oe.from("timesheet_shifts").update(a).eq("id",i);if(o)throw new Error(o.message);return{status:"updated"}}await Er(200);const t=this._get(Ae.TIMESHEET_SHIFTS)||[],n=t.findIndex(i=>i.id===e.id);if(n===-1)return{status:"missing"};const r=[...t];return r[n]={...r[n],...e,updated_at:new Date().toISOString()},this._save(Ae.TIMESHEET_SHIFTS,r),{status:"updated"}},async deleteTimesheetShift(e){if(Ve()){const{error:r}=await Oe.from("timesheet_shifts").delete().eq("id",e.id);if(r)throw new Error(r.message);return{status:"deleted"}}await Er(200);const n=(this._get(Ae.TIMESHEET_SHIFTS)||[]).filter(r=>r.id!==e.id);return this._save(Ae.TIMESHEET_SHIFTS,n),{status:"deleted"}},async seedDemoData(){const e=[{id:1,nom_exercice:"Squat",description:"Flexion des jambes",exercise_type:"strength"},{id:2,nom_exercice:"Dvelopp Couch",description:"Pousse horizontale",exercise_type:"strength"},{id:3,nom_exercice:"Tractions",description:"Tirage vertical",exercise_type:"strength"},{id:4,nom_exercice:"Rotations lastique",description:"Coiffe des rotateurs",exercise_type:"warmup"}];this._save(Ae.EXERCISES,e);const t={id:101,title:"Full Body A",description:"Sance globale",cycle:"Endurance",items:[{exercise_id:4,exercise_name:"Rotations lastique",category:"warmup",order_index:0,sets:2,reps:15,rest_seconds:30,percent_1rm:0},{exercise_id:1,exercise_name:"Squat",category:"strength",order_index:1,sets:4,reps:10,rest_seconds:90,percent_1rm:70},{exercise_id:2,exercise_name:"Dvelopp Couch",category:"strength",order_index:2,sets:4,reps:10,rest_seconds:90,percent_1rm:70}]};this._save(Ae.STRENGTH_SESSIONS,[t]);const n={id:201,name:"VMA 100",description:"Travail de vitesse",created_by:1,items:[{label:"chauffement 4N",distance:400,intensity:"Souple",notes:"Progressif"},{label:"Corps NL",distance:1e3,intensity:"Max",notes:"10x100 dpart 1:30"}]};this._save(Ae.SWIM_SESSIONS,[n]);const r=new Date().toISOString().split("T")[0];return await this.assignments_create({session_id:101,assignment_type:"strength",target_athlete:"Camille",assigned_date:r}),{status:"seeded"}},async getProfile(e){if(!Ve())return null;let t=Oe.from("user_profiles").select("*");e.userId?t=t.eq("user_id",e.userId):e.displayName&&(t=t.eq("display_name",e.displayName));const{data:n,error:r}=await t.maybeSingle();if(r)throw new Error(r.message);return n?{id:n.user_id??null,display_name:n.display_name??null,email:n.email??null,birthdate:n.birthdate??null,group_id:We(n.group_id)??null,group_label:n.group_label??null,objectives:n.objectives??null,bio:n.bio??null,avatar_url:n.avatar_url??null,ffn_iuf:n.ffn_iuf??null}:null},async updateProfile(e){if(!Ve())return{status:"skipped"};const t=e.userId;if(!t)return{status:"skipped"};const{error:n}=await Oe.from("user_profiles").upsert({user_id:t,...e.profile},{onConflict:"user_id"});if(n)throw new Error(n.message);return{status:"updated"}},async getAthletes(){if(!Ve()){const o=new Map,l=(p,v)=>{const b=String(p??"").trim();if(!b)return;const x=v!=null?We(v):null,y=x!==null?`id:${x}`:`name:${b.toLowerCase()}`;o.has(y)||o.set(y,{id:x,display_name:b})};return(this._get(Ae.SESSIONS)??[]).forEach(p=>l(p.athlete_name,p.athlete_id)),(this._get(Ae.STRENGTH_RUNS)??[]).forEach(p=>l(p.athlete_name,p.athlete_id)),(this._get(Ae.ASSIGNMENTS)??[]).forEach(p=>l(p.target_athlete,p.target_user_id)),Array.from(o.values()).sort((p,v)=>p.display_name.localeCompare(v.display_name,"fr"))}const{data:e,error:t}=await Oe.from("groups").select("id, name");if(t)throw new Error(t.message);if(!e?.length){const{data:o,error:l}=await Oe.from("users").select("id, display_name").eq("role","athlete").eq("is_active",!0);if(l)throw new Error(l.message);return(o??[]).map(d=>({id:d.id,display_name:d.display_name})).filter(d=>d.display_name).sort((d,f)=>d.display_name.localeCompare(f.display_name,"fr"))}const{data:n,error:r}=await Oe.from("group_members").select("user_id, group_id, users!inner(display_name, role)").eq("users.role","athlete");if(r)throw new Error(r.message);const i=new Map(e.map(o=>[o.id,o.name])),a=new Map;return(n??[]).forEach(o=>{const l=o.user_id;a.has(l)||a.set(l,{id:l,display_name:o.users?.display_name??"",group_label:i.get(o.group_id)??null})}),Array.from(a.values()).filter(o=>o.display_name).sort((o,l)=>o.display_name.localeCompare(l.display_name,"fr"))},async getGroups(){if(!Ve())return[];const{data:e,error:t}=await Oe.from("groups").select("id, name, description");if(t)throw new Error(t.message);return(e??[]).map(n=>({id:xr(n.id,0),name:String(n.name??`Groupe ${n.id??""}`).trim(),member_count:null})).filter(n=>n.id>0&&n.name)},async getUpcomingBirthdays(e){if(!Ve())return[];const t=e?.days??30,{data:n,error:r}=await Oe.rpc("get_upcoming_birthdays",{p_days:t});if(r)throw new Error(r.message);return Array.isArray(n)?n:[]},async listUsers(e){if(!Ve())return[];let t=Oe.from("users").select("id, display_name, role, email, is_active");e?.role&&(t=t.eq("role",e.role)),e?.includeInactive||(t=t.eq("is_active",!0));const{data:n,error:r}=await t.order("display_name");if(r)throw new Error(r.message);return(n??[]).map(i=>({id:i.id,display_name:i.display_name??"",role:i.role??"",email:i.email??null,is_active:i.is_active??null,group_label:null}))},async createCoach(e){if(!Ve())return{status:"skipped",user:null,initialPassword:null};const{data:t,error:n}=await Oe.functions.invoke("admin-user",{body:{action:"create_coach",display_name:e.display_name,email:e.email,password:e.password}});if(n)throw new Error(n.message);return{status:"created",user:t?.user??null,initialPassword:t?.initial_password??null}},async updateUserRole(e){if(!Ve())return{status:"skipped"};const{error:t}=await Oe.functions.invoke("admin-user",{body:{action:"update_role",user_id:e.userId,role:e.role}});if(t)throw new Error(t.message);return{status:"updated"}},async disableUser(e){if(!Ve())return{status:"skipped"};const{error:t}=await Oe.functions.invoke("admin-user",{body:{action:"disable_user",user_id:e.userId}});if(t)throw new Error(t.message);return{status:"disabled"}},async authPasswordUpdate(e){if(!Ve())return{status:"skipped"};const{data:{user:t}}=await Oe.auth.getUser();if(!e.userId||e.userId===t?.user_metadata?.app_user_id){const{error:r}=await Oe.auth.updateUser({password:e.password});if(r)throw new Error(r.message);return{status:"updated"}}const{error:n}=await Oe.functions.invoke("admin-user",{body:{action:"update_password",user_id:e.userId,password:e.password}});if(n)throw new Error(n.message);return{status:"updated"}},_get(e){const t=localStorage.getItem(e);return t?JSON.parse(t):null},_save(e,t){localStorage.setItem(e,JSON.stringify(t))},resetCache(){Object.values(Ae).forEach(e=>localStorage.removeItem(e)),window.location.reload()}};function Sse({children:e}){const[t]=ad(),{role:n,userId:r,user:i}=sn(),[a,o]=_.useState(!1),l=hse(n),{data:d}=Pt({queryKey:["notifications",r,i,"threads"],queryFn:()=>De.notifications_list({targetUserId:r,targetAthleteName:i,limit:200,offset:0,type:"message",order:"desc"}),enabled:!!r}),f=d?.notifications?.filter(m=>!m.read).length??0;return _.useEffect(()=>{if(typeof document>"u")return;const m=()=>{o(document.body.dataset.focusMode==="strength")};m();const p=new MutationObserver(m);return p.observe(document.body,{attributes:!0,attributeFilter:["data-focus-mode"]}),()=>p.disconnect()},[]),u.jsxs("div",{className:"min-h-screen bg-background pb-20 supports-[padding:env(safe-area-inset-bottom)]:pb-[calc(5rem+env(safe-area-inset-bottom))] md:pb-0 md:pt-16",children:[u.jsxs("header",{className:"hidden md:flex fixed top-0 w-full h-16 border-b bg-card/95 backdrop-blur z-50 items-center px-8 justify-between shadow-sm",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("img",{src:aF,alt:"Logo EAC",className:"h-8 w-8 rounded-full border-2 border-black object-cover"}),u.jsxs("div",{className:"font-display font-bold text-2xl text-foreground italic tracking-tighter",children:["SUIVI",u.jsx("span",{className:"text-primary",children:"NATATION"})]})]}),u.jsx("nav",{className:"flex gap-6",children:l.map(m=>u.jsx(lv,{href:m.href,children:u.jsxs("a",{className:Ne("flex items-center gap-2 text-sm font-bold uppercase transition-colors hover:text-primary",t===m.href?"text-primary border-b-2 border-primary":"text-muted-foreground"),children:[u.jsx(m.icon,{className:"h-4 w-4"}),m.label]})},m.href))})]}),u.jsx("main",{className:"container max-w-md mx-auto p-4 md:max-w-3xl lg:max-w-4xl animate-in fade-in duration-300",children:e}),u.jsx("nav",{className:Ne("md:hidden fixed bottom-0 left-0 right-0 bg-card/95 backdrop-blur-lg border-t border-border/50 z-50 shadow-[0_-4px_20px_-4px_rgba(0,0,0,0.1)]","supports-[padding:env(safe-area-inset-bottom)]:pb-[env(safe-area-inset-bottom)]",a&&"hidden"),children:u.jsx("div",{className:"flex items-stretch justify-evenly h-16 overflow-x-auto scrollbar-hide",children:l.map(m=>{const p=t===m.href;return u.jsx(lv,{href:m.href,children:u.jsxs("a",{className:Ne("flex flex-col items-center justify-center gap-0.5 py-2 flex-1 min-w-0 max-w-[72px] transition-colors relative active:scale-95",p?"text-primary":"text-muted-foreground active:text-foreground"),children:[u.jsx("div",{className:Ne("flex items-center justify-center h-7 w-7 rounded-xl transition-colors",p&&"bg-primary/10"),children:u.jsx(m.icon,{className:Ne("h-5 w-5",p&&"text-primary")})}),m.label==="Messagerie"&&f>0&&u.jsx("span",{className:"absolute top-1.5 right-1/2 translate-x-4 h-2.5 w-2.5 rounded-full bg-primary ring-2 ring-card animate-pulse"}),u.jsx("span",{className:Ne("text-[10px] font-semibold tracking-tight truncate w-full text-center px-0.5",p?"text-primary":"text-muted-foreground"),children:m.label})]})},m.href)})})})]})}var jse=Symbol.for("react.lazy"),_v=Cr[" use ".trim().toString()];function Ese(e){return typeof e=="object"&&e!==null&&"then"in e}function cF(e){return e!=null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===jse&&"_payload"in e&&Ese(e._payload)}function Yy(e){const t=Ase(e),n=_.forwardRef((r,i)=>{let{children:a,...o}=r;cF(a)&&typeof _v=="function"&&(a=_v(a._payload));const l=_.Children.toArray(a),d=l.find(Ose);if(d){const f=d.props.children,m=l.map(p=>p===d?_.Children.count(f)>1?_.Children.only(null):_.isValidElement(f)?f.props.children:null:p);return u.jsx(t,{...o,ref:i,children:_.isValidElement(f)?_.cloneElement(f,void 0,m):null})}return u.jsx(t,{...o,ref:i,children:a})});return n.displayName=`${e}.Slot`,n}var Nse=Yy("Slot");function Ase(e){const t=_.forwardRef((n,r)=>{let{children:i,...a}=n;if(cF(i)&&typeof _v=="function"&&(i=_v(i._payload)),_.isValidElement(i)){const o=Rse(i),l=Cse(a,i.props);return i.type!==_.Fragment&&(l.ref=r?xo(r,o):o),_.cloneElement(i,l)}return _.Children.count(i)>1?_.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Tse=Symbol("radix.slottable");function Ose(e){return _.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Tse}function Cse(e,t){const n={...t};for(const r in t){const i=e[r],a=t[r];/^on[A-Z]/.test(r)?i&&a?n[r]=(...l)=>{const d=a(...l);return i(...l),d}:i&&(n[r]=i):r==="style"?n[r]={...i,...a}:r==="className"&&(n[r]=[i,a].filter(Boolean).join(" "))}return{...e,...n}}function Rse(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}const zA=od("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover-elevate active-elevate-2",{variants:{variant:{default:"bg-primary text-primary-foreground border border-primary-border",destructive:"bg-destructive text-destructive-foreground shadow-sm border-destructive-border",outline:" border [border-color:var(--button-outline)] shadow-xs active:shadow-none ",secondary:"border bg-secondary text-secondary-foreground border border-secondary-border ",ghost:"border border-transparent",link:"text-primary underline-offset-4 hover:underline"},size:{default:"min-h-9 px-4 py-2",sm:"min-h-8 rounded-md px-3 text-xs",lg:"min-h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),Ce=_.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...i},a)=>{const o=r?Nse:"button";return u.jsx(o,{className:Ne(zA({variant:t,size:n,className:e})),ref:a,...i})});Ce.displayName="Button";const xt=_.forwardRef(({className:e,type:t,...n},r)=>u.jsx("input",{type:t,className:Ne("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...n}));xt.displayName="Input";const Pe=_.forwardRef(({className:e,...t},n)=>u.jsx("div",{ref:n,className:Ne("rounded-xl border bg-card text-card-foreground shadow",e),...t}));Pe.displayName="Card";const Ze=_.forwardRef(({className:e,...t},n)=>u.jsx("div",{ref:n,className:Ne("flex flex-col space-y-1.5 p-6",e),...t}));Ze.displayName="CardHeader";const rt=_.forwardRef(({className:e,...t},n)=>u.jsx("div",{ref:n,className:Ne("font-semibold leading-none tracking-tight",e),...t}));rt.displayName="CardTitle";const Qt=_.forwardRef(({className:e,...t},n)=>u.jsx("div",{ref:n,className:Ne("text-sm text-muted-foreground",e),...t}));Qt.displayName="CardDescription";const Be=_.forwardRef(({className:e,...t},n)=>u.jsx("div",{ref:n,className:Ne("p-6 pt-0",e),...t}));Be.displayName="CardContent";const UA=_.forwardRef(({className:e,...t},n)=>u.jsx("div",{ref:n,className:Ne("flex items-center p-6 pt-0",e),...t}));UA.displayName="CardFooter";function ih(e,t,{checkForDefaultPrevented:n=!0}={}){return function(i){if(e?.(i),n===!1||!i.defaultPrevented)return t?.(i)}}var Pse=Cr[" useInsertionEffect ".trim().toString()]||Ut;function Mse({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[i,a,o]=kse({defaultProp:t,onChange:n}),l=e!==void 0,d=l?e:i;{const m=_.useRef(e!==void 0);_.useEffect(()=>{const p=m.current;p!==l&&console.warn(`${r} is changing from ${p?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),m.current=l},[l,r])}const f=_.useCallback(m=>{if(l){const p=Dse(m)?m(e):m;p!==e&&o.current?.(p)}else a(m)},[l,e,a,o]);return[d,f]}function kse({defaultProp:e,onChange:t}){const[n,r]=_.useState(e),i=_.useRef(n),a=_.useRef(t);return Pse(()=>{a.current=t},[t]),_.useEffect(()=>{i.current!==n&&(a.current?.(n),i.current=n)},[n,i]),[n,r,a]}function Dse(e){return typeof e=="function"}var Bw="focusScope.autoFocusOnMount",qw="focusScope.autoFocusOnUnmount",ED={bubbles:!1,cancelable:!0},Ise="FocusScope",Xy=_.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:a,...o}=e,[l,d]=_.useState(null),f=Sr(i),m=Sr(a),p=_.useRef(null),v=jt(t,y=>d(y)),b=_.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;_.useEffect(()=>{if(r){let y=function(j){if(b.paused||!l)return;const O=j.target;l.contains(O)?p.current=O:Xs(p.current,{select:!0})},w=function(j){if(b.paused||!l)return;const O=j.relatedTarget;O!==null&&(l.contains(O)||Xs(p.current,{select:!0}))},E=function(j){if(document.activeElement===document.body)for(const T of j)T.removedNodes.length>0&&Xs(l)};document.addEventListener("focusin",y),document.addEventListener("focusout",w);const N=new MutationObserver(E);return l&&N.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",w),N.disconnect()}}},[r,l,b.paused]),_.useEffect(()=>{if(l){AD.add(b);const y=document.activeElement;if(!l.contains(y)){const E=new CustomEvent(Bw,ED);l.addEventListener(Bw,f),l.dispatchEvent(E),E.defaultPrevented||($se(Use(uF(l)),{select:!0}),document.activeElement===y&&Xs(l))}return()=>{l.removeEventListener(Bw,f),setTimeout(()=>{const E=new CustomEvent(qw,ED);l.addEventListener(qw,m),l.dispatchEvent(E),E.defaultPrevented||Xs(y??document.body,{select:!0}),l.removeEventListener(qw,m),AD.remove(b)},0)}}},[l,f,m,b]);const x=_.useCallback(y=>{if(!n&&!r||b.paused)return;const w=y.key==="Tab"&&!y.altKey&&!y.ctrlKey&&!y.metaKey,E=document.activeElement;if(w&&E){const N=y.currentTarget,[j,O]=Lse(N);j&&O?!y.shiftKey&&E===O?(y.preventDefault(),n&&Xs(j,{select:!0})):y.shiftKey&&E===j&&(y.preventDefault(),n&&Xs(O,{select:!0})):E===N&&y.preventDefault()}},[n,r,b.paused]);return u.jsx(gt.div,{tabIndex:-1,...o,ref:v,onKeyDown:x})});Xy.displayName=Ise;function $se(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(Xs(r,{select:t}),document.activeElement!==n)return}function Lse(e){const t=uF(e),n=ND(t,e),r=ND(t.reverse(),e);return[n,r]}function uF(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function ND(e,t){for(const n of e)if(!Bse(n,{upTo:t}))return n}function Bse(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function qse(e){return e instanceof HTMLInputElement&&"select"in e}function Xs(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&qse(e)&&t&&e.select()}}var AD=zse();function zse(){let e=[];return{add(t){const n=e[0];t!==n&&n?.pause(),e=TD(e,t),e.unshift(t)},remove(t){e=TD(e,t),e[0]?.resume()}}}function TD(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function Use(e){return e.filter(t=>t.tagName!=="A")}var zw=0;function FA(){_.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??OD()),document.body.insertAdjacentElement("beforeend",e[1]??OD()),zw++,()=>{zw===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),zw--}},[])}function OD(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Zg="right-scroll-bar-position",ev="width-before-scroll-bar",Fse="with-scroll-bars-hidden",Vse="--removed-body-scroll-bar-size";function Uw(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function Hse(e,t){var n=_.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=t,n.facade}var Gse=typeof window<"u"?_.useLayoutEffect:_.useEffect,CD=new WeakMap;function Kse(e,t){var n=Hse(null,function(r){return e.forEach(function(i){return Uw(i,r)})});return Gse(function(){var r=CD.get(n);if(r){var i=new Set(r),a=new Set(e),o=n.current;i.forEach(function(l){a.has(l)||Uw(l,null)}),a.forEach(function(l){i.has(l)||Uw(l,o)})}CD.set(n,e)},[e]),n}function Wse(e){return e}function Yse(e,t){t===void 0&&(t=Wse);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(a){var o=t(a,r);return n.push(o),function(){n=n.filter(function(l){return l!==o})}},assignSyncMedium:function(a){for(r=!0;n.length;){var o=n;n=[],o.forEach(a)}n={push:function(l){return a(l)},filter:function(){return n}}},assignMedium:function(a){r=!0;var o=[];if(n.length){var l=n;n=[],l.forEach(a),o=n}var d=function(){var m=o;o=[],m.forEach(a)},f=function(){return Promise.resolve().then(d)};f(),n={push:function(m){o.push(m),f()},filter:function(m){return o=o.filter(m),n}}}};return i}function Xse(e){e===void 0&&(e={});var t=Yse(null);return t.options=pa({async:!0,ssr:!1},e),t}var dF=function(e){var t=e.sideCar,n=hd(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return _.createElement(r,pa({},n))};dF.isSideCarExport=!0;function Qse(e,t){return e.useMedium(t),dF}var fF=Xse(),Fw=function(){},Qy=_.forwardRef(function(e,t){var n=_.useRef(null),r=_.useState({onScrollCapture:Fw,onWheelCapture:Fw,onTouchMoveCapture:Fw}),i=r[0],a=r[1],o=e.forwardProps,l=e.children,d=e.className,f=e.removeScrollBar,m=e.enabled,p=e.shards,v=e.sideCar,b=e.noIsolation,x=e.inert,y=e.allowPinchZoom,w=e.as,E=w===void 0?"div":w,N=e.gapMode,j=hd(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),O=v,T=Kse([n,t]),C=pa(pa({},j),i);return _.createElement(_.Fragment,null,m&&_.createElement(O,{sideCar:fF,removeScrollBar:f,shards:p,noIsolation:b,inert:x,setCallbacks:a,allowPinchZoom:!!y,lockRef:n,gapMode:N}),o?_.cloneElement(_.Children.only(l),pa(pa({},C),{ref:T})):_.createElement(E,pa({},C,{className:d,ref:T}),l))});Qy.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Qy.classNames={fullWidth:ev,zeroRight:Zg};var Jse=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Zse(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=Jse();return t&&e.setAttribute("nonce",t),e}function eoe(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function toe(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var noe=function(){var e=0,t=null;return{add:function(n){e==0&&(t=Zse())&&(eoe(t,n),toe(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},roe=function(){var e=noe();return function(t,n){_.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},hF=function(){var e=roe(),t=function(n){var r=n.styles,i=n.dynamic;return e(r,i),null};return t},ioe={left:0,top:0,right:0,gap:0},Vw=function(e){return parseInt(e||"",10)||0},aoe=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],i=t[e==="padding"?"paddingRight":"marginRight"];return[Vw(n),Vw(r),Vw(i)]},soe=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return ioe;var t=aoe(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},ooe=hF(),vu="data-scroll-locked",loe=function(e,t,n,r){var i=e.left,a=e.top,o=e.right,l=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(Fse,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(vu,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Zg,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(ev,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(Zg," .").concat(Zg,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(ev," .").concat(ev,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(vu,`] {
    `).concat(Vse,": ").concat(l,`px;
  }
`)},RD=function(){var e=parseInt(document.body.getAttribute(vu)||"0",10);return isFinite(e)?e:0},coe=function(){_.useEffect(function(){return document.body.setAttribute(vu,(RD()+1).toString()),function(){var e=RD()-1;e<=0?document.body.removeAttribute(vu):document.body.setAttribute(vu,e.toString())}},[])},uoe=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,i=r===void 0?"margin":r;coe();var a=_.useMemo(function(){return soe(i)},[i]);return _.createElement(ooe,{styles:loe(a,!t,i,n?"":"!important")})},rE=!1;if(typeof window<"u")try{var wg=Object.defineProperty({},"passive",{get:function(){return rE=!0,!0}});window.addEventListener("test",wg,wg),window.removeEventListener("test",wg,wg)}catch{rE=!1}var zc=rE?{passive:!1}:!1,doe=function(e){return e.tagName==="TEXTAREA"},mF=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!doe(e)&&n[t]==="visible")},foe=function(e){return mF(e,"overflowY")},hoe=function(e){return mF(e,"overflowX")},PD=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=pF(e,r);if(i){var a=gF(e,r),o=a[1],l=a[2];if(o>l)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},moe=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},poe=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},pF=function(e,t){return e==="v"?foe(t):hoe(t)},gF=function(e,t){return e==="v"?moe(t):poe(t)},goe=function(e,t){return e==="h"&&t==="rtl"?-1:1},voe=function(e,t,n,r,i){var a=goe(e,window.getComputedStyle(t).direction),o=a*r,l=n.target,d=t.contains(l),f=!1,m=o>0,p=0,v=0;do{var b=gF(e,l),x=b[0],y=b[1],w=b[2],E=y-w-a*x;(x||E)&&pF(e,l)&&(p+=E,v+=x),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!d&&l!==document.body||d&&(t.contains(l)||t===l));return(m&&Math.abs(p)<1||!m&&Math.abs(v)<1)&&(f=!0),f},_g=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},MD=function(e){return[e.deltaX,e.deltaY]},kD=function(e){return e&&"current"in e?e.current:e},yoe=function(e,t){return e[0]===t[0]&&e[1]===t[1]},boe=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},xoe=0,Uc=[];function woe(e){var t=_.useRef([]),n=_.useRef([0,0]),r=_.useRef(),i=_.useState(xoe++)[0],a=_.useState(hF)[0],o=_.useRef(e);_.useEffect(function(){o.current=e},[e]),_.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var y=$re([e.lockRef.current],(e.shards||[]).map(kD),!0).filter(Boolean);return y.forEach(function(w){return w.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),y.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var l=_.useCallback(function(y,w){if("touches"in y&&y.touches.length===2||y.type==="wheel"&&y.ctrlKey)return!o.current.allowPinchZoom;var E=_g(y),N=n.current,j="deltaX"in y?y.deltaX:N[0]-E[0],O="deltaY"in y?y.deltaY:N[1]-E[1],T,C=y.target,R=Math.abs(j)>Math.abs(O)?"h":"v";if("touches"in y&&R==="h"&&C.type==="range")return!1;var M=PD(R,C);if(!M)return!0;if(M?T=R:(T=R==="v"?"h":"v",M=PD(R,C)),!M)return!1;if(!r.current&&"changedTouches"in y&&(j||O)&&(r.current=T),!T)return!0;var k=r.current||T;return voe(k,w,y,k==="h"?j:O)},[]),d=_.useCallback(function(y){var w=y;if(!(!Uc.length||Uc[Uc.length-1]!==a)){var E="deltaY"in w?MD(w):_g(w),N=t.current.filter(function(T){return T.name===w.type&&(T.target===w.target||w.target===T.shadowParent)&&yoe(T.delta,E)})[0];if(N&&N.should){w.cancelable&&w.preventDefault();return}if(!N){var j=(o.current.shards||[]).map(kD).filter(Boolean).filter(function(T){return T.contains(w.target)}),O=j.length>0?l(w,j[0]):!o.current.noIsolation;O&&w.cancelable&&w.preventDefault()}}},[]),f=_.useCallback(function(y,w,E,N){var j={name:y,delta:w,target:E,should:N,shadowParent:_oe(E)};t.current.push(j),setTimeout(function(){t.current=t.current.filter(function(O){return O!==j})},1)},[]),m=_.useCallback(function(y){n.current=_g(y),r.current=void 0},[]),p=_.useCallback(function(y){f(y.type,MD(y),y.target,l(y,e.lockRef.current))},[]),v=_.useCallback(function(y){f(y.type,_g(y),y.target,l(y,e.lockRef.current))},[]);_.useEffect(function(){return Uc.push(a),e.setCallbacks({onScrollCapture:p,onWheelCapture:p,onTouchMoveCapture:v}),document.addEventListener("wheel",d,zc),document.addEventListener("touchmove",d,zc),document.addEventListener("touchstart",m,zc),function(){Uc=Uc.filter(function(y){return y!==a}),document.removeEventListener("wheel",d,zc),document.removeEventListener("touchmove",d,zc),document.removeEventListener("touchstart",m,zc)}},[]);var b=e.removeScrollBar,x=e.inert;return _.createElement(_.Fragment,null,x?_.createElement(a,{styles:boe(i)}):null,b?_.createElement(uoe,{gapMode:e.gapMode}):null)}function _oe(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const Soe=Qse(fF,woe);var Jy=_.forwardRef(function(e,t){return _.createElement(Qy,pa({},e,{ref:t,sideCar:Soe}))});Jy.classNames=Qy.classNames;var joe=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Fc=new WeakMap,Sg=new WeakMap,jg={},Hw=0,vF=function(e){return e&&(e.host||vF(e.parentNode))},Eoe=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=vF(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},Noe=function(e,t,n,r){var i=Eoe(t,Array.isArray(e)?e:[e]);jg[n]||(jg[n]=new WeakMap);var a=jg[n],o=[],l=new Set,d=new Set(i),f=function(p){!p||l.has(p)||(l.add(p),f(p.parentNode))};i.forEach(f);var m=function(p){!p||d.has(p)||Array.prototype.forEach.call(p.children,function(v){if(l.has(v))m(v);else try{var b=v.getAttribute(r),x=b!==null&&b!=="false",y=(Fc.get(v)||0)+1,w=(a.get(v)||0)+1;Fc.set(v,y),a.set(v,w),o.push(v),y===1&&x&&Sg.set(v,!0),w===1&&v.setAttribute(n,"true"),x||v.setAttribute(r,"true")}catch(E){console.error("aria-hidden: cannot operate on ",v,E)}})};return m(t),l.clear(),Hw++,function(){o.forEach(function(p){var v=Fc.get(p)-1,b=a.get(p)-1;Fc.set(p,v),a.set(p,b),v||(Sg.has(p)||p.removeAttribute(r),Sg.delete(p)),b||p.removeAttribute(n)}),Hw--,Hw||(Fc=new WeakMap,Fc=new WeakMap,Sg=new WeakMap,jg={})}},VA=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),i=joe(e);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),Noe(r,i,n,"aria-hidden")):function(){return null}};function Aoe(e){const t=Toe(e),n=_.forwardRef((r,i)=>{const{children:a,...o}=r,l=_.Children.toArray(a),d=l.find(Coe);if(d){const f=d.props.children,m=l.map(p=>p===d?_.Children.count(f)>1?_.Children.only(null):_.isValidElement(f)?f.props.children:null:p);return u.jsx(t,{...o,ref:i,children:_.isValidElement(f)?_.cloneElement(f,void 0,m):null})}return u.jsx(t,{...o,ref:i,children:a})});return n.displayName=`${e}.Slot`,n}function Toe(e){const t=_.forwardRef((n,r)=>{const{children:i,...a}=n;if(_.isValidElement(i)){const o=Poe(i),l=Roe(a,i.props);return i.type!==_.Fragment&&(l.ref=r?xo(r,o):o),_.cloneElement(i,l)}return _.Children.count(i)>1?_.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Ooe=Symbol("radix.slottable");function Coe(e){return _.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Ooe}function Roe(e,t){const n={...t};for(const r in t){const i=e[r],a=t[r];/^on[A-Z]/.test(r)?i&&a?n[r]=(...l)=>{const d=a(...l);return i(...l),d}:i&&(n[r]=i):r==="style"?n[r]={...i,...a}:r==="className"&&(n[r]=[i,a].filter(Boolean).join(" "))}return{...e,...n}}function Poe(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var Zy="Dialog",[yF,bF]=Rr(Zy),[Moe,ca]=yF(Zy),xF=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:i,onOpenChange:a,modal:o=!0}=e,l=_.useRef(null),d=_.useRef(null),[f,m]=Mse({prop:r,defaultProp:i??!1,onChange:a,caller:Zy});return u.jsx(Moe,{scope:t,triggerRef:l,contentRef:d,contentId:ss(),titleId:ss(),descriptionId:ss(),open:f,onOpenChange:m,onOpenToggle:_.useCallback(()=>m(p=>!p),[m]),modal:o,children:n})};xF.displayName=Zy;var wF="DialogTrigger",_F=_.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=ca(wF,n),a=jt(t,i.triggerRef);return u.jsx(gt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":KA(i.open),...r,ref:a,onClick:ih(e.onClick,i.onOpenToggle)})});_F.displayName=wF;var HA="DialogPortal",[koe,SF]=yF(HA,{forceMount:void 0}),jF=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:i}=e,a=ca(HA,t);return u.jsx(koe,{scope:t,forceMount:n,children:_.Children.map(r,o=>u.jsx(la,{present:n||a.open,children:u.jsx(Em,{asChild:!0,container:i,children:o})}))})};jF.displayName=HA;var Sv="DialogOverlay",EF=_.forwardRef((e,t)=>{const n=SF(Sv,e.__scopeDialog),{forceMount:r=n.forceMount,...i}=e,a=ca(Sv,e.__scopeDialog);return a.modal?u.jsx(la,{present:r||a.open,children:u.jsx(Ioe,{...i,ref:t})}):null});EF.displayName=Sv;var Doe=Aoe("DialogOverlay.RemoveScroll"),Ioe=_.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=ca(Sv,n);return u.jsx(Jy,{as:Doe,allowPinchZoom:!0,shards:[i.contentRef],children:u.jsx(gt.div,{"data-state":KA(i.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),Cl="DialogContent",NF=_.forwardRef((e,t)=>{const n=SF(Cl,e.__scopeDialog),{forceMount:r=n.forceMount,...i}=e,a=ca(Cl,e.__scopeDialog);return u.jsx(la,{present:r||a.open,children:a.modal?u.jsx($oe,{...i,ref:t}):u.jsx(Loe,{...i,ref:t})})});NF.displayName=Cl;var $oe=_.forwardRef((e,t)=>{const n=ca(Cl,e.__scopeDialog),r=_.useRef(null),i=jt(t,n.contentRef,r);return _.useEffect(()=>{const a=r.current;if(a)return VA(a)},[]),u.jsx(AF,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ih(e.onCloseAutoFocus,a=>{a.preventDefault(),n.triggerRef.current?.focus()}),onPointerDownOutside:ih(e.onPointerDownOutside,a=>{const o=a.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&a.preventDefault()}),onFocusOutside:ih(e.onFocusOutside,a=>a.preventDefault())})}),Loe=_.forwardRef((e,t)=>{const n=ca(Cl,e.__scopeDialog),r=_.useRef(!1),i=_.useRef(!1);return u.jsx(AF,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{e.onCloseAutoFocus?.(a),a.defaultPrevented||(r.current||n.triggerRef.current?.focus(),a.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:a=>{e.onInteractOutside?.(a),a.defaultPrevented||(r.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=a.target;n.triggerRef.current?.contains(o)&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),AF=_.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:a,...o}=e,l=ca(Cl,n),d=_.useRef(null),f=jt(t,d);return FA(),u.jsxs(u.Fragment,{children:[u.jsx(Xy,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:a,children:u.jsx(Sm,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":KA(l.open),...o,ref:f,onDismiss:()=>l.onOpenChange(!1)})}),u.jsxs(u.Fragment,{children:[u.jsx(qoe,{titleId:l.titleId}),u.jsx(Uoe,{contentRef:d,descriptionId:l.descriptionId})]})]})}),GA="DialogTitle",TF=_.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=ca(GA,n);return u.jsx(gt.h2,{id:i.titleId,...r,ref:t})});TF.displayName=GA;var OF="DialogDescription",CF=_.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=ca(OF,n);return u.jsx(gt.p,{id:i.descriptionId,...r,ref:t})});CF.displayName=OF;var RF="DialogClose",PF=_.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=ca(RF,n);return u.jsx(gt.button,{type:"button",...r,ref:t,onClick:ih(e.onClick,()=>i.onOpenChange(!1))})});PF.displayName=RF;function KA(e){return e?"open":"closed"}var MF="DialogTitleWarning",[Boe,kF]=bJ(MF,{contentName:Cl,titleName:GA,docsSlug:"dialog"}),qoe=({titleId:e})=>{const t=kF(MF),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return _.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},zoe="DialogDescriptionWarning",Uoe=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${kF(zoe).contentName}}.`;return _.useEffect(()=>{const i=e.current?.getAttribute("aria-describedby");t&&i&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},e0=xF,DF=_F,t0=jF,pd=EF,gd=NF,vd=TF,yd=CF,n0=PF;const iE=e0,Foe=t0,IF=_.forwardRef(({className:e,...t},n)=>u.jsx(pd,{ref:n,className:Ne("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));IF.displayName=pd.displayName;const jv=_.forwardRef(({className:e,children:t,...n},r)=>u.jsxs(Foe,{children:[u.jsx(IF,{}),u.jsxs(gd,{ref:r,className:Ne("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 max-h-[85vh] overflow-y-auto data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,u.jsxs(n0,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[u.jsx(Ii,{className:"h-4 w-4"}),u.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));jv.displayName=gd.displayName;const $F=({className:e,...t})=>u.jsx("div",{className:Ne("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});$F.displayName="DialogHeader";const LF=_.forwardRef(({className:e,...t},n)=>u.jsx(vd,{ref:n,className:Ne("text-lg font-semibold leading-none tracking-tight",e),...t}));LF.displayName=vd.displayName;const BF=_.forwardRef(({className:e,...t},n)=>u.jsx(yd,{ref:n,className:Ne("text-sm text-muted-foreground",e),...t}));BF.displayName=yd.displayName;var Voe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Hoe=Voe.reduce((e,t)=>{const n=Yy(`Primitive.${t}`),r=_.forwardRef((i,a)=>{const{asChild:o,...l}=i,d=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),u.jsx(d,{...l,ref:a})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{}),Goe="Label",qF=_.forwardRef((e,t)=>u.jsx(Hoe.label,{...e,ref:t,onMouseDown:n=>{n.target.closest("button, input, select, textarea")||(e.onMouseDown?.(n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));qF.displayName=Goe;var zF=qF;const Koe=od("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),it=_.forwardRef(({className:e,...t},n)=>u.jsx(zF,{ref:n,className:Ne(Koe(),e),...t}));it.displayName=zF.displayName;function DD(e,[t,n]){return Math.min(n,Math.max(t,e))}function wr(e,t,{checkForDefaultPrevented:n=!0}={}){return function(i){if(e?.(i),n===!1||!i.defaultPrevented)return t?.(i)}}function ID(e){const t=Woe(e),n=_.forwardRef((r,i)=>{const{children:a,...o}=r,l=_.Children.toArray(a),d=l.find(Xoe);if(d){const f=d.props.children,m=l.map(p=>p===d?_.Children.count(f)>1?_.Children.only(null):_.isValidElement(f)?f.props.children:null:p);return u.jsx(t,{...o,ref:i,children:_.isValidElement(f)?_.cloneElement(f,void 0,m):null})}return u.jsx(t,{...o,ref:i,children:a})});return n.displayName=`${e}.Slot`,n}function Woe(e){const t=_.forwardRef((n,r)=>{const{children:i,...a}=n;if(_.isValidElement(i)){const o=Joe(i),l=Qoe(a,i.props);return i.type!==_.Fragment&&(l.ref=r?xo(r,o):o),_.cloneElement(i,l)}return _.Children.count(i)>1?_.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Yoe=Symbol("radix.slottable");function Xoe(e){return _.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Yoe}function Qoe(e,t){const n={...t};for(const r in t){const i=e[r],a=t[r];/^on[A-Z]/.test(r)?i&&a?n[r]=(...l)=>{const d=a(...l);return i(...l),d}:i&&(n[r]=i):r==="style"?n[r]={...i,...a}:r==="className"&&(n[r]=[i,a].filter(Boolean).join(" "))}return{...e,...n}}function Joe(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function UF(e){const t=e+"CollectionProvider",[n,r]=Rr(t),[i,a]=n(t,{collectionRef:{current:null},itemMap:new Map}),o=y=>{const{scope:w,children:E}=y,N=q.useRef(null),j=q.useRef(new Map).current;return u.jsx(i,{scope:w,itemMap:j,collectionRef:N,children:E})};o.displayName=t;const l=e+"CollectionSlot",d=ID(l),f=q.forwardRef((y,w)=>{const{scope:E,children:N}=y,j=a(l,E),O=jt(w,j.collectionRef);return u.jsx(d,{ref:O,children:N})});f.displayName=l;const m=e+"CollectionItemSlot",p="data-radix-collection-item",v=ID(m),b=q.forwardRef((y,w)=>{const{scope:E,children:N,...j}=y,O=q.useRef(null),T=jt(w,O),C=a(m,E);return q.useEffect(()=>(C.itemMap.set(O,{ref:O,...j}),()=>void C.itemMap.delete(O))),u.jsx(v,{[p]:"",ref:T,children:N})});b.displayName=m;function x(y){const w=a(e+"CollectionConsumer",y);return q.useCallback(()=>{const N=w.collectionRef.current;if(!N)return[];const j=Array.from(N.querySelectorAll(`[${p}]`));return Array.from(w.itemMap.values()).sort((C,R)=>j.indexOf(C.ref.current)-j.indexOf(R.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:o,Slot:f,ItemSlot:b},x,r]}var Zoe=_.createContext(void 0);function Tm(e){const t=_.useContext(Zoe);return e||t||"ltr"}function ele(e){const t=tle(e),n=_.forwardRef((r,i)=>{const{children:a,...o}=r,l=_.Children.toArray(a),d=l.find(rle);if(d){const f=d.props.children,m=l.map(p=>p===d?_.Children.count(f)>1?_.Children.only(null):_.isValidElement(f)?f.props.children:null:p);return u.jsx(t,{...o,ref:i,children:_.isValidElement(f)?_.cloneElement(f,void 0,m):null})}return u.jsx(t,{...o,ref:i,children:a})});return n.displayName=`${e}.Slot`,n}function tle(e){const t=_.forwardRef((n,r)=>{const{children:i,...a}=n;if(_.isValidElement(i)){const o=ale(i),l=ile(a,i.props);return i.type!==_.Fragment&&(l.ref=r?xo(r,o):o),_.cloneElement(i,l)}return _.Children.count(i)>1?_.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var nle=Symbol("radix.slottable");function rle(e){return _.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===nle}function ile(e,t){const n={...t};for(const r in t){const i=e[r],a=t[r];/^on[A-Z]/.test(r)?i&&a?n[r]=(...l)=>{const d=a(...l);return i(...l),d}:i&&(n[r]=i):r==="style"?n[r]={...i,...a}:r==="className"&&(n[r]=[i,a].filter(Boolean).join(" "))}return{...e,...n}}function ale(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var sle=Cr[" useInsertionEffect ".trim().toString()]||Ut;function $D({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[i,a,o]=ole({defaultProp:t,onChange:n}),l=e!==void 0,d=l?e:i;{const m=_.useRef(e!==void 0);_.useEffect(()=>{const p=m.current;p!==l&&console.warn(`${r} is changing from ${p?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),m.current=l},[l,r])}const f=_.useCallback(m=>{if(l){const p=lle(m)?m(e):m;p!==e&&o.current?.(p)}else a(m)},[l,e,a,o]);return[d,f]}function ole({defaultProp:e,onChange:t}){const[n,r]=_.useState(e),i=_.useRef(n),a=_.useRef(t);return sle(()=>{a.current=t},[t]),_.useEffect(()=>{i.current!==n&&(a.current?.(n),i.current=n)},[n,i]),[n,r,a]}function lle(e){return typeof e=="function"}function r0(e){const t=_.useRef({value:e,previous:e});return _.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var cle=[" ","Enter","ArrowUp","ArrowDown"],ule=[" ","Enter"],Rl="Select",[i0,a0,dle]=UF(Rl),[bd]=Rr(Rl,[dle,fd]),s0=fd(),[fle,wo]=bd(Rl),[hle,mle]=bd(Rl),FF=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:i,onOpenChange:a,value:o,defaultValue:l,onValueChange:d,dir:f,name:m,autoComplete:p,disabled:v,required:b,form:x}=e,y=s0(t),[w,E]=_.useState(null),[N,j]=_.useState(null),[O,T]=_.useState(!1),C=Tm(f),[R,M]=$D({prop:r,defaultProp:i??!1,onChange:a,caller:Rl}),[k,I]=$D({prop:o,defaultProp:l,onChange:d,caller:Rl}),B=_.useRef(null),$=w?x||!!w.closest("form"):!0,[F,H]=_.useState(new Set),U=Array.from(F).map(D=>D.props.value).join(";");return u.jsx(TU,{...y,children:u.jsxs(fle,{required:b,scope:t,trigger:w,onTriggerChange:E,valueNode:N,onValueNodeChange:j,valueNodeHasChildren:O,onValueNodeHasChildrenChange:T,contentId:ss(),value:k,onValueChange:I,open:R,onOpenChange:M,dir:C,triggerPointerDownPosRef:B,disabled:v,children:[u.jsx(i0.Provider,{scope:t,children:u.jsx(hle,{scope:e.__scopeSelect,onNativeOptionAdd:_.useCallback(D=>{H(G=>new Set(G).add(D))},[]),onNativeOptionRemove:_.useCallback(D=>{H(G=>{const z=new Set(G);return z.delete(D),z})},[]),children:n})}),$?u.jsxs(h8,{"aria-hidden":!0,required:b,tabIndex:-1,name:m,autoComplete:p,value:k,onChange:D=>I(D.target.value),disabled:v,form:x,children:[k===void 0?u.jsx("option",{value:""}):null,Array.from(F)]},U):null]})})};FF.displayName=Rl;var VF="SelectTrigger",HF=_.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...i}=e,a=s0(n),o=wo(VF,n),l=o.disabled||r,d=jt(t,o.onTriggerChange),f=a0(n),m=_.useRef("touch"),[p,v,b]=p8(y=>{const w=f().filter(j=>!j.disabled),E=w.find(j=>j.value===o.value),N=g8(w,y,E);N!==void 0&&o.onValueChange(N.value)}),x=y=>{l||(o.onOpenChange(!0),b()),y&&(o.triggerPointerDownPosRef.current={x:Math.round(y.pageX),y:Math.round(y.pageY)})};return u.jsx(Vy,{asChild:!0,...a,children:u.jsx(gt.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":m8(o.value)?"":void 0,...i,ref:d,onClick:wr(i.onClick,y=>{y.currentTarget.focus(),m.current!=="mouse"&&x(y)}),onPointerDown:wr(i.onPointerDown,y=>{m.current=y.pointerType;const w=y.target;w.hasPointerCapture(y.pointerId)&&w.releasePointerCapture(y.pointerId),y.button===0&&y.ctrlKey===!1&&y.pointerType==="mouse"&&(x(y),y.preventDefault())}),onKeyDown:wr(i.onKeyDown,y=>{const w=p.current!=="";!(y.ctrlKey||y.altKey||y.metaKey)&&y.key.length===1&&v(y.key),!(w&&y.key===" ")&&cle.includes(y.key)&&(x(),y.preventDefault())})})})});HF.displayName=VF;var GF="SelectValue",KF=_.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:i,children:a,placeholder:o="",...l}=e,d=wo(GF,n),{onValueNodeHasChildrenChange:f}=d,m=a!==void 0,p=jt(t,d.onValueNodeChange);return Ut(()=>{f(m)},[f,m]),u.jsx(gt.span,{...l,ref:p,style:{pointerEvents:"none"},children:m8(d.value)?u.jsx(u.Fragment,{children:o}):a})});KF.displayName=GF;var ple="SelectIcon",WF=_.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...i}=e;return u.jsx(gt.span,{"aria-hidden":!0,...i,ref:t,children:r||""})});WF.displayName=ple;var gle="SelectPortal",YF=e=>u.jsx(Em,{asChild:!0,...e});YF.displayName=gle;var Pl="SelectContent",XF=_.forwardRef((e,t)=>{const n=wo(Pl,e.__scopeSelect),[r,i]=_.useState();if(Ut(()=>{i(new DocumentFragment)},[]),!n.open){const a=r;return a?zl.createPortal(u.jsx(QF,{scope:e.__scopeSelect,children:u.jsx(i0.Slot,{scope:e.__scopeSelect,children:u.jsx("div",{children:e.children})})}),a):null}return u.jsx(JF,{...e,ref:t})});XF.displayName=Pl;var Ki=10,[QF,_o]=bd(Pl),vle="SelectContentImpl",yle=ele("SelectContent.RemoveScroll"),JF=_.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:a,onPointerDownOutside:o,side:l,sideOffset:d,align:f,alignOffset:m,arrowPadding:p,collisionBoundary:v,collisionPadding:b,sticky:x,hideWhenDetached:y,avoidCollisions:w,...E}=e,N=wo(Pl,n),[j,O]=_.useState(null),[T,C]=_.useState(null),R=jt(t,J=>O(J)),[M,k]=_.useState(null),[I,B]=_.useState(null),$=a0(n),[F,H]=_.useState(!1),U=_.useRef(!1);_.useEffect(()=>{if(j)return VA(j)},[j]),FA();const D=_.useCallback(J=>{const[he,...se]=$().map(ee=>ee.ref.current),[pe]=se.slice(-1),xe=document.activeElement;for(const ee of J)if(ee===xe||(ee?.scrollIntoView({block:"nearest"}),ee===he&&T&&(T.scrollTop=0),ee===pe&&T&&(T.scrollTop=T.scrollHeight),ee?.focus(),document.activeElement!==xe))return},[$,T]),G=_.useCallback(()=>D([M,j]),[D,M,j]);_.useEffect(()=>{F&&G()},[F,G]);const{onOpenChange:z,triggerPointerDownPosRef:X}=N;_.useEffect(()=>{if(j){let J={x:0,y:0};const he=pe=>{J={x:Math.abs(Math.round(pe.pageX)-(X.current?.x??0)),y:Math.abs(Math.round(pe.pageY)-(X.current?.y??0))}},se=pe=>{J.x<=10&&J.y<=10?pe.preventDefault():j.contains(pe.target)||z(!1),document.removeEventListener("pointermove",he),X.current=null};return X.current!==null&&(document.addEventListener("pointermove",he),document.addEventListener("pointerup",se,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",he),document.removeEventListener("pointerup",se,{capture:!0})}}},[j,z,X]),_.useEffect(()=>{const J=()=>z(!1);return window.addEventListener("blur",J),window.addEventListener("resize",J),()=>{window.removeEventListener("blur",J),window.removeEventListener("resize",J)}},[z]);const[ue,V]=p8(J=>{const he=$().filter(xe=>!xe.disabled),se=he.find(xe=>xe.ref.current===document.activeElement),pe=g8(he,J,se);pe&&setTimeout(()=>pe.ref.current.focus())}),K=_.useCallback((J,he,se)=>{const pe=!U.current&&!se;(N.value!==void 0&&N.value===he||pe)&&(k(J),pe&&(U.current=!0))},[N.value]),Z=_.useCallback(()=>j?.focus(),[j]),oe=_.useCallback((J,he,se)=>{const pe=!U.current&&!se;(N.value!==void 0&&N.value===he||pe)&&B(J)},[N.value]),be=r==="popper"?aE:ZF,ae=be===aE?{side:l,sideOffset:d,align:f,alignOffset:m,arrowPadding:p,collisionBoundary:v,collisionPadding:b,sticky:x,hideWhenDetached:y,avoidCollisions:w}:{};return u.jsx(QF,{scope:n,content:j,viewport:T,onViewportChange:C,itemRefCallback:K,selectedItem:M,onItemLeave:Z,itemTextRefCallback:oe,focusSelectedItem:G,selectedItemText:I,position:r,isPositioned:F,searchRef:ue,children:u.jsx(Jy,{as:yle,allowPinchZoom:!0,children:u.jsx(Xy,{asChild:!0,trapped:N.open,onMountAutoFocus:J=>{J.preventDefault()},onUnmountAutoFocus:wr(i,J=>{N.trigger?.focus({preventScroll:!0}),J.preventDefault()}),children:u.jsx(Sm,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:J=>J.preventDefault(),onDismiss:()=>N.onOpenChange(!1),children:u.jsx(be,{role:"listbox",id:N.contentId,"data-state":N.open?"open":"closed",dir:N.dir,onContextMenu:J=>J.preventDefault(),...E,...ae,onPlaced:()=>H(!0),ref:R,style:{display:"flex",flexDirection:"column",outline:"none",...E.style},onKeyDown:wr(E.onKeyDown,J=>{const he=J.ctrlKey||J.altKey||J.metaKey;if(J.key==="Tab"&&J.preventDefault(),!he&&J.key.length===1&&V(J.key),["ArrowUp","ArrowDown","Home","End"].includes(J.key)){let pe=$().filter(xe=>!xe.disabled).map(xe=>xe.ref.current);if(["ArrowUp","End"].includes(J.key)&&(pe=pe.slice().reverse()),["ArrowUp","ArrowDown"].includes(J.key)){const xe=J.target,ee=pe.indexOf(xe);pe=pe.slice(ee+1)}setTimeout(()=>D(pe)),J.preventDefault()}})})})})})})});JF.displayName=vle;var ble="SelectItemAlignedPosition",ZF=_.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...i}=e,a=wo(Pl,n),o=_o(Pl,n),[l,d]=_.useState(null),[f,m]=_.useState(null),p=jt(t,R=>m(R)),v=a0(n),b=_.useRef(!1),x=_.useRef(!0),{viewport:y,selectedItem:w,selectedItemText:E,focusSelectedItem:N}=o,j=_.useCallback(()=>{if(a.trigger&&a.valueNode&&l&&f&&y&&w&&E){const R=a.trigger.getBoundingClientRect(),M=f.getBoundingClientRect(),k=a.valueNode.getBoundingClientRect(),I=E.getBoundingClientRect();if(a.dir!=="rtl"){const xe=I.left-M.left,ee=k.left-xe,$e=R.left-ee,ge=R.width+$e,He=Math.max(ge,M.width),te=window.innerWidth-Ki,re=DD(ee,[Ki,Math.max(Ki,te-He)]);l.style.minWidth=ge+"px",l.style.left=re+"px"}else{const xe=M.right-I.right,ee=window.innerWidth-k.right-xe,$e=window.innerWidth-R.right-ee,ge=R.width+$e,He=Math.max(ge,M.width),te=window.innerWidth-Ki,re=DD(ee,[Ki,Math.max(Ki,te-He)]);l.style.minWidth=ge+"px",l.style.right=re+"px"}const B=v(),$=window.innerHeight-Ki*2,F=y.scrollHeight,H=window.getComputedStyle(f),U=parseInt(H.borderTopWidth,10),D=parseInt(H.paddingTop,10),G=parseInt(H.borderBottomWidth,10),z=parseInt(H.paddingBottom,10),X=U+D+F+z+G,ue=Math.min(w.offsetHeight*5,X),V=window.getComputedStyle(y),K=parseInt(V.paddingTop,10),Z=parseInt(V.paddingBottom,10),oe=R.top+R.height/2-Ki,be=$-oe,ae=w.offsetHeight/2,J=w.offsetTop+ae,he=U+D+J,se=X-he;if(he<=oe){const xe=B.length>0&&w===B[B.length-1].ref.current;l.style.bottom="0px";const ee=f.clientHeight-y.offsetTop-y.offsetHeight,$e=Math.max(be,ae+(xe?Z:0)+ee+G),ge=he+$e;l.style.height=ge+"px"}else{const xe=B.length>0&&w===B[0].ref.current;l.style.top="0px";const $e=Math.max(oe,U+y.offsetTop+(xe?K:0)+ae)+se;l.style.height=$e+"px",y.scrollTop=he-oe+y.offsetTop}l.style.margin=`${Ki}px 0`,l.style.minHeight=ue+"px",l.style.maxHeight=$+"px",r?.(),requestAnimationFrame(()=>b.current=!0)}},[v,a.trigger,a.valueNode,l,f,y,w,E,a.dir,r]);Ut(()=>j(),[j]);const[O,T]=_.useState();Ut(()=>{f&&T(window.getComputedStyle(f).zIndex)},[f]);const C=_.useCallback(R=>{R&&x.current===!0&&(j(),N?.(),x.current=!1)},[j,N]);return u.jsx(wle,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:b,onScrollButtonChange:C,children:u.jsx("div",{ref:d,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:O},children:u.jsx(gt.div,{...i,ref:p,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});ZF.displayName=ble;var xle="SelectPopperPosition",aE=_.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=Ki,...a}=e,o=s0(n);return u.jsx(DA,{...o,...a,ref:t,align:r,collisionPadding:i,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});aE.displayName=xle;var[wle,WA]=bd(Pl,{}),sE="SelectViewport",e8=_.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...i}=e,a=_o(sE,n),o=WA(sE,n),l=jt(t,a.onViewportChange),d=_.useRef(0);return u.jsxs(u.Fragment,{children:[u.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),u.jsx(i0.Slot,{scope:n,children:u.jsx(gt.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:wr(i.onScroll,f=>{const m=f.currentTarget,{contentWrapper:p,shouldExpandOnScrollRef:v}=o;if(v?.current&&p){const b=Math.abs(d.current-m.scrollTop);if(b>0){const x=window.innerHeight-Ki*2,y=parseFloat(p.style.minHeight),w=parseFloat(p.style.height),E=Math.max(y,w);if(E<x){const N=E+b,j=Math.min(x,N),O=N-j;p.style.height=j+"px",p.style.bottom==="0px"&&(m.scrollTop=O>0?O:0,p.style.justifyContent="flex-end")}}}d.current=m.scrollTop})})})]})});e8.displayName=sE;var t8="SelectGroup",[_le,Sle]=bd(t8),jle=_.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=ss();return u.jsx(_le,{scope:n,id:i,children:u.jsx(gt.div,{role:"group","aria-labelledby":i,...r,ref:t})})});jle.displayName=t8;var n8="SelectLabel",r8=_.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=Sle(n8,n);return u.jsx(gt.div,{id:i.id,...r,ref:t})});r8.displayName=n8;var Ev="SelectItem",[Ele,i8]=bd(Ev),a8=_.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:a,...o}=e,l=wo(Ev,n),d=_o(Ev,n),f=l.value===r,[m,p]=_.useState(a??""),[v,b]=_.useState(!1),x=jt(t,N=>d.itemRefCallback?.(N,r,i)),y=ss(),w=_.useRef("touch"),E=()=>{i||(l.onValueChange(r),l.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return u.jsx(Ele,{scope:n,value:r,disabled:i,textId:y,isSelected:f,onItemTextChange:_.useCallback(N=>{p(j=>j||(N?.textContent??"").trim())},[]),children:u.jsx(i0.ItemSlot,{scope:n,value:r,disabled:i,textValue:m,children:u.jsx(gt.div,{role:"option","aria-labelledby":y,"data-highlighted":v?"":void 0,"aria-selected":f&&v,"data-state":f?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...o,ref:x,onFocus:wr(o.onFocus,()=>b(!0)),onBlur:wr(o.onBlur,()=>b(!1)),onClick:wr(o.onClick,()=>{w.current!=="mouse"&&E()}),onPointerUp:wr(o.onPointerUp,()=>{w.current==="mouse"&&E()}),onPointerDown:wr(o.onPointerDown,N=>{w.current=N.pointerType}),onPointerMove:wr(o.onPointerMove,N=>{w.current=N.pointerType,i?d.onItemLeave?.():w.current==="mouse"&&N.currentTarget.focus({preventScroll:!0})}),onPointerLeave:wr(o.onPointerLeave,N=>{N.currentTarget===document.activeElement&&d.onItemLeave?.()}),onKeyDown:wr(o.onKeyDown,N=>{d.searchRef?.current!==""&&N.key===" "||(ule.includes(N.key)&&E(),N.key===" "&&N.preventDefault())})})})})});a8.displayName=Ev;var Wf="SelectItemText",s8=_.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:i,...a}=e,o=wo(Wf,n),l=_o(Wf,n),d=i8(Wf,n),f=mle(Wf,n),[m,p]=_.useState(null),v=jt(t,E=>p(E),d.onItemTextChange,E=>l.itemTextRefCallback?.(E,d.value,d.disabled)),b=m?.textContent,x=_.useMemo(()=>u.jsx("option",{value:d.value,disabled:d.disabled,children:b},d.value),[d.disabled,d.value,b]),{onNativeOptionAdd:y,onNativeOptionRemove:w}=f;return Ut(()=>(y(x),()=>w(x)),[y,w,x]),u.jsxs(u.Fragment,{children:[u.jsx(gt.span,{id:d.textId,...a,ref:v}),d.isSelected&&o.valueNode&&!o.valueNodeHasChildren?zl.createPortal(a.children,o.valueNode):null]})});s8.displayName=Wf;var o8="SelectItemIndicator",l8=_.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return i8(o8,n).isSelected?u.jsx(gt.span,{"aria-hidden":!0,...r,ref:t}):null});l8.displayName=o8;var oE="SelectScrollUpButton",c8=_.forwardRef((e,t)=>{const n=_o(oE,e.__scopeSelect),r=WA(oE,e.__scopeSelect),[i,a]=_.useState(!1),o=jt(t,r.onScrollButtonChange);return Ut(()=>{if(n.viewport&&n.isPositioned){let l=function(){const f=d.scrollTop>0;a(f)};const d=n.viewport;return l(),d.addEventListener("scroll",l),()=>d.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),i?u.jsx(d8,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:d}=n;l&&d&&(l.scrollTop=l.scrollTop-d.offsetHeight)}}):null});c8.displayName=oE;var lE="SelectScrollDownButton",u8=_.forwardRef((e,t)=>{const n=_o(lE,e.__scopeSelect),r=WA(lE,e.__scopeSelect),[i,a]=_.useState(!1),o=jt(t,r.onScrollButtonChange);return Ut(()=>{if(n.viewport&&n.isPositioned){let l=function(){const f=d.scrollHeight-d.clientHeight,m=Math.ceil(d.scrollTop)<f;a(m)};const d=n.viewport;return l(),d.addEventListener("scroll",l),()=>d.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),i?u.jsx(d8,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:d}=n;l&&d&&(l.scrollTop=l.scrollTop+d.offsetHeight)}}):null});u8.displayName=lE;var d8=_.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=e,a=_o("SelectScrollButton",n),o=_.useRef(null),l=a0(n),d=_.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return _.useEffect(()=>()=>d(),[d]),Ut(()=>{l().find(m=>m.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[l]),u.jsx(gt.div,{"aria-hidden":!0,...i,ref:t,style:{flexShrink:0,...i.style},onPointerDown:wr(i.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:wr(i.onPointerMove,()=>{a.onItemLeave?.(),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:wr(i.onPointerLeave,()=>{d()})})}),Nle="SelectSeparator",f8=_.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return u.jsx(gt.div,{"aria-hidden":!0,...r,ref:t})});f8.displayName=Nle;var cE="SelectArrow",Ale=_.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=s0(n),a=wo(cE,n),o=_o(cE,n);return a.open&&o.position==="popper"?u.jsx(IA,{...i,...r,ref:t}):null});Ale.displayName=cE;var Tle="SelectBubbleInput",h8=_.forwardRef(({__scopeSelect:e,value:t,...n},r)=>{const i=_.useRef(null),a=jt(r,i),o=r0(t);return _.useEffect(()=>{const l=i.current;if(!l)return;const d=window.HTMLSelectElement.prototype,m=Object.getOwnPropertyDescriptor(d,"value").set;if(o!==t&&m){const p=new Event("change",{bubbles:!0});m.call(l,t),l.dispatchEvent(p)}},[o,t]),u.jsx(gt.select,{...n,style:{...OU,...n.style},ref:a,defaultValue:t})});h8.displayName=Tle;function m8(e){return e===""||e===void 0}function p8(e){const t=Sr(e),n=_.useRef(""),r=_.useRef(0),i=_.useCallback(o=>{const l=n.current+o;t(l),(function d(f){n.current=f,window.clearTimeout(r.current),f!==""&&(r.current=window.setTimeout(()=>d(""),1e3))})(l)},[t]),a=_.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return _.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,a]}function g8(e,t,n){const i=t.length>1&&Array.from(t).every(f=>f===t[0])?t[0]:t,a=n?e.indexOf(n):-1;let o=Ole(e,Math.max(a,0));i.length===1&&(o=o.filter(f=>f!==n));const d=o.find(f=>f.textValue.toLowerCase().startsWith(i.toLowerCase()));return d!==n?d:void 0}function Ole(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var Cle=FF,v8=HF,Rle=KF,Ple=WF,Mle=YF,y8=XF,kle=e8,b8=r8,x8=a8,Dle=s8,Ile=l8,w8=c8,_8=u8,S8=f8;const yn=Cle,bn=Rle,mn=_.forwardRef(({className:e,children:t,...n},r)=>u.jsxs(v8,{ref:r,className:Ne("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,u.jsx(Ple,{asChild:!0,children:u.jsx(jA,{className:"h-4 w-4 opacity-50"})})]}));mn.displayName=v8.displayName;const j8=_.forwardRef(({className:e,...t},n)=>u.jsx(w8,{ref:n,className:Ne("flex cursor-default items-center justify-center py-1",e),...t,children:u.jsx(EZ,{className:"h-4 w-4"})}));j8.displayName=w8.displayName;const E8=_.forwardRef(({className:e,...t},n)=>u.jsx(_8,{ref:n,className:Ne("flex cursor-default items-center justify-center py-1",e),...t,children:u.jsx(jA,{className:"h-4 w-4"})}));E8.displayName=_8.displayName;const pn=_.forwardRef(({className:e,children:t,position:n="popper",...r},i)=>u.jsx(Mle,{children:u.jsxs(y8,{ref:i,className:Ne("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[u.jsx(j8,{}),u.jsx(kle,{className:Ne("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),u.jsx(E8,{})]})}));pn.displayName=y8.displayName;const $le=_.forwardRef(({className:e,...t},n)=>u.jsx(b8,{ref:n,className:Ne("px-2 py-1.5 text-sm font-semibold",e),...t}));$le.displayName=b8.displayName;const ct=_.forwardRef(({className:e,children:t,...n},r)=>u.jsxs(x8,{ref:r,className:Ne("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[u.jsx("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:u.jsx(Ile,{children:u.jsx(ho,{className:"h-4 w-4"})})}),u.jsx(Dle,{children:t})]}));ct.displayName=x8.displayName;const Lle=_.forwardRef(({className:e,...t},n)=>u.jsx(S8,{ref:n,className:Ne("-mx-1 my-1 h-px bg-muted",e),...t}));Lle.displayName=S8.displayName;const Ble=e=>e,qle=e=>{switch(e){case"coach":return"/coach";case"admin":return"/admin";case"comite":return"/comite";default:return"/"}};function zle(){const[e,t]=_.useState(""),[n,r]=_.useState(""),[i,a]=_.useState(null),[o,l]=_.useState(!1),[d,f]=_.useState(!1),[m,p]=_.useState(""),[v,b]=_.useState(""),[x,y]=_.useState(""),[w,E]=_.useState(""),[N,j]=_.useState(""),[O,T]=_.useState(null),[C,R]=_.useState(!1),{loginFromSession:M,loadUser:k}=sn(),[,I]=ad(),B=_.useRef(null),$=_.useRef(null),{data:F=[],isLoading:H,isError:U}=Pt({queryKey:["register-groups"],queryFn:()=>De.getGroups(),enabled:d,retry:2});_.useEffect(()=>{d&&!N&&F.length>0&&j(String(F[0].id))},[F,N,d]),_.useEffect(()=>{Ble(d)&&$.current?.focus()},[d]);const D=z=>z.includes("Invalid login")?"Identifiant ou mot de passe incorrect.":z.includes("Email not confirmed")?"Veuillez confirmer votre email avant de vous connecter.":z,G=async z=>{z.preventDefault();const X=e.trim();if(X){if(!n.trim()){a("Mot de passe requis."),B.current?.focus();return}l(!0),a(null);try{const{data:ue,error:V}=await Oe.auth.signInWithPassword({email:X,password:n});if(V)throw new Error(D(V.message));if(!ue.session)throw new Error("Session non reue.");if(M(ue.session),!await k())throw new Error("Impossible de rcuprer le profil utilisateur.");const Z=ue.session.user?.app_metadata?.app_user_role??ue.session.user?.user_metadata?.role??null;I(qle(Z),{replace:!0})}catch(ue){const V=ue instanceof Error?ue.message:"Connexion impossible.";a(V)}finally{l(!1)}}};return u.jsxs("div",{className:"min-h-screen flex items-center justify-center p-4 bg-background relative overflow-hidden",children:[u.jsx("div",{className:"absolute top-[-20%] right-[-10%] w-[600px] h-[600px] bg-primary/10 rounded-full blur-3xl pointer-events-none"}),u.jsxs(Pe,{className:"w-full max-w-sm relative z-10 shadow-2xl border-t-8 border-t-primary animate-in fade-in zoom-in duration-500",children:[u.jsxs(Ze,{className:"text-center pb-2",children:[u.jsx("div",{className:"mx-auto mb-6 h-24 w-24 rounded-full bg-black flex items-center justify-center border-4 border-primary shadow-lg",children:u.jsx("img",{src:aF,alt:"EAC Logo",className:"h-full w-full object-cover rounded-full opacity-90"})}),u.jsxs(rt,{className:"text-3xl font-display italic uppercase tracking-tighter",children:["SUIVI",u.jsx("span",{className:"text-primary",children:"NATATION"})]}),u.jsx(Qt,{className:"uppercase tracking-widest text-xs font-bold",children:"Erstein Aquatic Club"})]}),u.jsx(Be,{children:u.jsxs("form",{onSubmit:G,className:"space-y-6",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(xt,{placeholder:"Email",type:"email",value:e,onChange:z=>{t(z.target.value),d&&f(!1)},className:"text-center text-lg h-12 border-2 focus-visible:ring-primary",autoFocus:!0}),u.jsx("p",{className:"text-xs text-muted-foreground text-center",children:"Saisissez votre email et votre mot de passe."}),u.jsx(xt,{placeholder:"Mot de passe",type:"password",value:n,onChange:z=>r(z.target.value),ref:B,className:"text-center text-lg h-12 border-2 focus-visible:ring-primary"}),i?u.jsx("p",{className:"text-sm text-destructive text-center",children:i}):null]}),u.jsx(Ce,{type:"submit",className:"w-full h-12 text-lg font-bold uppercase tracking-wider shadow-md hover:scale-[1.02] transition-transform",disabled:!e.trim()||!n.trim()||o,children:o?"Connexion...":"CONNEXION"}),u.jsx("div",{className:"flex justify-center",children:u.jsx("button",{type:"button",onClick:()=>{f(!0);const z=e.trim();b(z)},className:"text-xs text-muted-foreground underline underline-offset-4 transition-colors hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary focus-visible:ring-offset-2",children:"Crer un compte"})})]})})]}),u.jsx(iE,{open:d,onOpenChange:z=>{f(z),z||(T(null),y(""),E(""),j(""))},children:u.jsxs(jv,{className:"sm:max-w-md",children:[u.jsxs($F,{children:[u.jsx(LF,{children:"Crer un compte"}),u.jsx(BF,{children:"Compltez les informations pour crer votre profil."})]}),u.jsxs("form",{className:"space-y-4",onSubmit:async z=>{if(z.preventDefault(),!m.trim()){T("Ajoutez votre nom.");return}if(!v.trim()){T("Ajoutez votre email.");return}if(!N){T("Slectionnez un groupe.");return}if(!w){T("Ajoutez votre date de naissance.");return}if(!x){T("Choisissez un mot de passe.");return}T(null),R(!0);try{const{data:X,error:ue}=await Oe.auth.signUp({email:v.trim(),password:x,options:{data:{display_name:m.trim(),birthdate:w,group_id:Number(N)}}});if(ue)throw new Error(ue.message);if(!X.session){T("Compte cr. Vrifiez votre email pour confirmer votre inscription."),R(!1);return}if(M(X.session),!await k())throw new Error("Impossible de rcuprer le profil utilisateur.");f(!1),I("/",{replace:!0})}catch(X){const ue=X instanceof Error?X.message:"Cration impossible.";T(ue)}finally{R(!1)}},children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(it,{htmlFor:"register-name",children:"Nom d'affichage"}),u.jsx(xt,{id:"register-name",value:m,onChange:z=>p(z.target.value),placeholder:"Votre nom",ref:$})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(it,{htmlFor:"register-email",children:"Email"}),u.jsx(xt,{id:"register-email",type:"email",value:v,onChange:z=>b(z.target.value),placeholder:"prenom.nom@email.com",required:!0})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(it,{htmlFor:"register-birthdate",children:"Date de naissance"}),u.jsx(xt,{id:"register-birthdate",type:"date",value:w,onChange:z=>E(z.target.value)})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(it,{children:"Groupe"}),u.jsxs(yn,{value:N,onValueChange:j,disabled:H||F.length===0,children:[u.jsx(mn,{children:u.jsx(bn,{placeholder:H?"Chargement...":U?"Erreur de chargement":"Slectionnez un groupe"})}),u.jsx(pn,{children:F.map(z=>u.jsx(ct,{value:String(z.id),children:z.name},z.id))})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(it,{htmlFor:"register-password",children:"Mot de passe"}),u.jsx(xt,{id:"register-password",type:"password",value:x,onChange:z=>y(z.target.value),placeholder:"Choisissez un mot de passe"})]}),O?u.jsx("p",{className:"text-sm text-destructive",children:O}):null,u.jsx(Ce,{type:"submit",className:"w-full",disabled:C||!m.trim(),children:C?"Cration...":"Crer le compte"})]})]})}),u.jsx("div",{className:"absolute bottom-4 text-xs text-muted-foreground opacity-50 uppercase font-bold tracking-widest",children:"EAC Performance Tracking"})]})}const YA=_.createContext({});function XA(e){const t=_.useRef(null);return t.current===null&&(t.current=e()),t.current}const QA=typeof window<"u",N8=QA?_.useLayoutEffect:_.useEffect,o0=_.createContext(null);function JA(e,t){e.indexOf(t)===-1&&e.push(t)}function ZA(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const fs=(e,t,n)=>n>t?t:n<e?e:n;let eT=()=>{};const hs={},A8=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function T8(e){return typeof e=="object"&&e!==null}const O8=e=>/^0[^.\s]+$/u.test(e);function tT(e){let t;return()=>(t===void 0&&(t=e()),t)}const $i=e=>e,Ule=(e,t)=>n=>t(e(n)),Om=(...e)=>e.reduce(Ule),Rh=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r};class nT{constructor(){this.subscriptions=[]}add(t){return JA(this.subscriptions,t),()=>ZA(this.subscriptions,t)}notify(t,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,n,r);else for(let a=0;a<i;a++){const o=this.subscriptions[a];o&&o(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const _a=e=>e*1e3,ki=e=>e/1e3;function C8(e,t){return t?e*(1e3/t):0}const R8=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,Fle=1e-7,Vle=12;function Hle(e,t,n,r,i){let a,o,l=0;do o=t+(n-t)/2,a=R8(o,r,i)-e,a>0?n=o:t=o;while(Math.abs(a)>Fle&&++l<Vle);return o}function Cm(e,t,n,r){if(e===t&&n===r)return $i;const i=a=>Hle(a,0,1,e,n);return a=>a===0||a===1?a:R8(i(a),t,r)}const P8=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,M8=e=>t=>1-e(1-t),k8=Cm(.33,1.53,.69,.99),rT=M8(k8),D8=P8(rT),I8=e=>(e*=2)<1?.5*rT(e):.5*(2-Math.pow(2,-10*(e-1))),iT=e=>1-Math.sin(Math.acos(e)),$8=M8(iT),L8=P8(iT),Gle=Cm(.42,0,1,1),Kle=Cm(0,0,.58,1),B8=Cm(.42,0,.58,1),Wle=e=>Array.isArray(e)&&typeof e[0]!="number",q8=e=>Array.isArray(e)&&typeof e[0]=="number",Yle={linear:$i,easeIn:Gle,easeInOut:B8,easeOut:Kle,circIn:iT,circInOut:L8,circOut:$8,backIn:rT,backInOut:D8,backOut:k8,anticipate:I8},Xle=e=>typeof e=="string",LD=e=>{if(q8(e)){eT(e.length===4);const[t,n,r,i]=e;return Cm(t,n,r,i)}else if(Xle(e))return Yle[e];return e},Eg=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function Qle(e,t){let n=new Set,r=new Set,i=!1,a=!1;const o=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1};function d(m){o.has(m)&&(f.schedule(m),e()),m(l)}const f={schedule:(m,p=!1,v=!1)=>{const x=v&&i?n:r;return p&&o.add(m),x.has(m)||x.add(m),m},cancel:m=>{r.delete(m),o.delete(m)},process:m=>{if(l=m,i){a=!0;return}i=!0,[n,r]=[r,n],n.forEach(d),n.clear(),i=!1,a&&(a=!1,f.process(m))}};return f}const Jle=40;function z8(e,t){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,o=Eg.reduce((j,O)=>(j[O]=Qle(a),j),{}),{setup:l,read:d,resolveKeyframes:f,preUpdate:m,update:p,preRender:v,render:b,postRender:x}=o,y=()=>{const j=hs.useManualTiming?i.timestamp:performance.now();n=!1,hs.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(j-i.timestamp,Jle),1)),i.timestamp=j,i.isProcessing=!0,l.process(i),d.process(i),f.process(i),m.process(i),p.process(i),v.process(i),b.process(i),x.process(i),i.isProcessing=!1,n&&t&&(r=!1,e(y))},w=()=>{n=!0,r=!0,i.isProcessing||e(y)};return{schedule:Eg.reduce((j,O)=>{const T=o[O];return j[O]=(C,R=!1,M=!1)=>(n||w(),T.schedule(C,R,M)),j},{}),cancel:j=>{for(let O=0;O<Eg.length;O++)o[Eg[O]].cancel(j)},state:i,steps:o}}const{schedule:xn,cancel:go,state:br,steps:Gw}=z8(typeof requestAnimationFrame<"u"?requestAnimationFrame:$i,!0);let tv;function Zle(){tv=void 0}const Gr={now:()=>(tv===void 0&&Gr.set(br.isProcessing||hs.useManualTiming?br.timestamp:performance.now()),tv),set:e=>{tv=e,queueMicrotask(Zle)}},U8=e=>t=>typeof t=="string"&&t.startsWith(e),aT=U8("--"),ece=U8("var(--"),sT=e=>ece(e)?tce.test(e.split("/*")[0].trim()):!1,tce=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,xd={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Ph={...xd,transform:e=>fs(0,1,e)},Ng={...xd,default:1},ah=e=>Math.round(e*1e5)/1e5,oT=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function nce(e){return e==null}const rce=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,lT=(e,t)=>n=>!!(typeof n=="string"&&rce.test(n)&&n.startsWith(e)||t&&!nce(n)&&Object.prototype.hasOwnProperty.call(n,t)),F8=(e,t,n)=>r=>{if(typeof r!="string")return r;const[i,a,o,l]=r.match(oT);return{[e]:parseFloat(i),[t]:parseFloat(a),[n]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},ice=e=>fs(0,255,e),Kw={...xd,transform:e=>Math.round(ice(e))},hl={test:lT("rgb","red"),parse:F8("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+Kw.transform(e)+", "+Kw.transform(t)+", "+Kw.transform(n)+", "+ah(Ph.transform(r))+")"};function ace(e){let t="",n="",r="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const uE={test:lT("#"),parse:ace,transform:hl.transform},Rm=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Qs=Rm("deg"),Sa=Rm("%"),mt=Rm("px"),sce=Rm("vh"),oce=Rm("vw"),BD={...Sa,parse:e=>Sa.parse(e)/100,transform:e=>Sa.transform(e*100)},ru={test:lT("hsl","hue"),parse:F8("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+Sa.transform(ah(t))+", "+Sa.transform(ah(n))+", "+ah(Ph.transform(r))+")"},Gn={test:e=>hl.test(e)||uE.test(e)||ru.test(e),parse:e=>hl.test(e)?hl.parse(e):ru.test(e)?ru.parse(e):uE.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?hl.transform(e):ru.transform(e),getAnimatableNone:e=>{const t=Gn.parse(e);return t.alpha=0,Gn.transform(t)}},lce=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function cce(e){return isNaN(e)&&typeof e=="string"&&(e.match(oT)?.length||0)+(e.match(lce)?.length||0)>0}const V8="number",H8="color",uce="var",dce="var(",qD="${}",fce=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Mh(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},i=[];let a=0;const l=t.replace(fce,d=>(Gn.test(d)?(r.color.push(a),i.push(H8),n.push(Gn.parse(d))):d.startsWith(dce)?(r.var.push(a),i.push(uce),n.push(d)):(r.number.push(a),i.push(V8),n.push(parseFloat(d))),++a,qD)).split(qD);return{values:n,split:l,indexes:r,types:i}}function G8(e){return Mh(e).values}function K8(e){const{split:t,types:n}=Mh(e),r=t.length;return i=>{let a="";for(let o=0;o<r;o++)if(a+=t[o],i[o]!==void 0){const l=n[o];l===V8?a+=ah(i[o]):l===H8?a+=Gn.transform(i[o]):a+=i[o]}return a}}const hce=e=>typeof e=="number"?0:Gn.test(e)?Gn.getAnimatableNone(e):e;function mce(e){const t=G8(e);return K8(e)(t.map(hce))}const vo={test:cce,parse:G8,createTransformer:K8,getAnimatableNone:mce};function Ww(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function pce({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let i=0,a=0,o=0;if(!t)i=a=o=n;else{const l=n<.5?n*(1+t):n+t-n*t,d=2*n-l;i=Ww(d,l,e+1/3),a=Ww(d,l,e),o=Ww(d,l,e-1/3)}return{red:Math.round(i*255),green:Math.round(a*255),blue:Math.round(o*255),alpha:r}}function Nv(e,t){return n=>n>0?t:e}const jn=(e,t,n)=>e+(t-e)*n,Yw=(e,t,n)=>{const r=e*e,i=n*(t*t-r)+r;return i<0?0:Math.sqrt(i)},gce=[uE,hl,ru],vce=e=>gce.find(t=>t.test(e));function zD(e){const t=vce(e);if(!t)return!1;let n=t.parse(e);return t===ru&&(n=pce(n)),n}const UD=(e,t)=>{const n=zD(e),r=zD(t);if(!n||!r)return Nv(e,t);const i={...n};return a=>(i.red=Yw(n.red,r.red,a),i.green=Yw(n.green,r.green,a),i.blue=Yw(n.blue,r.blue,a),i.alpha=jn(n.alpha,r.alpha,a),hl.transform(i))},dE=new Set(["none","hidden"]);function yce(e,t){return dE.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function bce(e,t){return n=>jn(e,t,n)}function cT(e){return typeof e=="number"?bce:typeof e=="string"?sT(e)?Nv:Gn.test(e)?UD:_ce:Array.isArray(e)?W8:typeof e=="object"?Gn.test(e)?UD:xce:Nv}function W8(e,t){const n=[...e],r=n.length,i=e.map((a,o)=>cT(a)(a,t[o]));return a=>{for(let o=0;o<r;o++)n[o]=i[o](a);return n}}function xce(e,t){const n={...e,...t},r={};for(const i in n)e[i]!==void 0&&t[i]!==void 0&&(r[i]=cT(e[i])(e[i],t[i]));return i=>{for(const a in r)n[a]=r[a](i);return n}}function wce(e,t){const n=[],r={color:0,var:0,number:0};for(let i=0;i<t.values.length;i++){const a=t.types[i],o=e.indexes[a][r[a]],l=e.values[o]??0;n[i]=l,r[a]++}return n}const _ce=(e,t)=>{const n=vo.createTransformer(t),r=Mh(e),i=Mh(t);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?dE.has(e)&&!i.values.length||dE.has(t)&&!r.values.length?yce(e,t):Om(W8(wce(r,i),i.values),n):Nv(e,t)};function Y8(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?jn(e,t,n):cT(e)(e,t)}const Sce=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>xn.update(t,n),stop:()=>go(t),now:()=>br.isProcessing?br.timestamp:Gr.now()}},X8=(e,t,n=10)=>{let r="";const i=Math.max(Math.round(t/n),2);for(let a=0;a<i;a++)r+=Math.round(e(a/(i-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},Av=2e4;function uT(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<Av;)t+=n,r=e.next(t);return t>=Av?1/0:t}function jce(e,t=100,n){const r=n({...e,keyframes:[0,t]}),i=Math.min(uT(r),Av);return{type:"keyframes",ease:a=>r.next(i*a).value/t,duration:ki(i)}}const Ece=5;function Q8(e,t,n){const r=Math.max(t-Ece,0);return C8(n-e(r),t-r)}const On={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Xw=.001;function Nce({duration:e=On.duration,bounce:t=On.bounce,velocity:n=On.velocity,mass:r=On.mass}){let i,a,o=1-t;o=fs(On.minDamping,On.maxDamping,o),e=fs(On.minDuration,On.maxDuration,ki(e)),o<1?(i=f=>{const m=f*o,p=m*e,v=m-n,b=fE(f,o),x=Math.exp(-p);return Xw-v/b*x},a=f=>{const p=f*o*e,v=p*n+n,b=Math.pow(o,2)*Math.pow(f,2)*e,x=Math.exp(-p),y=fE(Math.pow(f,2),o);return(-i(f)+Xw>0?-1:1)*((v-b)*x)/y}):(i=f=>{const m=Math.exp(-f*e),p=(f-n)*e+1;return-Xw+m*p},a=f=>{const m=Math.exp(-f*e),p=(n-f)*(e*e);return m*p});const l=5/e,d=Tce(i,a,l);if(e=_a(e),isNaN(d))return{stiffness:On.stiffness,damping:On.damping,duration:e};{const f=Math.pow(d,2)*r;return{stiffness:f,damping:o*2*Math.sqrt(r*f),duration:e}}}const Ace=12;function Tce(e,t,n){let r=n;for(let i=1;i<Ace;i++)r=r-e(r)/t(r);return r}function fE(e,t){return e*Math.sqrt(1-t*t)}const Oce=["duration","bounce"],Cce=["stiffness","damping","mass"];function FD(e,t){return t.some(n=>e[n]!==void 0)}function Rce(e){let t={velocity:On.velocity,stiffness:On.stiffness,damping:On.damping,mass:On.mass,isResolvedFromDuration:!1,...e};if(!FD(e,Cce)&&FD(e,Oce))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,a=2*fs(.05,1,1-(e.bounce||0))*Math.sqrt(i);t={...t,mass:On.mass,stiffness:i,damping:a}}else{const n=Nce(e);t={...t,...n,mass:On.mass},t.isResolvedFromDuration=!0}return t}function Tv(e=On.visualDuration,t=On.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:i}=n;const a=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],l={done:!1,value:a},{stiffness:d,damping:f,mass:m,duration:p,velocity:v,isResolvedFromDuration:b}=Rce({...n,velocity:-ki(n.velocity||0)}),x=v||0,y=f/(2*Math.sqrt(d*m)),w=o-a,E=ki(Math.sqrt(d/m)),N=Math.abs(w)<5;r||(r=N?On.restSpeed.granular:On.restSpeed.default),i||(i=N?On.restDelta.granular:On.restDelta.default);let j;if(y<1){const T=fE(E,y);j=C=>{const R=Math.exp(-y*E*C);return o-R*((x+y*E*w)/T*Math.sin(T*C)+w*Math.cos(T*C))}}else if(y===1)j=T=>o-Math.exp(-E*T)*(w+(x+E*w)*T);else{const T=E*Math.sqrt(y*y-1);j=C=>{const R=Math.exp(-y*E*C),M=Math.min(T*C,300);return o-R*((x+y*E*w)*Math.sinh(M)+T*w*Math.cosh(M))/T}}const O={calculatedDuration:b&&p||null,next:T=>{const C=j(T);if(b)l.done=T>=p;else{let R=T===0?x:0;y<1&&(R=T===0?_a(x):Q8(j,T,C));const M=Math.abs(R)<=r,k=Math.abs(o-C)<=i;l.done=M&&k}return l.value=l.done?o:C,l},toString:()=>{const T=Math.min(uT(O),Av),C=X8(R=>O.next(T*R).value,T,30);return T+"ms "+C},toTransition:()=>{}};return O}Tv.applyToOptions=e=>{const t=jce(e,100,Tv);return e.ease=t.ease,e.duration=_a(t.duration),e.type="keyframes",e};function hE({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:o,min:l,max:d,restDelta:f=.5,restSpeed:m}){const p=e[0],v={done:!1,value:p},b=M=>l!==void 0&&M<l||d!==void 0&&M>d,x=M=>l===void 0?d:d===void 0||Math.abs(l-M)<Math.abs(d-M)?l:d;let y=n*t;const w=p+y,E=o===void 0?w:o(w);E!==w&&(y=E-p);const N=M=>-y*Math.exp(-M/r),j=M=>E+N(M),O=M=>{const k=N(M),I=j(M);v.done=Math.abs(k)<=f,v.value=v.done?E:I};let T,C;const R=M=>{b(v.value)&&(T=M,C=Tv({keyframes:[v.value,x(v.value)],velocity:Q8(j,M,v.value),damping:i,stiffness:a,restDelta:f,restSpeed:m}))};return R(0),{calculatedDuration:null,next:M=>{let k=!1;return!C&&T===void 0&&(k=!0,O(M),R(M)),T!==void 0&&M>=T?C.next(M-T):(!k&&O(M),v)}}}function Pce(e,t,n){const r=[],i=n||hs.mix||Y8,a=e.length-1;for(let o=0;o<a;o++){let l=i(e[o],e[o+1]);if(t){const d=Array.isArray(t)?t[o]||$i:t;l=Om(d,l)}r.push(l)}return r}function Mce(e,t,{clamp:n=!0,ease:r,mixer:i}={}){const a=e.length;if(eT(a===t.length),a===1)return()=>t[0];if(a===2&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[a-1]&&(e=[...e].reverse(),t=[...t].reverse());const l=Pce(t,r,i),d=l.length,f=m=>{if(o&&m<e[0])return t[0];let p=0;if(d>1)for(;p<e.length-2&&!(m<e[p+1]);p++);const v=Rh(e[p],e[p+1],m);return l[p](v)};return n?m=>f(fs(e[0],e[a-1],m)):f}function kce(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const i=Rh(0,t,r);e.push(jn(n,1,i))}}function Dce(e){const t=[0];return kce(t,e.length-1),t}function Ice(e,t){return e.map(n=>n*t)}function $ce(e,t){return e.map(()=>t||B8).splice(0,e.length-1)}function sh({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const i=Wle(r)?r.map(LD):LD(r),a={done:!1,value:t[0]},o=Ice(n&&n.length===t.length?n:Dce(t),e),l=Mce(o,t,{ease:Array.isArray(i)?i:$ce(t,i)});return{calculatedDuration:e,next:d=>(a.value=l(d),a.done=d>=e,a)}}const Lce=e=>e!==null;function dT(e,{repeat:t,repeatType:n="loop"},r,i=1){const a=e.filter(Lce),l=i<0||t&&n!=="loop"&&t%2===1?0:a.length-1;return!l||r===void 0?a[l]:r}const Bce={decay:hE,inertia:hE,tween:sh,keyframes:sh,spring:Tv};function J8(e){typeof e.type=="string"&&(e.type=Bce[e.type])}class fT{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const qce=e=>e/100;class hT extends fT{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==Gr.now()&&this.tick(Gr.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;J8(t);const{type:n=sh,repeat:r=0,repeatDelay:i=0,repeatType:a,velocity:o=0}=t;let{keyframes:l}=t;const d=n||sh;d!==sh&&typeof l[0]!="number"&&(this.mixKeyframes=Om(qce,Y8(l[0],l[1])),l=[0,100]);const f=d({...t,keyframes:l});a==="mirror"&&(this.mirroredGenerator=d({...t,keyframes:[...l].reverse(),velocity:-o})),f.calculatedDuration===null&&(f.calculatedDuration=uT(f));const{calculatedDuration:m}=f;this.calculatedDuration=m,this.resolvedDuration=m+i,this.totalDuration=this.resolvedDuration*(r+1)-i,this.generator=f}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:r,totalDuration:i,mixKeyframes:a,mirroredGenerator:o,resolvedDuration:l,calculatedDuration:d}=this;if(this.startTime===null)return r.next(0);const{delay:f=0,keyframes:m,repeat:p,repeatType:v,repeatDelay:b,type:x,onUpdate:y,finalKeyframe:w}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-i/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const E=this.currentTime-f*(this.playbackSpeed>=0?1:-1),N=this.playbackSpeed>=0?E<0:E>i;this.currentTime=Math.max(E,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let j=this.currentTime,O=r;if(p){const M=Math.min(this.currentTime,i)/l;let k=Math.floor(M),I=M%1;!I&&M>=1&&(I=1),I===1&&k--,k=Math.min(k,p+1),!!(k%2)&&(v==="reverse"?(I=1-I,b&&(I-=b/l)):v==="mirror"&&(O=o)),j=fs(0,1,I)*l}const T=N?{done:!1,value:m[0]}:O.next(j);a&&(T.value=a(T.value));let{done:C}=T;!N&&d!==null&&(C=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const R=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&C);return R&&x!==hE&&(T.value=dT(m,this.options,w,this.speed)),y&&y(T.value),R&&this.finish(),T}then(t,n){return this.finished.then(t,n)}get duration(){return ki(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+ki(t)}get time(){return ki(this.currentTime)}set time(t){t=_a(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Gr.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=ki(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=Sce,startTime:n}=this.options;this.driver||(this.driver=t(i=>this.tick(i))),this.options.onPlay?.();const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Gr.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function zce(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const ml=e=>e*180/Math.PI,mE=e=>{const t=ml(Math.atan2(e[1],e[0]));return pE(t)},Uce={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:mE,rotateZ:mE,skewX:e=>ml(Math.atan(e[1])),skewY:e=>ml(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},pE=e=>(e=e%360,e<0&&(e+=360),e),VD=mE,HD=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),GD=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),Fce={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:HD,scaleY:GD,scale:e=>(HD(e)+GD(e))/2,rotateX:e=>pE(ml(Math.atan2(e[6],e[5]))),rotateY:e=>pE(ml(Math.atan2(-e[2],e[0]))),rotateZ:VD,rotate:VD,skewX:e=>ml(Math.atan(e[4])),skewY:e=>ml(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function gE(e){return e.includes("scale")?1:0}function vE(e,t){if(!e||e==="none")return gE(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(n)r=Fce,i=n;else{const l=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=Uce,i=l}if(!i)return gE(t);const a=r[t],o=i[1].split(",").map(Hce);return typeof a=="function"?a(o):o[a]}const Vce=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return vE(n,t)};function Hce(e){return parseFloat(e.trim())}const wd=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],_d=new Set(wd),KD=e=>e===xd||e===mt,Gce=new Set(["x","y","z"]),Kce=wd.filter(e=>!Gce.has(e));function Wce(e){const t=[];return Kce.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const _l={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>vE(t,"x"),y:(e,{transform:t})=>vE(t,"y")};_l.translateX=_l.x;_l.translateY=_l.y;const Sl=new Set;let yE=!1,bE=!1,xE=!1;function Z8(){if(bE){const e=Array.from(Sl).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const i=Wce(r);i.length&&(n.set(r,i),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([a,o])=>{r.getValue(a)?.set(o)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}bE=!1,yE=!1,Sl.forEach(e=>e.complete(xE)),Sl.clear()}function eV(){Sl.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(bE=!0)})}function Yce(){xE=!0,eV(),Z8(),xE=!1}class mT{constructor(t,n,r,i,a,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=i,this.element=a,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(Sl.add(this),yE||(yE=!0,xn.read(eV),xn.resolveKeyframes(Z8))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:i}=this;if(t[0]===null){const a=i?.get(),o=t[t.length-1];if(a!==void 0)t[0]=a;else if(r&&n){const l=r.readValue(n,o);l!=null&&(t[0]=l)}t[0]===void 0&&(t[0]=o),i&&a===void 0&&i.set(t[0])}zce(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Sl.delete(this)}cancel(){this.state==="scheduled"&&(Sl.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const Xce=e=>e.startsWith("--");function Qce(e,t,n){Xce(t)?e.style.setProperty(t,n):e.style[t]=n}const Jce=tT(()=>window.ScrollTimeline!==void 0),Zce={};function eue(e,t){const n=tT(e);return()=>Zce[t]??n()}const tV=eue(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Yf=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,WD={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Yf([0,.65,.55,1]),circOut:Yf([.55,0,1,.45]),backIn:Yf([.31,.01,.66,-.59]),backOut:Yf([.33,1.53,.69,.99])};function nV(e,t){if(e)return typeof e=="function"?tV()?X8(e,t):"ease-out":q8(e)?Yf(e):Array.isArray(e)?e.map(n=>nV(n,t)||WD.easeOut):WD[e]}function tue(e,t,n,{delay:r=0,duration:i=300,repeat:a=0,repeatType:o="loop",ease:l="easeOut",times:d}={},f=void 0){const m={[t]:n};d&&(m.offset=d);const p=nV(l,i);Array.isArray(p)&&(m.easing=p);const v={delay:r,duration:i,easing:Array.isArray(p)?"linear":p,fill:"both",iterations:a+1,direction:o==="reverse"?"alternate":"normal"};return f&&(v.pseudoElement=f),e.animate(m,v)}function rV(e){return typeof e=="function"&&"applyToOptions"in e}function nue({type:e,...t}){return rV(e)&&tV()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class rue extends fT{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:n,name:r,keyframes:i,pseudoElement:a,allowFlatten:o=!1,finalKeyframe:l,onComplete:d}=t;this.isPseudoElement=!!a,this.allowFlatten=o,this.options=t,eT(typeof t.type!="string");const f=nue(t);this.animation=tue(n,r,i,f,a),f.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!a){const m=dT(i,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(m):Qce(n,r,m),this.animation.cancel()}d?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return ki(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+ki(t)}get time(){return ki(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=_a(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&Jce()?(this.animation.timeline=t,$i):n(this)}}const iV={anticipate:I8,backInOut:D8,circInOut:L8};function iue(e){return e in iV}function aue(e){typeof e.ease=="string"&&iue(e.ease)&&(e.ease=iV[e.ease])}const YD=10;class sue extends rue{constructor(t){aue(t),J8(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:r,onComplete:i,element:a,...o}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const l=new hT({...o,autoplay:!1}),d=_a(this.finishedTime??this.time);n.setWithVelocity(l.sample(d-YD).value,l.sample(d).value,YD),l.stop()}}const XD=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(vo.test(e)||e==="0")&&!e.startsWith("url("));function oue(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function lue(e,t,n,r){const i=e[0];if(i===null)return!1;if(t==="display"||t==="visibility")return!0;const a=e[e.length-1],o=XD(i,t),l=XD(a,t);return!o||!l?!1:oue(e)||(n==="spring"||rV(n))&&r}function wE(e){e.duration=0,e.type="keyframes"}const cue=new Set(["opacity","clipPath","filter","transform"]),uue=tT(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function due(e){const{motionValue:t,name:n,repeatDelay:r,repeatType:i,damping:a,type:o}=e;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:d,transformTemplate:f}=t.owner.getProps();return uue()&&n&&cue.has(n)&&(n!=="transform"||!f)&&!d&&!r&&i!=="mirror"&&a!==0&&o!=="inertia"}const fue=40;class hue extends fT{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:a=0,repeatType:o="loop",keyframes:l,name:d,motionValue:f,element:m,...p}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Gr.now();const v={autoplay:t,delay:n,type:r,repeat:i,repeatDelay:a,repeatType:o,name:d,motionValue:f,element:m,...p},b=m?.KeyframeResolver||mT;this.keyframeResolver=new b(l,(x,y,w)=>this.onKeyframesResolved(x,y,v,!w),d,f,m),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,n,r,i){this.keyframeResolver=void 0;const{name:a,type:o,velocity:l,delay:d,isHandoff:f,onUpdate:m}=r;this.resolvedAt=Gr.now(),lue(t,a,o,l)||((hs.instantAnimations||!d)&&m?.(dT(t,r,n)),t[0]=t[t.length-1],wE(r),r.repeat=0);const v={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>fue?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:t},b=!f&&due(v)?new sue({...v,element:v.motionValue.owner.current}):new hT(v);b.finished.then(()=>this.notifyFinished()).catch($i),this.pendingTimeline&&(this.stopTimeline=b.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=b}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),Yce()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const mue=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function pue(e){const t=mue.exec(e);if(!t)return[,];const[,n,r,i]=t;return[`--${n??r}`,i]}function aV(e,t,n=1){const[r,i]=pue(e);if(!r)return;const a=window.getComputedStyle(t).getPropertyValue(r);if(a){const o=a.trim();return A8(o)?parseFloat(o):o}return sT(i)?aV(i,t,n+1):i}function pT(e,t){return e?.[t]??e?.default??e}const sV=new Set(["width","height","top","left","right","bottom",...wd]),gue={test:e=>e==="auto",parse:e=>e},oV=e=>t=>t.test(e),lV=[xd,mt,Sa,Qs,oce,sce,gue],QD=e=>lV.find(oV(e));function vue(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||O8(e):!0}const yue=new Set(["brightness","contrast","saturate","opacity"]);function bue(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(oT)||[];if(!r)return e;const i=n.replace(r,"");let a=yue.has(t)?1:0;return r!==n&&(a*=100),t+"("+a+i+")"}const xue=/\b([a-z-]*)\(.*?\)/gu,_E={...vo,getAnimatableNone:e=>{const t=e.match(xue);return t?t.map(bue).join(" "):e}},JD={...xd,transform:Math.round},wue={rotate:Qs,rotateX:Qs,rotateY:Qs,rotateZ:Qs,scale:Ng,scaleX:Ng,scaleY:Ng,scaleZ:Ng,skew:Qs,skewX:Qs,skewY:Qs,distance:mt,translateX:mt,translateY:mt,translateZ:mt,x:mt,y:mt,z:mt,perspective:mt,transformPerspective:mt,opacity:Ph,originX:BD,originY:BD,originZ:mt},gT={borderWidth:mt,borderTopWidth:mt,borderRightWidth:mt,borderBottomWidth:mt,borderLeftWidth:mt,borderRadius:mt,radius:mt,borderTopLeftRadius:mt,borderTopRightRadius:mt,borderBottomRightRadius:mt,borderBottomLeftRadius:mt,width:mt,maxWidth:mt,height:mt,maxHeight:mt,top:mt,right:mt,bottom:mt,left:mt,padding:mt,paddingTop:mt,paddingRight:mt,paddingBottom:mt,paddingLeft:mt,margin:mt,marginTop:mt,marginRight:mt,marginBottom:mt,marginLeft:mt,backgroundPositionX:mt,backgroundPositionY:mt,...wue,zIndex:JD,fillOpacity:Ph,strokeOpacity:Ph,numOctaves:JD},_ue={...gT,color:Gn,backgroundColor:Gn,outlineColor:Gn,fill:Gn,stroke:Gn,borderColor:Gn,borderTopColor:Gn,borderRightColor:Gn,borderBottomColor:Gn,borderLeftColor:Gn,filter:_E,WebkitFilter:_E},cV=e=>_ue[e];function uV(e,t){let n=cV(e);return n!==_E&&(n=vo),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const Sue=new Set(["auto","none","0"]);function jue(e,t,n){let r=0,i;for(;r<e.length&&!i;){const a=e[r];typeof a=="string"&&!Sue.has(a)&&Mh(a).values.length&&(i=e[r]),r++}if(i&&n)for(const a of t)e[a]=uV(n,i)}class Eue extends mT{constructor(t,n,r,i,a){super(t,n,r,i,a,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let d=0;d<t.length;d++){let f=t[d];if(typeof f=="string"&&(f=f.trim(),sT(f))){const m=aV(f,n.current);m!==void 0&&(t[d]=m),d===t.length-1&&(this.finalKeyframe=f)}}if(this.resolveNoneKeyframes(),!sV.has(r)||t.length!==2)return;const[i,a]=t,o=QD(i),l=QD(a);if(o!==l)if(KD(o)&&KD(l))for(let d=0;d<t.length;d++){const f=t[d];typeof f=="string"&&(t[d]=parseFloat(f))}else _l[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let i=0;i<t.length;i++)(t[i]===null||vue(t[i]))&&r.push(i);r.length&&jue(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=_l[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&t.getValue(r,i).jump(i,!1)}measureEndState(){const{element:t,name:n,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const i=t.getValue(n);i&&i.jump(this.measuredOrigin,!1);const a=r.length-1,o=r[a];r[a]=_l[n](t.measureViewportBox(),window.getComputedStyle(t.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),this.removedTransforms?.length&&this.removedTransforms.forEach(([l,d])=>{t.getValue(l).set(d)}),this.resolveNoneKeyframes()}}function Nue(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let r=document;const i=n?.[e]??r.querySelectorAll(e);return i?Array.from(i):[]}return Array.from(e)}const dV=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function fV(e){return T8(e)&&"offsetHeight"in e}const ZD=30,Aue=e=>!isNaN(parseFloat(e));class Tue{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{const i=Gr.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const a of this.dependents)a.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=Gr.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=Aue(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new nT);const r=this.events[t].add(n);return t==="change"?()=>{r(),xn.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Gr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>ZD)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,ZD);return C8(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Tu(e,t){return new Tue(e,t)}const{schedule:vT}=z8(queueMicrotask,!1),Wi={x:!1,y:!1};function hV(){return Wi.x||Wi.y}function Oue(e){return e==="x"||e==="y"?Wi[e]?null:(Wi[e]=!0,()=>{Wi[e]=!1}):Wi.x||Wi.y?null:(Wi.x=Wi.y=!0,()=>{Wi.x=Wi.y=!1})}function mV(e,t){const n=Nue(e),r=new AbortController,i={passive:!0,...t,signal:r.signal};return[n,i,()=>r.abort()]}function eI(e){return!(e.pointerType==="touch"||hV())}function Cue(e,t,n={}){const[r,i,a]=mV(e,n),o=l=>{if(!eI(l))return;const{target:d}=l,f=t(d,l);if(typeof f!="function"||!d)return;const m=p=>{eI(p)&&(f(p),d.removeEventListener("pointerleave",m))};d.addEventListener("pointerleave",m,i)};return r.forEach(l=>{l.addEventListener("pointerenter",o,i)}),a}const pV=(e,t)=>t?e===t?!0:pV(e,t.parentElement):!1,yT=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,Rue=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Pue(e){return Rue.has(e.tagName)||e.tabIndex!==-1}const nv=new WeakSet;function tI(e){return t=>{t.key==="Enter"&&e(t)}}function Qw(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const Mue=(e,t)=>{const n=e.currentTarget;if(!n)return;const r=tI(()=>{if(nv.has(n))return;Qw(n,"down");const i=tI(()=>{Qw(n,"up")}),a=()=>Qw(n,"cancel");n.addEventListener("keyup",i,t),n.addEventListener("blur",a,t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)};function nI(e){return yT(e)&&!hV()}function kue(e,t,n={}){const[r,i,a]=mV(e,n),o=l=>{const d=l.currentTarget;if(!nI(l))return;nv.add(d);const f=t(d,l),m=(b,x)=>{window.removeEventListener("pointerup",p),window.removeEventListener("pointercancel",v),nv.has(d)&&nv.delete(d),nI(b)&&typeof f=="function"&&f(b,{success:x})},p=b=>{m(b,d===window||d===document||n.useGlobalTarget||pV(d,b.target))},v=b=>{m(b,!1)};window.addEventListener("pointerup",p,i),window.addEventListener("pointercancel",v,i)};return r.forEach(l=>{(n.useGlobalTarget?window:l).addEventListener("pointerdown",o,i),fV(l)&&(l.addEventListener("focus",f=>Mue(f,i)),!Pue(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),a}function gV(e){return T8(e)&&"ownerSVGElement"in e}function Due(e){return gV(e)&&e.tagName==="svg"}const Or=e=>!!(e&&e.getVelocity),Iue=[...lV,Gn,vo],$ue=e=>Iue.find(oV(e)),bT=_.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function rI(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Lue(...e){return t=>{let n=!1;const r=e.map(i=>{const a=rI(i,t);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let i=0;i<r.length;i++){const a=r[i];typeof a=="function"?a():rI(e[i],null)}}}}function Bue(...e){return _.useCallback(Lue(...e),e)}class que extends _.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=n.offsetParent,i=fV(r)&&r.offsetWidth||0,a=this.props.sizeRef.current;a.height=n.offsetHeight||0,a.width=n.offsetWidth||0,a.top=n.offsetTop,a.left=n.offsetLeft,a.right=i-a.width-a.left}return null}componentDidUpdate(){}render(){return this.props.children}}function zue({children:e,isPresent:t,anchorX:n,root:r}){const i=_.useId(),a=_.useRef(null),o=_.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:l}=_.useContext(bT),d=Bue(a,e?.ref);return _.useInsertionEffect(()=>{const{width:f,height:m,top:p,left:v,right:b}=o.current;if(t||!a.current||!f||!m)return;const x=n==="left"?`left: ${v}`:`right: ${b}`;a.current.dataset.motionPopId=i;const y=document.createElement("style");l&&(y.nonce=l);const w=r??document.head;return w.appendChild(y),y.sheet&&y.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${f}px !important;
            height: ${m}px !important;
            ${x}px !important;
            top: ${p}px !important;
          }
        `),()=>{w.contains(y)&&w.removeChild(y)}},[t]),u.jsx(que,{isPresent:t,childRef:a,sizeRef:o,children:_.cloneElement(e,{ref:d})})}const Uue=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:a,mode:o,anchorX:l,root:d})=>{const f=XA(Fue),m=_.useId();let p=!0,v=_.useMemo(()=>(p=!1,{id:m,initial:t,isPresent:n,custom:i,onExitComplete:b=>{f.set(b,!0);for(const x of f.values())if(!x)return;r&&r()},register:b=>(f.set(b,!1),()=>f.delete(b))}),[n,f,r]);return a&&p&&(v={...v}),_.useMemo(()=>{f.forEach((b,x)=>f.set(x,!1))},[n]),_.useEffect(()=>{!n&&!f.size&&r&&r()},[n]),o==="popLayout"&&(e=u.jsx(zue,{isPresent:n,anchorX:l,root:d,children:e})),u.jsx(o0.Provider,{value:v,children:e})};function Fue(){return new Map}function vV(e=!0){const t=_.useContext(o0);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=t,a=_.useId();_.useEffect(()=>{if(e)return i(a)},[e]);const o=_.useCallback(()=>e&&r&&r(a),[a,r,e]);return!n&&r?[!1,o]:[!0]}const Ag=e=>e.key||"";function iI(e){const t=[];return _.Children.forEach(e,n=>{_.isValidElement(n)&&t.push(n)}),t}const Ov=({children:e,custom:t,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:a="sync",propagate:o=!1,anchorX:l="left",root:d})=>{const[f,m]=vV(o),p=_.useMemo(()=>iI(e),[e]),v=o&&!f?[]:p.map(Ag),b=_.useRef(!0),x=_.useRef(p),y=XA(()=>new Map),[w,E]=_.useState(p),[N,j]=_.useState(p);N8(()=>{b.current=!1,x.current=p;for(let C=0;C<N.length;C++){const R=Ag(N[C]);v.includes(R)?y.delete(R):y.get(R)!==!0&&y.set(R,!1)}},[N,v.length,v.join("-")]);const O=[];if(p!==w){let C=[...p];for(let R=0;R<N.length;R++){const M=N[R],k=Ag(M);v.includes(k)||(C.splice(R,0,M),O.push(M))}return a==="wait"&&O.length&&(C=O),j(iI(C)),E(p),null}const{forceRender:T}=_.useContext(YA);return u.jsx(u.Fragment,{children:N.map(C=>{const R=Ag(C),M=o&&!f?!1:p===N||v.includes(R),k=()=>{if(y.has(R))y.set(R,!0);else return;let I=!0;y.forEach(B=>{B||(I=!1)}),I&&(T?.(),j(x.current),o&&m?.(),r&&r())};return u.jsx(Uue,{isPresent:M,initial:!b.current||n?void 0:!1,custom:t,presenceAffectsLayout:i,mode:a,root:d,onExitComplete:M?void 0:k,anchorX:l,children:C},R)})})},yV=_.createContext({strict:!1}),aI={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ou={};for(const e in aI)Ou[e]={isEnabled:t=>aI[e].some(n=>!!t[n])};function Vue(e){for(const t in e)Ou[t]={...Ou[t],...e[t]}}const Hue=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Cv(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||Hue.has(e)}let bV=e=>!Cv(e);function Gue(e){typeof e=="function"&&(bV=t=>t.startsWith("on")?!Cv(t):e(t))}try{Gue(require("@emotion/is-prop-valid").default)}catch{}function Kue(e,t,n){const r={};for(const i in e)i==="values"&&typeof e.values=="object"||(bV(i)||n===!0&&Cv(i)||!t&&!Cv(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}const l0=_.createContext({});function c0(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function kh(e){return typeof e=="string"||Array.isArray(e)}const xT=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],wT=["initial",...xT];function u0(e){return c0(e.animate)||wT.some(t=>kh(e[t]))}function xV(e){return!!(u0(e)||e.variants)}function Wue(e,t){if(u0(e)){const{initial:n,animate:r}=e;return{initial:n===!1||kh(n)?n:void 0,animate:kh(r)?r:void 0}}return e.inherit!==!1?t:{}}function Yue(e){const{initial:t,animate:n}=Wue(e,_.useContext(l0));return _.useMemo(()=>({initial:t,animate:n}),[sI(t),sI(n)])}function sI(e){return Array.isArray(e)?e.join(" "):e}const Dh={};function Xue(e){for(const t in e)Dh[t]=e[t],aT(t)&&(Dh[t].isCSSVariable=!0)}function wV(e,{layout:t,layoutId:n}){return _d.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Dh[e]||e==="opacity")}const Que={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Jue=wd.length;function Zue(e,t,n){let r="",i=!0;for(let a=0;a<Jue;a++){const o=wd[a],l=e[o];if(l===void 0)continue;let d=!0;if(typeof l=="number"?d=l===(o.startsWith("scale")?1:0):d=parseFloat(l)===0,!d||n){const f=dV(l,gT[o]);if(!d){i=!1;const m=Que[o]||o;r+=`${m}(${f}) `}n&&(t[o]=f)}}return r=r.trim(),n?r=n(t,i?"":r):i&&(r="none"),r}function _T(e,t,n){const{style:r,vars:i,transformOrigin:a}=e;let o=!1,l=!1;for(const d in t){const f=t[d];if(_d.has(d)){o=!0;continue}else if(aT(d)){i[d]=f;continue}else{const m=dV(f,gT[d]);d.startsWith("origin")?(l=!0,a[d]=m):r[d]=m}}if(t.transform||(o||n?r.transform=Zue(t,e.transform,n):r.transform&&(r.transform="none")),l){const{originX:d="50%",originY:f="50%",originZ:m=0}=a;r.transformOrigin=`${d} ${f} ${m}`}}const ST=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function _V(e,t,n){for(const r in t)!Or(t[r])&&!wV(r,n)&&(e[r]=t[r])}function ede({transformTemplate:e},t){return _.useMemo(()=>{const n=ST();return _T(n,t,e),Object.assign({},n.vars,n.style)},[t])}function tde(e,t){const n=e.style||{},r={};return _V(r,n,e),Object.assign(r,ede(e,t)),r}function nde(e,t){const n={},r=tde(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const rde={offset:"stroke-dashoffset",array:"stroke-dasharray"},ide={offset:"strokeDashoffset",array:"strokeDasharray"};function ade(e,t,n=1,r=0,i=!0){e.pathLength=1;const a=i?rde:ide;e[a.offset]=mt.transform(-r);const o=mt.transform(t),l=mt.transform(n);e[a.array]=`${o} ${l}`}function SV(e,{attrX:t,attrY:n,attrScale:r,pathLength:i,pathSpacing:a=1,pathOffset:o=0,...l},d,f,m){if(_T(e,l,f),d){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:p,style:v}=e;p.transform&&(v.transform=p.transform,delete p.transform),(v.transform||p.transformOrigin)&&(v.transformOrigin=p.transformOrigin??"50% 50%",delete p.transformOrigin),v.transform&&(v.transformBox=m?.transformBox??"fill-box",delete p.transformBox),t!==void 0&&(p.x=t),n!==void 0&&(p.y=n),r!==void 0&&(p.scale=r),i!==void 0&&ade(p,i,a,o,!1)}const jV=()=>({...ST(),attrs:{}}),EV=e=>typeof e=="string"&&e.toLowerCase()==="svg";function sde(e,t,n,r){const i=_.useMemo(()=>{const a=jV();return SV(a,t,EV(r),e.transformTemplate,e.style),{...a.attrs,style:{...a.style}}},[t]);if(e.style){const a={};_V(a,e.style,e),i.style={...a,...i.style}}return i}const ode=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function jT(e){return typeof e!="string"||e.includes("-")?!1:!!(ode.indexOf(e)>-1||/[A-Z]/u.test(e))}function lde(e,t,n,{latestValues:r},i,a=!1){const l=(jT(e)?sde:nde)(t,r,i,e),d=Kue(t,typeof e=="string",a),f=e!==_.Fragment?{...d,...l,ref:n}:{},{children:m}=t,p=_.useMemo(()=>Or(m)?m.get():m,[m]);return _.createElement(e,{...f,children:p})}function oI(e){const t=[{},{}];return e?.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function ET(e,t,n,r){if(typeof t=="function"){const[i,a]=oI(r);t=t(n!==void 0?n:e.custom,i,a)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[i,a]=oI(r);t=t(n!==void 0?n:e.custom,i,a)}return t}function rv(e){return Or(e)?e.get():e}function cde({scrapeMotionValuesFromProps:e,createRenderState:t},n,r,i){return{latestValues:ude(n,r,i,e),renderState:t()}}function ude(e,t,n,r){const i={},a=r(e,{});for(const v in a)i[v]=rv(a[v]);let{initial:o,animate:l}=e;const d=u0(e),f=xV(e);t&&f&&!d&&e.inherit!==!1&&(o===void 0&&(o=t.initial),l===void 0&&(l=t.animate));let m=n?n.initial===!1:!1;m=m||o===!1;const p=m?l:o;if(p&&typeof p!="boolean"&&!c0(p)){const v=Array.isArray(p)?p:[p];for(let b=0;b<v.length;b++){const x=ET(e,v[b]);if(x){const{transitionEnd:y,transition:w,...E}=x;for(const N in E){let j=E[N];if(Array.isArray(j)){const O=m?j.length-1:0;j=j[O]}j!==null&&(i[N]=j)}for(const N in y)i[N]=y[N]}}}return i}const NV=e=>(t,n)=>{const r=_.useContext(l0),i=_.useContext(o0),a=()=>cde(e,t,r,i);return n?a():XA(a)};function NT(e,t,n){const{style:r}=e,i={};for(const a in r)(Or(r[a])||t.style&&Or(t.style[a])||wV(a,e)||n?.getValue(a)?.liveStyle!==void 0)&&(i[a]=r[a]);return i}const dde=NV({scrapeMotionValuesFromProps:NT,createRenderState:ST});function AV(e,t,n){const r=NT(e,t,n);for(const i in e)if(Or(e[i])||Or(t[i])){const a=wd.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[a]=e[i]}return r}const fde=NV({scrapeMotionValuesFromProps:AV,createRenderState:jV}),hde=Symbol.for("motionComponentSymbol");function iu(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function mde(e,t,n){return _.useCallback(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):iu(n)&&(n.current=r))},[t])}const AT=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),pde="framerAppearId",TV="data-"+AT(pde),OV=_.createContext({});function gde(e,t,n,r,i){const{visualElement:a}=_.useContext(l0),o=_.useContext(yV),l=_.useContext(o0),d=_.useContext(bT).reducedMotion,f=_.useRef(null);r=r||o.renderer,!f.current&&r&&(f.current=r(e,{visualState:t,parent:a,props:n,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:d}));const m=f.current,p=_.useContext(OV);m&&!m.projection&&i&&(m.type==="html"||m.type==="svg")&&vde(f.current,n,i,p);const v=_.useRef(!1);_.useInsertionEffect(()=>{m&&v.current&&m.update(n,l)});const b=n[TV],x=_.useRef(!!b&&!window.MotionHandoffIsComplete?.(b)&&window.MotionHasOptimisedAnimation?.(b));return N8(()=>{m&&(v.current=!0,window.MotionIsMounted=!0,m.updateFeatures(),m.scheduleRenderMicrotask(),x.current&&m.animationState&&m.animationState.animateChanges())}),_.useEffect(()=>{m&&(!x.current&&m.animationState&&m.animationState.animateChanges(),x.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(b)}),x.current=!1),m.enteringChildren=void 0)}),m}function vde(e,t,n,r){const{layoutId:i,layout:a,drag:o,dragConstraints:l,layoutScroll:d,layoutRoot:f,layoutCrossfade:m}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:CV(e.parent)),e.projection.setOptions({layoutId:i,layout:a,alwaysMeasureLayout:!!o||l&&iu(l),visualElement:e,animationType:typeof a=="string"?a:"both",initialPromotionConfig:r,crossfade:m,layoutScroll:d,layoutRoot:f})}function CV(e){if(e)return e.options.allowProjection!==!1?e.projection:CV(e.parent)}function Jw(e,{forwardMotionProps:t=!1}={},n,r){n&&Vue(n);const i=jT(e)?fde:dde;function a(l,d){let f;const m={..._.useContext(bT),...l,layoutId:yde(l)},{isStatic:p}=m,v=Yue(l),b=i(l,p);if(!p&&QA){bde();const x=xde(m);f=x.MeasureLayout,v.visualElement=gde(e,b,m,r,x.ProjectionNode)}return u.jsxs(l0.Provider,{value:v,children:[f&&v.visualElement?u.jsx(f,{visualElement:v.visualElement,...m}):null,lde(e,l,mde(b,v.visualElement,d),b,p,t)]})}a.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const o=_.forwardRef(a);return o[hde]=e,o}function yde({layoutId:e}){const t=_.useContext(YA).id;return t&&e!==void 0?t+"-"+e:e}function bde(e,t){_.useContext(yV).strict}function xde(e){const{drag:t,layout:n}=Ou;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:t?.isEnabled(e)||n?.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function wde(e,t){if(typeof Proxy>"u")return Jw;const n=new Map,r=(a,o)=>Jw(a,o,e,t),i=(a,o)=>r(a,o);return new Proxy(i,{get:(a,o)=>o==="create"?r:(n.has(o)||n.set(o,Jw(o,void 0,e,t)),n.get(o))})}function RV({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function _de({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function Sde(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Zw(e){return e===void 0||e===1}function SE({scale:e,scaleX:t,scaleY:n}){return!Zw(e)||!Zw(t)||!Zw(n)}function il(e){return SE(e)||PV(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function PV(e){return lI(e.x)||lI(e.y)}function lI(e){return e&&e!=="0%"}function Rv(e,t,n){const r=e-n,i=t*r;return n+i}function cI(e,t,n,r,i){return i!==void 0&&(e=Rv(e,i,r)),Rv(e,n,r)+t}function jE(e,t=0,n=1,r,i){e.min=cI(e.min,t,n,r,i),e.max=cI(e.max,t,n,r,i)}function MV(e,{x:t,y:n}){jE(e.x,t.translate,t.scale,t.originPoint),jE(e.y,n.translate,n.scale,n.originPoint)}const uI=.999999999999,dI=1.0000000000001;function jde(e,t,n,r=!1){const i=n.length;if(!i)return;t.x=t.y=1;let a,o;for(let l=0;l<i;l++){a=n[l],o=a.projectionDelta;const{visualElement:d}=a.options;d&&d.props.style&&d.props.style.display==="contents"||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&su(e,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,MV(e,o)),r&&il(a.latestValues)&&su(e,a.latestValues))}t.x<dI&&t.x>uI&&(t.x=1),t.y<dI&&t.y>uI&&(t.y=1)}function au(e,t){e.min=e.min+t,e.max=e.max+t}function fI(e,t,n,r,i=.5){const a=jn(e.min,e.max,i);jE(e,t,n,a,r)}function su(e,t){fI(e.x,t.x,t.scaleX,t.scale,t.originX),fI(e.y,t.y,t.scaleY,t.scale,t.originY)}function kV(e,t){return RV(Sde(e.getBoundingClientRect(),t))}function Ede(e,t,n){const r=kV(e,n),{scroll:i}=t;return i&&(au(r.x,i.offset.x),au(r.y,i.offset.y)),r}const hI=()=>({translate:0,scale:1,origin:0,originPoint:0}),ou=()=>({x:hI(),y:hI()}),mI=()=>({min:0,max:0}),Dn=()=>({x:mI(),y:mI()}),EE={current:null},DV={current:!1};function Nde(){if(DV.current=!0,!!QA)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>EE.current=e.matches;e.addEventListener("change",t),t()}else EE.current=!1}const Ade=new WeakMap;function Tde(e,t,n){for(const r in t){const i=t[r],a=n[r];if(Or(i))e.addValue(r,i);else if(Or(a))e.addValue(r,Tu(i,{owner:e}));else if(a!==i)if(e.hasValue(r)){const o=e.getValue(r);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=e.getStaticValue(r);e.addValue(r,Tu(o!==void 0?o:i,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const pI=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Ode{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:a,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=mT,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const v=Gr.now();this.renderScheduledAt<v&&(this.renderScheduledAt=v,xn.render(this.render,!1,!0))};const{latestValues:d,renderState:f}=o;this.latestValues=d,this.baseTarget={...d},this.initialValues=n.initial?{...d}:{},this.renderState=f,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=l,this.blockInitialAnimation=!!a,this.isControllingVariants=u0(n),this.isVariantNode=xV(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:m,...p}=this.scrapeMotionValuesFromProps(n,{},this);for(const v in p){const b=p[v];d[v]!==void 0&&Or(b)&&b.set(d[v])}}mount(t){this.current=t,Ade.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),DV.current||Nde(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:EE.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),go(this.notifyUpdate),go(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=_d.has(t);r&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&xn.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{i(),a&&a(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Ou){const n=Ou[t];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[t]&&i&&r(this.props)&&(this.features[t]=new i(this)),this.features[t]){const a=this.features[t];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Dn()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<pI.length;r++){const i=pI[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const a="on"+i,o=t[a];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=Tde(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=Tu(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(A8(r)||O8(r))?r=parseFloat(r):!$ue(r)&&vo.test(n)&&(r=uV(t,n)),this.setBaseTarget(t,Or(r)?r.get():r)),Or(r)?r.get():r}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const a=ET(this.props,n,this.presenceContext?.custom);a&&(r=a[t])}if(n&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!Or(i)?i:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new nT),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){vT.render(this.render)}}class IV extends Ode{constructor(){super(...arguments),this.KeyframeResolver=Eue}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Or(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function $V(e,{style:t,vars:n},r,i){const a=e.style;let o;for(o in t)a[o]=t[o];i?.applyProjectionStyles(a,r);for(o in n)a.setProperty(o,n[o])}function Cde(e){return window.getComputedStyle(e)}class Rde extends IV{constructor(){super(...arguments),this.type="html",this.renderInstance=$V}readValueFromInstance(t,n){if(_d.has(n))return this.projection?.isProjecting?gE(n):Vce(t,n);{const r=Cde(t),i=(aT(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:n}){return kV(t,n)}build(t,n,r){_T(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return NT(t,n,r)}}const LV=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Pde(e,t,n,r){$V(e,t,void 0,r);for(const i in t.attrs)e.setAttribute(LV.has(i)?i:AT(i),t.attrs[i])}class Mde extends IV{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Dn}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(_d.has(n)){const r=cV(n);return r&&r.default||0}return n=LV.has(n)?n:AT(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return AV(t,n,r)}build(t,n,r){SV(t,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(t,n,r,i){Pde(t,n,r,i)}mount(t){this.isSVGTag=EV(t.tagName),super.mount(t)}}const kde=(e,t)=>jT(e)?new Mde(t):new Rde(t,{allowProjection:e!==_.Fragment});function yu(e,t,n){const r=e.getProps();return ET(r,t,n!==void 0?n:r.custom,e)}const NE=e=>Array.isArray(e);function Dde(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Tu(n))}function Ide(e){return NE(e)?e[e.length-1]||0:e}function $de(e,t){const n=yu(e,t);let{transitionEnd:r={},transition:i={},...a}=n||{};a={...a,...r};for(const o in a){const l=Ide(a[o]);Dde(e,o,l)}}function Lde(e){return!!(Or(e)&&e.add)}function AE(e,t){const n=e.getValue("willChange");if(Lde(n))return n.add(t);if(!n&&hs.WillChange){const r=new hs.WillChange("auto");e.addValue("willChange",r),r.add(t)}}function BV(e){return e.props[TV]}const Bde=e=>e!==null;function qde(e,{repeat:t,repeatType:n="loop"},r){const i=e.filter(Bde),a=t&&n!=="loop"&&t%2===1?0:i.length-1;return i[a]}const zde={type:"spring",stiffness:500,damping:25,restSpeed:10},Ude=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),Fde={type:"keyframes",duration:.8},Vde={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Hde=(e,{keyframes:t})=>t.length>2?Fde:_d.has(e)?e.startsWith("scale")?Ude(t[1]):zde:Vde;function Gde({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:a,repeatType:o,repeatDelay:l,from:d,elapsed:f,...m}){return!!Object.keys(m).length}const TT=(e,t,n,r={},i,a)=>o=>{const l=pT(r,e)||{},d=l.delay||r.delay||0;let{elapsed:f=0}=r;f=f-_a(d);const m={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...l,delay:-f,onUpdate:v=>{t.set(v),l.onUpdate&&l.onUpdate(v)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:a?void 0:i};Gde(l)||Object.assign(m,Hde(e,m)),m.duration&&(m.duration=_a(m.duration)),m.repeatDelay&&(m.repeatDelay=_a(m.repeatDelay)),m.from!==void 0&&(m.keyframes[0]=m.from);let p=!1;if((m.type===!1||m.duration===0&&!m.repeatDelay)&&(wE(m),m.delay===0&&(p=!0)),(hs.instantAnimations||hs.skipAnimations)&&(p=!0,wE(m),m.delay=0),m.allowFlatten=!l.type&&!l.ease,p&&!a&&t.get()!==void 0){const v=qde(m.keyframes,l);if(v!==void 0){xn.update(()=>{m.onUpdate(v),m.onComplete()});return}}return l.isSync?new hT(m):new hue(m)};function Kde({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function qV(e,t,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:a=e.getDefaultTransition(),transitionEnd:o,...l}=t;r&&(a=r);const d=[],f=i&&e.animationState&&e.animationState.getState()[i];for(const m in l){const p=e.getValue(m,e.latestValues[m]??null),v=l[m];if(v===void 0||f&&Kde(f,m))continue;const b={delay:n,...pT(a||{},m)},x=p.get();if(x!==void 0&&!p.isAnimating&&!Array.isArray(v)&&v===x&&!b.velocity)continue;let y=!1;if(window.MotionHandoffAnimation){const E=BV(e);if(E){const N=window.MotionHandoffAnimation(E,m,xn);N!==null&&(b.startTime=N,y=!0)}}AE(e,m),p.start(TT(m,p,v,e.shouldReduceMotion&&sV.has(m)?{type:!1}:b,e,y));const w=p.animation;w&&d.push(w)}return o&&Promise.all(d).then(()=>{xn.update(()=>{o&&$de(e,o)})}),d}function zV(e,t,n,r=0,i=1){const a=Array.from(e).sort((f,m)=>f.sortNodePosition(m)).indexOf(t),o=e.size,l=(o-1)*r;return typeof n=="function"?n(a,o):i===1?a*r:l-a*r}function TE(e,t,n={}){const r=yu(e,t,n.type==="exit"?e.presenceContext?.custom:void 0);let{transition:i=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const a=r?()=>Promise.all(qV(e,r,n)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(d=0)=>{const{delayChildren:f=0,staggerChildren:m,staggerDirection:p}=i;return Wde(e,t,d,f,m,p,n)}:()=>Promise.resolve(),{when:l}=i;if(l){const[d,f]=l==="beforeChildren"?[a,o]:[o,a];return d().then(()=>f())}else return Promise.all([a(),o(n.delay)])}function Wde(e,t,n=0,r=0,i=0,a=1,o){const l=[];for(const d of e.variantChildren)d.notify("AnimationStart",t),l.push(TE(d,t,{...o,delay:n+(typeof r=="function"?0:r)+zV(e.variantChildren,d,r,i,a)}).then(()=>d.notify("AnimationComplete",t)));return Promise.all(l)}function Yde(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const i=t.map(a=>TE(e,a,n));r=Promise.all(i)}else if(typeof t=="string")r=TE(e,t,n);else{const i=typeof t=="function"?yu(e,t,n.custom):t;r=Promise.all(qV(e,i,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}function UV(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}const Xde=wT.length;function FV(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?FV(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<Xde;n++){const r=wT[n],i=e.props[r];(kh(i)||i===!1)&&(t[r]=i)}return t}const Qde=[...xT].reverse(),Jde=xT.length;function Zde(e){return t=>Promise.all(t.map(({animation:n,options:r})=>Yde(e,n,r)))}function efe(e){let t=Zde(e),n=gI(),r=!0;const i=d=>(f,m)=>{const p=yu(e,m,d==="exit"?e.presenceContext?.custom:void 0);if(p){const{transition:v,transitionEnd:b,...x}=p;f={...f,...x,...b}}return f};function a(d){t=d(e)}function o(d){const{props:f}=e,m=FV(e.parent)||{},p=[],v=new Set;let b={},x=1/0;for(let w=0;w<Jde;w++){const E=Qde[w],N=n[E],j=f[E]!==void 0?f[E]:m[E],O=kh(j),T=E===d?N.isActive:null;T===!1&&(x=w);let C=j===m[E]&&j!==f[E]&&O;if(C&&r&&e.manuallyAnimateOnMount&&(C=!1),N.protectedKeys={...b},!N.isActive&&T===null||!j&&!N.prevProp||c0(j)||typeof j=="boolean")continue;const R=tfe(N.prevProp,j);let M=R||E===d&&N.isActive&&!C&&O||w>x&&O,k=!1;const I=Array.isArray(j)?j:[j];let B=I.reduce(i(E),{});T===!1&&(B={});const{prevResolvedValues:$={}}=N,F={...$,...B},H=G=>{M=!0,v.has(G)&&(k=!0,v.delete(G)),N.needsAnimating[G]=!0;const z=e.getValue(G);z&&(z.liveStyle=!1)};for(const G in F){const z=B[G],X=$[G];if(b.hasOwnProperty(G))continue;let ue=!1;NE(z)&&NE(X)?ue=!UV(z,X):ue=z!==X,ue?z!=null?H(G):v.add(G):z!==void 0&&v.has(G)?H(G):N.protectedKeys[G]=!0}N.prevProp=j,N.prevResolvedValues=B,N.isActive&&(b={...b,...B}),r&&e.blockInitialAnimation&&(M=!1);const U=C&&R;M&&(!U||k)&&p.push(...I.map(G=>{const z={type:E};if(typeof G=="string"&&r&&!U&&e.manuallyAnimateOnMount&&e.parent){const{parent:X}=e,ue=yu(X,G);if(X.enteringChildren&&ue){const{delayChildren:V}=ue.transition||{};z.delay=zV(X.enteringChildren,e,V)}}return{animation:G,options:z}}))}if(v.size){const w={};if(typeof f.initial!="boolean"){const E=yu(e,Array.isArray(f.initial)?f.initial[0]:f.initial);E&&E.transition&&(w.transition=E.transition)}v.forEach(E=>{const N=e.getBaseTarget(E),j=e.getValue(E);j&&(j.liveStyle=!0),w[E]=N??null}),p.push({animation:w})}let y=!!p.length;return r&&(f.initial===!1||f.initial===f.animate)&&!e.manuallyAnimateOnMount&&(y=!1),r=!1,y?t(p):Promise.resolve()}function l(d,f){if(n[d].isActive===f)return Promise.resolve();e.variantChildren?.forEach(p=>p.animationState?.setActive(d,f)),n[d].isActive=f;const m=o(d);for(const p in n)n[p].protectedKeys={};return m}return{animateChanges:o,setActive:l,setAnimateFunction:a,getState:()=>n,reset:()=>{n=gI()}}}function tfe(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!UV(t,e):!1}function Zo(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function gI(){return{animate:Zo(!0),whileInView:Zo(),whileHover:Zo(),whileTap:Zo(),whileDrag:Zo(),whileFocus:Zo(),exit:Zo()}}class So{constructor(t){this.isMounted=!1,this.node=t}update(){}}class nfe extends So{constructor(t){super(t),t.animationState||(t.animationState=efe(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();c0(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let rfe=0;class ife extends So{constructor(){super(...arguments),this.id=rfe++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const i=this.node.animationState.setActive("exit",!t);n&&!t&&i.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const afe={animation:{Feature:nfe},exit:{Feature:ife}};function Ih(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function Pm(e){return{point:{x:e.pageX,y:e.pageY}}}const sfe=e=>t=>yT(t)&&e(t,Pm(t));function oh(e,t,n,r){return Ih(e,t,sfe(n),r)}const VV=1e-4,ofe=1-VV,lfe=1+VV,HV=.01,cfe=0-HV,ufe=0+HV;function Dr(e){return e.max-e.min}function dfe(e,t,n){return Math.abs(e-t)<=n}function vI(e,t,n,r=.5){e.origin=r,e.originPoint=jn(t.min,t.max,e.origin),e.scale=Dr(n)/Dr(t),e.translate=jn(n.min,n.max,e.origin)-e.originPoint,(e.scale>=ofe&&e.scale<=lfe||isNaN(e.scale))&&(e.scale=1),(e.translate>=cfe&&e.translate<=ufe||isNaN(e.translate))&&(e.translate=0)}function lh(e,t,n,r){vI(e.x,t.x,n.x,r?r.originX:void 0),vI(e.y,t.y,n.y,r?r.originY:void 0)}function yI(e,t,n){e.min=n.min+t.min,e.max=e.min+Dr(t)}function ffe(e,t,n){yI(e.x,t.x,n.x),yI(e.y,t.y,n.y)}function bI(e,t,n){e.min=t.min-n.min,e.max=e.min+Dr(t)}function ch(e,t,n){bI(e.x,t.x,n.x),bI(e.y,t.y,n.y)}function Ci(e){return[e("x"),e("y")]}const GV=({current:e})=>e?e.ownerDocument.defaultView:null,xI=(e,t)=>Math.abs(e-t);function hfe(e,t){const n=xI(e.x,t.x),r=xI(e.y,t.y);return Math.sqrt(n**2+r**2)}class KV{constructor(t,n,{transformPagePoint:r,contextWindow:i=window,dragSnapToOrigin:a=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=t_(this.lastMoveEventInfo,this.history),b=this.startEvent!==null,x=hfe(v.offset,{x:0,y:0})>=this.distanceThreshold;if(!b&&!x)return;const{point:y}=v,{timestamp:w}=br;this.history.push({...y,timestamp:w});const{onStart:E,onMove:N}=this.handlers;b||(E&&E(this.lastMoveEvent,v),this.startEvent=this.lastMoveEvent),N&&N(this.lastMoveEvent,v)},this.handlePointerMove=(v,b)=>{this.lastMoveEvent=v,this.lastMoveEventInfo=e_(b,this.transformPagePoint),xn.update(this.updatePoint,!0)},this.handlePointerUp=(v,b)=>{this.end();const{onEnd:x,onSessionEnd:y,resumeAnimation:w}=this.handlers;if(this.dragSnapToOrigin&&w&&w(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const E=t_(v.type==="pointercancel"?this.lastMoveEventInfo:e_(b,this.transformPagePoint),this.history);this.startEvent&&x&&x(v,E),y&&y(v,E)},!yT(t))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=o,this.contextWindow=i||window;const l=Pm(t),d=e_(l,this.transformPagePoint),{point:f}=d,{timestamp:m}=br;this.history=[{...f,timestamp:m}];const{onSessionStart:p}=n;p&&p(t,t_(d,this.history)),this.removeListeners=Om(oh(this.contextWindow,"pointermove",this.handlePointerMove),oh(this.contextWindow,"pointerup",this.handlePointerUp),oh(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),go(this.updatePoint)}}function e_(e,t){return t?{point:t(e.point)}:e}function wI(e,t){return{x:e.x-t.x,y:e.y-t.y}}function t_({point:e},t){return{point:e,delta:wI(e,WV(t)),offset:wI(e,mfe(t)),velocity:pfe(t,.1)}}function mfe(e){return e[0]}function WV(e){return e[e.length-1]}function pfe(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const i=WV(e);for(;n>=0&&(r=e[n],!(i.timestamp-r.timestamp>_a(t)));)n--;if(!r)return{x:0,y:0};const a=ki(i.timestamp-r.timestamp);if(a===0)return{x:0,y:0};const o={x:(i.x-r.x)/a,y:(i.y-r.y)/a};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function gfe(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?jn(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?jn(n,e,r.max):Math.min(e,n)),e}function _I(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function vfe(e,{top:t,left:n,bottom:r,right:i}){return{x:_I(e.x,n,i),y:_I(e.y,t,r)}}function SI(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function yfe(e,t){return{x:SI(e.x,t.x),y:SI(e.y,t.y)}}function bfe(e,t){let n=.5;const r=Dr(e),i=Dr(t);return i>r?n=Rh(t.min,t.max-r,e.min):r>i&&(n=Rh(e.min,e.max-i,t.min)),fs(0,1,n)}function xfe(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const OE=.35;function wfe(e=OE){return e===!1?e=0:e===!0&&(e=OE),{x:jI(e,"left","right"),y:jI(e,"top","bottom")}}function jI(e,t,n){return{min:EI(e,t),max:EI(e,n)}}function EI(e,t){return typeof e=="number"?e:e[t]||0}const _fe=new WeakMap;class Sfe{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Dn(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const a=p=>{const{dragSnapToOrigin:v}=this.getProps();v?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Pm(p).point)},o=(p,v)=>{const{drag:b,dragPropagation:x,onDragStart:y}=this.getProps();if(b&&!x&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Oue(b),!this.openDragLock))return;this.latestPointerEvent=p,this.latestPanInfo=v,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ci(E=>{let N=this.getAxisMotionValue(E).get()||0;if(Sa.test(N)){const{projection:j}=this.visualElement;if(j&&j.layout){const O=j.layout.layoutBox[E];O&&(N=Dr(O)*(parseFloat(N)/100))}}this.originPoint[E]=N}),y&&xn.postRender(()=>y(p,v)),AE(this.visualElement,"transform");const{animationState:w}=this.visualElement;w&&w.setActive("whileDrag",!0)},l=(p,v)=>{this.latestPointerEvent=p,this.latestPanInfo=v;const{dragPropagation:b,dragDirectionLock:x,onDirectionLock:y,onDrag:w}=this.getProps();if(!b&&!this.openDragLock)return;const{offset:E}=v;if(x&&this.currentDirection===null){this.currentDirection=jfe(E),this.currentDirection!==null&&y&&y(this.currentDirection);return}this.updateAxis("x",v.point,E),this.updateAxis("y",v.point,E),this.visualElement.render(),w&&w(p,v)},d=(p,v)=>{this.latestPointerEvent=p,this.latestPanInfo=v,this.stop(p,v),this.latestPointerEvent=null,this.latestPanInfo=null},f=()=>Ci(p=>this.getAnimationState(p)==="paused"&&this.getAxisMotionValue(p).animation?.play()),{dragSnapToOrigin:m}=this.getProps();this.panSession=new KV(t,{onSessionStart:a,onStart:o,onMove:l,onSessionEnd:d,resumeAnimation:f},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:m,distanceThreshold:r,contextWindow:GV(this.visualElement)})}stop(t,n){const r=t||this.latestPointerEvent,i=n||this.latestPanInfo,a=this.isDragging;if(this.cancel(),!a||!i||!r)return;const{velocity:o}=i;this.startAnimation(o);const{onDragEnd:l}=this.getProps();l&&xn.postRender(()=>l(r,i))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:i}=this.getProps();if(!r||!Tg(t,i,this.currentDirection))return;const a=this.getAxisMotionValue(t);let o=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(o=gfe(o,this.constraints[t],this.elastic[t])),a.set(o)}resolveConstraints(){const{dragConstraints:t,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,i=this.constraints;t&&iu(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=vfe(r.layoutBox,t):this.constraints=!1,this.elastic=wfe(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Ci(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=xfe(r.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!iu(t))return!1;const r=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const a=Ede(r,i.root,this.visualElement.getTransformPagePoint());let o=yfe(i.layout.layoutBox,a);if(n){const l=n(_de(o));this.hasMutatedConstraints=!!l,l&&(o=RV(l))}return o}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:a,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),d=this.constraints||{},f=Ci(m=>{if(!Tg(m,n,this.currentDirection))return;let p=d&&d[m]||{};o&&(p={min:0,max:0});const v=i?200:1e6,b=i?40:1e7,x={type:"inertia",velocity:r?t[m]:0,bounceStiffness:v,bounceDamping:b,timeConstant:750,restDelta:1,restSpeed:10,...a,...p};return this.startAxisValueAnimation(m,x)});return Promise.all(f).then(l)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return AE(this.visualElement,t),r.start(TT(t,r,0,n,this.visualElement,!1))}stopAnimation(){Ci(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Ci(t=>this.getAxisMotionValue(t).animation?.pause())}getAnimationState(t){return this.getAxisMotionValue(t).animation?.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){Ci(n=>{const{drag:r}=this.getProps();if(!Tg(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,a=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:l}=i.layout.layoutBox[n];a.set(t[n]-jn(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!iu(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Ci(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const d=l.get();i[o]=bfe({min:d,max:d},this.constraints[o])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Ci(o=>{if(!Tg(o,t,null))return;const l=this.getAxisMotionValue(o),{min:d,max:f}=this.constraints[o];l.set(jn(d,f,i[o]))})}addListeners(){if(!this.visualElement.current)return;_fe.set(this.visualElement,this);const t=this.visualElement.current,n=oh(t,"pointerdown",d=>{const{drag:f,dragListener:m=!0}=this.getProps();f&&m&&this.start(d)}),r=()=>{const{dragConstraints:d}=this.getProps();iu(d)&&d.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,a=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),xn.read(r);const o=Ih(window,"resize",()=>this.scalePositionWithinConstraints()),l=i.addEventListener("didUpdate",(({delta:d,hasLayoutChanged:f})=>{this.isDragging&&f&&(Ci(m=>{const p=this.getAxisMotionValue(m);p&&(this.originPoint[m]+=d[m].translate,p.set(p.get()+d[m].translate))}),this.visualElement.render())}));return()=>{o(),n(),a(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:a=!1,dragElastic:o=OE,dragMomentum:l=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:a,dragElastic:o,dragMomentum:l}}}function Tg(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function jfe(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class Efe extends So{constructor(t){super(t),this.removeGroupControls=$i,this.removeListeners=$i,this.controls=new Sfe(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||$i}unmount(){this.removeGroupControls(),this.removeListeners()}}const NI=e=>(t,n)=>{e&&xn.postRender(()=>e(t,n))};class Nfe extends So{constructor(){super(...arguments),this.removePointerDownListener=$i}onPointerDown(t){this.session=new KV(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:GV(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:NI(t),onStart:NI(n),onMove:r,onEnd:(a,o)=>{delete this.session,i&&xn.postRender(()=>i(a,o))}}}mount(){this.removePointerDownListener=oh(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const iv={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function AI(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Of={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(mt.test(e))e=parseFloat(e);else return e;const n=AI(e,t.target.x),r=AI(e,t.target.y);return`${n}% ${r}%`}},Afe={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,i=vo.parse(e);if(i.length>5)return r;const a=vo.createTransformer(e),o=typeof i[0]!="number"?1:0,l=n.x.scale*t.x,d=n.y.scale*t.y;i[0+o]/=l,i[1+o]/=d;const f=jn(l,d,.5);return typeof i[2+o]=="number"&&(i[2+o]/=f),typeof i[3+o]=="number"&&(i[3+o]/=f),a(i)}};let n_=!1;class Tfe extends _.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:a}=t;Xue(Ofe),a&&(n.group&&n.group.add(a),r&&r.register&&i&&r.register(a),n_&&a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),iv.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:i,isPresent:a}=this.props,{projection:o}=r;return o&&(o.isPresent=a,n_=!0,i||t.layoutDependency!==n||n===void 0||t.isPresent!==a?o.willUpdate():this.safeToRemove(),t.isPresent!==a&&(a?o.promote():o.relegate()||xn.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),vT.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=t;n_=!0,i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function YV(e){const[t,n]=vV(),r=_.useContext(YA);return u.jsx(Tfe,{...e,layoutGroup:r,switchLayoutGroup:_.useContext(OV),isPresent:t,safeToRemove:n})}const Ofe={borderRadius:{...Of,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Of,borderTopRightRadius:Of,borderBottomLeftRadius:Of,borderBottomRightRadius:Of,boxShadow:Afe};function Cfe(e,t,n){const r=Or(e)?e:Tu(e);return r.start(TT("",r,t,n)),r.animation}const Rfe=(e,t)=>e.depth-t.depth;class Pfe{constructor(){this.children=[],this.isDirty=!1}add(t){JA(this.children,t),this.isDirty=!0}remove(t){ZA(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(Rfe),this.isDirty=!1,this.children.forEach(t)}}function Mfe(e,t){const n=Gr.now(),r=({timestamp:i})=>{const a=i-n;a>=t&&(go(r),e(a-t))};return xn.setup(r,!0),()=>go(r)}const XV=["TopLeft","TopRight","BottomLeft","BottomRight"],kfe=XV.length,TI=e=>typeof e=="string"?parseFloat(e):e,OI=e=>typeof e=="number"||mt.test(e);function Dfe(e,t,n,r,i,a){i?(e.opacity=jn(0,n.opacity??1,Ife(r)),e.opacityExit=jn(t.opacity??1,0,$fe(r))):a&&(e.opacity=jn(t.opacity??1,n.opacity??1,r));for(let o=0;o<kfe;o++){const l=`border${XV[o]}Radius`;let d=CI(t,l),f=CI(n,l);if(d===void 0&&f===void 0)continue;d||(d=0),f||(f=0),d===0||f===0||OI(d)===OI(f)?(e[l]=Math.max(jn(TI(d),TI(f),r),0),(Sa.test(f)||Sa.test(d))&&(e[l]+="%")):e[l]=f}(t.rotate||n.rotate)&&(e.rotate=jn(t.rotate||0,n.rotate||0,r))}function CI(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const Ife=QV(0,.5,$8),$fe=QV(.5,.95,$i);function QV(e,t,n){return r=>r<e?0:r>t?1:n(Rh(e,t,r))}function RI(e,t){e.min=t.min,e.max=t.max}function Ni(e,t){RI(e.x,t.x),RI(e.y,t.y)}function PI(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function MI(e,t,n,r,i){return e-=t,e=Rv(e,1/n,r),i!==void 0&&(e=Rv(e,1/i,r)),e}function Lfe(e,t=0,n=1,r=.5,i,a=e,o=e){if(Sa.test(t)&&(t=parseFloat(t),t=jn(o.min,o.max,t/100)-o.min),typeof t!="number")return;let l=jn(a.min,a.max,r);e===a&&(l-=t),e.min=MI(e.min,t,n,l,i),e.max=MI(e.max,t,n,l,i)}function kI(e,t,[n,r,i],a,o){Lfe(e,t[n],t[r],t[i],t.scale,a,o)}const Bfe=["x","scaleX","originX"],qfe=["y","scaleY","originY"];function DI(e,t,n,r){kI(e.x,t,Bfe,n?n.x:void 0,r?r.x:void 0),kI(e.y,t,qfe,n?n.y:void 0,r?r.y:void 0)}function II(e){return e.translate===0&&e.scale===1}function JV(e){return II(e.x)&&II(e.y)}function $I(e,t){return e.min===t.min&&e.max===t.max}function zfe(e,t){return $I(e.x,t.x)&&$I(e.y,t.y)}function LI(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function ZV(e,t){return LI(e.x,t.x)&&LI(e.y,t.y)}function BI(e){return Dr(e.x)/Dr(e.y)}function qI(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class Ufe{constructor(){this.members=[]}add(t){JA(this.members,t),t.scheduleRender()}remove(t){if(ZA(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(i=>t===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const a=this.members[i];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:i}=t.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Ffe(e,t,n){let r="";const i=e.x.translate/t.x,a=e.y.translate/t.y,o=n?.z||0;if((i||a||o)&&(r=`translate3d(${i}px, ${a}px, ${o}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:f,rotate:m,rotateX:p,rotateY:v,skewX:b,skewY:x}=n;f&&(r=`perspective(${f}px) ${r}`),m&&(r+=`rotate(${m}deg) `),p&&(r+=`rotateX(${p}deg) `),v&&(r+=`rotateY(${v}deg) `),b&&(r+=`skewX(${b}deg) `),x&&(r+=`skewY(${x}deg) `)}const l=e.x.scale*t.x,d=e.y.scale*t.y;return(l!==1||d!==1)&&(r+=`scale(${l}, ${d})`),r||"none"}const r_=["","X","Y","Z"],Vfe=1e3;let Hfe=0;function i_(e,t,n,r){const{latestValues:i}=t;i[e]&&(n[e]=i[e],t.setStaticValue(e,0),r&&(r[e]=0))}function e9(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=BV(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:a}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",xn,!(i||a))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&e9(r)}function t9({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},l=t?.()){this.id=Hfe++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Wfe),this.nodes.forEach(Jfe),this.nodes.forEach(Zfe),this.nodes.forEach(Yfe)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new Pfe)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new nT),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const d=this.eventHandlers.get(o);d&&d.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=gV(o)&&!Due(o),this.instance=o;const{layoutId:l,layout:d,visualElement:f}=this.options;if(f&&!f.current&&f.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(d||l)&&(this.isLayoutDirty=!0),e){let m,p=0;const v=()=>this.root.updateBlockedByResize=!1;xn.read(()=>{p=window.innerWidth}),e(o,()=>{const b=window.innerWidth;b!==p&&(p=b,this.root.updateBlockedByResize=!0,m&&m(),m=Mfe(v,250),iv.hasAnimatedSinceResize&&(iv.hasAnimatedSinceResize=!1,this.nodes.forEach(FI)))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&f&&(l||d)&&this.addEventListener("didUpdate",({delta:m,hasLayoutChanged:p,hasRelativeLayoutChanged:v,layout:b})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const x=this.options.transition||f.getDefaultTransition()||ihe,{onLayoutAnimationStart:y,onLayoutAnimationComplete:w}=f.getProps(),E=!this.targetLayout||!ZV(this.targetLayout,b),N=!p&&v;if(this.options.layoutRoot||this.resumeFrom||N||p&&(E||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const j={...pT(x,"layout"),onPlay:y,onComplete:w};(f.shouldReduceMotion||this.options.layoutRoot)&&(j.delay=0,j.type=!1),this.startAnimation(j),this.setAnimationOrigin(m,N)}else p||FI(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=b})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),go(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(ehe),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&e9(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let m=0;m<this.path.length;m++){const p=this.path[m];p.shouldResetTransform=!0,p.updateScroll("snapshot"),p.options.layoutRoot&&p.willUpdate(!1)}const{layoutId:l,layout:d}=this.options;if(l===void 0&&!d)return;const f=this.getTransformTemplate();this.prevTransformTemplateValue=f?f(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(zI);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(UI);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(Qfe),this.nodes.forEach(Gfe),this.nodes.forEach(Kfe)):this.nodes.forEach(UI),this.clearAllSnapshots();const l=Gr.now();br.delta=fs(0,1e3/60,l-br.timestamp),br.timestamp=l,br.isProcessing=!0,Gw.update.process(br),Gw.preRender.process(br),Gw.render.process(br),br.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,vT.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Xfe),this.sharedNodes.forEach(the)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,xn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){xn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Dr(this.snapshot.measuredBox.x)&&!Dr(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Dn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l&&this.instance){const d=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:d,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!JV(this.projectionDelta),d=this.getTransformTemplate(),f=d?d(this.latestValues,""):void 0,m=f!==this.prevTransformTemplateValue;o&&this.instance&&(l||il(this.latestValues)||m)&&(i(this.instance,f),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let d=this.removeElementScroll(l);return o&&(d=this.removeTransform(d)),ahe(d),{animationId:this.root.animationId,measuredBox:l,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return Dn();const l=o.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(she))){const{scroll:f}=this.root;f&&(au(l.x,f.offset.x),au(l.y,f.offset.y))}return l}removeElementScroll(o){const l=Dn();if(Ni(l,o),this.scroll?.wasRoot)return l;for(let d=0;d<this.path.length;d++){const f=this.path[d],{scroll:m,options:p}=f;f!==this.root&&m&&p.layoutScroll&&(m.wasRoot&&Ni(l,o),au(l.x,m.offset.x),au(l.y,m.offset.y))}return l}applyTransform(o,l=!1){const d=Dn();Ni(d,o);for(let f=0;f<this.path.length;f++){const m=this.path[f];!l&&m.options.layoutScroll&&m.scroll&&m!==m.root&&su(d,{x:-m.scroll.offset.x,y:-m.scroll.offset.y}),il(m.latestValues)&&su(d,m.latestValues)}return il(this.latestValues)&&su(d,this.latestValues),d}removeTransform(o){const l=Dn();Ni(l,o);for(let d=0;d<this.path.length;d++){const f=this.path[d];if(!f.instance||!il(f.latestValues))continue;SE(f.latestValues)&&f.updateSnapshot();const m=Dn(),p=f.measurePageBox();Ni(m,p),DI(l,f.latestValues,f.snapshot?f.snapshot.layoutBox:void 0,m)}return il(this.latestValues)&&DI(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==br.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==l;if(!(o||d&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:m,layoutId:p}=this.options;if(!(!this.layout||!(m||p))){if(this.resolvedRelativeTargetAt=br.timestamp,!this.targetDelta&&!this.relativeTarget){const v=this.getClosestProjectingParent();v&&v.layout&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Dn(),this.relativeTargetOrigin=Dn(),ch(this.relativeTargetOrigin,this.layout.layoutBox,v.layout.layoutBox),Ni(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Dn(),this.targetWithTransforms=Dn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),ffe(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ni(this.target,this.layout.layoutBox),MV(this.target,this.targetDelta)):Ni(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const v=this.getClosestProjectingParent();v&&!!v.resumingFrom==!!this.resumingFrom&&!v.options.layoutScroll&&v.target&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Dn(),this.relativeTargetOrigin=Dn(),ch(this.relativeTargetOrigin,this.target,v.target),Ni(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||SE(this.parent.latestValues)||PV(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const o=this.getLead(),l=!!this.resumingFrom||this!==o;let d=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(d=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===br.timestamp&&(d=!1),d)return;const{layout:f,layoutId:m}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(f||m))return;Ni(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,v=this.treeScale.y;jde(this.layoutCorrected,this.treeScale,this.path,l),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=Dn());const{target:b}=o;if(!b){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(PI(this.prevProjectionDelta.x,this.projectionDelta.x),PI(this.prevProjectionDelta.y,this.projectionDelta.y)),lh(this.projectionDelta,this.layoutCorrected,b,this.latestValues),(this.treeScale.x!==p||this.treeScale.y!==v||!qI(this.projectionDelta.x,this.prevProjectionDelta.x)||!qI(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",b))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.visualElement?.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ou(),this.projectionDelta=ou(),this.projectionDeltaWithTransform=ou()}setAnimationOrigin(o,l=!1){const d=this.snapshot,f=d?d.latestValues:{},m={...this.latestValues},p=ou();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const v=Dn(),b=d?d.source:void 0,x=this.layout?this.layout.source:void 0,y=b!==x,w=this.getStack(),E=!w||w.members.length<=1,N=!!(y&&!E&&this.options.crossfade===!0&&!this.path.some(rhe));this.animationProgress=0;let j;this.mixTargetDelta=O=>{const T=O/1e3;VI(p.x,o.x,T),VI(p.y,o.y,T),this.setTargetDelta(p),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ch(v,this.layout.layoutBox,this.relativeParent.layout.layoutBox),nhe(this.relativeTarget,this.relativeTargetOrigin,v,T),j&&zfe(this.relativeTarget,j)&&(this.isProjectionDirty=!1),j||(j=Dn()),Ni(j,this.relativeTarget)),y&&(this.animationValues=m,Dfe(m,f,this.latestValues,T,N,E)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=T},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(go(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=xn.update(()=>{iv.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Tu(0)),this.currentAnimation=Cfe(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:l=>{this.mixTargetDelta(l),o.onUpdate&&o.onUpdate(l)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Vfe),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:d,layout:f,latestValues:m}=o;if(!(!l||!d||!f)){if(this!==o&&this.layout&&f&&n9(this.options.animationType,this.layout.layoutBox,f.layoutBox)){d=this.target||Dn();const p=Dr(this.layout.layoutBox.x);d.x.min=o.target.x.min,d.x.max=d.x.min+p;const v=Dr(this.layout.layoutBox.y);d.y.min=o.target.y.min,d.y.max=d.y.min+v}Ni(l,d),su(l,m),lh(this.projectionDeltaWithTransform,this.layoutCorrected,l,m)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new Ufe),this.sharedNodes.get(o).add(l);const f=l.options.initialPromotionConfig;l.promote({transition:f?f.transition:void 0,preserveFollowOpacity:f&&f.shouldPreserveFollowOpacity?f.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){const{layoutId:o}=this.options;return o?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:o}=this.options;return o?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:d}={}){const f=this.getStack();f&&f.promote(this,d),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:d}=o;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(l=!0),!l)return;const f={};d.z&&i_("z",o,f,this.animationValues);for(let m=0;m<r_.length;m++)i_(`rotate${r_[m]}`,o,f,this.animationValues),i_(`skew${r_[m]}`,o,f,this.animationValues);o.render();for(const m in f)o.setStaticValue(m,f[m]),this.animationValues&&(this.animationValues[m]=f[m]);o.scheduleRender()}applyProjectionStyles(o,l){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const d=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=rv(l?.pointerEvents)||"",o.transform=d?d(this.latestValues,""):"none";return}const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=rv(l?.pointerEvents)||""),this.hasProjected&&!il(this.latestValues)&&(o.transform=d?d({},""):"none",this.hasProjected=!1);return}o.visibility="";const m=f.animationValues||f.latestValues;this.applyTransformsToTarget();let p=Ffe(this.projectionDeltaWithTransform,this.treeScale,m);d&&(p=d(m,p)),o.transform=p;const{x:v,y:b}=this.projectionDelta;o.transformOrigin=`${v.origin*100}% ${b.origin*100}% 0`,f.animationValues?o.opacity=f===this?m.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:m.opacityExit:o.opacity=f===this?m.opacity!==void 0?m.opacity:"":m.opacityExit!==void 0?m.opacityExit:0;for(const x in Dh){if(m[x]===void 0)continue;const{correct:y,applyTo:w,isCSSVariable:E}=Dh[x],N=p==="none"?m[x]:y(m[x],f);if(w){const j=w.length;for(let O=0;O<j;O++)o[w[O]]=N}else E?this.options.visualElement.renderState.vars[x]=N:o[x]=N}this.options.layoutId&&(o.pointerEvents=f===this?rv(l?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>o.currentAnimation?.stop()),this.root.nodes.forEach(zI),this.root.sharedNodes.clear()}}}function Gfe(e){e.updateLayout()}function Kfe(e){const t=e.resumeFrom?.snapshot||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:r}=e.layout,{animationType:i}=e.options,a=t.source!==e.layout.source;i==="size"?Ci(m=>{const p=a?t.measuredBox[m]:t.layoutBox[m],v=Dr(p);p.min=n[m].min,p.max=p.min+v}):n9(i,t.layoutBox,n)&&Ci(m=>{const p=a?t.measuredBox[m]:t.layoutBox[m],v=Dr(n[m]);p.max=p.min+v,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[m].max=e.relativeTarget[m].min+v)});const o=ou();lh(o,n,t.layoutBox);const l=ou();a?lh(l,e.applyTransform(r,!0),t.measuredBox):lh(l,n,t.layoutBox);const d=!JV(o);let f=!1;if(!e.resumeFrom){const m=e.getClosestProjectingParent();if(m&&!m.resumeFrom){const{snapshot:p,layout:v}=m;if(p&&v){const b=Dn();ch(b,t.layoutBox,p.layoutBox);const x=Dn();ch(x,n,v.layoutBox),ZV(b,x)||(f=!0),m.options.layoutRoot&&(e.relativeTarget=x,e.relativeTargetOrigin=b,e.relativeParent=m)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:l,layoutDelta:o,hasLayoutChanged:d,hasRelativeLayoutChanged:f})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function Wfe(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function Yfe(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function Xfe(e){e.clearSnapshot()}function zI(e){e.clearMeasurements()}function UI(e){e.isLayoutDirty=!1}function Qfe(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function FI(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function Jfe(e){e.resolveTargetDelta()}function Zfe(e){e.calcProjection()}function ehe(e){e.resetSkewAndRotation()}function the(e){e.removeLeadSnapshot()}function VI(e,t,n){e.translate=jn(t.translate,0,n),e.scale=jn(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function HI(e,t,n,r){e.min=jn(t.min,n.min,r),e.max=jn(t.max,n.max,r)}function nhe(e,t,n,r){HI(e.x,t.x,n.x,r),HI(e.y,t.y,n.y,r)}function rhe(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const ihe={duration:.45,ease:[.4,0,.1,1]},GI=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),KI=GI("applewebkit/")&&!GI("chrome/")?Math.round:$i;function WI(e){e.min=KI(e.min),e.max=KI(e.max)}function ahe(e){WI(e.x),WI(e.y)}function n9(e,t,n){return e==="position"||e==="preserve-aspect"&&!dfe(BI(t),BI(n),.2)}function she(e){return e!==e.root&&e.scroll?.wasRoot}const ohe=t9({attachResizeListener:(e,t)=>Ih(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),a_={current:void 0},r9=t9({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!a_.current){const e=new ohe({});e.mount(window),e.setOptions({layoutScroll:!0}),a_.current=e}return a_.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),lhe={pan:{Feature:Nfe},drag:{Feature:Efe,ProjectionNode:r9,MeasureLayout:YV}};function YI(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,a=r[i];a&&xn.postRender(()=>a(t,Pm(t)))}class che extends So{mount(){const{current:t}=this.node;t&&(this.unmount=Cue(t,(n,r)=>(YI(this.node,r,"Start"),i=>YI(this.node,i,"End"))))}unmount(){}}class uhe extends So{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Om(Ih(this.node.current,"focus",()=>this.onFocus()),Ih(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function XI(e,t,n){const{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),a=r[i];a&&xn.postRender(()=>a(t,Pm(t)))}class dhe extends So{mount(){const{current:t}=this.node;t&&(this.unmount=kue(t,(n,r)=>(XI(this.node,r,"Start"),(i,{success:a})=>XI(this.node,i,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const CE=new WeakMap,s_=new WeakMap,fhe=e=>{const t=CE.get(e.target);t&&t(e)},hhe=e=>{e.forEach(fhe)};function mhe({root:e,...t}){const n=e||document;s_.has(n)||s_.set(n,{});const r=s_.get(n),i=JSON.stringify(t);return r[i]||(r[i]=new IntersectionObserver(hhe,{root:e,...t})),r[i]}function phe(e,t,n){const r=mhe(t);return CE.set(e,n),r.observe(e),()=>{CE.delete(e),r.unobserve(e)}}const ghe={some:0,all:1};class vhe extends So{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:a}=t,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:ghe[i]},l=d=>{const{isIntersecting:f}=d;if(this.isInView===f||(this.isInView=f,a&&!f&&this.hasEnteredView))return;f&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",f);const{onViewportEnter:m,onViewportLeave:p}=this.node.getProps(),v=f?m:p;v&&v(d)};return phe(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(yhe(t,n))&&this.startObserver()}unmount(){}}function yhe({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const bhe={inView:{Feature:vhe},tap:{Feature:dhe},focus:{Feature:uhe},hover:{Feature:che}},xhe={layout:{ProjectionNode:r9,MeasureLayout:YV}},whe={...afe,...bhe,...lhe,...xhe},Cu=wde(whe,kde),_he=["L","M","M","J","V","S","D"],QI=["Lun","Mar","Mer","Jeu","Ven","Sam","Dim"],Og=[{key:"difficulty",label:"Difficult",mode:"hard"},{key:"fatigue_end",label:"Fatigue fin",mode:"hard"},{key:"performance",label:"Perf perue",mode:"good"},{key:"engagement",label:"Engagement",mode:"good"}],JI=[{key:"AM",label:"Matin",Icon:See},{key:"PM",label:"Soir",Icon:XZ}];function ZI(e){return String(e).padStart(2,"0")}function Xf(e){return`${e.getFullYear()}-${ZI(e.getMonth()+1)}-${ZI(e.getDate())}`}function o_(e){return new Date(e.getFullYear(),e.getMonth(),1)}function e3(e,t){const n=new Date(e);return n.setDate(n.getDate()+t),n}function She(e,t){return e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate()}function l_(e){return(e.getDay()+6)%7}function jhe(e){return e.toLocaleDateString("fr-FR",{month:"long",year:"numeric"})}function Ehe(e){return e.toLocaleDateString("fr-FR",{weekday:"long",day:"numeric",month:"long",year:"numeric"})}function Nhe(e){const t=String(e).split("__");return{iso:t[0],slotKey:t[1]||""}}function an(...e){return e.filter(Boolean).join(" ")}function Qf(e){const t=Number(e);if(!Number.isFinite(t))return"";const n=Math.round(t*100)/100,r=String(n);return r.endsWith(".0")?r.slice(0,-2):r}function $h(e){const t=Number(e);return Number.isFinite(t)?Math.round(t/1e3*100)/100:0}function t3(e){const t=Number(e);return Number.isFinite(t)?Math.round(t*1e3):0}function Ahe(e){return e?String(e).replaceAll(`\r
`,`
`).split(`
`).map(n=>n.trim()).filter(Boolean).flatMap(n=>{const r=n.replace(/^[\\-]\\s*/,"").trim();return r?[r]:[]}):[]}function The(e){if(!e)return null;const n=String(e).match(/(\\d+(?:[\\.,]\\d+)?)\\s*(km|m)\\b/i);if(!n)return null;const r=Number(String(n[1]).replace(",","."));return Number.isFinite(r)?n[2].toLowerCase()==="m"?$h(r):r:null}function Ohe(e,t){const n=e?.slot??e?.session_slot??e?.assigned_slot??e?.time_slot??e?.timeOfDay??e?.slot_key??e?.slotKey,r=String(n||"").toLowerCase();if(r.includes("mat")||r==="am")return"AM";if(r.includes("soir")||r==="pm")return"PM";const i=`${e?.title??""} ${e?.description??""}`.toLowerCase();return i.includes("matin")||i.includes(" am ")||i.includes("(am)")?"AM":i.includes("soir")||i.includes(" pm ")||i.includes("(pm)")?"PM":t===0?"AM":"PM"}function Che(e){const t=e?.assigned_date??e?.date??e?.day??e?.scheduled_for??e?.scheduledAt??null;if(!t)return null;const n=String(t),r=n.length>=10?n.slice(0,10):n;return/\\d{4}-\\d{2}-\\d{2}/.test(r)?r:null}function Rhe(e){const t=e?.distance_meters??e?.distanceMeters??e?.meters??e?.planned_meters??e?.plannedMeters??e?.distance??null;if(t!=null&&Number.isFinite(Number(t))){const i=Number(t);return i>0&&i<=50?i:$h(i)}const n=e?.km??e?.distance_km??e?.distanceKm??e?.planned_km??e?.plannedKm??null;if(n!=null&&Number.isFinite(Number(n)))return Number(n);const r=The(`${e?.title??""} ${e?.description??""}`);return r??null}function Phe({completed:e,total:t}){return t===0?"rest":e>=t?"full":e>0?"half":"none"}const Mhe=_.memo(function({date:t,inMonth:n,isToday:r,isSelected:i,status:a,onClick:o}){const{completed:l,total:d}=a,f=Phe(a),m=f==="full"?"bg-primary":f==="half"?"bg-primary/10":f==="none"?"bg-muted":"bg-muted/50",p=f==="full"?"border-primary":f==="half"?"border-primary/30":f==="none"?"border-muted-foreground/20":"border-border",v=f==="full"?"text-primary-foreground":"text-foreground",b=f==="full"?"bg-primary-foreground/25":"bg-muted-foreground/30",x=f==="full"?"bg-primary-foreground":"bg-primary",y=i?f==="full"?"ring-2 ring-primary-foreground/50":"ring-2 ring-primary/30":"",w=r?f==="full"?"ring-2 ring-primary-foreground/40":"ring-2 ring-primary/50":"";return u.jsx("button",{type:"button",onClick:o,className:an("aspect-square min-w-0 rounded-2xl border p-1 transition",m,p,!n&&"opacity-40","hover:shadow-sm",y,w),"aria-label":`${Xf(t)}  ${d===0?"Repos":`${l}/${d}`}`,children:u.jsxs("div",{className:"flex h-full flex-col justify-between",children:[u.jsxs("div",{className:"flex items-start justify-between",children:[u.jsx("div",{className:an("text-[12px] font-semibold",v),children:t.getDate()}),u.jsx("div",{className:"h-[14px] w-[14px]"})]}),u.jsx("div",{className:"flex items-center justify-end",children:d>0&&u.jsx("div",{className:"w-6",children:u.jsxs("div",{className:"flex gap-1",children:[u.jsx("span",{className:an("h-1.5 flex-1 rounded-full",l>=1?x:b)}),u.jsx("span",{className:an("h-1.5 flex-1 rounded-full",l>=2?x:b)})]})})})]})})});function khe({open:e,title:t,onClose:n,children:r}){return u.jsx(Ov,{children:e&&u.jsxs(u.Fragment,{children:[u.jsx(Cu.div,{className:"fixed inset-0 z-40 bg-black/30",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:n}),u.jsx(Cu.div,{className:an("fixed z-50 bg-background shadow-2xl","left-0 right-0 bottom-0 top-auto h-[88vh] rounded-t-3xl","sm:right-0 sm:top-0 sm:left-auto sm:bottom-auto sm:h-full sm:w-full sm:max-w-xl sm:rounded-none"),initial:{y:22,opacity:0},animate:{y:0,opacity:1},exit:{y:22,opacity:0},transition:{type:"spring",damping:30,stiffness:320},role:"dialog","aria-modal":"true",children:u.jsxs("div",{className:"flex h-full flex-col",children:[u.jsx("div",{className:"px-5 pt-3 sm:hidden",children:u.jsx("div",{className:"mx-auto h-1.5 w-12 rounded-full bg-muted"})}),u.jsxs("div",{className:"sticky top-0 z-10 flex items-center justify-between border-b bg-background px-4 sm:px-5 py-3",children:[u.jsx("div",{className:"min-w-0",children:u.jsx("div",{className:"truncate text-base font-semibold text-foreground",children:t})}),u.jsx(ai,{onClick:n,label:"Fermer",children:u.jsx(Ii,{className:"h-5 w-5"})})]}),u.jsx("div",{className:"flex-1 overflow-auto p-4 pb-24 sm:p-5 sm:pb-5",children:r})]})})]})})}function n3({open:e,title:t,onClose:n,children:r}){return u.jsx(Ov,{children:e&&u.jsxs(u.Fragment,{children:[u.jsx(Cu.div,{className:"fixed inset-0 z-40 bg-black/30",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:n}),u.jsx(Cu.div,{className:"fixed inset-0 z-50 flex items-end sm:items-center justify-center p-3 pb-24 sm:p-4 sm:pb-4",initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},children:u.jsxs("div",{className:"w-full max-w-md rounded-3xl border bg-background shadow-2xl overflow-hidden",children:[u.jsxs("div",{className:"flex items-center justify-between border-b px-4 py-3",children:[u.jsx("div",{className:"truncate text-base font-semibold text-foreground",children:t}),u.jsx(ai,{onClick:n,label:"Fermer",children:u.jsx(Ii,{className:"h-5 w-5"})})]}),u.jsx("div",{className:"p-4",children:r})]})})]})})}function Cg({children:e}){return u.jsx("span",{className:"inline-flex items-center rounded-full bg-muted px-2 py-0.5 text-xs font-semibold text-muted-foreground",children:e})}function ai({onClick:e,label:t,children:n,tone:r="neutral",disabled:i}){const a={neutral:"bg-background border-border text-foreground hover:bg-muted",dark:"bg-foreground border-foreground text-background hover:opacity-90",sky:"bg-primary/10 border-primary/30 text-primary hover:bg-primary/20"};return u.jsxs("button",{type:"button",onClick:e,disabled:i,className:an("inline-flex items-center justify-center rounded-2xl border p-2 transition",a[r],i&&"opacity-50 cursor-not-allowed hover:bg-background"),"aria-label":t,title:t,children:[n,u.jsx("span",{className:"sr-only",children:t})]})}function Dhe(e,t){const n=Number(t);return!Number.isFinite(n)||n<1||n>5?"neutral":e==="hard"?{1:"bg-emerald-600 border-emerald-600 text-white",2:"bg-emerald-500 border-emerald-500 text-white",3:"bg-amber-500 border-amber-500 text-white",4:"bg-orange-500 border-orange-500 text-white",5:"bg-red-600 border-red-600 text-white"}[n]:{1:"bg-red-600 border-red-600 text-white",2:"bg-orange-500 border-orange-500 text-white",3:"bg-amber-500 border-amber-500 text-white",4:"bg-emerald-500 border-emerald-500 text-white",5:"bg-emerald-600 border-emerald-600 text-white"}[n]}const Ihe=_.memo(function({plannedMeters:t,valueMeters:n,onChange:r,disabled:i}){const d=Number.isFinite(Number(n))?Number(n):t,f=d-t;return u.jsxs("div",{className:an("mt-4 rounded-3xl border px-4 py-3",i?"bg-zinc-50 border-zinc-200":"bg-white border-zinc-200"),children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("div",{className:an("text-xs font-semibold",i?"text-zinc-400":"text-zinc-700"),children:"Ajuster kilomtrage"}),u.jsx("div",{className:an("text-xs",i?"text-zinc-400":"text-zinc-600"),children:f===0?"":f>0?`+${f}m`:`${f}m`})]}),u.jsxs("div",{className:"mt-2 flex items-center justify-center gap-3",children:[u.jsx("button",{type:"button",disabled:i||d-100<0,onClick:()=>r(d-100),className:an("h-11 w-11 rounded-2xl border flex items-center justify-center",i?"bg-zinc-100 border-zinc-200 text-zinc-400":"bg-white border-zinc-200 text-zinc-900 hover:bg-zinc-50"),"aria-label":"-100m",children:u.jsx(qz,{className:"h-5 w-5"})}),u.jsxs("div",{className:"min-w-[120px] text-center",children:[u.jsxs("div",{className:an("text-lg font-semibold",i?"text-zinc-400":"text-zinc-900"),children:[d,"m"]}),u.jsxs("div",{className:an("text-xs",i?"text-zinc-400":"text-zinc-500"),children:["(",Qf($h(d))," km)"]})]}),u.jsx("button",{type:"button",disabled:i||d+100>3e4,onClick:()=>r(d+100),className:an("h-11 w-11 rounded-2xl border flex items-center justify-center",i?"bg-zinc-100 border-zinc-200 text-zinc-400":"bg-white border-zinc-200 text-zinc-900 hover:bg-zinc-50"),"aria-label":"+100m",children:u.jsx(ll,{className:"h-5 w-5"})})]})]})});function $he(){const e={};for(let t=0;t<7;t++)e[t]={AM:!0,PM:!0};return e}function c_(e){if(!e)return null;try{return JSON.parse(e)}catch{return null}}function r3(e,t){return Number.isFinite(e)?Math.round(e/t)*t:0}function Lhe(){const{user:e,userId:t}=sn(),{toast:n}=pi(),r=oa(),[,i]=ad(),{data:a}=Pt({queryKey:["sessions",t??e],queryFn:()=>De.getSessions(e,t),enabled:!!e}),{data:o}=Pt({queryKey:["assignments",e],queryFn:()=>De.getAssignments(e,t),enabled:!!e}),l=Lt({mutationFn:Y=>De.deleteSession(Y),onSuccess:()=>{r.invalidateQueries({queryKey:["sessions"]}),n({title:"Sance supprime",description:"La saisie a t supprime."})},onError:()=>{n({title:"Erreur",description:"Impossible de supprimer la sance.",variant:"destructive"})}}),d=Lt({mutationFn:Y=>De.syncSession({...Y,athlete_name:e,athlete_id:t??void 0}),onSuccess:()=>{r.invalidateQueries({queryKey:["sessions"]}),r.invalidateQueries({queryKey:["assignments"]}),n({title:"Sance enregistre",description:"Vos donnes ont t synchronises."})},onError:()=>{n({title:"Erreur",description:"Impossible d'enregistrer la sance.",variant:"destructive"})}}),f=Lt({mutationFn:Y=>De.updateSession(Y),onSuccess:()=>{r.invalidateQueries({queryKey:["sessions"]}),n({title:"Sance mise  jour",description:"Votre saisie a t mise  jour."})},onError:()=>{n({title:"Erreur",description:"Impossible de mettre  jour la sance.",variant:"destructive"})}}),m=`swim-dashboard-v2:${t??e??"anon"}`,p=`${m}:presenceDefaults`,v=`${m}:attendanceOverrides`,b=`${m}:stableFields`,[x,y]=_.useState(()=>$he()),[w,E]=_.useState({}),[N,j]=_.useState(90);_.useEffect(()=>{if(typeof window>"u")return;const Y=c_(window.localStorage.getItem(p));Y&&y(Y);const we=c_(window.localStorage.getItem(v));we&&E(we);const Ee=c_(window.localStorage.getItem(b));Ee?.duration&&Number.isFinite(Ee.duration)&&Ee.duration>=30&&Ee.duration<=240&&j(Ee.duration)},[p,v,b]),_.useEffect(()=>{typeof window>"u"||window.localStorage.setItem(p,JSON.stringify(x))},[x,p]),_.useEffect(()=>{typeof window>"u"||window.localStorage.setItem(v,JSON.stringify(w))},[w,v]),_.useEffect(()=>{typeof window>"u"||window.localStorage.setItem(b,JSON.stringify({duration:N}))},[N,b]);const O=_.useMemo(()=>new Date,[]),[T,C]=_.useState(()=>o_(new Date)),[R,M]=_.useState(()=>Xf(new Date)),[k,I]=_.useState(!1),[B,$]=_.useState(!1),[F,H]=_.useState(!1),[U,D]=_.useState(null),[G,z]=_.useState(!1),[X,ue]=_.useState(!1),[V,K]=_.useTransition(),Z=_.useMemo(()=>(Array.isArray(o)?o:[]).filter(we=>we?.session_type==="swim"),[o]),oe=_.useMemo(()=>{const Y=new Map;for(const we of Z){const Ee=Che(we);Ee&&(Y.has(Ee)||Y.set(Ee,[]),Y.get(Ee).push(we))}for(const[we,Ee]of Y.entries())Ee.sort((Ye,ot)=>Number(Ye?.id??0)-Number(ot?.id??0)),Y.set(we,Ee);return Y},[Z]),be=_.useMemo(()=>{const Y=Array.isArray(a)?a:[],we={};for(const Ee of Y){const Ye=String(Ee?.date??"").slice(0,10),ot=Ee?.slot==="Soir"?"PM":"AM";we[`${Ye}__${ot}`]=Ee}return we},[a]),ae=_.useRef(new Map);_.useEffect(()=>{ae.current.clear()},[oe]);const J=_.useCallback(Y=>{const we=ae.current;if(we.has(Y))return we.get(Y);const Ee=[{id:`${Y}__AM`,iso:Y,slotKey:"AM",title:"Sance vide",km:null,details:[],isEmpty:!0},{id:`${Y}__PM`,iso:Y,slotKey:"PM",title:"Sance vide",km:null,details:[],isEmpty:!0}],Ye=oe.get(Y)??[],ot=new Set;return Ye.forEach((Re,at)=>{const et=Ohe(Re,at);if(ot.has(et))return;const Le=et==="AM"?0:1,fe=Rhe(Re),Ie=Array.isArray(Re?.details)?Re.details.map(String):Ahe(Re?.description);Ee[Le]={id:`${Y}__${et}`,iso:Y,slotKey:et,title:String(Re?.title??"Sance coach"),km:fe,details:Ie,assignmentId:typeof Re?.id=="number"?Re.id:Number(Re?.id)||void 0,isEmpty:!1},ot.add(et)}),we.set(Y,Ee),Ee},[oe]),he=_.useCallback((Y,we)=>{const Ee=l_(we),Ye=!!x?.[Ee]?.[Y.slotKey],ot=w[Y.id];return ot==="present"?{status:"present",expected:!0,expectedByDefault:Ye}:ot==="absent"?{status:"absent",expected:!0,expectedByDefault:Ye}:Ye?{status:"present",expected:!0,expectedByDefault:Ye}:{status:"not_expected",expected:!1,expectedByDefault:Ye}},[w,x]),se=_.useMemo(()=>o_(T),[T]),pe=_.useMemo(()=>{const Y=l_(se),we=e3(se,-Y),Ee=[];for(let Ye=0;Ye<42;Ye++)Ee.push(e3(we,Ye));return Ee},[se]),xe=_.useMemo(()=>{const Y={};for(const we of pe){const Ee=Xf(we),Ye=J(Ee);let ot=0,Re=0;for(const at of Ye){const et=he(at,we);if(!et.expected)continue;ot+=1;const Le=!!be[at.id],fe=et.status==="absent";(Le||fe)&&(Re+=1)}Y[Ee]={completed:Re,total:ot}}return Y},[pe,J,he,be]),ee=_.useMemo(()=>{const[Y,we,Ee]=R.split("-").map(Number);return new Date(Y,we-1,Ee)},[R]),$e=_.useMemo(()=>J(R),[J,R]),ge=xe[R]||{completed:0,total:2};_.useEffect(()=>{k&&X&&ge.total>0&&ge.completed>=ge.total&&(I(!1),D(null),z(!1),ue(!1))},[k,X,ge.completed,ge.total]);const He=_.useMemo(()=>U&&$e.find(Y=>Y.id===U)||null,[U,$e]),te=_.useMemo(()=>U&&be[U]||null,[U,be]),re=_.useMemo(()=>{const Y=te||{};return{difficulty:Y?.effort??null,fatigue_end:Y?.fatigue??Y?.feeling??null,performance:Y?.performance??Y?.feeling??null,engagement:Y?.engagement??Y?.feeling??null,comment:String(Y?.comments??""),distanceMeters:Number.isFinite(Number(Y?.distance))?Number(Y.distance):null}},[te]),[Me,ut]=_.useState(()=>({difficulty:null,fatigue_end:null,performance:null,engagement:null,comment:"",distanceMeters:null}));_.useEffect(()=>{if(He){const Y=t3(He.km??0);ut(we=>({...we,...re,distanceMeters:re.distanceMeters==null?Y:re.distanceMeters}));return}ut(Y=>({...Y,...re}))},[re,He]);const ke=_.useCallback(Y=>{M(Y),I(!0),D(null),z(!1);const we=xe[Y]||{completed:0,total:2};ue(we.total>0&&we.completed<we.total)},[xe]),Qe=_.useCallback(()=>{I(!1),D(null),z(!1),ue(!1)},[]),st=_.useCallback(()=>{C(Y=>new Date(Y.getFullYear(),Y.getMonth()-1,1))},[]),Bt=_.useCallback(()=>{C(Y=>new Date(Y.getFullYear(),Y.getMonth()+1,1))},[]),It=_.useCallback(()=>{const Y=new Date;C(o_(Y)),ke(Xf(Y))},[ke]),En=_.useCallback(Y=>{D(Y),z(!1)},[]),Ot=_.useCallback(Y=>{K(()=>{E(Ee=>({...Ee,[Y]:"absent"}))});const we=be[Y];we?.id&&l.mutate(Number(we.id))},[l,be,K]),je=_.useCallback(Y=>{K(()=>{E(we=>({...we,[Y]:"present"}))})},[K]),Ge=_.useCallback(Y=>{K(()=>{E(we=>{const Ee={...we};return delete Ee[Y],Ee})})},[K]),pt=_.useCallback(()=>{const Y=$e.map(we=>he(we,ee).expected?we.id:null).filter(Boolean);Y.length!==0&&(K(()=>{E(we=>{const Ee={...we};for(const Ye of Y)Ee[Ye]="absent";return Ee}),D(null),z(!1)}),Y.forEach(we=>{const Ee=be[we];Ee?.id&&l.mutate(Number(Ee.id))}))},[$e,he,ee,K,be,l]),yt=_.useCallback(()=>{if(!U||!e||!Og.every(Le=>Number.isInteger(Me[Le.key])))return;const{iso:we,slotKey:Ee}=Nhe(U),Ye=Ee==="PM"?"Soir":"Matin",ot=r3(Number(Me.distanceMeters??0),100),Re=r3(Number(N),15),at={date:we,slot:Ye,distance:ot,duration:Re,effort:Number(Me.difficulty),feeling:Number(Me.fatigue_end),performance:Number(Me.performance),engagement:Number(Me.engagement),comments:String(Me.comment||"").slice(0,400),athlete_name:e,athlete_id:t??void 0},et=be[U];K(()=>{E(Le=>({...Le,[U]:"present"}))}),et?.id?f.mutate({...at,id:et.id}):d.mutate(at),D(null),z(!1)},[U,e,t,Me,N,be,K,f,d]),$t=_.useCallback((Y,we)=>{y(Ee=>({...Ee,[Y]:{...Ee[Y],[we]:!Ee[Y][we]}}))},[]),ir=_.useMemo(()=>{const Y=Array.isArray(a)?a:[];let we=0;for(const Ee of Y){const Ye=String(Ee?.date??"").slice(0,10),ot=Ee?.slot==="Soir"?"PM":"AM",Re=`${Ye}__${ot}`;if(w[Re]==="absent")continue;const at=l_(new Date(Ye));(x?.[at]?.[ot]||w[Re]==="present")&&Number.isFinite(Number(Ee?.distance))&&(we+=Number(Ee.distance))}return Qf($h(we))},[a,w,x]),ie=_.useMemo(()=>{const Y=$e;let we=0;for(const Ee of Y){const Ye=he(Ee,ee);if(!Ye.expected||Ye.status==="absent")continue;const ot=be[Ee.id];ot&&Number.isFinite(Number(ot?.distance))&&(we+=Number(ot.distance))}return Qf($h(we))},[$e,he,ee,be]);return u.jsxs("div",{className:"min-h-screen bg-zinc-50",children:[u.jsx("div",{className:"sm:hidden fixed top-0 left-0 right-0 z-30 border-b border-zinc-200 bg-white/90 backdrop-blur",children:u.jsxs("div",{className:"mx-auto max-w-6xl px-3 py-3 flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"h-10 w-10 rounded-2xl bg-white border border-zinc-200 flex items-center justify-center",children:u.jsx(hi,{className:"h-5 w-5 text-zinc-900"})}),u.jsxs("div",{className:"flex flex-col",children:[u.jsx("div",{className:"text-sm font-semibold text-zinc-900",children:"Suivi"}),u.jsxs("div",{className:"text-[11px] text-zinc-500",children:[ir," km"]})]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(ai,{onClick:()=>H(!0),label:"Infos",children:u.jsx($j,{className:"h-5 w-5"})}),u.jsx(ai,{onClick:()=>$(!0),label:"Paramtres",children:u.jsx(jk,{className:"h-5 w-5"})})]})]})}),u.jsxs("div",{className:"mx-auto max-w-6xl px-3 sm:px-4 pt-20 pb-5 sm:py-8",children:[u.jsxs("div",{className:"hidden sm:flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"h-10 w-10 rounded-2xl bg-white border border-zinc-200 flex items-center justify-center",children:u.jsx(hi,{className:"h-5 w-5 text-zinc-900"})}),u.jsxs("div",{className:"flex flex-col",children:[u.jsx("div",{className:"text-sm font-semibold text-zinc-900",children:"Suivi"}),u.jsxs("div",{className:"text-[11px] text-zinc-500",children:[ir," km"]})]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(ai,{onClick:()=>H(!0),label:"Infos",children:u.jsx($j,{className:"h-5 w-5"})}),u.jsx(ai,{onClick:()=>$(!0),label:"Paramtres",children:u.jsx(jk,{className:"h-5 w-5"})})]})]}),u.jsxs("div",{className:"mt-4 rounded-3xl border border-zinc-200 bg-white overflow-hidden",children:[u.jsxs("div",{className:"flex items-center justify-between px-3 sm:px-5 py-3 border-b border-zinc-200",children:[u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(ai,{onClick:st,label:"Mois prcdent",children:u.jsx(_h,{className:"h-5 w-5"})}),u.jsx(ai,{onClick:Bt,label:"Mois suivant",children:u.jsx(fv,{className:"h-5 w-5"})})]}),u.jsxs("div",{className:"min-w-0 text-center",children:[u.jsx("div",{className:"text-base font-semibold text-zinc-900 capitalize truncate",children:jhe(T)}),u.jsxs("div",{className:"mt-1 flex items-center justify-center gap-1",children:[u.jsx("span",{className:an("h-1.5 w-1.5 rounded-full",ge.total>0&&ge.completed>=1?"bg-emerald-600":"bg-zinc-300")}),u.jsx("span",{className:an("h-1.5 w-1.5 rounded-full",ge.total>0&&ge.completed>=2?"bg-emerald-600":"bg-zinc-300")})]})]}),u.jsx(ai,{onClick:It,label:"Aller  aujourdhui",tone:"neutral",children:u.jsx(Gf,{className:"h-5 w-5"})})]}),u.jsx("div",{className:"p-3 sm:p-5",children:u.jsxs("div",{className:"grid grid-cols-7 gap-1.5 sm:gap-2",children:[_he.map((Y,we)=>u.jsxs("div",{className:"px-0.5 pb-1 text-[10px] font-semibold text-zinc-400 text-center",children:[u.jsx("span",{className:"sm:hidden",children:Y}),u.jsx("span",{className:"hidden sm:inline",children:QI[we]})]},Y+we)),pe.map(Y=>{const we=Xf(Y),Ee=Y.getMonth()===T.getMonth(),Ye=we===R,ot=xe[we]||{completed:0,total:2},Re=She(Y,O);return u.jsx(Mhe,{date:Y,inMonth:Ee,isToday:Re,isSelected:Ye,status:ot,onClick:()=>ke(we)},we)})]})})]}),u.jsx(n3,{open:F,title:"Codes",onClose:()=>H(!1),children:u.jsxs("div",{className:"space-y-3 text-sm",children:[u.jsxs("div",{className:"flex items-center justify-between rounded-2xl border border-orange-200 bg-orange-50 px-3 py-2",children:[u.jsx("span",{className:"font-semibold",children:"Orange"}),u.jsx("span",{className:"text-zinc-700",children:" complter"})]}),u.jsxs("div",{className:"flex items-center justify-between rounded-2xl border border-emerald-200 bg-emerald-50 px-3 py-2",children:[u.jsx("span",{className:"font-semibold",children:"Vert"}),u.jsx("span",{className:"text-zinc-700",children:"Valid  km"})]}),u.jsxs("div",{className:"flex items-center justify-between rounded-2xl border border-sky-200 bg-sky-50 px-3 py-2",children:[u.jsx("span",{className:"font-semibold",children:"Bleu"}),u.jsx("span",{className:"text-zinc-700",children:"Absent / Non prvu"})]}),u.jsx("div",{className:"text-xs text-zinc-500",children:"Les km comptent uniquement aprs validation."})]})}),u.jsx(n3,{open:B,title:"Prsence",onClose:()=>$(!1),children:u.jsxs("div",{className:"space-y-3",children:[u.jsx("div",{className:"text-xs text-zinc-500",children:"Toggle hebdo (sances attendues)."}),u.jsxs("div",{className:"overflow-hidden rounded-2xl border border-zinc-200 bg-white",children:[u.jsxs("div",{className:"grid grid-cols-[1fr_110px_110px] bg-zinc-50 border-b border-zinc-200 px-3 py-2 text-xs font-semibold text-zinc-500",children:[u.jsx("div",{children:"Jour"}),u.jsx("div",{className:"text-center",children:"Matin"}),u.jsx("div",{className:"text-center",children:"Soir"})]}),QI.map((Y,we)=>u.jsxs("div",{className:an("grid grid-cols-[1fr_110px_110px] items-center px-3 py-2",we!==6&&"border-b border-zinc-100"),children:[u.jsx("div",{className:"text-sm font-medium text-zinc-900",children:Y}),JI.map(Ee=>{const Ye=!!x?.[we]?.[Ee.key];return u.jsx("div",{className:"flex justify-center",children:u.jsx("button",{type:"button",onClick:()=>$t(we,Ee.key),className:an("w-24 rounded-2xl border px-3 py-2 text-sm font-semibold transition",Ye?"bg-zinc-900 text-white border-zinc-900":"bg-white text-zinc-800 border-zinc-200 hover:bg-zinc-50"),"aria-label":`${Y} ${Ee.label}`,children:Ye?"On":"Off"})},Ee.key)})]},Y))]}),u.jsxs("div",{className:"rounded-2xl border border-zinc-200 bg-zinc-50 px-3 py-2",children:[u.jsx("div",{className:"text-xs font-semibold text-zinc-700",children:"Dure (valeur par dfaut)"}),u.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[u.jsx("button",{type:"button",className:"h-9 w-9 rounded-2xl border border-zinc-200 bg-white hover:bg-zinc-50 flex items-center justify-center",onClick:()=>j(Y=>Math.max(30,Y-15)),"aria-label":"Diminuer la dure",children:u.jsx(qz,{className:"h-4 w-4"})}),u.jsxs("div",{className:"text-sm font-semibold text-zinc-900",children:[N," min"]}),u.jsx("button",{type:"button",className:"h-9 w-9 rounded-2xl border border-zinc-200 bg-white hover:bg-zinc-50 flex items-center justify-center",onClick:()=>j(Y=>Math.min(240,Y+15)),"aria-label":"Augmenter la dure",children:u.jsx(ll,{className:"h-4 w-4"})})]}),u.jsx("div",{className:"mt-1 text-[11px] text-zinc-500",children:"Dure envoye au back-end (non affiche dans la maquette)."})]})]})}),u.jsxs(khe,{open:k,title:Ehe(ee),onClose:Qe,children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"h-10 w-10 rounded-2xl border border-zinc-200 bg-white flex items-center justify-center",children:u.jsx(hi,{className:"h-5 w-5 text-zinc-900"})}),u.jsxs("div",{className:"flex flex-col",children:[u.jsxs("div",{className:"text-sm font-semibold text-zinc-900",children:[ie," km"]}),u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx("span",{className:an("h-1.5 w-1.5 rounded-full",ge.total>0&&ge.completed>=1?"bg-emerald-600":"bg-zinc-300")}),u.jsx("span",{className:an("h-1.5 w-1.5 rounded-full",ge.total>0&&ge.completed>=2?"bg-emerald-600":"bg-zinc-300")})]})]})]}),u.jsx(ai,{onClick:pt,label:"OFF (absent journe)",tone:"dark",disabled:V,children:u.jsx(aee,{className:"h-5 w-5"})})]}),u.jsx("div",{className:"mt-4 grid gap-2",children:$e.map(Y=>{const we=he(Y,ee),Ee=!!be[Y.id],Ye=we.status==="absent",ot=we.status==="not_expected",Re=Ye||ot,at=we.expected&&!Ee&&!Ye,et=Ee?"bg-emerald-50 border-emerald-200":Re?"bg-sky-50 border-sky-200":at?"bg-orange-50 border-orange-200":"bg-white border-zinc-200",Le=JI.find(fe=>fe.key===Y.slotKey)?.Icon||Gf;return u.jsx("button",{type:"button",onClick:()=>En(Y.id),className:an("w-full rounded-3xl border px-3 py-3 text-left transition",et,"hover:shadow-sm"),children:u.jsxs("div",{className:"flex items-center justify-between gap-3",children:[u.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[u.jsx("div",{className:an("h-10 w-10 rounded-2xl border flex items-center justify-center",Ee?"border-emerald-200 bg-emerald-100":Re?"border-sky-200 bg-sky-100":at?"border-orange-200 bg-orange-100":"border-zinc-200 bg-zinc-100"),children:u.jsx(Le,{className:"h-5 w-5 text-zinc-900"})}),u.jsxs("div",{className:"min-w-0",children:[u.jsx("div",{className:"truncate text-sm font-semibold text-zinc-900",children:Y.title}),u.jsxs("div",{className:"mt-1 flex items-center gap-2",children:[Y.isEmpty?u.jsx(Cg,{children:"Vide"}):u.jsxs(Cg,{children:[Qf(Y.km)," km"]}),Ee&&u.jsx("span",{className:"inline-flex items-center text-emerald-800",children:u.jsx(ho,{className:"h-4 w-4"})}),Re&&!Ee&&u.jsx("span",{className:"inline-flex items-center text-sky-800",children:u.jsx(cg,{className:"h-4 w-4"})}),at&&u.jsx("span",{className:"inline-flex items-center text-orange-900",children:u.jsx(Gf,{className:"h-4 w-4"})})]})]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[ot&&u.jsx(ai,{onClick:fe=>{fe.stopPropagation(),je(Y.id)},label:"Je suis venu",disabled:V,children:u.jsx(Ek,{className:"h-5 w-5"})}),we.expected&&!Ee&&!Ye&&u.jsx(ai,{onClick:fe=>{fe.stopPropagation(),Ot(Y.id)},label:"Absent",tone:"sky",disabled:V,children:u.jsx(cg,{className:"h-5 w-5"})})]})]})},Y.id)})}),u.jsx(Ov,{children:He&&u.jsx(Cu.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},exit:{opacity:0,y:8},transition:{duration:.18},className:"mt-4 rounded-3xl border border-zinc-200 bg-white overflow-hidden",children:(()=>{const Y=he(He,ee),we=Y.status==="absent",Ee=Y.status==="not_expected",Ye=!!be[He.id],ot=Y.expected&&!we,Re=we?"Annuler":Ee?"Je suis venu":"Absent",at=we?()=>Ge(He.id):Ee?()=>je(He.id):()=>Ot(He.id),et=t3(He.km??0);return u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-zinc-200",children:[u.jsxs("div",{className:"min-w-0",children:[u.jsx("div",{className:"truncate text-sm font-semibold text-zinc-900",children:He.title}),u.jsxs("div",{className:"mt-1 flex items-center gap-2",children:[He.isEmpty?u.jsx(Cg,{children:"Vide"}):u.jsxs(Cg,{children:[Qf(He.km)," km"]}),Ye?u.jsx("span",{className:"inline-flex items-center text-emerald-800",children:u.jsx(ho,{className:"h-4 w-4"})}):we||Ee?u.jsx("span",{className:"inline-flex items-center text-sky-800",children:u.jsx(cg,{className:"h-4 w-4"})}):u.jsx("span",{className:"inline-flex items-center text-orange-900",children:u.jsx(Gf,{className:"h-4 w-4"})})]})]}),u.jsx(ai,{onClick:()=>{D(null),z(!1)},label:"Retour",children:u.jsx(Ii,{className:"h-5 w-5"})})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-2 p-3",children:[u.jsxs("button",{type:"button",onClick:at,className:an("rounded-2xl px-3 py-3 text-sm font-semibold border transition inline-flex items-center justify-center gap-2",Ee?"bg-zinc-900 text-white border-zinc-900 hover:bg-zinc-800":"bg-white text-zinc-900 border-zinc-200 hover:bg-zinc-50"),children:[Ee?u.jsx(Ek,{className:"h-4 w-4"}):u.jsx(cg,{className:"h-4 w-4"}),Re]}),u.jsxs("button",{type:"button",onClick:()=>z(Le=>!Le),className:"rounded-2xl px-3 py-3 text-sm font-semibold border border-zinc-200 bg-white hover:bg-zinc-50 inline-flex items-center justify-center gap-2",children:[u.jsx(Ij,{className:"h-4 w-4"}),"Fiche"]})]}),u.jsx(Ov,{children:G&&u.jsxs(Cu.div,{initial:{opacity:0,y:6},animate:{opacity:1,y:0},exit:{opacity:0,y:6},transition:{duration:.16},className:"mx-3 mb-3 rounded-2xl border border-zinc-200 bg-zinc-50 p-3",children:[He.details?.length?u.jsx("ul",{className:"list-disc pl-5 space-y-1 text-sm text-zinc-800",children:He.details.map((Le,fe)=>u.jsx("li",{children:Le},fe))}):u.jsx("div",{className:"text-sm text-zinc-600",children:He.assignmentId?"Sance coach  dtails dans la fiche.":"Aucun dtail pour ce crneau."}),He.assignmentId?u.jsx("div",{className:"mt-3",children:u.jsx("button",{type:"button",onClick:()=>i(`/swim-session?assignmentId=${He.assignmentId}`),className:"w-full rounded-2xl border border-zinc-200 bg-white px-3 py-2 text-sm font-semibold text-zinc-900 hover:bg-zinc-50",children:"Ouvrir la fiche complte"})}):null]})}),u.jsxs("div",{className:"px-4 pb-4",children:[!ot&&u.jsx("div",{className:"mb-3 rounded-2xl bg-sky-50 text-sky-900 px-3 py-2 text-xs",children:we?"Absent: aucun ressenti.":"Non prvu: appuyez Je suis venu."}),u.jsxs("div",{className:"space-y-4",children:[Og.map(Le=>{const fe=Me[Le.key];return u.jsxs("div",{className:"space-y-2",children:[u.jsx("div",{className:an("text-sm font-semibold",ot?"text-zinc-900":"text-zinc-500"),children:Le.label}),u.jsx("div",{className:"flex items-center gap-2",children:[1,2,3,4,5].map(Ie=>{const Nt=fe===Ie;return u.jsx("button",{type:"button",disabled:!ot,onClick:()=>ut(tt=>({...tt,[Le.key]:Ie})),className:an("h-11 w-11 rounded-2xl border text-sm font-semibold transition",ot?Nt?Dhe(Le.mode,Ie):"bg-white text-zinc-900 border-zinc-200 hover:bg-zinc-50":"bg-zinc-100 text-zinc-400 border-zinc-200 cursor-not-allowed"),children:Ie},Ie)})})]},Le.key)}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("div",{className:an("text-sm font-semibold",ot?"text-zinc-900":"text-zinc-500"),children:"Commentaire"}),u.jsx("textarea",{value:Me.comment,onChange:Le=>ut(fe=>({...fe,comment:Le.target.value})),disabled:!ot,rows:3,placeholder:"Sensations, points techniques",className:an("w-full resize-none rounded-3xl border px-4 py-3 text-sm outline-none",ot?"bg-white text-zinc-900 border-zinc-200 focus:ring-2 focus:ring-zinc-900/10":"bg-zinc-100 text-zinc-400 border-zinc-200")})]})]}),u.jsx(Ihe,{plannedMeters:et,valueMeters:Me.distanceMeters,onChange:Le=>ut(fe=>({...fe,distanceMeters:Le})),disabled:!ot}),u.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[u.jsx("button",{type:"button",onClick:yt,disabled:V||!ot||!Og.every(Le=>Number.isInteger(Me[Le.key])),className:an("rounded-2xl px-4 py-3 text-sm font-semibold transition",V||!ot?"bg-zinc-200 text-zinc-500 cursor-not-allowed":Og.every(Le=>Number.isInteger(Me[Le.key]))?"bg-emerald-700 text-white hover:bg-emerald-600":"bg-emerald-200 text-emerald-900/70 cursor-not-allowed"),children:"Valider"}),u.jsx("div",{className:"text-xs text-zinc-500",children:" km"})]})]})]})})()},He.id)})]})]})]})}const Mm=_.forwardRef(({className:e,...t},n)=>u.jsx("div",{className:"relative w-full overflow-auto",children:u.jsx("table",{ref:n,className:Ne("w-full caption-bottom text-sm",e),...t})}));Mm.displayName="Table";const km=_.forwardRef(({className:e,...t},n)=>u.jsx("thead",{ref:n,className:Ne("[&_tr]:border-b",e),...t}));km.displayName="TableHeader";const Dm=_.forwardRef(({className:e,...t},n)=>u.jsx("tbody",{ref:n,className:Ne("[&_tr:last-child]:border-0",e),...t}));Dm.displayName="TableBody";const Bhe=_.forwardRef(({className:e,...t},n)=>u.jsx("tfoot",{ref:n,className:Ne("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));Bhe.displayName="TableFooter";const ja=_.forwardRef(({className:e,...t},n)=>u.jsx("tr",{ref:n,className:Ne("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));ja.displayName="TableRow";const In=_.forwardRef(({className:e,...t},n)=>u.jsx("th",{ref:n,className:Ne("h-10 px-2 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t}));In.displayName="TableHead";const Rn=_.forwardRef(({className:e,...t},n)=>u.jsx("td",{ref:n,className:Ne("p-2 align-middle [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t}));Rn.displayName="TableCell";const qhe=_.forwardRef(({className:e,...t},n)=>u.jsx("caption",{ref:n,className:Ne("mt-4 text-sm text-muted-foreground",e),...t}));qhe.displayName="TableCaption";function u_(e,t,{checkForDefaultPrevented:n=!0}={}){return function(i){if(e?.(i),n===!1||!i.defaultPrevented)return t?.(i)}}function bu(e,t,{checkForDefaultPrevented:n=!0}={}){return function(i){if(e?.(i),n===!1||!i.defaultPrevented)return t?.(i)}}var zhe=Cr[" useInsertionEffect ".trim().toString()]||Ut;function Uhe({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[i,a,o]=Fhe({defaultProp:t,onChange:n}),l=e!==void 0,d=l?e:i;{const m=_.useRef(e!==void 0);_.useEffect(()=>{const p=m.current;p!==l&&console.warn(`${r} is changing from ${p?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),m.current=l},[l,r])}const f=_.useCallback(m=>{if(l){const p=Vhe(m)?m(e):m;p!==e&&o.current?.(p)}else a(m)},[l,e,a,o]);return[d,f]}function Fhe({defaultProp:e,onChange:t}){const[n,r]=_.useState(e),i=_.useRef(n),a=_.useRef(t);return zhe(()=>{a.current=t},[t]),_.useEffect(()=>{i.current!==n&&(a.current?.(n),i.current=n)},[n,i]),[n,r,a]}function Vhe(e){return typeof e=="function"}var d_="rovingFocusGroup.onEntryFocus",Hhe={bubbles:!1,cancelable:!0},Im="RovingFocusGroup",[RE,i9,Ghe]=UF(Im),[Khe,Sd]=Rr(Im,[Ghe]),[Whe,Yhe]=Khe(Im),a9=_.forwardRef((e,t)=>u.jsx(RE.Provider,{scope:e.__scopeRovingFocusGroup,children:u.jsx(RE.Slot,{scope:e.__scopeRovingFocusGroup,children:u.jsx(Xhe,{...e,ref:t})})}));a9.displayName=Im;var Xhe=_.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:a,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:d,onEntryFocus:f,preventScrollOnEntryFocus:m=!1,...p}=e,v=_.useRef(null),b=jt(t,v),x=Tm(a),[y,w]=Uhe({prop:o,defaultProp:l??null,onChange:d,caller:Im}),[E,N]=_.useState(!1),j=Sr(f),O=i9(n),T=_.useRef(!1),[C,R]=_.useState(0);return _.useEffect(()=>{const M=v.current;if(M)return M.addEventListener(d_,j),()=>M.removeEventListener(d_,j)},[j]),u.jsx(Whe,{scope:n,orientation:r,dir:x,loop:i,currentTabStopId:y,onItemFocus:_.useCallback(M=>w(M),[w]),onItemShiftTab:_.useCallback(()=>N(!0),[]),onFocusableItemAdd:_.useCallback(()=>R(M=>M+1),[]),onFocusableItemRemove:_.useCallback(()=>R(M=>M-1),[]),children:u.jsx(gt.div,{tabIndex:E||C===0?-1:0,"data-orientation":r,...p,ref:b,style:{outline:"none",...e.style},onMouseDown:bu(e.onMouseDown,()=>{T.current=!0}),onFocus:bu(e.onFocus,M=>{const k=!T.current;if(M.target===M.currentTarget&&k&&!E){const I=new CustomEvent(d_,Hhe);if(M.currentTarget.dispatchEvent(I),!I.defaultPrevented){const B=O().filter(D=>D.focusable),$=B.find(D=>D.active),F=B.find(D=>D.id===y),U=[$,F,...B].filter(Boolean).map(D=>D.ref.current);l9(U,m)}}T.current=!1}),onBlur:bu(e.onBlur,()=>N(!1))})})}),s9="RovingFocusGroupItem",o9=_.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:a,children:o,...l}=e,d=ss(),f=a||d,m=Yhe(s9,n),p=m.currentTabStopId===f,v=i9(n),{onFocusableItemAdd:b,onFocusableItemRemove:x,currentTabStopId:y}=m;return _.useEffect(()=>{if(r)return b(),()=>x()},[r,b,x]),u.jsx(RE.ItemSlot,{scope:n,id:f,focusable:r,active:i,children:u.jsx(gt.span,{tabIndex:p?0:-1,"data-orientation":m.orientation,...l,ref:t,onMouseDown:bu(e.onMouseDown,w=>{r?m.onItemFocus(f):w.preventDefault()}),onFocus:bu(e.onFocus,()=>m.onItemFocus(f)),onKeyDown:bu(e.onKeyDown,w=>{if(w.key==="Tab"&&w.shiftKey){m.onItemShiftTab();return}if(w.target!==w.currentTarget)return;const E=Zhe(w,m.orientation,m.dir);if(E!==void 0){if(w.metaKey||w.ctrlKey||w.altKey||w.shiftKey)return;w.preventDefault();let j=v().filter(O=>O.focusable).map(O=>O.ref.current);if(E==="last")j.reverse();else if(E==="prev"||E==="next"){E==="prev"&&j.reverse();const O=j.indexOf(w.currentTarget);j=m.loop?eme(j,O+1):j.slice(O+1)}setTimeout(()=>l9(j))}}),children:typeof o=="function"?o({isCurrentTabStop:p,hasTabStop:y!=null}):o})})});o9.displayName=s9;var Qhe={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Jhe(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function Zhe(e,t,n){const r=Jhe(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return Qhe[r]}function l9(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function eme(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var OT=a9,CT=o9,tme=Cr[" useInsertionEffect ".trim().toString()]||Ut;function nme({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[i,a,o]=rme({defaultProp:t,onChange:n}),l=e!==void 0,d=l?e:i;{const m=_.useRef(e!==void 0);_.useEffect(()=>{const p=m.current;p!==l&&console.warn(`${r} is changing from ${p?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),m.current=l},[l,r])}const f=_.useCallback(m=>{if(l){const p=ime(m)?m(e):m;p!==e&&o.current?.(p)}else a(m)},[l,e,a,o]);return[d,f]}function rme({defaultProp:e,onChange:t}){const[n,r]=_.useState(e),i=_.useRef(n),a=_.useRef(t);return tme(()=>{a.current=t},[t]),_.useEffect(()=>{i.current!==n&&(a.current?.(n),i.current=n)},[n,i]),[n,r,a]}function ime(e){return typeof e=="function"}var d0="Tabs",[ame]=Rr(d0,[Sd]),c9=Sd(),[sme,RT]=ame(d0),u9=_.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:i,defaultValue:a,orientation:o="horizontal",dir:l,activationMode:d="automatic",...f}=e,m=Tm(l),[p,v]=nme({prop:r,onChange:i,defaultProp:a??"",caller:d0});return u.jsx(sme,{scope:n,baseId:ss(),value:p,onValueChange:v,orientation:o,dir:m,activationMode:d,children:u.jsx(gt.div,{dir:m,"data-orientation":o,...f,ref:t})})});u9.displayName=d0;var d9="TabsList",f9=_.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...i}=e,a=RT(d9,n),o=c9(n);return u.jsx(OT,{asChild:!0,...o,orientation:a.orientation,dir:a.dir,loop:r,children:u.jsx(gt.div,{role:"tablist","aria-orientation":a.orientation,...i,ref:t})})});f9.displayName=d9;var h9="TabsTrigger",m9=_.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:i=!1,...a}=e,o=RT(h9,n),l=c9(n),d=v9(o.baseId,r),f=y9(o.baseId,r),m=r===o.value;return u.jsx(CT,{asChild:!0,...l,focusable:!i,active:m,children:u.jsx(gt.button,{type:"button",role:"tab","aria-selected":m,"aria-controls":f,"data-state":m?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:d,...a,ref:t,onMouseDown:u_(e.onMouseDown,p=>{!i&&p.button===0&&p.ctrlKey===!1?o.onValueChange(r):p.preventDefault()}),onKeyDown:u_(e.onKeyDown,p=>{[" ","Enter"].includes(p.key)&&o.onValueChange(r)}),onFocus:u_(e.onFocus,()=>{const p=o.activationMode!=="manual";!m&&!i&&p&&o.onValueChange(r)})})})});m9.displayName=h9;var p9="TabsContent",g9=_.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:i,children:a,...o}=e,l=RT(p9,n),d=v9(l.baseId,r),f=y9(l.baseId,r),m=r===l.value,p=_.useRef(m);return _.useEffect(()=>{const v=requestAnimationFrame(()=>p.current=!1);return()=>cancelAnimationFrame(v)},[]),u.jsx(la,{present:i||m,children:({present:v})=>u.jsx(gt.div,{"data-state":m?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":d,hidden:!v,id:f,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:p.current?"0s":void 0},children:v&&a})})});g9.displayName=p9;function v9(e,t){return`${e}-trigger-${t}`}function y9(e,t){return`${e}-content-${t}`}var ome=u9,b9=f9,x9=m9,w9=g9;const $m=ome,jd=_.forwardRef(({className:e,...t},n)=>u.jsx(b9,{ref:n,className:Ne("inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",e),...t}));jd.displayName=b9.displayName;const Oa=_.forwardRef(({className:e,...t},n)=>u.jsx(x9,{ref:n,className:Ne("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow",e),...t}));Oa.displayName=x9.displayName;const ms=_.forwardRef(({className:e,...t},n)=>u.jsx(w9,{ref:n,className:Ne("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));ms.displayName=w9.displayName;var f_,i3;function Yr(){if(i3)return f_;i3=1;var e=Array.isArray;return f_=e,f_}var h_,a3;function _9(){if(a3)return h_;a3=1;var e=typeof ag=="object"&&ag&&ag.Object===Object&&ag;return h_=e,h_}var m_,s3;function Ma(){if(s3)return m_;s3=1;var e=_9(),t=typeof self=="object"&&self&&self.Object===Object&&self,n=e||t||Function("return this")();return m_=n,m_}var p_,o3;function Lm(){if(o3)return p_;o3=1;var e=Ma(),t=e.Symbol;return p_=t,p_}var g_,l3;function lme(){if(l3)return g_;l3=1;var e=Lm(),t=Object.prototype,n=t.hasOwnProperty,r=t.toString,i=e?e.toStringTag:void 0;function a(o){var l=n.call(o,i),d=o[i];try{o[i]=void 0;var f=!0}catch{}var m=r.call(o);return f&&(l?o[i]=d:delete o[i]),m}return g_=a,g_}var v_,c3;function cme(){if(c3)return v_;c3=1;var e=Object.prototype,t=e.toString;function n(r){return t.call(r)}return v_=n,v_}var y_,u3;function bs(){if(u3)return y_;u3=1;var e=Lm(),t=lme(),n=cme(),r="[object Null]",i="[object Undefined]",a=e?e.toStringTag:void 0;function o(l){return l==null?l===void 0?i:r:a&&a in Object(l)?t(l):n(l)}return y_=o,y_}var b_,d3;function xs(){if(d3)return b_;d3=1;function e(t){return t!=null&&typeof t=="object"}return b_=e,b_}var x_,f3;function Ed(){if(f3)return x_;f3=1;var e=bs(),t=xs(),n="[object Symbol]";function r(i){return typeof i=="symbol"||t(i)&&e(i)==n}return x_=r,x_}var w_,h3;function PT(){if(h3)return w_;h3=1;var e=Yr(),t=Ed(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(a,o){if(e(a))return!1;var l=typeof a;return l=="number"||l=="symbol"||l=="boolean"||a==null||t(a)?!0:r.test(a)||!n.test(a)||o!=null&&a in Object(o)}return w_=i,w_}var __,m3;function jo(){if(m3)return __;m3=1;function e(t){var n=typeof t;return t!=null&&(n=="object"||n=="function")}return __=e,__}var S_,p3;function MT(){if(p3)return S_;p3=1;var e=bs(),t=jo(),n="[object AsyncFunction]",r="[object Function]",i="[object GeneratorFunction]",a="[object Proxy]";function o(l){if(!t(l))return!1;var d=e(l);return d==r||d==i||d==n||d==a}return S_=o,S_}var j_,g3;function ume(){if(g3)return j_;g3=1;var e=Ma(),t=e["__core-js_shared__"];return j_=t,j_}var E_,v3;function dme(){if(v3)return E_;v3=1;var e=ume(),t=(function(){var r=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""})();function n(r){return!!t&&t in r}return E_=n,E_}var N_,y3;function S9(){if(y3)return N_;y3=1;var e=Function.prototype,t=e.toString;function n(r){if(r!=null){try{return t.call(r)}catch{}try{return r+""}catch{}}return""}return N_=n,N_}var A_,b3;function fme(){if(b3)return A_;b3=1;var e=MT(),t=dme(),n=jo(),r=S9(),i=/[\\^$.*+?()[\]{}|]/g,a=/^\[object .+?Constructor\]$/,o=Function.prototype,l=Object.prototype,d=o.toString,f=l.hasOwnProperty,m=RegExp("^"+d.call(f).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function p(v){if(!n(v)||t(v))return!1;var b=e(v)?m:a;return b.test(r(v))}return A_=p,A_}var T_,x3;function hme(){if(x3)return T_;x3=1;function e(t,n){return t?.[n]}return T_=e,T_}var O_,w3;function Ul(){if(w3)return O_;w3=1;var e=fme(),t=hme();function n(r,i){var a=t(r,i);return e(a)?a:void 0}return O_=n,O_}var C_,_3;function f0(){if(_3)return C_;_3=1;var e=Ul(),t=e(Object,"create");return C_=t,C_}var R_,S3;function mme(){if(S3)return R_;S3=1;var e=f0();function t(){this.__data__=e?e(null):{},this.size=0}return R_=t,R_}var P_,j3;function pme(){if(j3)return P_;j3=1;function e(t){var n=this.has(t)&&delete this.__data__[t];return this.size-=n?1:0,n}return P_=e,P_}var M_,E3;function gme(){if(E3)return M_;E3=1;var e=f0(),t="__lodash_hash_undefined__",n=Object.prototype,r=n.hasOwnProperty;function i(a){var o=this.__data__;if(e){var l=o[a];return l===t?void 0:l}return r.call(o,a)?o[a]:void 0}return M_=i,M_}var k_,N3;function vme(){if(N3)return k_;N3=1;var e=f0(),t=Object.prototype,n=t.hasOwnProperty;function r(i){var a=this.__data__;return e?a[i]!==void 0:n.call(a,i)}return k_=r,k_}var D_,A3;function yme(){if(A3)return D_;A3=1;var e=f0(),t="__lodash_hash_undefined__";function n(r,i){var a=this.__data__;return this.size+=this.has(r)?0:1,a[r]=e&&i===void 0?t:i,this}return D_=n,D_}var I_,T3;function bme(){if(T3)return I_;T3=1;var e=mme(),t=pme(),n=gme(),r=vme(),i=yme();function a(o){var l=-1,d=o==null?0:o.length;for(this.clear();++l<d;){var f=o[l];this.set(f[0],f[1])}}return a.prototype.clear=e,a.prototype.delete=t,a.prototype.get=n,a.prototype.has=r,a.prototype.set=i,I_=a,I_}var $_,O3;function xme(){if(O3)return $_;O3=1;function e(){this.__data__=[],this.size=0}return $_=e,$_}var L_,C3;function kT(){if(C3)return L_;C3=1;function e(t,n){return t===n||t!==t&&n!==n}return L_=e,L_}var B_,R3;function h0(){if(R3)return B_;R3=1;var e=kT();function t(n,r){for(var i=n.length;i--;)if(e(n[i][0],r))return i;return-1}return B_=t,B_}var q_,P3;function wme(){if(P3)return q_;P3=1;var e=h0(),t=Array.prototype,n=t.splice;function r(i){var a=this.__data__,o=e(a,i);if(o<0)return!1;var l=a.length-1;return o==l?a.pop():n.call(a,o,1),--this.size,!0}return q_=r,q_}var z_,M3;function _me(){if(M3)return z_;M3=1;var e=h0();function t(n){var r=this.__data__,i=e(r,n);return i<0?void 0:r[i][1]}return z_=t,z_}var U_,k3;function Sme(){if(k3)return U_;k3=1;var e=h0();function t(n){return e(this.__data__,n)>-1}return U_=t,U_}var F_,D3;function jme(){if(D3)return F_;D3=1;var e=h0();function t(n,r){var i=this.__data__,a=e(i,n);return a<0?(++this.size,i.push([n,r])):i[a][1]=r,this}return F_=t,F_}var V_,I3;function m0(){if(I3)return V_;I3=1;var e=xme(),t=wme(),n=_me(),r=Sme(),i=jme();function a(o){var l=-1,d=o==null?0:o.length;for(this.clear();++l<d;){var f=o[l];this.set(f[0],f[1])}}return a.prototype.clear=e,a.prototype.delete=t,a.prototype.get=n,a.prototype.has=r,a.prototype.set=i,V_=a,V_}var H_,$3;function DT(){if($3)return H_;$3=1;var e=Ul(),t=Ma(),n=e(t,"Map");return H_=n,H_}var G_,L3;function Eme(){if(L3)return G_;L3=1;var e=bme(),t=m0(),n=DT();function r(){this.size=0,this.__data__={hash:new e,map:new(n||t),string:new e}}return G_=r,G_}var K_,B3;function Nme(){if(B3)return K_;B3=1;function e(t){var n=typeof t;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?t!=="__proto__":t===null}return K_=e,K_}var W_,q3;function p0(){if(q3)return W_;q3=1;var e=Nme();function t(n,r){var i=n.__data__;return e(r)?i[typeof r=="string"?"string":"hash"]:i.map}return W_=t,W_}var Y_,z3;function Ame(){if(z3)return Y_;z3=1;var e=p0();function t(n){var r=e(this,n).delete(n);return this.size-=r?1:0,r}return Y_=t,Y_}var X_,U3;function Tme(){if(U3)return X_;U3=1;var e=p0();function t(n){return e(this,n).get(n)}return X_=t,X_}var Q_,F3;function Ome(){if(F3)return Q_;F3=1;var e=p0();function t(n){return e(this,n).has(n)}return Q_=t,Q_}var J_,V3;function Cme(){if(V3)return J_;V3=1;var e=p0();function t(n,r){var i=e(this,n),a=i.size;return i.set(n,r),this.size+=i.size==a?0:1,this}return J_=t,J_}var Z_,H3;function IT(){if(H3)return Z_;H3=1;var e=Eme(),t=Ame(),n=Tme(),r=Ome(),i=Cme();function a(o){var l=-1,d=o==null?0:o.length;for(this.clear();++l<d;){var f=o[l];this.set(f[0],f[1])}}return a.prototype.clear=e,a.prototype.delete=t,a.prototype.get=n,a.prototype.has=r,a.prototype.set=i,Z_=a,Z_}var e1,G3;function j9(){if(G3)return e1;G3=1;var e=IT(),t="Expected a function";function n(r,i){if(typeof r!="function"||i!=null&&typeof i!="function")throw new TypeError(t);var a=function(){var o=arguments,l=i?i.apply(this,o):o[0],d=a.cache;if(d.has(l))return d.get(l);var f=r.apply(this,o);return a.cache=d.set(l,f)||d,f};return a.cache=new(n.Cache||e),a}return n.Cache=e,e1=n,e1}var t1,K3;function Rme(){if(K3)return t1;K3=1;var e=j9(),t=500;function n(r){var i=e(r,function(o){return a.size===t&&a.clear(),o}),a=i.cache;return i}return t1=n,t1}var n1,W3;function Pme(){if(W3)return n1;W3=1;var e=Rme(),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,r=e(function(i){var a=[];return i.charCodeAt(0)===46&&a.push(""),i.replace(t,function(o,l,d,f){a.push(d?f.replace(n,"$1"):l||o)}),a});return n1=r,n1}var r1,Y3;function $T(){if(Y3)return r1;Y3=1;function e(t,n){for(var r=-1,i=t==null?0:t.length,a=Array(i);++r<i;)a[r]=n(t[r],r,t);return a}return r1=e,r1}var i1,X3;function Mme(){if(X3)return i1;X3=1;var e=Lm(),t=$T(),n=Yr(),r=Ed(),i=e?e.prototype:void 0,a=i?i.toString:void 0;function o(l){if(typeof l=="string")return l;if(n(l))return t(l,o)+"";if(r(l))return a?a.call(l):"";var d=l+"";return d=="0"&&1/l==-1/0?"-0":d}return i1=o,i1}var a1,Q3;function E9(){if(Q3)return a1;Q3=1;var e=Mme();function t(n){return n==null?"":e(n)}return a1=t,a1}var s1,J3;function N9(){if(J3)return s1;J3=1;var e=Yr(),t=PT(),n=Pme(),r=E9();function i(a,o){return e(a)?a:t(a,o)?[a]:n(r(a))}return s1=i,s1}var o1,Z3;function g0(){if(Z3)return o1;Z3=1;var e=Ed();function t(n){if(typeof n=="string"||e(n))return n;var r=n+"";return r=="0"&&1/n==-1/0?"-0":r}return o1=t,o1}var l1,e$;function LT(){if(e$)return l1;e$=1;var e=N9(),t=g0();function n(r,i){i=e(i,r);for(var a=0,o=i.length;r!=null&&a<o;)r=r[t(i[a++])];return a&&a==o?r:void 0}return l1=n,l1}var c1,t$;function A9(){if(t$)return c1;t$=1;var e=LT();function t(n,r,i){var a=n==null?void 0:e(n,r);return a===void 0?i:a}return c1=t,c1}var kme=A9();const Li=nn(kme);var u1,n$;function Dme(){if(n$)return u1;n$=1;function e(t){return t==null}return u1=e,u1}var Ime=Dme();const vt=nn(Ime);var d1,r$;function $me(){if(r$)return d1;r$=1;var e=bs(),t=Yr(),n=xs(),r="[object String]";function i(a){return typeof a=="string"||!t(a)&&n(a)&&e(a)==r}return d1=i,d1}var Lme=$me();const Ml=nn(Lme);var Bme=MT();const _t=nn(Bme);var qme=jo();const Nd=nn(qme);var f1={exports:{}},Gt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i$;function zme(){if(i$)return Gt;i$=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),o=Symbol.for("react.context"),l=Symbol.for("react.server_context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),b=Symbol.for("react.offscreen"),x;x=Symbol.for("react.module.reference");function y(w){if(typeof w=="object"&&w!==null){var E=w.$$typeof;switch(E){case e:switch(w=w.type,w){case n:case i:case r:case f:case m:return w;default:switch(w=w&&w.$$typeof,w){case l:case o:case d:case v:case p:case a:return w;default:return E}}case t:return E}}}return Gt.ContextConsumer=o,Gt.ContextProvider=a,Gt.Element=e,Gt.ForwardRef=d,Gt.Fragment=n,Gt.Lazy=v,Gt.Memo=p,Gt.Portal=t,Gt.Profiler=i,Gt.StrictMode=r,Gt.Suspense=f,Gt.SuspenseList=m,Gt.isAsyncMode=function(){return!1},Gt.isConcurrentMode=function(){return!1},Gt.isContextConsumer=function(w){return y(w)===o},Gt.isContextProvider=function(w){return y(w)===a},Gt.isElement=function(w){return typeof w=="object"&&w!==null&&w.$$typeof===e},Gt.isForwardRef=function(w){return y(w)===d},Gt.isFragment=function(w){return y(w)===n},Gt.isLazy=function(w){return y(w)===v},Gt.isMemo=function(w){return y(w)===p},Gt.isPortal=function(w){return y(w)===t},Gt.isProfiler=function(w){return y(w)===i},Gt.isStrictMode=function(w){return y(w)===r},Gt.isSuspense=function(w){return y(w)===f},Gt.isSuspenseList=function(w){return y(w)===m},Gt.isValidElementType=function(w){return typeof w=="string"||typeof w=="function"||w===n||w===i||w===r||w===f||w===m||w===b||typeof w=="object"&&w!==null&&(w.$$typeof===v||w.$$typeof===p||w.$$typeof===a||w.$$typeof===o||w.$$typeof===d||w.$$typeof===x||w.getModuleId!==void 0)},Gt.typeOf=y,Gt}var a$;function Ume(){return a$||(a$=1,f1.exports=zme()),f1.exports}var Fme=Ume(),h1,s$;function T9(){if(s$)return h1;s$=1;var e=bs(),t=xs(),n="[object Number]";function r(i){return typeof i=="number"||t(i)&&e(i)==n}return h1=r,h1}var m1,o$;function Vme(){if(o$)return m1;o$=1;var e=T9();function t(n){return e(n)&&n!=+n}return m1=t,m1}var Hme=Vme();const Ad=nn(Hme);var Gme=T9();const Kme=nn(Gme);var ra=function(t){return t===0?0:t>0?1:-1},pl=function(t){return Ml(t)&&t.indexOf("%")===t.length-1},Te=function(t){return Kme(t)&&!Ad(t)},Wme=function(t){return vt(t)},tr=function(t){return Te(t)||Ml(t)},Yme=0,Fl=function(t){var n=++Yme;return"".concat(t||"").concat(n)},kl=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Te(t)&&!Ml(t))return r;var a;if(pl(t)){var o=t.indexOf("%");a=n*parseFloat(t.slice(0,o))/100}else a=+t;return Ad(a)&&(a=r),i&&a>n&&(a=n),a},no=function(t){if(!t)return null;var n=Object.keys(t);return n&&n.length?t[n[0]]:null},Xme=function(t){if(!Array.isArray(t))return!1;for(var n=t.length,r={},i=0;i<n;i++)if(!r[t[i]])r[t[i]]=!0;else return!0;return!1},$n=function(t,n){return Te(t)&&Te(n)?function(r){return t+r*(n-t)}:function(){return n}};function Pv(e,t,n){return!e||!e.length?null:e.find(function(r){return r&&(typeof t=="function"?t(r):Li(r,t))===n})}var Qme=function(t){if(!t||!t.length)return null;for(var n=t.length,r=0,i=0,a=0,o=0,l=1/0,d=-1/0,f=0,m=0,p=0;p<n;p++)f=t[p].cx||0,m=t[p].cy||0,r+=f,i+=m,a+=f*m,o+=f*f,l=Math.min(l,f),d=Math.max(d,f);var v=n*o!==r*r?(n*a-r*i)/(n*o-r*r):0;return{xmin:l,xmax:d,a:v,b:(i-v*r)/n}},Jme=function(t,n){return Te(t)&&Te(n)?t-n:Ml(t)&&Ml(n)?t.localeCompare(n):t instanceof Date&&n instanceof Date?t.getTime()-n.getTime():String(t).localeCompare(String(n))};function xu(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var r in t)if({}.hasOwnProperty.call(t,r)&&!{}.hasOwnProperty.call(e,r))return!1;return!0}function PE(e){"@babel/helpers - typeof";return PE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},PE(e)}var Zme=["viewBox","children"],epe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],l$=["points","pathLength"],p1={svg:Zme,polygon:l$,polyline:l$},BT=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Mv=function(t,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var r=t;if(_.isValidElement(t)&&(r=t.props),!Nd(r))return null;var i={};return Object.keys(r).forEach(function(a){BT.includes(a)&&(i[a]=n||function(o){return r[a](r,o)})}),i},tpe=function(t,n,r){return function(i){return t(n,r,i),null}},Lh=function(t,n,r){if(!Nd(t)||PE(t)!=="object")return null;var i=null;return Object.keys(t).forEach(function(a){var o=t[a];BT.includes(a)&&typeof o=="function"&&(i||(i={}),i[a]=tpe(o,n,r))}),i},npe=["children"],rpe=["children"];function c$(e,t){if(e==null)return{};var n=ipe(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function ipe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function ME(e){"@babel/helpers - typeof";return ME=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ME(e)}var u$={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},os=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},d$=null,g1=null,qT=function e(t){if(t===d$&&Array.isArray(g1))return g1;var n=[];return _.Children.forEach(t,function(r){vt(r)||(Fme.isFragment(r)?n=n.concat(e(r.props.children)):n.push(r))}),g1=n,d$=t,n};function Wr(e,t){var n=[],r=[];return Array.isArray(t)?r=t.map(function(i){return os(i)}):r=[os(t)],qT(e).forEach(function(i){var a=Li(i,"type.displayName")||Li(i,"type.name");r.indexOf(a)!==-1&&n.push(i)}),n}function oi(e,t){var n=Wr(e,t);return n&&n[0]}var f$=function(t){if(!t||!t.props)return!1;var n=t.props,r=n.width,i=n.height;return!(!Te(r)||r<=0||!Te(i)||i<=0)},ape=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],spe=function(t){return t&&t.type&&Ml(t.type)&&ape.indexOf(t.type)>=0},O9=function(t){return t&&ME(t)==="object"&&"clipDot"in t},ope=function(t,n,r,i){var a,o=(a=p1?.[i])!==null&&a!==void 0?a:[];return n.startsWith("data-")||!_t(t)&&(i&&o.includes(n)||epe.includes(n))||r&&BT.includes(n)},wt=function(t,n,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var i=t;if(_.isValidElement(t)&&(i=t.props),!Nd(i))return null;var a={};return Object.keys(i).forEach(function(o){var l;ope((l=i)===null||l===void 0?void 0:l[o],o,n,r)&&(a[o]=i[o])}),a},kE=function e(t,n){if(t===n)return!0;var r=_.Children.count(t);if(r!==_.Children.count(n))return!1;if(r===0)return!0;if(r===1)return h$(Array.isArray(t)?t[0]:t,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var a=t[i],o=n[i];if(Array.isArray(a)||Array.isArray(o)){if(!e(a,o))return!1}else if(!h$(a,o))return!1}return!0},h$=function(t,n){if(vt(t)&&vt(n))return!0;if(!vt(t)&&!vt(n)){var r=t.props||{},i=r.children,a=c$(r,npe),o=n.props||{},l=o.children,d=c$(o,rpe);return i&&l?xu(a,d)&&kE(i,l):!i&&!l?xu(a,d):!1}return!1},m$=function(t,n){var r=[],i={};return qT(t).forEach(function(a,o){if(spe(a))r.push(a);else if(a){var l=os(a.type),d=n[l]||{},f=d.handler,m=d.once;if(f&&(!m||!i[l])){var p=f(a,l,o);r.push(p),i[l]=!0}}}),r},lpe=function(t){var n=t&&t.type;return n&&u$[n]?u$[n]:null},cpe=function(t,n){return qT(n).indexOf(t)},upe=["children","width","height","viewBox","className","style","title","desc"];function DE(){return DE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},DE.apply(this,arguments)}function dpe(e,t){if(e==null)return{};var n=fpe(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function fpe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function IE(e){var t=e.children,n=e.width,r=e.height,i=e.viewBox,a=e.className,o=e.style,l=e.title,d=e.desc,f=dpe(e,upe),m=i||{width:n,height:r,x:0,y:0},p=Tt("recharts-surface",a);return q.createElement("svg",DE({},wt(f,!0,"svg"),{className:p,width:n,height:r,style:o,viewBox:"".concat(m.x," ").concat(m.y," ").concat(m.width," ").concat(m.height)}),q.createElement("title",null,l),q.createElement("desc",null,d),t)}var hpe=["children","className"];function $E(){return $E=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$E.apply(this,arguments)}function mpe(e,t){if(e==null)return{};var n=ppe(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function ppe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var Ht=q.forwardRef(function(e,t){var n=e.children,r=e.className,i=mpe(e,hpe),a=Tt("recharts-layer",r);return q.createElement("g",$E({className:a},wt(i,!0),{ref:t}),n)}),ls=function(t,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a]},v1,p$;function gpe(){if(p$)return v1;p$=1;function e(t,n,r){var i=-1,a=t.length;n<0&&(n=-n>a?0:a+n),r=r>a?a:r,r<0&&(r+=a),a=n>r?0:r-n>>>0,n>>>=0;for(var o=Array(a);++i<a;)o[i]=t[i+n];return o}return v1=e,v1}var y1,g$;function vpe(){if(g$)return y1;g$=1;var e=gpe();function t(n,r,i){var a=n.length;return i=i===void 0?a:i,!r&&i>=a?n:e(n,r,i)}return y1=t,y1}var b1,v$;function C9(){if(v$)return b1;v$=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=t+n+r,a="\\ufe0e\\ufe0f",o="\\u200d",l=RegExp("["+o+e+i+a+"]");function d(f){return l.test(f)}return b1=d,b1}var x1,y$;function ype(){if(y$)return x1;y$=1;function e(t){return t.split("")}return x1=e,x1}var w1,b$;function bpe(){if(b$)return w1;b$=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=t+n+r,a="\\ufe0e\\ufe0f",o="["+e+"]",l="["+i+"]",d="\\ud83c[\\udffb-\\udfff]",f="(?:"+l+"|"+d+")",m="[^"+e+"]",p="(?:\\ud83c[\\udde6-\\uddff]){2}",v="[\\ud800-\\udbff][\\udc00-\\udfff]",b="\\u200d",x=f+"?",y="["+a+"]?",w="(?:"+b+"(?:"+[m,p,v].join("|")+")"+y+x+")*",E=y+x+w,N="(?:"+[m+l+"?",l,p,v,o].join("|")+")",j=RegExp(d+"(?="+d+")|"+N+E,"g");function O(T){return T.match(j)||[]}return w1=O,w1}var _1,x$;function xpe(){if(x$)return _1;x$=1;var e=ype(),t=C9(),n=bpe();function r(i){return t(i)?n(i):e(i)}return _1=r,_1}var S1,w$;function wpe(){if(w$)return S1;w$=1;var e=vpe(),t=C9(),n=xpe(),r=E9();function i(a){return function(o){o=r(o);var l=t(o)?n(o):void 0,d=l?l[0]:o.charAt(0),f=l?e(l,1).join(""):o.slice(1);return d[a]()+f}}return S1=i,S1}var j1,_$;function _pe(){if(_$)return j1;_$=1;var e=wpe(),t=e("toUpperCase");return j1=t,j1}var Spe=_pe();const v0=nn(Spe);function un(e){return function(){return e}}const R9=Math.cos,kv=Math.sin,ua=Math.sqrt,Dv=Math.PI,y0=2*Dv,LE=Math.PI,BE=2*LE,al=1e-6,jpe=BE-al;function P9(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function Epe(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return P9;const n=10**t;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class Npe{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?P9:Epe(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,a,o){this._append`C${+t},${+n},${+r},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(t,n,r,i,a){if(t=+t,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,l=this._y1,d=r-t,f=i-n,m=o-t,p=l-n,v=m*m+p*p;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(v>al)if(!(Math.abs(p*d-f*m)>al)||!a)this._append`L${this._x1=t},${this._y1=n}`;else{let b=r-o,x=i-l,y=d*d+f*f,w=b*b+x*x,E=Math.sqrt(y),N=Math.sqrt(v),j=a*Math.tan((LE-Math.acos((y+v-w)/(2*E*N)))/2),O=j/N,T=j/E;Math.abs(O-1)>al&&this._append`L${t+O*m},${n+O*p}`,this._append`A${a},${a},0,0,${+(p*b>m*x)},${this._x1=t+T*d},${this._y1=n+T*f}`}}arc(t,n,r,i,a,o){if(t=+t,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let l=r*Math.cos(i),d=r*Math.sin(i),f=t+l,m=n+d,p=1^o,v=o?i-a:a-i;this._x1===null?this._append`M${f},${m}`:(Math.abs(this._x1-f)>al||Math.abs(this._y1-m)>al)&&this._append`L${f},${m}`,r&&(v<0&&(v=v%BE+BE),v>jpe?this._append`A${r},${r},0,1,${p},${t-l},${n-d}A${r},${r},0,1,${p},${this._x1=f},${this._y1=m}`:v>al&&this._append`A${r},${r},0,${+(v>=LE)},${p},${this._x1=t+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function zT(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new Npe(t)}function UT(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function M9(e){this._context=e}M9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function b0(e){return new M9(e)}function k9(e){return e[0]}function D9(e){return e[1]}function I9(e,t){var n=un(!0),r=null,i=b0,a=null,o=zT(l);e=typeof e=="function"?e:e===void 0?k9:un(e),t=typeof t=="function"?t:t===void 0?D9:un(t);function l(d){var f,m=(d=UT(d)).length,p,v=!1,b;for(r==null&&(a=i(b=o())),f=0;f<=m;++f)!(f<m&&n(p=d[f],f,d))===v&&((v=!v)?a.lineStart():a.lineEnd()),v&&a.point(+e(p,f,d),+t(p,f,d));if(b)return a=null,b+""||null}return l.x=function(d){return arguments.length?(e=typeof d=="function"?d:un(+d),l):e},l.y=function(d){return arguments.length?(t=typeof d=="function"?d:un(+d),l):t},l.defined=function(d){return arguments.length?(n=typeof d=="function"?d:un(!!d),l):n},l.curve=function(d){return arguments.length?(i=d,r!=null&&(a=i(r)),l):i},l.context=function(d){return arguments.length?(d==null?r=a=null:a=i(r=d),l):r},l}function Rg(e,t,n){var r=null,i=un(!0),a=null,o=b0,l=null,d=zT(f);e=typeof e=="function"?e:e===void 0?k9:un(+e),t=typeof t=="function"?t:un(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?D9:un(+n);function f(p){var v,b,x,y=(p=UT(p)).length,w,E=!1,N,j=new Array(y),O=new Array(y);for(a==null&&(l=o(N=d())),v=0;v<=y;++v){if(!(v<y&&i(w=p[v],v,p))===E)if(E=!E)b=v,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),x=v-1;x>=b;--x)l.point(j[x],O[x]);l.lineEnd(),l.areaEnd()}E&&(j[v]=+e(w,v,p),O[v]=+t(w,v,p),l.point(r?+r(w,v,p):j[v],n?+n(w,v,p):O[v]))}if(N)return l=null,N+""||null}function m(){return I9().defined(i).curve(o).context(a)}return f.x=function(p){return arguments.length?(e=typeof p=="function"?p:un(+p),r=null,f):e},f.x0=function(p){return arguments.length?(e=typeof p=="function"?p:un(+p),f):e},f.x1=function(p){return arguments.length?(r=p==null?null:typeof p=="function"?p:un(+p),f):r},f.y=function(p){return arguments.length?(t=typeof p=="function"?p:un(+p),n=null,f):t},f.y0=function(p){return arguments.length?(t=typeof p=="function"?p:un(+p),f):t},f.y1=function(p){return arguments.length?(n=p==null?null:typeof p=="function"?p:un(+p),f):n},f.lineX0=f.lineY0=function(){return m().x(e).y(t)},f.lineY1=function(){return m().x(e).y(n)},f.lineX1=function(){return m().x(r).y(t)},f.defined=function(p){return arguments.length?(i=typeof p=="function"?p:un(!!p),f):i},f.curve=function(p){return arguments.length?(o=p,a!=null&&(l=o(a)),f):o},f.context=function(p){return arguments.length?(p==null?a=l=null:l=o(a=p),f):a},f}class $9{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function Ape(e){return new $9(e,!0)}function Tpe(e){return new $9(e,!1)}const FT={draw(e,t){const n=ua(t/Dv);e.moveTo(n,0),e.arc(0,0,n,0,y0)}},Ope={draw(e,t){const n=ua(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},L9=ua(1/3),Cpe=L9*2,Rpe={draw(e,t){const n=ua(t/Cpe),r=n*L9;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},Ppe={draw(e,t){const n=ua(t),r=-n/2;e.rect(r,r,n,n)}},Mpe=.8908130915292852,B9=kv(Dv/10)/kv(7*Dv/10),kpe=kv(y0/10)*B9,Dpe=-R9(y0/10)*B9,Ipe={draw(e,t){const n=ua(t*Mpe),r=kpe*n,i=Dpe*n;e.moveTo(0,-n),e.lineTo(r,i);for(let a=1;a<5;++a){const o=y0*a/5,l=R9(o),d=kv(o);e.lineTo(d*n,-l*n),e.lineTo(l*r-d*i,d*r+l*i)}e.closePath()}},E1=ua(3),$pe={draw(e,t){const n=-ua(t/(E1*3));e.moveTo(0,n*2),e.lineTo(-E1*n,-n),e.lineTo(E1*n,-n),e.closePath()}},Ai=-.5,Ti=ua(3)/2,qE=1/ua(12),Lpe=(qE/2+1)*3,Bpe={draw(e,t){const n=ua(t/Lpe),r=n/2,i=n*qE,a=r,o=n*qE+n,l=-a,d=o;e.moveTo(r,i),e.lineTo(a,o),e.lineTo(l,d),e.lineTo(Ai*r-Ti*i,Ti*r+Ai*i),e.lineTo(Ai*a-Ti*o,Ti*a+Ai*o),e.lineTo(Ai*l-Ti*d,Ti*l+Ai*d),e.lineTo(Ai*r+Ti*i,Ai*i-Ti*r),e.lineTo(Ai*a+Ti*o,Ai*o-Ti*a),e.lineTo(Ai*l+Ti*d,Ai*d-Ti*l),e.closePath()}};function qpe(e,t){let n=null,r=zT(i);e=typeof e=="function"?e:un(e||FT),t=typeof t=="function"?t:un(t===void 0?64:+t);function i(){let a;if(n||(n=a=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(e=typeof a=="function"?a:un(a),i):e},i.size=function(a){return arguments.length?(t=typeof a=="function"?a:un(+a),i):t},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function Iv(){}function $v(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function q9(e){this._context=e}q9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:$v(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:$v(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function zpe(e){return new q9(e)}function z9(e){this._context=e}z9.prototype={areaStart:Iv,areaEnd:Iv,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:$v(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Upe(e){return new z9(e)}function U9(e){this._context=e}U9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:$v(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Fpe(e){return new U9(e)}function F9(e){this._context=e}F9.prototype={areaStart:Iv,areaEnd:Iv,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function Vpe(e){return new F9(e)}function S$(e){return e<0?-1:1}function j$(e,t,n){var r=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(r||i<0&&-0),o=(n-e._y1)/(i||r<0&&-0),l=(a*i+o*r)/(r+i);return(S$(a)+S$(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(l))||0}function E$(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function N1(e,t,n){var r=e._x0,i=e._y0,a=e._x1,o=e._y1,l=(a-r)/3;e._context.bezierCurveTo(r+l,i+l*t,a-l,o-l*n,a,o)}function Lv(e){this._context=e}Lv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:N1(this,this._t0,E$(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,N1(this,E$(this,n=j$(this,e,t)),n);break;default:N1(this,this._t0,n=j$(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function V9(e){this._context=new H9(e)}(V9.prototype=Object.create(Lv.prototype)).point=function(e,t){Lv.prototype.point.call(this,t,e)};function H9(e){this._context=e}H9.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,a){this._context.bezierCurveTo(t,e,r,n,a,i)}};function Hpe(e){return new Lv(e)}function Gpe(e){return new V9(e)}function G9(e){this._context=e}G9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=N$(e),i=N$(t),a=0,o=1;o<n;++a,++o)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],e[o],t[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function N$(e){var t,n=e.length-1,r,i=new Array(n),a=new Array(n),o=new Array(n);for(i[0]=0,a[0]=2,o[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,a[t]=4,o[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,a[n-1]=7,o[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/a[t-1],a[t]-=r,o[t]-=r*o[t-1];for(i[n-1]=o[n-1]/a[n-1],t=n-2;t>=0;--t)i[t]=(o[t]-i[t+1])/a[t];for(a[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function Kpe(e){return new G9(e)}function x0(e,t){this._context=e,this._t=t}x0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function Wpe(e){return new x0(e,.5)}function Ype(e){return new x0(e,0)}function Xpe(e){return new x0(e,1)}function Ru(e,t){if((o=e.length)>1)for(var n=1,r,i,a=e[t[0]],o,l=a.length;n<o;++n)for(i=a,a=e[t[n]],r=0;r<l;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function zE(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function Qpe(e,t){return e[t]}function Jpe(e){const t=[];return t.key=e,t}function Zpe(){var e=un([]),t=zE,n=Ru,r=Qpe;function i(a){var o=Array.from(e.apply(this,arguments),Jpe),l,d=o.length,f=-1,m;for(const p of a)for(l=0,++f;l<d;++l)(o[l][f]=[0,+r(p,o[l].key,f,a)]).data=p;for(l=0,m=UT(t(o));l<d;++l)o[m[l]].index=l;return n(o,m),o}return i.keys=function(a){return arguments.length?(e=typeof a=="function"?a:un(Array.from(a)),i):e},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:un(+a),i):r},i.order=function(a){return arguments.length?(t=a==null?zE:typeof a=="function"?a:un(Array.from(a)),i):t},i.offset=function(a){return arguments.length?(n=a??Ru,i):n},i}function ege(e,t){if((r=e.length)>0){for(var n,r,i=0,a=e[0].length,o;i<a;++i){for(o=n=0;n<r;++n)o+=e[n][i][1]||0;if(o)for(n=0;n<r;++n)e[n][i][1]/=o}Ru(e,t)}}function tge(e,t){if((i=e.length)>0){for(var n=0,r=e[t[0]],i,a=r.length;n<a;++n){for(var o=0,l=0;o<i;++o)l+=e[o][n][1]||0;r[n][1]+=r[n][0]=-l/2}Ru(e,t)}}function nge(e,t){if(!(!((o=e.length)>0)||!((a=(i=e[t[0]]).length)>0))){for(var n=0,r=1,i,a,o;r<a;++r){for(var l=0,d=0,f=0;l<o;++l){for(var m=e[t[l]],p=m[r][1]||0,v=m[r-1][1]||0,b=(p-v)/2,x=0;x<l;++x){var y=e[t[x]],w=y[r][1]||0,E=y[r-1][1]||0;b+=w-E}d+=p,f+=b*p}i[r-1][1]+=i[r-1][0]=n,d&&(n-=f/d)}i[r-1][1]+=i[r-1][0]=n,Ru(e,t)}}function Bh(e){"@babel/helpers - typeof";return Bh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bh(e)}var rge=["type","size","sizeType"];function UE(){return UE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},UE.apply(this,arguments)}function A$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function T$(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?A$(Object(n),!0).forEach(function(r){ige(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A$(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ige(e,t,n){return t=age(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function age(e){var t=sge(e,"string");return Bh(t)=="symbol"?t:t+""}function sge(e,t){if(Bh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Bh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function oge(e,t){if(e==null)return{};var n=lge(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function lge(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var K9={symbolCircle:FT,symbolCross:Ope,symbolDiamond:Rpe,symbolSquare:Ppe,symbolStar:Ipe,symbolTriangle:$pe,symbolWye:Bpe},cge=Math.PI/180,uge=function(t){var n="symbol".concat(v0(t));return K9[n]||FT},dge=function(t,n,r){if(n==="area")return t;switch(r){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var i=18*cge;return 1.25*t*t*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},fge=function(t,n){K9["symbol".concat(v0(t))]=n},w0=function(t){var n=t.type,r=n===void 0?"circle":n,i=t.size,a=i===void 0?64:i,o=t.sizeType,l=o===void 0?"area":o,d=oge(t,rge),f=T$(T$({},d),{},{type:r,size:a,sizeType:l}),m=function(){var w=uge(r),E=qpe().type(w).size(dge(a,l,r));return E()},p=f.className,v=f.cx,b=f.cy,x=wt(f,!0);return v===+v&&b===+b&&a===+a?q.createElement("path",UE({},x,{className:Tt("recharts-symbols",p),transform:"translate(".concat(v,", ").concat(b,")"),d:m()})):null};w0.registerSymbol=fge;function Pu(e){"@babel/helpers - typeof";return Pu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pu(e)}function FE(){return FE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},FE.apply(this,arguments)}function O$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function hge(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?O$(Object(n),!0).forEach(function(r){qh(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O$(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function mge(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pge(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Y9(r.key),r)}}function gge(e,t,n){return t&&pge(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function vge(e,t,n){return t=Bv(t),yge(e,W9()?Reflect.construct(t,n||[],Bv(e).constructor):t.apply(e,n))}function yge(e,t){if(t&&(Pu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bge(e)}function bge(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function W9(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(W9=function(){return!!e})()}function Bv(e){return Bv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Bv(e)}function xge(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&VE(e,t)}function VE(e,t){return VE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},VE(e,t)}function qh(e,t,n){return t=Y9(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Y9(e){var t=wge(e,"string");return Pu(t)=="symbol"?t:t+""}function wge(e,t){if(Pu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Pu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Oi=32,VT=(function(e){function t(){return mge(this,t),vge(this,t,arguments)}return xge(t,e),gge(t,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,a=Oi/2,o=Oi/6,l=Oi/3,d=r.inactive?i:r.color;if(r.type==="plainline")return q.createElement("line",{strokeWidth:4,fill:"none",stroke:d,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:a,x2:Oi,y2:a,className:"recharts-legend-icon"});if(r.type==="line")return q.createElement("path",{strokeWidth:4,fill:"none",stroke:d,d:"M0,".concat(a,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(a,`
            H`).concat(Oi,"M").concat(2*l,",").concat(a,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(a),className:"recharts-legend-icon"});if(r.type==="rect")return q.createElement("path",{stroke:"none",fill:d,d:"M0,".concat(Oi/8,"h").concat(Oi,"v").concat(Oi*3/4,"h").concat(-Oi,"z"),className:"recharts-legend-icon"});if(q.isValidElement(r.legendIcon)){var f=hge({},r);return delete f.legendIcon,q.cloneElement(r.legendIcon,f)}return q.createElement(w0,{fill:d,cx:a,cy:a,size:Oi,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,a=i.payload,o=i.iconSize,l=i.layout,d=i.formatter,f=i.inactiveColor,m={x:0,y:0,width:Oi,height:Oi},p={display:l==="horizontal"?"inline-block":"block",marginRight:10},v={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(b,x){var y=b.formatter||d,w=Tt(qh(qh({"recharts-legend-item":!0},"legend-item-".concat(x),!0),"inactive",b.inactive));if(b.type==="none")return null;var E=_t(b.value)?null:b.value;ls(!_t(b.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var N=b.inactive?f:b.color;return q.createElement("li",FE({className:w,style:p,key:"legend-item-".concat(x)},Lh(r.props,b,x)),q.createElement(IE,{width:o,height:o,viewBox:m,style:v},r.renderIcon(b)),q.createElement("span",{className:"recharts-legend-item-text",style:{color:N}},y?y(E,b,x):E))})}},{key:"render",value:function(){var r=this.props,i=r.payload,a=r.layout,o=r.align;if(!i||!i.length)return null;var l={padding:0,margin:0,textAlign:a==="horizontal"?o:"left"};return q.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])})(_.PureComponent);qh(VT,"displayName","Legend");qh(VT,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var A1,C$;function _ge(){if(C$)return A1;C$=1;var e=m0();function t(){this.__data__=new e,this.size=0}return A1=t,A1}var T1,R$;function Sge(){if(R$)return T1;R$=1;function e(t){var n=this.__data__,r=n.delete(t);return this.size=n.size,r}return T1=e,T1}var O1,P$;function jge(){if(P$)return O1;P$=1;function e(t){return this.__data__.get(t)}return O1=e,O1}var C1,M$;function Ege(){if(M$)return C1;M$=1;function e(t){return this.__data__.has(t)}return C1=e,C1}var R1,k$;function Nge(){if(k$)return R1;k$=1;var e=m0(),t=DT(),n=IT(),r=200;function i(a,o){var l=this.__data__;if(l instanceof e){var d=l.__data__;if(!t||d.length<r-1)return d.push([a,o]),this.size=++l.size,this;l=this.__data__=new n(d)}return l.set(a,o),this.size=l.size,this}return R1=i,R1}var P1,D$;function X9(){if(D$)return P1;D$=1;var e=m0(),t=_ge(),n=Sge(),r=jge(),i=Ege(),a=Nge();function o(l){var d=this.__data__=new e(l);this.size=d.size}return o.prototype.clear=t,o.prototype.delete=n,o.prototype.get=r,o.prototype.has=i,o.prototype.set=a,P1=o,P1}var M1,I$;function Age(){if(I$)return M1;I$=1;var e="__lodash_hash_undefined__";function t(n){return this.__data__.set(n,e),this}return M1=t,M1}var k1,$$;function Tge(){if($$)return k1;$$=1;function e(t){return this.__data__.has(t)}return k1=e,k1}var D1,L$;function Q9(){if(L$)return D1;L$=1;var e=IT(),t=Age(),n=Tge();function r(i){var a=-1,o=i==null?0:i.length;for(this.__data__=new e;++a<o;)this.add(i[a])}return r.prototype.add=r.prototype.push=t,r.prototype.has=n,D1=r,D1}var I1,B$;function J9(){if(B$)return I1;B$=1;function e(t,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(t[r],r,t))return!0;return!1}return I1=e,I1}var $1,q$;function Z9(){if(q$)return $1;q$=1;function e(t,n){return t.has(n)}return $1=e,$1}var L1,z$;function eH(){if(z$)return L1;z$=1;var e=Q9(),t=J9(),n=Z9(),r=1,i=2;function a(o,l,d,f,m,p){var v=d&r,b=o.length,x=l.length;if(b!=x&&!(v&&x>b))return!1;var y=p.get(o),w=p.get(l);if(y&&w)return y==l&&w==o;var E=-1,N=!0,j=d&i?new e:void 0;for(p.set(o,l),p.set(l,o);++E<b;){var O=o[E],T=l[E];if(f)var C=v?f(T,O,E,l,o,p):f(O,T,E,o,l,p);if(C!==void 0){if(C)continue;N=!1;break}if(j){if(!t(l,function(R,M){if(!n(j,M)&&(O===R||m(O,R,d,f,p)))return j.push(M)})){N=!1;break}}else if(!(O===T||m(O,T,d,f,p))){N=!1;break}}return p.delete(o),p.delete(l),N}return L1=a,L1}var B1,U$;function Oge(){if(U$)return B1;U$=1;var e=Ma(),t=e.Uint8Array;return B1=t,B1}var q1,F$;function Cge(){if(F$)return q1;F$=1;function e(t){var n=-1,r=Array(t.size);return t.forEach(function(i,a){r[++n]=[a,i]}),r}return q1=e,q1}var z1,V$;function HT(){if(V$)return z1;V$=1;function e(t){var n=-1,r=Array(t.size);return t.forEach(function(i){r[++n]=i}),r}return z1=e,z1}var U1,H$;function Rge(){if(H$)return U1;H$=1;var e=Lm(),t=Oge(),n=kT(),r=eH(),i=Cge(),a=HT(),o=1,l=2,d="[object Boolean]",f="[object Date]",m="[object Error]",p="[object Map]",v="[object Number]",b="[object RegExp]",x="[object Set]",y="[object String]",w="[object Symbol]",E="[object ArrayBuffer]",N="[object DataView]",j=e?e.prototype:void 0,O=j?j.valueOf:void 0;function T(C,R,M,k,I,B,$){switch(M){case N:if(C.byteLength!=R.byteLength||C.byteOffset!=R.byteOffset)return!1;C=C.buffer,R=R.buffer;case E:return!(C.byteLength!=R.byteLength||!B(new t(C),new t(R)));case d:case f:case v:return n(+C,+R);case m:return C.name==R.name&&C.message==R.message;case b:case y:return C==R+"";case p:var F=i;case x:var H=k&o;if(F||(F=a),C.size!=R.size&&!H)return!1;var U=$.get(C);if(U)return U==R;k|=l,$.set(C,R);var D=r(F(C),F(R),k,I,B,$);return $.delete(C),D;case w:if(O)return O.call(C)==O.call(R)}return!1}return U1=T,U1}var F1,G$;function tH(){if(G$)return F1;G$=1;function e(t,n){for(var r=-1,i=n.length,a=t.length;++r<i;)t[a+r]=n[r];return t}return F1=e,F1}var V1,K$;function Pge(){if(K$)return V1;K$=1;var e=tH(),t=Yr();function n(r,i,a){var o=i(r);return t(r)?o:e(o,a(r))}return V1=n,V1}var H1,W$;function Mge(){if(W$)return H1;W$=1;function e(t,n){for(var r=-1,i=t==null?0:t.length,a=0,o=[];++r<i;){var l=t[r];n(l,r,t)&&(o[a++]=l)}return o}return H1=e,H1}var G1,Y$;function kge(){if(Y$)return G1;Y$=1;function e(){return[]}return G1=e,G1}var K1,X$;function Dge(){if(X$)return K1;X$=1;var e=Mge(),t=kge(),n=Object.prototype,r=n.propertyIsEnumerable,i=Object.getOwnPropertySymbols,a=i?function(o){return o==null?[]:(o=Object(o),e(i(o),function(l){return r.call(o,l)}))}:t;return K1=a,K1}var W1,Q$;function Ige(){if(Q$)return W1;Q$=1;function e(t,n){for(var r=-1,i=Array(t);++r<t;)i[r]=n(r);return i}return W1=e,W1}var Y1,J$;function $ge(){if(J$)return Y1;J$=1;var e=bs(),t=xs(),n="[object Arguments]";function r(i){return t(i)&&e(i)==n}return Y1=r,Y1}var X1,Z$;function GT(){if(Z$)return X1;Z$=1;var e=$ge(),t=xs(),n=Object.prototype,r=n.hasOwnProperty,i=n.propertyIsEnumerable,a=e((function(){return arguments})())?e:function(o){return t(o)&&r.call(o,"callee")&&!i.call(o,"callee")};return X1=a,X1}var Jf={exports:{}},Q1,e4;function Lge(){if(e4)return Q1;e4=1;function e(){return!1}return Q1=e,Q1}Jf.exports;var t4;function nH(){return t4||(t4=1,(function(e,t){var n=Ma(),r=Lge(),i=t&&!t.nodeType&&t,a=i&&!0&&e&&!e.nodeType&&e,o=a&&a.exports===i,l=o?n.Buffer:void 0,d=l?l.isBuffer:void 0,f=d||r;e.exports=f})(Jf,Jf.exports)),Jf.exports}var J1,n4;function KT(){if(n4)return J1;n4=1;var e=9007199254740991,t=/^(?:0|[1-9]\d*)$/;function n(r,i){var a=typeof r;return i=i??e,!!i&&(a=="number"||a!="symbol"&&t.test(r))&&r>-1&&r%1==0&&r<i}return J1=n,J1}var Z1,r4;function WT(){if(r4)return Z1;r4=1;var e=9007199254740991;function t(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=e}return Z1=t,Z1}var eS,i4;function Bge(){if(i4)return eS;i4=1;var e=bs(),t=WT(),n=xs(),r="[object Arguments]",i="[object Array]",a="[object Boolean]",o="[object Date]",l="[object Error]",d="[object Function]",f="[object Map]",m="[object Number]",p="[object Object]",v="[object RegExp]",b="[object Set]",x="[object String]",y="[object WeakMap]",w="[object ArrayBuffer]",E="[object DataView]",N="[object Float32Array]",j="[object Float64Array]",O="[object Int8Array]",T="[object Int16Array]",C="[object Int32Array]",R="[object Uint8Array]",M="[object Uint8ClampedArray]",k="[object Uint16Array]",I="[object Uint32Array]",B={};B[N]=B[j]=B[O]=B[T]=B[C]=B[R]=B[M]=B[k]=B[I]=!0,B[r]=B[i]=B[w]=B[a]=B[E]=B[o]=B[l]=B[d]=B[f]=B[m]=B[p]=B[v]=B[b]=B[x]=B[y]=!1;function $(F){return n(F)&&t(F.length)&&!!B[e(F)]}return eS=$,eS}var tS,a4;function rH(){if(a4)return tS;a4=1;function e(t){return function(n){return t(n)}}return tS=e,tS}var Zf={exports:{}};Zf.exports;var s4;function qge(){return s4||(s4=1,(function(e,t){var n=_9(),r=t&&!t.nodeType&&t,i=r&&!0&&e&&!e.nodeType&&e,a=i&&i.exports===r,o=a&&n.process,l=(function(){try{var d=i&&i.require&&i.require("util").types;return d||o&&o.binding&&o.binding("util")}catch{}})();e.exports=l})(Zf,Zf.exports)),Zf.exports}var nS,o4;function iH(){if(o4)return nS;o4=1;var e=Bge(),t=rH(),n=qge(),r=n&&n.isTypedArray,i=r?t(r):e;return nS=i,nS}var rS,l4;function zge(){if(l4)return rS;l4=1;var e=Ige(),t=GT(),n=Yr(),r=nH(),i=KT(),a=iH(),o=Object.prototype,l=o.hasOwnProperty;function d(f,m){var p=n(f),v=!p&&t(f),b=!p&&!v&&r(f),x=!p&&!v&&!b&&a(f),y=p||v||b||x,w=y?e(f.length,String):[],E=w.length;for(var N in f)(m||l.call(f,N))&&!(y&&(N=="length"||b&&(N=="offset"||N=="parent")||x&&(N=="buffer"||N=="byteLength"||N=="byteOffset")||i(N,E)))&&w.push(N);return w}return rS=d,rS}var iS,c4;function Uge(){if(c4)return iS;c4=1;var e=Object.prototype;function t(n){var r=n&&n.constructor,i=typeof r=="function"&&r.prototype||e;return n===i}return iS=t,iS}var aS,u4;function aH(){if(u4)return aS;u4=1;function e(t,n){return function(r){return t(n(r))}}return aS=e,aS}var sS,d4;function Fge(){if(d4)return sS;d4=1;var e=aH(),t=e(Object.keys,Object);return sS=t,sS}var oS,f4;function Vge(){if(f4)return oS;f4=1;var e=Uge(),t=Fge(),n=Object.prototype,r=n.hasOwnProperty;function i(a){if(!e(a))return t(a);var o=[];for(var l in Object(a))r.call(a,l)&&l!="constructor"&&o.push(l);return o}return oS=i,oS}var lS,h4;function Bm(){if(h4)return lS;h4=1;var e=MT(),t=WT();function n(r){return r!=null&&t(r.length)&&!e(r)}return lS=n,lS}var cS,m4;function _0(){if(m4)return cS;m4=1;var e=zge(),t=Vge(),n=Bm();function r(i){return n(i)?e(i):t(i)}return cS=r,cS}var uS,p4;function Hge(){if(p4)return uS;p4=1;var e=Pge(),t=Dge(),n=_0();function r(i){return e(i,n,t)}return uS=r,uS}var dS,g4;function Gge(){if(g4)return dS;g4=1;var e=Hge(),t=1,n=Object.prototype,r=n.hasOwnProperty;function i(a,o,l,d,f,m){var p=l&t,v=e(a),b=v.length,x=e(o),y=x.length;if(b!=y&&!p)return!1;for(var w=b;w--;){var E=v[w];if(!(p?E in o:r.call(o,E)))return!1}var N=m.get(a),j=m.get(o);if(N&&j)return N==o&&j==a;var O=!0;m.set(a,o),m.set(o,a);for(var T=p;++w<b;){E=v[w];var C=a[E],R=o[E];if(d)var M=p?d(R,C,E,o,a,m):d(C,R,E,a,o,m);if(!(M===void 0?C===R||f(C,R,l,d,m):M)){O=!1;break}T||(T=E=="constructor")}if(O&&!T){var k=a.constructor,I=o.constructor;k!=I&&"constructor"in a&&"constructor"in o&&!(typeof k=="function"&&k instanceof k&&typeof I=="function"&&I instanceof I)&&(O=!1)}return m.delete(a),m.delete(o),O}return dS=i,dS}var fS,v4;function Kge(){if(v4)return fS;v4=1;var e=Ul(),t=Ma(),n=e(t,"DataView");return fS=n,fS}var hS,y4;function Wge(){if(y4)return hS;y4=1;var e=Ul(),t=Ma(),n=e(t,"Promise");return hS=n,hS}var mS,b4;function sH(){if(b4)return mS;b4=1;var e=Ul(),t=Ma(),n=e(t,"Set");return mS=n,mS}var pS,x4;function Yge(){if(x4)return pS;x4=1;var e=Ul(),t=Ma(),n=e(t,"WeakMap");return pS=n,pS}var gS,w4;function Xge(){if(w4)return gS;w4=1;var e=Kge(),t=DT(),n=Wge(),r=sH(),i=Yge(),a=bs(),o=S9(),l="[object Map]",d="[object Object]",f="[object Promise]",m="[object Set]",p="[object WeakMap]",v="[object DataView]",b=o(e),x=o(t),y=o(n),w=o(r),E=o(i),N=a;return(e&&N(new e(new ArrayBuffer(1)))!=v||t&&N(new t)!=l||n&&N(n.resolve())!=f||r&&N(new r)!=m||i&&N(new i)!=p)&&(N=function(j){var O=a(j),T=O==d?j.constructor:void 0,C=T?o(T):"";if(C)switch(C){case b:return v;case x:return l;case y:return f;case w:return m;case E:return p}return O}),gS=N,gS}var vS,_4;function Qge(){if(_4)return vS;_4=1;var e=X9(),t=eH(),n=Rge(),r=Gge(),i=Xge(),a=Yr(),o=nH(),l=iH(),d=1,f="[object Arguments]",m="[object Array]",p="[object Object]",v=Object.prototype,b=v.hasOwnProperty;function x(y,w,E,N,j,O){var T=a(y),C=a(w),R=T?m:i(y),M=C?m:i(w);R=R==f?p:R,M=M==f?p:M;var k=R==p,I=M==p,B=R==M;if(B&&o(y)){if(!o(w))return!1;T=!0,k=!1}if(B&&!k)return O||(O=new e),T||l(y)?t(y,w,E,N,j,O):n(y,w,R,E,N,j,O);if(!(E&d)){var $=k&&b.call(y,"__wrapped__"),F=I&&b.call(w,"__wrapped__");if($||F){var H=$?y.value():y,U=F?w.value():w;return O||(O=new e),j(H,U,E,N,O)}}return B?(O||(O=new e),r(y,w,E,N,j,O)):!1}return vS=x,vS}var yS,S4;function YT(){if(S4)return yS;S4=1;var e=Qge(),t=xs();function n(r,i,a,o,l){return r===i?!0:r==null||i==null||!t(r)&&!t(i)?r!==r&&i!==i:e(r,i,a,o,n,l)}return yS=n,yS}var bS,j4;function Jge(){if(j4)return bS;j4=1;var e=X9(),t=YT(),n=1,r=2;function i(a,o,l,d){var f=l.length,m=f,p=!d;if(a==null)return!m;for(a=Object(a);f--;){var v=l[f];if(p&&v[2]?v[1]!==a[v[0]]:!(v[0]in a))return!1}for(;++f<m;){v=l[f];var b=v[0],x=a[b],y=v[1];if(p&&v[2]){if(x===void 0&&!(b in a))return!1}else{var w=new e;if(d)var E=d(x,y,b,a,o,w);if(!(E===void 0?t(y,x,n|r,d,w):E))return!1}}return!0}return bS=i,bS}var xS,E4;function oH(){if(E4)return xS;E4=1;var e=jo();function t(n){return n===n&&!e(n)}return xS=t,xS}var wS,N4;function Zge(){if(N4)return wS;N4=1;var e=oH(),t=_0();function n(r){for(var i=t(r),a=i.length;a--;){var o=i[a],l=r[o];i[a]=[o,l,e(l)]}return i}return wS=n,wS}var _S,A4;function lH(){if(A4)return _S;A4=1;function e(t,n){return function(r){return r==null?!1:r[t]===n&&(n!==void 0||t in Object(r))}}return _S=e,_S}var SS,T4;function eve(){if(T4)return SS;T4=1;var e=Jge(),t=Zge(),n=lH();function r(i){var a=t(i);return a.length==1&&a[0][2]?n(a[0][0],a[0][1]):function(o){return o===i||e(o,i,a)}}return SS=r,SS}var jS,O4;function tve(){if(O4)return jS;O4=1;function e(t,n){return t!=null&&n in Object(t)}return jS=e,jS}var ES,C4;function nve(){if(C4)return ES;C4=1;var e=N9(),t=GT(),n=Yr(),r=KT(),i=WT(),a=g0();function o(l,d,f){d=e(d,l);for(var m=-1,p=d.length,v=!1;++m<p;){var b=a(d[m]);if(!(v=l!=null&&f(l,b)))break;l=l[b]}return v||++m!=p?v:(p=l==null?0:l.length,!!p&&i(p)&&r(b,p)&&(n(l)||t(l)))}return ES=o,ES}var NS,R4;function rve(){if(R4)return NS;R4=1;var e=tve(),t=nve();function n(r,i){return r!=null&&t(r,i,e)}return NS=n,NS}var AS,P4;function ive(){if(P4)return AS;P4=1;var e=YT(),t=A9(),n=rve(),r=PT(),i=oH(),a=lH(),o=g0(),l=1,d=2;function f(m,p){return r(m)&&i(p)?a(o(m),p):function(v){var b=t(v,m);return b===void 0&&b===p?n(v,m):e(p,b,l|d)}}return AS=f,AS}var TS,M4;function Td(){if(M4)return TS;M4=1;function e(t){return t}return TS=e,TS}var OS,k4;function ave(){if(k4)return OS;k4=1;function e(t){return function(n){return n?.[t]}}return OS=e,OS}var CS,D4;function sve(){if(D4)return CS;D4=1;var e=LT();function t(n){return function(r){return e(r,n)}}return CS=t,CS}var RS,I4;function ove(){if(I4)return RS;I4=1;var e=ave(),t=sve(),n=PT(),r=g0();function i(a){return n(a)?e(r(a)):t(a)}return RS=i,RS}var PS,$4;function Eo(){if($4)return PS;$4=1;var e=eve(),t=ive(),n=Td(),r=Yr(),i=ove();function a(o){return typeof o=="function"?o:o==null?n:typeof o=="object"?r(o)?t(o[0],o[1]):e(o):i(o)}return PS=a,PS}var MS,L4;function cH(){if(L4)return MS;L4=1;function e(t,n,r,i){for(var a=t.length,o=r+(i?1:-1);i?o--:++o<a;)if(n(t[o],o,t))return o;return-1}return MS=e,MS}var kS,B4;function lve(){if(B4)return kS;B4=1;function e(t){return t!==t}return kS=e,kS}var DS,q4;function cve(){if(q4)return DS;q4=1;function e(t,n,r){for(var i=r-1,a=t.length;++i<a;)if(t[i]===n)return i;return-1}return DS=e,DS}var IS,z4;function uve(){if(z4)return IS;z4=1;var e=cH(),t=lve(),n=cve();function r(i,a,o){return a===a?n(i,a,o):e(i,t,o)}return IS=r,IS}var $S,U4;function dve(){if(U4)return $S;U4=1;var e=uve();function t(n,r){var i=n==null?0:n.length;return!!i&&e(n,r,0)>-1}return $S=t,$S}var LS,F4;function fve(){if(F4)return LS;F4=1;function e(t,n,r){for(var i=-1,a=t==null?0:t.length;++i<a;)if(r(n,t[i]))return!0;return!1}return LS=e,LS}var BS,V4;function hve(){if(V4)return BS;V4=1;function e(){}return BS=e,BS}var qS,H4;function mve(){if(H4)return qS;H4=1;var e=sH(),t=hve(),n=HT(),r=1/0,i=e&&1/n(new e([,-0]))[1]==r?function(a){return new e(a)}:t;return qS=i,qS}var zS,G4;function pve(){if(G4)return zS;G4=1;var e=Q9(),t=dve(),n=fve(),r=Z9(),i=mve(),a=HT(),o=200;function l(d,f,m){var p=-1,v=t,b=d.length,x=!0,y=[],w=y;if(m)x=!1,v=n;else if(b>=o){var E=f?null:i(d);if(E)return a(E);x=!1,v=r,w=new e}else w=f?[]:y;e:for(;++p<b;){var N=d[p],j=f?f(N):N;if(N=m||N!==0?N:0,x&&j===j){for(var O=w.length;O--;)if(w[O]===j)continue e;f&&w.push(j),y.push(N)}else v(w,j,m)||(w!==y&&w.push(j),y.push(N))}return y}return zS=l,zS}var US,K4;function gve(){if(K4)return US;K4=1;var e=Eo(),t=pve();function n(r,i){return r&&r.length?t(r,e(i,2)):[]}return US=n,US}var vve=gve();const W4=nn(vve);function uH(e,t,n){return t===!0?W4(e,n):_t(t)?W4(e,t):e}function Mu(e){"@babel/helpers - typeof";return Mu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mu(e)}var yve=["ref"];function Y4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Za(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Y4(Object(n),!0).forEach(function(r){S0(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Y4(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function bve(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function X4(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,fH(r.key),r)}}function xve(e,t,n){return t&&X4(e.prototype,t),n&&X4(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function wve(e,t,n){return t=qv(t),_ve(e,dH()?Reflect.construct(t,n||[],qv(e).constructor):t.apply(e,n))}function _ve(e,t){if(t&&(Mu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Sve(e)}function Sve(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(dH=function(){return!!e})()}function qv(e){return qv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},qv(e)}function jve(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&HE(e,t)}function HE(e,t){return HE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},HE(e,t)}function S0(e,t,n){return t=fH(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fH(e){var t=Eve(e,"string");return Mu(t)=="symbol"?t:t+""}function Eve(e,t){if(Mu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Mu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Nve(e,t){if(e==null)return{};var n=Ave(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Ave(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function Tve(e){return e.value}function Ove(e,t){if(q.isValidElement(e))return q.cloneElement(e,t);if(typeof e=="function")return q.createElement(e,t);t.ref;var n=Nve(t,yve);return q.createElement(VT,n)}var Q4=1,wu=(function(e){function t(){var n;bve(this,t);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=wve(this,t,[].concat(i)),S0(n,"lastBoundingBox",{width:-1,height:-1}),n}return jve(t,e),xve(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>Q4||Math.abs(i.height-this.lastBoundingBox.height)>Q4)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Za({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,a=i.layout,o=i.align,l=i.verticalAlign,d=i.margin,f=i.chartWidth,m=i.chartHeight,p,v;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(o==="center"&&a==="vertical"){var b=this.getBBoxSnapshot();p={left:((f||0)-b.width)/2}}else p=o==="right"?{right:d&&d.right||0}:{left:d&&d.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(l==="middle"){var x=this.getBBoxSnapshot();v={top:((m||0)-x.height)/2}}else v=l==="bottom"?{bottom:d&&d.bottom||0}:{top:d&&d.top||0};return Za(Za({},p),v)}},{key:"render",value:function(){var r=this,i=this.props,a=i.content,o=i.width,l=i.height,d=i.wrapperStyle,f=i.payloadUniqBy,m=i.payload,p=Za(Za({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(d)),d);return q.createElement("div",{className:"recharts-legend-wrapper",style:p,ref:function(b){r.wrapperNode=b}},Ove(a,Za(Za({},this.props),{},{payload:uH(m,f,Tve)})))}}],[{key:"getWithHeight",value:function(r,i){var a=Za(Za({},this.defaultProps),r.props),o=a.layout;return o==="vertical"&&Te(r.props.height)?{height:r.props.height}:o==="horizontal"?{width:r.props.width||i}:null}}])})(_.PureComponent);S0(wu,"displayName","Legend");S0(wu,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var FS,J4;function Cve(){if(J4)return FS;J4=1;var e=Lm(),t=GT(),n=Yr(),r=e?e.isConcatSpreadable:void 0;function i(a){return n(a)||t(a)||!!(r&&a&&a[r])}return FS=i,FS}var VS,Z4;function hH(){if(Z4)return VS;Z4=1;var e=tH(),t=Cve();function n(r,i,a,o,l){var d=-1,f=r.length;for(a||(a=t),l||(l=[]);++d<f;){var m=r[d];i>0&&a(m)?i>1?n(m,i-1,a,o,l):e(l,m):o||(l[l.length]=m)}return l}return VS=n,VS}var HS,e5;function Rve(){if(e5)return HS;e5=1;function e(t){return function(n,r,i){for(var a=-1,o=Object(n),l=i(n),d=l.length;d--;){var f=l[t?d:++a];if(r(o[f],f,o)===!1)break}return n}}return HS=e,HS}var GS,t5;function Pve(){if(t5)return GS;t5=1;var e=Rve(),t=e();return GS=t,GS}var KS,n5;function mH(){if(n5)return KS;n5=1;var e=Pve(),t=_0();function n(r,i){return r&&e(r,i,t)}return KS=n,KS}var WS,r5;function Mve(){if(r5)return WS;r5=1;var e=Bm();function t(n,r){return function(i,a){if(i==null)return i;if(!e(i))return n(i,a);for(var o=i.length,l=r?o:-1,d=Object(i);(r?l--:++l<o)&&a(d[l],l,d)!==!1;);return i}}return WS=t,WS}var YS,i5;function XT(){if(i5)return YS;i5=1;var e=mH(),t=Mve(),n=t(e);return YS=n,YS}var XS,a5;function pH(){if(a5)return XS;a5=1;var e=XT(),t=Bm();function n(r,i){var a=-1,o=t(r)?Array(r.length):[];return e(r,function(l,d,f){o[++a]=i(l,d,f)}),o}return XS=n,XS}var QS,s5;function kve(){if(s5)return QS;s5=1;function e(t,n){var r=t.length;for(t.sort(n);r--;)t[r]=t[r].value;return t}return QS=e,QS}var JS,o5;function Dve(){if(o5)return JS;o5=1;var e=Ed();function t(n,r){if(n!==r){var i=n!==void 0,a=n===null,o=n===n,l=e(n),d=r!==void 0,f=r===null,m=r===r,p=e(r);if(!f&&!p&&!l&&n>r||l&&d&&m&&!f&&!p||a&&d&&m||!i&&m||!o)return 1;if(!a&&!l&&!p&&n<r||p&&i&&o&&!a&&!l||f&&i&&o||!d&&o||!m)return-1}return 0}return JS=t,JS}var ZS,l5;function Ive(){if(l5)return ZS;l5=1;var e=Dve();function t(n,r,i){for(var a=-1,o=n.criteria,l=r.criteria,d=o.length,f=i.length;++a<d;){var m=e(o[a],l[a]);if(m){if(a>=f)return m;var p=i[a];return m*(p=="desc"?-1:1)}}return n.index-r.index}return ZS=t,ZS}var e2,c5;function $ve(){if(c5)return e2;c5=1;var e=$T(),t=LT(),n=Eo(),r=pH(),i=kve(),a=rH(),o=Ive(),l=Td(),d=Yr();function f(m,p,v){p.length?p=e(p,function(y){return d(y)?function(w){return t(w,y.length===1?y[0]:y)}:y}):p=[l];var b=-1;p=e(p,a(n));var x=r(m,function(y,w,E){var N=e(p,function(j){return j(y)});return{criteria:N,index:++b,value:y}});return i(x,function(y,w){return o(y,w,v)})}return e2=f,e2}var t2,u5;function Lve(){if(u5)return t2;u5=1;function e(t,n,r){switch(r.length){case 0:return t.call(n);case 1:return t.call(n,r[0]);case 2:return t.call(n,r[0],r[1]);case 3:return t.call(n,r[0],r[1],r[2])}return t.apply(n,r)}return t2=e,t2}var n2,d5;function Bve(){if(d5)return n2;d5=1;var e=Lve(),t=Math.max;function n(r,i,a){return i=t(i===void 0?r.length-1:i,0),function(){for(var o=arguments,l=-1,d=t(o.length-i,0),f=Array(d);++l<d;)f[l]=o[i+l];l=-1;for(var m=Array(i+1);++l<i;)m[l]=o[l];return m[i]=a(f),e(r,this,m)}}return n2=n,n2}var r2,f5;function qve(){if(f5)return r2;f5=1;function e(t){return function(){return t}}return r2=e,r2}var i2,h5;function gH(){if(h5)return i2;h5=1;var e=Ul(),t=(function(){try{var n=e(Object,"defineProperty");return n({},"",{}),n}catch{}})();return i2=t,i2}var a2,m5;function zve(){if(m5)return a2;m5=1;var e=qve(),t=gH(),n=Td(),r=t?function(i,a){return t(i,"toString",{configurable:!0,enumerable:!1,value:e(a),writable:!0})}:n;return a2=r,a2}var s2,p5;function Uve(){if(p5)return s2;p5=1;var e=800,t=16,n=Date.now;function r(i){var a=0,o=0;return function(){var l=n(),d=t-(l-o);if(o=l,d>0){if(++a>=e)return arguments[0]}else a=0;return i.apply(void 0,arguments)}}return s2=r,s2}var o2,g5;function Fve(){if(g5)return o2;g5=1;var e=zve(),t=Uve(),n=t(e);return o2=n,o2}var l2,v5;function Vve(){if(v5)return l2;v5=1;var e=Td(),t=Bve(),n=Fve();function r(i,a){return n(t(i,a,e),i+"")}return l2=r,l2}var c2,y5;function j0(){if(y5)return c2;y5=1;var e=kT(),t=Bm(),n=KT(),r=jo();function i(a,o,l){if(!r(l))return!1;var d=typeof o;return(d=="number"?t(l)&&n(o,l.length):d=="string"&&o in l)?e(l[o],a):!1}return c2=i,c2}var u2,b5;function Hve(){if(b5)return u2;b5=1;var e=hH(),t=$ve(),n=Vve(),r=j0(),i=n(function(a,o){if(a==null)return[];var l=o.length;return l>1&&r(a,o[0],o[1])?o=[]:l>2&&r(o[0],o[1],o[2])&&(o=[o[0]]),t(a,e(o,1),[])});return u2=i,u2}var Gve=Hve();const QT=nn(Gve);function zh(e){"@babel/helpers - typeof";return zh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zh(e)}function GE(){return GE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},GE.apply(this,arguments)}function Kve(e,t){return Qve(e)||Xve(e,t)||Yve(e,t)||Wve()}function Wve(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Yve(e,t){if(e){if(typeof e=="string")return x5(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return x5(e,t)}}function x5(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Xve(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,o,l=[],d=!0,f=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(d=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);d=!0);}catch(m){f=!0,i=m}finally{try{if(!d&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(f)throw i}}return l}}function Qve(e){if(Array.isArray(e))return e}function w5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function d2(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?w5(Object(n),!0).forEach(function(r){Jve(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w5(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Jve(e,t,n){return t=Zve(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Zve(e){var t=eye(e,"string");return zh(t)=="symbol"?t:t+""}function eye(e,t){if(zh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(zh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tye(e){return Array.isArray(e)&&tr(e[0])&&tr(e[1])?e.join(" ~ "):e}var nye=function(t){var n=t.separator,r=n===void 0?" : ":n,i=t.contentStyle,a=i===void 0?{}:i,o=t.itemStyle,l=o===void 0?{}:o,d=t.labelStyle,f=d===void 0?{}:d,m=t.payload,p=t.formatter,v=t.itemSorter,b=t.wrapperClassName,x=t.labelClassName,y=t.label,w=t.labelFormatter,E=t.accessibilityLayer,N=E===void 0?!1:E,j=function(){if(m&&m.length){var $={padding:0,margin:0},F=(v?QT(m,v):m).map(function(H,U){if(H.type==="none")return null;var D=d2({display:"block",paddingTop:4,paddingBottom:4,color:H.color||"#000"},l),G=H.formatter||p||tye,z=H.value,X=H.name,ue=z,V=X;if(G&&ue!=null&&V!=null){var K=G(z,X,H,U,m);if(Array.isArray(K)){var Z=Kve(K,2);ue=Z[0],V=Z[1]}else ue=K}return q.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(U),style:D},tr(V)?q.createElement("span",{className:"recharts-tooltip-item-name"},V):null,tr(V)?q.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,q.createElement("span",{className:"recharts-tooltip-item-value"},ue),q.createElement("span",{className:"recharts-tooltip-item-unit"},H.unit||""))});return q.createElement("ul",{className:"recharts-tooltip-item-list",style:$},F)}return null},O=d2({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),T=d2({margin:0},f),C=!vt(y),R=C?y:"",M=Tt("recharts-default-tooltip",b),k=Tt("recharts-tooltip-label",x);C&&w&&m!==void 0&&m!==null&&(R=w(y,m));var I=N?{role:"status","aria-live":"assertive"}:{};return q.createElement("div",GE({className:M,style:O},I),q.createElement("p",{className:k,style:T},q.isValidElement(R)?R:"".concat(R)),j())};function Uh(e){"@babel/helpers - typeof";return Uh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Uh(e)}function Pg(e,t,n){return t=rye(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rye(e){var t=iye(e,"string");return Uh(t)=="symbol"?t:t+""}function iye(e,t){if(Uh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Uh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Cf="recharts-tooltip-wrapper",aye={visibility:"hidden"};function sye(e){var t=e.coordinate,n=e.translateX,r=e.translateY;return Tt(Cf,Pg(Pg(Pg(Pg({},"".concat(Cf,"-right"),Te(n)&&t&&Te(t.x)&&n>=t.x),"".concat(Cf,"-left"),Te(n)&&t&&Te(t.x)&&n<t.x),"".concat(Cf,"-bottom"),Te(r)&&t&&Te(t.y)&&r>=t.y),"".concat(Cf,"-top"),Te(r)&&t&&Te(t.y)&&r<t.y))}function _5(e){var t=e.allowEscapeViewBox,n=e.coordinate,r=e.key,i=e.offsetTopLeft,a=e.position,o=e.reverseDirection,l=e.tooltipDimension,d=e.viewBox,f=e.viewBoxDimension;if(a&&Te(a[r]))return a[r];var m=n[r]-l-i,p=n[r]+i;if(t[r])return o[r]?m:p;if(o[r]){var v=m,b=d[r];return v<b?Math.max(p,d[r]):Math.max(m,d[r])}var x=p+l,y=d[r]+f;return x>y?Math.max(m,d[r]):Math.max(p,d[r])}function oye(e){var t=e.translateX,n=e.translateY,r=e.useTranslate3d;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function lye(e){var t=e.allowEscapeViewBox,n=e.coordinate,r=e.offsetTopLeft,i=e.position,a=e.reverseDirection,o=e.tooltipBox,l=e.useTranslate3d,d=e.viewBox,f,m,p;return o.height>0&&o.width>0&&n?(m=_5({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:o.width,viewBox:d,viewBoxDimension:d.width}),p=_5({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:o.height,viewBox:d,viewBoxDimension:d.height}),f=oye({translateX:m,translateY:p,useTranslate3d:l})):f=aye,{cssProperties:f,cssClasses:sye({translateX:m,translateY:p,coordinate:n})}}function ku(e){"@babel/helpers - typeof";return ku=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ku(e)}function S5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function j5(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?S5(Object(n),!0).forEach(function(r){WE(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S5(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function cye(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function uye(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,yH(r.key),r)}}function dye(e,t,n){return t&&uye(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function fye(e,t,n){return t=zv(t),hye(e,vH()?Reflect.construct(t,n||[],zv(e).constructor):t.apply(e,n))}function hye(e,t){if(t&&(ku(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mye(e)}function mye(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(vH=function(){return!!e})()}function zv(e){return zv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},zv(e)}function pye(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&KE(e,t)}function KE(e,t){return KE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},KE(e,t)}function WE(e,t,n){return t=yH(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yH(e){var t=gye(e,"string");return ku(t)=="symbol"?t:t+""}function gye(e,t){if(ku(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(ku(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var E5=1,vye=(function(e){function t(){var n;cye(this,t);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=fye(this,t,[].concat(i)),WE(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),WE(n,"handleKeyDown",function(o){if(o.key==="Escape"){var l,d,f,m;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(d=n.props.coordinate)===null||d===void 0?void 0:d.x)!==null&&l!==void 0?l:0,y:(f=(m=n.props.coordinate)===null||m===void 0?void 0:m.y)!==null&&f!==void 0?f:0}})}}),n}return pye(t,e),dye(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>E5||Math.abs(r.height-this.state.lastBoundingBox.height)>E5)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,l=i.animationDuration,d=i.animationEasing,f=i.children,m=i.coordinate,p=i.hasPayload,v=i.isAnimationActive,b=i.offset,x=i.position,y=i.reverseDirection,w=i.useTranslate3d,E=i.viewBox,N=i.wrapperStyle,j=lye({allowEscapeViewBox:o,coordinate:m,offsetTopLeft:b,position:x,reverseDirection:y,tooltipBox:this.state.lastBoundingBox,useTranslate3d:w,viewBox:E}),O=j.cssClasses,T=j.cssProperties,C=j5(j5({transition:v&&a?"transform ".concat(l,"ms ").concat(d):void 0},T),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&p?"visible":"hidden",position:"absolute",top:0,left:0},N);return q.createElement("div",{tabIndex:-1,className:O,style:C,ref:function(M){r.wrapperNode=M}},f)}}])})(_.PureComponent),yye=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},No={isSsr:yye()};function Du(e){"@babel/helpers - typeof";return Du=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Du(e)}function N5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function A5(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?N5(Object(n),!0).forEach(function(r){JT(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N5(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function bye(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xye(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,xH(r.key),r)}}function wye(e,t,n){return t&&xye(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function _ye(e,t,n){return t=Uv(t),Sye(e,bH()?Reflect.construct(t,n||[],Uv(e).constructor):t.apply(e,n))}function Sye(e,t){if(t&&(Du(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jye(e)}function jye(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(bH=function(){return!!e})()}function Uv(e){return Uv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Uv(e)}function Eye(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&YE(e,t)}function YE(e,t){return YE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},YE(e,t)}function JT(e,t,n){return t=xH(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xH(e){var t=Nye(e,"string");return Du(t)=="symbol"?t:t+""}function Nye(e,t){if(Du(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Du(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Aye(e){return e.dataKey}function Tye(e,t){return q.isValidElement(e)?q.cloneElement(e,t):typeof e=="function"?q.createElement(e,t):q.createElement(nye,t)}var kr=(function(e){function t(){return bye(this,t),_ye(this,t,arguments)}return Eye(t,e),wye(t,[{key:"render",value:function(){var r=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,l=i.animationDuration,d=i.animationEasing,f=i.content,m=i.coordinate,p=i.filterNull,v=i.isAnimationActive,b=i.offset,x=i.payload,y=i.payloadUniqBy,w=i.position,E=i.reverseDirection,N=i.useTranslate3d,j=i.viewBox,O=i.wrapperStyle,T=x??[];p&&T.length&&(T=uH(x.filter(function(R){return R.value!=null&&(R.hide!==!0||r.props.includeHidden)}),y,Aye));var C=T.length>0;return q.createElement(vye,{allowEscapeViewBox:o,animationDuration:l,animationEasing:d,isAnimationActive:v,active:a,coordinate:m,hasPayload:C,offset:b,position:w,reverseDirection:E,useTranslate3d:N,viewBox:j,wrapperStyle:O},Tye(f,A5(A5({},this.props),{},{payload:T})))}}])})(_.PureComponent);JT(kr,"displayName","Tooltip");JT(kr,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!No.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var f2,T5;function Oye(){if(T5)return f2;T5=1;var e=Ma(),t=function(){return e.Date.now()};return f2=t,f2}var h2,O5;function Cye(){if(O5)return h2;O5=1;var e=/\s/;function t(n){for(var r=n.length;r--&&e.test(n.charAt(r)););return r}return h2=t,h2}var m2,C5;function Rye(){if(C5)return m2;C5=1;var e=Cye(),t=/^\s+/;function n(r){return r&&r.slice(0,e(r)+1).replace(t,"")}return m2=n,m2}var p2,R5;function wH(){if(R5)return p2;R5=1;var e=Rye(),t=jo(),n=Ed(),r=NaN,i=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,o=/^0o[0-7]+$/i,l=parseInt;function d(f){if(typeof f=="number")return f;if(n(f))return r;if(t(f)){var m=typeof f.valueOf=="function"?f.valueOf():f;f=t(m)?m+"":m}if(typeof f!="string")return f===0?f:+f;f=e(f);var p=a.test(f);return p||o.test(f)?l(f.slice(2),p?2:8):i.test(f)?r:+f}return p2=d,p2}var g2,P5;function Pye(){if(P5)return g2;P5=1;var e=jo(),t=Oye(),n=wH(),r="Expected a function",i=Math.max,a=Math.min;function o(l,d,f){var m,p,v,b,x,y,w=0,E=!1,N=!1,j=!0;if(typeof l!="function")throw new TypeError(r);d=n(d)||0,e(f)&&(E=!!f.leading,N="maxWait"in f,v=N?i(n(f.maxWait)||0,d):v,j="trailing"in f?!!f.trailing:j);function O(F){var H=m,U=p;return m=p=void 0,w=F,b=l.apply(U,H),b}function T(F){return w=F,x=setTimeout(M,d),E?O(F):b}function C(F){var H=F-y,U=F-w,D=d-H;return N?a(D,v-U):D}function R(F){var H=F-y,U=F-w;return y===void 0||H>=d||H<0||N&&U>=v}function M(){var F=t();if(R(F))return k(F);x=setTimeout(M,C(F))}function k(F){return x=void 0,j&&m?O(F):(m=p=void 0,b)}function I(){x!==void 0&&clearTimeout(x),w=0,m=y=p=x=void 0}function B(){return x===void 0?b:k(t())}function $(){var F=t(),H=R(F);if(m=arguments,p=this,y=F,H){if(x===void 0)return T(y);if(N)return clearTimeout(x),x=setTimeout(M,d),O(y)}return x===void 0&&(x=setTimeout(M,d)),b}return $.cancel=I,$.flush=B,$}return g2=o,g2}var v2,M5;function Mye(){if(M5)return v2;M5=1;var e=Pye(),t=jo(),n="Expected a function";function r(i,a,o){var l=!0,d=!0;if(typeof i!="function")throw new TypeError(n);return t(o)&&(l="leading"in o?!!o.leading:l,d="trailing"in o?!!o.trailing:d),e(i,a,{leading:l,maxWait:a,trailing:d})}return v2=r,v2}var kye=Mye();const _H=nn(kye);function Fh(e){"@babel/helpers - typeof";return Fh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fh(e)}function k5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Mg(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?k5(Object(n),!0).forEach(function(r){Dye(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k5(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Dye(e,t,n){return t=Iye(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Iye(e){var t=$ye(e,"string");return Fh(t)=="symbol"?t:t+""}function $ye(e,t){if(Fh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Fh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Lye(e,t){return Uye(e)||zye(e,t)||qye(e,t)||Bye()}function Bye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qye(e,t){if(e){if(typeof e=="string")return D5(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return D5(e,t)}}function D5(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function zye(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,o,l=[],d=!0,f=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(d=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);d=!0);}catch(m){f=!0,i=m}finally{try{if(!d&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(f)throw i}}return l}}function Uye(e){if(Array.isArray(e))return e}var eu=_.forwardRef(function(e,t){var n=e.aspect,r=e.initialDimension,i=r===void 0?{width:-1,height:-1}:r,a=e.width,o=a===void 0?"100%":a,l=e.height,d=l===void 0?"100%":l,f=e.minWidth,m=f===void 0?0:f,p=e.minHeight,v=e.maxHeight,b=e.children,x=e.debounce,y=x===void 0?0:x,w=e.id,E=e.className,N=e.onResize,j=e.style,O=j===void 0?{}:j,T=_.useRef(null),C=_.useRef();C.current=N,_.useImperativeHandle(t,function(){return Object.defineProperty(T.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),T.current},configurable:!0})});var R=_.useState({containerWidth:i.width,containerHeight:i.height}),M=Lye(R,2),k=M[0],I=M[1],B=_.useCallback(function(F,H){I(function(U){var D=Math.round(F),G=Math.round(H);return U.containerWidth===D&&U.containerHeight===G?U:{containerWidth:D,containerHeight:G}})},[]);_.useEffect(function(){var F=function(X){var ue,V=X[0].contentRect,K=V.width,Z=V.height;B(K,Z),(ue=C.current)===null||ue===void 0||ue.call(C,K,Z)};y>0&&(F=_H(F,y,{trailing:!0,leading:!1}));var H=new ResizeObserver(F),U=T.current.getBoundingClientRect(),D=U.width,G=U.height;return B(D,G),H.observe(T.current),function(){H.disconnect()}},[B,y]);var $=_.useMemo(function(){var F=k.containerWidth,H=k.containerHeight;if(F<0||H<0)return null;ls(pl(o)||pl(d),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,d),ls(!n||n>0,"The aspect(%s) must be greater than zero.",n);var U=pl(o)?F:o,D=pl(d)?H:d;n&&n>0&&(U?D=U/n:D&&(U=D*n),v&&D>v&&(D=v)),ls(U>0||D>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,U,D,o,d,m,p,n);var G=!Array.isArray(b)&&os(b.type).endsWith("Chart");return q.Children.map(b,function(z){return q.isValidElement(z)?_.cloneElement(z,Mg({width:U,height:D},G?{style:Mg({height:"100%",width:"100%",maxHeight:D,maxWidth:U},z.props.style)}:{})):z})},[n,b,d,v,p,m,k,o]);return q.createElement("div",{id:w?"".concat(w):void 0,className:Tt("recharts-responsive-container",E),style:Mg(Mg({},O),{},{width:o,height:d,minWidth:m,minHeight:p,maxHeight:v}),ref:T},$)}),E0=function(t){return null};E0.displayName="Cell";function Vh(e){"@babel/helpers - typeof";return Vh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vh(e)}function I5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function XE(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?I5(Object(n),!0).forEach(function(r){Fye(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I5(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Fye(e,t,n){return t=Vye(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Vye(e){var t=Hye(e,"string");return Vh(t)=="symbol"?t:t+""}function Hye(e,t){if(Vh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Vh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Vc={widthCache:{},cacheCount:0},Gye=2e3,Kye={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},$5="recharts_measurement_span";function Wye(e){var t=XE({},e);return Object.keys(t).forEach(function(n){t[n]||delete t[n]}),t}var uh=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||No.isSsr)return{width:0,height:0};var r=Wye(n),i=JSON.stringify({text:t,copyStyle:r});if(Vc.widthCache[i])return Vc.widthCache[i];try{var a=document.getElementById($5);a||(a=document.createElement("span"),a.setAttribute("id",$5),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var o=XE(XE({},Kye),r);Object.assign(a.style,o),a.textContent="".concat(t);var l=a.getBoundingClientRect(),d={width:l.width,height:l.height};return Vc.widthCache[i]=d,++Vc.cacheCount>Gye&&(Vc.cacheCount=0,Vc.widthCache={}),d}catch{return{width:0,height:0}}},Yye=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function Hh(e){"@babel/helpers - typeof";return Hh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hh(e)}function Fv(e,t){return Zye(e)||Jye(e,t)||Qye(e,t)||Xye()}function Xye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Qye(e,t){if(e){if(typeof e=="string")return L5(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return L5(e,t)}}function L5(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Jye(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,o,l=[],d=!0,f=!1;try{if(a=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;d=!1}else for(;!(d=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);d=!0);}catch(m){f=!0,i=m}finally{try{if(!d&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(f)throw i}}return l}}function Zye(e){if(Array.isArray(e))return e}function e0e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function B5(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,n0e(r.key),r)}}function t0e(e,t,n){return t&&B5(e.prototype,t),n&&B5(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function n0e(e){var t=r0e(e,"string");return Hh(t)=="symbol"?t:t+""}function r0e(e,t){if(Hh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Hh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var q5=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,z5=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,i0e=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,a0e=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,SH={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},s0e=Object.keys(SH),lu="NaN";function o0e(e,t){return e*SH[t]}var kg=(function(){function e(t,n){e0e(this,e),this.num=t,this.unit=n,this.num=t,this.unit=n,Number.isNaN(t)&&(this.unit=""),n!==""&&!i0e.test(n)&&(this.num=NaN,this.unit=""),s0e.includes(n)&&(this.num=o0e(t,n),this.unit="px")}return t0e(e,[{key:"add",value:function(n){return this.unit!==n.unit?new e(NaN,""):new e(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new e(NaN,""):new e(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new e(NaN,""):new e(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new e(NaN,""):new e(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=a0e.exec(n))!==null&&r!==void 0?r:[],a=Fv(i,3),o=a[1],l=a[2];return new e(parseFloat(o),l??"")}}])})();function jH(e){if(e.includes(lu))return lu;for(var t=e;t.includes("*")||t.includes("/");){var n,r=(n=q5.exec(t))!==null&&n!==void 0?n:[],i=Fv(r,4),a=i[1],o=i[2],l=i[3],d=kg.parse(a??""),f=kg.parse(l??""),m=o==="*"?d.multiply(f):d.divide(f);if(m.isNaN())return lu;t=t.replace(q5,m.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var p,v=(p=z5.exec(t))!==null&&p!==void 0?p:[],b=Fv(v,4),x=b[1],y=b[2],w=b[3],E=kg.parse(x??""),N=kg.parse(w??""),j=y==="+"?E.add(N):E.subtract(N);if(j.isNaN())return lu;t=t.replace(z5,j.toString())}return t}var U5=/\(([^()]*)\)/;function l0e(e){for(var t=e;t.includes("(");){var n=U5.exec(t),r=Fv(n,2),i=r[1];t=t.replace(U5,jH(i))}return t}function c0e(e){var t=e.replace(/\s+/g,"");return t=l0e(t),t=jH(t),t}function u0e(e){try{return c0e(e)}catch{return lu}}function y2(e){var t=u0e(e.slice(5,-1));return t===lu?"":t}var d0e=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],f0e=["dx","dy","angle","className","breakAll"];function QE(){return QE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},QE.apply(this,arguments)}function F5(e,t){if(e==null)return{};var n=h0e(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function h0e(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function V5(e,t){return v0e(e)||g0e(e,t)||p0e(e,t)||m0e()}function m0e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function p0e(e,t){if(e){if(typeof e=="string")return H5(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return H5(e,t)}}function H5(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function g0e(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,o,l=[],d=!0,f=!1;try{if(a=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;d=!1}else for(;!(d=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);d=!0);}catch(m){f=!0,i=m}finally{try{if(!d&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(f)throw i}}return l}}function v0e(e){if(Array.isArray(e))return e}var EH=/[ \f\n\r\t\v\u2028\u2029]+/,NH=function(t){var n=t.children,r=t.breakAll,i=t.style;try{var a=[];vt(n)||(r?a=n.toString().split(""):a=n.toString().split(EH));var o=a.map(function(d){return{word:d,width:uh(d,i).width}}),l=r?0:uh("",i).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},y0e=function(t,n,r,i,a){var o=t.maxLines,l=t.children,d=t.style,f=t.breakAll,m=Te(o),p=l,v=function(){var U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return U.reduce(function(D,G){var z=G.word,X=G.width,ue=D[D.length-1];if(ue&&(i==null||a||ue.width+X+r<Number(i)))ue.words.push(z),ue.width+=X+r;else{var V={words:[z],width:X};D.push(V)}return D},[])},b=v(n),x=function(U){return U.reduce(function(D,G){return D.width>G.width?D:G})};if(!m)return b;for(var y="",w=function(U){var D=p.slice(0,U),G=NH({breakAll:f,style:d,children:D+y}).wordsWithComputedWidth,z=v(G),X=z.length>o||x(z).width>Number(i);return[X,z]},E=0,N=p.length-1,j=0,O;E<=N&&j<=p.length-1;){var T=Math.floor((E+N)/2),C=T-1,R=w(C),M=V5(R,2),k=M[0],I=M[1],B=w(T),$=V5(B,1),F=$[0];if(!k&&!F&&(E=T+1),k&&F&&(N=T-1),!k&&F){O=I;break}j++}return O||b},G5=function(t){var n=vt(t)?[]:t.toString().split(EH);return[{words:n}]},b0e=function(t){var n=t.width,r=t.scaleToFit,i=t.children,a=t.style,o=t.breakAll,l=t.maxLines;if((n||r)&&!No.isSsr){var d,f,m=NH({breakAll:o,children:i,style:a});if(m){var p=m.wordsWithComputedWidth,v=m.spaceWidth;d=p,f=v}else return G5(i);return y0e({breakAll:o,children:i,maxLines:l,style:a},d,f,n,r)}return G5(i)},K5="#808080",Vv=function(t){var n=t.x,r=n===void 0?0:n,i=t.y,a=i===void 0?0:i,o=t.lineHeight,l=o===void 0?"1em":o,d=t.capHeight,f=d===void 0?"0.71em":d,m=t.scaleToFit,p=m===void 0?!1:m,v=t.textAnchor,b=v===void 0?"start":v,x=t.verticalAnchor,y=x===void 0?"end":x,w=t.fill,E=w===void 0?K5:w,N=F5(t,d0e),j=_.useMemo(function(){return b0e({breakAll:N.breakAll,children:N.children,maxLines:N.maxLines,scaleToFit:p,style:N.style,width:N.width})},[N.breakAll,N.children,N.maxLines,p,N.style,N.width]),O=N.dx,T=N.dy,C=N.angle,R=N.className,M=N.breakAll,k=F5(N,f0e);if(!tr(r)||!tr(a))return null;var I=r+(Te(O)?O:0),B=a+(Te(T)?T:0),$;switch(y){case"start":$=y2("calc(".concat(f,")"));break;case"middle":$=y2("calc(".concat((j.length-1)/2," * -").concat(l," + (").concat(f," / 2))"));break;default:$=y2("calc(".concat(j.length-1," * -").concat(l,")"));break}var F=[];if(p){var H=j[0].width,U=N.width;F.push("scale(".concat((Te(U)?U/H:1)/H,")"))}return C&&F.push("rotate(".concat(C,", ").concat(I,", ").concat(B,")")),F.length&&(k.transform=F.join(" ")),q.createElement("text",QE({},wt(k,!0),{x:I,y:B,className:Tt("recharts-text",R),textAnchor:b,fill:E.includes("url")?K5:E}),j.map(function(D,G){var z=D.words.join(M?"":" ");return q.createElement("tspan",{x:I,dy:G===0?$:l,key:"".concat(z,"-").concat(G)},z)}))};function co(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function x0e(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function ZT(e){let t,n,r;e.length!==2?(t=co,n=(l,d)=>co(e(l),d),r=(l,d)=>e(l)-d):(t=e===co||e===x0e?e:w0e,n=e,r=e);function i(l,d,f=0,m=l.length){if(f<m){if(t(d,d)!==0)return m;do{const p=f+m>>>1;n(l[p],d)<0?f=p+1:m=p}while(f<m)}return f}function a(l,d,f=0,m=l.length){if(f<m){if(t(d,d)!==0)return m;do{const p=f+m>>>1;n(l[p],d)<=0?f=p+1:m=p}while(f<m)}return f}function o(l,d,f=0,m=l.length){const p=i(l,d,f,m-1);return p>f&&r(l[p-1],d)>-r(l[p],d)?p-1:p}return{left:i,center:o,right:a}}function w0e(){return 0}function AH(e){return e===null?NaN:+e}function*_0e(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const S0e=ZT(co),qm=S0e.right;ZT(AH).center;class W5 extends Map{constructor(t,n=N0e){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(Y5(this,t))}has(t){return super.has(Y5(this,t))}set(t,n){return super.set(j0e(this,t),n)}delete(t){return super.delete(E0e(this,t))}}function Y5({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function j0e({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function E0e({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function N0e(e){return e!==null&&typeof e=="object"?e.valueOf():e}function A0e(e=co){if(e===co)return TH;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function TH(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const T0e=Math.sqrt(50),O0e=Math.sqrt(10),C0e=Math.sqrt(2);function Hv(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),o=a>=T0e?10:a>=O0e?5:a>=C0e?2:1;let l,d,f;return i<0?(f=Math.pow(10,-i)/o,l=Math.round(e*f),d=Math.round(t*f),l/f<e&&++l,d/f>t&&--d,f=-f):(f=Math.pow(10,i)*o,l=Math.round(e/f),d=Math.round(t/f),l*f<e&&++l,d*f>t&&--d),d<l&&.5<=n&&n<2?Hv(e,t,n*2):[l,d,f]}function JE(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,a,o]=r?Hv(t,e,n):Hv(e,t,n);if(!(a>=i))return[];const l=a-i+1,d=new Array(l);if(r)if(o<0)for(let f=0;f<l;++f)d[f]=(a-f)/-o;else for(let f=0;f<l;++f)d[f]=(a-f)*o;else if(o<0)for(let f=0;f<l;++f)d[f]=(i+f)/-o;else for(let f=0;f<l;++f)d[f]=(i+f)*o;return d}function ZE(e,t,n){return t=+t,e=+e,n=+n,Hv(e,t,n)[2]}function eN(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?ZE(t,e,n):ZE(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function X5(e,t){let n;for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function Q5(e,t){let n;for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function OH(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?TH:A0e(i);r>n;){if(r-n>600){const d=r-n+1,f=t-n+1,m=Math.log(d),p=.5*Math.exp(2*m/3),v=.5*Math.sqrt(m*p*(d-p)/d)*(f-d/2<0?-1:1),b=Math.max(n,Math.floor(t-f*p/d+v)),x=Math.min(r,Math.floor(t+(d-f)*p/d+v));OH(e,t,b,x,i)}const a=e[t];let o=n,l=r;for(Rf(e,n,t),i(e[r],a)>0&&Rf(e,n,r);o<l;){for(Rf(e,o,l),++o,--l;i(e[o],a)<0;)++o;for(;i(e[l],a)>0;)--l}i(e[n],a)===0?Rf(e,n,l):(++l,Rf(e,l,r)),l<=t&&(n=l+1),t<=l&&(r=l-1)}return e}function Rf(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function R0e(e,t,n){if(e=Float64Array.from(_0e(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return Q5(e);if(t>=1)return X5(e);var r,i=(r-1)*t,a=Math.floor(i),o=X5(OH(e,a).subarray(0,a+1)),l=Q5(e.subarray(a+1));return o+(l-o)*(i-a)}}function P0e(e,t,n=AH){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,a=Math.floor(i),o=+n(e[a],a,e),l=+n(e[a+1],a+1,e);return o+(l-o)*(i-a)}}function M0e(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,a=new Array(i);++r<i;)a[r]=e+r*n;return a}function qi(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function ws(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const tN=Symbol("implicit");function eO(){var e=new W5,t=[],n=[],r=tN;function i(a){let o=e.get(a);if(o===void 0){if(r!==tN)return r;e.set(a,o=t.push(a)-1)}return n[o%n.length]}return i.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new W5;for(const o of a)e.has(o)||e.set(o,t.push(o)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return eO(t,n).unknown(r)},qi.apply(i,arguments),i}function Gh(){var e=eO().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,a,o,l=!1,d=0,f=0,m=.5;delete e.unknown;function p(){var v=t().length,b=i<r,x=b?i:r,y=b?r:i;a=(y-x)/Math.max(1,v-d+f*2),l&&(a=Math.floor(a)),x+=(y-x-a*(v-d))*m,o=a*(1-d),l&&(x=Math.round(x),o=Math.round(o));var w=M0e(v).map(function(E){return x+a*E});return n(b?w.reverse():w)}return e.domain=function(v){return arguments.length?(t(v),p()):t()},e.range=function(v){return arguments.length?([r,i]=v,r=+r,i=+i,p()):[r,i]},e.rangeRound=function(v){return[r,i]=v,r=+r,i=+i,l=!0,p()},e.bandwidth=function(){return o},e.step=function(){return a},e.round=function(v){return arguments.length?(l=!!v,p()):l},e.padding=function(v){return arguments.length?(d=Math.min(1,f=+v),p()):d},e.paddingInner=function(v){return arguments.length?(d=Math.min(1,v),p()):d},e.paddingOuter=function(v){return arguments.length?(f=+v,p()):f},e.align=function(v){return arguments.length?(m=Math.max(0,Math.min(1,v)),p()):m},e.copy=function(){return Gh(t(),[r,i]).round(l).paddingInner(d).paddingOuter(f).align(m)},qi.apply(p(),arguments)}function CH(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return CH(t())},e}function dh(){return CH(Gh.apply(null,arguments).paddingInner(1))}function tO(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function RH(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function zm(){}var Kh=.7,Gv=1/Kh,_u="\\s*([+-]?\\d+)\\s*",Wh="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ea="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",k0e=/^#([0-9a-f]{3,8})$/,D0e=new RegExp(`^rgb\\(${_u},${_u},${_u}\\)$`),I0e=new RegExp(`^rgb\\(${Ea},${Ea},${Ea}\\)$`),$0e=new RegExp(`^rgba\\(${_u},${_u},${_u},${Wh}\\)$`),L0e=new RegExp(`^rgba\\(${Ea},${Ea},${Ea},${Wh}\\)$`),B0e=new RegExp(`^hsl\\(${Wh},${Ea},${Ea}\\)$`),q0e=new RegExp(`^hsla\\(${Wh},${Ea},${Ea},${Wh}\\)$`),J5={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};tO(zm,Yh,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Z5,formatHex:Z5,formatHex8:z0e,formatHsl:U0e,formatRgb:eL,toString:eL});function Z5(){return this.rgb().formatHex()}function z0e(){return this.rgb().formatHex8()}function U0e(){return PH(this).formatHsl()}function eL(){return this.rgb().formatRgb()}function Yh(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=k0e.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?tL(t):n===3?new Kr(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Dg(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Dg(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=D0e.exec(e))?new Kr(t[1],t[2],t[3],1):(t=I0e.exec(e))?new Kr(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=$0e.exec(e))?Dg(t[1],t[2],t[3],t[4]):(t=L0e.exec(e))?Dg(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=B0e.exec(e))?iL(t[1],t[2]/100,t[3]/100,1):(t=q0e.exec(e))?iL(t[1],t[2]/100,t[3]/100,t[4]):J5.hasOwnProperty(e)?tL(J5[e]):e==="transparent"?new Kr(NaN,NaN,NaN,0):null}function tL(e){return new Kr(e>>16&255,e>>8&255,e&255,1)}function Dg(e,t,n,r){return r<=0&&(e=t=n=NaN),new Kr(e,t,n,r)}function F0e(e){return e instanceof zm||(e=Yh(e)),e?(e=e.rgb(),new Kr(e.r,e.g,e.b,e.opacity)):new Kr}function nN(e,t,n,r){return arguments.length===1?F0e(e):new Kr(e,t,n,r??1)}function Kr(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}tO(Kr,nN,RH(zm,{brighter(e){return e=e==null?Gv:Math.pow(Gv,e),new Kr(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Kh:Math.pow(Kh,e),new Kr(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Kr(jl(this.r),jl(this.g),jl(this.b),Kv(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:nL,formatHex:nL,formatHex8:V0e,formatRgb:rL,toString:rL}));function nL(){return`#${gl(this.r)}${gl(this.g)}${gl(this.b)}`}function V0e(){return`#${gl(this.r)}${gl(this.g)}${gl(this.b)}${gl((isNaN(this.opacity)?1:this.opacity)*255)}`}function rL(){const e=Kv(this.opacity);return`${e===1?"rgb(":"rgba("}${jl(this.r)}, ${jl(this.g)}, ${jl(this.b)}${e===1?")":`, ${e})`}`}function Kv(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function jl(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function gl(e){return e=jl(e),(e<16?"0":"")+e.toString(16)}function iL(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new ta(e,t,n,r)}function PH(e){if(e instanceof ta)return new ta(e.h,e.s,e.l,e.opacity);if(e instanceof zm||(e=Yh(e)),!e)return new ta;if(e instanceof ta)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),a=Math.max(t,n,r),o=NaN,l=a-i,d=(a+i)/2;return l?(t===a?o=(n-r)/l+(n<r)*6:n===a?o=(r-t)/l+2:o=(t-n)/l+4,l/=d<.5?a+i:2-a-i,o*=60):l=d>0&&d<1?0:o,new ta(o,l,d,e.opacity)}function H0e(e,t,n,r){return arguments.length===1?PH(e):new ta(e,t,n,r??1)}function ta(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}tO(ta,H0e,RH(zm,{brighter(e){return e=e==null?Gv:Math.pow(Gv,e),new ta(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Kh:Math.pow(Kh,e),new ta(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new Kr(b2(e>=240?e-240:e+120,i,r),b2(e,i,r),b2(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new ta(aL(this.h),Ig(this.s),Ig(this.l),Kv(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Kv(this.opacity);return`${e===1?"hsl(":"hsla("}${aL(this.h)}, ${Ig(this.s)*100}%, ${Ig(this.l)*100}%${e===1?")":`, ${e})`}`}}));function aL(e){return e=(e||0)%360,e<0?e+360:e}function Ig(e){return Math.max(0,Math.min(1,e||0))}function b2(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const nO=e=>()=>e;function G0e(e,t){return function(n){return e+n*t}}function K0e(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function W0e(e){return(e=+e)==1?MH:function(t,n){return n-t?K0e(t,n,e):nO(isNaN(t)?n:t)}}function MH(e,t){var n=t-e;return n?G0e(e,n):nO(isNaN(e)?t:e)}const sL=(function e(t){var n=W0e(t);function r(i,a){var o=n((i=nN(i)).r,(a=nN(a)).r),l=n(i.g,a.g),d=n(i.b,a.b),f=MH(i.opacity,a.opacity);return function(m){return i.r=o(m),i.g=l(m),i.b=d(m),i.opacity=f(m),i+""}}return r.gamma=e,r})(1);function Y0e(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=e[i]*(1-a)+t[i]*a;return r}}function X0e(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Q0e(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),a=new Array(n),o;for(o=0;o<r;++o)i[o]=Od(e[o],t[o]);for(;o<n;++o)a[o]=t[o];return function(l){for(o=0;o<r;++o)a[o]=i[o](l);return a}}function J0e(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Wv(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function Z0e(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=Od(e[i],t[i]):r[i]=t[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var rN=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,x2=new RegExp(rN.source,"g");function ebe(e){return function(){return e}}function tbe(e){return function(t){return e(t)+""}}function nbe(e,t){var n=rN.lastIndex=x2.lastIndex=0,r,i,a,o=-1,l=[],d=[];for(e=e+"",t=t+"";(r=rN.exec(e))&&(i=x2.exec(t));)(a=i.index)>n&&(a=t.slice(n,a),l[o]?l[o]+=a:l[++o]=a),(r=r[0])===(i=i[0])?l[o]?l[o]+=i:l[++o]=i:(l[++o]=null,d.push({i:o,x:Wv(r,i)})),n=x2.lastIndex;return n<t.length&&(a=t.slice(n),l[o]?l[o]+=a:l[++o]=a),l.length<2?d[0]?tbe(d[0].x):ebe(t):(t=d.length,function(f){for(var m=0,p;m<t;++m)l[(p=d[m]).i]=p.x(f);return l.join("")})}function Od(e,t){var n=typeof t,r;return t==null||n==="boolean"?nO(t):(n==="number"?Wv:n==="string"?(r=Yh(t))?(t=r,sL):nbe:t instanceof Yh?sL:t instanceof Date?J0e:X0e(t)?Y0e:Array.isArray(t)?Q0e:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Z0e:Wv)(e,t)}function rO(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function rbe(e,t){t===void 0&&(t=e,e=Od);for(var n=0,r=t.length-1,i=t[0],a=new Array(r<0?0:r);n<r;)a[n]=e(i,i=t[++n]);return function(o){var l=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return a[l](o-l)}}function ibe(e){return function(){return e}}function Yv(e){return+e}var oL=[0,1];function Ir(e){return e}function iN(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:ibe(isNaN(t)?NaN:.5)}function abe(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function sbe(e,t,n){var r=e[0],i=e[1],a=t[0],o=t[1];return i<r?(r=iN(i,r),a=n(o,a)):(r=iN(r,i),a=n(a,o)),function(l){return a(r(l))}}function obe(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),a=new Array(r),o=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<r;)i[o]=iN(e[o],e[o+1]),a[o]=n(t[o],t[o+1]);return function(l){var d=qm(e,l,1,r)-1;return a[d](i[d](l))}}function Um(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function N0(){var e=oL,t=oL,n=Od,r,i,a,o=Ir,l,d,f;function m(){var v=Math.min(e.length,t.length);return o!==Ir&&(o=abe(e[0],e[v-1])),l=v>2?obe:sbe,d=f=null,p}function p(v){return v==null||isNaN(v=+v)?a:(d||(d=l(e.map(r),t,n)))(r(o(v)))}return p.invert=function(v){return o(i((f||(f=l(t,e.map(r),Wv)))(v)))},p.domain=function(v){return arguments.length?(e=Array.from(v,Yv),m()):e.slice()},p.range=function(v){return arguments.length?(t=Array.from(v),m()):t.slice()},p.rangeRound=function(v){return t=Array.from(v),n=rO,m()},p.clamp=function(v){return arguments.length?(o=v?!0:Ir,m()):o!==Ir},p.interpolate=function(v){return arguments.length?(n=v,m()):n},p.unknown=function(v){return arguments.length?(a=v,p):a},function(v,b){return r=v,i=b,m()}}function iO(){return N0()(Ir,Ir)}function lbe(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Xv(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Iu(e){return e=Xv(Math.abs(e)),e?e[1]:NaN}function cbe(e,t){return function(n,r){for(var i=n.length,a=[],o=0,l=e[0],d=0;i>0&&l>0&&(d+l+1>r&&(l=Math.max(1,r-d)),a.push(n.substring(i-=l,i+l)),!((d+=l+1)>r));)l=e[o=(o+1)%e.length];return a.reverse().join(t)}}function ube(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var dbe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Xh(e){if(!(t=dbe.exec(e)))throw new Error("invalid format: "+e);var t;return new aO({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Xh.prototype=aO.prototype;function aO(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}aO.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function fbe(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var kH;function hbe(e,t){var n=Xv(e,t);if(!n)return e+"";var r=n[0],i=n[1],a=i-(kH=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+Xv(e,Math.max(0,t+a-1))[0]}function lL(e,t){var n=Xv(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const cL={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:lbe,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>lL(e*100,t),r:lL,s:hbe,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function uL(e){return e}var dL=Array.prototype.map,fL=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function mbe(e){var t=e.grouping===void 0||e.thousands===void 0?uL:cbe(dL.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?uL:ube(dL.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",d=e.nan===void 0?"NaN":e.nan+"";function f(p){p=Xh(p);var v=p.fill,b=p.align,x=p.sign,y=p.symbol,w=p.zero,E=p.width,N=p.comma,j=p.precision,O=p.trim,T=p.type;T==="n"?(N=!0,T="g"):cL[T]||(j===void 0&&(j=12),O=!0,T="g"),(w||v==="0"&&b==="=")&&(w=!0,v="0",b="=");var C=y==="$"?n:y==="#"&&/[boxX]/.test(T)?"0"+T.toLowerCase():"",R=y==="$"?r:/[%p]/.test(T)?o:"",M=cL[T],k=/[defgprs%]/.test(T);j=j===void 0?6:/[gprs]/.test(T)?Math.max(1,Math.min(21,j)):Math.max(0,Math.min(20,j));function I(B){var $=C,F=R,H,U,D;if(T==="c")F=M(B)+F,B="";else{B=+B;var G=B<0||1/B<0;if(B=isNaN(B)?d:M(Math.abs(B),j),O&&(B=fbe(B)),G&&+B==0&&x!=="+"&&(G=!1),$=(G?x==="("?x:l:x==="-"||x==="("?"":x)+$,F=(T==="s"?fL[8+kH/3]:"")+F+(G&&x==="("?")":""),k){for(H=-1,U=B.length;++H<U;)if(D=B.charCodeAt(H),48>D||D>57){F=(D===46?i+B.slice(H+1):B.slice(H))+F,B=B.slice(0,H);break}}}N&&!w&&(B=t(B,1/0));var z=$.length+B.length+F.length,X=z<E?new Array(E-z+1).join(v):"";switch(N&&w&&(B=t(X+B,X.length?E-F.length:1/0),X=""),b){case"<":B=$+B+F+X;break;case"=":B=$+X+B+F;break;case"^":B=X.slice(0,z=X.length>>1)+$+B+F+X.slice(z);break;default:B=X+$+B+F;break}return a(B)}return I.toString=function(){return p+""},I}function m(p,v){var b=f((p=Xh(p),p.type="f",p)),x=Math.max(-8,Math.min(8,Math.floor(Iu(v)/3)))*3,y=Math.pow(10,-x),w=fL[8+x/3];return function(E){return b(y*E)+w}}return{format:f,formatPrefix:m}}var $g,sO,DH;pbe({thousands:",",grouping:[3],currency:["$",""]});function pbe(e){return $g=mbe(e),sO=$g.format,DH=$g.formatPrefix,$g}function gbe(e){return Math.max(0,-Iu(Math.abs(e)))}function vbe(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Iu(t)/3)))*3-Iu(Math.abs(e)))}function ybe(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Iu(t)-Iu(e))+1}function IH(e,t,n,r){var i=eN(e,t,n),a;switch(r=Xh(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(a=vbe(i,o))&&(r.precision=a),DH(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=ybe(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=gbe(i))&&(r.precision=a-(r.type==="%")*2);break}}return sO(r)}function Ao(e){var t=e.domain;return e.ticks=function(n){var r=t();return JE(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return IH(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,a=r.length-1,o=r[i],l=r[a],d,f,m=10;for(l<o&&(f=o,o=l,l=f,f=i,i=a,a=f);m-- >0;){if(f=ZE(o,l,n),f===d)return r[i]=o,r[a]=l,t(r);if(f>0)o=Math.floor(o/f)*f,l=Math.ceil(l/f)*f;else if(f<0)o=Math.ceil(o*f)/f,l=Math.floor(l*f)/f;else break;d=f}return e},e}function Qv(){var e=iO();return e.copy=function(){return Um(e,Qv())},qi.apply(e,arguments),Ao(e)}function $H(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,Yv),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return $H(e).unknown(t)},e=arguments.length?Array.from(e,Yv):[0,1],Ao(n)}function LH(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],a=e[r],o;return a<i&&(o=n,n=r,r=o,o=i,i=a,a=o),e[n]=t.floor(i),e[r]=t.ceil(a),e}function hL(e){return Math.log(e)}function mL(e){return Math.exp(e)}function bbe(e){return-Math.log(-e)}function xbe(e){return-Math.exp(-e)}function wbe(e){return isFinite(e)?+("1e"+e):e<0?0:e}function _be(e){return e===10?wbe:e===Math.E?Math.exp:t=>Math.pow(e,t)}function Sbe(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function pL(e){return(t,n)=>-e(-t,n)}function oO(e){const t=e(hL,mL),n=t.domain;let r=10,i,a;function o(){return i=Sbe(r),a=_be(r),n()[0]<0?(i=pL(i),a=pL(a),e(bbe,xbe)):e(hL,mL),t}return t.base=function(l){return arguments.length?(r=+l,o()):r},t.domain=function(l){return arguments.length?(n(l),o()):n()},t.ticks=l=>{const d=n();let f=d[0],m=d[d.length-1];const p=m<f;p&&([f,m]=[m,f]);let v=i(f),b=i(m),x,y;const w=l==null?10:+l;let E=[];if(!(r%1)&&b-v<w){if(v=Math.floor(v),b=Math.ceil(b),f>0){for(;v<=b;++v)for(x=1;x<r;++x)if(y=v<0?x/a(-v):x*a(v),!(y<f)){if(y>m)break;E.push(y)}}else for(;v<=b;++v)for(x=r-1;x>=1;--x)if(y=v>0?x/a(-v):x*a(v),!(y<f)){if(y>m)break;E.push(y)}E.length*2<w&&(E=JE(f,m,w))}else E=JE(v,b,Math.min(b-v,w)).map(a);return p?E.reverse():E},t.tickFormat=(l,d)=>{if(l==null&&(l=10),d==null&&(d=r===10?"s":","),typeof d!="function"&&(!(r%1)&&(d=Xh(d)).precision==null&&(d.trim=!0),d=sO(d)),l===1/0)return d;const f=Math.max(1,r*l/t.ticks().length);return m=>{let p=m/a(Math.round(i(m)));return p*r<r-.5&&(p*=r),p<=f?d(m):""}},t.nice=()=>n(LH(n(),{floor:l=>a(Math.floor(i(l))),ceil:l=>a(Math.ceil(i(l)))})),t}function BH(){const e=oO(N0()).domain([1,10]);return e.copy=()=>Um(e,BH()).base(e.base()),qi.apply(e,arguments),e}function gL(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function vL(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function lO(e){var t=1,n=e(gL(t),vL(t));return n.constant=function(r){return arguments.length?e(gL(t=+r),vL(t)):t},Ao(n)}function qH(){var e=lO(N0());return e.copy=function(){return Um(e,qH()).constant(e.constant())},qi.apply(e,arguments)}function yL(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function jbe(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Ebe(e){return e<0?-e*e:e*e}function cO(e){var t=e(Ir,Ir),n=1;function r(){return n===1?e(Ir,Ir):n===.5?e(jbe,Ebe):e(yL(n),yL(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},Ao(t)}function uO(){var e=cO(N0());return e.copy=function(){return Um(e,uO()).exponent(e.exponent())},qi.apply(e,arguments),e}function Nbe(){return uO.apply(null,arguments).exponent(.5)}function bL(e){return Math.sign(e)*e*e}function Abe(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function zH(){var e=iO(),t=[0,1],n=!1,r;function i(a){var o=Abe(e(a));return isNaN(o)?r:n?Math.round(o):o}return i.invert=function(a){return e.invert(bL(a))},i.domain=function(a){return arguments.length?(e.domain(a),i):e.domain()},i.range=function(a){return arguments.length?(e.range((t=Array.from(a,Yv)).map(bL)),i):t.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(e.clamp(a),i):e.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return zH(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},qi.apply(i,arguments),Ao(i)}function UH(){var e=[],t=[],n=[],r;function i(){var o=0,l=Math.max(1,t.length);for(n=new Array(l-1);++o<l;)n[o-1]=P0e(e,o/l);return a}function a(o){return o==null||isNaN(o=+o)?r:t[qm(n,o)]}return a.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?n[l-1]:e[0],l<n.length?n[l]:e[e.length-1]]},a.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(co),i()},a.range=function(o){return arguments.length?(t=Array.from(o),i()):t.slice()},a.unknown=function(o){return arguments.length?(r=o,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return UH().domain(e).range(t).unknown(r)},qi.apply(a,arguments)}function FH(){var e=0,t=1,n=1,r=[.5],i=[0,1],a;function o(d){return d!=null&&d<=d?i[qm(r,d,0,n)]:a}function l(){var d=-1;for(r=new Array(n);++d<n;)r[d]=((d+1)*t-(d-n)*e)/(n+1);return o}return o.domain=function(d){return arguments.length?([e,t]=d,e=+e,t=+t,l()):[e,t]},o.range=function(d){return arguments.length?(n=(i=Array.from(d)).length-1,l()):i.slice()},o.invertExtent=function(d){var f=i.indexOf(d);return f<0?[NaN,NaN]:f<1?[e,r[0]]:f>=n?[r[n-1],t]:[r[f-1],r[f]]},o.unknown=function(d){return arguments.length&&(a=d),o},o.thresholds=function(){return r.slice()},o.copy=function(){return FH().domain([e,t]).range(i).unknown(a)},qi.apply(Ao(o),arguments)}function VH(){var e=[.5],t=[0,1],n,r=1;function i(a){return a!=null&&a<=a?t[qm(e,a,0,r)]:n}return i.domain=function(a){return arguments.length?(e=Array.from(a),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(a){return arguments.length?(t=Array.from(a),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(a){var o=t.indexOf(a);return[e[o-1],e[o]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return VH().domain(e).range(t).unknown(n)},qi.apply(i,arguments)}const w2=new Date,_2=new Date;function rr(e,t,n,r){function i(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(e(a=new Date(+a)),a),i.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),i.round=a=>{const o=i(a),l=i.ceil(a);return a-o<l-a?o:l},i.offset=(a,o)=>(t(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,l)=>{const d=[];if(a=i.ceil(a),l=l==null?1:Math.floor(l),!(a<o)||!(l>0))return d;let f;do d.push(f=new Date(+a)),t(a,l),e(a);while(f<a&&a<o);return d},i.filter=a=>rr(o=>{if(o>=o)for(;e(o),!a(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!a(o););else for(;--l>=0;)for(;t(o,1),!a(o););}),n&&(i.count=(a,o)=>(w2.setTime(+a),_2.setTime(+o),e(w2),e(_2),Math.floor(n(w2,_2))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?o=>r(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const Jv=rr(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Jv.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?rr(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):Jv);Jv.range;const ns=1e3,Di=ns*60,rs=Di*60,ps=rs*24,dO=ps*7,xL=ps*30,S2=ps*365,vl=rr(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*ns)},(e,t)=>(t-e)/ns,e=>e.getUTCSeconds());vl.range;const fO=rr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ns)},(e,t)=>{e.setTime(+e+t*Di)},(e,t)=>(t-e)/Di,e=>e.getMinutes());fO.range;const hO=rr(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Di)},(e,t)=>(t-e)/Di,e=>e.getUTCMinutes());hO.range;const mO=rr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ns-e.getMinutes()*Di)},(e,t)=>{e.setTime(+e+t*rs)},(e,t)=>(t-e)/rs,e=>e.getHours());mO.range;const pO=rr(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*rs)},(e,t)=>(t-e)/rs,e=>e.getUTCHours());pO.range;const Fm=rr(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Di)/ps,e=>e.getDate()-1);Fm.range;const A0=rr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ps,e=>e.getUTCDate()-1);A0.range;const HH=rr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ps,e=>Math.floor(e/ps));HH.range;function Vl(e){return rr(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Di)/dO)}const T0=Vl(0),Zv=Vl(1),Tbe=Vl(2),Obe=Vl(3),$u=Vl(4),Cbe=Vl(5),Rbe=Vl(6);T0.range;Zv.range;Tbe.range;Obe.range;$u.range;Cbe.range;Rbe.range;function Hl(e){return rr(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/dO)}const O0=Hl(0),ey=Hl(1),Pbe=Hl(2),Mbe=Hl(3),Lu=Hl(4),kbe=Hl(5),Dbe=Hl(6);O0.range;ey.range;Pbe.range;Mbe.range;Lu.range;kbe.range;Dbe.range;const gO=rr(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());gO.range;const vO=rr(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());vO.range;const gs=rr(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());gs.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:rr(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});gs.range;const vs=rr(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());vs.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:rr(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});vs.range;function GH(e,t,n,r,i,a){const o=[[vl,1,ns],[vl,5,5*ns],[vl,15,15*ns],[vl,30,30*ns],[a,1,Di],[a,5,5*Di],[a,15,15*Di],[a,30,30*Di],[i,1,rs],[i,3,3*rs],[i,6,6*rs],[i,12,12*rs],[r,1,ps],[r,2,2*ps],[n,1,dO],[t,1,xL],[t,3,3*xL],[e,1,S2]];function l(f,m,p){const v=m<f;v&&([f,m]=[m,f]);const b=p&&typeof p.range=="function"?p:d(f,m,p),x=b?b.range(f,+m+1):[];return v?x.reverse():x}function d(f,m,p){const v=Math.abs(m-f)/p,b=ZT(([,,w])=>w).right(o,v);if(b===o.length)return e.every(eN(f/S2,m/S2,p));if(b===0)return Jv.every(Math.max(eN(f,m,p),1));const[x,y]=o[v/o[b-1][2]<o[b][2]/v?b-1:b];return x.every(y)}return[l,d]}const[Ibe,$be]=GH(vs,vO,O0,HH,pO,hO),[Lbe,Bbe]=GH(gs,gO,T0,Fm,mO,fO);function j2(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function E2(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Pf(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function qbe(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,a=e.days,o=e.shortDays,l=e.months,d=e.shortMonths,f=Mf(i),m=kf(i),p=Mf(a),v=kf(a),b=Mf(o),x=kf(o),y=Mf(l),w=kf(l),E=Mf(d),N=kf(d),j={a:G,A:z,b:X,B:ue,c:null,d:NL,e:NL,f:cxe,g:bxe,G:wxe,H:sxe,I:oxe,j:lxe,L:KH,m:uxe,M:dxe,p:V,q:K,Q:OL,s:CL,S:fxe,u:hxe,U:mxe,V:pxe,w:gxe,W:vxe,x:null,X:null,y:yxe,Y:xxe,Z:_xe,"%":TL},O={a:Z,A:oe,b:be,B:ae,c:null,d:AL,e:AL,f:Nxe,g:Ixe,G:Lxe,H:Sxe,I:jxe,j:Exe,L:YH,m:Axe,M:Txe,p:J,q:he,Q:OL,s:CL,S:Oxe,u:Cxe,U:Rxe,V:Pxe,w:Mxe,W:kxe,x:null,X:null,y:Dxe,Y:$xe,Z:Bxe,"%":TL},T={a:I,A:B,b:$,B:F,c:H,d:jL,e:jL,f:nxe,g:SL,G:_L,H:EL,I:EL,j:Jbe,L:txe,m:Qbe,M:Zbe,p:k,q:Xbe,Q:ixe,s:axe,S:exe,u:Hbe,U:Gbe,V:Kbe,w:Vbe,W:Wbe,x:U,X:D,y:SL,Y:_L,Z:Ybe,"%":rxe};j.x=C(n,j),j.X=C(r,j),j.c=C(t,j),O.x=C(n,O),O.X=C(r,O),O.c=C(t,O);function C(se,pe){return function(xe){var ee=[],$e=-1,ge=0,He=se.length,te,re,Me;for(xe instanceof Date||(xe=new Date(+xe));++$e<He;)se.charCodeAt($e)===37&&(ee.push(se.slice(ge,$e)),(re=wL[te=se.charAt(++$e)])!=null?te=se.charAt(++$e):re=te==="e"?" ":"0",(Me=pe[te])&&(te=Me(xe,re)),ee.push(te),ge=$e+1);return ee.push(se.slice(ge,$e)),ee.join("")}}function R(se,pe){return function(xe){var ee=Pf(1900,void 0,1),$e=M(ee,se,xe+="",0),ge,He;if($e!=xe.length)return null;if("Q"in ee)return new Date(ee.Q);if("s"in ee)return new Date(ee.s*1e3+("L"in ee?ee.L:0));if(pe&&!("Z"in ee)&&(ee.Z=0),"p"in ee&&(ee.H=ee.H%12+ee.p*12),ee.m===void 0&&(ee.m="q"in ee?ee.q:0),"V"in ee){if(ee.V<1||ee.V>53)return null;"w"in ee||(ee.w=1),"Z"in ee?(ge=E2(Pf(ee.y,0,1)),He=ge.getUTCDay(),ge=He>4||He===0?ey.ceil(ge):ey(ge),ge=A0.offset(ge,(ee.V-1)*7),ee.y=ge.getUTCFullYear(),ee.m=ge.getUTCMonth(),ee.d=ge.getUTCDate()+(ee.w+6)%7):(ge=j2(Pf(ee.y,0,1)),He=ge.getDay(),ge=He>4||He===0?Zv.ceil(ge):Zv(ge),ge=Fm.offset(ge,(ee.V-1)*7),ee.y=ge.getFullYear(),ee.m=ge.getMonth(),ee.d=ge.getDate()+(ee.w+6)%7)}else("W"in ee||"U"in ee)&&("w"in ee||(ee.w="u"in ee?ee.u%7:"W"in ee?1:0),He="Z"in ee?E2(Pf(ee.y,0,1)).getUTCDay():j2(Pf(ee.y,0,1)).getDay(),ee.m=0,ee.d="W"in ee?(ee.w+6)%7+ee.W*7-(He+5)%7:ee.w+ee.U*7-(He+6)%7);return"Z"in ee?(ee.H+=ee.Z/100|0,ee.M+=ee.Z%100,E2(ee)):j2(ee)}}function M(se,pe,xe,ee){for(var $e=0,ge=pe.length,He=xe.length,te,re;$e<ge;){if(ee>=He)return-1;if(te=pe.charCodeAt($e++),te===37){if(te=pe.charAt($e++),re=T[te in wL?pe.charAt($e++):te],!re||(ee=re(se,xe,ee))<0)return-1}else if(te!=xe.charCodeAt(ee++))return-1}return ee}function k(se,pe,xe){var ee=f.exec(pe.slice(xe));return ee?(se.p=m.get(ee[0].toLowerCase()),xe+ee[0].length):-1}function I(se,pe,xe){var ee=b.exec(pe.slice(xe));return ee?(se.w=x.get(ee[0].toLowerCase()),xe+ee[0].length):-1}function B(se,pe,xe){var ee=p.exec(pe.slice(xe));return ee?(se.w=v.get(ee[0].toLowerCase()),xe+ee[0].length):-1}function $(se,pe,xe){var ee=E.exec(pe.slice(xe));return ee?(se.m=N.get(ee[0].toLowerCase()),xe+ee[0].length):-1}function F(se,pe,xe){var ee=y.exec(pe.slice(xe));return ee?(se.m=w.get(ee[0].toLowerCase()),xe+ee[0].length):-1}function H(se,pe,xe){return M(se,t,pe,xe)}function U(se,pe,xe){return M(se,n,pe,xe)}function D(se,pe,xe){return M(se,r,pe,xe)}function G(se){return o[se.getDay()]}function z(se){return a[se.getDay()]}function X(se){return d[se.getMonth()]}function ue(se){return l[se.getMonth()]}function V(se){return i[+(se.getHours()>=12)]}function K(se){return 1+~~(se.getMonth()/3)}function Z(se){return o[se.getUTCDay()]}function oe(se){return a[se.getUTCDay()]}function be(se){return d[se.getUTCMonth()]}function ae(se){return l[se.getUTCMonth()]}function J(se){return i[+(se.getUTCHours()>=12)]}function he(se){return 1+~~(se.getUTCMonth()/3)}return{format:function(se){var pe=C(se+="",j);return pe.toString=function(){return se},pe},parse:function(se){var pe=R(se+="",!1);return pe.toString=function(){return se},pe},utcFormat:function(se){var pe=C(se+="",O);return pe.toString=function(){return se},pe},utcParse:function(se){var pe=R(se+="",!0);return pe.toString=function(){return se},pe}}}var wL={"-":"",_:" ",0:"0"},cr=/^\s*\d+/,zbe=/^%/,Ube=/[\\^$*+?|[\]().{}]/g;function Ft(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(t)+i:i)}function Fbe(e){return e.replace(Ube,"\\$&")}function Mf(e){return new RegExp("^(?:"+e.map(Fbe).join("|")+")","i")}function kf(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function Vbe(e,t,n){var r=cr.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function Hbe(e,t,n){var r=cr.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function Gbe(e,t,n){var r=cr.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function Kbe(e,t,n){var r=cr.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function Wbe(e,t,n){var r=cr.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function _L(e,t,n){var r=cr.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function SL(e,t,n){var r=cr.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Ybe(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Xbe(e,t,n){var r=cr.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function Qbe(e,t,n){var r=cr.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function jL(e,t,n){var r=cr.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function Jbe(e,t,n){var r=cr.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function EL(e,t,n){var r=cr.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function Zbe(e,t,n){var r=cr.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function exe(e,t,n){var r=cr.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function txe(e,t,n){var r=cr.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function nxe(e,t,n){var r=cr.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function rxe(e,t,n){var r=zbe.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function ixe(e,t,n){var r=cr.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function axe(e,t,n){var r=cr.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function NL(e,t){return Ft(e.getDate(),t,2)}function sxe(e,t){return Ft(e.getHours(),t,2)}function oxe(e,t){return Ft(e.getHours()%12||12,t,2)}function lxe(e,t){return Ft(1+Fm.count(gs(e),e),t,3)}function KH(e,t){return Ft(e.getMilliseconds(),t,3)}function cxe(e,t){return KH(e,t)+"000"}function uxe(e,t){return Ft(e.getMonth()+1,t,2)}function dxe(e,t){return Ft(e.getMinutes(),t,2)}function fxe(e,t){return Ft(e.getSeconds(),t,2)}function hxe(e){var t=e.getDay();return t===0?7:t}function mxe(e,t){return Ft(T0.count(gs(e)-1,e),t,2)}function WH(e){var t=e.getDay();return t>=4||t===0?$u(e):$u.ceil(e)}function pxe(e,t){return e=WH(e),Ft($u.count(gs(e),e)+(gs(e).getDay()===4),t,2)}function gxe(e){return e.getDay()}function vxe(e,t){return Ft(Zv.count(gs(e)-1,e),t,2)}function yxe(e,t){return Ft(e.getFullYear()%100,t,2)}function bxe(e,t){return e=WH(e),Ft(e.getFullYear()%100,t,2)}function xxe(e,t){return Ft(e.getFullYear()%1e4,t,4)}function wxe(e,t){var n=e.getDay();return e=n>=4||n===0?$u(e):$u.ceil(e),Ft(e.getFullYear()%1e4,t,4)}function _xe(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Ft(t/60|0,"0",2)+Ft(t%60,"0",2)}function AL(e,t){return Ft(e.getUTCDate(),t,2)}function Sxe(e,t){return Ft(e.getUTCHours(),t,2)}function jxe(e,t){return Ft(e.getUTCHours()%12||12,t,2)}function Exe(e,t){return Ft(1+A0.count(vs(e),e),t,3)}function YH(e,t){return Ft(e.getUTCMilliseconds(),t,3)}function Nxe(e,t){return YH(e,t)+"000"}function Axe(e,t){return Ft(e.getUTCMonth()+1,t,2)}function Txe(e,t){return Ft(e.getUTCMinutes(),t,2)}function Oxe(e,t){return Ft(e.getUTCSeconds(),t,2)}function Cxe(e){var t=e.getUTCDay();return t===0?7:t}function Rxe(e,t){return Ft(O0.count(vs(e)-1,e),t,2)}function XH(e){var t=e.getUTCDay();return t>=4||t===0?Lu(e):Lu.ceil(e)}function Pxe(e,t){return e=XH(e),Ft(Lu.count(vs(e),e)+(vs(e).getUTCDay()===4),t,2)}function Mxe(e){return e.getUTCDay()}function kxe(e,t){return Ft(ey.count(vs(e)-1,e),t,2)}function Dxe(e,t){return Ft(e.getUTCFullYear()%100,t,2)}function Ixe(e,t){return e=XH(e),Ft(e.getUTCFullYear()%100,t,2)}function $xe(e,t){return Ft(e.getUTCFullYear()%1e4,t,4)}function Lxe(e,t){var n=e.getUTCDay();return e=n>=4||n===0?Lu(e):Lu.ceil(e),Ft(e.getUTCFullYear()%1e4,t,4)}function Bxe(){return"+0000"}function TL(){return"%"}function OL(e){return+e}function CL(e){return Math.floor(+e/1e3)}var Hc,QH,JH;qxe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function qxe(e){return Hc=qbe(e),QH=Hc.format,Hc.parse,JH=Hc.utcFormat,Hc.utcParse,Hc}function zxe(e){return new Date(e)}function Uxe(e){return e instanceof Date?+e:+new Date(+e)}function yO(e,t,n,r,i,a,o,l,d,f){var m=iO(),p=m.invert,v=m.domain,b=f(".%L"),x=f(":%S"),y=f("%I:%M"),w=f("%I %p"),E=f("%a %d"),N=f("%b %d"),j=f("%B"),O=f("%Y");function T(C){return(d(C)<C?b:l(C)<C?x:o(C)<C?y:a(C)<C?w:r(C)<C?i(C)<C?E:N:n(C)<C?j:O)(C)}return m.invert=function(C){return new Date(p(C))},m.domain=function(C){return arguments.length?v(Array.from(C,Uxe)):v().map(zxe)},m.ticks=function(C){var R=v();return e(R[0],R[R.length-1],C??10)},m.tickFormat=function(C,R){return R==null?T:f(R)},m.nice=function(C){var R=v();return(!C||typeof C.range!="function")&&(C=t(R[0],R[R.length-1],C??10)),C?v(LH(R,C)):m},m.copy=function(){return Um(m,yO(e,t,n,r,i,a,o,l,d,f))},m}function Fxe(){return qi.apply(yO(Lbe,Bbe,gs,gO,T0,Fm,mO,fO,vl,QH).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Vxe(){return qi.apply(yO(Ibe,$be,vs,vO,O0,A0,pO,hO,vl,JH).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function C0(){var e=0,t=1,n,r,i,a,o=Ir,l=!1,d;function f(p){return p==null||isNaN(p=+p)?d:o(i===0?.5:(p=(a(p)-n)*i,l?Math.max(0,Math.min(1,p)):p))}f.domain=function(p){return arguments.length?([e,t]=p,n=a(e=+e),r=a(t=+t),i=n===r?0:1/(r-n),f):[e,t]},f.clamp=function(p){return arguments.length?(l=!!p,f):l},f.interpolator=function(p){return arguments.length?(o=p,f):o};function m(p){return function(v){var b,x;return arguments.length?([b,x]=v,o=p(b,x),f):[o(0),o(1)]}}return f.range=m(Od),f.rangeRound=m(rO),f.unknown=function(p){return arguments.length?(d=p,f):d},function(p){return a=p,n=p(e),r=p(t),i=n===r?0:1/(r-n),f}}function To(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function ZH(){var e=Ao(C0()(Ir));return e.copy=function(){return To(e,ZH())},ws.apply(e,arguments)}function e7(){var e=oO(C0()).domain([1,10]);return e.copy=function(){return To(e,e7()).base(e.base())},ws.apply(e,arguments)}function t7(){var e=lO(C0());return e.copy=function(){return To(e,t7()).constant(e.constant())},ws.apply(e,arguments)}function bO(){var e=cO(C0());return e.copy=function(){return To(e,bO()).exponent(e.exponent())},ws.apply(e,arguments)}function Hxe(){return bO.apply(null,arguments).exponent(.5)}function n7(){var e=[],t=Ir;function n(r){if(r!=null&&!isNaN(r=+r))return t((qm(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let i of r)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(co),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,i)=>t(i/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>R0e(e,a/r))},n.copy=function(){return n7(t).domain(e)},ws.apply(n,arguments)}function R0(){var e=0,t=.5,n=1,r=1,i,a,o,l,d,f=Ir,m,p=!1,v;function b(y){return isNaN(y=+y)?v:(y=.5+((y=+m(y))-a)*(r*y<r*a?l:d),f(p?Math.max(0,Math.min(1,y)):y))}b.domain=function(y){return arguments.length?([e,t,n]=y,i=m(e=+e),a=m(t=+t),o=m(n=+n),l=i===a?0:.5/(a-i),d=a===o?0:.5/(o-a),r=a<i?-1:1,b):[e,t,n]},b.clamp=function(y){return arguments.length?(p=!!y,b):p},b.interpolator=function(y){return arguments.length?(f=y,b):f};function x(y){return function(w){var E,N,j;return arguments.length?([E,N,j]=w,f=rbe(y,[E,N,j]),b):[f(0),f(.5),f(1)]}}return b.range=x(Od),b.rangeRound=x(rO),b.unknown=function(y){return arguments.length?(v=y,b):v},function(y){return m=y,i=y(e),a=y(t),o=y(n),l=i===a?0:.5/(a-i),d=a===o?0:.5/(o-a),r=a<i?-1:1,b}}function r7(){var e=Ao(R0()(Ir));return e.copy=function(){return To(e,r7())},ws.apply(e,arguments)}function i7(){var e=oO(R0()).domain([.1,1,10]);return e.copy=function(){return To(e,i7()).base(e.base())},ws.apply(e,arguments)}function a7(){var e=lO(R0());return e.copy=function(){return To(e,a7()).constant(e.constant())},ws.apply(e,arguments)}function xO(){var e=cO(R0());return e.copy=function(){return To(e,xO()).exponent(e.exponent())},ws.apply(e,arguments)}function Gxe(){return xO.apply(null,arguments).exponent(.5)}const RL=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Gh,scaleDiverging:r7,scaleDivergingLog:i7,scaleDivergingPow:xO,scaleDivergingSqrt:Gxe,scaleDivergingSymlog:a7,scaleIdentity:$H,scaleImplicit:tN,scaleLinear:Qv,scaleLog:BH,scaleOrdinal:eO,scalePoint:dh,scalePow:uO,scaleQuantile:UH,scaleQuantize:FH,scaleRadial:zH,scaleSequential:ZH,scaleSequentialLog:e7,scaleSequentialPow:bO,scaleSequentialQuantile:n7,scaleSequentialSqrt:Hxe,scaleSequentialSymlog:t7,scaleSqrt:Nbe,scaleSymlog:qH,scaleThreshold:VH,scaleTime:Fxe,scaleUtc:Vxe,tickFormat:IH},Symbol.toStringTag,{value:"Module"}));var N2,PL;function s7(){if(PL)return N2;PL=1;var e=Ed();function t(n,r,i){for(var a=-1,o=n.length;++a<o;){var l=n[a],d=r(l);if(d!=null&&(f===void 0?d===d&&!e(d):i(d,f)))var f=d,m=l}return m}return N2=t,N2}var A2,ML;function Kxe(){if(ML)return A2;ML=1;function e(t,n){return t>n}return A2=e,A2}var T2,kL;function Wxe(){if(kL)return T2;kL=1;var e=s7(),t=Kxe(),n=Td();function r(i){return i&&i.length?e(i,n,t):void 0}return T2=r,T2}var Yxe=Wxe();const ao=nn(Yxe);var O2,DL;function Xxe(){if(DL)return O2;DL=1;function e(t,n){return t<n}return O2=e,O2}var C2,IL;function Qxe(){if(IL)return C2;IL=1;var e=s7(),t=Xxe(),n=Td();function r(i){return i&&i.length?e(i,n,t):void 0}return C2=r,C2}var Jxe=Qxe();const P0=nn(Jxe);var R2,$L;function Zxe(){if($L)return R2;$L=1;var e=$T(),t=Eo(),n=pH(),r=Yr();function i(a,o){var l=r(a)?e:n;return l(a,t(o,3))}return R2=i,R2}var P2,LL;function ewe(){if(LL)return P2;LL=1;var e=hH(),t=Zxe();function n(r,i){return e(t(r,i),1)}return P2=n,P2}var twe=ewe();const nwe=nn(twe);var M2,BL;function rwe(){if(BL)return M2;BL=1;var e=YT();function t(n,r){return e(n,r)}return M2=t,M2}var iwe=rwe();const Dl=nn(iwe);var Cd=1e9,awe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},_O,wn=!0,Bi="[DecimalError] ",El=Bi+"Invalid argument: ",wO=Bi+"Exponent out of range: ",Rd=Math.floor,sl=Math.pow,swe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,di,lr=1e7,hn=7,o7=9007199254740991,ty=Rd(o7/hn),qe={};qe.absoluteValue=qe.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};qe.comparedTo=qe.cmp=function(e){var t,n,r,i,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(r=a.d.length,i=e.d.length,t=0,n=r<i?r:i;t<n;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};qe.decimalPlaces=qe.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*hn;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};qe.dividedBy=qe.div=function(e){return cs(this,new this.constructor(e))};qe.dividedToIntegerBy=qe.idiv=function(e){var t=this,n=t.constructor;return on(cs(t,new n(e),0,1),n.precision)};qe.equals=qe.eq=function(e){return!this.cmp(e)};qe.exponent=function(){return Kn(this)};qe.greaterThan=qe.gt=function(e){return this.cmp(e)>0};qe.greaterThanOrEqualTo=qe.gte=function(e){return this.cmp(e)>=0};qe.isInteger=qe.isint=function(){return this.e>this.d.length-2};qe.isNegative=qe.isneg=function(){return this.s<0};qe.isPositive=qe.ispos=function(){return this.s>0};qe.isZero=function(){return this.s===0};qe.lessThan=qe.lt=function(e){return this.cmp(e)<0};qe.lessThanOrEqualTo=qe.lte=function(e){return this.cmp(e)<1};qe.logarithm=qe.log=function(e){var t,n=this,r=n.constructor,i=r.precision,a=i+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(di))throw Error(Bi+"NaN");if(n.s<1)throw Error(Bi+(n.s?"NaN":"-Infinity"));return n.eq(di)?new r(0):(wn=!1,t=cs(Qh(n,a),Qh(e,a),a),wn=!0,on(t,i))};qe.minus=qe.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?u7(t,e):l7(t,(e.s=-e.s,e))};qe.modulo=qe.mod=function(e){var t,n=this,r=n.constructor,i=r.precision;if(e=new r(e),!e.s)throw Error(Bi+"NaN");return n.s?(wn=!1,t=cs(n,e,0,1).times(e),wn=!0,n.minus(t)):on(new r(n),i)};qe.naturalExponential=qe.exp=function(){return c7(this)};qe.naturalLogarithm=qe.ln=function(){return Qh(this)};qe.negated=qe.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};qe.plus=qe.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?l7(t,e):u7(t,(e.s=-e.s,e))};qe.precision=qe.sd=function(e){var t,n,r,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(El+e);if(t=Kn(i)+1,r=i.d.length-1,n=r*hn+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};qe.squareRoot=qe.sqrt=function(){var e,t,n,r,i,a,o,l=this,d=l.constructor;if(l.s<1){if(!l.s)return new d(0);throw Error(Bi+"NaN")}for(e=Kn(l),wn=!1,i=Math.sqrt(+l),i==0||i==1/0?(t=ba(l.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=Rd((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new d(t)):r=new d(i.toString()),n=d.precision,i=o=n+3;;)if(a=r,r=a.plus(cs(l,a,o+2)).times(.5),ba(a.d).slice(0,o)===(t=ba(r.d)).slice(0,o)){if(t=t.slice(o-3,o+1),i==o&&t=="4999"){if(on(a,n+1,0),a.times(a).eq(l)){r=a;break}}else if(t!="9999")break;o+=4}return wn=!0,on(r,n)};qe.times=qe.mul=function(e){var t,n,r,i,a,o,l,d,f,m=this,p=m.constructor,v=m.d,b=(e=new p(e)).d;if(!m.s||!e.s)return new p(0);for(e.s*=m.s,n=m.e+e.e,d=v.length,f=b.length,d<f&&(a=v,v=b,b=a,o=d,d=f,f=o),a=[],o=d+f,r=o;r--;)a.push(0);for(r=f;--r>=0;){for(t=0,i=d+r;i>r;)l=a[i]+b[r]*v[i-r-1]+t,a[i--]=l%lr|0,t=l/lr|0;a[i]=(a[i]+t)%lr|0}for(;!a[--o];)a.pop();return t?++n:a.shift(),e.d=a,e.e=n,wn?on(e,p.precision):e};qe.toDecimalPlaces=qe.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(Ca(e,0,Cd),t===void 0?t=r.rounding:Ca(t,0,8),on(n,e+Kn(n)+1,t))};qe.toExponential=function(e,t){var n,r=this,i=r.constructor;return e===void 0?n=Il(r,!0):(Ca(e,0,Cd),t===void 0?t=i.rounding:Ca(t,0,8),r=on(new i(r),e+1,t),n=Il(r,!0,e+1)),n};qe.toFixed=function(e,t){var n,r,i=this,a=i.constructor;return e===void 0?Il(i):(Ca(e,0,Cd),t===void 0?t=a.rounding:Ca(t,0,8),r=on(new a(i),e+Kn(i)+1,t),n=Il(r.abs(),!1,e+Kn(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};qe.toInteger=qe.toint=function(){var e=this,t=e.constructor;return on(new t(e),Kn(e)+1,t.rounding)};qe.toNumber=function(){return+this};qe.toPower=qe.pow=function(e){var t,n,r,i,a,o,l=this,d=l.constructor,f=12,m=+(e=new d(e));if(!e.s)return new d(di);if(l=new d(l),!l.s){if(e.s<1)throw Error(Bi+"Infinity");return l}if(l.eq(di))return l;if(r=d.precision,e.eq(di))return on(l,r);if(t=e.e,n=e.d.length-1,o=t>=n,a=l.s,o){if((n=m<0?-m:m)<=o7){for(i=new d(di),t=Math.ceil(r/hn+4),wn=!1;n%2&&(i=i.times(l),zL(i.d,t)),n=Rd(n/2),n!==0;)l=l.times(l),zL(l.d,t);return wn=!0,e.s<0?new d(di).div(i):on(i,r)}}else if(a<0)throw Error(Bi+"NaN");return a=a<0&&e.d[Math.max(t,n)]&1?-1:1,l.s=1,wn=!1,i=e.times(Qh(l,r+f)),wn=!0,i=c7(i),i.s=a,i};qe.toPrecision=function(e,t){var n,r,i=this,a=i.constructor;return e===void 0?(n=Kn(i),r=Il(i,n<=a.toExpNeg||n>=a.toExpPos)):(Ca(e,1,Cd),t===void 0?t=a.rounding:Ca(t,0,8),i=on(new a(i),e,t),n=Kn(i),r=Il(i,e<=n||n<=a.toExpNeg,e)),r};qe.toSignificantDigits=qe.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(Ca(e,1,Cd),t===void 0?t=r.rounding:Ca(t,0,8)),on(new r(n),e,t)};qe.toString=qe.valueOf=qe.val=qe.toJSON=qe[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Kn(e),n=e.constructor;return Il(e,t<=n.toExpNeg||t>=n.toExpPos)};function l7(e,t){var n,r,i,a,o,l,d,f,m=e.constructor,p=m.precision;if(!e.s||!t.s)return t.s||(t=new m(e)),wn?on(t,p):t;if(d=e.d,f=t.d,o=e.e,i=t.e,d=d.slice(),a=o-i,a){for(a<0?(r=d,a=-a,l=f.length):(r=f,i=o,l=d.length),o=Math.ceil(p/hn),l=o>l?o+1:l+1,a>l&&(a=l,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(l=d.length,a=f.length,l-a<0&&(a=l,r=f,f=d,d=r),n=0;a;)n=(d[--a]=d[a]+f[a]+n)/lr|0,d[a]%=lr;for(n&&(d.unshift(n),++i),l=d.length;d[--l]==0;)d.pop();return t.d=d,t.e=i,wn?on(t,p):t}function Ca(e,t,n){if(e!==~~e||e<t||e>n)throw Error(El+e)}function ba(e){var t,n,r,i=e.length-1,a="",o=e[0];if(i>0){for(a+=o,t=1;t<i;t++)r=e[t]+"",n=hn-r.length,n&&(a+=eo(n)),a+=r;o=e[t],r=o+"",n=hn-r.length,n&&(a+=eo(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var cs=(function(){function e(r,i){var a,o=0,l=r.length;for(r=r.slice();l--;)a=r[l]*i+o,r[l]=a%lr|0,o=a/lr|0;return o&&r.unshift(o),r}function t(r,i,a,o){var l,d;if(a!=o)d=a>o?1:-1;else for(l=d=0;l<a;l++)if(r[l]!=i[l]){d=r[l]>i[l]?1:-1;break}return d}function n(r,i,a){for(var o=0;a--;)r[a]-=o,o=r[a]<i[a]?1:0,r[a]=o*lr+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,o){var l,d,f,m,p,v,b,x,y,w,E,N,j,O,T,C,R,M,k=r.constructor,I=r.s==i.s?1:-1,B=r.d,$=i.d;if(!r.s)return new k(r);if(!i.s)throw Error(Bi+"Division by zero");for(d=r.e-i.e,R=$.length,T=B.length,b=new k(I),x=b.d=[],f=0;$[f]==(B[f]||0);)++f;if($[f]>(B[f]||0)&&--d,a==null?N=a=k.precision:o?N=a+(Kn(r)-Kn(i))+1:N=a,N<0)return new k(0);if(N=N/hn+2|0,f=0,R==1)for(m=0,$=$[0],N++;(f<T||m)&&N--;f++)j=m*lr+(B[f]||0),x[f]=j/$|0,m=j%$|0;else{for(m=lr/($[0]+1)|0,m>1&&($=e($,m),B=e(B,m),R=$.length,T=B.length),O=R,y=B.slice(0,R),w=y.length;w<R;)y[w++]=0;M=$.slice(),M.unshift(0),C=$[0],$[1]>=lr/2&&++C;do m=0,l=t($,y,R,w),l<0?(E=y[0],R!=w&&(E=E*lr+(y[1]||0)),m=E/C|0,m>1?(m>=lr&&(m=lr-1),p=e($,m),v=p.length,w=y.length,l=t(p,y,v,w),l==1&&(m--,n(p,R<v?M:$,v))):(m==0&&(l=m=1),p=$.slice()),v=p.length,v<w&&p.unshift(0),n(y,p,w),l==-1&&(w=y.length,l=t($,y,R,w),l<1&&(m++,n(y,R<w?M:$,w))),w=y.length):l===0&&(m++,y=[0]),x[f++]=m,l&&y[0]?y[w++]=B[O]||0:(y=[B[O]],w=1);while((O++<T||y[0]!==void 0)&&N--)}return x[0]||x.shift(),b.e=d,on(b,o?a+Kn(b)+1:a)}})();function c7(e,t){var n,r,i,a,o,l,d=0,f=0,m=e.constructor,p=m.precision;if(Kn(e)>16)throw Error(wO+Kn(e));if(!e.s)return new m(di);for(wn=!1,l=p,o=new m(.03125);e.abs().gte(.1);)e=e.times(o),f+=5;for(r=Math.log(sl(2,f))/Math.LN10*2+5|0,l+=r,n=i=a=new m(di),m.precision=l;;){if(i=on(i.times(e),l),n=n.times(++d),o=a.plus(cs(i,n,l)),ba(o.d).slice(0,l)===ba(a.d).slice(0,l)){for(;f--;)a=on(a.times(a),l);return m.precision=p,t==null?(wn=!0,on(a,p)):a}a=o}}function Kn(e){for(var t=e.e*hn,n=e.d[0];n>=10;n/=10)t++;return t}function k2(e,t,n){if(t>e.LN10.sd())throw wn=!0,n&&(e.precision=n),Error(Bi+"LN10 precision limit exceeded");return on(new e(e.LN10),t)}function eo(e){for(var t="";e--;)t+="0";return t}function Qh(e,t){var n,r,i,a,o,l,d,f,m,p=1,v=10,b=e,x=b.d,y=b.constructor,w=y.precision;if(b.s<1)throw Error(Bi+(b.s?"NaN":"-Infinity"));if(b.eq(di))return new y(0);if(t==null?(wn=!1,f=w):f=t,b.eq(10))return t==null&&(wn=!0),k2(y,f);if(f+=v,y.precision=f,n=ba(x),r=n.charAt(0),a=Kn(b),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)b=b.times(e),n=ba(b.d),r=n.charAt(0),p++;a=Kn(b),r>1?(b=new y("0."+n),a++):b=new y(r+"."+n.slice(1))}else return d=k2(y,f+2,w).times(a+""),b=Qh(new y(r+"."+n.slice(1)),f-v).plus(d),y.precision=w,t==null?(wn=!0,on(b,w)):b;for(l=o=b=cs(b.minus(di),b.plus(di),f),m=on(b.times(b),f),i=3;;){if(o=on(o.times(m),f),d=l.plus(cs(o,new y(i),f)),ba(d.d).slice(0,f)===ba(l.d).slice(0,f))return l=l.times(2),a!==0&&(l=l.plus(k2(y,f+2,w).times(a+""))),l=cs(l,new y(p),f),y.precision=w,t==null?(wn=!0,on(l,w)):l;l=d,i+=2}}function qL(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(r,i),t){if(i-=r,n=n-r-1,e.e=Rd(n/hn),e.d=[],r=(n+1)%hn,n<0&&(r+=hn),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=hn;r<i;)e.d.push(+t.slice(r,r+=hn));t=t.slice(r),r=hn-t.length}else r-=i;for(;r--;)t+="0";if(e.d.push(+t),wn&&(e.e>ty||e.e<-ty))throw Error(wO+n)}else e.s=0,e.e=0,e.d=[0];return e}function on(e,t,n){var r,i,a,o,l,d,f,m,p=e.d;for(o=1,a=p[0];a>=10;a/=10)o++;if(r=t-o,r<0)r+=hn,i=t,f=p[m=0];else{if(m=Math.ceil((r+1)/hn),a=p.length,m>=a)return e;for(f=a=p[m],o=1;a>=10;a/=10)o++;r%=hn,i=r-hn+o}if(n!==void 0&&(a=sl(10,o-i-1),l=f/a%10|0,d=t<0||p[m+1]!==void 0||f%a,d=n<4?(l||d)&&(n==0||n==(e.s<0?3:2)):l>5||l==5&&(n==4||d||n==6&&(r>0?i>0?f/sl(10,o-i):0:p[m-1])%10&1||n==(e.s<0?8:7))),t<1||!p[0])return d?(a=Kn(e),p.length=1,t=t-a-1,p[0]=sl(10,(hn-t%hn)%hn),e.e=Rd(-t/hn)||0):(p.length=1,p[0]=e.e=e.s=0),e;if(r==0?(p.length=m,a=1,m--):(p.length=m+1,a=sl(10,hn-r),p[m]=i>0?(f/sl(10,o-i)%sl(10,i)|0)*a:0),d)for(;;)if(m==0){(p[0]+=a)==lr&&(p[0]=1,++e.e);break}else{if(p[m]+=a,p[m]!=lr)break;p[m--]=0,a=1}for(r=p.length;p[--r]===0;)p.pop();if(wn&&(e.e>ty||e.e<-ty))throw Error(wO+Kn(e));return e}function u7(e,t){var n,r,i,a,o,l,d,f,m,p,v=e.constructor,b=v.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new v(e),wn?on(t,b):t;if(d=e.d,p=t.d,r=t.e,f=e.e,d=d.slice(),o=f-r,o){for(m=o<0,m?(n=d,o=-o,l=p.length):(n=p,r=f,l=d.length),i=Math.max(Math.ceil(b/hn),l)+2,o>i&&(o=i,n.length=1),n.reverse(),i=o;i--;)n.push(0);n.reverse()}else{for(i=d.length,l=p.length,m=i<l,m&&(l=i),i=0;i<l;i++)if(d[i]!=p[i]){m=d[i]<p[i];break}o=0}for(m&&(n=d,d=p,p=n,t.s=-t.s),l=d.length,i=p.length-l;i>0;--i)d[l++]=0;for(i=p.length;i>o;){if(d[--i]<p[i]){for(a=i;a&&d[--a]===0;)d[a]=lr-1;--d[a],d[i]+=lr}d[i]-=p[i]}for(;d[--l]===0;)d.pop();for(;d[0]===0;d.shift())--r;return d[0]?(t.d=d,t.e=r,wn?on(t,b):t):new v(0)}function Il(e,t,n){var r,i=Kn(e),a=ba(e.d),o=a.length;return t?(n&&(r=n-o)>0?a=a.charAt(0)+"."+a.slice(1)+eo(r):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+eo(-i-1)+a,n&&(r=n-o)>0&&(a+=eo(r))):i>=o?(a+=eo(i+1-o),n&&(r=n-i-1)>0&&(a=a+"."+eo(r))):((r=i+1)<o&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-o)>0&&(i+1===o&&(a+="."),a+=eo(r))),e.s<0?"-"+a:a}function zL(e,t){if(e.length>t)return e.length=t,!0}function d7(e){var t,n,r;function i(a){var o=this;if(!(o instanceof i))return new i(a);if(o.constructor=i,a instanceof i){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(El+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return qL(o,a.toString())}else if(typeof a!="string")throw Error(El+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,swe.test(a))qL(o,a);else throw Error(El+a)}if(i.prototype=qe,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=d7,i.config=i.set=owe,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return i.config(e),i}function owe(e){if(!e||typeof e!="object")throw Error(Bi+"Object expected");var t,n,r,i=["precision",1,Cd,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((r=e[n=i[t]])!==void 0)if(Rd(r)===r&&r>=i[t+1]&&r<=i[t+2])this[n]=r;else throw Error(El+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(El+n+": "+r);return this}var _O=d7(awe);di=new _O(1);const tn=_O;function lwe(e){return fwe(e)||dwe(e)||uwe(e)||cwe()}function cwe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uwe(e,t){if(e){if(typeof e=="string")return aN(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return aN(e,t)}}function dwe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function fwe(e){if(Array.isArray(e))return aN(e)}function aN(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var hwe=function(t){return t},f7={},h7=function(t){return t===f7},UL=function(t){return function n(){return arguments.length===0||arguments.length===1&&h7(arguments.length<=0?void 0:arguments[0])?n:t.apply(void 0,arguments)}},mwe=function e(t,n){return t===1?n:UL(function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];var o=i.filter(function(l){return l!==f7}).length;return o>=t?n.apply(void 0,i):e(t-o,UL(function(){for(var l=arguments.length,d=new Array(l),f=0;f<l;f++)d[f]=arguments[f];var m=i.map(function(p){return h7(p)?d.shift():p});return n.apply(void 0,lwe(m).concat(d))}))})},M0=function(t){return mwe(t.length,t)},sN=function(t,n){for(var r=[],i=t;i<n;++i)r[i-t]=i;return r},pwe=M0(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(n){return t[n]}).map(e)}),gwe=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!n.length)return hwe;var i=n.reverse(),a=i[0],o=i.slice(1);return function(){return o.reduce(function(l,d){return d(l)},a.apply(void 0,arguments))}},oN=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},m7=function(t){var n=null,r=null;return function(){for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return n&&a.every(function(l,d){return l===n[d]})||(n=a,r=t.apply(void 0,a)),r}};function vwe(e){var t;return e===0?t=1:t=Math.floor(new tn(e).abs().log(10).toNumber())+1,t}function ywe(e,t,n){for(var r=new tn(e),i=0,a=[];r.lt(t)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}var bwe=M0(function(e,t,n){var r=+e,i=+t;return r+n*(i-r)}),xwe=M0(function(e,t,n){var r=t-+e;return r=r||1/0,(n-e)/r}),wwe=M0(function(e,t,n){var r=t-+e;return r=r||1/0,Math.max(0,Math.min(1,(n-e)/r))});const k0={rangeStep:ywe,getDigitCount:vwe,interpolateNumber:bwe,uninterpolateNumber:xwe,uninterpolateTruncation:wwe};function lN(e){return jwe(e)||Swe(e)||p7(e)||_we()}function _we(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Swe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function jwe(e){if(Array.isArray(e))return cN(e)}function Jh(e,t){return Awe(e)||Nwe(e,t)||p7(e,t)||Ewe()}function Ewe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function p7(e,t){if(e){if(typeof e=="string")return cN(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return cN(e,t)}}function cN(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Nwe(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var n=[],r=!0,i=!1,a=void 0;try{for(var o=e[Symbol.iterator](),l;!(r=(l=o.next()).done)&&(n.push(l.value),!(t&&n.length===t));r=!0);}catch(d){i=!0,a=d}finally{try{!r&&o.return!=null&&o.return()}finally{if(i)throw a}}return n}}function Awe(e){if(Array.isArray(e))return e}function g7(e){var t=Jh(e,2),n=t[0],r=t[1],i=n,a=r;return n>r&&(i=r,a=n),[i,a]}function v7(e,t,n){if(e.lte(0))return new tn(0);var r=k0.getDigitCount(e.toNumber()),i=new tn(10).pow(r),a=e.div(i),o=r!==1?.05:.1,l=new tn(Math.ceil(a.div(o).toNumber())).add(n).mul(o),d=l.mul(i);return t?d:new tn(Math.ceil(d))}function Twe(e,t,n){var r=1,i=new tn(e);if(!i.isint()&&n){var a=Math.abs(e);a<1?(r=new tn(10).pow(k0.getDigitCount(e)-1),i=new tn(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new tn(Math.floor(e)))}else e===0?i=new tn(Math.floor((t-1)/2)):n||(i=new tn(Math.floor(e)));var o=Math.floor((t-1)/2),l=gwe(pwe(function(d){return i.add(new tn(d-o).mul(r)).toNumber()}),sN);return l(0,t)}function y7(e,t,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(n-1)))return{step:new tn(0),tickMin:new tn(0),tickMax:new tn(0)};var a=v7(new tn(t).sub(e).div(n-1),r,i),o;e<=0&&t>=0?o=new tn(0):(o=new tn(e).add(t).div(2),o=o.sub(new tn(o).mod(a)));var l=Math.ceil(o.sub(e).div(a).toNumber()),d=Math.ceil(new tn(t).sub(o).div(a).toNumber()),f=l+d+1;return f>n?y7(e,t,n,r,i+1):(f<n&&(d=t>0?d+(n-f):d,l=t>0?l:l+(n-f)),{step:a,tickMin:o.sub(new tn(l).mul(a)),tickMax:o.add(new tn(d).mul(a))})}function Owe(e){var t=Jh(e,2),n=t[0],r=t[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),l=g7([n,r]),d=Jh(l,2),f=d[0],m=d[1];if(f===-1/0||m===1/0){var p=m===1/0?[f].concat(lN(sN(0,i-1).map(function(){return 1/0}))):[].concat(lN(sN(0,i-1).map(function(){return-1/0})),[m]);return n>r?oN(p):p}if(f===m)return Twe(f,i,a);var v=y7(f,m,o,a),b=v.step,x=v.tickMin,y=v.tickMax,w=k0.rangeStep(x,y.add(new tn(.1).mul(b)),b);return n>r?oN(w):w}function Cwe(e,t){var n=Jh(e,2),r=n[0],i=n[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=g7([r,i]),l=Jh(o,2),d=l[0],f=l[1];if(d===-1/0||f===1/0)return[r,i];if(d===f)return[d];var m=Math.max(t,2),p=v7(new tn(f).sub(d).div(m-1),a,0),v=[].concat(lN(k0.rangeStep(new tn(d),new tn(f).sub(new tn(.99).mul(p)),p)),[f]);return r>i?oN(v):v}var Rwe=m7(Owe),Pwe=m7(Cwe),Mwe="Invariant failed";function $l(e,t){throw new Error(Mwe)}var kwe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Bu(e){"@babel/helpers - typeof";return Bu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bu(e)}function ny(){return ny=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ny.apply(this,arguments)}function Dwe(e,t){return Bwe(e)||Lwe(e,t)||$we(e,t)||Iwe()}function Iwe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $we(e,t){if(e){if(typeof e=="string")return FL(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return FL(e,t)}}function FL(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Lwe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,o,l=[],d=!0,f=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(d=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);d=!0);}catch(m){f=!0,i=m}finally{try{if(!d&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(f)throw i}}return l}}function Bwe(e){if(Array.isArray(e))return e}function qwe(e,t){if(e==null)return{};var n=zwe(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function zwe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function Uwe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Fwe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,w7(r.key),r)}}function Vwe(e,t,n){return t&&Fwe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Hwe(e,t,n){return t=ry(t),Gwe(e,b7()?Reflect.construct(t,n||[],ry(e).constructor):t.apply(e,n))}function Gwe(e,t){if(t&&(Bu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Kwe(e)}function Kwe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b7(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(b7=function(){return!!e})()}function ry(e){return ry=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ry(e)}function Wwe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&uN(e,t)}function uN(e,t){return uN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},uN(e,t)}function x7(e,t,n){return t=w7(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function w7(e){var t=Ywe(e,"string");return Bu(t)=="symbol"?t:t+""}function Ywe(e,t){if(Bu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Bu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Pd=(function(e){function t(){return Uwe(this,t),Hwe(this,t,arguments)}return Wwe(t,e),Vwe(t,[{key:"render",value:function(){var r=this.props,i=r.offset,a=r.layout,o=r.width,l=r.dataKey,d=r.data,f=r.dataPointFormatter,m=r.xAxis,p=r.yAxis,v=qwe(r,kwe),b=wt(v,!1);this.props.direction==="x"&&m.type!=="number"&&$l();var x=d.map(function(y){var w=f(y,l),E=w.x,N=w.y,j=w.value,O=w.errorVal;if(!O)return null;var T=[],C,R;if(Array.isArray(O)){var M=Dwe(O,2);C=M[0],R=M[1]}else C=R=O;if(a==="vertical"){var k=m.scale,I=N+i,B=I+o,$=I-o,F=k(j-C),H=k(j+R);T.push({x1:H,y1:B,x2:H,y2:$}),T.push({x1:F,y1:I,x2:H,y2:I}),T.push({x1:F,y1:B,x2:F,y2:$})}else if(a==="horizontal"){var U=p.scale,D=E+i,G=D-o,z=D+o,X=U(j-C),ue=U(j+R);T.push({x1:G,y1:ue,x2:z,y2:ue}),T.push({x1:D,y1:X,x2:D,y2:ue}),T.push({x1:G,y1:X,x2:z,y2:X})}return q.createElement(Ht,ny({className:"recharts-errorBar",key:"bar-".concat(T.map(function(V){return"".concat(V.x1,"-").concat(V.x2,"-").concat(V.y1,"-").concat(V.y2)}))},b),T.map(function(V){return q.createElement("line",ny({},V,{key:"line-".concat(V.x1,"-").concat(V.x2,"-").concat(V.y1,"-").concat(V.y2)}))}))});return q.createElement(Ht,{className:"recharts-errorBars"},x)}}])})(q.Component);x7(Pd,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});x7(Pd,"displayName","ErrorBar");function Zh(e){"@babel/helpers - typeof";return Zh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zh(e)}function VL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function el(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?VL(Object(n),!0).forEach(function(r){Xwe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Xwe(e,t,n){return t=Qwe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Qwe(e){var t=Jwe(e,"string");return Zh(t)=="symbol"?t:t+""}function Jwe(e,t){if(Zh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Zh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _7=function(t){var n=t.children,r=t.formattedGraphicalItems,i=t.legendWidth,a=t.legendContent,o=oi(n,wu);if(!o)return null;var l=wu.defaultProps,d=l!==void 0?el(el({},l),o.props):{},f;return o.props&&o.props.payload?f=o.props&&o.props.payload:a==="children"?f=(r||[]).reduce(function(m,p){var v=p.item,b=p.props,x=b.sectors||b.data||[];return m.concat(x.map(function(y){return{type:o.props.iconType||v.props.legendType,value:y.name,color:y.fill,payload:y}}))},[]):f=(r||[]).map(function(m){var p=m.item,v=p.type.defaultProps,b=v!==void 0?el(el({},v),p.props):{},x=b.dataKey,y=b.name,w=b.legendType,E=b.hide;return{inactive:E,dataKey:x,type:d.iconType||w||"square",color:SO(p),value:y||x,payload:b}}),el(el(el({},d),wu.getWithHeight(o,i)),{},{payload:f,item:o})};function em(e){"@babel/helpers - typeof";return em=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},em(e)}function HL(e){return n_e(e)||t_e(e)||e_e(e)||Zwe()}function Zwe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function e_e(e,t){if(e){if(typeof e=="string")return dN(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return dN(e,t)}}function t_e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function n_e(e){if(Array.isArray(e))return dN(e)}function dN(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function GL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Cn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?GL(Object(n),!0).forEach(function(r){Su(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):GL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Su(e,t,n){return t=r_e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r_e(e){var t=i_e(e,"string");return em(t)=="symbol"?t:t+""}function i_e(e,t){if(em(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(em(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function nr(e,t,n){return vt(e)||vt(t)?n:tr(t)?Li(e,t,n):_t(t)?t(e):n}function fh(e,t,n,r){var i=nwe(e,function(l){return nr(l,t)});if(n==="number"){var a=i.filter(function(l){return Te(l)||parseFloat(l)});return a.length?[P0(a),ao(a)]:[1/0,-1/0]}var o=r?i.filter(function(l){return!vt(l)}):i;return o.map(function(l){return tr(l)||l instanceof Date?l:""})}var a_e=function(t){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,o=-1,l=(n=r?.length)!==null&&n!==void 0?n:0;if(l<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var d=a.range,f=0;f<l;f++){var m=f>0?i[f-1].coordinate:i[l-1].coordinate,p=i[f].coordinate,v=f>=l-1?i[0].coordinate:i[f+1].coordinate,b=void 0;if(ra(p-m)!==ra(v-p)){var x=[];if(ra(v-p)===ra(d[1]-d[0])){b=v;var y=p+d[1]-d[0];x[0]=Math.min(y,(y+m)/2),x[1]=Math.max(y,(y+m)/2)}else{b=m;var w=v+d[1]-d[0];x[0]=Math.min(p,(w+p)/2),x[1]=Math.max(p,(w+p)/2)}var E=[Math.min(p,(b+p)/2),Math.max(p,(b+p)/2)];if(t>E[0]&&t<=E[1]||t>=x[0]&&t<=x[1]){o=i[f].index;break}}else{var N=Math.min(m,v),j=Math.max(m,v);if(t>(N+p)/2&&t<=(j+p)/2){o=i[f].index;break}}}else for(var O=0;O<l;O++)if(O===0&&t<=(r[O].coordinate+r[O+1].coordinate)/2||O>0&&O<l-1&&t>(r[O].coordinate+r[O-1].coordinate)/2&&t<=(r[O].coordinate+r[O+1].coordinate)/2||O===l-1&&t>(r[O].coordinate+r[O-1].coordinate)/2){o=r[O].index;break}return o},SO=function(t){var n,r=t,i=r.type.displayName,a=(n=t.type)!==null&&n!==void 0&&n.defaultProps?Cn(Cn({},t.type.defaultProps),t.props):t.props,o=a.stroke,l=a.fill,d;switch(i){case"Line":d=o;break;case"Area":case"Radar":d=o&&o!=="none"?o:l;break;default:d=l;break}return d},s_e=function(t){var n=t.barSize,r=t.totalSize,i=t.stackGroups,a=i===void 0?{}:i;if(!a)return{};for(var o={},l=Object.keys(a),d=0,f=l.length;d<f;d++)for(var m=a[l[d]].stackGroups,p=Object.keys(m),v=0,b=p.length;v<b;v++){var x=m[p[v]],y=x.items,w=x.cateAxisId,E=y.filter(function(R){return os(R.type).indexOf("Bar")>=0});if(E&&E.length){var N=E[0].type.defaultProps,j=N!==void 0?Cn(Cn({},N),E[0].props):E[0].props,O=j.barSize,T=j[w];o[T]||(o[T]=[]);var C=vt(O)?n:O;o[T].push({item:E[0],stackList:E.slice(1),barSize:vt(C)?void 0:kl(C,r,0)})}}return o},o_e=function(t){var n=t.barGap,r=t.barCategoryGap,i=t.bandSize,a=t.sizeList,o=a===void 0?[]:a,l=t.maxBarSize,d=o.length;if(d<1)return null;var f=kl(n,i,0,!0),m,p=[];if(o[0].barSize===+o[0].barSize){var v=!1,b=i/d,x=o.reduce(function(O,T){return O+T.barSize||0},0);x+=(d-1)*f,x>=i&&(x-=(d-1)*f,f=0),x>=i&&b>0&&(v=!0,b*=.9,x=d*b);var y=(i-x)/2>>0,w={offset:y-f,size:0};m=o.reduce(function(O,T){var C={item:T.item,position:{offset:w.offset+w.size+f,size:v?b:T.barSize}},R=[].concat(HL(O),[C]);return w=R[R.length-1].position,T.stackList&&T.stackList.length&&T.stackList.forEach(function(M){R.push({item:M,position:w})}),R},p)}else{var E=kl(r,i,0,!0);i-2*E-(d-1)*f<=0&&(f=0);var N=(i-2*E-(d-1)*f)/d;N>1&&(N>>=0);var j=l===+l?Math.min(N,l):N;m=o.reduce(function(O,T,C){var R=[].concat(HL(O),[{item:T.item,position:{offset:E+(N+f)*C+(N-j)/2,size:j}}]);return T.stackList&&T.stackList.length&&T.stackList.forEach(function(M){R.push({item:M,position:R[R.length-1].position})}),R},p)}return m},l_e=function(t,n,r,i){var a=r.children,o=r.width,l=r.margin,d=o-(l.left||0)-(l.right||0),f=_7({children:a,legendWidth:d});if(f){var m=i||{},p=m.width,v=m.height,b=f.align,x=f.verticalAlign,y=f.layout;if((y==="vertical"||y==="horizontal"&&x==="middle")&&b!=="center"&&Te(t[b]))return Cn(Cn({},t),{},Su({},b,t[b]+(p||0)));if((y==="horizontal"||y==="vertical"&&b==="center")&&x!=="middle"&&Te(t[x]))return Cn(Cn({},t),{},Su({},x,t[x]+(v||0)))}return t},c_e=function(t,n,r){return vt(n)?!0:t==="horizontal"?n==="yAxis":t==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},S7=function(t,n,r,i,a){var o=n.props.children,l=Wr(o,Pd).filter(function(f){return c_e(i,a,f.props.direction)});if(l&&l.length){var d=l.map(function(f){return f.props.dataKey});return t.reduce(function(f,m){var p=nr(m,r);if(vt(p))return f;var v=Array.isArray(p)?[P0(p),ao(p)]:[p,p],b=d.reduce(function(x,y){var w=nr(m,y,0),E=v[0]-Math.abs(Array.isArray(w)?w[0]:w),N=v[1]+Math.abs(Array.isArray(w)?w[1]:w);return[Math.min(E,x[0]),Math.max(N,x[1])]},[1/0,-1/0]);return[Math.min(b[0],f[0]),Math.max(b[1],f[1])]},[1/0,-1/0])}return null},u_e=function(t,n,r,i,a){var o=n.map(function(l){return S7(t,l,r,a,i)}).filter(function(l){return!vt(l)});return o&&o.length?o.reduce(function(l,d){return[Math.min(l[0],d[0]),Math.max(l[1],d[1])]},[1/0,-1/0]):null},j7=function(t,n,r,i,a){var o=n.map(function(d){var f=d.props.dataKey;return r==="number"&&f&&S7(t,d,f,i)||fh(t,f,r,a)});if(r==="number")return o.reduce(function(d,f){return[Math.min(d[0],f[0]),Math.max(d[1],f[1])]},[1/0,-1/0]);var l={};return o.reduce(function(d,f){for(var m=0,p=f.length;m<p;m++)l[f[m]]||(l[f[m]]=!0,d.push(f[m]));return d},[])},E7=function(t,n){return t==="horizontal"&&n==="xAxis"||t==="vertical"&&n==="yAxis"||t==="centric"&&n==="angleAxis"||t==="radial"&&n==="radiusAxis"},N7=function(t,n,r,i){if(i)return t.map(function(d){return d.coordinate});var a,o,l=t.map(function(d){return d.coordinate===n&&(a=!0),d.coordinate===r&&(o=!0),d.coordinate});return a||l.push(n),o||l.push(r),l},is=function(t,n,r){if(!t)return null;var i=t.scale,a=t.duplicateDomain,o=t.type,l=t.range,d=t.realScaleType==="scaleBand"?i.bandwidth()/2:2,f=(n||r)&&o==="category"&&i.bandwidth?i.bandwidth()/d:0;if(f=t.axisType==="angleAxis"&&l?.length>=2?ra(l[0]-l[1])*2*f:f,n&&(t.ticks||t.niceTicks)){var m=(t.ticks||t.niceTicks).map(function(p){var v=a?a.indexOf(p):p;return{coordinate:i(v)+f,value:p,offset:f}});return m.filter(function(p){return!Ad(p.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(p,v){return{coordinate:i(p)+f,value:p,index:v,offset:f}}):i.ticks&&!r?i.ticks(t.tickCount).map(function(p){return{coordinate:i(p)+f,value:p,offset:f}}):i.domain().map(function(p,v){return{coordinate:i(p)+f,value:a?a[p]:p,index:v,offset:f}})},D2=new WeakMap,Lg=function(t,n){if(typeof n!="function")return t;D2.has(t)||D2.set(t,new WeakMap);var r=D2.get(t);if(r.has(n))return r.get(n);var i=function(){t.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},d_e=function(t,n,r){var i=t.scale,a=t.type,o=t.layout,l=t.axisType;if(i==="auto")return o==="radial"&&l==="radiusAxis"?{scale:Gh(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:Qv(),realScaleType:"linear"}:a==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:dh(),realScaleType:"point"}:a==="category"?{scale:Gh(),realScaleType:"band"}:{scale:Qv(),realScaleType:"linear"};if(Ml(i)){var d="scale".concat(v0(i));return{scale:(RL[d]||dh)(),realScaleType:RL[d]?d:"point"}}return _t(i)?{scale:i}:{scale:dh(),realScaleType:"point"}},KL=1e-4,f_e=function(t){var n=t.domain();if(!(!n||n.length<=2)){var r=n.length,i=t.range(),a=Math.min(i[0],i[1])-KL,o=Math.max(i[0],i[1])+KL,l=t(n[0]),d=t(n[r-1]);(l<a||l>o||d<a||d>o)&&t.domain([n[0],n[r-1]])}},h_e=function(t,n){if(!t)return null;for(var r=0,i=t.length;r<i;r++)if(t[r].item===n)return t[r].position;return null},m_e=function(t,n){if(!n||n.length!==2||!Te(n[0])||!Te(n[1]))return t;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),a=[t[0],t[1]];return(!Te(t[0])||t[0]<r)&&(a[0]=r),(!Te(t[1])||t[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<r&&(a[1]=r),a},p_e=function(t){var n=t.length;if(!(n<=0))for(var r=0,i=t[0].length;r<i;++r)for(var a=0,o=0,l=0;l<n;++l){var d=Ad(t[l][r][1])?t[l][r][0]:t[l][r][1];d>=0?(t[l][r][0]=a,t[l][r][1]=a+d,a=t[l][r][1]):(t[l][r][0]=o,t[l][r][1]=o+d,o=t[l][r][1])}},g_e=function(t){var n=t.length;if(!(n<=0))for(var r=0,i=t[0].length;r<i;++r)for(var a=0,o=0;o<n;++o){var l=Ad(t[o][r][1])?t[o][r][0]:t[o][r][1];l>=0?(t[o][r][0]=a,t[o][r][1]=a+l,a=t[o][r][1]):(t[o][r][0]=0,t[o][r][1]=0)}},v_e={sign:p_e,expand:ege,none:Ru,silhouette:tge,wiggle:nge,positive:g_e},y_e=function(t,n,r){var i=n.map(function(l){return l.props.dataKey}),a=v_e[r],o=Zpe().keys(i).value(function(l,d){return+nr(l,d,0)}).order(zE).offset(a);return o(t)},b_e=function(t,n,r,i,a,o){if(!t)return null;var l=o?n.reverse():n,d={},f=l.reduce(function(p,v){var b,x=(b=v.type)!==null&&b!==void 0&&b.defaultProps?Cn(Cn({},v.type.defaultProps),v.props):v.props,y=x.stackId,w=x.hide;if(w)return p;var E=x[r],N=p[E]||{hasStack:!1,stackGroups:{}};if(tr(y)){var j=N.stackGroups[y]||{numericAxisId:r,cateAxisId:i,items:[]};j.items.push(v),N.hasStack=!0,N.stackGroups[y]=j}else N.stackGroups[Fl("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[v]};return Cn(Cn({},p),{},Su({},E,N))},d),m={};return Object.keys(f).reduce(function(p,v){var b=f[v];if(b.hasStack){var x={};b.stackGroups=Object.keys(b.stackGroups).reduce(function(y,w){var E=b.stackGroups[w];return Cn(Cn({},y),{},Su({},w,{numericAxisId:r,cateAxisId:i,items:E.items,stackedData:y_e(t,E.items,a)}))},x)}return Cn(Cn({},p),{},Su({},v,b))},m)},x_e=function(t,n){var r=n.realScaleType,i=n.type,a=n.tickCount,o=n.originalDomain,l=n.allowDecimals,d=r||n.scale;if(d!=="auto"&&d!=="linear")return null;if(a&&i==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var f=t.domain();if(!f.length)return null;var m=Rwe(f,a,l);return t.domain([P0(m),ao(m)]),{niceTicks:m}}if(a&&i==="number"){var p=t.domain(),v=Pwe(p,a,l);return{niceTicks:v}}return null};function qu(e){var t=e.axis,n=e.ticks,r=e.bandSize,i=e.entry,a=e.index,o=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!vt(i[t.dataKey])){var l=Pv(n,"value",i[t.dataKey]);if(l)return l.coordinate+r/2}return n[a]?n[a].coordinate+r/2:null}var d=nr(i,vt(o)?t.dataKey:o);return vt(d)?null:t.scale(d)}var WL=function(t){var n=t.axis,r=t.ticks,i=t.offset,a=t.bandSize,o=t.entry,l=t.index;if(n.type==="category")return r[l]?r[l].coordinate+i:null;var d=nr(o,n.dataKey,n.domain[l]);return vt(d)?null:n.scale(d)-a/2+i},w_e=function(t){var n=t.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return i<=0&&a>=0?0:a<0?a:i}return r[0]},__e=function(t,n){var r,i=(r=t.type)!==null&&r!==void 0&&r.defaultProps?Cn(Cn({},t.type.defaultProps),t.props):t.props,a=i.stackId;if(tr(a)){var o=n[a];if(o){var l=o.items.indexOf(t);return l>=0?o.stackedData[l]:null}}return null},S_e=function(t){return t.reduce(function(n,r){return[P0(r.concat([n[0]]).filter(Te)),ao(r.concat([n[1]]).filter(Te))]},[1/0,-1/0])},A7=function(t,n,r){return Object.keys(t).reduce(function(i,a){var o=t[a],l=o.stackedData,d=l.reduce(function(f,m){var p=S_e(m.slice(n,r+1));return[Math.min(f[0],p[0]),Math.max(f[1],p[1])]},[1/0,-1/0]);return[Math.min(d[0],i[0]),Math.max(d[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},YL=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,XL=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,fN=function(t,n,r){if(_t(t))return t(n,r);if(!Array.isArray(t))return n;var i=[];if(Te(t[0]))i[0]=r?t[0]:Math.min(t[0],n[0]);else if(YL.test(t[0])){var a=+YL.exec(t[0])[1];i[0]=n[0]-a}else _t(t[0])?i[0]=t[0](n[0]):i[0]=n[0];if(Te(t[1]))i[1]=r?t[1]:Math.max(t[1],n[1]);else if(XL.test(t[1])){var o=+XL.exec(t[1])[1];i[1]=n[1]+o}else _t(t[1])?i[1]=t[1](n[1]):i[1]=n[1];return i},iy=function(t,n,r){if(t&&t.scale&&t.scale.bandwidth){var i=t.scale.bandwidth();if(!r||i>0)return i}if(t&&n&&n.length>=2){for(var a=QT(n,function(p){return p.coordinate}),o=1/0,l=1,d=a.length;l<d;l++){var f=a[l],m=a[l-1];o=Math.min((f.coordinate||0)-(m.coordinate||0),o)}return o===1/0?0:o}return r?void 0:0},QL=function(t,n,r){return!t||!t.length||Dl(t,Li(r,"type.defaultProps.domain"))?n:t},T7=function(t,n){var r=t.type.defaultProps?Cn(Cn({},t.type.defaultProps),t.props):t.props,i=r.dataKey,a=r.name,o=r.unit,l=r.formatter,d=r.tooltipType,f=r.chartType,m=r.hide;return Cn(Cn({},wt(t,!1)),{},{dataKey:i,unit:o,formatter:l,name:a||i,color:SO(t),value:nr(n,i),type:d,payload:n,chartType:f,hide:m})};function tm(e){"@babel/helpers - typeof";return tm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tm(e)}function JL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ZL(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?JL(Object(n),!0).forEach(function(r){j_e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):JL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function j_e(e,t,n){return t=E_e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function E_e(e){var t=N_e(e,"string");return tm(t)=="symbol"?t:t+""}function N_e(e,t){if(tm(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(tm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ay=Math.PI/180,A_e=function(t){return t*180/Math.PI},_r=function(t,n,r,i){return{x:t+Math.cos(-ay*i)*r,y:n+Math.sin(-ay*i)*r}},T_e=function(t,n){var r=t.x,i=t.y,a=n.x,o=n.y;return Math.sqrt(Math.pow(r-a,2)+Math.pow(i-o,2))},O_e=function(t,n){var r=t.x,i=t.y,a=n.cx,o=n.cy,l=T_e({x:r,y:i},{x:a,y:o});if(l<=0)return{radius:l};var d=(r-a)/l,f=Math.acos(d);return i>o&&(f=2*Math.PI-f),{radius:l,angle:A_e(f),angleInRadian:f}},C_e=function(t){var n=t.startAngle,r=t.endAngle,i=Math.floor(n/360),a=Math.floor(r/360),o=Math.min(i,a);return{startAngle:n-o*360,endAngle:r-o*360}},R_e=function(t,n){var r=n.startAngle,i=n.endAngle,a=Math.floor(r/360),o=Math.floor(i/360),l=Math.min(a,o);return t+l*360},eB=function(t,n){var r=t.x,i=t.y,a=O_e({x:r,y:i},n),o=a.radius,l=a.angle,d=n.innerRadius,f=n.outerRadius;if(o<d||o>f)return!1;if(o===0)return!0;var m=C_e(n),p=m.startAngle,v=m.endAngle,b=l,x;if(p<=v){for(;b>v;)b-=360;for(;b<p;)b+=360;x=b>=p&&b<=v}else{for(;b>p;)b-=360;for(;b<v;)b+=360;x=b>=v&&b<=p}return x?ZL(ZL({},n),{},{radius:o,angle:R_e(b,n)}):null};function nm(e){"@babel/helpers - typeof";return nm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nm(e)}var P_e=["offset"];function M_e(e){return $_e(e)||I_e(e)||D_e(e)||k_e()}function k_e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function D_e(e,t){if(e){if(typeof e=="string")return hN(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return hN(e,t)}}function I_e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function $_e(e){if(Array.isArray(e))return hN(e)}function hN(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function L_e(e,t){if(e==null)return{};var n=B_e(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function B_e(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function tB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Qn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?tB(Object(n),!0).forEach(function(r){q_e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tB(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function q_e(e,t,n){return t=z_e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function z_e(e){var t=U_e(e,"string");return nm(t)=="symbol"?t:t+""}function U_e(e,t){if(nm(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(nm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rm(){return rm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},rm.apply(this,arguments)}var F_e=function(t){var n=t.value,r=t.formatter,i=vt(t.children)?n:t.children;return _t(r)?r(i):i},V_e=function(t,n){var r=ra(n-t),i=Math.min(Math.abs(n-t),360);return r*i},H_e=function(t,n,r){var i=t.position,a=t.viewBox,o=t.offset,l=t.className,d=a,f=d.cx,m=d.cy,p=d.innerRadius,v=d.outerRadius,b=d.startAngle,x=d.endAngle,y=d.clockWise,w=(p+v)/2,E=V_e(b,x),N=E>=0?1:-1,j,O;i==="insideStart"?(j=b+N*o,O=y):i==="insideEnd"?(j=x-N*o,O=!y):i==="end"&&(j=x+N*o,O=y),O=E<=0?O:!O;var T=_r(f,m,w,j),C=_r(f,m,w,j+(O?1:-1)*359),R="M".concat(T.x,",").concat(T.y,`
    A`).concat(w,",").concat(w,",0,1,").concat(O?0:1,`,
    `).concat(C.x,",").concat(C.y),M=vt(t.id)?Fl("recharts-radial-line-"):t.id;return q.createElement("text",rm({},r,{dominantBaseline:"central",className:Tt("recharts-radial-bar-label",l)}),q.createElement("defs",null,q.createElement("path",{id:M,d:R})),q.createElement("textPath",{xlinkHref:"#".concat(M)},n))},G_e=function(t){var n=t.viewBox,r=t.offset,i=t.position,a=n,o=a.cx,l=a.cy,d=a.innerRadius,f=a.outerRadius,m=a.startAngle,p=a.endAngle,v=(m+p)/2;if(i==="outside"){var b=_r(o,l,f+r,v),x=b.x,y=b.y;return{x,y,textAnchor:x>=o?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var w=(d+f)/2,E=_r(o,l,w,v),N=E.x,j=E.y;return{x:N,y:j,textAnchor:"middle",verticalAnchor:"middle"}},K_e=function(t){var n=t.viewBox,r=t.parentViewBox,i=t.offset,a=t.position,o=n,l=o.x,d=o.y,f=o.width,m=o.height,p=m>=0?1:-1,v=p*i,b=p>0?"end":"start",x=p>0?"start":"end",y=f>=0?1:-1,w=y*i,E=y>0?"end":"start",N=y>0?"start":"end";if(a==="top"){var j={x:l+f/2,y:d-p*i,textAnchor:"middle",verticalAnchor:b};return Qn(Qn({},j),r?{height:Math.max(d-r.y,0),width:f}:{})}if(a==="bottom"){var O={x:l+f/2,y:d+m+v,textAnchor:"middle",verticalAnchor:x};return Qn(Qn({},O),r?{height:Math.max(r.y+r.height-(d+m),0),width:f}:{})}if(a==="left"){var T={x:l-w,y:d+m/2,textAnchor:E,verticalAnchor:"middle"};return Qn(Qn({},T),r?{width:Math.max(T.x-r.x,0),height:m}:{})}if(a==="right"){var C={x:l+f+w,y:d+m/2,textAnchor:N,verticalAnchor:"middle"};return Qn(Qn({},C),r?{width:Math.max(r.x+r.width-C.x,0),height:m}:{})}var R=r?{width:f,height:m}:{};return a==="insideLeft"?Qn({x:l+w,y:d+m/2,textAnchor:N,verticalAnchor:"middle"},R):a==="insideRight"?Qn({x:l+f-w,y:d+m/2,textAnchor:E,verticalAnchor:"middle"},R):a==="insideTop"?Qn({x:l+f/2,y:d+v,textAnchor:"middle",verticalAnchor:x},R):a==="insideBottom"?Qn({x:l+f/2,y:d+m-v,textAnchor:"middle",verticalAnchor:b},R):a==="insideTopLeft"?Qn({x:l+w,y:d+v,textAnchor:N,verticalAnchor:x},R):a==="insideTopRight"?Qn({x:l+f-w,y:d+v,textAnchor:E,verticalAnchor:x},R):a==="insideBottomLeft"?Qn({x:l+w,y:d+m-v,textAnchor:N,verticalAnchor:b},R):a==="insideBottomRight"?Qn({x:l+f-w,y:d+m-v,textAnchor:E,verticalAnchor:b},R):Nd(a)&&(Te(a.x)||pl(a.x))&&(Te(a.y)||pl(a.y))?Qn({x:l+kl(a.x,f),y:d+kl(a.y,m),textAnchor:"end",verticalAnchor:"end"},R):Qn({x:l+f/2,y:d+m/2,textAnchor:"middle",verticalAnchor:"middle"},R)},W_e=function(t){return"cx"in t&&Te(t.cx)};function Ar(e){var t=e.offset,n=t===void 0?5:t,r=L_e(e,P_e),i=Qn({offset:n},r),a=i.viewBox,o=i.position,l=i.value,d=i.children,f=i.content,m=i.className,p=m===void 0?"":m,v=i.textBreakAll;if(!a||vt(l)&&vt(d)&&!_.isValidElement(f)&&!_t(f))return null;if(_.isValidElement(f))return _.cloneElement(f,i);var b;if(_t(f)){if(b=_.createElement(f,i),_.isValidElement(b))return b}else b=F_e(i);var x=W_e(a),y=wt(i,!0);if(x&&(o==="insideStart"||o==="insideEnd"||o==="end"))return H_e(i,b,y);var w=x?G_e(i):K_e(i);return q.createElement(Vv,rm({className:Tt("recharts-label",p)},y,w,{breakAll:v}),b)}Ar.displayName="Label";var O7=function(t){var n=t.cx,r=t.cy,i=t.angle,a=t.startAngle,o=t.endAngle,l=t.r,d=t.radius,f=t.innerRadius,m=t.outerRadius,p=t.x,v=t.y,b=t.top,x=t.left,y=t.width,w=t.height,E=t.clockWise,N=t.labelViewBox;if(N)return N;if(Te(y)&&Te(w)){if(Te(p)&&Te(v))return{x:p,y:v,width:y,height:w};if(Te(b)&&Te(x))return{x:b,y:x,width:y,height:w}}return Te(p)&&Te(v)?{x:p,y:v,width:0,height:0}:Te(n)&&Te(r)?{cx:n,cy:r,startAngle:a||i||0,endAngle:o||i||0,innerRadius:f||0,outerRadius:m||d||l||0,clockWise:E}:t.viewBox?t.viewBox:{}},Y_e=function(t,n){return t?t===!0?q.createElement(Ar,{key:"label-implicit",viewBox:n}):tr(t)?q.createElement(Ar,{key:"label-implicit",viewBox:n,value:t}):_.isValidElement(t)?t.type===Ar?_.cloneElement(t,{key:"label-implicit",viewBox:n}):q.createElement(Ar,{key:"label-implicit",content:t,viewBox:n}):_t(t)?q.createElement(Ar,{key:"label-implicit",content:t,viewBox:n}):Nd(t)?q.createElement(Ar,rm({viewBox:n},t,{key:"label-implicit"})):null:null},X_e=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var i=t.children,a=O7(t),o=Wr(i,Ar).map(function(d,f){return _.cloneElement(d,{viewBox:n||a,key:"label-".concat(f)})});if(!r)return o;var l=Y_e(t.label,n||a);return[l].concat(M_e(o))};Ar.parseViewBox=O7;Ar.renderCallByParent=X_e;var I2,nB;function Q_e(){if(nB)return I2;nB=1;function e(t){var n=t==null?0:t.length;return n?t[n-1]:void 0}return I2=e,I2}var J_e=Q_e();const Z_e=nn(J_e);function im(e){"@babel/helpers - typeof";return im=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},im(e)}var e1e=["valueAccessor"],t1e=["data","dataKey","clockWise","id","textBreakAll"];function n1e(e){return s1e(e)||a1e(e)||i1e(e)||r1e()}function r1e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function i1e(e,t){if(e){if(typeof e=="string")return mN(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return mN(e,t)}}function a1e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function s1e(e){if(Array.isArray(e))return mN(e)}function mN(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function sy(){return sy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},sy.apply(this,arguments)}function rB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function iB(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?rB(Object(n),!0).forEach(function(r){o1e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rB(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function o1e(e,t,n){return t=l1e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l1e(e){var t=c1e(e,"string");return im(t)=="symbol"?t:t+""}function c1e(e,t){if(im(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(im(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function aB(e,t){if(e==null)return{};var n=u1e(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function u1e(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var d1e=function(t){return Array.isArray(t.value)?Z_e(t.value):t.value};function Na(e){var t=e.valueAccessor,n=t===void 0?d1e:t,r=aB(e,e1e),i=r.data,a=r.dataKey,o=r.clockWise,l=r.id,d=r.textBreakAll,f=aB(r,t1e);return!i||!i.length?null:q.createElement(Ht,{className:"recharts-label-list"},i.map(function(m,p){var v=vt(a)?n(m,p):nr(m&&m.payload,a),b=vt(l)?{}:{id:"".concat(l,"-").concat(p)};return q.createElement(Ar,sy({},wt(m,!0),f,b,{parentViewBox:m.parentViewBox,value:v,textBreakAll:d,viewBox:Ar.parseViewBox(vt(o)?m:iB(iB({},m),{},{clockWise:o})),key:"label-".concat(p),index:p}))}))}Na.displayName="LabelList";function f1e(e,t){return e?e===!0?q.createElement(Na,{key:"labelList-implicit",data:t}):q.isValidElement(e)||_t(e)?q.createElement(Na,{key:"labelList-implicit",data:t,content:e}):Nd(e)?q.createElement(Na,sy({data:t},e,{key:"labelList-implicit"})):null:null}function h1e(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var r=e.children,i=Wr(r,Na).map(function(o,l){return _.cloneElement(o,{data:t,key:"labelList-".concat(l)})});if(!n)return i;var a=f1e(e.label,t);return[a].concat(n1e(i))}Na.renderCallByParent=h1e;function am(e){"@babel/helpers - typeof";return am=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},am(e)}function pN(){return pN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pN.apply(this,arguments)}function sB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function oB(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?sB(Object(n),!0).forEach(function(r){m1e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sB(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function m1e(e,t,n){return t=p1e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p1e(e){var t=g1e(e,"string");return am(t)=="symbol"?t:t+""}function g1e(e,t){if(am(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(am(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var v1e=function(t,n){var r=ra(n-t),i=Math.min(Math.abs(n-t),359.999);return r*i},Bg=function(t){var n=t.cx,r=t.cy,i=t.radius,a=t.angle,o=t.sign,l=t.isExternal,d=t.cornerRadius,f=t.cornerIsExternal,m=d*(l?1:-1)+i,p=Math.asin(d/m)/ay,v=f?a:a+o*p,b=_r(n,r,m,v),x=_r(n,r,i,v),y=f?a-o*p:a,w=_r(n,r,m*Math.cos(p*ay),y);return{center:b,circleTangency:x,lineTangency:w,theta:p}},C7=function(t){var n=t.cx,r=t.cy,i=t.innerRadius,a=t.outerRadius,o=t.startAngle,l=t.endAngle,d=v1e(o,l),f=o+d,m=_r(n,r,a,o),p=_r(n,r,a,f),v="M ".concat(m.x,",").concat(m.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(d)>180),",").concat(+(o>f),`,
    `).concat(p.x,",").concat(p.y,`
  `);if(i>0){var b=_r(n,r,i,o),x=_r(n,r,i,f);v+="L ".concat(x.x,",").concat(x.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(d)>180),",").concat(+(o<=f),`,
            `).concat(b.x,",").concat(b.y," Z")}else v+="L ".concat(n,",").concat(r," Z");return v},y1e=function(t){var n=t.cx,r=t.cy,i=t.innerRadius,a=t.outerRadius,o=t.cornerRadius,l=t.forceCornerRadius,d=t.cornerIsExternal,f=t.startAngle,m=t.endAngle,p=ra(m-f),v=Bg({cx:n,cy:r,radius:a,angle:f,sign:p,cornerRadius:o,cornerIsExternal:d}),b=v.circleTangency,x=v.lineTangency,y=v.theta,w=Bg({cx:n,cy:r,radius:a,angle:m,sign:-p,cornerRadius:o,cornerIsExternal:d}),E=w.circleTangency,N=w.lineTangency,j=w.theta,O=d?Math.abs(f-m):Math.abs(f-m)-y-j;if(O<0)return l?"M ".concat(x.x,",").concat(x.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):C7({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:f,endAngle:m});var T="M ".concat(x.x,",").concat(x.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(p<0),",").concat(b.x,",").concat(b.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(O>180),",").concat(+(p<0),",").concat(E.x,",").concat(E.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(p<0),",").concat(N.x,",").concat(N.y,`
  `);if(i>0){var C=Bg({cx:n,cy:r,radius:i,angle:f,sign:p,isExternal:!0,cornerRadius:o,cornerIsExternal:d}),R=C.circleTangency,M=C.lineTangency,k=C.theta,I=Bg({cx:n,cy:r,radius:i,angle:m,sign:-p,isExternal:!0,cornerRadius:o,cornerIsExternal:d}),B=I.circleTangency,$=I.lineTangency,F=I.theta,H=d?Math.abs(f-m):Math.abs(f-m)-k-F;if(H<0&&o===0)return"".concat(T,"L").concat(n,",").concat(r,"Z");T+="L".concat($.x,",").concat($.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(p<0),",").concat(B.x,",").concat(B.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(H>180),",").concat(+(p>0),",").concat(R.x,",").concat(R.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(p<0),",").concat(M.x,",").concat(M.y,"Z")}else T+="L".concat(n,",").concat(r,"Z");return T},b1e={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},R7=function(t){var n=oB(oB({},b1e),t),r=n.cx,i=n.cy,a=n.innerRadius,o=n.outerRadius,l=n.cornerRadius,d=n.forceCornerRadius,f=n.cornerIsExternal,m=n.startAngle,p=n.endAngle,v=n.className;if(o<a||m===p)return null;var b=Tt("recharts-sector",v),x=o-a,y=kl(l,x,0,!0),w;return y>0&&Math.abs(m-p)<360?w=y1e({cx:r,cy:i,innerRadius:a,outerRadius:o,cornerRadius:Math.min(y,x/2),forceCornerRadius:d,cornerIsExternal:f,startAngle:m,endAngle:p}):w=C7({cx:r,cy:i,innerRadius:a,outerRadius:o,startAngle:m,endAngle:p}),q.createElement("path",pN({},wt(n,!0),{className:b,d:w,role:"img"}))};function sm(e){"@babel/helpers - typeof";return sm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sm(e)}function gN(){return gN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gN.apply(this,arguments)}function lB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function cB(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?lB(Object(n),!0).forEach(function(r){x1e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lB(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function x1e(e,t,n){return t=w1e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function w1e(e){var t=_1e(e,"string");return sm(t)=="symbol"?t:t+""}function _1e(e,t){if(sm(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(sm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var uB={curveBasisClosed:Upe,curveBasisOpen:Fpe,curveBasis:zpe,curveBumpX:Ape,curveBumpY:Tpe,curveLinearClosed:Vpe,curveLinear:b0,curveMonotoneX:Hpe,curveMonotoneY:Gpe,curveNatural:Kpe,curveStep:Wpe,curveStepAfter:Xpe,curveStepBefore:Ype},qg=function(t){return t.x===+t.x&&t.y===+t.y},Df=function(t){return t.x},If=function(t){return t.y},S1e=function(t,n){if(_t(t))return t;var r="curve".concat(v0(t));return(r==="curveMonotone"||r==="curveBump")&&n?uB["".concat(r).concat(n==="vertical"?"Y":"X")]:uB[r]||b0},j1e=function(t){var n=t.type,r=n===void 0?"linear":n,i=t.points,a=i===void 0?[]:i,o=t.baseLine,l=t.layout,d=t.connectNulls,f=d===void 0?!1:d,m=S1e(r,l),p=f?a.filter(function(y){return qg(y)}):a,v;if(Array.isArray(o)){var b=f?o.filter(function(y){return qg(y)}):o,x=p.map(function(y,w){return cB(cB({},y),{},{base:b[w]})});return l==="vertical"?v=Rg().y(If).x1(Df).x0(function(y){return y.base.x}):v=Rg().x(Df).y1(If).y0(function(y){return y.base.y}),v.defined(qg).curve(m),v(x)}return l==="vertical"&&Te(o)?v=Rg().y(If).x1(Df).x0(o):Te(o)?v=Rg().x(Df).y1(If).y0(o):v=I9().x(Df).y(If),v.defined(qg).curve(m),v(p)},Nl=function(t){var n=t.className,r=t.points,i=t.path,a=t.pathRef;if((!r||!r.length)&&!i)return null;var o=r&&r.length?j1e(t):i;return _.createElement("path",gN({},wt(t,!1),Mv(t),{className:Tt("recharts-curve",n),d:o,ref:a}))},$2={exports:{}},L2,dB;function E1e(){if(dB)return L2;dB=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return L2=e,L2}var B2,fB;function N1e(){if(fB)return B2;fB=1;var e=E1e();function t(){}function n(){}return n.resetWarningCache=t,B2=function(){function r(o,l,d,f,m,p){if(p!==e){var v=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw v.name="Invariant Violation",v}}r.isRequired=r;function i(){return r}var a={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:t};return a.PropTypes=a,a},B2}var hB;function A1e(){return hB||(hB=1,$2.exports=N1e()()),$2.exports}var T1e=A1e();const Kt=nn(T1e);var O1e=Object.getOwnPropertyNames,C1e=Object.getOwnPropertySymbols,R1e=Object.prototype.hasOwnProperty;function mB(e,t){return function(r,i,a){return e(r,i,a)&&t(r,i,a)}}function zg(e){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return e(n,r,i);var a=i.cache,o=a.get(n),l=a.get(r);if(o&&l)return o===r&&l===n;a.set(n,r),a.set(r,n);var d=e(n,r,i);return a.delete(n),a.delete(r),d}}function P1e(e){return e?.[Symbol.toStringTag]}function pB(e){return O1e(e).concat(C1e(e))}var M1e=Object.hasOwn||(function(e,t){return R1e.call(e,t)});function Gl(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var k1e="__v",D1e="__o",I1e="_owner",gB=Object.getOwnPropertyDescriptor,vB=Object.keys;function $1e(e,t,n){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(!n.equals(e[r],t[r],r,r,e,t,n))return!1;return!0}function L1e(e,t){return Gl(e.getTime(),t.getTime())}function B1e(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function q1e(e,t){return e===t}function yB(e,t,n){var r=e.size;if(r!==t.size)return!1;if(!r)return!0;for(var i=new Array(r),a=e.entries(),o,l,d=0;(o=a.next())&&!o.done;){for(var f=t.entries(),m=!1,p=0;(l=f.next())&&!l.done;){if(i[p]){p++;continue}var v=o.value,b=l.value;if(n.equals(v[0],b[0],d,p,e,t,n)&&n.equals(v[1],b[1],v[0],b[0],e,t,n)){m=i[p]=!0;break}p++}if(!m)return!1;d++}return!0}var z1e=Gl;function U1e(e,t,n){var r=vB(e),i=r.length;if(vB(t).length!==i)return!1;for(;i-- >0;)if(!P7(e,t,n,r[i]))return!1;return!0}function $f(e,t,n){var r=pB(e),i=r.length;if(pB(t).length!==i)return!1;for(var a,o,l;i-- >0;)if(a=r[i],!P7(e,t,n,a)||(o=gB(e,a),l=gB(t,a),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function F1e(e,t){return Gl(e.valueOf(),t.valueOf())}function V1e(e,t){return e.source===t.source&&e.flags===t.flags}function bB(e,t,n){var r=e.size;if(r!==t.size)return!1;if(!r)return!0;for(var i=new Array(r),a=e.values(),o,l;(o=a.next())&&!o.done;){for(var d=t.values(),f=!1,m=0;(l=d.next())&&!l.done;){if(!i[m]&&n.equals(o.value,l.value,o.value,l.value,e,t,n)){f=i[m]=!0;break}m++}if(!f)return!1}return!0}function H1e(e,t){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(e[n]!==t[n])return!1;return!0}function G1e(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function P7(e,t,n,r){return(r===I1e||r===D1e||r===k1e)&&(e.$$typeof||t.$$typeof)?!0:M1e(t,r)&&n.equals(e[r],t[r],r,r,e,t,n)}var K1e="[object Arguments]",W1e="[object Boolean]",Y1e="[object Date]",X1e="[object Error]",Q1e="[object Map]",J1e="[object Number]",Z1e="[object Object]",eSe="[object RegExp]",tSe="[object Set]",nSe="[object String]",rSe="[object URL]",iSe=Array.isArray,xB=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,wB=Object.assign,aSe=Object.prototype.toString.call.bind(Object.prototype.toString);function sSe(e){var t=e.areArraysEqual,n=e.areDatesEqual,r=e.areErrorsEqual,i=e.areFunctionsEqual,a=e.areMapsEqual,o=e.areNumbersEqual,l=e.areObjectsEqual,d=e.arePrimitiveWrappersEqual,f=e.areRegExpsEqual,m=e.areSetsEqual,p=e.areTypedArraysEqual,v=e.areUrlsEqual,b=e.unknownTagComparators;return function(y,w,E){if(y===w)return!0;if(y==null||w==null)return!1;var N=typeof y;if(N!==typeof w)return!1;if(N!=="object")return N==="number"?o(y,w,E):N==="function"?i(y,w,E):!1;var j=y.constructor;if(j!==w.constructor)return!1;if(j===Object)return l(y,w,E);if(iSe(y))return t(y,w,E);if(xB!=null&&xB(y))return p(y,w,E);if(j===Date)return n(y,w,E);if(j===RegExp)return f(y,w,E);if(j===Map)return a(y,w,E);if(j===Set)return m(y,w,E);var O=aSe(y);if(O===Y1e)return n(y,w,E);if(O===eSe)return f(y,w,E);if(O===Q1e)return a(y,w,E);if(O===tSe)return m(y,w,E);if(O===Z1e)return typeof y.then!="function"&&typeof w.then!="function"&&l(y,w,E);if(O===rSe)return v(y,w,E);if(O===X1e)return r(y,w,E);if(O===K1e)return l(y,w,E);if(O===W1e||O===J1e||O===nSe)return d(y,w,E);if(b){var T=b[O];if(!T){var C=P1e(y);C&&(T=b[C])}if(T)return T(y,w,E)}return!1}}function oSe(e){var t=e.circular,n=e.createCustomConfig,r=e.strict,i={areArraysEqual:r?$f:$1e,areDatesEqual:L1e,areErrorsEqual:B1e,areFunctionsEqual:q1e,areMapsEqual:r?mB(yB,$f):yB,areNumbersEqual:z1e,areObjectsEqual:r?$f:U1e,arePrimitiveWrappersEqual:F1e,areRegExpsEqual:V1e,areSetsEqual:r?mB(bB,$f):bB,areTypedArraysEqual:r?$f:H1e,areUrlsEqual:G1e,unknownTagComparators:void 0};if(n&&(i=wB({},i,n(i))),t){var a=zg(i.areArraysEqual),o=zg(i.areMapsEqual),l=zg(i.areObjectsEqual),d=zg(i.areSetsEqual);i=wB({},i,{areArraysEqual:a,areMapsEqual:o,areObjectsEqual:l,areSetsEqual:d})}return i}function lSe(e){return function(t,n,r,i,a,o,l){return e(t,n,l)}}function cSe(e){var t=e.circular,n=e.comparator,r=e.createState,i=e.equals,a=e.strict;if(r)return function(d,f){var m=r(),p=m.cache,v=p===void 0?t?new WeakMap:void 0:p,b=m.meta;return n(d,f,{cache:v,equals:i,meta:b,strict:a})};if(t)return function(d,f){return n(d,f,{cache:new WeakMap,equals:i,meta:void 0,strict:a})};var o={cache:void 0,equals:i,meta:void 0,strict:a};return function(d,f){return n(d,f,o)}}var uSe=Oo();Oo({strict:!0});Oo({circular:!0});Oo({circular:!0,strict:!0});Oo({createInternalComparator:function(){return Gl}});Oo({strict:!0,createInternalComparator:function(){return Gl}});Oo({circular:!0,createInternalComparator:function(){return Gl}});Oo({circular:!0,createInternalComparator:function(){return Gl},strict:!0});function Oo(e){e===void 0&&(e={});var t=e.circular,n=t===void 0?!1:t,r=e.createInternalComparator,i=e.createState,a=e.strict,o=a===void 0?!1:a,l=oSe(e),d=sSe(l),f=r?r(d):lSe(d);return cSe({circular:n,comparator:d,createState:i,equals:f,strict:o})}function dSe(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function _B(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(a){n<0&&(n=a),a-n>t?(e(a),n=-1):dSe(i)};requestAnimationFrame(r)}function vN(e){"@babel/helpers - typeof";return vN=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vN(e)}function fSe(e){return gSe(e)||pSe(e)||mSe(e)||hSe()}function hSe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mSe(e,t){if(e){if(typeof e=="string")return SB(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return SB(e,t)}}function SB(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function pSe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function gSe(e){if(Array.isArray(e))return e}function vSe(){var e={},t=function(){return null},n=!1,r=function i(a){if(!n){if(Array.isArray(a)){if(!a.length)return;var o=a,l=fSe(o),d=l[0],f=l.slice(1);if(typeof d=="number"){_B(i.bind(null,f),d);return}i(d),_B(i.bind(null,f));return}vN(a)==="object"&&(e=a,t(e)),typeof a=="function"&&a()}};return{stop:function(){n=!0},start:function(a){n=!1,r(a)},subscribe:function(a){return t=a,function(){t=function(){return null}}}}}function om(e){"@babel/helpers - typeof";return om=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},om(e)}function jB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function EB(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?jB(Object(n),!0).forEach(function(r){M7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jB(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function M7(e,t,n){return t=ySe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ySe(e){var t=bSe(e,"string");return om(t)==="symbol"?t:String(t)}function bSe(e,t){if(om(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(om(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var xSe=function(t,n){return[Object.keys(t),Object.keys(n)].reduce(function(r,i){return r.filter(function(a){return i.includes(a)})})},wSe=function(t){return t},_Se=function(t){return t.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},hh=function(t,n){return Object.keys(n).reduce(function(r,i){return EB(EB({},r),{},M7({},i,t(i,n[i])))},{})},NB=function(t,n,r){return t.map(function(i){return"".concat(_Se(i)," ").concat(n,"ms ").concat(r)}).join(",")};function SSe(e,t){return NSe(e)||ESe(e,t)||k7(e,t)||jSe()}function jSe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ESe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,o,l=[],d=!0,f=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(d=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);d=!0);}catch(m){f=!0,i=m}finally{try{if(!d&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(f)throw i}}return l}}function NSe(e){if(Array.isArray(e))return e}function ASe(e){return CSe(e)||OSe(e)||k7(e)||TSe()}function TSe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function k7(e,t){if(e){if(typeof e=="string")return yN(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yN(e,t)}}function OSe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function CSe(e){if(Array.isArray(e))return yN(e)}function yN(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var oy=1e-4,D7=function(t,n){return[0,3*t,3*n-6*t,3*t-3*n+1]},I7=function(t,n){return t.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},AB=function(t,n){return function(r){var i=D7(t,n);return I7(i,r)}},RSe=function(t,n){return function(r){var i=D7(t,n),a=[].concat(ASe(i.map(function(o,l){return o*l}).slice(1)),[0]);return I7(a,r)}},TB=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n[0],a=n[1],o=n[2],l=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,a=0,o=1,l=1;break;case"ease":i=.25,a=.1,o=.25,l=1;break;case"ease-in":i=.42,a=0,o=1,l=1;break;case"ease-out":i=.42,a=0,o=.58,l=1;break;case"ease-in-out":i=0,a=0,o=.58,l=1;break;default:{var d=n[0].split("(");if(d[0]==="cubic-bezier"&&d[1].split(")")[0].split(",").length===4){var f=d[1].split(")")[0].split(",").map(function(w){return parseFloat(w)}),m=SSe(f,4);i=m[0],a=m[1],o=m[2],l=m[3]}}}var p=AB(i,o),v=AB(a,l),b=RSe(i,o),x=function(E){return E>1?1:E<0?0:E},y=function(E){for(var N=E>1?1:E,j=N,O=0;O<8;++O){var T=p(j)-N,C=b(j);if(Math.abs(T-N)<oy||C<oy)return v(j);j=x(j-T/C)}return v(j)};return y.isStepper=!1,y},PSe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.stiff,r=n===void 0?100:n,i=t.damping,a=i===void 0?8:i,o=t.dt,l=o===void 0?17:o,d=function(m,p,v){var b=-(m-p)*r,x=v*a,y=v+(b-x)*l/1e3,w=v*l/1e3+m;return Math.abs(w-p)<oy&&Math.abs(y)<oy?[p,0]:[w,y]};return d.isStepper=!0,d.dt=l,d},MSe=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return TB(i);case"spring":return PSe();default:if(i.split("(")[0]==="cubic-bezier")return TB(i)}return typeof i=="function"?i:null};function lm(e){"@babel/helpers - typeof";return lm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lm(e)}function OB(e){return ISe(e)||DSe(e)||$7(e)||kSe()}function kSe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function DSe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function ISe(e){if(Array.isArray(e))return xN(e)}function CB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function yr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?CB(Object(n),!0).forEach(function(r){bN(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):CB(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function bN(e,t,n){return t=$Se(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $Se(e){var t=LSe(e,"string");return lm(t)==="symbol"?t:String(t)}function LSe(e,t){if(lm(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(lm(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function BSe(e,t){return USe(e)||zSe(e,t)||$7(e,t)||qSe()}function qSe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $7(e,t){if(e){if(typeof e=="string")return xN(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xN(e,t)}}function xN(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function zSe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,o,l=[],d=!0,f=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(d=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);d=!0);}catch(m){f=!0,i=m}finally{try{if(!d&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(f)throw i}}return l}}function USe(e){if(Array.isArray(e))return e}var ly=function(t,n,r){return t+(n-t)*r},wN=function(t){var n=t.from,r=t.to;return n!==r},FSe=function e(t,n,r){var i=hh(function(a,o){if(wN(o)){var l=t(o.from,o.to,o.velocity),d=BSe(l,2),f=d[0],m=d[1];return yr(yr({},o),{},{from:f,velocity:m})}return o},n);return r<1?hh(function(a,o){return wN(o)?yr(yr({},o),{},{velocity:ly(o.velocity,i[a].velocity,r),from:ly(o.from,i[a].from,r)}):o},n):e(t,i,r-1)};const VSe=(function(e,t,n,r,i){var a=xSe(e,t),o=a.reduce(function(w,E){return yr(yr({},w),{},bN({},E,[e[E],t[E]]))},{}),l=a.reduce(function(w,E){return yr(yr({},w),{},bN({},E,{from:e[E],velocity:0,to:t[E]}))},{}),d=-1,f,m,p=function(){return null},v=function(){return hh(function(E,N){return N.from},l)},b=function(){return!Object.values(l).filter(wN).length},x=function(E){f||(f=E);var N=E-f,j=N/n.dt;l=FSe(n,l,j),i(yr(yr(yr({},e),t),v())),f=E,b()||(d=requestAnimationFrame(p))},y=function(E){m||(m=E);var N=(E-m)/r,j=hh(function(T,C){return ly.apply(void 0,OB(C).concat([n(N)]))},o);if(i(yr(yr(yr({},e),t),j)),N<1)d=requestAnimationFrame(p);else{var O=hh(function(T,C){return ly.apply(void 0,OB(C).concat([n(1)]))},o);i(yr(yr(yr({},e),t),O))}};return p=n.isStepper?x:y,function(){return requestAnimationFrame(p),function(){cancelAnimationFrame(d)}}});function zu(e){"@babel/helpers - typeof";return zu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zu(e)}var HSe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function GSe(e,t){if(e==null)return{};var n=KSe(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function KSe(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,a;for(a=0;a<r.length;a++)i=r[a],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function q2(e){return QSe(e)||XSe(e)||YSe(e)||WSe()}function WSe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YSe(e,t){if(e){if(typeof e=="string")return _N(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _N(e,t)}}function XSe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function QSe(e){if(Array.isArray(e))return _N(e)}function _N(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function RB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Hi(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?RB(Object(n),!0).forEach(function(r){eh(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):RB(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function eh(e,t,n){return t=L7(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function JSe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ZSe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,L7(r.key),r)}}function e2e(e,t,n){return t&&ZSe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function L7(e){var t=t2e(e,"string");return zu(t)==="symbol"?t:String(t)}function t2e(e,t){if(zu(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(zu(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function n2e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&SN(e,t)}function SN(e,t){return SN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},SN(e,t)}function r2e(e){var t=i2e();return function(){var r=cy(e),i;if(t){var a=cy(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return jN(this,i)}}function jN(e,t){if(t&&(zu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return EN(e)}function EN(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function i2e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function cy(e){return cy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},cy(e)}var sa=(function(e){n2e(n,e);var t=r2e(n);function n(r,i){var a;JSe(this,n),a=t.call(this,r,i);var o=a.props,l=o.isActive,d=o.attributeName,f=o.from,m=o.to,p=o.steps,v=o.children,b=o.duration;if(a.handleStyleChange=a.handleStyleChange.bind(EN(a)),a.changeStyle=a.changeStyle.bind(EN(a)),!l||b<=0)return a.state={style:{}},typeof v=="function"&&(a.state={style:m}),jN(a);if(p&&p.length)a.state={style:p[0].style};else if(f){if(typeof v=="function")return a.state={style:f},jN(a);a.state={style:d?eh({},d,f):f}}else a.state={style:{}};return a}return e2e(n,[{key:"componentDidMount",value:function(){var i=this.props,a=i.isActive,o=i.canBegin;this.mounted=!0,!(!a||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var a=this.props,o=a.isActive,l=a.canBegin,d=a.attributeName,f=a.shouldReAnimate,m=a.to,p=a.from,v=this.state.style;if(l){if(!o){var b={style:d?eh({},d,m):m};this.state&&v&&(d&&v[d]!==m||!d&&v!==m)&&this.setState(b);return}if(!(uSe(i.to,m)&&i.canBegin&&i.isActive)){var x=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var y=x||f?p:i.to;if(this.state&&v){var w={style:d?eh({},d,y):y};(d&&v[d]!==y||!d&&v!==y)&&this.setState(w)}this.runAnimation(Hi(Hi({},this.props),{},{from:y,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var a=this,o=i.from,l=i.to,d=i.duration,f=i.easing,m=i.begin,p=i.onAnimationEnd,v=i.onAnimationStart,b=VSe(o,l,MSe(f),d,this.changeStyle),x=function(){a.stopJSAnimation=b()};this.manager.start([v,m,x,d,p])}},{key:"runStepAnimation",value:function(i){var a=this,o=i.steps,l=i.begin,d=i.onAnimationStart,f=o[0],m=f.style,p=f.duration,v=p===void 0?0:p,b=function(y,w,E){if(E===0)return y;var N=w.duration,j=w.easing,O=j===void 0?"ease":j,T=w.style,C=w.properties,R=w.onAnimationEnd,M=E>0?o[E-1]:w,k=C||Object.keys(T);if(typeof O=="function"||O==="spring")return[].concat(q2(y),[a.runJSAnimation.bind(a,{from:M.style,to:T,duration:N,easing:O}),N]);var I=NB(k,N,O),B=Hi(Hi(Hi({},M.style),T),{},{transition:I});return[].concat(q2(y),[B,N,R]).filter(wSe)};return this.manager.start([d].concat(q2(o.reduce(b,[m,Math.max(v,l)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=vSe());var a=i.begin,o=i.duration,l=i.attributeName,d=i.to,f=i.easing,m=i.onAnimationStart,p=i.onAnimationEnd,v=i.steps,b=i.children,x=this.manager;if(this.unSubscribe=x.subscribe(this.handleStyleChange),typeof f=="function"||typeof b=="function"||f==="spring"){this.runJSAnimation(i);return}if(v.length>1){this.runStepAnimation(i);return}var y=l?eh({},l,d):d,w=NB(Object.keys(y),o,f);x.start([m,a,Hi(Hi({},y),{},{transition:w}),o,p])}},{key:"render",value:function(){var i=this.props,a=i.children;i.begin;var o=i.duration;i.attributeName,i.easing;var l=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var d=GSe(i,HSe),f=_.Children.count(a),m=this.state.style;if(typeof a=="function")return a(m);if(!l||f===0||o<=0)return a;var p=function(b){var x=b.props,y=x.style,w=y===void 0?{}:y,E=x.className,N=_.cloneElement(b,Hi(Hi({},d),{},{style:Hi(Hi({},w),m),className:E}));return N};return f===1?p(_.Children.only(a)):q.createElement("div",null,_.Children.map(a,function(v){return p(v)}))}}]),n})(_.PureComponent);sa.displayName="Animate";sa.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};sa.propTypes={from:Kt.oneOfType([Kt.object,Kt.string]),to:Kt.oneOfType([Kt.object,Kt.string]),attributeName:Kt.string,duration:Kt.number,begin:Kt.number,easing:Kt.oneOfType([Kt.string,Kt.func]),steps:Kt.arrayOf(Kt.shape({duration:Kt.number.isRequired,style:Kt.object.isRequired,easing:Kt.oneOfType([Kt.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Kt.func]),properties:Kt.arrayOf("string"),onAnimationEnd:Kt.func})),children:Kt.oneOfType([Kt.node,Kt.func]),isActive:Kt.bool,canBegin:Kt.bool,onAnimationEnd:Kt.func,shouldReAnimate:Kt.bool,onAnimationStart:Kt.func,onAnimationReStart:Kt.func};function cm(e){"@babel/helpers - typeof";return cm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cm(e)}function uy(){return uy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},uy.apply(this,arguments)}function a2e(e,t){return c2e(e)||l2e(e,t)||o2e(e,t)||s2e()}function s2e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function o2e(e,t){if(e){if(typeof e=="string")return PB(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return PB(e,t)}}function PB(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function l2e(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,o,l=[],d=!0,f=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(d=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);d=!0);}catch(m){f=!0,i=m}finally{try{if(!d&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(f)throw i}}return l}}function c2e(e){if(Array.isArray(e))return e}function MB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function kB(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?MB(Object(n),!0).forEach(function(r){u2e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):MB(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function u2e(e,t,n){return t=d2e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d2e(e){var t=f2e(e,"string");return cm(t)=="symbol"?t:t+""}function f2e(e,t){if(cm(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(cm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var DB=function(t,n,r,i,a){var o=Math.min(Math.abs(r)/2,Math.abs(i)/2),l=i>=0?1:-1,d=r>=0?1:-1,f=i>=0&&r>=0||i<0&&r<0?1:0,m;if(o>0&&a instanceof Array){for(var p=[0,0,0,0],v=0,b=4;v<b;v++)p[v]=a[v]>o?o:a[v];m="M".concat(t,",").concat(n+l*p[0]),p[0]>0&&(m+="A ".concat(p[0],",").concat(p[0],",0,0,").concat(f,",").concat(t+d*p[0],",").concat(n)),m+="L ".concat(t+r-d*p[1],",").concat(n),p[1]>0&&(m+="A ".concat(p[1],",").concat(p[1],",0,0,").concat(f,`,
        `).concat(t+r,",").concat(n+l*p[1])),m+="L ".concat(t+r,",").concat(n+i-l*p[2]),p[2]>0&&(m+="A ".concat(p[2],",").concat(p[2],",0,0,").concat(f,`,
        `).concat(t+r-d*p[2],",").concat(n+i)),m+="L ".concat(t+d*p[3],",").concat(n+i),p[3]>0&&(m+="A ".concat(p[3],",").concat(p[3],",0,0,").concat(f,`,
        `).concat(t,",").concat(n+i-l*p[3])),m+="Z"}else if(o>0&&a===+a&&a>0){var x=Math.min(o,a);m="M ".concat(t,",").concat(n+l*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(f,",").concat(t+d*x,",").concat(n,`
            L `).concat(t+r-d*x,",").concat(n,`
            A `).concat(x,",").concat(x,",0,0,").concat(f,",").concat(t+r,",").concat(n+l*x,`
            L `).concat(t+r,",").concat(n+i-l*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(f,",").concat(t+r-d*x,",").concat(n+i,`
            L `).concat(t+d*x,",").concat(n+i,`
            A `).concat(x,",").concat(x,",0,0,").concat(f,",").concat(t,",").concat(n+i-l*x," Z")}else m="M ".concat(t,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return m},h2e=function(t,n){if(!t||!n)return!1;var r=t.x,i=t.y,a=n.x,o=n.y,l=n.width,d=n.height;if(Math.abs(l)>0&&Math.abs(d)>0){var f=Math.min(a,a+l),m=Math.max(a,a+l),p=Math.min(o,o+d),v=Math.max(o,o+d);return r>=f&&r<=m&&i>=p&&i<=v}return!1},m2e={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},jO=function(t){var n=kB(kB({},m2e),t),r=_.useRef(),i=_.useState(-1),a=a2e(i,2),o=a[0],l=a[1];_.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var O=r.current.getTotalLength();O&&l(O)}catch{}},[]);var d=n.x,f=n.y,m=n.width,p=n.height,v=n.radius,b=n.className,x=n.animationEasing,y=n.animationDuration,w=n.animationBegin,E=n.isAnimationActive,N=n.isUpdateAnimationActive;if(d!==+d||f!==+f||m!==+m||p!==+p||m===0||p===0)return null;var j=Tt("recharts-rectangle",b);return N?q.createElement(sa,{canBegin:o>0,from:{width:m,height:p,x:d,y:f},to:{width:m,height:p,x:d,y:f},duration:y,animationEasing:x,isActive:N},function(O){var T=O.width,C=O.height,R=O.x,M=O.y;return q.createElement(sa,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:w,duration:y,isActive:E,easing:x},q.createElement("path",uy({},wt(n,!0),{className:j,d:DB(R,M,T,C,v),ref:r})))}):q.createElement("path",uy({},wt(n,!0),{className:j,d:DB(d,f,m,p,v)}))};function NN(){return NN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},NN.apply(this,arguments)}var D0=function(t){var n=t.cx,r=t.cy,i=t.r,a=t.className,o=Tt("recharts-dot",a);return n===+n&&r===+r&&i===+i?_.createElement("circle",NN({},wt(t,!1),Mv(t),{className:o,cx:n,cy:r,r:i})):null};function um(e){"@babel/helpers - typeof";return um=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},um(e)}var p2e=["x","y","top","left","width","height","className"];function AN(){return AN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},AN.apply(this,arguments)}function IB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function g2e(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?IB(Object(n),!0).forEach(function(r){v2e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):IB(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function v2e(e,t,n){return t=y2e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y2e(e){var t=b2e(e,"string");return um(t)=="symbol"?t:t+""}function b2e(e,t){if(um(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(um(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function x2e(e,t){if(e==null)return{};var n=w2e(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function w2e(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var _2e=function(t,n,r,i,a,o){return"M".concat(t,",").concat(a,"v").concat(i,"M").concat(o,",").concat(n,"h").concat(r)},S2e=function(t){var n=t.x,r=n===void 0?0:n,i=t.y,a=i===void 0?0:i,o=t.top,l=o===void 0?0:o,d=t.left,f=d===void 0?0:d,m=t.width,p=m===void 0?0:m,v=t.height,b=v===void 0?0:v,x=t.className,y=x2e(t,p2e),w=g2e({x:r,y:a,top:l,left:f,width:p,height:b},y);return!Te(r)||!Te(a)||!Te(p)||!Te(b)||!Te(l)||!Te(f)?null:q.createElement("path",AN({},wt(w,!0),{className:Tt("recharts-cross",x),d:_2e(r,a,p,b,l,f)}))},z2,$B;function j2e(){if($B)return z2;$B=1;var e=aH(),t=e(Object.getPrototypeOf,Object);return z2=t,z2}var U2,LB;function E2e(){if(LB)return U2;LB=1;var e=bs(),t=j2e(),n=xs(),r="[object Object]",i=Function.prototype,a=Object.prototype,o=i.toString,l=a.hasOwnProperty,d=o.call(Object);function f(m){if(!n(m)||e(m)!=r)return!1;var p=t(m);if(p===null)return!0;var v=l.call(p,"constructor")&&p.constructor;return typeof v=="function"&&v instanceof v&&o.call(v)==d}return U2=f,U2}var N2e=E2e();const A2e=nn(N2e);var F2,BB;function T2e(){if(BB)return F2;BB=1;var e=bs(),t=xs(),n="[object Boolean]";function r(i){return i===!0||i===!1||t(i)&&e(i)==n}return F2=r,F2}var O2e=T2e();const C2e=nn(O2e);function dm(e){"@babel/helpers - typeof";return dm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dm(e)}function dy(){return dy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},dy.apply(this,arguments)}function R2e(e,t){return D2e(e)||k2e(e,t)||M2e(e,t)||P2e()}function P2e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function M2e(e,t){if(e){if(typeof e=="string")return qB(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qB(e,t)}}function qB(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function k2e(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,o,l=[],d=!0,f=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(d=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);d=!0);}catch(m){f=!0,i=m}finally{try{if(!d&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(f)throw i}}return l}}function D2e(e){if(Array.isArray(e))return e}function zB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function UB(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?zB(Object(n),!0).forEach(function(r){I2e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zB(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function I2e(e,t,n){return t=$2e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $2e(e){var t=L2e(e,"string");return dm(t)=="symbol"?t:t+""}function L2e(e,t){if(dm(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(dm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var FB=function(t,n,r,i,a){var o=r-i,l;return l="M ".concat(t,",").concat(n),l+="L ".concat(t+r,",").concat(n),l+="L ".concat(t+r-o/2,",").concat(n+a),l+="L ".concat(t+r-o/2-i,",").concat(n+a),l+="L ".concat(t,",").concat(n," Z"),l},B2e={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},q2e=function(t){var n=UB(UB({},B2e),t),r=_.useRef(),i=_.useState(-1),a=R2e(i,2),o=a[0],l=a[1];_.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var j=r.current.getTotalLength();j&&l(j)}catch{}},[]);var d=n.x,f=n.y,m=n.upperWidth,p=n.lowerWidth,v=n.height,b=n.className,x=n.animationEasing,y=n.animationDuration,w=n.animationBegin,E=n.isUpdateAnimationActive;if(d!==+d||f!==+f||m!==+m||p!==+p||v!==+v||m===0&&p===0||v===0)return null;var N=Tt("recharts-trapezoid",b);return E?q.createElement(sa,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:v,x:d,y:f},to:{upperWidth:m,lowerWidth:p,height:v,x:d,y:f},duration:y,animationEasing:x,isActive:E},function(j){var O=j.upperWidth,T=j.lowerWidth,C=j.height,R=j.x,M=j.y;return q.createElement(sa,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:w,duration:y,easing:x},q.createElement("path",dy({},wt(n,!0),{className:N,d:FB(R,M,O,T,C),ref:r})))}):q.createElement("g",null,q.createElement("path",dy({},wt(n,!0),{className:N,d:FB(d,f,m,p,v)})))},z2e=["option","shapeType","propTransformer","activeClassName","isActive"];function fm(e){"@babel/helpers - typeof";return fm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fm(e)}function U2e(e,t){if(e==null)return{};var n=F2e(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function F2e(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function VB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function fy(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?VB(Object(n),!0).forEach(function(r){V2e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VB(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function V2e(e,t,n){return t=H2e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function H2e(e){var t=G2e(e,"string");return fm(t)=="symbol"?t:t+""}function G2e(e,t){if(fm(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(fm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function K2e(e,t){return fy(fy({},t),e)}function W2e(e,t){return e==="symbols"}function HB(e){var t=e.shapeType,n=e.elementProps;switch(t){case"rectangle":return q.createElement(jO,n);case"trapezoid":return q.createElement(q2e,n);case"sector":return q.createElement(R7,n);case"symbols":if(W2e(t))return q.createElement(w0,n);break;default:return null}}function Y2e(e){return _.isValidElement(e)?e.props:e}function TN(e){var t=e.option,n=e.shapeType,r=e.propTransformer,i=r===void 0?K2e:r,a=e.activeClassName,o=a===void 0?"recharts-active-shape":a,l=e.isActive,d=U2e(e,z2e),f;if(_.isValidElement(t))f=_.cloneElement(t,fy(fy({},d),Y2e(t)));else if(_t(t))f=t(d);else if(A2e(t)&&!C2e(t)){var m=i(t,d);f=q.createElement(HB,{shapeType:n,elementProps:m})}else{var p=d;f=q.createElement(HB,{shapeType:n,elementProps:p})}return l?q.createElement(Ht,{className:o},f):f}function I0(e,t){return t!=null&&"trapezoids"in e.props}function $0(e,t){return t!=null&&"sectors"in e.props}function hm(e,t){return t!=null&&"points"in e.props}function X2e(e,t){var n,r,i=e.x===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.x)||e.x===t.x,a=e.y===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.y)||e.y===t.y;return i&&a}function Q2e(e,t){var n=e.endAngle===t.endAngle,r=e.startAngle===t.startAngle;return n&&r}function J2e(e,t){var n=e.x===t.x,r=e.y===t.y,i=e.z===t.z;return n&&r&&i}function Z2e(e,t){var n;return I0(e,t)?n=X2e:$0(e,t)?n=Q2e:hm(e,t)&&(n=J2e),n}function eje(e,t){var n;return I0(e,t)?n="trapezoids":$0(e,t)?n="sectors":hm(e,t)&&(n="points"),n}function tje(e,t){if(I0(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if($0(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return hm(e,t)?t.payload:{}}function nje(e){var t=e.activeTooltipItem,n=e.graphicalItem,r=e.itemData,i=eje(n,t),a=tje(n,t),o=r.filter(function(d,f){var m=Dl(a,d),p=n.props[i].filter(function(x){var y=Z2e(n,t);return y(x,t)}),v=n.props[i].indexOf(p[p.length-1]),b=f===v;return m&&b}),l=r.indexOf(o[o.length-1]);return l}var V2,GB;function rje(){if(GB)return V2;GB=1;var e=Math.ceil,t=Math.max;function n(r,i,a,o){for(var l=-1,d=t(e((i-r)/(a||1)),0),f=Array(d);d--;)f[o?d:++l]=r,r+=a;return f}return V2=n,V2}var H2,KB;function B7(){if(KB)return H2;KB=1;var e=wH(),t=1/0,n=17976931348623157e292;function r(i){if(!i)return i===0?i:0;if(i=e(i),i===t||i===-t){var a=i<0?-1:1;return a*n}return i===i?i:0}return H2=r,H2}var G2,WB;function ije(){if(WB)return G2;WB=1;var e=rje(),t=j0(),n=B7();function r(i){return function(a,o,l){return l&&typeof l!="number"&&t(a,o,l)&&(o=l=void 0),a=n(a),o===void 0?(o=a,a=0):o=n(o),l=l===void 0?a<o?1:-1:n(l),e(a,o,l,i)}}return G2=r,G2}var K2,YB;function aje(){if(YB)return K2;YB=1;var e=ije(),t=e();return K2=t,K2}var sje=aje();const hy=nn(sje);function mm(e){"@babel/helpers - typeof";return mm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mm(e)}function XB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function QB(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?XB(Object(n),!0).forEach(function(r){q7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):XB(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function q7(e,t,n){return t=oje(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oje(e){var t=lje(e,"string");return mm(t)=="symbol"?t:t+""}function lje(e,t){if(mm(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(mm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var cje=["Webkit","Moz","O","ms"],uje=function(t,n){var r=t.replace(/(\w)/,function(a){return a.toUpperCase()}),i=cje.reduce(function(a,o){return QB(QB({},a),{},q7({},o+r,n))},{});return i[t]=n,i};function Uu(e){"@babel/helpers - typeof";return Uu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Uu(e)}function my(){return my=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},my.apply(this,arguments)}function JB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function W2(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?JB(Object(n),!0).forEach(function(r){si(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):JB(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function dje(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ZB(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,U7(r.key),r)}}function fje(e,t,n){return t&&ZB(e.prototype,t),n&&ZB(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function hje(e,t,n){return t=py(t),mje(e,z7()?Reflect.construct(t,n||[],py(e).constructor):t.apply(e,n))}function mje(e,t){if(t&&(Uu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pje(e)}function pje(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function z7(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(z7=function(){return!!e})()}function py(e){return py=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},py(e)}function gje(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ON(e,t)}function ON(e,t){return ON=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ON(e,t)}function si(e,t,n){return t=U7(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function U7(e){var t=vje(e,"string");return Uu(t)=="symbol"?t:t+""}function vje(e,t){if(Uu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Uu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var yje=function(t){var n=t.data,r=t.startIndex,i=t.endIndex,a=t.x,o=t.width,l=t.travellerWidth;if(!n||!n.length)return{};var d=n.length,f=dh().domain(hy(0,d)).range([a,a+o-l]),m=f.domain().map(function(p){return f(p)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:f(r),endX:f(i),scale:f,scaleValues:m}},eq=function(t){return t.changedTouches&&!!t.changedTouches.length},Fu=(function(e){function t(n){var r;return dje(this,t),r=hje(this,t,[n]),si(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),si(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),si(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,a=i.endIndex,o=i.onDragEnd,l=i.startIndex;o?.({endIndex:a,startIndex:l})}),r.detachDragEndListener()}),si(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),si(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),si(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),si(r,"handleSlideDragStart",function(i){var a=eq(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return gje(t,e),fje(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,a=r.endX,o=this.state.scaleValues,l=this.props,d=l.gap,f=l.data,m=f.length-1,p=Math.min(i,a),v=Math.max(i,a),b=t.getIndexInRange(o,p),x=t.getIndexInRange(o,v);return{startIndex:b-b%d,endIndex:x===m?m:x-x%d}}},{key:"getTextOfTick",value:function(r){var i=this.props,a=i.data,o=i.tickFormatter,l=i.dataKey,d=nr(a[r],l,r);return _t(o)?o(d,r):d}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,a=i.slideMoveStartX,o=i.startX,l=i.endX,d=this.props,f=d.x,m=d.width,p=d.travellerWidth,v=d.startIndex,b=d.endIndex,x=d.onChange,y=r.pageX-a;y>0?y=Math.min(y,f+m-p-l,f+m-p-o):y<0&&(y=Math.max(y,f-o,f-l));var w=this.getIndex({startX:o+y,endX:l+y});(w.startIndex!==v||w.endIndex!==b)&&x&&x(w),this.setState({startX:o+y,endX:l+y,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var a=eq(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,a=i.brushMoveStartX,o=i.movingTravellerId,l=i.endX,d=i.startX,f=this.state[o],m=this.props,p=m.x,v=m.width,b=m.travellerWidth,x=m.onChange,y=m.gap,w=m.data,E={startX:this.state.startX,endX:this.state.endX},N=r.pageX-a;N>0?N=Math.min(N,p+v-b-f):N<0&&(N=Math.max(N,p-f)),E[o]=f+N;var j=this.getIndex(E),O=j.startIndex,T=j.endIndex,C=function(){var M=w.length-1;return o==="startX"&&(l>d?O%y===0:T%y===0)||l<d&&T===M||o==="endX"&&(l>d?T%y===0:O%y===0)||l>d&&T===M};this.setState(si(si({},o,f+N),"brushMoveStartX",r.pageX),function(){x&&C()&&x(j)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var a=this,o=this.state,l=o.scaleValues,d=o.startX,f=o.endX,m=this.state[i],p=l.indexOf(m);if(p!==-1){var v=p+r;if(!(v===-1||v>=l.length)){var b=l[v];i==="startX"&&b>=f||i==="endX"&&b<=d||this.setState(si({},i,b),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,a=r.y,o=r.width,l=r.height,d=r.fill,f=r.stroke;return q.createElement("rect",{stroke:f,fill:d,x:i,y:a,width:o,height:l})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,a=r.y,o=r.width,l=r.height,d=r.data,f=r.children,m=r.padding,p=_.Children.only(f);return p?q.cloneElement(p,{x:i,y:a,width:o,height:l,margin:m,compact:!0,data:d}):null}},{key:"renderTravellerLayer",value:function(r,i){var a,o,l=this,d=this.props,f=d.y,m=d.travellerWidth,p=d.height,v=d.traveller,b=d.ariaLabel,x=d.data,y=d.startIndex,w=d.endIndex,E=Math.max(r,this.props.x),N=W2(W2({},wt(this.props,!1)),{},{x:E,y:f,width:m,height:p}),j=b||"Min value: ".concat((a=x[y])===null||a===void 0?void 0:a.name,", Max value: ").concat((o=x[w])===null||o===void 0?void 0:o.name);return q.createElement(Ht,{tabIndex:0,role:"slider","aria-label":j,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(T){["ArrowLeft","ArrowRight"].includes(T.key)&&(T.preventDefault(),T.stopPropagation(),l.handleTravellerMoveKeyboard(T.key==="ArrowRight"?1:-1,i))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(v,N))}},{key:"renderSlide",value:function(r,i){var a=this.props,o=a.y,l=a.height,d=a.stroke,f=a.travellerWidth,m=Math.min(r,i)+f,p=Math.max(Math.abs(i-r)-f,0);return q.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:d,fillOpacity:.2,x:m,y:o,width:p,height:l})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,a=r.endIndex,o=r.y,l=r.height,d=r.travellerWidth,f=r.stroke,m=this.state,p=m.startX,v=m.endX,b=5,x={pointerEvents:"none",fill:f};return q.createElement(Ht,{className:"recharts-brush-texts"},q.createElement(Vv,my({textAnchor:"end",verticalAnchor:"middle",x:Math.min(p,v)-b,y:o+l/2},x),this.getTextOfTick(i)),q.createElement(Vv,my({textAnchor:"start",verticalAnchor:"middle",x:Math.max(p,v)+d+b,y:o+l/2},x),this.getTextOfTick(a)))}},{key:"render",value:function(){var r=this.props,i=r.data,a=r.className,o=r.children,l=r.x,d=r.y,f=r.width,m=r.height,p=r.alwaysShowText,v=this.state,b=v.startX,x=v.endX,y=v.isTextActive,w=v.isSlideMoving,E=v.isTravellerMoving,N=v.isTravellerFocused;if(!i||!i.length||!Te(l)||!Te(d)||!Te(f)||!Te(m)||f<=0||m<=0)return null;var j=Tt("recharts-brush",a),O=q.Children.count(o)===1,T=uje("userSelect","none");return q.createElement(Ht,{className:j,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:T},this.renderBackground(),O&&this.renderPanorama(),this.renderSlide(b,x),this.renderTravellerLayer(b,"startX"),this.renderTravellerLayer(x,"endX"),(y||w||E||N||p)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,a=r.y,o=r.width,l=r.height,d=r.stroke,f=Math.floor(a+l/2)-1;return q.createElement(q.Fragment,null,q.createElement("rect",{x:i,y:a,width:o,height:l,fill:d,stroke:"none"}),q.createElement("line",{x1:i+1,y1:f,x2:i+o-1,y2:f,fill:"none",stroke:"#fff"}),q.createElement("line",{x1:i+1,y1:f+2,x2:i+o-1,y2:f+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var a;return q.isValidElement(r)?a=q.cloneElement(r,i):_t(r)?a=r(i):a=t.renderDefaultTraveller(i),a}},{key:"getDerivedStateFromProps",value:function(r,i){var a=r.data,o=r.width,l=r.x,d=r.travellerWidth,f=r.updateId,m=r.startIndex,p=r.endIndex;if(a!==i.prevData||f!==i.prevUpdateId)return W2({prevData:a,prevTravellerWidth:d,prevUpdateId:f,prevX:l,prevWidth:o},a&&a.length?yje({data:a,width:o,x:l,travellerWidth:d,startIndex:m,endIndex:p}):{scale:null,scaleValues:null});if(i.scale&&(o!==i.prevWidth||l!==i.prevX||d!==i.prevTravellerWidth)){i.scale.range([l,l+o-d]);var v=i.scale.domain().map(function(b){return i.scale(b)});return{prevData:a,prevTravellerWidth:d,prevUpdateId:f,prevX:l,prevWidth:o,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:v}}return null}},{key:"getIndexInRange",value:function(r,i){for(var a=r.length,o=0,l=a-1;l-o>1;){var d=Math.floor((o+l)/2);r[d]>i?l=d:o=d}return i>=r[l]?l:o}}])})(_.PureComponent);si(Fu,"displayName","Brush");si(Fu,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var Y2,tq;function bje(){if(tq)return Y2;tq=1;var e=XT();function t(n,r){var i;return e(n,function(a,o,l){return i=r(a,o,l),!i}),!!i}return Y2=t,Y2}var X2,nq;function xje(){if(nq)return X2;nq=1;var e=J9(),t=Eo(),n=bje(),r=Yr(),i=j0();function a(o,l,d){var f=r(o)?e:n;return d&&i(o,l,d)&&(l=void 0),f(o,t(l,3))}return X2=a,X2}var wje=xje();const _je=nn(wje);var Aa=function(t,n){var r=t.alwaysShow,i=t.ifOverflow;return r&&(i="extendDomain"),i===n},Q2,rq;function Sje(){if(rq)return Q2;rq=1;var e=gH();function t(n,r,i){r=="__proto__"&&e?e(n,r,{configurable:!0,enumerable:!0,value:i,writable:!0}):n[r]=i}return Q2=t,Q2}var J2,iq;function jje(){if(iq)return J2;iq=1;var e=Sje(),t=mH(),n=Eo();function r(i,a){var o={};return a=n(a,3),t(i,function(l,d,f){e(o,d,a(l,d,f))}),o}return J2=r,J2}var Eje=jje();const Nje=nn(Eje);var Z2,aq;function Aje(){if(aq)return Z2;aq=1;function e(t,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(!n(t[r],r,t))return!1;return!0}return Z2=e,Z2}var ej,sq;function Tje(){if(sq)return ej;sq=1;var e=XT();function t(n,r){var i=!0;return e(n,function(a,o,l){return i=!!r(a,o,l),i}),i}return ej=t,ej}var tj,oq;function Oje(){if(oq)return tj;oq=1;var e=Aje(),t=Tje(),n=Eo(),r=Yr(),i=j0();function a(o,l,d){var f=r(o)?e:t;return d&&i(o,l,d)&&(l=void 0),f(o,n(l,3))}return tj=a,tj}var Cje=Oje();const F7=nn(Cje);var Rje=["x","y"];function pm(e){"@babel/helpers - typeof";return pm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pm(e)}function CN(){return CN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},CN.apply(this,arguments)}function lq(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Lf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?lq(Object(n),!0).forEach(function(r){Pje(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lq(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Pje(e,t,n){return t=Mje(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Mje(e){var t=kje(e,"string");return pm(t)=="symbol"?t:t+""}function kje(e,t){if(pm(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(pm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Dje(e,t){if(e==null)return{};var n=Ije(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Ije(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function $je(e,t){var n=e.x,r=e.y,i=Dje(e,Rje),a="".concat(n),o=parseInt(a,10),l="".concat(r),d=parseInt(l,10),f="".concat(t.height||i.height),m=parseInt(f,10),p="".concat(t.width||i.width),v=parseInt(p,10);return Lf(Lf(Lf(Lf(Lf({},t),i),o?{x:o}:{}),d?{y:d}:{}),{},{height:m,width:v,name:t.name,radius:t.radius})}function cq(e){return q.createElement(TN,CN({shapeType:"rectangle",propTransformer:$je,activeClassName:"recharts-active-bar"},e))}var Lje=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof t=="number")return t;var a=Te(r)||Wme(r);return a?t(r,i):(a||$l(),n)}},Bje=["value","background"],V7;function Vu(e){"@babel/helpers - typeof";return Vu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vu(e)}function qje(e,t){if(e==null)return{};var n=zje(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function zje(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function gy(){return gy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gy.apply(this,arguments)}function uq(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Fn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?uq(Object(n),!0).forEach(function(r){so(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uq(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Uje(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function dq(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,G7(r.key),r)}}function Fje(e,t,n){return t&&dq(e.prototype,t),n&&dq(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Vje(e,t,n){return t=vy(t),Hje(e,H7()?Reflect.construct(t,n||[],vy(e).constructor):t.apply(e,n))}function Hje(e,t){if(t&&(Vu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Gje(e)}function Gje(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function H7(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(H7=function(){return!!e})()}function vy(e){return vy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},vy(e)}function Kje(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&RN(e,t)}function RN(e,t){return RN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},RN(e,t)}function so(e,t,n){return t=G7(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function G7(e){var t=Wje(e,"string");return Vu(t)=="symbol"?t:t+""}function Wje(e,t){if(Vu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Vu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var fi=(function(e){function t(){var n;Uje(this,t);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=Vje(this,t,[].concat(i)),so(n,"state",{isAnimationFinished:!1}),so(n,"id",Fl("recharts-bar-")),so(n,"handleAnimationEnd",function(){var o=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),o&&o()}),so(n,"handleAnimationStart",function(){var o=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),o&&o()}),n}return Kje(t,e),Fje(t,[{key:"renderRectanglesStatically",value:function(r){var i=this,a=this.props,o=a.shape,l=a.dataKey,d=a.activeIndex,f=a.activeBar,m=wt(this.props,!1);return r&&r.map(function(p,v){var b=v===d,x=b?f:o,y=Fn(Fn(Fn({},m),p),{},{isActive:b,option:x,index:v,dataKey:l,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return q.createElement(Ht,gy({className:"recharts-bar-rectangle"},Lh(i.props,p,v),{key:"rectangle-".concat(p?.x,"-").concat(p?.y,"-").concat(p?.value,"-").concat(v)}),q.createElement(cq,y))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,a=i.data,o=i.layout,l=i.isAnimationActive,d=i.animationBegin,f=i.animationDuration,m=i.animationEasing,p=i.animationId,v=this.state.prevData;return q.createElement(sa,{begin:d,duration:f,isActive:l,easing:m,from:{t:0},to:{t:1},key:"bar-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(b){var x=b.t,y=a.map(function(w,E){var N=v&&v[E];if(N){var j=$n(N.x,w.x),O=$n(N.y,w.y),T=$n(N.width,w.width),C=$n(N.height,w.height);return Fn(Fn({},w),{},{x:j(x),y:O(x),width:T(x),height:C(x)})}if(o==="horizontal"){var R=$n(0,w.height),M=R(x);return Fn(Fn({},w),{},{y:w.y+w.height-M,height:M})}var k=$n(0,w.width),I=k(x);return Fn(Fn({},w),{},{width:I})});return q.createElement(Ht,null,r.renderRectanglesStatically(y))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,a=r.isAnimationActive,o=this.state.prevData;return a&&i&&i.length&&(!o||!Dl(o,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,a=i.data,o=i.dataKey,l=i.activeIndex,d=wt(this.props.background,!1);return a.map(function(f,m){f.value;var p=f.background,v=qje(f,Bje);if(!p)return null;var b=Fn(Fn(Fn(Fn(Fn({},v),{},{fill:"#eee"},p),d),Lh(r.props,f,m)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:o,index:m,className:"recharts-bar-background-rectangle"});return q.createElement(cq,gy({key:"background-bar-".concat(m),option:r.props.background,isActive:m===l},b))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.data,l=a.xAxis,d=a.yAxis,f=a.layout,m=a.children,p=Wr(m,Pd);if(!p)return null;var v=f==="vertical"?o[0].height/2:o[0].width/2,b=function(w,E){var N=Array.isArray(w.value)?w.value[1]:w.value;return{x:w.x,y:w.y,value:N,errorVal:nr(w,E)}},x={clipPath:r?"url(#clipPath-".concat(i,")"):null};return q.createElement(Ht,x,p.map(function(y){return q.cloneElement(y,{key:"error-bar-".concat(i,"-").concat(y.props.dataKey),data:o,xAxis:l,yAxis:d,layout:f,offset:v,dataPointFormatter:b})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,a=r.data,o=r.className,l=r.xAxis,d=r.yAxis,f=r.left,m=r.top,p=r.width,v=r.height,b=r.isAnimationActive,x=r.background,y=r.id;if(i||!a||!a.length)return null;var w=this.state.isAnimationFinished,E=Tt("recharts-bar",o),N=l&&l.allowDataOverflow,j=d&&d.allowDataOverflow,O=N||j,T=vt(y)?this.id:y;return q.createElement(Ht,{className:E},N||j?q.createElement("defs",null,q.createElement("clipPath",{id:"clipPath-".concat(T)},q.createElement("rect",{x:N?f:f-p/2,y:j?m:m-v/2,width:N?p:p*2,height:j?v:v*2}))):null,q.createElement(Ht,{className:"recharts-bar-rectangles",clipPath:O?"url(#clipPath-".concat(T,")"):null},x?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(O,T),(!b||w)&&Na.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])})(_.PureComponent);V7=fi;so(fi,"displayName","Bar");so(fi,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!No.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});so(fi,"getComposedData",function(e){var t=e.props,n=e.item,r=e.barPosition,i=e.bandSize,a=e.xAxis,o=e.yAxis,l=e.xAxisTicks,d=e.yAxisTicks,f=e.stackedData,m=e.dataStartIndex,p=e.displayedData,v=e.offset,b=h_e(r,n);if(!b)return null;var x=t.layout,y=n.type.defaultProps,w=y!==void 0?Fn(Fn({},y),n.props):n.props,E=w.dataKey,N=w.children,j=w.minPointSize,O=x==="horizontal"?o:a,T=f?O.scale.domain():null,C=w_e({numericAxis:O}),R=Wr(N,E0),M=p.map(function(k,I){var B,$,F,H,U,D;f?B=m_e(f[m+I],T):(B=nr(k,E),Array.isArray(B)||(B=[C,B]));var G=Lje(j,V7.defaultProps.minPointSize)(B[1],I);if(x==="horizontal"){var z,X=[o.scale(B[0]),o.scale(B[1])],ue=X[0],V=X[1];$=WL({axis:a,ticks:l,bandSize:i,offset:b.offset,entry:k,index:I}),F=(z=V??ue)!==null&&z!==void 0?z:void 0,H=b.size;var K=ue-V;if(U=Number.isNaN(K)?0:K,D={x:$,y:o.y,width:H,height:o.height},Math.abs(G)>0&&Math.abs(U)<Math.abs(G)){var Z=ra(U||G)*(Math.abs(G)-Math.abs(U));F-=Z,U+=Z}}else{var oe=[a.scale(B[0]),a.scale(B[1])],be=oe[0],ae=oe[1];if($=be,F=WL({axis:o,ticks:d,bandSize:i,offset:b.offset,entry:k,index:I}),H=ae-be,U=b.size,D={x:a.x,y:F,width:a.width,height:U},Math.abs(G)>0&&Math.abs(H)<Math.abs(G)){var J=ra(H||G)*(Math.abs(G)-Math.abs(H));H+=J}}return Fn(Fn(Fn({},k),{},{x:$,y:F,width:H,height:U,value:f?B:B[1],payload:k,background:D},R&&R[I]&&R[I].props),{},{tooltipPayload:[T7(n,k)],tooltipPosition:{x:$+H/2,y:F+U/2}})});return Fn({data:M,layout:x},v)});function gm(e){"@babel/helpers - typeof";return gm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gm(e)}function Yje(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fq(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,K7(r.key),r)}}function Xje(e,t,n){return t&&fq(e.prototype,t),n&&fq(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function hq(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Qi(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?hq(Object(n),!0).forEach(function(r){L0(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hq(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function L0(e,t,n){return t=K7(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function K7(e){var t=Qje(e,"string");return gm(t)=="symbol"?t:t+""}function Qje(e,t){if(gm(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(gm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var EO=function(t,n,r,i,a){var o=t.width,l=t.height,d=t.layout,f=t.children,m=Object.keys(n),p={left:r.left,leftMirror:r.left,right:o-r.right,rightMirror:o-r.right,top:r.top,topMirror:r.top,bottom:l-r.bottom,bottomMirror:l-r.bottom},v=!!oi(f,fi);return m.reduce(function(b,x){var y=n[x],w=y.orientation,E=y.domain,N=y.padding,j=N===void 0?{}:N,O=y.mirror,T=y.reversed,C="".concat(w).concat(O?"Mirror":""),R,M,k,I,B;if(y.type==="number"&&(y.padding==="gap"||y.padding==="no-gap")){var $=E[1]-E[0],F=1/0,H=y.categoricalDomain.sort(Jme);if(H.forEach(function(oe,be){be>0&&(F=Math.min((oe||0)-(H[be-1]||0),F))}),Number.isFinite(F)){var U=F/$,D=y.layout==="vertical"?r.height:r.width;if(y.padding==="gap"&&(R=U*D/2),y.padding==="no-gap"){var G=kl(t.barCategoryGap,U*D),z=U*D/2;R=z-G-(z-G)/D*G}}}i==="xAxis"?M=[r.left+(j.left||0)+(R||0),r.left+r.width-(j.right||0)-(R||0)]:i==="yAxis"?M=d==="horizontal"?[r.top+r.height-(j.bottom||0),r.top+(j.top||0)]:[r.top+(j.top||0)+(R||0),r.top+r.height-(j.bottom||0)-(R||0)]:M=y.range,T&&(M=[M[1],M[0]]);var X=d_e(y,a,v),ue=X.scale,V=X.realScaleType;ue.domain(E).range(M),f_e(ue);var K=x_e(ue,Qi(Qi({},y),{},{realScaleType:V}));i==="xAxis"?(B=w==="top"&&!O||w==="bottom"&&O,k=r.left,I=p[C]-B*y.height):i==="yAxis"&&(B=w==="left"&&!O||w==="right"&&O,k=p[C]-B*y.width,I=r.top);var Z=Qi(Qi(Qi({},y),K),{},{realScaleType:V,x:k,y:I,scale:ue,width:i==="xAxis"?r.width:y.width,height:i==="yAxis"?r.height:y.height});return Z.bandSize=iy(Z,K),!y.hide&&i==="xAxis"?p[C]+=(B?-1:1)*Z.height:y.hide||(p[C]+=(B?-1:1)*Z.width),Qi(Qi({},b),{},L0({},x,Z))},{})},W7=function(t,n){var r=t.x,i=t.y,a=n.x,o=n.y;return{x:Math.min(r,a),y:Math.min(i,o),width:Math.abs(a-r),height:Math.abs(o-i)}},Jje=function(t){var n=t.x1,r=t.y1,i=t.x2,a=t.y2;return W7({x:n,y:r},{x:i,y:a})},Y7=(function(){function e(t){Yje(this,e),this.scale=t}return Xje(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,a=r.position;if(n!==void 0){if(a)switch(a){case"start":return this.scale(n);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(n)+l}default:return this.scale(n)}if(i){var d=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+d}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],a=r[r.length-1];return i<=a?n>=i&&n<=a:n>=a&&n<=i}}],[{key:"create",value:function(n){return new e(n)}}])})();L0(Y7,"EPS",1e-4);var NO=function(t){var n=Object.keys(t).reduce(function(r,i){return Qi(Qi({},r),{},L0({},i,Y7.create(t[i])))},{});return Qi(Qi({},n),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=a.bandAware,l=a.position;return Nje(i,function(d,f){return n[f].apply(d,{bandAware:o,position:l})})},isInRange:function(i){return F7(i,function(a,o){return n[o].isInRange(a)})}})};function Zje(e){return(e%180+180)%180}var eEe=function(t){var n=t.width,r=t.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=Zje(i),o=a*Math.PI/180,l=Math.atan(r/n),d=o>l&&o<Math.PI-l?r/Math.sin(o):n/Math.cos(o);return Math.abs(d)},nj,mq;function tEe(){if(mq)return nj;mq=1;var e=Eo(),t=Bm(),n=_0();function r(i){return function(a,o,l){var d=Object(a);if(!t(a)){var f=e(o,3);a=n(a),o=function(p){return f(d[p],p,d)}}var m=i(a,o,l);return m>-1?d[f?a[m]:m]:void 0}}return nj=r,nj}var rj,pq;function nEe(){if(pq)return rj;pq=1;var e=B7();function t(n){var r=e(n),i=r%1;return r===r?i?r-i:r:0}return rj=t,rj}var ij,gq;function rEe(){if(gq)return ij;gq=1;var e=cH(),t=Eo(),n=nEe(),r=Math.max;function i(a,o,l){var d=a==null?0:a.length;if(!d)return-1;var f=l==null?0:n(l);return f<0&&(f=r(d+f,0)),e(a,t(o,3),f)}return ij=i,ij}var aj,vq;function iEe(){if(vq)return aj;vq=1;var e=tEe(),t=rEe(),n=e(t);return aj=n,aj}var aEe=iEe();const sEe=nn(aEe);var oEe=j9();const lEe=nn(oEe);var cEe=lEe(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),AO=_.createContext(void 0),TO=_.createContext(void 0),X7=_.createContext(void 0),Q7=_.createContext({}),J7=_.createContext(void 0),Z7=_.createContext(0),eG=_.createContext(0),yq=function(t){var n=t.state,r=n.xAxisMap,i=n.yAxisMap,a=n.offset,o=t.clipPathId,l=t.children,d=t.width,f=t.height,m=cEe(a);return q.createElement(AO.Provider,{value:r},q.createElement(TO.Provider,{value:i},q.createElement(Q7.Provider,{value:a},q.createElement(X7.Provider,{value:m},q.createElement(J7.Provider,{value:o},q.createElement(Z7.Provider,{value:f},q.createElement(eG.Provider,{value:d},l)))))))},uEe=function(){return _.useContext(J7)},tG=function(t){var n=_.useContext(AO);n==null&&$l();var r=n[t];return r==null&&$l(),r},dEe=function(){var t=_.useContext(AO);return no(t)},fEe=function(){var t=_.useContext(TO),n=sEe(t,function(r){return F7(r.domain,Number.isFinite)});return n||no(t)},nG=function(t){var n=_.useContext(TO);n==null&&$l();var r=n[t];return r==null&&$l(),r},hEe=function(){var t=_.useContext(X7);return t},mEe=function(){return _.useContext(Q7)},OO=function(){return _.useContext(eG)},CO=function(){return _.useContext(Z7)};function Hu(e){"@babel/helpers - typeof";return Hu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hu(e)}function pEe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gEe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,iG(r.key),r)}}function vEe(e,t,n){return t&&gEe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function yEe(e,t,n){return t=yy(t),bEe(e,rG()?Reflect.construct(t,n||[],yy(e).constructor):t.apply(e,n))}function bEe(e,t){if(t&&(Hu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xEe(e)}function xEe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(rG=function(){return!!e})()}function yy(e){return yy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},yy(e)}function wEe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&PN(e,t)}function PN(e,t){return PN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},PN(e,t)}function bq(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function xq(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?bq(Object(n),!0).forEach(function(r){RO(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bq(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function RO(e,t,n){return t=iG(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function iG(e){var t=_Ee(e,"string");return Hu(t)=="symbol"?t:t+""}function _Ee(e,t){if(Hu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Hu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function SEe(e,t){return AEe(e)||NEe(e,t)||EEe(e,t)||jEe()}function jEe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function EEe(e,t){if(e){if(typeof e=="string")return wq(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return wq(e,t)}}function wq(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function NEe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,o,l=[],d=!0,f=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(d=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);d=!0);}catch(m){f=!0,i=m}finally{try{if(!d&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(f)throw i}}return l}}function AEe(e){if(Array.isArray(e))return e}function MN(){return MN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},MN.apply(this,arguments)}var TEe=function(t,n){var r;return q.isValidElement(t)?r=q.cloneElement(t,n):_t(t)?r=t(n):r=q.createElement("line",MN({},n,{className:"recharts-reference-line-line"})),r},OEe=function(t,n,r,i,a,o,l,d,f){var m=a.x,p=a.y,v=a.width,b=a.height;if(r){var x=f.y,y=t.y.apply(x,{position:o});if(Aa(f,"discard")&&!t.y.isInRange(y))return null;var w=[{x:m+v,y},{x:m,y}];return d==="left"?w.reverse():w}if(n){var E=f.x,N=t.x.apply(E,{position:o});if(Aa(f,"discard")&&!t.x.isInRange(N))return null;var j=[{x:N,y:p+b},{x:N,y:p}];return l==="top"?j.reverse():j}if(i){var O=f.segment,T=O.map(function(C){return t.apply(C,{position:o})});return Aa(f,"discard")&&_je(T,function(C){return!t.isInRange(C)})?null:T}return null};function CEe(e){var t=e.x,n=e.y,r=e.segment,i=e.xAxisId,a=e.yAxisId,o=e.shape,l=e.className,d=e.alwaysShow,f=uEe(),m=tG(i),p=nG(a),v=hEe();if(!f||!v)return null;ls(d===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var b=NO({x:m.scale,y:p.scale}),x=tr(t),y=tr(n),w=r&&r.length===2,E=OEe(b,x,y,w,v,e.position,m.orientation,p.orientation,e);if(!E)return null;var N=SEe(E,2),j=N[0],O=j.x,T=j.y,C=N[1],R=C.x,M=C.y,k=Aa(e,"hidden")?"url(#".concat(f,")"):void 0,I=xq(xq({clipPath:k},wt(e,!0)),{},{x1:O,y1:T,x2:R,y2:M});return q.createElement(Ht,{className:Tt("recharts-reference-line",l)},TEe(o,I),Ar.renderCallByParent(e,Jje({x1:O,y1:T,x2:R,y2:M})))}var PO=(function(e){function t(){return pEe(this,t),yEe(this,t,arguments)}return wEe(t,e),vEe(t,[{key:"render",value:function(){return q.createElement(CEe,this.props)}}])})(q.Component);RO(PO,"displayName","ReferenceLine");RO(PO,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function kN(){return kN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},kN.apply(this,arguments)}function Gu(e){"@babel/helpers - typeof";return Gu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gu(e)}function _q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Sq(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_q(Object(n),!0).forEach(function(r){B0(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_q(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function REe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function PEe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,sG(r.key),r)}}function MEe(e,t,n){return t&&PEe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function kEe(e,t,n){return t=by(t),DEe(e,aG()?Reflect.construct(t,n||[],by(e).constructor):t.apply(e,n))}function DEe(e,t){if(t&&(Gu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return IEe(e)}function IEe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function aG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(aG=function(){return!!e})()}function by(e){return by=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},by(e)}function $Ee(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&DN(e,t)}function DN(e,t){return DN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},DN(e,t)}function B0(e,t,n){return t=sG(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sG(e){var t=LEe(e,"string");return Gu(t)=="symbol"?t:t+""}function LEe(e,t){if(Gu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Gu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var BEe=function(t){var n=t.x,r=t.y,i=t.xAxis,a=t.yAxis,o=NO({x:i.scale,y:a.scale}),l=o.apply({x:n,y:r},{bandAware:!0});return Aa(t,"discard")&&!o.isInRange(l)?null:l},q0=(function(e){function t(){return REe(this,t),kEe(this,t,arguments)}return $Ee(t,e),MEe(t,[{key:"render",value:function(){var r=this.props,i=r.x,a=r.y,o=r.r,l=r.alwaysShow,d=r.clipPathId,f=tr(i),m=tr(a);if(ls(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!f||!m)return null;var p=BEe(this.props);if(!p)return null;var v=p.x,b=p.y,x=this.props,y=x.shape,w=x.className,E=Aa(this.props,"hidden")?"url(#".concat(d,")"):void 0,N=Sq(Sq({clipPath:E},wt(this.props,!0)),{},{cx:v,cy:b});return q.createElement(Ht,{className:Tt("recharts-reference-dot",w)},t.renderDot(y,N),Ar.renderCallByParent(this.props,{x:v-o,y:b-o,width:2*o,height:2*o}))}}])})(q.Component);B0(q0,"displayName","ReferenceDot");B0(q0,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});B0(q0,"renderDot",function(e,t){var n;return q.isValidElement(e)?n=q.cloneElement(e,t):_t(e)?n=e(t):n=q.createElement(D0,kN({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),n});function IN(){return IN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},IN.apply(this,arguments)}function Ku(e){"@babel/helpers - typeof";return Ku=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ku(e)}function jq(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Eq(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?jq(Object(n),!0).forEach(function(r){z0(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jq(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function qEe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zEe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,lG(r.key),r)}}function UEe(e,t,n){return t&&zEe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function FEe(e,t,n){return t=xy(t),VEe(e,oG()?Reflect.construct(t,n||[],xy(e).constructor):t.apply(e,n))}function VEe(e,t){if(t&&(Ku(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return HEe(e)}function HEe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function oG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(oG=function(){return!!e})()}function xy(e){return xy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},xy(e)}function GEe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$N(e,t)}function $N(e,t){return $N=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},$N(e,t)}function z0(e,t,n){return t=lG(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lG(e){var t=KEe(e,"string");return Ku(t)=="symbol"?t:t+""}function KEe(e,t){if(Ku(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Ku(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var WEe=function(t,n,r,i,a){var o=a.x1,l=a.x2,d=a.y1,f=a.y2,m=a.xAxis,p=a.yAxis;if(!m||!p)return null;var v=NO({x:m.scale,y:p.scale}),b={x:t?v.x.apply(o,{position:"start"}):v.x.rangeMin,y:r?v.y.apply(d,{position:"start"}):v.y.rangeMin},x={x:n?v.x.apply(l,{position:"end"}):v.x.rangeMax,y:i?v.y.apply(f,{position:"end"}):v.y.rangeMax};return Aa(a,"discard")&&(!v.isInRange(b)||!v.isInRange(x))?null:W7(b,x)},U0=(function(e){function t(){return qEe(this,t),FEe(this,t,arguments)}return GEe(t,e),UEe(t,[{key:"render",value:function(){var r=this.props,i=r.x1,a=r.x2,o=r.y1,l=r.y2,d=r.className,f=r.alwaysShow,m=r.clipPathId;ls(f===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=tr(i),v=tr(a),b=tr(o),x=tr(l),y=this.props.shape;if(!p&&!v&&!b&&!x&&!y)return null;var w=WEe(p,v,b,x,this.props);if(!w&&!y)return null;var E=Aa(this.props,"hidden")?"url(#".concat(m,")"):void 0;return q.createElement(Ht,{className:Tt("recharts-reference-area",d)},t.renderRect(y,Eq(Eq({clipPath:E},wt(this.props,!0)),w)),Ar.renderCallByParent(this.props,w))}}])})(q.Component);z0(U0,"displayName","ReferenceArea");z0(U0,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});z0(U0,"renderRect",function(e,t){var n;return q.isValidElement(e)?n=q.cloneElement(e,t):_t(e)?n=e(t):n=q.createElement(jO,IN({},t,{className:"recharts-reference-area-rect"})),n});function cG(e,t,n){if(t<1)return[];if(t===1&&n===void 0)return e;for(var r=[],i=0;i<e.length;i+=t)r.push(e[i]);return r}function YEe(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return eEe(r,n)}function XEe(e,t,n){var r=n==="width",i=e.x,a=e.y,o=e.width,l=e.height;return t===1?{start:r?i:a,end:r?i+o:a+l}:{start:r?i+o:a+l,end:r?i:a}}function wy(e,t,n,r,i){if(e*t<e*r||e*t>e*i)return!1;var a=n();return e*(t-e*a/2-r)>=0&&e*(t+e*a/2-i)<=0}function QEe(e,t){return cG(e,t+1)}function JEe(e,t,n,r,i){for(var a=(r||[]).slice(),o=t.start,l=t.end,d=0,f=1,m=o,p=function(){var x=r?.[d];if(x===void 0)return{v:cG(r,f)};var y=d,w,E=function(){return w===void 0&&(w=n(x,y)),w},N=x.coordinate,j=d===0||wy(e,N,E,m,l);j||(d=0,m=o,f+=1),j&&(m=N+e*(E()/2+i),d+=f)},v;f<=a.length;)if(v=p(),v)return v.v;return[]}function vm(e){"@babel/helpers - typeof";return vm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vm(e)}function Nq(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Nr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Nq(Object(n),!0).forEach(function(r){ZEe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Nq(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ZEe(e,t,n){return t=eNe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eNe(e){var t=tNe(e,"string");return vm(t)=="symbol"?t:t+""}function tNe(e,t){if(vm(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(vm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function nNe(e,t,n,r,i){for(var a=(r||[]).slice(),o=a.length,l=t.start,d=t.end,f=function(v){var b=a[v],x,y=function(){return x===void 0&&(x=n(b,v)),x};if(v===o-1){var w=e*(b.coordinate+e*y()/2-d);a[v]=b=Nr(Nr({},b),{},{tickCoord:w>0?b.coordinate-w*e:b.coordinate})}else a[v]=b=Nr(Nr({},b),{},{tickCoord:b.coordinate});var E=wy(e,b.tickCoord,y,l,d);E&&(d=b.tickCoord-e*(y()/2+i),a[v]=Nr(Nr({},b),{},{isShow:!0}))},m=o-1;m>=0;m--)f(m);return a}function rNe(e,t,n,r,i,a){var o=(r||[]).slice(),l=o.length,d=t.start,f=t.end;if(a){var m=r[l-1],p=n(m,l-1),v=e*(m.coordinate+e*p/2-f);o[l-1]=m=Nr(Nr({},m),{},{tickCoord:v>0?m.coordinate-v*e:m.coordinate});var b=wy(e,m.tickCoord,function(){return p},d,f);b&&(f=m.tickCoord-e*(p/2+i),o[l-1]=Nr(Nr({},m),{},{isShow:!0}))}for(var x=a?l-1:l,y=function(N){var j=o[N],O,T=function(){return O===void 0&&(O=n(j,N)),O};if(N===0){var C=e*(j.coordinate-e*T()/2-d);o[N]=j=Nr(Nr({},j),{},{tickCoord:C<0?j.coordinate-C*e:j.coordinate})}else o[N]=j=Nr(Nr({},j),{},{tickCoord:j.coordinate});var R=wy(e,j.tickCoord,T,d,f);R&&(d=j.tickCoord+e*(T()/2+i),o[N]=Nr(Nr({},j),{},{isShow:!0}))},w=0;w<x;w++)y(w);return o}function MO(e,t,n){var r=e.tick,i=e.ticks,a=e.viewBox,o=e.minTickGap,l=e.orientation,d=e.interval,f=e.tickFormatter,m=e.unit,p=e.angle;if(!i||!i.length||!r)return[];if(Te(d)||No.isSsr)return QEe(i,typeof d=="number"&&Te(d)?d:0);var v=[],b=l==="top"||l==="bottom"?"width":"height",x=m&&b==="width"?uh(m,{fontSize:t,letterSpacing:n}):{width:0,height:0},y=function(j,O){var T=_t(f)?f(j.value,O):j.value;return b==="width"?YEe(uh(T,{fontSize:t,letterSpacing:n}),x,p):uh(T,{fontSize:t,letterSpacing:n})[b]},w=i.length>=2?ra(i[1].coordinate-i[0].coordinate):1,E=XEe(a,w,b);return d==="equidistantPreserveStart"?JEe(w,E,y,i,o):(d==="preserveStart"||d==="preserveStartEnd"?v=rNe(w,E,y,i,o,d==="preserveStartEnd"):v=nNe(w,E,y,i,o),v.filter(function(N){return N.isShow}))}var iNe=["viewBox"],aNe=["viewBox"],sNe=["ticks"];function Wu(e){"@babel/helpers - typeof";return Wu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wu(e)}function cu(){return cu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},cu.apply(this,arguments)}function Aq(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Xn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Aq(Object(n),!0).forEach(function(r){kO(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Aq(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function sj(e,t){if(e==null)return{};var n=oNe(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function oNe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function lNe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Tq(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,dG(r.key),r)}}function cNe(e,t,n){return t&&Tq(e.prototype,t),n&&Tq(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function uNe(e,t,n){return t=_y(t),dNe(e,uG()?Reflect.construct(t,n||[],_y(e).constructor):t.apply(e,n))}function dNe(e,t){if(t&&(Wu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fNe(e)}function fNe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function uG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(uG=function(){return!!e})()}function _y(e){return _y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},_y(e)}function hNe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&LN(e,t)}function LN(e,t){return LN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},LN(e,t)}function kO(e,t,n){return t=dG(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dG(e){var t=mNe(e,"string");return Wu(t)=="symbol"?t:t+""}function mNe(e,t){if(Wu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Wu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Md=(function(e){function t(n){var r;return lNe(this,t),r=uNe(this,t,[n]),r.state={fontSize:"",letterSpacing:""},r}return hNe(t,e),cNe(t,[{key:"shouldComponentUpdate",value:function(r,i){var a=r.viewBox,o=sj(r,iNe),l=this.props,d=l.viewBox,f=sj(l,aNe);return!xu(a,d)||!xu(o,f)||!xu(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,a=i.x,o=i.y,l=i.width,d=i.height,f=i.orientation,m=i.tickSize,p=i.mirror,v=i.tickMargin,b,x,y,w,E,N,j=p?-1:1,O=r.tickSize||m,T=Te(r.tickCoord)?r.tickCoord:r.coordinate;switch(f){case"top":b=x=r.coordinate,w=o+ +!p*d,y=w-j*O,N=y-j*v,E=T;break;case"left":y=w=r.coordinate,x=a+ +!p*l,b=x-j*O,E=b-j*v,N=T;break;case"right":y=w=r.coordinate,x=a+ +p*l,b=x+j*O,E=b+j*v,N=T;break;default:b=x=r.coordinate,w=o+ +p*d,y=w+j*O,N=y+j*v,E=T;break}return{line:{x1:b,y1:y,x2:x,y2:w},tick:{x:E,y:N}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,a=r.mirror,o;switch(i){case"left":o=a?"start":"end";break;case"right":o=a?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,a=r.mirror,o="end";switch(i){case"left":case"right":o="middle";break;case"top":o=a?"start":"end";break;default:o=a?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,a=r.y,o=r.width,l=r.height,d=r.orientation,f=r.mirror,m=r.axisLine,p=Xn(Xn(Xn({},wt(this.props,!1)),wt(m,!1)),{},{fill:"none"});if(d==="top"||d==="bottom"){var v=+(d==="top"&&!f||d==="bottom"&&f);p=Xn(Xn({},p),{},{x1:i,y1:a+v*l,x2:i+o,y2:a+v*l})}else{var b=+(d==="left"&&!f||d==="right"&&f);p=Xn(Xn({},p),{},{x1:i+b*o,y1:a,x2:i+b*o,y2:a+l})}return q.createElement("line",cu({},p,{className:Tt("recharts-cartesian-axis-line",Li(m,"className"))}))}},{key:"renderTicks",value:function(r,i,a){var o=this,l=this.props,d=l.tickLine,f=l.stroke,m=l.tick,p=l.tickFormatter,v=l.unit,b=MO(Xn(Xn({},this.props),{},{ticks:r}),i,a),x=this.getTickTextAnchor(),y=this.getTickVerticalAnchor(),w=wt(this.props,!1),E=wt(m,!1),N=Xn(Xn({},w),{},{fill:"none"},wt(d,!1)),j=b.map(function(O,T){var C=o.getTickLineCoord(O),R=C.line,M=C.tick,k=Xn(Xn(Xn(Xn({textAnchor:x,verticalAnchor:y},w),{},{stroke:"none",fill:f},E),M),{},{index:T,payload:O,visibleTicksCount:b.length,tickFormatter:p});return q.createElement(Ht,cu({className:"recharts-cartesian-axis-tick",key:"tick-".concat(O.value,"-").concat(O.coordinate,"-").concat(O.tickCoord)},Lh(o.props,O,T)),d&&q.createElement("line",cu({},N,R,{className:Tt("recharts-cartesian-axis-tick-line",Li(d,"className"))})),m&&t.renderTickItem(m,k,"".concat(_t(p)?p(O.value,T):O.value).concat(v||"")))});return q.createElement("g",{className:"recharts-cartesian-axis-ticks"},j)}},{key:"render",value:function(){var r=this,i=this.props,a=i.axisLine,o=i.width,l=i.height,d=i.ticksGenerator,f=i.className,m=i.hide;if(m)return null;var p=this.props,v=p.ticks,b=sj(p,sNe),x=v;return _t(d)&&(x=v&&v.length>0?d(this.props):d(b)),o<=0||l<=0||!x||!x.length?null:q.createElement(Ht,{className:Tt("recharts-cartesian-axis",f),ref:function(w){r.layerReference=w}},a&&this.renderAxisLine(),this.renderTicks(x,this.state.fontSize,this.state.letterSpacing),Ar.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,a){var o,l=Tt(i.className,"recharts-cartesian-axis-tick-value");return q.isValidElement(r)?o=q.cloneElement(r,Xn(Xn({},i),{},{className:l})):_t(r)?o=r(Xn(Xn({},i),{},{className:l})):o=q.createElement(Vv,cu({},i,{className:"recharts-cartesian-axis-tick-value"}),a),o}}])})(_.Component);kO(Md,"displayName","CartesianAxis");kO(Md,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var pNe=["x1","y1","x2","y2","key"],gNe=["offset"];function Ll(e){"@babel/helpers - typeof";return Ll=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ll(e)}function Oq(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Tr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Oq(Object(n),!0).forEach(function(r){vNe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Oq(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function vNe(e,t,n){return t=yNe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yNe(e){var t=bNe(e,"string");return Ll(t)=="symbol"?t:t+""}function bNe(e,t){if(Ll(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Ll(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yl(){return yl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},yl.apply(this,arguments)}function Cq(e,t){if(e==null)return{};var n=xNe(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function xNe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var wNe=function(t){var n=t.fill;if(!n||n==="none")return null;var r=t.fillOpacity,i=t.x,a=t.y,o=t.width,l=t.height,d=t.ry;return q.createElement("rect",{x:i,y:a,ry:d,width:o,height:l,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function fG(e,t){var n;if(q.isValidElement(e))n=q.cloneElement(e,t);else if(_t(e))n=e(t);else{var r=t.x1,i=t.y1,a=t.x2,o=t.y2,l=t.key,d=Cq(t,pNe),f=wt(d,!1);f.offset;var m=Cq(f,gNe);n=q.createElement("line",yl({},m,{x1:r,y1:i,x2:a,y2:o,fill:"none",key:l}))}return n}function _Ne(e){var t=e.x,n=e.width,r=e.horizontal,i=r===void 0?!0:r,a=e.horizontalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(l,d){var f=Tr(Tr({},e),{},{x1:t,y1:l,x2:t+n,y2:l,key:"line-".concat(d),index:d});return fG(i,f)});return q.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function SNe(e){var t=e.y,n=e.height,r=e.vertical,i=r===void 0?!0:r,a=e.verticalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(l,d){var f=Tr(Tr({},e),{},{x1:l,y1:t,x2:l,y2:t+n,key:"line-".concat(d),index:d});return fG(i,f)});return q.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function jNe(e){var t=e.horizontalFill,n=e.fillOpacity,r=e.x,i=e.y,a=e.width,o=e.height,l=e.horizontalPoints,d=e.horizontal,f=d===void 0?!0:d;if(!f||!t||!t.length)return null;var m=l.map(function(v){return Math.round(v+i-i)}).sort(function(v,b){return v-b});i!==m[0]&&m.unshift(0);var p=m.map(function(v,b){var x=!m[b+1],y=x?i+o-v:m[b+1]-v;if(y<=0)return null;var w=b%t.length;return q.createElement("rect",{key:"react-".concat(b),y:v,x:r,height:y,width:a,stroke:"none",fill:t[w],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return q.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},p)}function ENe(e){var t=e.vertical,n=t===void 0?!0:t,r=e.verticalFill,i=e.fillOpacity,a=e.x,o=e.y,l=e.width,d=e.height,f=e.verticalPoints;if(!n||!r||!r.length)return null;var m=f.map(function(v){return Math.round(v+a-a)}).sort(function(v,b){return v-b});a!==m[0]&&m.unshift(0);var p=m.map(function(v,b){var x=!m[b+1],y=x?a+l-v:m[b+1]-v;if(y<=0)return null;var w=b%r.length;return q.createElement("rect",{key:"react-".concat(b),x:v,y:o,width:y,height:d,stroke:"none",fill:r[w],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return q.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},p)}var NNe=function(t,n){var r=t.xAxis,i=t.width,a=t.height,o=t.offset;return N7(MO(Tr(Tr(Tr({},Md.defaultProps),r),{},{ticks:is(r,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.left,o.left+o.width,n)},ANe=function(t,n){var r=t.yAxis,i=t.width,a=t.height,o=t.offset;return N7(MO(Tr(Tr(Tr({},Md.defaultProps),r),{},{ticks:is(r,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.top,o.top+o.height,n)},Gc={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function dl(e){var t,n,r,i,a,o,l=OO(),d=CO(),f=mEe(),m=Tr(Tr({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:Gc.stroke,fill:(n=e.fill)!==null&&n!==void 0?n:Gc.fill,horizontal:(r=e.horizontal)!==null&&r!==void 0?r:Gc.horizontal,horizontalFill:(i=e.horizontalFill)!==null&&i!==void 0?i:Gc.horizontalFill,vertical:(a=e.vertical)!==null&&a!==void 0?a:Gc.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:Gc.verticalFill,x:Te(e.x)?e.x:f.left,y:Te(e.y)?e.y:f.top,width:Te(e.width)?e.width:f.width,height:Te(e.height)?e.height:f.height}),p=m.x,v=m.y,b=m.width,x=m.height,y=m.syncWithTicks,w=m.horizontalValues,E=m.verticalValues,N=dEe(),j=fEe();if(!Te(b)||b<=0||!Te(x)||x<=0||!Te(p)||p!==+p||!Te(v)||v!==+v)return null;var O=m.verticalCoordinatesGenerator||NNe,T=m.horizontalCoordinatesGenerator||ANe,C=m.horizontalPoints,R=m.verticalPoints;if((!C||!C.length)&&_t(T)){var M=w&&w.length,k=T({yAxis:j?Tr(Tr({},j),{},{ticks:M?w:j.ticks}):void 0,width:l,height:d,offset:f},M?!0:y);ls(Array.isArray(k),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Ll(k),"]")),Array.isArray(k)&&(C=k)}if((!R||!R.length)&&_t(O)){var I=E&&E.length,B=O({xAxis:N?Tr(Tr({},N),{},{ticks:I?E:N.ticks}):void 0,width:l,height:d,offset:f},I?!0:y);ls(Array.isArray(B),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Ll(B),"]")),Array.isArray(B)&&(R=B)}return q.createElement("g",{className:"recharts-cartesian-grid"},q.createElement(wNe,{fill:m.fill,fillOpacity:m.fillOpacity,x:m.x,y:m.y,width:m.width,height:m.height,ry:m.ry}),q.createElement(_Ne,yl({},m,{offset:f,horizontalPoints:C,xAxis:N,yAxis:j})),q.createElement(SNe,yl({},m,{offset:f,verticalPoints:R,xAxis:N,yAxis:j})),q.createElement(jNe,yl({},m,{horizontalPoints:C})),q.createElement(ENe,yl({},m,{verticalPoints:R})))}dl.displayName="CartesianGrid";var TNe=["type","layout","connectNulls","ref"],ONe=["key"];function Yu(e){"@babel/helpers - typeof";return Yu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yu(e)}function Rq(e,t){if(e==null)return{};var n=CNe(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function CNe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function mh(){return mh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mh.apply(this,arguments)}function Pq(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ii(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Pq(Object(n),!0).forEach(function(r){Ji(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pq(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Kc(e){return kNe(e)||MNe(e)||PNe(e)||RNe()}function RNe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function PNe(e,t){if(e){if(typeof e=="string")return BN(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return BN(e,t)}}function MNe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function kNe(e){if(Array.isArray(e))return BN(e)}function BN(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function DNe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Mq(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,mG(r.key),r)}}function INe(e,t,n){return t&&Mq(e.prototype,t),n&&Mq(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function $Ne(e,t,n){return t=Sy(t),LNe(e,hG()?Reflect.construct(t,n||[],Sy(e).constructor):t.apply(e,n))}function LNe(e,t){if(t&&(Yu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return BNe(e)}function BNe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hG=function(){return!!e})()}function Sy(e){return Sy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Sy(e)}function qNe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qN(e,t)}function qN(e,t){return qN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},qN(e,t)}function Ji(e,t,n){return t=mG(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mG(e){var t=zNe(e,"string");return Yu(t)=="symbol"?t:t+""}function zNe(e,t){if(Yu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Yu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var uo=(function(e){function t(){var n;DNe(this,t);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=$Ne(this,t,[].concat(i)),Ji(n,"state",{isAnimationFinished:!0,totalLength:0}),Ji(n,"generateSimpleStrokeDasharray",function(o,l){return"".concat(l,"px ").concat(o-l,"px")}),Ji(n,"getStrokeDasharray",function(o,l,d){var f=d.reduce(function(E,N){return E+N});if(!f)return n.generateSimpleStrokeDasharray(l,o);for(var m=Math.floor(o/f),p=o%f,v=l-o,b=[],x=0,y=0;x<d.length;y+=d[x],++x)if(y+d[x]>p){b=[].concat(Kc(d.slice(0,x)),[p-y]);break}var w=b.length%2===0?[0,v]:[v];return[].concat(Kc(t.repeat(d,m)),Kc(b),w).map(function(E){return"".concat(E,"px")}).join(", ")}),Ji(n,"id",Fl("recharts-line-")),Ji(n,"pathRef",function(o){n.mainCurve=o}),Ji(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),Ji(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return qNe(t,e),INe(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.points,l=a.xAxis,d=a.yAxis,f=a.layout,m=a.children,p=Wr(m,Pd);if(!p)return null;var v=function(y,w){return{x:y.x,y:y.y,value:y.value,errorVal:nr(y.payload,w)}},b={clipPath:r?"url(#clipPath-".concat(i,")"):null};return q.createElement(Ht,b,p.map(function(x){return q.cloneElement(x,{key:"bar-".concat(x.props.dataKey),data:o,xAxis:l,yAxis:d,layout:f,dataPointFormatter:v})}))}},{key:"renderDots",value:function(r,i,a){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var l=this.props,d=l.dot,f=l.points,m=l.dataKey,p=wt(this.props,!1),v=wt(d,!0),b=f.map(function(y,w){var E=ii(ii(ii({key:"dot-".concat(w),r:3},p),v),{},{index:w,cx:y.x,cy:y.y,value:y.value,dataKey:m,payload:y.payload,points:f});return t.renderDotItem(d,E)}),x={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return q.createElement(Ht,mh({className:"recharts-line-dots",key:"dots"},x),b)}},{key:"renderCurveStatically",value:function(r,i,a,o){var l=this.props,d=l.type,f=l.layout,m=l.connectNulls;l.ref;var p=Rq(l,TNe),v=ii(ii(ii({},wt(p,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(a,")"):null,points:r},o),{},{type:d,layout:f,connectNulls:m});return q.createElement(Nl,mh({},v,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,i){var a=this,o=this.props,l=o.points,d=o.strokeDasharray,f=o.isAnimationActive,m=o.animationBegin,p=o.animationDuration,v=o.animationEasing,b=o.animationId,x=o.animateNewValues,y=o.width,w=o.height,E=this.state,N=E.prevPoints,j=E.totalLength;return q.createElement(sa,{begin:m,duration:p,isActive:f,easing:v,from:{t:0},to:{t:1},key:"line-".concat(b),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(O){var T=O.t;if(N){var C=N.length/l.length,R=l.map(function($,F){var H=Math.floor(F*C);if(N[H]){var U=N[H],D=$n(U.x,$.x),G=$n(U.y,$.y);return ii(ii({},$),{},{x:D(T),y:G(T)})}if(x){var z=$n(y*2,$.x),X=$n(w/2,$.y);return ii(ii({},$),{},{x:z(T),y:X(T)})}return ii(ii({},$),{},{x:$.x,y:$.y})});return a.renderCurveStatically(R,r,i)}var M=$n(0,j),k=M(T),I;if(d){var B="".concat(d).split(/[,\s]+/gim).map(function($){return parseFloat($)});I=a.getStrokeDasharray(k,j,B)}else I=a.generateSimpleStrokeDasharray(j,k);return a.renderCurveStatically(l,r,i,{strokeDasharray:I})})}},{key:"renderCurve",value:function(r,i){var a=this.props,o=a.points,l=a.isAnimationActive,d=this.state,f=d.prevPoints,m=d.totalLength;return l&&o&&o.length&&(!f&&m>0||!Dl(f,o))?this.renderCurveWithAnimation(r,i):this.renderCurveStatically(o,r,i)}},{key:"render",value:function(){var r,i=this.props,a=i.hide,o=i.dot,l=i.points,d=i.className,f=i.xAxis,m=i.yAxis,p=i.top,v=i.left,b=i.width,x=i.height,y=i.isAnimationActive,w=i.id;if(a||!l||!l.length)return null;var E=this.state.isAnimationFinished,N=l.length===1,j=Tt("recharts-line",d),O=f&&f.allowDataOverflow,T=m&&m.allowDataOverflow,C=O||T,R=vt(w)?this.id:w,M=(r=wt(o,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},k=M.r,I=k===void 0?3:k,B=M.strokeWidth,$=B===void 0?2:B,F=O9(o)?o:{},H=F.clipDot,U=H===void 0?!0:H,D=I*2+$;return q.createElement(Ht,{className:j},O||T?q.createElement("defs",null,q.createElement("clipPath",{id:"clipPath-".concat(R)},q.createElement("rect",{x:O?v:v-b/2,y:T?p:p-x/2,width:O?b:b*2,height:T?x:x*2})),!U&&q.createElement("clipPath",{id:"clipPath-dots-".concat(R)},q.createElement("rect",{x:v-D/2,y:p-D/2,width:b+D,height:x+D}))):null,!N&&this.renderCurve(C,R),this.renderErrorBar(C,R),(N||o)&&this.renderDots(C,U,R),(!y||E)&&Na.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,i){for(var a=r.length%2!==0?[].concat(Kc(r),[0]):r,o=[],l=0;l<i;++l)o=[].concat(Kc(o),Kc(a));return o}},{key:"renderDotItem",value:function(r,i){var a;if(q.isValidElement(r))a=q.cloneElement(r,i);else if(_t(r))a=r(i);else{var o=i.key,l=Rq(i,ONe),d=Tt("recharts-line-dot",typeof r!="boolean"?r.className:"");a=q.createElement(D0,mh({key:o},l,{className:d}))}return a}}])})(_.PureComponent);Ji(uo,"displayName","Line");Ji(uo,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!No.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Ji(uo,"getComposedData",function(e){var t=e.props,n=e.xAxis,r=e.yAxis,i=e.xAxisTicks,a=e.yAxisTicks,o=e.dataKey,l=e.bandSize,d=e.displayedData,f=e.offset,m=t.layout,p=d.map(function(v,b){var x=nr(v,o);return m==="horizontal"?{x:qu({axis:n,ticks:i,bandSize:l,entry:v,index:b}),y:vt(x)?null:r.scale(x),value:x,payload:v}:{x:vt(x)?null:n.scale(x),y:qu({axis:r,ticks:a,bandSize:l,entry:v,index:b}),value:x,payload:v}});return ii({points:p,layout:m},f)});var UNe=["layout","type","stroke","connectNulls","isRange","ref"],FNe=["key"],pG;function Xu(e){"@babel/helpers - typeof";return Xu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xu(e)}function gG(e,t){if(e==null)return{};var n=VNe(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function VNe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function bl(){return bl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bl.apply(this,arguments)}function kq(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Js(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?kq(Object(n),!0).forEach(function(r){xa(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kq(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function HNe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Dq(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,yG(r.key),r)}}function GNe(e,t,n){return t&&Dq(e.prototype,t),n&&Dq(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function KNe(e,t,n){return t=jy(t),WNe(e,vG()?Reflect.construct(t,n||[],jy(e).constructor):t.apply(e,n))}function WNe(e,t){if(t&&(Xu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return YNe(e)}function YNe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(vG=function(){return!!e})()}function jy(e){return jy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},jy(e)}function XNe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&zN(e,t)}function zN(e,t){return zN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},zN(e,t)}function xa(e,t,n){return t=yG(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yG(e){var t=QNe(e,"string");return Xu(t)=="symbol"?t:t+""}function QNe(e,t){if(Xu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Xu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Kl=(function(e){function t(){var n;HNe(this,t);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=KNe(this,t,[].concat(i)),xa(n,"state",{isAnimationFinished:!0}),xa(n,"id",Fl("recharts-area-")),xa(n,"handleAnimationEnd",function(){var o=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),_t(o)&&o()}),xa(n,"handleAnimationStart",function(){var o=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),_t(o)&&o()}),n}return XNe(t,e),GNe(t,[{key:"renderDots",value:function(r,i,a){var o=this.props.isAnimationActive,l=this.state.isAnimationFinished;if(o&&!l)return null;var d=this.props,f=d.dot,m=d.points,p=d.dataKey,v=wt(this.props,!1),b=wt(f,!0),x=m.map(function(w,E){var N=Js(Js(Js({key:"dot-".concat(E),r:3},v),b),{},{index:E,cx:w.x,cy:w.y,dataKey:p,value:w.value,payload:w.payload,points:m});return t.renderDotItem(f,N)}),y={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return q.createElement(Ht,bl({className:"recharts-area-dots"},y),x)}},{key:"renderHorizontalRect",value:function(r){var i=this.props,a=i.baseLine,o=i.points,l=i.strokeWidth,d=o[0].x,f=o[o.length-1].x,m=r*Math.abs(d-f),p=ao(o.map(function(v){return v.y||0}));return Te(a)&&typeof a=="number"?p=Math.max(a,p):a&&Array.isArray(a)&&a.length&&(p=Math.max(ao(a.map(function(v){return v.y||0})),p)),Te(p)?q.createElement("rect",{x:d<f?d:d-m,y:0,width:m,height:Math.floor(p+(l?parseInt("".concat(l),10):1))}):null}},{key:"renderVerticalRect",value:function(r){var i=this.props,a=i.baseLine,o=i.points,l=i.strokeWidth,d=o[0].y,f=o[o.length-1].y,m=r*Math.abs(d-f),p=ao(o.map(function(v){return v.x||0}));return Te(a)&&typeof a=="number"?p=Math.max(a,p):a&&Array.isArray(a)&&a.length&&(p=Math.max(ao(a.map(function(v){return v.x||0})),p)),Te(p)?q.createElement("rect",{x:0,y:d<f?d:d-m,width:p+(l?parseInt("".concat(l),10):1),height:Math.floor(m)}):null}},{key:"renderClipRect",value:function(r){var i=this.props.layout;return i==="vertical"?this.renderVerticalRect(r):this.renderHorizontalRect(r)}},{key:"renderAreaStatically",value:function(r,i,a,o){var l=this.props,d=l.layout,f=l.type,m=l.stroke,p=l.connectNulls,v=l.isRange;l.ref;var b=gG(l,UNe);return q.createElement(Ht,{clipPath:a?"url(#clipPath-".concat(o,")"):null},q.createElement(Nl,bl({},wt(b,!0),{points:r,connectNulls:p,type:f,baseLine:i,layout:d,stroke:"none",className:"recharts-area-area"})),m!=="none"&&q.createElement(Nl,bl({},wt(this.props,!1),{className:"recharts-area-curve",layout:d,type:f,connectNulls:p,fill:"none",points:r})),m!=="none"&&v&&q.createElement(Nl,bl({},wt(this.props,!1),{className:"recharts-area-curve",layout:d,type:f,connectNulls:p,fill:"none",points:i})))}},{key:"renderAreaWithAnimation",value:function(r,i){var a=this,o=this.props,l=o.points,d=o.baseLine,f=o.isAnimationActive,m=o.animationBegin,p=o.animationDuration,v=o.animationEasing,b=o.animationId,x=this.state,y=x.prevPoints,w=x.prevBaseLine;return q.createElement(sa,{begin:m,duration:p,isActive:f,easing:v,from:{t:0},to:{t:1},key:"area-".concat(b),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(E){var N=E.t;if(y){var j=y.length/l.length,O=l.map(function(M,k){var I=Math.floor(k*j);if(y[I]){var B=y[I],$=$n(B.x,M.x),F=$n(B.y,M.y);return Js(Js({},M),{},{x:$(N),y:F(N)})}return M}),T;if(Te(d)&&typeof d=="number"){var C=$n(w,d);T=C(N)}else if(vt(d)||Ad(d)){var R=$n(w,0);T=R(N)}else T=d.map(function(M,k){var I=Math.floor(k*j);if(w[I]){var B=w[I],$=$n(B.x,M.x),F=$n(B.y,M.y);return Js(Js({},M),{},{x:$(N),y:F(N)})}return M});return a.renderAreaStatically(O,T,r,i)}return q.createElement(Ht,null,q.createElement("defs",null,q.createElement("clipPath",{id:"animationClipPath-".concat(i)},a.renderClipRect(N))),q.createElement(Ht,{clipPath:"url(#animationClipPath-".concat(i,")")},a.renderAreaStatically(l,d,r,i)))})}},{key:"renderArea",value:function(r,i){var a=this.props,o=a.points,l=a.baseLine,d=a.isAnimationActive,f=this.state,m=f.prevPoints,p=f.prevBaseLine,v=f.totalLength;return d&&o&&o.length&&(!m&&v>0||!Dl(m,o)||!Dl(p,l))?this.renderAreaWithAnimation(r,i):this.renderAreaStatically(o,l,r,i)}},{key:"render",value:function(){var r,i=this.props,a=i.hide,o=i.dot,l=i.points,d=i.className,f=i.top,m=i.left,p=i.xAxis,v=i.yAxis,b=i.width,x=i.height,y=i.isAnimationActive,w=i.id;if(a||!l||!l.length)return null;var E=this.state.isAnimationFinished,N=l.length===1,j=Tt("recharts-area",d),O=p&&p.allowDataOverflow,T=v&&v.allowDataOverflow,C=O||T,R=vt(w)?this.id:w,M=(r=wt(o,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},k=M.r,I=k===void 0?3:k,B=M.strokeWidth,$=B===void 0?2:B,F=O9(o)?o:{},H=F.clipDot,U=H===void 0?!0:H,D=I*2+$;return q.createElement(Ht,{className:j},O||T?q.createElement("defs",null,q.createElement("clipPath",{id:"clipPath-".concat(R)},q.createElement("rect",{x:O?m:m-b/2,y:T?f:f-x/2,width:O?b:b*2,height:T?x:x*2})),!U&&q.createElement("clipPath",{id:"clipPath-dots-".concat(R)},q.createElement("rect",{x:m-D/2,y:f-D/2,width:b+D,height:x+D}))):null,N?null:this.renderArea(C,R),(o||N)&&this.renderDots(C,U,R),(!y||E)&&Na.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,curBaseLine:r.baseLine,prevPoints:i.curPoints,prevBaseLine:i.curBaseLine}:r.points!==i.curPoints||r.baseLine!==i.curBaseLine?{curPoints:r.points,curBaseLine:r.baseLine}:null}}])})(_.PureComponent);pG=Kl;xa(Kl,"displayName","Area");xa(Kl,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!No.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});xa(Kl,"getBaseValue",function(e,t,n,r){var i=e.layout,a=e.baseValue,o=t.props.baseValue,l=o??a;if(Te(l)&&typeof l=="number")return l;var d=i==="horizontal"?r:n,f=d.scale.domain();if(d.type==="number"){var m=Math.max(f[0],f[1]),p=Math.min(f[0],f[1]);return l==="dataMin"?p:l==="dataMax"||m<0?m:Math.max(Math.min(f[0],f[1]),0)}return l==="dataMin"?f[0]:l==="dataMax"?f[1]:f[0]});xa(Kl,"getComposedData",function(e){var t=e.props,n=e.item,r=e.xAxis,i=e.yAxis,a=e.xAxisTicks,o=e.yAxisTicks,l=e.bandSize,d=e.dataKey,f=e.stackedData,m=e.dataStartIndex,p=e.displayedData,v=e.offset,b=t.layout,x=f&&f.length,y=pG.getBaseValue(t,n,r,i),w=b==="horizontal",E=!1,N=p.map(function(O,T){var C;x?C=f[m+T]:(C=nr(O,d),Array.isArray(C)?E=!0:C=[y,C]);var R=C[1]==null||x&&nr(O,d)==null;return w?{x:qu({axis:r,ticks:a,bandSize:l,entry:O,index:T}),y:R?null:i.scale(C[1]),value:C,payload:O}:{x:R?null:r.scale(C[1]),y:qu({axis:i,ticks:o,bandSize:l,entry:O,index:T}),value:C,payload:O}}),j;return x||E?j=N.map(function(O){var T=Array.isArray(O.value)?O.value[0]:null;return w?{x:O.x,y:T!=null&&O.y!=null?i.scale(T):null}:{x:T!=null?r.scale(T):null,y:O.y}}):j=w?i.scale(y):r.scale(y),Js({points:N,baseLine:j,layout:b,isRange:E},v)});xa(Kl,"renderDotItem",function(e,t){var n;if(q.isValidElement(e))n=q.cloneElement(e,t);else if(_t(e))n=e(t);else{var r=Tt("recharts-area-dot",typeof e!="boolean"?e.className:""),i=t.key,a=gG(t,FNe);n=q.createElement(D0,bl({},a,{key:i,className:r}))}return n});function Qu(e){"@babel/helpers - typeof";return Qu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qu(e)}function JNe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ZNe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,wG(r.key),r)}}function eAe(e,t,n){return t&&ZNe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function tAe(e,t,n){return t=Ey(t),nAe(e,bG()?Reflect.construct(t,n||[],Ey(e).constructor):t.apply(e,n))}function nAe(e,t){if(t&&(Qu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rAe(e)}function rAe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(bG=function(){return!!e})()}function Ey(e){return Ey=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ey(e)}function iAe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&UN(e,t)}function UN(e,t){return UN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},UN(e,t)}function xG(e,t,n){return t=wG(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wG(e){var t=aAe(e,"string");return Qu(t)=="symbol"?t:t+""}function aAe(e,t){if(Qu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Qu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var F0=(function(e){function t(){return JNe(this,t),tAe(this,t,arguments)}return iAe(t,e),eAe(t,[{key:"render",value:function(){return null}}])})(_.Component);xG(F0,"displayName","ZAxis");xG(F0,"defaultProps",{zAxisId:0,range:[64,64],scale:"auto",type:"number"});var sAe=["option","isActive"];function ph(){return ph=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ph.apply(this,arguments)}function oAe(e,t){if(e==null)return{};var n=lAe(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function lAe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function cAe(e){var t=e.option,n=e.isActive,r=oAe(e,sAe);return typeof t=="string"?_.createElement(TN,ph({option:_.createElement(w0,ph({type:t},r)),isActive:n,shapeType:"symbols"},r)):_.createElement(TN,ph({option:t,isActive:n,shapeType:"symbols"},r))}function Ju(e){"@babel/helpers - typeof";return Ju=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ju(e)}function gh(){return gh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gh.apply(this,arguments)}function Iq(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ri(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Iq(Object(n),!0).forEach(function(r){oo(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Iq(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function uAe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $q(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,SG(r.key),r)}}function dAe(e,t,n){return t&&$q(e.prototype,t),n&&$q(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function fAe(e,t,n){return t=Ny(t),hAe(e,_G()?Reflect.construct(t,n||[],Ny(e).constructor):t.apply(e,n))}function hAe(e,t){if(t&&(Ju(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mAe(e)}function mAe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _G(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_G=function(){return!!e})()}function Ny(e){return Ny=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ny(e)}function pAe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&FN(e,t)}function FN(e,t){return FN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},FN(e,t)}function oo(e,t,n){return t=SG(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function SG(e){var t=gAe(e,"string");return Ju(t)=="symbol"?t:t+""}function gAe(e,t){if(Ju(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Ju(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var V0=(function(e){function t(){var n;uAe(this,t);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=fAe(this,t,[].concat(i)),oo(n,"state",{isAnimationFinished:!1}),oo(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0})}),oo(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1})}),oo(n,"id",Fl("recharts-scatter-")),n}return pAe(t,e),dAe(t,[{key:"renderSymbolsStatically",value:function(r){var i=this,a=this.props,o=a.shape,l=a.activeShape,d=a.activeIndex,f=wt(this.props,!1);return r.map(function(m,p){var v=d===p,b=v?l:o,x=Ri(Ri({},f),m);return q.createElement(Ht,gh({className:"recharts-scatter-symbol",key:"symbol-".concat(m?.cx,"-").concat(m?.cy,"-").concat(m?.size,"-").concat(p)},Lh(i.props,m,p),{role:"img"}),q.createElement(cAe,gh({option:b,isActive:v,key:"symbol-".concat(p)},x)))})}},{key:"renderSymbolsWithAnimation",value:function(){var r=this,i=this.props,a=i.points,o=i.isAnimationActive,l=i.animationBegin,d=i.animationDuration,f=i.animationEasing,m=i.animationId,p=this.state.prevPoints;return q.createElement(sa,{begin:l,duration:d,isActive:o,easing:f,from:{t:0},to:{t:1},key:"pie-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(v){var b=v.t,x=a.map(function(y,w){var E=p&&p[w];if(E){var N=$n(E.cx,y.cx),j=$n(E.cy,y.cy),O=$n(E.size,y.size);return Ri(Ri({},y),{},{cx:N(b),cy:j(b),size:O(b)})}var T=$n(0,y.size);return Ri(Ri({},y),{},{size:T(b)})});return q.createElement(Ht,null,r.renderSymbolsStatically(x))})}},{key:"renderSymbols",value:function(){var r=this.props,i=r.points,a=r.isAnimationActive,o=this.state.prevPoints;return a&&i&&i.length&&(!o||!Dl(o,i))?this.renderSymbolsWithAnimation():this.renderSymbolsStatically(i)}},{key:"renderErrorBar",value:function(){var r=this.props.isAnimationActive;if(r&&!this.state.isAnimationFinished)return null;var i=this.props,a=i.points,o=i.xAxis,l=i.yAxis,d=i.children,f=Wr(d,Pd);return f?f.map(function(m,p){var v=m.props,b=v.direction,x=v.dataKey;return q.cloneElement(m,{key:"".concat(b,"-").concat(x,"-").concat(a[p]),data:a,xAxis:o,yAxis:l,layout:b==="x"?"vertical":"horizontal",dataPointFormatter:function(w,E){return{x:w.cx,y:w.cy,value:b==="x"?+w.node.x:+w.node.y,errorVal:nr(w,E)}}})}):null}},{key:"renderLine",value:function(){var r=this.props,i=r.points,a=r.line,o=r.lineType,l=r.lineJointType,d=wt(this.props,!1),f=wt(a,!1),m,p;if(o==="joint")m=i.map(function(j){return{x:j.cx,y:j.cy}});else if(o==="fitting"){var v=Qme(i),b=v.xmin,x=v.xmax,y=v.a,w=v.b,E=function(O){return y*O+w};m=[{x:b,y:E(b)},{x,y:E(x)}]}var N=Ri(Ri(Ri({},d),{},{fill:"none",stroke:d&&d.fill},f),{},{points:m});return q.isValidElement(a)?p=q.cloneElement(a,N):_t(a)?p=a(N):p=q.createElement(Nl,gh({},N,{type:l})),q.createElement(Ht,{className:"recharts-scatter-line",key:"recharts-scatter-line"},p)}},{key:"render",value:function(){var r=this.props,i=r.hide,a=r.points,o=r.line,l=r.className,d=r.xAxis,f=r.yAxis,m=r.left,p=r.top,v=r.width,b=r.height,x=r.id,y=r.isAnimationActive;if(i||!a||!a.length)return null;var w=this.state.isAnimationFinished,E=Tt("recharts-scatter",l),N=d&&d.allowDataOverflow,j=f&&f.allowDataOverflow,O=N||j,T=vt(x)?this.id:x;return q.createElement(Ht,{className:E,clipPath:O?"url(#clipPath-".concat(T,")"):null},N||j?q.createElement("defs",null,q.createElement("clipPath",{id:"clipPath-".concat(T)},q.createElement("rect",{x:N?m:m-v/2,y:j?p:p-b/2,width:N?v:v*2,height:j?b:b*2}))):null,o&&this.renderLine(),this.renderErrorBar(),q.createElement(Ht,{key:"recharts-scatter-symbols"},this.renderSymbols()),(!y||w)&&Na.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}}])})(_.PureComponent);oo(V0,"displayName","Scatter");oo(V0,"defaultProps",{xAxisId:0,yAxisId:0,zAxisId:0,legendType:"circle",lineType:"joint",lineJointType:"linear",data:[],shape:"circle",hide:!1,isAnimationActive:!No.isSsr,animationBegin:0,animationDuration:400,animationEasing:"linear"});oo(V0,"getComposedData",function(e){var t=e.xAxis,n=e.yAxis,r=e.zAxis,i=e.item,a=e.displayedData,o=e.xAxisTicks,l=e.yAxisTicks,d=e.offset,f=i.props.tooltipType,m=Wr(i.props.children,E0),p=vt(t.dataKey)?i.props.dataKey:t.dataKey,v=vt(n.dataKey)?i.props.dataKey:n.dataKey,b=r&&r.dataKey,x=r?r.range:F0.defaultProps.range,y=x&&x[0],w=t.scale.bandwidth?t.scale.bandwidth():0,E=n.scale.bandwidth?n.scale.bandwidth():0,N=a.map(function(j,O){var T=nr(j,p),C=nr(j,v),R=!vt(b)&&nr(j,b)||"-",M=[{name:vt(t.dataKey)?i.props.name:t.name||t.dataKey,unit:t.unit||"",value:T,payload:j,dataKey:p,type:f},{name:vt(n.dataKey)?i.props.name:n.name||n.dataKey,unit:n.unit||"",value:C,payload:j,dataKey:v,type:f}];R!=="-"&&M.push({name:r.name||r.dataKey,unit:r.unit||"",value:R,payload:j,dataKey:b,type:f});var k=qu({axis:t,ticks:o,bandSize:w,entry:j,index:O,dataKey:p}),I=qu({axis:n,ticks:l,bandSize:E,entry:j,index:O,dataKey:v}),B=R!=="-"?r.scale(R):y,$=Math.sqrt(Math.max(B,0)/Math.PI);return Ri(Ri({},j),{},{cx:k,cy:I,x:k-$,y:I-$,xAxis:t,yAxis:n,zAxis:r,width:2*$,height:2*$,size:B,node:{x:T,y:C,z:R},tooltipPayload:M,tooltipPosition:{x:k,y:I},payload:j},m&&m[O]&&m[O].props)});return Ri({points:N},d)});function Zu(e){"@babel/helpers - typeof";return Zu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zu(e)}function vAe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yAe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,NG(r.key),r)}}function bAe(e,t,n){return t&&yAe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function xAe(e,t,n){return t=Ay(t),wAe(e,jG()?Reflect.construct(t,n||[],Ay(e).constructor):t.apply(e,n))}function wAe(e,t){if(t&&(Zu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _Ae(e)}function _Ae(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function jG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(jG=function(){return!!e})()}function Ay(e){return Ay=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ay(e)}function SAe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&VN(e,t)}function VN(e,t){return VN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},VN(e,t)}function EG(e,t,n){return t=NG(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function NG(e){var t=jAe(e,"string");return Zu(t)=="symbol"?t:t+""}function jAe(e,t){if(Zu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Zu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function HN(){return HN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},HN.apply(this,arguments)}function EAe(e){var t=e.xAxisId,n=OO(),r=CO(),i=tG(t);return i==null?null:_.createElement(Md,HN({},i,{className:Tt("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(o){return is(o,!0)}}))}var na=(function(e){function t(){return vAe(this,t),xAe(this,t,arguments)}return SAe(t,e),bAe(t,[{key:"render",value:function(){return _.createElement(EAe,this.props)}}])})(_.Component);EG(na,"displayName","XAxis");EG(na,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function ed(e){"@babel/helpers - typeof";return ed=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ed(e)}function NAe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function AAe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,OG(r.key),r)}}function TAe(e,t,n){return t&&AAe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function OAe(e,t,n){return t=Ty(t),CAe(e,AG()?Reflect.construct(t,n||[],Ty(e).constructor):t.apply(e,n))}function CAe(e,t){if(t&&(ed(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return RAe(e)}function RAe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function AG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(AG=function(){return!!e})()}function Ty(e){return Ty=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ty(e)}function PAe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&GN(e,t)}function GN(e,t){return GN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},GN(e,t)}function TG(e,t,n){return t=OG(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function OG(e){var t=MAe(e,"string");return ed(t)=="symbol"?t:t+""}function MAe(e,t){if(ed(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(ed(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function KN(){return KN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},KN.apply(this,arguments)}var kAe=function(t){var n=t.yAxisId,r=OO(),i=CO(),a=nG(n);return a==null?null:_.createElement(Md,KN({},a,{className:Tt("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(l){return is(l,!0)}}))},yo=(function(e){function t(){return NAe(this,t),OAe(this,t,arguments)}return PAe(t,e),TAe(t,[{key:"render",value:function(){return _.createElement(kAe,this.props)}}])})(_.Component);TG(yo,"displayName","YAxis");TG(yo,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function Lq(e){return LAe(e)||$Ae(e)||IAe(e)||DAe()}function DAe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function IAe(e,t){if(e){if(typeof e=="string")return WN(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return WN(e,t)}}function $Ae(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function LAe(e){if(Array.isArray(e))return WN(e)}function WN(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var YN=function(t,n,r,i,a){var o=Wr(t,PO),l=Wr(t,q0),d=[].concat(Lq(o),Lq(l)),f=Wr(t,U0),m="".concat(i,"Id"),p=i[0],v=n;if(d.length&&(v=d.reduce(function(y,w){if(w.props[m]===r&&Aa(w.props,"extendDomain")&&Te(w.props[p])){var E=w.props[p];return[Math.min(y[0],E),Math.max(y[1],E)]}return y},v)),f.length){var b="".concat(p,"1"),x="".concat(p,"2");v=f.reduce(function(y,w){if(w.props[m]===r&&Aa(w.props,"extendDomain")&&Te(w.props[b])&&Te(w.props[x])){var E=w.props[b],N=w.props[x];return[Math.min(y[0],E,N),Math.max(y[1],E,N)]}return y},v)}return a&&a.length&&(v=a.reduce(function(y,w){return Te(w)?[Math.min(y[0],w),Math.max(y[1],w)]:y},v)),v},oj={exports:{}},Bq;function BAe(){return Bq||(Bq=1,(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(d,f,m){this.fn=d,this.context=f,this.once=m||!1}function a(d,f,m,p,v){if(typeof m!="function")throw new TypeError("The listener must be a function");var b=new i(m,p||d,v),x=n?n+f:f;return d._events[x]?d._events[x].fn?d._events[x]=[d._events[x],b]:d._events[x].push(b):(d._events[x]=b,d._eventsCount++),d}function o(d,f){--d._eventsCount===0?d._events=new r:delete d._events[f]}function l(){this._events=new r,this._eventsCount=0}l.prototype.eventNames=function(){var f=[],m,p;if(this._eventsCount===0)return f;for(p in m=this._events)t.call(m,p)&&f.push(n?p.slice(1):p);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(m)):f},l.prototype.listeners=function(f){var m=n?n+f:f,p=this._events[m];if(!p)return[];if(p.fn)return[p.fn];for(var v=0,b=p.length,x=new Array(b);v<b;v++)x[v]=p[v].fn;return x},l.prototype.listenerCount=function(f){var m=n?n+f:f,p=this._events[m];return p?p.fn?1:p.length:0},l.prototype.emit=function(f,m,p,v,b,x){var y=n?n+f:f;if(!this._events[y])return!1;var w=this._events[y],E=arguments.length,N,j;if(w.fn){switch(w.once&&this.removeListener(f,w.fn,void 0,!0),E){case 1:return w.fn.call(w.context),!0;case 2:return w.fn.call(w.context,m),!0;case 3:return w.fn.call(w.context,m,p),!0;case 4:return w.fn.call(w.context,m,p,v),!0;case 5:return w.fn.call(w.context,m,p,v,b),!0;case 6:return w.fn.call(w.context,m,p,v,b,x),!0}for(j=1,N=new Array(E-1);j<E;j++)N[j-1]=arguments[j];w.fn.apply(w.context,N)}else{var O=w.length,T;for(j=0;j<O;j++)switch(w[j].once&&this.removeListener(f,w[j].fn,void 0,!0),E){case 1:w[j].fn.call(w[j].context);break;case 2:w[j].fn.call(w[j].context,m);break;case 3:w[j].fn.call(w[j].context,m,p);break;case 4:w[j].fn.call(w[j].context,m,p,v);break;default:if(!N)for(T=1,N=new Array(E-1);T<E;T++)N[T-1]=arguments[T];w[j].fn.apply(w[j].context,N)}}return!0},l.prototype.on=function(f,m,p){return a(this,f,m,p,!1)},l.prototype.once=function(f,m,p){return a(this,f,m,p,!0)},l.prototype.removeListener=function(f,m,p,v){var b=n?n+f:f;if(!this._events[b])return this;if(!m)return o(this,b),this;var x=this._events[b];if(x.fn)x.fn===m&&(!v||x.once)&&(!p||x.context===p)&&o(this,b);else{for(var y=0,w=[],E=x.length;y<E;y++)(x[y].fn!==m||v&&!x[y].once||p&&x[y].context!==p)&&w.push(x[y]);w.length?this._events[b]=w.length===1?w[0]:w:o(this,b)}return this},l.prototype.removeAllListeners=function(f){var m;return f?(m=n?n+f:f,this._events[m]&&o(this,m)):(this._events=new r,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=n,l.EventEmitter=l,e.exports=l})(oj)),oj.exports}var qAe=BAe();const zAe=nn(qAe);var lj=new zAe,cj="recharts.syncMouseEvents";function ym(e){"@babel/helpers - typeof";return ym=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ym(e)}function UAe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function FAe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,CG(r.key),r)}}function VAe(e,t,n){return t&&FAe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function uj(e,t,n){return t=CG(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function CG(e){var t=HAe(e,"string");return ym(t)=="symbol"?t:t+""}function HAe(e,t){if(ym(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(ym(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var GAe=(function(){function e(){UAe(this,e),uj(this,"activeIndex",0),uj(this,"coordinateList",[]),uj(this,"layout","horizontal")}return VAe(e,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,a=i===void 0?null:i,o=n.container,l=o===void 0?null:o,d=n.layout,f=d===void 0?null:d,m=n.offset,p=m===void 0?null:m,v=n.mouseHandlerCallback,b=v===void 0?null:v;this.coordinateList=(r=a??this.coordinateList)!==null&&r!==void 0?r:[],this.container=l??this.container,this.layout=f??this.layout,this.offset=p??this.offset,this.mouseHandlerCallback=b??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),a=i.x,o=i.y,l=i.height,d=this.coordinateList[this.activeIndex].coordinate,f=((n=window)===null||n===void 0?void 0:n.scrollX)||0,m=((r=window)===null||r===void 0?void 0:r.scrollY)||0,p=a+d+f,v=o+this.offset.top+l/2+m;this.mouseHandlerCallback({pageX:p,pageY:v})}}}])})();function KAe(e,t,n){if(n==="number"&&t===!0&&Array.isArray(e)){var r=e?.[0],i=e?.[1];if(r&&i&&Te(r)&&Te(i))return!0}return!1}function WAe(e,t,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-i,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function RG(e){var t=e.cx,n=e.cy,r=e.radius,i=e.startAngle,a=e.endAngle,o=_r(t,n,r,i),l=_r(t,n,r,a);return{points:[o,l],cx:t,cy:n,radius:r,startAngle:i,endAngle:a}}function YAe(e,t,n){var r,i,a,o;if(e==="horizontal")r=t.x,a=r,i=n.top,o=n.top+n.height;else if(e==="vertical")i=t.y,o=i,r=n.left,a=n.left+n.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var l=t.cx,d=t.cy,f=t.innerRadius,m=t.outerRadius,p=t.angle,v=_r(l,d,f,p),b=_r(l,d,m,p);r=v.x,i=v.y,a=b.x,o=b.y}else return RG(t);return[{x:r,y:i},{x:a,y:o}]}function bm(e){"@babel/helpers - typeof";return bm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bm(e)}function qq(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ug(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?qq(Object(n),!0).forEach(function(r){XAe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qq(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function XAe(e,t,n){return t=QAe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function QAe(e){var t=JAe(e,"string");return bm(t)=="symbol"?t:t+""}function JAe(e,t){if(bm(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(bm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ZAe(e){var t,n,r=e.element,i=e.tooltipEventType,a=e.isActive,o=e.activeCoordinate,l=e.activePayload,d=e.offset,f=e.activeTooltipIndex,m=e.tooltipAxisBandSize,p=e.layout,v=e.chartName,b=(t=r.props.cursor)!==null&&t!==void 0?t:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!b||!a||!o||v!=="ScatterChart"&&i!=="axis")return null;var x,y=Nl;if(v==="ScatterChart")x=o,y=S2e;else if(v==="BarChart")x=WAe(p,o,d,m),y=jO;else if(p==="radial"){var w=RG(o),E=w.cx,N=w.cy,j=w.radius,O=w.startAngle,T=w.endAngle;x={cx:E,cy:N,startAngle:O,endAngle:T,innerRadius:j,outerRadius:j},y=R7}else x={points:YAe(p,o,d)},y=Nl;var C=Ug(Ug(Ug(Ug({stroke:"#ccc",pointerEvents:"none"},d),x),wt(b,!1)),{},{payload:l,payloadIndex:f,className:Tt("recharts-tooltip-cursor",b.className)});return _.isValidElement(b)?_.cloneElement(b,C):_.createElement(y,C)}var eTe=["item"],tTe=["children","className","width","height","style","compact","title","desc"];function td(e){"@babel/helpers - typeof";return td=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},td(e)}function uu(){return uu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},uu.apply(this,arguments)}function zq(e,t){return iTe(e)||rTe(e,t)||MG(e,t)||nTe()}function nTe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rTe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,o,l=[],d=!0,f=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(d=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);d=!0);}catch(m){f=!0,i=m}finally{try{if(!d&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(f)throw i}}return l}}function iTe(e){if(Array.isArray(e))return e}function Uq(e,t){if(e==null)return{};var n=aTe(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function aTe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function sTe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function oTe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,kG(r.key),r)}}function lTe(e,t,n){return t&&oTe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function cTe(e,t,n){return t=Oy(t),uTe(e,PG()?Reflect.construct(t,n||[],Oy(e).constructor):t.apply(e,n))}function uTe(e,t){if(t&&(td(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dTe(e)}function dTe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function PG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(PG=function(){return!!e})()}function Oy(e){return Oy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Oy(e)}function fTe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&XN(e,t)}function XN(e,t){return XN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},XN(e,t)}function nd(e){return pTe(e)||mTe(e)||MG(e)||hTe()}function hTe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function MG(e,t){if(e){if(typeof e=="string")return QN(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return QN(e,t)}}function mTe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function pTe(e){if(Array.isArray(e))return QN(e)}function QN(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Fq(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ye(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Fq(Object(n),!0).forEach(function(r){dt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fq(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function dt(e,t,n){return t=kG(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kG(e){var t=gTe(e,"string");return td(t)=="symbol"?t:t+""}function gTe(e,t){if(td(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(td(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vTe={xAxis:["bottom","top"],yAxis:["left","right"]},yTe={width:"100%",height:"100%"},DG={x:0,y:0};function Fg(e){return e}var bTe=function(t,n){return n==="horizontal"?t.x:n==="vertical"?t.y:n==="centric"?t.angle:t.radius},xTe=function(t,n,r,i){var a=n.find(function(m){return m&&m.index===r});if(a){if(t==="horizontal")return{x:a.coordinate,y:i.y};if(t==="vertical")return{x:i.x,y:a.coordinate};if(t==="centric"){var o=a.coordinate,l=i.radius;return ye(ye(ye({},i),_r(i.cx,i.cy,l,o)),{},{angle:o,radius:l})}var d=a.coordinate,f=i.angle;return ye(ye(ye({},i),_r(i.cx,i.cy,d,f)),{},{angle:f,radius:d})}return DG},H0=function(t,n){var r=n.graphicalItems,i=n.dataStartIndex,a=n.dataEndIndex,o=(r??[]).reduce(function(l,d){var f=d.props.data;return f&&f.length?[].concat(nd(l),nd(f)):l},[]);return o.length>0?o:t&&t.length&&Te(i)&&Te(a)?t.slice(i,a+1):[]};function IG(e){return e==="number"?[0,"auto"]:void 0}var JN=function(t,n,r,i){var a=t.graphicalItems,o=t.tooltipAxis,l=H0(n,t);return r<0||!a||!a.length||r>=l.length?null:a.reduce(function(d,f){var m,p=(m=f.props.data)!==null&&m!==void 0?m:n;p&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=r&&(p=p.slice(t.dataStartIndex,t.dataEndIndex+1));var v;if(o.dataKey&&!o.allowDuplicatedCategory){var b=p===void 0?l:p;v=Pv(b,o.dataKey,i)}else v=p&&p[r]||l[r];return v?[].concat(nd(d),[T7(f,v)]):d},[])},Vq=function(t,n,r,i){var a=i||{x:t.chartX,y:t.chartY},o=bTe(a,r),l=t.orderedTooltipTicks,d=t.tooltipAxis,f=t.tooltipTicks,m=a_e(o,l,f,d);if(m>=0&&f){var p=f[m]&&f[m].value,v=JN(t,n,m,p),b=xTe(r,l,m,a);return{activeTooltipIndex:m,activeLabel:p,activePayload:v,activeCoordinate:b}}return null},wTe=function(t,n){var r=n.axes,i=n.graphicalItems,a=n.axisType,o=n.axisIdKey,l=n.stackGroups,d=n.dataStartIndex,f=n.dataEndIndex,m=t.layout,p=t.children,v=t.stackOffset,b=E7(m,a);return r.reduce(function(x,y){var w,E=y.type.defaultProps!==void 0?ye(ye({},y.type.defaultProps),y.props):y.props,N=E.type,j=E.dataKey,O=E.allowDataOverflow,T=E.allowDuplicatedCategory,C=E.scale,R=E.ticks,M=E.includeHidden,k=E[o];if(x[k])return x;var I=H0(t.data,{graphicalItems:i.filter(function(K){var Z,oe=o in K.props?K.props[o]:(Z=K.type.defaultProps)===null||Z===void 0?void 0:Z[o];return oe===k}),dataStartIndex:d,dataEndIndex:f}),B=I.length,$,F,H;KAe(E.domain,O,N)&&($=fN(E.domain,null,O),b&&(N==="number"||C!=="auto")&&(H=fh(I,j,"category")));var U=IG(N);if(!$||$.length===0){var D,G=(D=E.domain)!==null&&D!==void 0?D:U;if(j){if($=fh(I,j,N),N==="category"&&b){var z=Xme($);T&&z?(F=$,$=hy(0,B)):T||($=QL(G,$,y).reduce(function(K,Z){return K.indexOf(Z)>=0?K:[].concat(nd(K),[Z])},[]))}else if(N==="category")T?$=$.filter(function(K){return K!==""&&!vt(K)}):$=QL(G,$,y).reduce(function(K,Z){return K.indexOf(Z)>=0||Z===""||vt(Z)?K:[].concat(nd(K),[Z])},[]);else if(N==="number"){var X=u_e(I,i.filter(function(K){var Z,oe,be=o in K.props?K.props[o]:(Z=K.type.defaultProps)===null||Z===void 0?void 0:Z[o],ae="hide"in K.props?K.props.hide:(oe=K.type.defaultProps)===null||oe===void 0?void 0:oe.hide;return be===k&&(M||!ae)}),j,a,m);X&&($=X)}b&&(N==="number"||C!=="auto")&&(H=fh(I,j,"category"))}else b?$=hy(0,B):l&&l[k]&&l[k].hasStack&&N==="number"?$=v==="expand"?[0,1]:A7(l[k].stackGroups,d,f):$=j7(I,i.filter(function(K){var Z=o in K.props?K.props[o]:K.type.defaultProps[o],oe="hide"in K.props?K.props.hide:K.type.defaultProps.hide;return Z===k&&(M||!oe)}),N,m,!0);if(N==="number")$=YN(p,$,k,a,R),G&&($=fN(G,$,O));else if(N==="category"&&G){var ue=G,V=$.every(function(K){return ue.indexOf(K)>=0});V&&($=ue)}}return ye(ye({},x),{},dt({},k,ye(ye({},E),{},{axisType:a,domain:$,categoricalDomain:H,duplicateDomain:F,originalDomain:(w=E.domain)!==null&&w!==void 0?w:U,isCategorical:b,layout:m})))},{})},_Te=function(t,n){var r=n.graphicalItems,i=n.Axis,a=n.axisType,o=n.axisIdKey,l=n.stackGroups,d=n.dataStartIndex,f=n.dataEndIndex,m=t.layout,p=t.children,v=H0(t.data,{graphicalItems:r,dataStartIndex:d,dataEndIndex:f}),b=v.length,x=E7(m,a),y=-1;return r.reduce(function(w,E){var N=E.type.defaultProps!==void 0?ye(ye({},E.type.defaultProps),E.props):E.props,j=N[o],O=IG("number");if(!w[j]){y++;var T;return x?T=hy(0,b):l&&l[j]&&l[j].hasStack?(T=A7(l[j].stackGroups,d,f),T=YN(p,T,j,a)):(T=fN(O,j7(v,r.filter(function(C){var R,M,k=o in C.props?C.props[o]:(R=C.type.defaultProps)===null||R===void 0?void 0:R[o],I="hide"in C.props?C.props.hide:(M=C.type.defaultProps)===null||M===void 0?void 0:M.hide;return k===j&&!I}),"number",m),i.defaultProps.allowDataOverflow),T=YN(p,T,j,a)),ye(ye({},w),{},dt({},j,ye(ye({axisType:a},i.defaultProps),{},{hide:!0,orientation:Li(vTe,"".concat(a,".").concat(y%2),null),domain:T,originalDomain:O,isCategorical:x,layout:m})))}return w},{})},STe=function(t,n){var r=n.axisType,i=r===void 0?"xAxis":r,a=n.AxisComp,o=n.graphicalItems,l=n.stackGroups,d=n.dataStartIndex,f=n.dataEndIndex,m=t.children,p="".concat(i,"Id"),v=Wr(m,a),b={};return v&&v.length?b=wTe(t,{axes:v,graphicalItems:o,axisType:i,axisIdKey:p,stackGroups:l,dataStartIndex:d,dataEndIndex:f}):o&&o.length&&(b=_Te(t,{Axis:a,graphicalItems:o,axisType:i,axisIdKey:p,stackGroups:l,dataStartIndex:d,dataEndIndex:f})),b},jTe=function(t){var n=no(t),r=is(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:QT(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:iy(n,r)}},Hq=function(t){var n=t.children,r=t.defaultShowTooltip,i=oi(n,Fu),a=0,o=0;return t.data&&t.data.length!==0&&(o=t.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(a=i.props.startIndex),i.props.endIndex>=0&&(o=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!r}},ETe=function(t){return!t||!t.length?!1:t.some(function(n){var r=os(n&&n.type);return r&&r.indexOf("Bar")>=0})},Gq=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},NTe=function(t,n){var r=t.props,i=t.graphicalItems,a=t.xAxisMap,o=a===void 0?{}:a,l=t.yAxisMap,d=l===void 0?{}:l,f=r.width,m=r.height,p=r.children,v=r.margin||{},b=oi(p,Fu),x=oi(p,wu),y=Object.keys(d).reduce(function(T,C){var R=d[C],M=R.orientation;return!R.mirror&&!R.hide?ye(ye({},T),{},dt({},M,T[M]+R.width)):T},{left:v.left||0,right:v.right||0}),w=Object.keys(o).reduce(function(T,C){var R=o[C],M=R.orientation;return!R.mirror&&!R.hide?ye(ye({},T),{},dt({},M,Li(T,"".concat(M))+R.height)):T},{top:v.top||0,bottom:v.bottom||0}),E=ye(ye({},w),y),N=E.bottom;b&&(E.bottom+=b.props.height||Fu.defaultProps.height),x&&n&&(E=l_e(E,i,r,n));var j=f-E.left-E.right,O=m-E.top-E.bottom;return ye(ye({brushBottom:N},E),{},{width:Math.max(j,0),height:Math.max(O,0)})},ATe=function(t,n){if(n==="xAxis")return t[n].width;if(n==="yAxis")return t[n].height},DO=function(t){var n=t.chartName,r=t.GraphicalChild,i=t.defaultTooltipEventType,a=i===void 0?"axis":i,o=t.validateTooltipEventTypes,l=o===void 0?["axis"]:o,d=t.axisComponents,f=t.legendContent,m=t.formatAxisMap,p=t.defaultProps,v=function(E,N){var j=N.graphicalItems,O=N.stackGroups,T=N.offset,C=N.updateId,R=N.dataStartIndex,M=N.dataEndIndex,k=E.barSize,I=E.layout,B=E.barGap,$=E.barCategoryGap,F=E.maxBarSize,H=Gq(I),U=H.numericAxisName,D=H.cateAxisName,G=ETe(j),z=[];return j.forEach(function(X,ue){var V=H0(E.data,{graphicalItems:[X],dataStartIndex:R,dataEndIndex:M}),K=X.type.defaultProps!==void 0?ye(ye({},X.type.defaultProps),X.props):X.props,Z=K.dataKey,oe=K.maxBarSize,be=K["".concat(U,"Id")],ae=K["".concat(D,"Id")],J={},he=d.reduce(function(Qe,st){var Bt=N["".concat(st.axisType,"Map")],It=K["".concat(st.axisType,"Id")];Bt&&Bt[It]||st.axisType==="zAxis"||$l();var En=Bt[It];return ye(ye({},Qe),{},dt(dt({},st.axisType,En),"".concat(st.axisType,"Ticks"),is(En)))},J),se=he[D],pe=he["".concat(D,"Ticks")],xe=O&&O[be]&&O[be].hasStack&&__e(X,O[be].stackGroups),ee=os(X.type).indexOf("Bar")>=0,$e=iy(se,pe),ge=[],He=G&&s_e({barSize:k,stackGroups:O,totalSize:ATe(he,D)});if(ee){var te,re,Me=vt(oe)?F:oe,ut=(te=(re=iy(se,pe,!0))!==null&&re!==void 0?re:Me)!==null&&te!==void 0?te:0;ge=o_e({barGap:B,barCategoryGap:$,bandSize:ut!==$e?ut:$e,sizeList:He[ae],maxBarSize:Me}),ut!==$e&&(ge=ge.map(function(Qe){return ye(ye({},Qe),{},{position:ye(ye({},Qe.position),{},{offset:Qe.position.offset-ut/2})})}))}var ke=X&&X.type&&X.type.getComposedData;ke&&z.push({props:ye(ye({},ke(ye(ye({},he),{},{displayedData:V,props:E,dataKey:Z,item:X,bandSize:$e,barPosition:ge,offset:T,stackedData:xe,layout:I,dataStartIndex:R,dataEndIndex:M}))),{},dt(dt(dt({key:X.key||"item-".concat(ue)},U,he[U]),D,he[D]),"animationId",C)),childIndex:cpe(X,E.children),item:X})}),z},b=function(E,N){var j=E.props,O=E.dataStartIndex,T=E.dataEndIndex,C=E.updateId;if(!f$({props:j}))return null;var R=j.children,M=j.layout,k=j.stackOffset,I=j.data,B=j.reverseStackOrder,$=Gq(M),F=$.numericAxisName,H=$.cateAxisName,U=Wr(R,r),D=b_e(I,U,"".concat(F,"Id"),"".concat(H,"Id"),k,B),G=d.reduce(function(K,Z){var oe="".concat(Z.axisType,"Map");return ye(ye({},K),{},dt({},oe,STe(j,ye(ye({},Z),{},{graphicalItems:U,stackGroups:Z.axisType===F&&D,dataStartIndex:O,dataEndIndex:T}))))},{}),z=NTe(ye(ye({},G),{},{props:j,graphicalItems:U}),N?.legendBBox);Object.keys(G).forEach(function(K){G[K]=m(j,G[K],z,K.replace("Map",""),n)});var X=G["".concat(H,"Map")],ue=jTe(X),V=v(j,ye(ye({},G),{},{dataStartIndex:O,dataEndIndex:T,updateId:C,graphicalItems:U,stackGroups:D,offset:z}));return ye(ye({formattedGraphicalItems:V,graphicalItems:U,offset:z,stackGroups:D},ue),G)},x=(function(w){function E(N){var j,O,T;return sTe(this,E),T=cTe(this,E,[N]),dt(T,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),dt(T,"accessibilityManager",new GAe),dt(T,"handleLegendBBoxUpdate",function(C){if(C){var R=T.state,M=R.dataStartIndex,k=R.dataEndIndex,I=R.updateId;T.setState(ye({legendBBox:C},b({props:T.props,dataStartIndex:M,dataEndIndex:k,updateId:I},ye(ye({},T.state),{},{legendBBox:C}))))}}),dt(T,"handleReceiveSyncEvent",function(C,R,M){if(T.props.syncId===C){if(M===T.eventEmitterSymbol&&typeof T.props.syncMethod!="function")return;T.applySyncEvent(R)}}),dt(T,"handleBrushChange",function(C){var R=C.startIndex,M=C.endIndex;if(R!==T.state.dataStartIndex||M!==T.state.dataEndIndex){var k=T.state.updateId;T.setState(function(){return ye({dataStartIndex:R,dataEndIndex:M},b({props:T.props,dataStartIndex:R,dataEndIndex:M,updateId:k},T.state))}),T.triggerSyncEvent({dataStartIndex:R,dataEndIndex:M})}}),dt(T,"handleMouseEnter",function(C){var R=T.getMouseInfo(C);if(R){var M=ye(ye({},R),{},{isTooltipActive:!0});T.setState(M),T.triggerSyncEvent(M);var k=T.props.onMouseEnter;_t(k)&&k(M,C)}}),dt(T,"triggeredAfterMouseMove",function(C){var R=T.getMouseInfo(C),M=R?ye(ye({},R),{},{isTooltipActive:!0}):{isTooltipActive:!1};T.setState(M),T.triggerSyncEvent(M);var k=T.props.onMouseMove;_t(k)&&k(M,C)}),dt(T,"handleItemMouseEnter",function(C){T.setState(function(){return{isTooltipActive:!0,activeItem:C,activePayload:C.tooltipPayload,activeCoordinate:C.tooltipPosition||{x:C.cx,y:C.cy}}})}),dt(T,"handleItemMouseLeave",function(){T.setState(function(){return{isTooltipActive:!1}})}),dt(T,"handleMouseMove",function(C){C.persist(),T.throttleTriggeredAfterMouseMove(C)}),dt(T,"handleMouseLeave",function(C){T.throttleTriggeredAfterMouseMove.cancel();var R={isTooltipActive:!1};T.setState(R),T.triggerSyncEvent(R);var M=T.props.onMouseLeave;_t(M)&&M(R,C)}),dt(T,"handleOuterEvent",function(C){var R=lpe(C),M=Li(T.props,"".concat(R));if(R&&_t(M)){var k,I;/.*touch.*/i.test(R)?I=T.getMouseInfo(C.changedTouches[0]):I=T.getMouseInfo(C),M((k=I)!==null&&k!==void 0?k:{},C)}}),dt(T,"handleClick",function(C){var R=T.getMouseInfo(C);if(R){var M=ye(ye({},R),{},{isTooltipActive:!0});T.setState(M),T.triggerSyncEvent(M);var k=T.props.onClick;_t(k)&&k(M,C)}}),dt(T,"handleMouseDown",function(C){var R=T.props.onMouseDown;if(_t(R)){var M=T.getMouseInfo(C);R(M,C)}}),dt(T,"handleMouseUp",function(C){var R=T.props.onMouseUp;if(_t(R)){var M=T.getMouseInfo(C);R(M,C)}}),dt(T,"handleTouchMove",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&T.throttleTriggeredAfterMouseMove(C.changedTouches[0])}),dt(T,"handleTouchStart",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&T.handleMouseDown(C.changedTouches[0])}),dt(T,"handleTouchEnd",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&T.handleMouseUp(C.changedTouches[0])}),dt(T,"handleDoubleClick",function(C){var R=T.props.onDoubleClick;if(_t(R)){var M=T.getMouseInfo(C);R(M,C)}}),dt(T,"handleContextMenu",function(C){var R=T.props.onContextMenu;if(_t(R)){var M=T.getMouseInfo(C);R(M,C)}}),dt(T,"triggerSyncEvent",function(C){T.props.syncId!==void 0&&lj.emit(cj,T.props.syncId,C,T.eventEmitterSymbol)}),dt(T,"applySyncEvent",function(C){var R=T.props,M=R.layout,k=R.syncMethod,I=T.state.updateId,B=C.dataStartIndex,$=C.dataEndIndex;if(C.dataStartIndex!==void 0||C.dataEndIndex!==void 0)T.setState(ye({dataStartIndex:B,dataEndIndex:$},b({props:T.props,dataStartIndex:B,dataEndIndex:$,updateId:I},T.state)));else if(C.activeTooltipIndex!==void 0){var F=C.chartX,H=C.chartY,U=C.activeTooltipIndex,D=T.state,G=D.offset,z=D.tooltipTicks;if(!G)return;if(typeof k=="function")U=k(z,C);else if(k==="value"){U=-1;for(var X=0;X<z.length;X++)if(z[X].value===C.activeLabel){U=X;break}}var ue=ye(ye({},G),{},{x:G.left,y:G.top}),V=Math.min(F,ue.x+ue.width),K=Math.min(H,ue.y+ue.height),Z=z[U]&&z[U].value,oe=JN(T.state,T.props.data,U),be=z[U]?{x:M==="horizontal"?z[U].coordinate:V,y:M==="horizontal"?K:z[U].coordinate}:DG;T.setState(ye(ye({},C),{},{activeLabel:Z,activeCoordinate:be,activePayload:oe,activeTooltipIndex:U}))}else T.setState(C)}),dt(T,"renderCursor",function(C){var R,M=T.state,k=M.isTooltipActive,I=M.activeCoordinate,B=M.activePayload,$=M.offset,F=M.activeTooltipIndex,H=M.tooltipAxisBandSize,U=T.getTooltipEventType(),D=(R=C.props.active)!==null&&R!==void 0?R:k,G=T.props.layout,z=C.key||"_recharts-cursor";return q.createElement(ZAe,{key:z,activeCoordinate:I,activePayload:B,activeTooltipIndex:F,chartName:n,element:C,isActive:D,layout:G,offset:$,tooltipAxisBandSize:H,tooltipEventType:U})}),dt(T,"renderPolarAxis",function(C,R,M){var k=Li(C,"type.axisType"),I=Li(T.state,"".concat(k,"Map")),B=C.type.defaultProps,$=B!==void 0?ye(ye({},B),C.props):C.props,F=I&&I[$["".concat(k,"Id")]];return _.cloneElement(C,ye(ye({},F),{},{className:Tt(k,F.className),key:C.key||"".concat(R,"-").concat(M),ticks:is(F,!0)}))}),dt(T,"renderPolarGrid",function(C){var R=C.props,M=R.radialLines,k=R.polarAngles,I=R.polarRadius,B=T.state,$=B.radiusAxisMap,F=B.angleAxisMap,H=no($),U=no(F),D=U.cx,G=U.cy,z=U.innerRadius,X=U.outerRadius;return _.cloneElement(C,{polarAngles:Array.isArray(k)?k:is(U,!0).map(function(ue){return ue.coordinate}),polarRadius:Array.isArray(I)?I:is(H,!0).map(function(ue){return ue.coordinate}),cx:D,cy:G,innerRadius:z,outerRadius:X,key:C.key||"polar-grid",radialLines:M})}),dt(T,"renderLegend",function(){var C=T.state.formattedGraphicalItems,R=T.props,M=R.children,k=R.width,I=R.height,B=T.props.margin||{},$=k-(B.left||0)-(B.right||0),F=_7({children:M,formattedGraphicalItems:C,legendWidth:$,legendContent:f});if(!F)return null;var H=F.item,U=Uq(F,eTe);return _.cloneElement(H,ye(ye({},U),{},{chartWidth:k,chartHeight:I,margin:B,onBBoxUpdate:T.handleLegendBBoxUpdate}))}),dt(T,"renderTooltip",function(){var C,R=T.props,M=R.children,k=R.accessibilityLayer,I=oi(M,kr);if(!I)return null;var B=T.state,$=B.isTooltipActive,F=B.activeCoordinate,H=B.activePayload,U=B.activeLabel,D=B.offset,G=(C=I.props.active)!==null&&C!==void 0?C:$;return _.cloneElement(I,{viewBox:ye(ye({},D),{},{x:D.left,y:D.top}),active:G,label:U,payload:G?H:[],coordinate:F,accessibilityLayer:k})}),dt(T,"renderBrush",function(C){var R=T.props,M=R.margin,k=R.data,I=T.state,B=I.offset,$=I.dataStartIndex,F=I.dataEndIndex,H=I.updateId;return _.cloneElement(C,{key:C.key||"_recharts-brush",onChange:Lg(T.handleBrushChange,C.props.onChange),data:k,x:Te(C.props.x)?C.props.x:B.left,y:Te(C.props.y)?C.props.y:B.top+B.height+B.brushBottom-(M.bottom||0),width:Te(C.props.width)?C.props.width:B.width,startIndex:$,endIndex:F,updateId:"brush-".concat(H)})}),dt(T,"renderReferenceElement",function(C,R,M){if(!C)return null;var k=T,I=k.clipPathId,B=T.state,$=B.xAxisMap,F=B.yAxisMap,H=B.offset,U=C.type.defaultProps||{},D=C.props,G=D.xAxisId,z=G===void 0?U.xAxisId:G,X=D.yAxisId,ue=X===void 0?U.yAxisId:X;return _.cloneElement(C,{key:C.key||"".concat(R,"-").concat(M),xAxis:$[z],yAxis:F[ue],viewBox:{x:H.left,y:H.top,width:H.width,height:H.height},clipPathId:I})}),dt(T,"renderActivePoints",function(C){var R=C.item,M=C.activePoint,k=C.basePoint,I=C.childIndex,B=C.isRange,$=[],F=R.props.key,H=R.item.type.defaultProps!==void 0?ye(ye({},R.item.type.defaultProps),R.item.props):R.item.props,U=H.activeDot,D=H.dataKey,G=ye(ye({index:I,dataKey:D,cx:M.x,cy:M.y,r:4,fill:SO(R.item),strokeWidth:2,stroke:"#fff",payload:M.payload,value:M.value},wt(U,!1)),Mv(U));return $.push(E.renderActiveDot(U,G,"".concat(F,"-activePoint-").concat(I))),k?$.push(E.renderActiveDot(U,ye(ye({},G),{},{cx:k.x,cy:k.y}),"".concat(F,"-basePoint-").concat(I))):B&&$.push(null),$}),dt(T,"renderGraphicChild",function(C,R,M){var k=T.filterFormatItem(C,R,M);if(!k)return null;var I=T.getTooltipEventType(),B=T.state,$=B.isTooltipActive,F=B.tooltipAxis,H=B.activeTooltipIndex,U=B.activeLabel,D=T.props.children,G=oi(D,kr),z=k.props,X=z.points,ue=z.isRange,V=z.baseLine,K=k.item.type.defaultProps!==void 0?ye(ye({},k.item.type.defaultProps),k.item.props):k.item.props,Z=K.activeDot,oe=K.hide,be=K.activeBar,ae=K.activeShape,J=!!(!oe&&$&&G&&(Z||be||ae)),he={};I!=="axis"&&G&&G.props.trigger==="click"?he={onClick:Lg(T.handleItemMouseEnter,C.props.onClick)}:I!=="axis"&&(he={onMouseLeave:Lg(T.handleItemMouseLeave,C.props.onMouseLeave),onMouseEnter:Lg(T.handleItemMouseEnter,C.props.onMouseEnter)});var se=_.cloneElement(C,ye(ye({},k.props),he));function pe(st){return typeof F.dataKey=="function"?F.dataKey(st.payload):null}if(J)if(H>=0){var xe,ee;if(F.dataKey&&!F.allowDuplicatedCategory){var $e=typeof F.dataKey=="function"?pe:"payload.".concat(F.dataKey.toString());xe=Pv(X,$e,U),ee=ue&&V&&Pv(V,$e,U)}else xe=X?.[H],ee=ue&&V&&V[H];if(ae||be){var ge=C.props.activeIndex!==void 0?C.props.activeIndex:H;return[_.cloneElement(C,ye(ye(ye({},k.props),he),{},{activeIndex:ge})),null,null]}if(!vt(xe))return[se].concat(nd(T.renderActivePoints({item:k,activePoint:xe,basePoint:ee,childIndex:H,isRange:ue})))}else{var He,te=(He=T.getItemByXY(T.state.activeCoordinate))!==null&&He!==void 0?He:{graphicalItem:se},re=te.graphicalItem,Me=re.item,ut=Me===void 0?C:Me,ke=re.childIndex,Qe=ye(ye(ye({},k.props),he),{},{activeIndex:ke});return[_.cloneElement(ut,Qe),null,null]}return ue?[se,null,null]:[se,null]}),dt(T,"renderCustomized",function(C,R,M){return _.cloneElement(C,ye(ye({key:"recharts-customized-".concat(M)},T.props),T.state))}),dt(T,"renderMap",{CartesianGrid:{handler:Fg,once:!0},ReferenceArea:{handler:T.renderReferenceElement},ReferenceLine:{handler:Fg},ReferenceDot:{handler:T.renderReferenceElement},XAxis:{handler:Fg},YAxis:{handler:Fg},Brush:{handler:T.renderBrush,once:!0},Bar:{handler:T.renderGraphicChild},Line:{handler:T.renderGraphicChild},Area:{handler:T.renderGraphicChild},Radar:{handler:T.renderGraphicChild},RadialBar:{handler:T.renderGraphicChild},Scatter:{handler:T.renderGraphicChild},Pie:{handler:T.renderGraphicChild},Funnel:{handler:T.renderGraphicChild},Tooltip:{handler:T.renderCursor,once:!0},PolarGrid:{handler:T.renderPolarGrid,once:!0},PolarAngleAxis:{handler:T.renderPolarAxis},PolarRadiusAxis:{handler:T.renderPolarAxis},Customized:{handler:T.renderCustomized}}),T.clipPathId="".concat((j=N.id)!==null&&j!==void 0?j:Fl("recharts"),"-clip"),T.throttleTriggeredAfterMouseMove=_H(T.triggeredAfterMouseMove,(O=N.throttleDelay)!==null&&O!==void 0?O:1e3/60),T.state={},T}return fTe(E,w),lTe(E,[{key:"componentDidMount",value:function(){var j,O;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(j=this.props.margin.left)!==null&&j!==void 0?j:0,top:(O=this.props.margin.top)!==null&&O!==void 0?O:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var j=this.props,O=j.children,T=j.data,C=j.height,R=j.layout,M=oi(O,kr);if(M){var k=M.props.defaultIndex;if(!(typeof k!="number"||k<0||k>this.state.tooltipTicks.length-1)){var I=this.state.tooltipTicks[k]&&this.state.tooltipTicks[k].value,B=JN(this.state,T,k,I),$=this.state.tooltipTicks[k].coordinate,F=(this.state.offset.top+C)/2,H=R==="horizontal",U=H?{x:$,y:F}:{y:$,x:F},D=this.state.formattedGraphicalItems.find(function(z){var X=z.item;return X.type.name==="Scatter"});D&&(U=ye(ye({},U),D.props.points[k].tooltipPosition),B=D.props.points[k].tooltipPayload);var G={activeTooltipIndex:k,isTooltipActive:!0,activeLabel:I,activePayload:B,activeCoordinate:U};this.setState(G),this.renderCursor(M),this.accessibilityManager.setIndex(k)}}}},{key:"getSnapshotBeforeUpdate",value:function(j,O){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==O.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==j.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==j.margin){var T,C;this.accessibilityManager.setDetails({offset:{left:(T=this.props.margin.left)!==null&&T!==void 0?T:0,top:(C=this.props.margin.top)!==null&&C!==void 0?C:0}})}return null}},{key:"componentDidUpdate",value:function(j){kE([oi(j.children,kr)],[oi(this.props.children,kr)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var j=oi(this.props.children,kr);if(j&&typeof j.props.shared=="boolean"){var O=j.props.shared?"axis":"item";return l.indexOf(O)>=0?O:a}return a}},{key:"getMouseInfo",value:function(j){if(!this.container)return null;var O=this.container,T=O.getBoundingClientRect(),C=Yye(T),R={chartX:Math.round(j.pageX-C.left),chartY:Math.round(j.pageY-C.top)},M=T.width/O.offsetWidth||1,k=this.inRange(R.chartX,R.chartY,M);if(!k)return null;var I=this.state,B=I.xAxisMap,$=I.yAxisMap,F=this.getTooltipEventType(),H=Vq(this.state,this.props.data,this.props.layout,k);if(F!=="axis"&&B&&$){var U=no(B).scale,D=no($).scale,G=U&&U.invert?U.invert(R.chartX):null,z=D&&D.invert?D.invert(R.chartY):null;return ye(ye({},R),{},{xValue:G,yValue:z},H)}return H?ye(ye({},R),H):null}},{key:"inRange",value:function(j,O){var T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,C=this.props.layout,R=j/T,M=O/T;if(C==="horizontal"||C==="vertical"){var k=this.state.offset,I=R>=k.left&&R<=k.left+k.width&&M>=k.top&&M<=k.top+k.height;return I?{x:R,y:M}:null}var B=this.state,$=B.angleAxisMap,F=B.radiusAxisMap;if($&&F){var H=no($);return eB({x:R,y:M},H)}return null}},{key:"parseEventsOfWrapper",value:function(){var j=this.props.children,O=this.getTooltipEventType(),T=oi(j,kr),C={};T&&O==="axis"&&(T.props.trigger==="click"?C={onClick:this.handleClick}:C={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var R=Mv(this.props,this.handleOuterEvent);return ye(ye({},R),C)}},{key:"addListener",value:function(){lj.on(cj,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){lj.removeListener(cj,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(j,O,T){for(var C=this.state.formattedGraphicalItems,R=0,M=C.length;R<M;R++){var k=C[R];if(k.item===j||k.props.key===j.key||O===os(k.item.type)&&T===k.childIndex)return k}return null}},{key:"renderClipPath",value:function(){var j=this.clipPathId,O=this.state.offset,T=O.left,C=O.top,R=O.height,M=O.width;return q.createElement("defs",null,q.createElement("clipPath",{id:j},q.createElement("rect",{x:T,y:C,height:R,width:M})))}},{key:"getXScales",value:function(){var j=this.state.xAxisMap;return j?Object.entries(j).reduce(function(O,T){var C=zq(T,2),R=C[0],M=C[1];return ye(ye({},O),{},dt({},R,M.scale))},{}):null}},{key:"getYScales",value:function(){var j=this.state.yAxisMap;return j?Object.entries(j).reduce(function(O,T){var C=zq(T,2),R=C[0],M=C[1];return ye(ye({},O),{},dt({},R,M.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(j){var O;return(O=this.state.xAxisMap)===null||O===void 0||(O=O[j])===null||O===void 0?void 0:O.scale}},{key:"getYScaleByAxisId",value:function(j){var O;return(O=this.state.yAxisMap)===null||O===void 0||(O=O[j])===null||O===void 0?void 0:O.scale}},{key:"getItemByXY",value:function(j){var O=this.state,T=O.formattedGraphicalItems,C=O.activeItem;if(T&&T.length)for(var R=0,M=T.length;R<M;R++){var k=T[R],I=k.props,B=k.item,$=B.type.defaultProps!==void 0?ye(ye({},B.type.defaultProps),B.props):B.props,F=os(B.type);if(F==="Bar"){var H=(I.data||[]).find(function(z){return h2e(j,z)});if(H)return{graphicalItem:k,payload:H}}else if(F==="RadialBar"){var U=(I.data||[]).find(function(z){return eB(j,z)});if(U)return{graphicalItem:k,payload:U}}else if(I0(k,C)||$0(k,C)||hm(k,C)){var D=nje({graphicalItem:k,activeTooltipItem:C,itemData:$.data}),G=$.activeIndex===void 0?D:$.activeIndex;return{graphicalItem:ye(ye({},k),{},{childIndex:G}),payload:hm(k,C)?$.data[D]:k.props.data[D]}}}return null}},{key:"render",value:function(){var j=this;if(!f$(this))return null;var O=this.props,T=O.children,C=O.className,R=O.width,M=O.height,k=O.style,I=O.compact,B=O.title,$=O.desc,F=Uq(O,tTe),H=wt(F,!1);if(I)return q.createElement(yq,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},q.createElement(IE,uu({},H,{width:R,height:M,title:B,desc:$}),this.renderClipPath(),m$(T,this.renderMap)));if(this.props.accessibilityLayer){var U,D;H.tabIndex=(U=this.props.tabIndex)!==null&&U!==void 0?U:0,H.role=(D=this.props.role)!==null&&D!==void 0?D:"application",H.onKeyDown=function(z){j.accessibilityManager.keyboardEvent(z)},H.onFocus=function(){j.accessibilityManager.focus()}}var G=this.parseEventsOfWrapper();return q.createElement(yq,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},q.createElement("div",uu({className:Tt("recharts-wrapper",C),style:ye({position:"relative",cursor:"default",width:R,height:M},k)},G,{ref:function(X){j.container=X}}),q.createElement(IE,uu({},H,{width:R,height:M,title:B,desc:$,style:yTe}),this.renderClipPath(),m$(T,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])})(_.Component);dt(x,"displayName",n),dt(x,"defaultProps",ye({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},p)),dt(x,"getDerivedStateFromProps",function(w,E){var N=w.dataKey,j=w.data,O=w.children,T=w.width,C=w.height,R=w.layout,M=w.stackOffset,k=w.margin,I=E.dataStartIndex,B=E.dataEndIndex;if(E.updateId===void 0){var $=Hq(w);return ye(ye(ye({},$),{},{updateId:0},b(ye(ye({props:w},$),{},{updateId:0}),E)),{},{prevDataKey:N,prevData:j,prevWidth:T,prevHeight:C,prevLayout:R,prevStackOffset:M,prevMargin:k,prevChildren:O})}if(N!==E.prevDataKey||j!==E.prevData||T!==E.prevWidth||C!==E.prevHeight||R!==E.prevLayout||M!==E.prevStackOffset||!xu(k,E.prevMargin)){var F=Hq(w),H={chartX:E.chartX,chartY:E.chartY,isTooltipActive:E.isTooltipActive},U=ye(ye({},Vq(E,j,R)),{},{updateId:E.updateId+1}),D=ye(ye(ye({},F),H),U);return ye(ye(ye({},D),b(ye({props:w},D),E)),{},{prevDataKey:N,prevData:j,prevWidth:T,prevHeight:C,prevLayout:R,prevStackOffset:M,prevMargin:k,prevChildren:O})}if(!kE(O,E.prevChildren)){var G,z,X,ue,V=oi(O,Fu),K=V&&(G=(z=V.props)===null||z===void 0?void 0:z.startIndex)!==null&&G!==void 0?G:I,Z=V&&(X=(ue=V.props)===null||ue===void 0?void 0:ue.endIndex)!==null&&X!==void 0?X:B,oe=K!==I||Z!==B,be=!vt(j),ae=be&&!oe?E.updateId:E.updateId+1;return ye(ye({updateId:ae},b(ye(ye({props:w},E),{},{updateId:ae,dataStartIndex:K,dataEndIndex:Z}),E)),{},{prevChildren:O,dataStartIndex:K,dataEndIndex:Z})}return null}),dt(x,"renderActiveDot",function(w,E,N){var j;return _.isValidElement(w)?j=_.cloneElement(w,E):_t(w)?j=w(E):j=q.createElement(D0,E),q.createElement(Ht,{className:"recharts-active-dot",key:N},j)});var y=_.forwardRef(function(E,N){return q.createElement(x,uu({},E,{ref:N}))});return y.displayName=x.displayName,y},TTe=DO({chartName:"LineChart",GraphicalChild:uo,axisComponents:[{axisType:"xAxis",AxisComp:na},{axisType:"yAxis",AxisComp:yo}],formatAxisMap:EO}),av=DO({chartName:"BarChart",GraphicalChild:fi,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:na},{axisType:"yAxis",AxisComp:yo}],formatAxisMap:EO}),OTe=DO({chartName:"ComposedChart",GraphicalChild:[uo,Kl,fi,V0],axisComponents:[{axisType:"xAxis",AxisComp:na},{axisType:"yAxis",AxisComp:yo},{axisType:"zAxis",AxisComp:F0}],formatAxisMap:EO});function $r(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function bo(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function CTe(e,t){const n=$r(e);return isNaN(t)?bo(e,NaN):(t&&n.setDate(n.getDate()+t),n)}const $G=6048e5,RTe=864e5;let PTe={};function G0(){return PTe}function Bl(e,t){const n=G0(),r=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,i=$r(e),a=i.getDay(),o=(a<r?7:0)+a-r;return i.setDate(i.getDate()-o),i.setHours(0,0,0,0),i}function Cy(e){return Bl(e,{weekStartsOn:1})}function LG(e){const t=$r(e),n=t.getFullYear(),r=bo(e,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const i=Cy(r),a=bo(e,0);a.setFullYear(n,0,4),a.setHours(0,0,0,0);const o=Cy(a);return t.getTime()>=i.getTime()?n+1:t.getTime()>=o.getTime()?n:n-1}function ZN(e){const t=$r(e);return t.setHours(0,0,0,0),t}function Kq(e){const t=$r(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function MTe(e,t){const n=ZN(e),r=ZN(t),i=+n-Kq(n),a=+r-Kq(r);return Math.round((i-a)/RTe)}function kTe(e){const t=LG(e),n=bo(e,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),Cy(n)}function DTe(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function ITe(e){if(!DTe(e)&&typeof e!="number")return!1;const t=$r(e);return!isNaN(Number(t))}function $Te(e){const t=$r(e);return t.setHours(23,59,59,999),t}function LTe(e){const t=$r(e),n=bo(e,0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}const BTe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},qTe=(e,t,n)=>{let r;const i=BTe[e];return typeof i=="string"?r=i:t===1?r=i.one:r=i.other.replace("{{count}}",t.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function ju(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const zTe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},UTe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},FTe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},VTe={date:ju({formats:zTe,defaultWidth:"full"}),time:ju({formats:UTe,defaultWidth:"full"}),dateTime:ju({formats:FTe,defaultWidth:"full"})},HTe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},GTe=(e,t,n,r)=>HTe[e];function ga(e){return(t,n)=>{const r=n?.context?String(n.context):"standalone";let i;if(r==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=n?.width?String(n.width):o;i=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=n?.width?String(n.width):e.defaultWidth;i=e.values[l]||e.values[o]}const a=e.argumentCallback?e.argumentCallback(t):t;return i[a]}}const KTe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},WTe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},YTe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},XTe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},QTe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},JTe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},ZTe=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},eOe={ordinalNumber:ZTe,era:ga({values:KTe,defaultWidth:"wide"}),quarter:ga({values:WTe,defaultWidth:"wide",argumentCallback:e=>e-1}),month:ga({values:YTe,defaultWidth:"wide"}),day:ga({values:XTe,defaultWidth:"wide"}),dayPeriod:ga({values:QTe,defaultWidth:"wide",formattingValues:JTe,defaultFormattingWidth:"wide"})};function va(e){return(t,n={})=>{const r=n.width,i=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],a=t.match(i);if(!a)return null;const o=a[0],l=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],d=Array.isArray(l)?nOe(l,p=>p.test(o)):tOe(l,p=>p.test(o));let f;f=e.valueCallback?e.valueCallback(d):d,f=n.valueCallback?n.valueCallback(f):f;const m=t.slice(o.length);return{value:f,rest:m}}}function tOe(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function nOe(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function BG(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const i=r[0],a=t.match(e.parsePattern);if(!a)return null;let o=e.valueCallback?e.valueCallback(a[0]):a[0];o=n.valueCallback?n.valueCallback(o):o;const l=t.slice(i.length);return{value:o,rest:l}}}const rOe=/^(\d+)(th|st|nd|rd)?/i,iOe=/\d+/i,aOe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},sOe={any:[/^b/i,/^(a|c)/i]},oOe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},lOe={any:[/1/i,/2/i,/3/i,/4/i]},cOe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},uOe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},dOe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},fOe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},hOe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},mOe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},pOe={ordinalNumber:BG({matchPattern:rOe,parsePattern:iOe,valueCallback:e=>parseInt(e,10)}),era:va({matchPatterns:aOe,defaultMatchWidth:"wide",parsePatterns:sOe,defaultParseWidth:"any"}),quarter:va({matchPatterns:oOe,defaultMatchWidth:"wide",parsePatterns:lOe,defaultParseWidth:"any",valueCallback:e=>e+1}),month:va({matchPatterns:cOe,defaultMatchWidth:"wide",parsePatterns:uOe,defaultParseWidth:"any"}),day:va({matchPatterns:dOe,defaultMatchWidth:"wide",parsePatterns:fOe,defaultParseWidth:"any"}),dayPeriod:va({matchPatterns:hOe,defaultMatchWidth:"any",parsePatterns:mOe,defaultParseWidth:"any"})},gOe={code:"en-US",formatDistance:qTe,formatLong:VTe,formatRelative:GTe,localize:eOe,match:pOe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function vOe(e){const t=$r(e);return MTe(t,LTe(t))+1}function yOe(e){const t=$r(e),n=+Cy(t)-+kTe(t);return Math.round(n/$G)+1}function qG(e,t){const n=$r(e),r=n.getFullYear(),i=G0(),a=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,o=bo(e,0);o.setFullYear(r+1,0,a),o.setHours(0,0,0,0);const l=Bl(o,t),d=bo(e,0);d.setFullYear(r,0,a),d.setHours(0,0,0,0);const f=Bl(d,t);return n.getTime()>=l.getTime()?r+1:n.getTime()>=f.getTime()?r:r-1}function bOe(e,t){const n=G0(),r=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,i=qG(e,t),a=bo(e,0);return a.setFullYear(i,0,r),a.setHours(0,0,0,0),Bl(a,t)}function xOe(e,t){const n=$r(e),r=+Bl(n,t)-+bOe(n,t);return Math.round(r/$G)+1}function Xt(e,t){const n=e<0?"-":"",r=Math.abs(e).toString().padStart(t,"0");return n+r}const Ys={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return Xt(t==="yy"?r%100:r,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):Xt(n+1,2)},d(e,t){return Xt(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return Xt(e.getHours()%12||12,t.length)},H(e,t){return Xt(e.getHours(),t.length)},m(e,t){return Xt(e.getMinutes(),t.length)},s(e,t){return Xt(e.getSeconds(),t.length)},S(e,t){const n=t.length,r=e.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return Xt(i,t.length)}},Wc={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Wq={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const r=e.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return Ys.y(e,t)},Y:function(e,t,n,r){const i=qG(e,r),a=i>0?i:1-i;if(t==="YY"){const o=a%100;return Xt(o,2)}return t==="Yo"?n.ordinalNumber(a,{unit:"year"}):Xt(a,t.length)},R:function(e,t){const n=LG(e);return Xt(n,t.length)},u:function(e,t){const n=e.getFullYear();return Xt(n,t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return Xt(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return Xt(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return Ys.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return Xt(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const i=xOe(e,r);return t==="wo"?n.ordinalNumber(i,{unit:"week"}):Xt(i,t.length)},I:function(e,t,n){const r=yOe(e);return t==="Io"?n.ordinalNumber(r,{unit:"week"}):Xt(r,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):Ys.d(e,t)},D:function(e,t,n){const r=vOe(e);return t==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):Xt(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const i=e.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(a);case"ee":return Xt(a,2);case"eo":return n.ordinalNumber(a,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const i=e.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(a);case"cc":return Xt(a,t.length);case"co":return n.ordinalNumber(a,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),i=r===0?7:r;switch(t){case"i":return String(i);case"ii":return Xt(i,t.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const i=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let i;switch(r===12?i=Wc.noon:r===0?i=Wc.midnight:i=r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let i;switch(r>=17?i=Wc.evening:r>=12?i=Wc.afternoon:r>=4?i=Wc.morning:i=Wc.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let r=e.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Ys.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):Ys.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return t==="Ko"?n.ordinalNumber(r,{unit:"hour"}):Xt(r,t.length)},k:function(e,t,n){let r=e.getHours();return r===0&&(r=24),t==="ko"?n.ordinalNumber(r,{unit:"hour"}):Xt(r,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):Ys.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):Ys.s(e,t)},S:function(e,t){return Ys.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(r===0)return"Z";switch(t){case"X":return Xq(r);case"XXXX":case"XX":return ol(r);case"XXXXX":case"XXX":default:return ol(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return Xq(r);case"xxxx":case"xx":return ol(r);case"xxxxx":case"xxx":default:return ol(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+Yq(r,":");case"OOOO":default:return"GMT"+ol(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+Yq(r,":");case"zzzz":default:return"GMT"+ol(r,":")}},t:function(e,t,n){const r=Math.trunc(e.getTime()/1e3);return Xt(r,t.length)},T:function(e,t,n){const r=e.getTime();return Xt(r,t.length)}};function Yq(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),i=Math.trunc(r/60),a=r%60;return a===0?n+String(i):n+String(i)+t+Xt(a,2)}function Xq(e,t){return e%60===0?(e>0?"-":"+")+Xt(Math.abs(e)/60,2):ol(e,t)}function ol(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),i=Xt(Math.trunc(r/60),2),a=Xt(r%60,2);return n+i+t+a}const Qq=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},zG=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},wOe=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return Qq(e,t);let a;switch(r){case"P":a=t.dateTime({width:"short"});break;case"PP":a=t.dateTime({width:"medium"});break;case"PPP":a=t.dateTime({width:"long"});break;case"PPPP":default:a=t.dateTime({width:"full"});break}return a.replace("{{date}}",Qq(r,t)).replace("{{time}}",zG(i,t))},_Oe={p:zG,P:wOe},SOe=/^D+$/,jOe=/^Y+$/,EOe=["D","DD","YY","YYYY"];function NOe(e){return SOe.test(e)}function AOe(e){return jOe.test(e)}function TOe(e,t,n){const r=OOe(e,t,n);if(console.warn(r),EOe.includes(e))throw new RangeError(r)}function OOe(e,t,n){const r=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const COe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,ROe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,POe=/^'([^]*?)'?$/,MOe=/''/g,kOe=/[a-zA-Z]/;function Sn(e,t,n){const r=G0(),i=n?.locale??r.locale??gOe,a=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,o=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,l=$r(e);if(!ITe(l))throw new RangeError("Invalid time value");let d=t.match(ROe).map(m=>{const p=m[0];if(p==="p"||p==="P"){const v=_Oe[p];return v(m,i.formatLong)}return m}).join("").match(COe).map(m=>{if(m==="''")return{isToken:!1,value:"'"};const p=m[0];if(p==="'")return{isToken:!1,value:DOe(m)};if(Wq[p])return{isToken:!0,value:m};if(p.match(kOe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+p+"`");return{isToken:!1,value:m}});i.localize.preprocessor&&(d=i.localize.preprocessor(l,d));const f={firstWeekContainsDate:a,weekStartsOn:o,locale:i};return d.map(m=>{if(!m.isToken)return m.value;const p=m.value;(!n?.useAdditionalWeekYearTokens&&AOe(p)||!n?.useAdditionalDayOfYearTokens&&NOe(p))&&TOe(p,t,String(e));const v=Wq[p[0]];return v(l,p,i.localize,f)}).join("")}function DOe(e){const t=e.match(POe);return t?t[1].replace(MOe,"'"):e}function IOe(e,t,n){const r=Bl(e,n),i=Bl(t,n);return+r==+i}function $Oe(e,t){const n=$r(e),r=$r(t);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function dj(e,t){return CTe(e,-t)}const Jq={low:"hsl(0 84% 60%)",mid:"hsl(48 96% 53%)",high:"hsl(142 70% 45%)",empty:"hsl(var(--muted-foreground))"};function vh(e,{invert:t=!1,tone:n=Jq}={}){if(e==null||Number.isNaN(e))return n.empty??Jq.empty;const r=t?n.high:n.low,i=t?n.low:n.high;return e>=4?i:e>=3?n.mid:r}const LOe=od("whitespace-nowrap inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 hover-elevate ",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow-xs",secondary:"border-transparent bg-secondary text-secondary-foreground",destructive:"border-transparent bg-destructive text-destructive-foreground shadow-xs",outline:"text-foreground border [border-color:var(--badge-outline)]"}},defaultVariants:{variant:"default"}});function ln({className:e,variant:t,...n}){return u.jsx("div",{className:Ne(LOe({variant:t}),e),...n})}const UG="rounded-full px-3 py-1 text-sm font-mono font-bold",FG=e=>{const t=e.match(/hsl\((\d+(?:\.\d+)?)\s+(\d+(?:\.\d+)?)%\s+(\d+(?:\.\d+)?)%\)/);if(!t)return"#000";const[,n,r,i]=t,a=Number(n),o=Number(r)/100,l=Number(i)/100,d=(1-Math.abs(2*l-1))*o,f=d*(1-Math.abs(a/60%2-1)),m=l-d/2;let p=0,v=0,b=0;a>=0&&a<60?(p=d,v=f):a>=60&&a<120?(p=f,v=d):a>=120&&a<180?(v=d,b=f):a>=180&&a<240?(v=f,b=d):a>=240&&a<300?(p=f,b=d):(p=d,b=f);const x=Math.round((p+m)*255),y=Math.round((v+m)*255),w=Math.round((b+m)*255);return .2126*x+.7152*y+.0722*w>155?"#000":"#fff"};function BOe({avgRpe:e,avgPerformance:t,avgEngagement:n,avgFatigue:r}){const i=[{key:"rpe",title:"Difficult Moy",value:e,invert:!0},{key:"performance",title:"Performance Moy",value:t,invert:!1},{key:"engagement",title:"Engagement Moy",value:n,invert:!1},{key:"fatigue",title:"Fatigue Moy",value:r,invert:!0}];return u.jsx("div",{className:"grid grid-cols-2 gap-3 md:grid-cols-4",children:i.map(a=>{const o=vh(a.value??null,{invert:a.invert})??"hsl(var(--muted-foreground))";return u.jsxs(Pe,{children:[u.jsx(Ze,{className:"p-4 pb-2",children:u.jsx(rt,{className:"text-xs uppercase text-muted-foreground",children:a.title})}),u.jsx(Be,{className:"p-4 pt-0",children:u.jsx(ln,{className:UG,style:{backgroundColor:o,color:FG(o)},children:a.value?a.value.toFixed(1):"-"})})]},a.key)})})}function qOe(){const{user:e,userId:t,role:n,selectedAthleteId:r,selectedAthleteName:i}=sn(),a=(n==="coach"||n==="admin")&&(r!==null||!!i),o=a?i:e,l=a?r:t,d=l??o,[f,m]=_.useState("all"),[p,v]=_.useState(""),[b,x]=_.useState(""),[y,w]=_.useState(30),[E,N]=_.useState(30),{data:j}=Pt({queryKey:["sessions",d],queryFn:()=>De.getSessions(o,l),enabled:!!o}),O=oz({queryKey:["strength_history",d,"progress",f,p,b],queryFn:({pageParam:te=0})=>De.getStrengthHistory(o,{athleteId:l,limit:10,offset:te,order:"desc",status:f==="all"?void 0:f,from:p||void 0,to:b||void 0}),enabled:!!o,getNextPageParam:te=>{const re=te.pagination.offset+te.pagination.limit;return re<te.pagination.total?re:void 0},initialPageParam:0}),T=O.data?.pages.flatMap(te=>te.runs)??[],C=ZN(dj(new Date,E)).toISOString(),R=$Te(new Date).toISOString(),{data:M}=Pt({queryKey:["strength_history_summary",d,"progress",E,C,R],queryFn:()=>De.getStrengthHistory(o,{athleteId:l,limit:200,order:"desc",from:C,to:R}),enabled:!!o}),{data:k}=Pt({queryKey:["strength_history_aggregate",d,"progress",E,C,R],queryFn:()=>De.getStrengthHistoryAggregate(o,{athleteId:l,period:"day",limit:200,order:"asc",from:C,to:R}),enabled:!!o}),I=M?.runs??[],B=M?.exercise_summary??[],$=k?.periods??[],F=te=>{if(!j)return[];const re=dj(new Date,te),Me=j.filter(ke=>new Date(ke.date)>=re).reverse(),ut=new Map;return Me.forEach(ke=>{const Qe=Sn(new Date(ke.date),"dd/MM");ut.has(Qe)||ut.set(Qe,{date:Qe,distance:0,effort:0,rpe:0,performance:0,engagement:0,fatigue:0,count:0,rpeCount:0,performanceCount:0,engagementCount:0,fatigueCount:0});const st=ut.get(Qe);st.distance+=ke.distance,st.effort+=ke.effort,st.count+=1,ke.rpe!==null&&ke.rpe!==void 0&&(st.rpe+=ke.rpe,st.rpeCount+=1),ke.performance!==null&&ke.performance!==void 0&&(st.performance+=ke.performance,st.performanceCount+=1),ke.engagement!==null&&ke.engagement!==void 0&&(st.engagement+=ke.engagement,st.engagementCount+=1),ke.fatigue!==null&&ke.fatigue!==void 0&&(st.fatigue+=ke.fatigue,st.fatigueCount+=1)}),Array.from(ut.values()).map(ke=>({...ke,effort:Math.round(ke.effort/ke.count*10)/10,rpe:ke.rpeCount?Math.round(ke.rpe/ke.rpeCount*10)/10:null,performance:ke.performanceCount?Math.round(ke.performance/ke.performanceCount*10)/10:null,engagement:ke.engagementCount?Math.round(ke.engagement/ke.engagementCount*10)/10:null,fatigue:ke.fatigueCount?Math.round(ke.fatigue/ke.fatigueCount*10)/10:null}))},H=j?j.filter(te=>new Date(te.date)>=dj(new Date,y)):[],U=H.length,D=H.reduce((te,re)=>(te.distance+=re.distance,te.duration+=re.duration,re.rpe!==null&&re.rpe!==void 0&&(te.rpeSum+=re.rpe,te.rpeCount+=1),re.performance!==null&&re.performance!==void 0&&(te.performanceSum+=re.performance,te.performanceCount+=1),re.engagement!==null&&re.engagement!==void 0&&(te.engagementSum+=re.engagement,te.engagementCount+=1),re.fatigue!==null&&re.fatigue!==void 0&&(te.fatigueSum+=re.fatigue,te.fatigueCount+=1),te),{distance:0,duration:0,rpeSum:0,rpeCount:0,performanceSum:0,performanceCount:0,engagementSum:0,engagementCount:0,fatigueSum:0,fatigueCount:0}),G=D.rpeCount?D.rpeSum/D.rpeCount:null,z=D.performanceCount?D.performanceSum/D.performanceCount:null,X=D.engagementCount?D.engagementSum/D.engagementCount:null,ue=D.fatigueCount?D.fatigueSum/D.fatigueCount:null;U&&D.duration/U;const V=U?D.distance/U:0,K=F(y),Z=te=>te==="rpe"||te==="effort"||te==="fatigue",oe=te=>{const Me=(Array.isArray(te?.logs)?te.logs:[]).map(Qe=>Qe?.rpe!==null&&Qe?.rpe!==void 0?Number(Qe.rpe):null).filter(Qe=>Qe!==null&&Number.isFinite(Qe));if(Me.length>0)return Me.reduce((Qe,st)=>Qe+st,0)/Me.length;const ut=te?.feeling??te?.rpe??null,ke=ut!=null?Number(ut):null;return ke!==null&&Number.isFinite(ke)?ke:null},be=te=>te==null||Number.isNaN(te)?"-":te.toFixed(1),ae=[...I].sort((te,re)=>{const Me=new Date(te.started_at||te.date||te.created_at||0).getTime(),ut=new Date(re.started_at||re.date||re.created_at||0).getTime();return Me-ut}).map(te=>({date:Sn(new Date(te.started_at||te.date||te.created_at||new Date),"dd/MM"),feeling:oe(te)})),J=$.map(te=>({date:te.period,label:Sn(new Date(te.period),"dd/MM"),tonnage:Math.round(te.tonnage??0),volume:Math.round(te.volume??0)})),he=$.reduce((te,re)=>te+(re.tonnage??0),0),se=$.reduce((te,re)=>te+(re.volume??0),0),pe=I.length,xe=I.map(te=>oe(te)).filter(te=>te!==null&&Number.isFinite(te)),ee=xe.length?xe.reduce((te,re)=>te+re,0)/xe.length:null,$e=[...B].map(te=>({exerciseId:Number(te.exercise_id),name:te.exercise_name||`Exercice ${te.exercise_id}`,totalSets:Number(te.total_sets??0),totalReps:Number(te.total_reps??0),totalVolume:Number(te.total_volume??0),maxWeight:te.max_weight!==null&&te.max_weight!==void 0?Number(te.max_weight):null,lastPerformedAt:te.last_performed_at??null})).sort((te,re)=>re.totalVolume-te.totalVolume),ge=$e.slice(0,8),He=te=>{if(!te)return"-";const re=new Date(te);return Number.isNaN(re.getTime())?"-":Sn(re,"dd/MM/yyyy")};return u.jsxs("div",{className:"space-y-6 pb-8",children:[u.jsx("h1",{className:"text-3xl font-display font-bold uppercase italic text-primary",children:"Progression"}),u.jsxs($m,{defaultValue:"swim",className:"w-full",children:[u.jsxs(jd,{className:"grid w-full grid-cols-2",children:[u.jsx(Oa,{value:"swim",children:"Natation"}),u.jsx(Oa,{value:"strength",children:"Musculation"})]}),u.jsxs(ms,{value:"swim",className:"space-y-6 animate-in fade-in",children:[u.jsxs("div",{className:"flex flex-wrap items-center justify-end gap-2",children:[u.jsx("span",{className:"text-xs uppercase text-muted-foreground",children:"Priode"}),u.jsxs(yn,{value:String(y),onValueChange:te=>w(Number(te)),children:[u.jsx(mn,{className:"h-8 w-[140px]",children:u.jsx(bn,{})}),u.jsxs(pn,{children:[u.jsx(ct,{value:"7",children:"7 jours"}),u.jsx(ct,{value:"30",children:"30 jours"}),u.jsx(ct,{value:"365",children:"365 jours"})]})]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4 md:grid-cols-3",children:[u.jsxs(Pe,{children:[u.jsx(Ze,{className:"p-4 pb-2",children:u.jsxs(rt,{className:"text-xs uppercase text-muted-foreground",children:["Volume (",y,"j)"]})}),u.jsxs(Be,{className:"p-4 pt-0 text-2xl font-bold font-mono",children:[D.distance.toLocaleString(),"m"]})]}),u.jsxs(Pe,{children:[u.jsx(Ze,{className:"p-4 pb-2",children:u.jsxs(rt,{className:"text-xs uppercase text-muted-foreground",children:["Sances (",y,"j)"]})}),u.jsx(Be,{className:"p-4 pt-0 text-2xl font-bold font-mono",children:U})]}),u.jsxs(Pe,{children:[u.jsx(Ze,{className:"p-4 pb-2",children:u.jsx(rt,{className:"text-xs uppercase text-muted-foreground",children:"Distance Moy"})}),u.jsxs(Be,{className:"p-4 pt-0 text-2xl font-bold font-mono",children:[Math.round(V).toLocaleString(),"m"]})]})]}),u.jsx(BOe,{avgRpe:G,avgPerformance:z,avgEngagement:X,avgFatigue:ue}),u.jsxs(Pe,{children:[u.jsx(Ze,{children:u.jsx(rt,{children:"Volume Quotidien"})}),u.jsx(Be,{className:"h-[250px] w-full",children:K.length===0?u.jsx("div",{className:"flex h-full items-center justify-center text-sm text-muted-foreground",children:"Aucune donne disponible."}):u.jsx(eu,{width:"100%",height:"100%",children:u.jsxs(av,{data:K,children:[u.jsx(dl,{strokeDasharray:"3 3",opacity:.1,vertical:!1}),u.jsx(na,{dataKey:"date",fontSize:10,tickLine:!1,axisLine:!1}),u.jsx(kr,{cursor:{fill:"transparent"}}),u.jsx(fi,{dataKey:"distance",fill:"hsl(var(--primary))",radius:[4,4,0,0]})]})})})]}),u.jsx("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[{key:"rpe",title:"RPE"},{key:"performance",title:"Performance"},{key:"engagement",title:"Engagement"},{key:"fatigue",title:"Fatigue"}].map(te=>u.jsxs(Pe,{children:[u.jsx(Ze,{children:u.jsx(rt,{children:te.title})}),u.jsx(Be,{className:"h-[240px] w-full",children:K.length===0?u.jsx("div",{className:"flex h-full items-center justify-center text-sm text-muted-foreground",children:"Aucune donne disponible."}):u.jsx(eu,{width:"100%",height:"100%",children:u.jsxs(av,{data:K,children:[u.jsx(dl,{strokeDasharray:"3 3",opacity:.1,vertical:!1}),u.jsx(na,{dataKey:"date",fontSize:10,tickLine:!1,axisLine:!1}),u.jsx(yo,{domain:[0,5],tickLine:!1,axisLine:!1,fontSize:10}),u.jsx(kr,{cursor:{fill:"transparent"},formatter:re=>[re??"-",te.title]}),u.jsx(fi,{dataKey:te.key,radius:[4,4,0,0],children:K.map((re,Me)=>u.jsx(E0,{fill:vh(re[te.key],{invert:Z(te.key)})},`${te.key}-${re.date}-${Me}`))})]})})})]},te.key))})]}),u.jsxs(ms,{value:"strength",className:"space-y-6 animate-in fade-in",children:[u.jsxs("div",{className:"flex flex-wrap items-center justify-end gap-2",children:[u.jsx("span",{className:"text-xs uppercase text-muted-foreground",children:"Priode"}),u.jsxs(yn,{value:String(E),onValueChange:te=>N(Number(te)),children:[u.jsx(mn,{className:"h-8 w-[140px]",children:u.jsx(bn,{})}),u.jsxs(pn,{children:[u.jsx(ct,{value:"7",children:"7 jours"}),u.jsx(ct,{value:"30",children:"30 jours"}),u.jsx(ct,{value:"365",children:"365 jours"})]})]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4 md:grid-cols-4",children:[u.jsxs(Pe,{children:[u.jsx(Ze,{className:"p-4 pb-2",children:u.jsxs(rt,{className:"text-xs uppercase text-muted-foreground",children:["Tonnage (",E,"j)"]})}),u.jsxs(Be,{className:"p-4 pt-0 text-2xl font-bold font-mono",children:[Math.round(he).toLocaleString()," kg"]})]}),u.jsxs(Pe,{children:[u.jsx(Ze,{className:"p-4 pb-2",children:u.jsxs(rt,{className:"text-xs uppercase text-muted-foreground",children:["Volume (",E,"j)"]})}),u.jsxs(Be,{className:"p-4 pt-0 text-2xl font-bold font-mono",children:[Math.round(se).toLocaleString()," reps"]})]}),u.jsxs(Pe,{children:[u.jsx(Ze,{className:"p-4 pb-2",children:u.jsxs(rt,{className:"text-xs uppercase text-muted-foreground",children:["Sances (",E,"j)"]})}),u.jsx(Be,{className:"p-4 pt-0 text-2xl font-bold font-mono",children:pe})]}),u.jsxs(Pe,{children:[u.jsx(Ze,{className:"p-4 pb-2",children:u.jsx(rt,{className:"text-xs uppercase text-muted-foreground",children:"Ressenti Moy"})}),u.jsx(Be,{className:"p-4 pt-0",children:u.jsx(ln,{className:UG,style:{backgroundColor:vh(ee??null,{invert:Z("rpe")})??"hsl(var(--muted-foreground))",color:FG(vh(ee??null,{invert:Z("rpe")})??"hsl(var(--muted-foreground))")},children:ee!==null?ee.toFixed(1):"-"})})]})]}),u.jsxs(Pe,{children:[u.jsx(Ze,{children:u.jsxs(rt,{children:["Tonnage & Volume (",E,"j)"]})}),u.jsx(Be,{className:"h-[250px] w-full",children:J.length===0?u.jsx("div",{className:"flex h-full items-center justify-center text-sm text-muted-foreground",children:"Aucune donne disponible."}):u.jsx(eu,{width:"100%",height:"100%",children:u.jsxs(OTe,{data:J,children:[u.jsx(dl,{strokeDasharray:"3 3",opacity:.1,vertical:!1}),u.jsx(na,{dataKey:"label",fontSize:10,tickLine:!1,axisLine:!1}),u.jsx(kr,{}),u.jsx(fi,{dataKey:"tonnage",name:"Tonnage",fill:"hsl(var(--primary))",radius:[4,4,0,0]}),u.jsx(fi,{dataKey:"volume",name:"Volume",fill:"hsl(var(--accent))",radius:[4,4,0,0]}),u.jsx(uo,{type:"monotone",dataKey:"tonnage",stroke:"hsl(var(--primary))",strokeWidth:2,dot:!1}),u.jsx(uo,{type:"monotone",dataKey:"volume",stroke:"hsl(var(--accent))",strokeWidth:2,dot:!1})]})})})]}),u.jsxs(Pe,{children:[u.jsx(Ze,{children:u.jsx(rt,{children:"Ressenti Sances"})}),u.jsx(Be,{className:"h-[250px] w-full",children:ae.length===0?u.jsx("div",{className:"flex h-full items-center justify-center text-sm text-muted-foreground",children:"Aucune donne disponible."}):u.jsx(eu,{width:"100%",height:"100%",children:u.jsxs(TTe,{data:ae,children:[u.jsx(dl,{strokeDasharray:"3 3",opacity:.1,vertical:!1}),u.jsx(na,{dataKey:"date",fontSize:10,tickLine:!1,axisLine:!1}),u.jsx(yo,{domain:[0,10],hide:!0}),u.jsx(kr,{}),u.jsx(uo,{type:"monotone",dataKey:"feeling",stroke:"hsl(var(--foreground))",strokeWidth:2,dot:{r:4}})]})})})]}),u.jsxs(Pe,{children:[u.jsx(Ze,{children:u.jsx(rt,{children:"Volume par exercice"})}),u.jsx(Be,{className:"h-[260px] w-full",children:ge.length===0?u.jsx("div",{className:"flex h-full items-center justify-center text-sm text-muted-foreground",children:"Aucune donne d'exercice disponible."}):u.jsx(eu,{width:"100%",height:"100%",children:u.jsxs(av,{data:ge,children:[u.jsx(dl,{strokeDasharray:"3 3",opacity:.1,vertical:!1}),u.jsx(na,{dataKey:"name",fontSize:10,tickLine:!1,axisLine:!1,interval:0}),u.jsx(kr,{cursor:{fill:"transparent"},formatter:te=>[`${Number(te).toLocaleString()} kg`,"Volume"]}),u.jsx(fi,{dataKey:"totalVolume",fill:"hsl(var(--primary))",radius:[4,4,0,0]})]})})})]}),u.jsxs(Pe,{children:[u.jsx(Ze,{children:u.jsx(rt,{children:"Stats par exercice"})}),u.jsx(Be,{children:u.jsx("div",{className:"w-full overflow-x-auto",children:u.jsxs(Mm,{children:[u.jsx(km,{children:u.jsxs(ja,{children:[u.jsx(In,{children:"Exercice"}),u.jsx(In,{className:"text-right",children:"Sries"}),u.jsx(In,{className:"text-right",children:"Rptitions"}),u.jsx(In,{className:"text-right",children:"Volume"}),u.jsx(In,{className:"text-right",children:"Charge max"}),u.jsx(In,{className:"text-right",children:"Dernire sance"})]})}),u.jsx(Dm,{children:$e.length===0?u.jsx(ja,{children:u.jsx(Rn,{colSpan:6,className:"text-center text-sm text-muted-foreground",children:"Aucun exercice enregistr."})}):$e.map(te=>u.jsxs(ja,{children:[u.jsx(Rn,{className:"font-medium",children:te.name}),u.jsx(Rn,{className:"text-right font-mono",children:te.totalSets}),u.jsx(Rn,{className:"text-right font-mono",children:te.totalReps}),u.jsxs(Rn,{className:"text-right font-mono",children:[te.totalVolume.toLocaleString()," kg"]}),u.jsx(Rn,{className:"text-right font-mono",children:te.maxWeight!==null?`${te.maxWeight} kg`:"-"}),u.jsx(Rn,{className:"text-right text-sm text-muted-foreground",children:He(te.lastPerformedAt)})]},te.exerciseId))})]})})})]}),u.jsxs(Pe,{children:[u.jsx(Ze,{children:u.jsx(rt,{children:"Historique rcent"})}),u.jsxs(Be,{className:"space-y-3",children:[T.length===0&&u.jsx("div",{className:"text-center text-sm text-muted-foreground py-6",children:"Aucun historique disponible."}),T.map(te=>u.jsxs("div",{className:"flex items-center justify-between border-b border-border/60 pb-2 last:border-b-0 last:pb-0",children:[u.jsxs("div",{children:[u.jsx("div",{className:"text-sm font-semibold",children:Sn(new Date(te.started_at||te.date||te.created_at||new Date),"dd/MM/yyyy")}),u.jsx("div",{className:"text-xs uppercase text-muted-foreground",children:te.status||"Sance"})]}),u.jsxs("div",{className:"text-sm font-mono font-semibold",children:[be(oe(te)),"/10"]})]},te.id)),O.hasNextPage&&u.jsx(Ce,{variant:"outline",size:"sm",className:"w-full",onClick:()=>O.fetchNextPage(),disabled:O.isFetchingNextPage,children:O.isFetchingNextPage?"Chargement...":"Charger plus"})]})]})]})]})]})}const zOe="rounded-full px-3 py-1 text-lg font-mono font-bold md:text-xl",UOe=e=>{const t=e.match(/hsl\((\d+(?:\.\d+)?)\s+(\d+(?:\.\d+)?)%\s+(\d+(?:\.\d+)?)%\)/);if(!t)return"#000";const[,n,r,i]=t,a=Number(n),o=Number(r)/100,l=Number(i)/100,d=(1-Math.abs(2*l-1))*o,f=d*(1-Math.abs(a/60%2-1)),m=l-d/2;let p=0,v=0,b=0;a>=0&&a<60?(p=d,v=f):a>=60&&a<120?(p=f,v=d):a>=120&&a<180?(v=d,b=f):a>=180&&a<240?(v=f,b=d):a>=240&&a<300?(p=f,b=d):(p=d,b=f);const x=Math.round((p+m)*255),y=Math.round((v+m)*255),w=Math.round((b+m)*255);return .2126*x+.7152*y+.0722*w>155?"#000":"#fff"};function Bf({value:e,toneScore:t}){const n=vh(t??null)??"hsl(var(--muted-foreground))";return u.jsx(ln,{className:zOe,style:{backgroundColor:n,color:UOe(n)},children:e})}const Zq=e=>{if(e==null)return null;const t=Number(e);return!Number.isFinite(t)||t<=0?null:t<=5?Math.min(5,t):Math.min(5,t/2)},fj=e=>{const t=e.filter(n=>Number.isFinite(n));return t.length===0?null:{min:Math.min(...t),max:Math.max(...t)}},hj=(e,t)=>{if(!Number.isFinite(e)||e===null||e===void 0||e<=0||!t||t.max<=0)return null;if(t.max===t.min)return 5;const r=1+(e-t.min)/(t.max-t.min)*4;return Math.max(1,Math.min(5,r))},qf=(e,t)=>{if(e==null||!Number.isFinite(e))return"-";const{decimals:n=0,suffix:r}=t??{},i=e.toLocaleString(void 0,{minimumFractionDigits:n,maximumFractionDigits:n});return r?`${i} ${r}`:i};function FOe(){const{data:e}=Pt({queryKey:["hall-of-fame"],queryFn:()=>De.getHallOfFame()}),t=e?.distance??[],n=e?.performance??[],r=e?.engagement??[],i=e?.strength??[],a=t.map(x=>({...x,total_distance:Number(x.total_distance??0)})),o=n.map(x=>({...x,avg_effort:Zq(x.avg_effort)})),l=r.map(x=>({...x,avg_engagement:Zq(x.avg_engagement)})),d=[...i].sort((x,y)=>Number(y.total_volume??0)-Number(x.total_volume??0)).slice(0,5),f=[...i].sort((x,y)=>Number(y.total_reps??0)-Number(x.total_reps??0)).slice(0,5),m=fj(a.map(x=>Number(x.total_distance??0))),p=fj(d.map(x=>Number(x.total_volume??0))),v=fj(f.map(x=>Number(x.total_reps??0))),b=({rank:x})=>x===0?u.jsx(kZ,{className:"h-6 w-6 text-yellow-500 fill-yellow-500"}):x===1?u.jsx(_k,{className:"h-5 w-5 text-gray-400 fill-gray-400"}):x===2?u.jsx(_k,{className:"h-5 w-5 text-amber-700 fill-amber-700"}):u.jsx("span",{className:"font-mono font-bold text-muted-foreground w-6 text-center",children:x+1});return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[u.jsx("h1",{className:"text-3xl font-display font-bold uppercase italic text-primary",children:"Hall of Fame"}),u.jsx(lv,{href:"/records-club",children:u.jsx(Ce,{variant:"outline",children:"Voir les records du club"})})]}),u.jsxs($m,{defaultValue:"swim",className:"w-full",children:[u.jsxs(jd,{className:"grid w-full grid-cols-2",children:[u.jsxs(Oa,{value:"swim",children:[u.jsx(hi,{className:"mr-2 h-4 w-4"})," Bassin"]}),u.jsxs(Oa,{value:"strength",children:[u.jsx(Mi,{className:"mr-2 h-4 w-4"})," Muscu"]})]}),u.jsx(ms,{value:"swim",className:"space-y-6 pt-4 animate-in slide-in-from-left-4",children:u.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[u.jsxs(Pe,{className:"border-t-4 border-t-yellow-500 shadow-md",children:[u.jsx(Ze,{children:u.jsxs(rt,{className:"flex items-center gap-2 text-base",children:[u.jsx(ro,{className:"h-5 w-5 text-yellow-500"}),"Top Distance"]})}),u.jsxs(Be,{className:"space-y-4",children:[a.map((x,y)=>{const w=x.total_distance?x.total_distance/1e3:0;return u.jsxs("div",{className:"flex items-center justify-between gap-3 p-3 rounded-lg bg-muted/30",children:[u.jsxs("div",{className:"flex items-center gap-4 min-w-0",children:[u.jsx(b,{rank:y}),u.jsx("div",{className:"font-bold uppercase tracking-tight truncate",children:x.athlete_name})]}),u.jsx("div",{className:"shrink-0",children:u.jsx(Bf,{value:qf(w,{decimals:1,suffix:"km"}),toneScore:hj(x.total_distance,m)})})]},x.athlete_name)}),a.length===0&&u.jsx("div",{className:"text-center text-muted-foreground py-4",children:"Aucune donne"})]})]}),u.jsxs(Pe,{className:"border-t-4 border-t-orange-500 shadow-md",children:[u.jsx(Ze,{children:u.jsxs(rt,{className:"flex items-center gap-2 text-base",children:[u.jsx(ro,{className:"h-5 w-5 text-orange-500"}),"Top Intensit (RPE Avg)"]})}),u.jsxs(Be,{className:"space-y-4",children:[o.map((x,y)=>u.jsxs("div",{className:"flex items-center justify-between gap-3 p-3 rounded-lg bg-muted/30",children:[u.jsxs("div",{className:"flex items-center gap-4 min-w-0",children:[u.jsx(b,{rank:y}),u.jsx("div",{className:"font-bold uppercase tracking-tight truncate",children:x.athlete_name})]}),u.jsx("div",{className:"shrink-0",children:u.jsx(Bf,{value:qf(x.avg_effort,{decimals:1}),toneScore:x.avg_effort})})]},x.athlete_name)),o.length===0&&u.jsx("div",{className:"text-center text-muted-foreground py-4",children:"Aucune donne"})]})]}),u.jsxs(Pe,{className:"border-t-4 border-t-rose-500 shadow-md",children:[u.jsx(Ze,{children:u.jsxs(rt,{className:"flex items-center gap-2 text-base",children:[u.jsx(zZ,{className:"h-5 w-5 text-rose-500"}),"Top Engagement"]})}),u.jsxs(Be,{className:"space-y-4",children:[l.map((x,y)=>u.jsxs("div",{className:"flex items-center justify-between gap-3 p-3 rounded-lg bg-muted/30",children:[u.jsxs("div",{className:"flex items-center gap-4 min-w-0",children:[u.jsx(b,{rank:y}),u.jsx("div",{className:"font-bold uppercase tracking-tight truncate",children:x.athlete_name})]}),u.jsx("div",{className:"shrink-0",children:u.jsx(Bf,{value:qf(x.avg_engagement,{decimals:1}),toneScore:x.avg_engagement})})]},`${x.athlete_name}-engagement`)),l.length===0&&u.jsx("div",{className:"text-center text-muted-foreground py-4",children:"Aucune donne"})]})]})]})}),u.jsx(ms,{value:"strength",className:"space-y-6 pt-4 animate-in slide-in-from-right-4",children:u.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[u.jsxs(Pe,{className:"border-t-4 border-t-emerald-500 shadow-md",children:[u.jsx(Ze,{children:u.jsxs(rt,{className:"flex items-center gap-2 text-base",children:[u.jsx(ro,{className:"h-5 w-5 text-emerald-500"}),"Top Tonnage"]})}),u.jsxs(Be,{className:"space-y-4",children:[d.map((x,y)=>u.jsxs("div",{className:"flex items-center justify-between gap-3 p-3 rounded-lg bg-muted/30",children:[u.jsxs("div",{className:"flex items-center gap-4 min-w-0",children:[u.jsx(b,{rank:y}),u.jsx("div",{className:"font-bold uppercase tracking-tight truncate",children:x.athlete_name})]}),u.jsx("div",{className:"shrink-0",children:u.jsx(Bf,{value:qf(Number(x.total_volume??0),{suffix:"kg"}),toneScore:hj(Number(x.total_volume??0),p)})})]},x.athlete_name)),d.length===0&&u.jsx("div",{className:"text-center text-muted-foreground py-4",children:"Aucune donne"})]})]}),u.jsxs(Pe,{className:"border-t-4 border-t-violet-500 shadow-md",children:[u.jsx(Ze,{children:u.jsxs(rt,{className:"flex items-center gap-2 text-base",children:[u.jsx(ro,{className:"h-5 w-5 text-violet-500"}),"Top Volume (Rptitions)"]})}),u.jsxs(Be,{className:"space-y-4",children:[f.map((x,y)=>u.jsxs("div",{className:"flex items-center justify-between gap-3 p-3 rounded-lg bg-muted/30",children:[u.jsxs("div",{className:"flex items-center gap-4 min-w-0",children:[u.jsx(b,{rank:y}),u.jsx("div",{className:"font-bold uppercase tracking-tight truncate",children:x.athlete_name})]}),u.jsx("div",{className:"shrink-0",children:u.jsx(Bf,{value:qf(Number(x.total_reps??0),{suffix:"reps"}),toneScore:hj(Number(x.total_reps??0),v)})})]},`${x.athlete_name}-reps`)),f.length===0&&u.jsx("div",{className:"text-center text-muted-foreground py-4",children:"Aucune donne"})]})]})]})})]})]})}function eA(e,t,{checkForDefaultPrevented:n=!0}={}){return function(i){if(e?.(i),n===!1||!i.defaultPrevented)return t?.(i)}}var VOe=Cr[" useInsertionEffect ".trim().toString()]||Ut;function HOe({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[i,a,o]=GOe({defaultProp:t,onChange:n}),l=e!==void 0,d=l?e:i;{const m=_.useRef(e!==void 0);_.useEffect(()=>{const p=m.current;p!==l&&console.warn(`${r} is changing from ${p?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),m.current=l},[l,r])}const f=_.useCallback(m=>{if(l){const p=KOe(m)?m(e):m;p!==e&&o.current?.(p)}else a(m)},[l,e,a,o]);return[d,f]}function GOe({defaultProp:e,onChange:t}){const[n,r]=_.useState(e),i=_.useRef(n),a=_.useRef(t);return VOe(()=>{a.current=t},[t]),_.useEffect(()=>{i.current!==n&&(a.current?.(n),i.current=n)},[n,i]),[n,r,a]}function KOe(e){return typeof e=="function"}var IO="Radio",[WOe,VG]=Rr(IO),[YOe,XOe]=WOe(IO),HG=_.forwardRef((e,t)=>{const{__scopeRadio:n,name:r,checked:i=!1,required:a,disabled:o,value:l="on",onCheck:d,form:f,...m}=e,[p,v]=_.useState(null),b=jt(t,w=>v(w)),x=_.useRef(!1),y=p?f||!!p.closest("form"):!0;return u.jsxs(YOe,{scope:n,checked:i,disabled:o,children:[u.jsx(gt.button,{type:"button",role:"radio","aria-checked":i,"data-state":YG(i),"data-disabled":o?"":void 0,disabled:o,value:l,...m,ref:b,onClick:eA(e.onClick,w=>{i||d?.(),y&&(x.current=w.isPropagationStopped(),x.current||w.stopPropagation())})}),y&&u.jsx(WG,{control:p,bubbles:!x.current,name:r,value:l,checked:i,required:a,disabled:o,form:f,style:{transform:"translateX(-100%)"}})]})});HG.displayName=IO;var GG="RadioIndicator",KG=_.forwardRef((e,t)=>{const{__scopeRadio:n,forceMount:r,...i}=e,a=XOe(GG,n);return u.jsx(la,{present:r||a.checked,children:u.jsx(gt.span,{"data-state":YG(a.checked),"data-disabled":a.disabled?"":void 0,...i,ref:t})})});KG.displayName=GG;var QOe="RadioBubbleInput",WG=_.forwardRef(({__scopeRadio:e,control:t,checked:n,bubbles:r=!0,...i},a)=>{const o=_.useRef(null),l=jt(o,a),d=r0(n),f=Fy(t);return _.useEffect(()=>{const m=o.current;if(!m)return;const p=window.HTMLInputElement.prototype,b=Object.getOwnPropertyDescriptor(p,"checked").set;if(d!==n&&b){const x=new Event("click",{bubbles:r});b.call(m,n),m.dispatchEvent(x)}},[d,n,r]),u.jsx(gt.input,{type:"radio","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:l,style:{...i.style,...f,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});WG.displayName=QOe;function YG(e){return e?"checked":"unchecked"}var JOe=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],K0="RadioGroup",[ZOe]=Rr(K0,[Sd,VG]),XG=Sd(),QG=VG(),[eCe,tCe]=ZOe(K0),JG=_.forwardRef((e,t)=>{const{__scopeRadioGroup:n,name:r,defaultValue:i,value:a,required:o=!1,disabled:l=!1,orientation:d,dir:f,loop:m=!0,onValueChange:p,...v}=e,b=XG(n),x=Tm(f),[y,w]=HOe({prop:a,defaultProp:i??null,onChange:p,caller:K0});return u.jsx(eCe,{scope:n,name:r,required:o,disabled:l,value:y,onValueChange:w,children:u.jsx(OT,{asChild:!0,...b,orientation:d,dir:x,loop:m,children:u.jsx(gt.div,{role:"radiogroup","aria-required":o,"aria-orientation":d,"data-disabled":l?"":void 0,dir:x,...v,ref:t})})})});JG.displayName=K0;var ZG="RadioGroupItem",eK=_.forwardRef((e,t)=>{const{__scopeRadioGroup:n,disabled:r,...i}=e,a=tCe(ZG,n),o=a.disabled||r,l=XG(n),d=QG(n),f=_.useRef(null),m=jt(t,f),p=a.value===i.value,v=_.useRef(!1);return _.useEffect(()=>{const b=y=>{JOe.includes(y.key)&&(v.current=!0)},x=()=>v.current=!1;return document.addEventListener("keydown",b),document.addEventListener("keyup",x),()=>{document.removeEventListener("keydown",b),document.removeEventListener("keyup",x)}},[]),u.jsx(CT,{asChild:!0,...l,focusable:!o,active:p,children:u.jsx(HG,{disabled:o,required:a.required,checked:p,...d,...i,name:a.name,ref:m,onCheck:()=>a.onValueChange(i.value),onKeyDown:eA(b=>{b.key==="Enter"&&b.preventDefault()}),onFocus:eA(i.onFocus,()=>{v.current&&f.current?.click()})})})});eK.displayName=ZG;var nCe="RadioGroupIndicator",tK=_.forwardRef((e,t)=>{const{__scopeRadioGroup:n,...r}=e,i=QG(n);return u.jsx(KG,{...i,...r,ref:t})});tK.displayName=nCe;var nK=JG,rK=eK,rCe=tK;const iCe=_.forwardRef(({className:e,...t},n)=>u.jsx(nK,{className:Ne("grid gap-2",e),...t,ref:n}));iCe.displayName=nK.displayName;const aCe=_.forwardRef(({className:e,...t},n)=>u.jsx(rK,{ref:n,className:Ne("aspect-square h-4 w-4 rounded-full border border-primary text-primary shadow focus:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:u.jsx(rCe,{className:"flex items-center justify-center",children:u.jsx(Gf,{className:"h-3.5 w-3.5 fill-primary"})})}));aCe.displayName=rK.displayName;const ql=_.forwardRef(({className:e,...t},n)=>u.jsx("textarea",{className:Ne("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...t}));ql.displayName="Textarea";function e6(e,t,{checkForDefaultPrevented:n=!0}={}){return function(i){if(e?.(i),n===!1||!i.defaultPrevented)return t?.(i)}}var sCe=Cr[" useInsertionEffect ".trim().toString()]||Ut;function oCe({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[i,a,o]=lCe({defaultProp:t,onChange:n}),l=e!==void 0,d=l?e:i;{const m=_.useRef(e!==void 0);_.useEffect(()=>{const p=m.current;p!==l&&console.warn(`${r} is changing from ${p?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),m.current=l},[l,r])}const f=_.useCallback(m=>{if(l){const p=cCe(m)?m(e):m;p!==e&&o.current?.(p)}else a(m)},[l,e,a,o]);return[d,f]}function lCe({defaultProp:e,onChange:t}){const[n,r]=_.useState(e),i=_.useRef(n),a=_.useRef(t);return sCe(()=>{a.current=t},[t]),_.useEffect(()=>{i.current!==n&&(a.current?.(n),i.current=n)},[n,i]),[n,r,a]}function cCe(e){return typeof e=="function"}var W0="Checkbox",[uCe]=Rr(W0),[dCe,$O]=uCe(W0);function fCe(e){const{__scopeCheckbox:t,checked:n,children:r,defaultChecked:i,disabled:a,form:o,name:l,onCheckedChange:d,required:f,value:m="on",internal_do_not_use_render:p}=e,[v,b]=oCe({prop:n,defaultProp:i??!1,onChange:d,caller:W0}),[x,y]=_.useState(null),[w,E]=_.useState(null),N=_.useRef(!1),j=x?!!o||!!x.closest("form"):!0,O={checked:v,disabled:a,setChecked:b,control:x,setControl:y,name:l,form:o,value:m,hasConsumerStoppedPropagationRef:N,required:f,defaultChecked:fo(i)?!1:i,isFormControl:j,bubbleInput:w,setBubbleInput:E};return u.jsx(dCe,{scope:t,...O,children:hCe(p)?p(O):r})}var iK="CheckboxTrigger",aK=_.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:n,...r},i)=>{const{control:a,value:o,disabled:l,checked:d,required:f,setControl:m,setChecked:p,hasConsumerStoppedPropagationRef:v,isFormControl:b,bubbleInput:x}=$O(iK,e),y=jt(i,m),w=_.useRef(d);return _.useEffect(()=>{const E=a?.form;if(E){const N=()=>p(w.current);return E.addEventListener("reset",N),()=>E.removeEventListener("reset",N)}},[a,p]),u.jsx(gt.button,{type:"button",role:"checkbox","aria-checked":fo(d)?"mixed":d,"aria-required":f,"data-state":uK(d),"data-disabled":l?"":void 0,disabled:l,value:o,...r,ref:y,onKeyDown:e6(t,E=>{E.key==="Enter"&&E.preventDefault()}),onClick:e6(n,E=>{p(N=>fo(N)?!0:!N),x&&b&&(v.current=E.isPropagationStopped(),v.current||E.stopPropagation())})})});aK.displayName=iK;var LO=_.forwardRef((e,t)=>{const{__scopeCheckbox:n,name:r,checked:i,defaultChecked:a,required:o,disabled:l,value:d,onCheckedChange:f,form:m,...p}=e;return u.jsx(fCe,{__scopeCheckbox:n,checked:i,defaultChecked:a,disabled:l,required:o,onCheckedChange:f,name:r,form:m,value:d,internal_do_not_use_render:({isFormControl:v})=>u.jsxs(u.Fragment,{children:[u.jsx(aK,{...p,ref:t,__scopeCheckbox:n}),v&&u.jsx(cK,{__scopeCheckbox:n})]})})});LO.displayName=W0;var sK="CheckboxIndicator",oK=_.forwardRef((e,t)=>{const{__scopeCheckbox:n,forceMount:r,...i}=e,a=$O(sK,n);return u.jsx(la,{present:r||fo(a.checked)||a.checked===!0,children:u.jsx(gt.span,{"data-state":uK(a.checked),"data-disabled":a.disabled?"":void 0,...i,ref:t,style:{pointerEvents:"none",...e.style}})})});oK.displayName=sK;var lK="CheckboxBubbleInput",cK=_.forwardRef(({__scopeCheckbox:e,...t},n)=>{const{control:r,hasConsumerStoppedPropagationRef:i,checked:a,defaultChecked:o,required:l,disabled:d,name:f,value:m,form:p,bubbleInput:v,setBubbleInput:b}=$O(lK,e),x=jt(n,b),y=r0(a),w=Fy(r);_.useEffect(()=>{const N=v;if(!N)return;const j=window.HTMLInputElement.prototype,T=Object.getOwnPropertyDescriptor(j,"checked").set,C=!i.current;if(y!==a&&T){const R=new Event("click",{bubbles:C});N.indeterminate=fo(a),T.call(N,fo(a)?!1:a),N.dispatchEvent(R)}},[v,y,a,i]);const E=_.useRef(fo(a)?!1:a);return u.jsx(gt.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??E.current,required:l,disabled:d,name:f,value:m,form:p,...t,tabIndex:-1,ref:x,style:{...t.style,...w,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});cK.displayName=lK;function hCe(e){return typeof e=="function"}function fo(e){return e==="indeterminate"}function uK(e){return fo(e)?"indeterminate":e?"checked":"unchecked"}const Y0=_.forwardRef(({className:e,...t},n)=>u.jsx(LO,{ref:n,className:Ne("grid place-content-center peer h-4 w-4 shrink-0 rounded-sm border border-primary shadow focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:u.jsx(oK,{className:Ne("grid place-content-center text-current"),children:u.jsx(ho,{className:"h-4 w-4"})})}));Y0.displayName=LO.displayName;function mCe(e,t,{checkForDefaultPrevented:n=!0}={}){return function(i){if(e?.(i),n===!1||!i.defaultPrevented)return t?.(i)}}var pCe=Symbol("radix.slottable");function gCe(e){const t=({children:n})=>u.jsx(u.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=pCe,t}var dK="AlertDialog",[vCe]=Rr(dK,[bF]),_s=bF(),fK=e=>{const{__scopeAlertDialog:t,...n}=e,r=_s(t);return u.jsx(e0,{...r,...n,modal:!0})};fK.displayName=dK;var yCe="AlertDialogTrigger",bCe=_.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=_s(n);return u.jsx(DF,{...i,...r,ref:t})});bCe.displayName=yCe;var xCe="AlertDialogPortal",hK=e=>{const{__scopeAlertDialog:t,...n}=e,r=_s(t);return u.jsx(t0,{...r,...n})};hK.displayName=xCe;var wCe="AlertDialogOverlay",mK=_.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=_s(n);return u.jsx(pd,{...i,...r,ref:t})});mK.displayName=wCe;var Eu="AlertDialogContent",[_Ce,SCe]=vCe(Eu),jCe=gCe("AlertDialogContent"),pK=_.forwardRef((e,t)=>{const{__scopeAlertDialog:n,children:r,...i}=e,a=_s(n),o=_.useRef(null),l=jt(t,o),d=_.useRef(null);return u.jsx(Boe,{contentName:Eu,titleName:gK,docsSlug:"alert-dialog",children:u.jsx(_Ce,{scope:n,cancelRef:d,children:u.jsxs(gd,{role:"alertdialog",...a,...i,ref:l,onOpenAutoFocus:mCe(i.onOpenAutoFocus,f=>{f.preventDefault(),d.current?.focus({preventScroll:!0})}),onPointerDownOutside:f=>f.preventDefault(),onInteractOutside:f=>f.preventDefault(),children:[u.jsx(jCe,{children:r}),u.jsx(NCe,{contentRef:o})]})})})});pK.displayName=Eu;var gK="AlertDialogTitle",vK=_.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=_s(n);return u.jsx(vd,{...i,...r,ref:t})});vK.displayName=gK;var yK="AlertDialogDescription",bK=_.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=_s(n);return u.jsx(yd,{...i,...r,ref:t})});bK.displayName=yK;var ECe="AlertDialogAction",xK=_.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=_s(n);return u.jsx(n0,{...i,...r,ref:t})});xK.displayName=ECe;var wK="AlertDialogCancel",_K=_.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,{cancelRef:i}=SCe(wK,n),a=_s(n),o=jt(t,i);return u.jsx(n0,{...a,...r,ref:o})});_K.displayName=wK;var NCe=({contentRef:e})=>{const t=`\`${Eu}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Eu}\` by passing a \`${yK}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Eu}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return _.useEffect(()=>{document.getElementById(e.current?.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},ACe=fK,TCe=hK,SK=mK,jK=pK,EK=xK,NK=_K,AK=vK,TK=bK;const t6=ACe,OCe=TCe,OK=_.forwardRef(({className:e,...t},n)=>u.jsx(SK,{className:Ne("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:n}));OK.displayName=SK.displayName;const tA=_.forwardRef(({className:e,...t},n)=>u.jsxs(OCe,{children:[u.jsx(OK,{}),u.jsx(jK,{ref:n,className:Ne("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));tA.displayName=jK.displayName;const nA=({className:e,...t})=>u.jsx("div",{className:Ne("flex flex-col space-y-2 text-center sm:text-left",e),...t});nA.displayName="AlertDialogHeader";const rA=({className:e,...t})=>u.jsx("div",{className:Ne("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});rA.displayName="AlertDialogFooter";const iA=_.forwardRef(({className:e,...t},n)=>u.jsx(AK,{ref:n,className:Ne("text-lg font-semibold",e),...t}));iA.displayName=AK.displayName;const aA=_.forwardRef(({className:e,...t},n)=>u.jsx(TK,{ref:n,className:Ne("text-sm text-muted-foreground",e),...t}));aA.displayName=TK.displayName;const sA=_.forwardRef(({className:e,...t},n)=>u.jsx(EK,{ref:n,className:Ne(zA(),e),...t}));sA.displayName=EK.displayName;const oA=_.forwardRef(({className:e,...t},n)=>u.jsx(NK,{ref:n,className:Ne(zA({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));oA.displayName=NK.displayName;const CK={palmes:{label:"Palmes",icon:new URL("/competition-V2/assets/palmes-CV0uH23E.svg",import.meta.url).href},tuba:{label:"Tuba",icon:new URL("data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20fill='none'%20stroke='currentColor'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'%3e%3cg%20transform='translate(-1.076923%201.074519)%20scale(1.025641)'%20vector-effect='non-scaling-stroke'%3e%3cpath%20d='M6.5%2010.5c1.4-1.6%203.4-2.5%205.5-2.5s4.1.9%205.5%202.5v3.1c0%201-.8%201.9-1.9%201.9h-1.4c-.8%200-1.5-.5-1.8-1.2l-.4-1.1-.4%201.1c-.3.7-1%201.2-1.8%201.2H8.4c-1%200-1.9-.8-1.9-1.9z'%20/%3e%3cpath%20d='M6.5%2011.2H5.2c-.7%200-1.2.5-1.2%201.2v1.2'%20/%3e%3cpath%20d='M17.5%2011.2h1.3c.7%200%201.2.5%201.2%201.2v1.2'%20/%3e%3cpath%20d='M19.5%206.5V4.8c0-.4.3-.8.8-.8H21'%20/%3e%3cpath%20d='M19.5%206.5c-1.2%200-2.2%201-2.2%202.2v4.8c0%202.1%201.7%203.8%203.8%203.8h.4'%20/%3e%3c/g%3e%3c/svg%3e",import.meta.url).href},plaquettes:{label:"Plaquettes",icon:new URL("data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%3e%3cg%20transform='translate(0.330484%200.336182)%20scale(0.045584)'%20vector-effect='non-scaling-stroke'%3e%3cg%20transform='translate(0.000000,512.000000)%20scale(0.100000,-0.100000)'%20fill='currentColor'%20stroke='none'%3e%3cpath%20d='M2552%204748%20c-373%20-58%20-928%20-529%20-1377%20-1168%20-218%20-310%20-318%20-519%20-362%20-750%20-24%20-131%20-24%20-494%201%20-665%2047%20-329%20150%20-738%20276%20-1100%2011%20-33%2041%20-141%2066%20-239%2024%20-99%2056%20-206%2071%20-238%2037%20-83%20114%20-151%20200%20-178%20120%20-37%20280%20-20%20392%2040%20l55%2030%20495%200%20c415%20-1%20499%20-3%20515%20-15%2045%20-34%20279%20-97%20359%20-96%2067%200%20135%2040%20216%20127%20315%20339%20711%201187%20842%201809%2067%20318%20-12%20670%20-252%201110%20-187%20345%20-459%20698%20-738%20959%20-307%20287%20-550%20407%20-759%20374z%20m250%20-200%20c185%20-88%20403%20-270%20618%20-515%20302%20-343%20550%20-750%20668%20-1094%20105%20-305%20104%20-462%20-7%20-856%20-146%20-516%20-516%20-1254%20-746%20-1490%20-54%20-56%20-65%20-63%20-100%20-63%20-22%200%20-56%204%20-75%209%20-19%206%20-54%2015%20-77%2021%20l-43%2011%200%2073%200%2074%2061%204%20c70%205%2099%2028%2099%2078%200%2049%20-29%2072%20-100%2079%20l-64%206%20264%20227%20c146%20125%20277%20245%20291%20265%2015%2021%2091%20160%20170%20308%20118%20223%20157%20288%20227%20374%20108%20133%20125%20163%20125%20216%200%2067%20-29%20108%20-148%20205%20-114%2094%20-157%20115%20-216%20104%20-47%20-10%20-457%20-248%20-496%20-289%20-50%20-53%20-57%20-96%20-33%20-207%2016%20-69%2018%20-98%2011%20-115%20-6%20-13%20-14%20-23%20-18%20-22%20-12%200%20-113%20145%20-124%20179%20-9%2024%20-5%2050%2021%20142%2017%2062%2038%20123%2046%20135%208%2012%2014%2035%2014%2050%200%2015%2068%20258%20151%20538%20182%20619%20182%20619%20174%20672%20-10%2069%20-52%20105%20-168%20142%20-58%2019%20-118%2031%20-150%2031%20-111%200%20-215%20-53%20-261%20-133%20-14%20-23%20-56%20-145%20-94%20-271%20-39%20-125%20-76%20-233%20-82%20-240%20-9%20-8%20-11%2074%20-8%20349%20l3%20360%20-24%2048%20c-29%2059%20-98%20121%20-158%20141%20-26%209%20-77%2016%20-114%2016%20-125%200%20-236%20-82%20-269%20-198%20-5%20-20%20-10%20-89%20-10%20-152%20-1%20-111%20-1%20-114%20-15%20-76%20-33%2093%20-104%20148%20-198%20154%20-55%204%20-71%200%20-124%20-26%20-33%20-17%20-73%20-47%20-89%20-67%20-16%20-20%20-46%20-54%20-66%20-75%20-47%20-49%20-50%20-89%20-11%20-128%2027%20-26%2028%20-34%2070%20-377%2023%20-192%2042%20-360%2043%20-373%200%20-18%20-24%204%20-102%2095%20-56%2065%20-117%20139%20-136%20166%20-19%2026%20-55%2060%20-81%2075%20-39%2023%20-57%2027%20-121%2027%20-86%200%20-135%20-21%20-195%20-80%20-45%20-46%20-65%20-94%20-65%20-161%200%20-49%2015%20-83%20198%20-451%20l199%20-398%20-13%20-50%20c-78%20-298%20-2%20-723%20187%20-1047%2021%20-36%2039%20-71%2039%20-76%200%20-5%20-28%20-12%20-61%20-14%20-70%20-5%20-99%20-28%20-99%20-78%200%20-50%2029%20-73%2099%20-78%20l61%20-4%200%20-78%200%20-77%20-31%20-7%20c-68%20-13%20-143%20-6%20-197%2019%20-46%2021%20-56%2032%20-77%2077%20-13%2029%20-42%20127%20-65%20218%20-22%2091%20-65%20239%20-95%20330%20-182%20557%20-258%20945%20-259%201315%20-1%20277%2026%20409%20122%20600%20222%20446%20778%201083%201158%201328%20167%20107%20281%20148%20404%20145%2074%20-3%2095%20-8%20162%20-40z%20m-287%20-614%20c64%20-30%2064%20-35%2057%20-468%20l-7%20-389%20-27%20-20%20-26%20-20%20-96%2079%20-96%2079%200%20333%20c0%20364%202%20376%2058%20406%2036%2020%2096%2020%20137%200z%20m-537%20-279%20c18%20-23%2052%20-188%2041%20-199%20-3%20-4%20-140%20104%20-178%20140%20-10%2010%2012%2051%2036%2066%2041%2025%2078%2023%20101%20-7z%20m1296%204%20c61%20-18%2066%20-22%2060%20-42%20-9%20-30%20-8%20-30%20-203%20-162%20-137%20-93%20-171%20-112%20-165%20-94%204%2013%2022%2073%2041%20134%2039%20127%2050%20146%2095%20168%2044%2022%2093%2021%20172%20-4z%20m-1286%20-394%20c40%20-33%2075%20-69%2077%20-80%203%20-11%2016%20-96%2030%20-190%2014%20-93%2028%20-180%2030%20-192%204%20-19%20-9%20-32%20-85%20-83%20-85%20-57%20-90%20-59%20-94%20-38%20-7%2034%20-76%20629%20-76%20656%200%2027%20-10%2033%20118%20-73z%20m1177%20-232%20c-48%20-164%20-96%20-328%20-107%20-365%20l-20%20-67%20-116%2096%20c-65%2053%20-119%2098%20-121%2099%20-8%207%2083%20295%2098%20308%2032%2028%20344%20236%20349%20232%202%20-2%20-35%20-139%20-83%20-303z%20m-1779%20-60%20c13%20-16%20120%20-141%20239%20-280%20225%20-264%20249%20-284%20294%20-251%2048%2035%20231%20158%20236%20158%203%200%205%20-9%205%20-19%200%20-36%2043%20-74%2081%20-73%2058%201%2079%2037%2079%20131%20l0%2078%2092%2061%2091%2061%2028%20-22%2028%20-22%200%20-133%20c1%20-127%202%20-134%2026%20-157%2033%20-34%2086%20-34%20113%200%2011%2014%2025%2048%2032%2075%207%2028%2015%2050%2018%2050%205%200%20198%20-157%20239%20-194%202%20-1%20-11%20-49%20-28%20-107%20-38%20-128%20-41%20-214%20-12%20-279%2028%20-60%20165%20-245%20200%20-267%2016%20-10%2046%20-18%2071%20-18%2041%200%2048%204%2094%2055%2092%20102%20102%20143%2069%20282%20-10%2042%20-15%2081%20-12%2085%207%2011%20400%20233%20411%20233%204%200%2046%20-32%2093%20-71%20l86%20-71%20-94%20-117%20c-81%20-101%20-116%20-158%20-248%20-407%20l-154%20-289%20-274%20-237%20c-151%20-130%20-282%20-247%20-291%20-259%20-10%20-12%20-18%20-36%20-18%20-55%20l0%20-34%20-520%200%20-520%200%200%2030%20c0%2017%20-23%2070%20-55%20127%20-178%20319%20-243%20671%20-174%20940%2010%2042%2019%2087%2019%20100%200%2013%20-90%20204%20-201%20424%20-138%20276%20-199%20409%20-197%20427%204%2033%2059%2072%20101%2072%2020%200%2037%20-9%2053%20-27z%20m963%20-7%20l22%20-23%20-26%20-17%20-25%20-16%200%2040%20c0%2022%201%2040%203%2040%202%200%2013%20-11%2026%20-24z%20m531%20-2286%20l0%20-40%20-520%200%20-520%200%200%2040%200%2040%20520%200%20520%200%200%20-40z'%20/%3e%3c/g%3e%3c/g%3e%3c/svg%3e",import.meta.url).href},pull:{label:"Pull",icon:new URL("data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%3e%3cg%20transform='translate(-25.188612%20-8.200661)%20scale(0.024294)'%20vector-effect='non-scaling-stroke'%3e%3cg%20transform='translate(0.000000,2000.000000)%20scale(0.100000,-0.100000)'%20fill='currentColor'%20stroke='none'%3e%3cpath%20d='M12470%2014405%20c-281%20-42%20-492%20-154%20-700%20-371%20-151%20-157%20-266%20-333%20-371%20-564%20-151%20-333%20-217%20-640%20-190%20-887%2019%20-173%2045%20-264%20117%20-403%20111%20-214%20304%20-407%20576%20-576%20318%20-196%20845%20-390%201368%20-504%20359%20-78%20577%20-113%20930%20-149%20252%20-26%20310%20-34%20370%20-48%20185%20-42%20387%20-132%20552%20-245%2057%20-39%20162%20-131%20275%20-240%20329%20-318%20628%20-565%20975%20-806%20462%20-321%20860%20-520%201208%20-606%20183%20-46%20229%20-51%20430%20-50%20179%200%20204%202%20300%2028%20225%2058%20394%20157%20565%20330%20263%20264%20465%20678%20530%201083%2019%20116%2019%20302%201%20413%20-73%20442%20-378%20800%20-911%201070%20-210%20107%20-536%20232%20-770%20295%20-33%209%20-73%2020%20-90%2025%20-190%2052%20-454%20113%20-610%20140%20-305%2053%20-447%2072%20-655%2090%20-332%2028%20-465%2060%20-680%20161%20-169%2080%20-288%20166%20-450%20324%20-385%20374%20-731%20659%20-1095%20902%20-539%20360%20-944%20538%20-1335%20588%20-134%2018%20-223%2018%20-340%200z'%20/%3e%3c/g%3e%3c/g%3e%3c/svg%3e",import.meta.url).href},elastique:{label:"lastique",icon:new URL("data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%3e%3cg%20transform='translate(-4.406250%200.429487)%20scale(0.039062)'%20vector-effect='non-scaling-stroke'%3e%3cg%20transform='translate(0.000000,592.000000)%20scale(0.100000,-0.100000)'%20fill='currentColor'%20stroke='none'%3e%3cpath%20d='M3355%205506%20c-166%20-27%20-386%20-101%20-555%20-186%20-539%20-270%20-958%20-781%20-1110%20-1354%20-76%20-286%20-64%20-542%2035%20-777%20175%20-415%20606%20-629%201116%20-553%20168%2024%20338%2023%20451%20-4%20304%20-74%20514%20-289%20584%20-599%2023%20-102%2023%20-271%20-1%20-432%20-63%20-434%2080%20-814%20385%20-1021%2090%20-61%20233%20-126%20330%20-150%20468%20-116%201113%20121%201566%20574%20262%20262%20444%20570%20546%20921%20145%20502%207%20962%20-365%201214%20-198%20134%20-503%20191%20-782%20146%20-156%20-26%20-334%20-24%20-450%204%20-291%2070%20-506%20285%20-576%20576%20-27%20112%20-29%20302%20-5%20450%2094%20584%20-209%201064%20-748%201181%20-97%2022%20-321%2027%20-421%2010z%20m420%20-185%20c424%20-108%20652%20-491%20582%20-976%20-26%20-180%20-30%20-254%20-18%20-368%2046%20-425%20293%20-728%20685%20-841%20167%20-49%20326%20-55%20556%20-20%20535%2079%20935%20-197%201001%20-691%2044%20-334%20-108%20-770%20-391%20-1125%20-78%20-97%20-254%20-272%20-350%20-347%20-223%20-174%20-496%20-303%20-760%20-360%20-123%20-26%20-346%20-23%20-455%206%20-108%2028%20-246%2098%20-323%20163%20-216%20182%20-311%20489%20-257%20823%2024%20144%2024%20360%201%20469%20-67%20306%20-239%20534%20-502%20665%20-215%20107%20-432%20133%20-719%2086%20-180%20-30%20-374%20-13%20-523%2045%20-372%20144%20-559%20543%20-467%20996%20137%20671%20735%201290%201415%201464%20174%2044%20376%2048%20525%2011z'%20/%3e%3cpath%20d='M3376%205135%20c-493%20-94%20-976%20-473%20-1211%20-950%20-209%20-425%20-204%20-803%2015%20-1022%20151%20-150%20369%20-203%20648%20-157%20144%2024%20370%2022%20499%20-5%20471%20-98%20790%20-409%20910%20-888%2024%20-96%2027%20-127%2027%20-278%200%20-122%20-4%20-194%20-17%20-254%20-51%20-246%207%20-492%20148%20-632%20193%20-191%20469%20-229%20815%20-113%20517%20173%20941%20597%201114%201114%20113%20338%2078%20616%20-100%20800%20-151%20157%20-357%20209%20-647%20164%20-151%20-24%20-376%20-21%20-504%205%20-483%20100%20-814%20430%20-914%20914%20-27%20130%20-29%20356%20-5%20499%2020%20121%2020%20260%201%20353%20-44%20210%20-198%20377%20-405%20440%20-78%2023%20-274%2029%20-374%2010z%20m280%20-166%20c174%20-32%20301%20-157%20334%20-329%2014%20-76%2012%20-165%20-7%20-283%20-24%20-154%20-22%20-402%205%20-542%2038%20-194%20105%20-361%20209%20-519%2060%20-91%20248%20-279%20339%20-339%20158%20-104%20351%20-180%20539%20-213%20130%20-23%20381%20-23%20522%200%20236%2037%20377%208%20495%20-102%20155%20-144%20166%20-414%2032%20-740%20-77%20-189%20-173%20-330%20-334%20-495%20-217%20-224%20-441%20-359%20-712%20-432%20-243%20-65%20-444%20-31%20-562%2095%20-108%20115%20-138%20269%20-100%20498%2026%20149%2023%20397%20-5%20540%20-108%20553%20-497%20945%20-1054%201064%20-130%2027%20-398%2030%20-554%204%20-233%20-37%20-378%20-8%20-493%20100%20-126%20118%20-160%20319%20-95%20563%2049%20181%20140%20367%20259%20524%2082%20109%20287%20304%20395%20375%20276%20181%20576%20270%20787%20231z'%20/%3e%3cpath%20d='M4715%204206%20c-14%20-163%2021%20-328%2096%20-452%2071%20-118%20216%20-221%20364%20-259%20141%20-36%20342%20-28%20378%2016%2023%2028%2022%2081%20-2%20110%20-18%2023%20-25%2024%20-158%2025%20-111%201%20-151%206%20-205%2023%20-210%2067%20-324%20264%20-302%20522%207%2088%2010%2085%20-96%2095%20l-68%207%20-7%20-87z'%20/%3e%3cpath%20d='M2922%202441%20c-56%20-10%20-86%20-40%20-86%20-87%200%20-28%207%20-42%2029%20-61%2027%20-24%2033%20-25%20114%20-18%20179%2013%20324%20-36%20423%20-144%2093%20-100%20124%20-212%20114%20-407%20-6%20-112%20-5%20-122%2014%20-142%2040%20-43%20103%20-37%20136%2013%2026%2040%2032%20246%2010%20355%20-50%20245%20-208%20413%20-447%20475%20-71%2019%20-243%2028%20-307%2016z'%20/%3e%3c/g%3e%3c/g%3e%3c/svg%3e",import.meta.url).href}},RK=e=>e.trim().toLowerCase(),CCe=e=>CK[RK(e)]?.icon??null;function n6({equipment:e,className:t,showIcon:n=!0}){const r=CK[RK(e)];return u.jsxs("span",{className:Ne("flex items-center gap-2 rounded-full border bg-white px-3 py-1 text-xs text-muted-foreground",t),children:[n&&r?.icon?u.jsx("img",{src:r.icon,alt:"",className:"h-3.5 w-3.5 text-primary","aria-hidden":"true"}):null,u.jsx("span",{children:r?.label??e})]})}const tu=["V0","V1","V2","V3","Max"],xm={V0:"bg-emerald-500",V1:"bg-green-500",V2:"bg-yellow-500",V3:"bg-orange-500",Max:"bg-red-600"},lA=e=>e==="Max"?"MAX":e;function RCe({value:e,className:t,size:n="md"}){const r=tu.includes(e)?e:tu[tu.length-1],i=tu.indexOf(r)+1,a=n==="sm"?"h-2 w-2":"h-2.5 w-2.5";return u.jsx("div",{className:Ne("flex items-center gap-1",t),"aria-label":`Intensit ${lA(r)}`,children:tu.map((o,l)=>u.jsx("span",{className:Ne(a,"rounded-full",l<i?xm[o]??"bg-primary":"bg-slate-200")},o))})}const r6=["V0","V1","V2","V3","Max"],PCe={V0:"bg-emerald-500",V1:"bg-green-500",V2:"bg-yellow-500",V3:"bg-orange-500",Max:"bg-red-600"},i6={souple:"V0",facile:"V0",relache:"V0",relch:"V0"},MCe=e=>{if(!e)return"V0";const t=e.trim();if(!t)return"V0";const n=t.toLowerCase();if(i6[n])return i6[n];const r=t.toUpperCase();if(r==="MAX")return"Max";if(r.startsWith("V")){const i=r.replace("V","V");return i==="V4"||i==="V5"?"Max":i}return t};function kCe({value:e,onChange:t,className:n,ariaLabel:r="Slection d'intensit"}){const i=MCe(e),a=r6.includes(i)?i:"Max";return u.jsx("div",{role:"radiogroup","aria-label":r,className:Ne("flex flex-wrap items-center gap-2",n),children:r6.map(o=>{const l=a===o;return u.jsxs("button",{type:"button",role:"radio","aria-checked":l,"aria-label":`Intensit ${o==="Max"?"MAX":o}`,onClick:()=>t(o),className:Ne("flex flex-col items-center gap-1 rounded-full px-2 py-1 text-[10px] font-semibold text-muted-foreground transition","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary",l?"text-foreground":"hover:text-foreground"),children:[u.jsx("span",{className:Ne("h-3 w-3 rounded-full",l?PCe[o]??"bg-primary":"bg-slate-200")}),u.jsx("span",{children:o==="Max"?"MAX":o})]},o)})})}var DCe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ICe=DCe.reduce((e,t)=>{const n=Yy(`Primitive.${t}`),r=_.forwardRef((i,a)=>{const{asChild:o,...l}=i,d=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),u.jsx(d,{...l,ref:a})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{}),$Ce="Separator",a6="horizontal",LCe=["horizontal","vertical"],PK=_.forwardRef((e,t)=>{const{decorative:n,orientation:r=a6,...i}=e,a=BCe(r)?r:a6,l=n?{role:"none"}:{"aria-orientation":a==="vertical"?a:void 0,role:"separator"};return u.jsx(ICe.div,{"data-orientation":a,...l,...i,ref:t})});PK.displayName=$Ce;function BCe(e){return LCe.includes(e)}var MK=PK;const BO=_.forwardRef(({className:e,orientation:t="horizontal",decorative:n=!0,...r},i)=>u.jsx(MK,{ref:i,decorative:n,orientation:t,className:Ne("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...r}));BO.displayName=MK.displayName;function zf({children:e,className:t}){return u.jsx("div",{className:Ne("flex flex-wrap items-center gap-2 text-xs",t),children:e})}const mj=e=>{const t=Number(e);return Number.isFinite(t)?t:0},qO=(e=[])=>e.reduce((t,n)=>{const r=n.raw_payload??{},i=mj(r.block_repetitions),a=mj(r.exercise_repetitions),o=mj(n.distance);return t+i*a*o},0),qCe=e=>e?e.split(`
`).map(t=>t.trim()).filter(Boolean):[],zCe={V0:"text-emerald-800",V1:"text-green-800",V2:"text-yellow-800",V3:"text-orange-800",Max:"text-red-800"},UCe={V0:"ring-emerald-200",V1:"ring-green-200",V2:"ring-yellow-200",V3:"ring-orange-200",Max:"ring-red-200"},s6={souple:"V0",facile:"V0",relache:"V0",relch:"V0"},FCe={pap:"Pap",papillon:"Pap",crawl:"Crawl",dos:"Dos",brasse:"Brasse","4n":"4 nages","4 nages":"4 nages",spe:"Sp",sp:"Sp"},VCe={nc:"NC",educ:"ducatif",jambes:"Jambes"},HCe={nc:"bg-sky-100 text-sky-900 ring-sky-200",educ:"bg-violet-100 text-violet-900 ring-violet-200",jambes:"bg-teal-100 text-teal-900 ring-teal-200"},GCe=e=>e?FCe[e]??e:null,KCe=e=>{if(!e)return null;const t=e.trim();if(!t)return null;const n=t.toLowerCase();if(s6[n])return s6[n];const r=t.toUpperCase();if(r==="MAX")return"Max";if(r.startsWith("V")){const i=Number.parseInt(r.slice(1),10);if(Number.isFinite(i)&&i>=4)return"Max";if(tu.includes(r))return r}return t},WCe=(e=[])=>{const t=new Map;return e.forEach((n,r)=>{const i=n.raw_payload??{},a=typeof i=="object"?i:{},o=a.block_title||a.section||"Bloc",l=Number(a.block_order??0),d=`${l}-${o}`,f=a.block_equipment??a.equipment,m=a.block_modalities??a.modalities??null,p=Array.isArray(f)?f:f?String(f).split(",").map(j=>j.trim()).filter(Boolean):[];t.has(d)||t.set(d,{key:d,title:o,description:a.block_description??null,modalities:m,equipment:p.length?p:null,order:Number.isFinite(l)?l:0,repetitions:a.block_repetitions??null,items:[]});const v=t.get(d),b=a.exercise_repetitions??null,x=n.distance??null,y=n.label||(b&&x?`${b}x${x}m`:null)||(x?`${x}m`:null),w=a.exercise_modalities??n.notes??null,E=a.exercise_equipment??a.equipment,N=Array.isArray(E)?E:E?String(E).split(",").map(j=>j.trim()).filter(Boolean):[];v.items.push({...n,label:y||a.exercise_label||`Exercice ${r+1}`,notes:w,raw_payload:{...a,exercise_modalities:w,exercise_equipment:N}})}),Array.from(t.values()).sort((n,r)=>n.order!==r.order?n.order-r.order:n.title.localeCompare(r.title))},YCe=e=>`inline-flex items-center gap-2 rounded-full px-2.5 py-1 text-xs font-semibold ring-1 bg-white ${zCe[e]??"text-foreground"} ${UCe[e]??"ring-border"}`;function cA({title:e,description:t,items:n=[],showHeader:r=!0,compactMode:i=!1,onExerciseSelect:a}){const o=WCe(n),l=!!a;return u.jsxs("div",{className:"space-y-6",children:[r?u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"space-y-1",children:[u.jsx("h2",{className:"text-2xl font-display font-semibold uppercase tracking-wide",children:e}),t?u.jsx("p",{className:"text-sm text-muted-foreground",children:t}):null]}),u.jsx(BO,{})]}):null,o.length===0?u.jsx("div",{className:"rounded-2xl border border-dashed border-muted/70 bg-muted/30 p-6 text-sm text-muted-foreground",children:"Aucun contenu dtaill pour cette sance."}):o.map((d,f)=>u.jsxs(Pe,{className:"overflow-hidden border border-slate-200 shadow-sm",children:[u.jsxs(Ze,{className:"space-y-3 bg-slate-50/80 px-5 py-4",children:[u.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-3",children:[u.jsxs("div",{children:[u.jsxs("div",{className:"text-xs uppercase tracking-[0.2em] text-muted-foreground",children:["Bloc ",f+1]}),u.jsx("div",{className:"text-lg font-semibold tracking-tight text-slate-900",children:d.title}),d.description?u.jsx("p",{className:"mt-1 text-sm text-muted-foreground",children:d.description}):null]}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[d.repetitions?u.jsxs(ln,{variant:"secondary",className:"text-xs",children:[" ",d.repetitions,"x"]}):null,u.jsxs(ln,{variant:"outline",className:"text-xs",children:[d.items.length," exercices"]})]})]}),u.jsxs(zf,{className:"text-muted-foreground",children:[d.modalities?u.jsx("span",{className:"inline-flex max-w-[280px] items-center rounded-full bg-white px-2.5 py-1 ring-1 ring-slate-200",title:d.modalities,children:u.jsxs("span",{className:"truncate",children:["Modalits : ",d.modalities]})}):null,d.equipment?.length?u.jsx(zf,{children:d.equipment.map(m=>u.jsx(n6,{equipment:m},m))}):null]})]}),u.jsx(Be,{className:"space-y-4 bg-white px-5 py-4",children:d.items.map((m,p)=>{const v=m.raw_payload??{},b=KCe(v.exercise_intensity??m.intensity??null),x=GCe(v.exercise_stroke),y=v.exercise_stroke_type?VCe[v.exercise_stroke_type]??v.exercise_stroke_type:null,w=Array.isArray(v.exercise_equipment)?v.exercise_equipment:[],E=m.label||`Exercice ${p+1}`,N={label:E,distance:m.distance??null,repetitions:v.exercise_repetitions??null,rest:v.exercise_rest??null,stroke:x,strokeType:y,intensity:b,modalities:m.notes??null,equipment:w,blockTitle:d.title,blockIndex:f},j=qCe(m.notes),O=u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-3",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx("div",{className:"text-sm font-semibold tracking-tight text-slate-900",children:E}),i?u.jsxs(zf,{className:"text-muted-foreground",children:[v.exercise_repetitions?u.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-white px-2 py-0.5 ring-1 ring-slate-200",children:[v.exercise_repetitions,"x"]}):null,m.distance?u.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-white px-2 py-0.5 ring-1 ring-slate-200",children:[u.jsx(Sk,{className:"h-3 w-3"})," ",m.distance,"m"]}):null,v.exercise_rest?u.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-white px-2 py-0.5 ring-1 ring-slate-200",children:[u.jsx(mv,{className:"h-3 w-3"})," ",v.exercise_rest,"s"]}):null,x?u.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-white px-2 py-0.5 ring-1 ring-slate-200",children:[u.jsx(hi,{className:"h-3 w-3"})," ",x]}):null,b?u.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-white px-2 py-0.5 ring-1 ring-slate-200",children:[u.jsx("span",{className:`h-2 w-2 rounded-full ${xm[b]??"bg-primary"}`}),lA(b)]}):null]}):u.jsxs(zf,{className:"text-muted-foreground",children:[v.exercise_repetitions?u.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-white px-2 py-0.5 ring-1 ring-slate-200",children:[v.exercise_repetitions,"x"]}):null,m.distance?u.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-white px-2 py-0.5 ring-1 ring-slate-200",children:[u.jsx(Sk,{className:"h-3 w-3"})," ",m.distance,"m"]}):null,v.exercise_rest?u.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-white px-2 py-0.5 ring-1 ring-slate-200",children:[u.jsx(mv,{className:"h-3 w-3"})," ",v.exercise_rest,"s"]}):null,v.exercise_stroke?u.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-white px-2 py-0.5 ring-1 ring-slate-200",children:[u.jsx(hi,{className:"h-3 w-3"})," ",x]}):null]})]}),i?null:u.jsxs("div",{className:"flex items-center gap-2 self-center",children:[b?u.jsxs("span",{className:YCe(b),children:[u.jsx("span",{className:`h-2 w-2 rounded-full ${xm[b]??"bg-primary"}`}),lA(b)]}):null,b?u.jsx(RCe,{value:b,className:"self-center"}):null]})]}),!i&&(x||y)?u.jsxs("div",{className:"mt-3 flex flex-wrap gap-2 text-[11px] font-semibold",children:[x?u.jsxs(ln,{className:"rounded-full bg-blue-100 px-2.5 py-1 text-blue-900 ring-1 ring-blue-200",children:["Nage : ",x]}):null,y?u.jsxs("span",{className:`inline-flex items-center rounded-full px-2.5 py-1 ring-1 ${HCe[v.exercise_stroke_type]??"bg-muted text-foreground ring-border"}`,children:["Type : ",y]}):null]}):null,!i&&j.length?u.jsx("div",{className:"mt-3 rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm text-slate-600",children:u.jsx("ul",{className:"list-disc space-y-1 pl-4",children:j.map((T,C)=>u.jsx("li",{children:T},`${d.key}-${p}-line-${C}`))})}):null,i&&j.length?u.jsx("div",{className:"mt-2 text-xs text-muted-foreground",children:u.jsx("ul",{className:"list-disc space-y-1 pl-4",children:j.map((T,C)=>u.jsx("li",{children:T},`${d.key}-${p}-compact-${C}`))})}):null,w.length?u.jsx(zf,{className:"mt-3",children:w.map(T=>u.jsx(n6,{equipment:T},T))}):null]});return l?u.jsx("button",{type:"button",onClick:()=>a?.(N),className:"w-full rounded-2xl border border-slate-200 bg-slate-50 p-4 text-left transition hover:border-slate-300 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary","aria-label":`Voir les dtails de ${E}`,children:O},`${d.key}-${p}`):u.jsx("div",{className:"w-full rounded-2xl border border-slate-200 bg-slate-50 p-4 text-left",children:O},`${d.key}-${p}`)})})]},d.key))]})}function o6(e){return`Sance du ${Sn(e,"dd/MM/yyyy")} - Soir - Matin`}const l6={souple:"V0",facile:"V0",relache:"V0",relch:"V0"},XCe=["V0","V1","V2","V3","Max"],wm=e=>{if(!e)return"V0";const t=e.trim();if(!t)return"V0";const n=t.toLowerCase();if(l6[n])return l6[n];const r=t.toUpperCase();if(r==="MAX")return"Max";if(r.startsWith("V")){const i=Number.parseInt(r.slice(1),10);if(Number.isFinite(i)&&i>=4)return"Max";if(XCe.includes(r))return r}return t},c6=e=>e==="Max"?"MAX":e,pj=e=>{let t=0;return e.flatMap((n,r)=>n.exercises.map((i,a)=>{const o={block_title:n.title,block_description:n.description||null,block_order:r,block_repetitions:n.repetitions??null,block_modalities:n.modalities||null,block_equipment:n.equipment??[],exercise_repetitions:i.repetitions??null,exercise_rest:i.rest??null,exercise_stroke:i.stroke||null,exercise_stroke_type:i.strokeType||null,exercise_intensity:i.intensity?wm(i.intensity):null,exercise_modalities:i.modalities||null,exercise_equipment:i.equipment??[],exercise_order:a},l=i.repetitions&&i.distance?`${i.repetitions}x${i.distance}m`:i.distance?`${i.distance}m`:null;return{ordre:t++,label:l,distance:i.distance??null,duration:null,intensity:i.intensity?wm(i.intensity):null,notes:i.modalities||null,raw_payload:o}}))},QCe=(e=[])=>{const t=new Map;return e.forEach(n=>{const r=n.raw_payload??{},i=r.block_title||r.section||"Bloc",a=Number(r.block_order??0),o=`${a}-${i}`,l=r.block_equipment??r.equipment??[],d=(Array.isArray(l)?l:String(l).split(",")).map(v=>String(v)).map(v=>u6(v)).filter(Boolean);t.has(o)||t.set(o,{title:i,repetitions:r.block_repetitions??null,description:r.block_description??"",modalities:r.block_modalities??r.modalities??"",equipment:d,exercises:[],order:Number.isFinite(a)?a:0,exerciseOrder:new Map});const f=t.get(o),m=Number(r.exercise_order??n.ordre??f.exercises.length),p=wm(r.exercise_intensity??n.intensity??"V1");f.exerciseOrder.set(m,{repetitions:r.exercise_repetitions??null,distance:n.distance??null,rest:r.exercise_rest??null,stroke:r.exercise_stroke??r.stroke??"crawl",strokeType:r.exercise_stroke_type??r.stroke_type??"nc",intensity:p,modalities:r.exercise_modalities??n.notes??"",equipment:Array.isArray(r.exercise_equipment)?r.exercise_equipment.map(v=>u6(v)):[]})}),Array.from(t.values()).sort((n,r)=>n.order-r.order).map(n=>({title:n.title,repetitions:n.repetitions,description:n.description,modalities:n.modalities,equipment:n.equipment,exercises:Array.from(n.exerciseOrder.entries()).sort(([r],[i])=>r-i).map(([,r])=>r)}))},JCe=e=>e?e.length>48?`${e.slice(0,45).trim()}`:e:"",u6=e=>{const t=e.trim().toLowerCase();return t&&(t.startsWith("plaquette")?"plaquettes":t.startsWith("palm")?"palmes":t.startsWith("tuba")?"tuba":t.startsWith("pull")?"pull":t.startsWith("elas")?"elastique":t)},ZCe=(e=[])=>new Set(e.map(n=>{const r=n.raw_payload;return r?.block_title||r?.section||"Bloc"})).size,eRe=e=>{const t=qO(e.items??[]),r=e.items?.some(a=>a.duration!=null)??!1?e.items?.reduce((a,o)=>a+(o.duration??0),0)??0:null,i=ZCe(e.items??[]);return{totalDistance:t,totalDuration:r,blockCount:i}},d6="swim_catalog_archived_ids",tRe=(e,t)=>t===null?!1:!t.some(n=>n.session_type==="swim"&&n.session_id===e);function nRe(){const{toast:e}=pi(),t=oa(),{userId:n,role:r}=sn(),[i,a]=_.useState(!1),[o,l]=_.useState(null),[d,f]=_.useState(null),[m,p]=_.useState(null),[v,b]=_.useState(""),[x,y]=_.useState("compact"),[w,E]=_.useState(new Set),N=()=>({id:null,name:o6(new Date),description:"",estimatedDuration:0,blocks:[]}),[j,O]=_.useState(N),{data:T}=Pt({queryKey:["swim_catalog"],queryFn:()=>De.getSwimCatalog()}),{data:C}=Pt({queryKey:["coach-assignments"],queryFn:()=>De.getAssignmentsForCoach(),enabled:r==="coach"||r==="admin"});_.useEffect(()=>{if(typeof window>"u")return;const ae=window.localStorage.getItem(d6);if(ae)try{const J=JSON.parse(ae);Array.isArray(J)&&E(new Set(J.map(he=>Number(he)).filter(he=>Number.isFinite(he))))}catch{return}},[]),_.useEffect(()=>{typeof window>"u"||window.localStorage.setItem(d6,JSON.stringify(Array.from(w.values())))},[w]);const M=_.useMemo(()=>{const ae=v.trim().toLowerCase();return ae?(T??[]).filter(J=>J.name.toLowerCase().includes(ae)):T??[]},[T,v]).filter(ae=>!w.has(ae.id)),k=Lt({mutationFn:ae=>De.createSwimSession(ae),onSuccess:(ae,J)=>{t.invalidateQueries({queryKey:["swim_catalog"]}),a(!1),O(N()),e({title:J?.id?"Sance natation mise  jour":"Sance natation cre"})}}),I=Lt({mutationFn:ae=>De.deleteSwimSession(ae),onSuccess:()=>{t.invalidateQueries({queryKey:["swim_catalog"]}),f(null),e({title:"Sance supprime"})},onError:()=>{e({title:"Suppression impossible",description:"Cette sance est utilise dans une assignation.",variant:"destructive"})}}),B=()=>{O(ae=>({...ae,blocks:[...ae.blocks,{title:"Nouveau bloc",repetitions:1,description:"",modalities:"",equipment:[],exercises:[{repetitions:4,distance:50,rest:null,stroke:"crawl",strokeType:"nc",intensity:"V2",modalities:"",equipment:[]}]}]}))},$=(ae,J,he)=>{const se=[...j.blocks];se[ae]={...se[ae],[J]:he},O({...j,blocks:se})},F=ae=>{const J=j.blocks.filter((he,se)=>se!==ae);O({...j,blocks:J})},H=(ae,J)=>{const he=J==="up"?ae-1:ae+1;if(he<0||he>=j.blocks.length)return;const se=[...j.blocks],[pe]=se.splice(ae,1);se.splice(he,0,pe),O({...j,blocks:se})},U=ae=>{const J=[...j.blocks];J[ae].exercises.push({repetitions:4,distance:50,rest:null,stroke:"crawl",strokeType:"nc",intensity:"V2",modalities:"",equipment:[]}),O({...j,blocks:J})},D=(ae,J,he,se)=>{const pe=[...j.blocks],xe=[...pe[ae].exercises];xe[J]={...xe[J],[he]:se},pe[ae]={...pe[ae],exercises:xe},O({...j,blocks:pe})},G=(ae,J)=>{const he=[...j.blocks];he[ae].exercises=he[ae].exercises.filter((se,pe)=>pe!==J),O({...j,blocks:he})},z=[{value:"palmes",label:"Palmes"},{value:"tuba",label:"Tuba"},{value:"plaquettes",label:"Plaquettes"},{value:"pull",label:"Pull"},{value:"elastique",label:"lastique"}],X=[{value:"pap",label:"Papillon"},{value:"dos",label:"Dos"},{value:"brasse",label:"Brasse"},{value:"crawl",label:"Crawl"},{value:"4n",label:"4 nages"},{value:"spe",label:"Sp"}],ue=[{value:"nc",label:"NC"},{value:"educ",label:"Educ"},{value:"jambes",label:"Jambes"}];X.reduce((ae,J)=>(ae[J.value]=J.label,ae),{});const V=ue.reduce((ae,J)=>(ae[J.value]=J.label,ae),{});j.id;const K=_.useMemo(()=>qO(pj(j.blocks)),[j.blocks]),Z={nc:"bg-sky-100 text-sky-900 ring-sky-200",educ:"bg-violet-100 text-violet-900 ring-violet-200",jambes:"bg-teal-100 text-teal-900 ring-teal-200"},oe={V0:"text-emerald-800",V1:"text-lime-800",V2:"text-yellow-800",V3:"text-orange-800",Max:"text-red-900"},be={V0:"ring-emerald-200",V1:"ring-lime-200",V2:"ring-yellow-200",V3:"ring-orange-200",Max:"ring-red-300"};return i?u.jsxs("div",{className:"animate-in slide-in-from-bottom-4",children:[u.jsxs("div",{className:"flex items-center justify-between border-b border-slate-200 px-4 py-3",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("button",{type:"button",onClick:()=>{a(!1),O(N())},className:"inline-flex h-9 w-9 items-center justify-center rounded-full hover:bg-slate-100","aria-label":"Retour",children:u.jsx(_h,{className:"h-4 w-4"})}),u.jsx("div",{className:"text-base font-semibold",children:"dition"})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>l({id:j.id??Date.now(),name:j.name,description:j.description,created_by:n??null,items:pj(j.blocks)}),className:"inline-flex h-9 w-9 items-center justify-center rounded-full hover:bg-slate-100","aria-label":"Aperu nageur",title:"Aperu nageur",children:u.jsx(hv,{className:"h-4 w-4"})}),u.jsxs("button",{type:"button",onClick:()=>{if(!j.name.trim()){e({title:"Titre requis",description:"Ajoutez un nom de sance avant d'enregistrer.",variant:"destructive"});return}k.mutate({id:j.id??void 0,name:j.name,description:j.description,estimated_duration:j.estimatedDuration||null,items:pj(j.blocks),created_by:n})},className:"inline-flex items-center gap-2 rounded-full bg-slate-900 px-3 py-2 text-xs font-semibold text-white",children:[u.jsx(Fz,{className:"h-4 w-4"})," Sauver"]})]})]}),u.jsxs("div",{className:"space-y-4 p-4",children:[u.jsx(Pe,{className:"rounded-2xl border-slate-200",children:u.jsxs("div",{className:"space-y-3 p-4",children:[u.jsx("div",{className:"text-sm font-semibold",children:"Infos sance"}),u.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[u.jsxs("div",{className:"col-span-2",children:[u.jsx("div",{className:"text-xs font-semibold text-slate-500",children:"Nom"}),u.jsx("div",{className:"mt-1",children:u.jsx(xt,{value:j.name,onChange:ae=>O({...j,name:ae.target.value}),placeholder:"Nom de la sance",className:"rounded-2xl"})})]}),u.jsxs("div",{children:[u.jsx("div",{className:"text-xs font-semibold text-slate-500",children:"Dure estime (min)"}),u.jsx("div",{className:"mt-1",children:u.jsx(xt,{type:"number",min:0,value:j.estimatedDuration||"",onChange:ae=>O({...j,estimatedDuration:ae.target.value===""?0:Number(ae.target.value)}),placeholder:"55",className:"rounded-2xl"})})]}),u.jsxs("div",{children:[u.jsx("div",{className:"text-xs font-semibold text-slate-500",children:"Distance totale"}),u.jsxs("div",{className:"mt-1 rounded-2xl border border-slate-200 bg-slate-50 px-3 py-2 text-sm font-semibold",children:[K,"m"]})]})]})]})}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("div",{className:"text-sm font-semibold",children:"Vue coach"}),u.jsxs("div",{className:"inline-flex rounded-full border border-slate-200 bg-white p-1 text-xs font-semibold",children:[u.jsx("button",{type:"button",onClick:()=>y("compact"),className:Ne("rounded-full px-3 py-1",x==="compact"?"bg-slate-900 text-white":"text-slate-600"),children:"Condens"}),u.jsx("button",{type:"button",onClick:()=>y("detailed"),className:Ne("rounded-full px-3 py-1",x==="detailed"?"bg-slate-900 text-white":"text-slate-600"),children:"Dtail"})]})]}),x==="compact"?u.jsx(Pe,{className:"rounded-2xl border-slate-200",children:u.jsxs("div",{className:"p-4",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("div",{className:"text-sm font-semibold",children:"Plan (ultra compact)"}),u.jsx("div",{className:"mt-1 text-xs text-slate-500",children:"Manipule les blocs vite. Passe en Dtail pour diter."})]}),u.jsxs(Ce,{variant:"secondary",size:"sm",onClick:B,className:"h-9 rounded-full px-3 text-xs",children:[u.jsx(ll,{className:"h-4 w-4"})," Bloc"]})]}),u.jsxs("div",{className:"mt-3 space-y-2",children:[j.blocks.map((ae,J)=>u.jsx("div",{className:"rounded-2xl border border-slate-200 bg-white px-3 py-2",children:u.jsxs("div",{className:"flex items-center justify-between gap-2",children:[u.jsxs("div",{className:"min-w-0",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-slate-900 px-2 py-0.5 text-[11px] font-semibold text-white",children:[" ",ae.repetitions??1,"x"]}),u.jsx("div",{className:"truncate text-xs font-semibold",children:ae.title?ae.title:`Bloc ${J+1}`}),u.jsxs("div",{className:"text-[11px] text-slate-500",children:[" ",ae.exercises.length," ex"]})]}),u.jsxs("div",{className:"mt-1 flex flex-wrap gap-1",children:[ae.exercises.slice(0,4).map((he,se)=>{const pe=wm(he.intensity),xe=V[he.strokeType]??he.strokeType;return u.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-slate-100 px-2 py-0.5 text-[11px] font-semibold text-slate-700",title:he.modalities?JCe(he.modalities):"",children:[he.repetitions&&he.distance?`${he.repetitions}x`:"",he.distance?`${he.distance}m`:"",u.jsx("span",{className:Ne("ml-1 inline-flex items-center rounded-full px-2 py-0.5 ring-1",Z[he.strokeType]??"bg-slate-100 text-slate-700 ring-slate-200"),children:xe}),u.jsxs("span",{className:Ne("ml-1 inline-flex items-center gap-1 rounded-full bg-white px-2 py-0.5 ring-1",be[pe],oe[pe]),children:[u.jsx("span",{className:Ne("h-2 w-2 rounded-full",xm[pe]??"bg-slate-300")}),c6(pe)]})]},`${J}-${se}`)}),ae.exercises.length>4?u.jsxs("span",{className:"text-[11px] text-slate-400",children:["+",ae.exercises.length-4]}):null]})]}),u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx("button",{type:"button",onClick:()=>H(J,"up"),className:"inline-flex h-9 w-9 items-center justify-center rounded-full hover:bg-slate-100 disabled:opacity-40","aria-label":"Monter",title:"Monter",disabled:J===0,children:u.jsx(xk,{className:"h-4 w-4"})}),u.jsx("button",{type:"button",onClick:()=>H(J,"down"),className:"inline-flex h-9 w-9 items-center justify-center rounded-full hover:bg-slate-100 disabled:opacity-40","aria-label":"Descendre",title:"Descendre",disabled:J===j.blocks.length-1,children:u.jsx(bk,{className:"h-4 w-4"})}),u.jsx("button",{type:"button",onClick:()=>F(J),className:"inline-flex h-9 w-9 items-center justify-center rounded-full text-red-700 hover:bg-red-50","aria-label":"Supprimer bloc",title:"Supprimer bloc",children:u.jsx(Nf,{className:"h-4 w-4"})})]})]})},J)),j.blocks.length?null:u.jsx("div",{className:"rounded-2xl border border-dashed border-slate-200 bg-slate-50 px-3 py-6 text-center text-sm text-slate-500",children:"Aucun bloc. Ajoute un bloc pour commencer."})]})]})}):u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("div",{className:"text-sm font-semibold",children:"dition dtaille"}),u.jsxs(Ce,{variant:"secondary",size:"sm",onClick:B,className:"h-9 rounded-full px-3 text-xs",children:[u.jsx(ll,{className:"h-4 w-4"})," Ajouter bloc"]})]}),u.jsx("div",{className:"space-y-4",children:j.blocks.map((ae,J)=>u.jsx(Pe,{className:"rounded-2xl border-slate-200",children:u.jsxs("div",{className:"p-4",children:[u.jsxs("div",{className:"flex items-start justify-between gap-3",children:[u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx("span",{className:"mt-1 inline-flex h-9 w-9 items-center justify-center rounded-2xl bg-slate-100 text-slate-500",children:u.jsx(LZ,{className:"h-4 w-4"})}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("div",{className:"text-xs font-semibold text-slate-500",children:"Titre bloc"}),u.jsx(xt,{value:ae.title,onChange:he=>$(J,"title",he.target.value),placeholder:`Bloc ${J+1}`,className:"rounded-2xl"})]})]}),u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx("button",{type:"button",onClick:()=>H(J,"up"),className:"inline-flex h-9 w-9 items-center justify-center rounded-full hover:bg-slate-100 disabled:opacity-40","aria-label":"Monter",title:"Monter",disabled:J===0,children:u.jsx(xk,{className:"h-4 w-4"})}),u.jsx("button",{type:"button",onClick:()=>H(J,"down"),className:"inline-flex h-9 w-9 items-center justify-center rounded-full hover:bg-slate-100 disabled:opacity-40","aria-label":"Descendre",title:"Descendre",disabled:J===j.blocks.length-1,children:u.jsx(bk,{className:"h-4 w-4"})}),u.jsx("button",{type:"button",onClick:()=>F(J),className:"inline-flex h-9 w-9 items-center justify-center rounded-full text-red-700 hover:bg-red-50","aria-label":"Supprimer bloc",title:"Supprimer bloc",children:u.jsx(Nf,{className:"h-4 w-4"})})]})]}),u.jsxs("div",{className:"mt-3 grid grid-cols-2 gap-3",children:[u.jsxs("div",{children:[u.jsx("div",{className:"text-xs font-semibold text-slate-500",children:"Rptitions du bloc"}),u.jsx("div",{className:"mt-1",children:u.jsx(xt,{type:"number",min:1,value:ae.repetitions??"",onChange:he=>$(J,"repetitions",he.target.value===""?null:Number(he.target.value)),placeholder:"1",className:"rounded-2xl"})})]}),u.jsx("div",{className:"flex items-end justify-end",children:u.jsxs(Ce,{variant:"secondary",size:"sm",onClick:()=>U(J),className:"h-9 rounded-full px-3 text-xs",children:[u.jsx(ll,{className:"h-4 w-4"})," Exercice"]})})]}),u.jsx("div",{className:"mt-4 space-y-3",children:ae.exercises.map((he,se)=>{const pe=wm(he.intensity),xe=he.modalities??"";return u.jsx("div",{className:"rounded-2xl border border-slate-200 bg-white p-3",children:u.jsxs("div",{className:"flex items-start justify-between gap-3",children:[u.jsxs("div",{className:"grid flex-1 grid-cols-2 gap-3",children:[u.jsxs("div",{children:[u.jsx("div",{className:"text-[11px] font-semibold text-slate-500",children:"Rptitions"}),u.jsx("div",{className:"mt-1",children:u.jsx(xt,{type:"number",min:1,value:he.repetitions??"",onChange:ee=>D(J,se,"repetitions",ee.target.value===""?null:Number(ee.target.value)),className:"rounded-2xl"})})]}),u.jsxs("div",{children:[u.jsx("div",{className:"text-[11px] font-semibold text-slate-500",children:"Distance (m)"}),u.jsx("div",{className:"mt-1",children:u.jsx(xt,{type:"number",min:0,value:he.distance??"",onChange:ee=>D(J,se,"distance",ee.target.value===""?null:Number(ee.target.value)),className:"rounded-2xl"})})]}),u.jsxs("div",{children:[u.jsx("div",{className:"text-[11px] font-semibold text-slate-500",children:"Nage"}),u.jsx("div",{className:"mt-1",children:u.jsxs(yn,{value:he.stroke,onValueChange:ee=>D(J,se,"stroke",ee),children:[u.jsx(mn,{className:"rounded-2xl",children:u.jsx(bn,{})}),u.jsx(pn,{children:X.map(ee=>u.jsx(ct,{value:ee.value,children:ee.label},ee.value))})]})})]}),u.jsxs("div",{children:[u.jsx("div",{className:"text-[11px] font-semibold text-slate-500",children:"Type"}),u.jsx("div",{className:"mt-1",children:u.jsxs(yn,{value:he.strokeType,onValueChange:ee=>D(J,se,"strokeType",ee),children:[u.jsx(mn,{className:"rounded-2xl",children:u.jsx(bn,{})}),u.jsx(pn,{children:ue.map(ee=>u.jsx(ct,{value:ee.value,children:ee.label},ee.value))})]})})]}),u.jsxs("div",{className:"col-span-2",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("div",{className:"text-[11px] font-semibold text-slate-500",children:"Intensit (clic sur points)"}),u.jsxs("span",{className:Ne("inline-flex items-center gap-2 rounded-full bg-white px-2.5 py-1 text-xs font-semibold ring-1",be[pe],oe[pe]),children:[u.jsx("span",{className:Ne("h-2 w-2 rounded-full",xm[pe]??"bg-slate-300")}),c6(pe)]})]}),u.jsx("div",{className:"mt-2 flex items-center justify-between gap-2",children:u.jsx(kCe,{value:he.intensity,onChange:ee=>D(J,se,"intensity",ee)})})]}),u.jsxs("div",{className:"col-span-2",children:[u.jsx("div",{className:"text-[11px] font-semibold text-slate-500",children:"quipements"}),u.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:z.map(ee=>{const $e=he.equipment.includes(ee.value),ge=CCe(ee.value);return u.jsxs("button",{type:"button",onClick:()=>{const He=$e?he.equipment.filter(te=>te!==ee.value):[...he.equipment,ee.value];D(J,se,"equipment",He)},className:Ne("inline-flex items-center gap-2 rounded-full border px-3 py-2 text-xs font-semibold",$e?"border-slate-900 bg-slate-900 text-white":"border-slate-200 bg-white text-slate-700 hover:bg-slate-50"),children:[u.jsx("span",{className:Ne("inline-flex h-7 w-7 items-center justify-center rounded-full",$e?"bg-white/10":"bg-slate-100"),children:ge?u.jsx("img",{src:ge,alt:"",className:"h-4 w-4","aria-hidden":"true"}):null}),ee.label]},ee.value)})})]}),u.jsxs("div",{className:"col-span-2",children:[u.jsx("div",{className:"text-[11px] font-semibold text-slate-500",children:"Modalits"}),u.jsx("div",{className:"mt-1",children:u.jsx(ql,{value:xe,onChange:ee=>D(J,se,"modalities",ee.target.value),placeholder:"Une modalit par ligne",rows:3,className:"rounded-2xl"})})]})]}),u.jsx("button",{type:"button",onClick:()=>G(J,se),className:"inline-flex h-9 w-9 items-center justify-center rounded-full text-red-700 hover:bg-red-50","aria-label":"Supprimer exercice",title:"Supprimer exercice",children:u.jsx(Nf,{className:"h-4 w-4"})})]})},se)})}),u.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[u.jsxs(Ce,{variant:"secondary",size:"sm",onClick:()=>U(J),className:"h-9 rounded-full px-3 text-xs",children:[u.jsx(ll,{className:"h-4 w-4"})," Ajouter exercice"]}),u.jsxs(Ce,{variant:"destructive",size:"sm",onClick:()=>F(J),className:"h-9 rounded-full px-3 text-xs",children:[u.jsx(Nf,{className:"h-4 w-4"})," Supprimer bloc"]})]})]})},J))})]}),u.jsx("div",{className:"h-8"})]}),u.jsx(iE,{open:!!o,onOpenChange:ae=>{ae||l(null)},children:u.jsx(jv,{className:"max-w-4xl",children:u.jsx(cA,{title:o?.name??"",description:o?.description??void 0,items:o?.items})})})]}):u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center justify-between border-b border-slate-200 px-4 py-3",children:[u.jsxs("div",{children:[u.jsx("div",{className:"text-base font-semibold",children:"Coach"}),u.jsx("div",{className:"text-xs text-slate-500",children:"Cration"})]}),u.jsxs("button",{type:"button",onClick:()=>{O(N()),y("compact"),a(!0)},className:"inline-flex items-center gap-2 rounded-full bg-slate-900 px-3 py-2 text-xs font-semibold text-white",children:[u.jsx(ll,{className:"h-4 w-4"})," Nouvelle"]})]}),u.jsxs("div",{className:"p-4",children:[u.jsxs("div",{className:"flex items-center gap-2 rounded-2xl border border-slate-200 bg-white px-3 py-2",children:[u.jsx(EA,{className:"h-4 w-4 text-slate-400"}),u.jsx("input",{className:"w-full bg-transparent text-sm outline-none placeholder:text-slate-400",placeholder:"Rechercher une sance",value:v,onChange:ae=>b(ae.target.value)})]}),u.jsx("div",{className:"mt-4 space-y-3",children:M.map(ae=>{const{totalDistance:J,totalDuration:he,blockCount:se}=eRe(ae),pe=tRe(ae.id,C??null),xe=!pe||I.isPending;return u.jsx(Pe,{className:"rounded-2xl border-slate-200",children:u.jsx("div",{className:"p-4",children:u.jsxs("div",{className:"flex items-start justify-between gap-3",children:[u.jsxs("div",{children:[u.jsx("div",{className:"text-base font-semibold tracking-tight",children:ae.name}),u.jsxs("div",{className:"mt-1 flex items-center gap-2 text-xs text-slate-500",children:[u.jsxs("span",{className:"inline-flex items-center gap-1",children:[u.jsx(Uz,{className:"h-3.5 w-3.5"}),J,"m"]}),u.jsxs("span",{className:"inline-flex items-center gap-1",children:[u.jsx(mv,{className:"h-3.5 w-3.5"}),"~",he??""," min"]}),u.jsxs("span",{className:"inline-flex items-center gap-1",children:[u.jsx(Bz,{className:"h-3.5 w-3.5"}),se]})]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>l(ae),className:"inline-flex h-9 w-9 items-center justify-center rounded-full hover:bg-slate-100","aria-label":"Aperu nageur",title:"Aperu nageur",children:u.jsx(hv,{className:"h-4 w-4"})}),u.jsx("button",{type:"button",onClick:()=>{O({id:ae.id??null,name:ae.name??o6(new Date),description:ae.description??"",estimatedDuration:Number(ae.estimated_duration??0),blocks:QCe(ae.items??[])}),y("compact"),a(!0)},className:"inline-flex h-9 w-9 items-center justify-center rounded-full hover:bg-slate-100","aria-label":"Modifier",title:"Modifier",children:u.jsx(tee,{className:"h-4 w-4"})}),u.jsx("button",{type:"button",onClick:()=>p(ae),className:"inline-flex h-9 w-9 items-center justify-center rounded-full hover:bg-slate-100","aria-label":"Archiver",title:"Archiver",children:u.jsx(hZ,{className:"h-4 w-4"})}),u.jsx("button",{type:"button",onClick:()=>{xe||f(ae)},className:Ne("inline-flex h-9 w-9 items-center justify-center rounded-full hover:bg-slate-100",xe&&"cursor-not-allowed text-slate-300"),"aria-label":"Supprimer",title:C===null?"Suppression dsactive":pe?"Supprimer":"Sance dj assigne",children:u.jsx(Nf,{className:"h-4 w-4"})})]})]})})},ae.id)})}),u.jsx("div",{className:"h-8"})]}),u.jsx(iE,{open:!!o,onOpenChange:ae=>{ae||l(null)},children:u.jsx(jv,{className:"max-w-4xl",children:u.jsx(cA,{title:o?.name??"",description:o?.description??void 0,items:o?.items})})}),u.jsx(t6,{open:!!m,onOpenChange:ae=>{ae||p(null)},children:u.jsxs(tA,{children:[u.jsxs(nA,{children:[u.jsx(iA,{children:"Archiver la sance ?"}),u.jsx(aA,{children:"La sance sera masque du catalogue (sans suppression)."})]}),u.jsxs(rA,{children:[u.jsx(oA,{children:"Annuler"}),u.jsx(sA,{onClick:()=>{m&&(E(ae=>new Set([...Array.from(ae),m.id])),p(null),e({title:"Sance archive"}))},children:"Archiver"})]})]})}),u.jsx(t6,{open:!!d,onOpenChange:ae=>{ae||f(null)},children:u.jsxs(tA,{children:[u.jsxs(nA,{children:[u.jsx(iA,{children:"Supprimer la sance ?"}),u.jsx(aA,{children:"Cette action est dfinitive. La sance sera supprime du catalogue."})]}),u.jsxs(rA,{children:[u.jsx(oA,{children:"Annuler"}),u.jsx(sA,{onClick:()=>{d&&I.mutate(d.id)},children:"Supprimer"})]})]})})]})}function rRe(e,t,{checkForDefaultPrevented:n=!0}={}){return function(i){if(e?.(i),n===!1||!i.defaultPrevented)return t?.(i)}}var iRe=Cr[" useInsertionEffect ".trim().toString()]||Ut;function aRe({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[i,a,o]=sRe({defaultProp:t,onChange:n}),l=e!==void 0,d=l?e:i;{const m=_.useRef(e!==void 0);_.useEffect(()=>{const p=m.current;p!==l&&console.warn(`${r} is changing from ${p?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),m.current=l},[l,r])}const f=_.useCallback(m=>{if(l){const p=oRe(m)?m(e):m;p!==e&&o.current?.(p)}else a(m)},[l,e,a,o]);return[d,f]}function sRe({defaultProp:e,onChange:t}){const[n,r]=_.useState(e),i=_.useRef(n),a=_.useRef(t);return iRe(()=>{a.current=t},[t]),_.useEffect(()=>{i.current!==n&&(a.current?.(n),i.current=n)},[n,i]),[n,r,a]}function oRe(e){return typeof e=="function"}var kK="Toggle",zO=_.forwardRef((e,t)=>{const{pressed:n,defaultPressed:r,onPressedChange:i,...a}=e,[o,l]=aRe({prop:n,onChange:i,defaultProp:r??!1,caller:kK});return u.jsx(gt.button,{type:"button","aria-pressed":o,"data-state":o?"on":"off","data-disabled":e.disabled?"":void 0,...a,ref:t,onClick:rRe(e.onClick,()=>{e.disabled||l(!o)})})});zO.displayName=kK;var DK=zO,lRe=Cr[" useInsertionEffect ".trim().toString()]||Ut;function IK({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[i,a,o]=cRe({defaultProp:t,onChange:n}),l=e!==void 0,d=l?e:i;{const m=_.useRef(e!==void 0);_.useEffect(()=>{const p=m.current;p!==l&&console.warn(`${r} is changing from ${p?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),m.current=l},[l,r])}const f=_.useCallback(m=>{if(l){const p=uRe(m)?m(e):m;p!==e&&o.current?.(p)}else a(m)},[l,e,a,o]);return[d,f]}function cRe({defaultProp:e,onChange:t}){const[n,r]=_.useState(e),i=_.useRef(n),a=_.useRef(t);return lRe(()=>{a.current=t},[t]),_.useEffect(()=>{i.current!==n&&(a.current?.(n),i.current=n)},[n,i]),[n,r,a]}function uRe(e){return typeof e=="function"}var Co="ToggleGroup",[$K]=Rr(Co,[Sd]),LK=Sd(),UO=q.forwardRef((e,t)=>{const{type:n,...r}=e;if(n==="single"){const i=r;return u.jsx(dRe,{...i,ref:t})}if(n==="multiple"){const i=r;return u.jsx(fRe,{...i,ref:t})}throw new Error(`Missing prop \`type\` expected on \`${Co}\``)});UO.displayName=Co;var[BK,qK]=$K(Co),dRe=q.forwardRef((e,t)=>{const{value:n,defaultValue:r,onValueChange:i=()=>{},...a}=e,[o,l]=IK({prop:n,defaultProp:r??"",onChange:i,caller:Co});return u.jsx(BK,{scope:e.__scopeToggleGroup,type:"single",value:q.useMemo(()=>o?[o]:[],[o]),onItemActivate:l,onItemDeactivate:q.useCallback(()=>l(""),[l]),children:u.jsx(zK,{...a,ref:t})})}),fRe=q.forwardRef((e,t)=>{const{value:n,defaultValue:r,onValueChange:i=()=>{},...a}=e,[o,l]=IK({prop:n,defaultProp:r??[],onChange:i,caller:Co}),d=q.useCallback(m=>l((p=[])=>[...p,m]),[l]),f=q.useCallback(m=>l((p=[])=>p.filter(v=>v!==m)),[l]);return u.jsx(BK,{scope:e.__scopeToggleGroup,type:"multiple",value:o,onItemActivate:d,onItemDeactivate:f,children:u.jsx(zK,{...a,ref:t})})});UO.displayName=Co;var[hRe,mRe]=$K(Co),zK=q.forwardRef((e,t)=>{const{__scopeToggleGroup:n,disabled:r=!1,rovingFocus:i=!0,orientation:a,dir:o,loop:l=!0,...d}=e,f=LK(n),m=Tm(o),p={role:"group",dir:m,...d};return u.jsx(hRe,{scope:n,rovingFocus:i,disabled:r,children:i?u.jsx(OT,{asChild:!0,...f,orientation:a,dir:m,loop:l,children:u.jsx(gt.div,{...p,ref:t})}):u.jsx(gt.div,{...p,ref:t})})}),Ry="ToggleGroupItem",UK=q.forwardRef((e,t)=>{const n=qK(Ry,e.__scopeToggleGroup),r=mRe(Ry,e.__scopeToggleGroup),i=LK(e.__scopeToggleGroup),a=n.value.includes(e.value),o=r.disabled||e.disabled,l={...e,pressed:a,disabled:o},d=q.useRef(null);return r.rovingFocus?u.jsx(CT,{asChild:!0,...i,focusable:!o,active:a,ref:d,children:u.jsx(f6,{...l,ref:t})}):u.jsx(f6,{...l,ref:t})});UK.displayName=Ry;var f6=q.forwardRef((e,t)=>{const{__scopeToggleGroup:n,value:r,...i}=e,a=qK(Ry,n),o={role:"radio","aria-checked":e.pressed,"aria-pressed":void 0},l=a.type==="single"?o:void 0;return u.jsx(zO,{...l,...i,ref:t,onPressedChange:d=>{d?a.onItemActivate(r):a.onItemDeactivate(r)}})}),FK=UO,VK=UK;const HK=od("inline-flex items-center justify-center gap-2 rounded-md text-sm font-medium transition-colors hover:bg-muted hover:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-transparent",outline:"border border-input bg-transparent shadow-sm hover:bg-accent hover:text-accent-foreground"},size:{default:"h-9 px-2 min-w-9",sm:"h-8 px-1.5 min-w-8",lg:"h-10 px-2.5 min-w-10"}},defaultVariants:{variant:"default",size:"default"}}),pRe=_.forwardRef(({className:e,variant:t,size:n,...r},i)=>u.jsx(DK,{ref:i,className:Ne(HK({variant:t,size:n,className:e})),...r}));pRe.displayName=DK.displayName;const GK=_.createContext({size:"default",variant:"default"}),KK=_.forwardRef(({className:e,variant:t,size:n,children:r,...i},a)=>u.jsx(FK,{ref:a,className:Ne("flex items-center justify-center gap-1",e),...i,children:u.jsx(GK.Provider,{value:{variant:t,size:n},children:r})}));KK.displayName=FK.displayName;const sv=_.forwardRef(({className:e,children:t,variant:n,size:r,...i},a)=>{const o=_.useContext(GK);return u.jsx(VK,{ref:a,className:Ne(HK({variant:o.variant||n,size:o.size||r}),e),...i,children:t})});sv.displayName=VK.displayName;const yh=({title:e,description:t,onBack:n,actions:r})=>u.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-4",children:[u.jsxs("div",{className:"space-y-1",children:[u.jsxs(Ce,{variant:"ghost",size:"sm",className:"-ml-2",onClick:n,children:[u.jsx(Lz,{className:"mr-2 h-4 w-4"}),"Retour  l'accueil"]}),u.jsx("h2",{className:"text-2xl font-display font-semibold uppercase italic text-primary",children:e}),t?u.jsx("p",{className:"text-sm text-muted-foreground",children:t}):null]}),r?u.jsx("div",{className:"flex items-center gap-2",children:r}):null]});function bh(e,t,{checkForDefaultPrevented:n=!0}={}){return function(i){if(e?.(i),n===!1||!i.defaultPrevented)return t?.(i)}}function gRe(e){const t=vRe(e),n=_.forwardRef((r,i)=>{const{children:a,...o}=r,l=_.Children.toArray(a),d=l.find(bRe);if(d){const f=d.props.children,m=l.map(p=>p===d?_.Children.count(f)>1?_.Children.only(null):_.isValidElement(f)?f.props.children:null:p);return u.jsx(t,{...o,ref:i,children:_.isValidElement(f)?_.cloneElement(f,void 0,m):null})}return u.jsx(t,{...o,ref:i,children:a})});return n.displayName=`${e}.Slot`,n}function vRe(e){const t=_.forwardRef((n,r)=>{const{children:i,...a}=n;if(_.isValidElement(i)){const o=wRe(i),l=xRe(a,i.props);return i.type!==_.Fragment&&(l.ref=r?xo(r,o):o),_.cloneElement(i,l)}return _.Children.count(i)>1?_.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var yRe=Symbol("radix.slottable");function bRe(e){return _.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===yRe}function xRe(e,t){const n={...t};for(const r in t){const i=e[r],a=t[r];/^on[A-Z]/.test(r)?i&&a?n[r]=(...l)=>{const d=a(...l);return i(...l),d}:i&&(n[r]=i):r==="style"?n[r]={...i,...a}:r==="className"&&(n[r]=[i,a].filter(Boolean).join(" "))}return{...e,...n}}function wRe(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var _Re=Cr[" useInsertionEffect ".trim().toString()]||Ut;function SRe({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[i,a,o]=jRe({defaultProp:t,onChange:n}),l=e!==void 0,d=l?e:i;{const m=_.useRef(e!==void 0);_.useEffect(()=>{const p=m.current;p!==l&&console.warn(`${r} is changing from ${p?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),m.current=l},[l,r])}const f=_.useCallback(m=>{if(l){const p=ERe(m)?m(e):m;p!==e&&o.current?.(p)}else a(m)},[l,e,a,o]);return[d,f]}function jRe({defaultProp:e,onChange:t}){const[n,r]=_.useState(e),i=_.useRef(n),a=_.useRef(t);return _Re(()=>{a.current=t},[t]),_.useEffect(()=>{i.current!==n&&(a.current?.(n),i.current=n)},[n,i]),[n,r,a]}function ERe(e){return typeof e=="function"}var X0="Popover",[WK]=Rr(X0,[fd]),Vm=fd(),[NRe,Ro]=WK(X0),YK=e=>{const{__scopePopover:t,children:n,open:r,defaultOpen:i,onOpenChange:a,modal:o=!1}=e,l=Vm(t),d=_.useRef(null),[f,m]=_.useState(!1),[p,v]=SRe({prop:r,defaultProp:i??!1,onChange:a,caller:X0});return u.jsx(TU,{...l,children:u.jsx(NRe,{scope:t,contentId:ss(),triggerRef:d,open:p,onOpenChange:v,onOpenToggle:_.useCallback(()=>v(b=>!b),[v]),hasCustomAnchor:f,onCustomAnchorAdd:_.useCallback(()=>m(!0),[]),onCustomAnchorRemove:_.useCallback(()=>m(!1),[]),modal:o,children:n})})};YK.displayName=X0;var XK="PopoverAnchor",ARe=_.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,i=Ro(XK,n),a=Vm(n),{onCustomAnchorAdd:o,onCustomAnchorRemove:l}=i;return _.useEffect(()=>(o(),()=>l()),[o,l]),u.jsx(Vy,{...a,...r,ref:t})});ARe.displayName=XK;var QK="PopoverTrigger",JK=_.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,i=Ro(QK,n),a=Vm(n),o=jt(t,i.triggerRef),l=u.jsx(gt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":rW(i.open),...r,ref:o,onClick:bh(e.onClick,i.onOpenToggle)});return i.hasCustomAnchor?l:u.jsx(Vy,{asChild:!0,...a,children:l})});JK.displayName=QK;var FO="PopoverPortal",[TRe,ORe]=WK(FO,{forceMount:void 0}),ZK=e=>{const{__scopePopover:t,forceMount:n,children:r,container:i}=e,a=Ro(FO,t);return u.jsx(TRe,{scope:t,forceMount:n,children:u.jsx(la,{present:n||a.open,children:u.jsx(Em,{asChild:!0,container:i,children:r})})})};ZK.displayName=FO;var rd="PopoverContent",eW=_.forwardRef((e,t)=>{const n=ORe(rd,e.__scopePopover),{forceMount:r=n.forceMount,...i}=e,a=Ro(rd,e.__scopePopover);return u.jsx(la,{present:r||a.open,children:a.modal?u.jsx(RRe,{...i,ref:t}):u.jsx(PRe,{...i,ref:t})})});eW.displayName=rd;var CRe=gRe("PopoverContent.RemoveScroll"),RRe=_.forwardRef((e,t)=>{const n=Ro(rd,e.__scopePopover),r=_.useRef(null),i=jt(t,r),a=_.useRef(!1);return _.useEffect(()=>{const o=r.current;if(o)return VA(o)},[]),u.jsx(Jy,{as:CRe,allowPinchZoom:!0,children:u.jsx(tW,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:bh(e.onCloseAutoFocus,o=>{o.preventDefault(),a.current||n.triggerRef.current?.focus()}),onPointerDownOutside:bh(e.onPointerDownOutside,o=>{const l=o.detail.originalEvent,d=l.button===0&&l.ctrlKey===!0,f=l.button===2||d;a.current=f},{checkForDefaultPrevented:!1}),onFocusOutside:bh(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),PRe=_.forwardRef((e,t)=>{const n=Ro(rd,e.__scopePopover),r=_.useRef(!1),i=_.useRef(!1);return u.jsx(tW,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{e.onCloseAutoFocus?.(a),a.defaultPrevented||(r.current||n.triggerRef.current?.focus(),a.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:a=>{e.onInteractOutside?.(a),a.defaultPrevented||(r.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=a.target;n.triggerRef.current?.contains(o)&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),tW=_.forwardRef((e,t)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:a,disableOutsidePointerEvents:o,onEscapeKeyDown:l,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:m,...p}=e,v=Ro(rd,n),b=Vm(n);return FA(),u.jsx(Xy,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:a,children:u.jsx(Sm,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:m,onEscapeKeyDown:l,onPointerDownOutside:d,onFocusOutside:f,onDismiss:()=>v.onOpenChange(!1),children:u.jsx(DA,{"data-state":rW(v.open),role:"dialog",id:v.contentId,...b,...p,ref:t,style:{...p.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),nW="PopoverClose",MRe=_.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,i=Ro(nW,n);return u.jsx(gt.button,{type:"button",...r,ref:t,onClick:bh(e.onClick,()=>i.onOpenChange(!1))})});MRe.displayName=nW;var kRe="PopoverArrow",DRe=_.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,i=Vm(n);return u.jsx(IA,{...i,...r,ref:t})});DRe.displayName=kRe;function rW(e){return e?"open":"closed"}var IRe=YK,$Re=JK,LRe=ZK,iW=eW;const BRe=IRe,qRe=$Re,aW=_.forwardRef(({className:e,align:t="center",sideOffset:n=4,...r},i)=>u.jsx(LRe,{children:u.jsx(iW,{ref:i,align:t,sideOffset:n,className:Ne("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-popover-content-transform-origin]",e),...r})}));aW.displayName=iW.displayName;const zRe=({onBack:e,swimSessions:t,strengthSessions:n,athletes:r,groups:i})=>{const{toast:a}=pi(),[o,l]=_.useState({session_type:"swim",session_id:"",assigned_date:new Date().toISOString().split("T")[0],assigned_slot:"morning"}),[d,f]=_.useState(!1),[m,p]=_.useState("user"),[v,b]=_.useState(""),[x,y]=_.useState([]),w=k=>{const I=typeof k=="number"?k:Number(k);return Number.isFinite(I)&&I>0?I:null},E=_.useMemo(()=>r.map(k=>({value:k.id?`id:${k.id}`:`name:${k.display_name}`,label:k.group_label?`${k.display_name}  ${k.group_label}`:k.display_name,id:k.id,name:k.display_name})),[r]),N=_.useMemo(()=>new Map(E.map(k=>[k.value,k])),[E]),j=_.useMemo(()=>i.map(k=>{const I=w(k.id);return I?{...k,gid:I}:null}).filter(k=>!!k),[i]),O=_.useMemo(()=>j.filter(k=>x.includes(k.gid)),[j,x]),T=_.useMemo(()=>{if(O.length===0)return"Choisir des groupes";const k=O.slice(0,2).map(B=>B.name).join(", "),I=O.length>2?` +${O.length-2}`:"";return`${k}${I}`},[O]),C=Lt({mutationFn:async k=>De.assignments_create(k),onSuccess:()=>{a({title:"Sance assigne & notifie"})},onError:k=>{const I="Impossible d'assigner la sance. Vrifiez les champs et ressayez.",B=k instanceof Error?k.message:typeof k=="string"?k:I;let $=B;const F=B.match(/HTTP \d+:\s*(\{.*\})/);if(F)try{$=JSON.parse(F[1])?.error||I}catch{$=I}a({title:"Erreur d'assignation",description:$})}}),R=async()=>{const k=Number(o.session_id);if(!Number.isInteger(k)||k<=0){a({title:"Sance invalide",description:"Slectionnez une sance valide."});return}if(m==="group"){if(x.length===0){a({title:"Groupe manquant",description:"Slectionnez au moins un groupe."});return}f(!0);try{const H={assignment_type:o.session_type,session_id:k,scheduled_date:o.assigned_date,scheduled_slot:o.assigned_slot},U=Array.from(new Set(x));await Promise.all(U.map(D=>De.assignments_create({...H,target_group_id:D}))),a({title:"Sance assigne & notifie"})}catch(H){const U="Impossible d'assigner la sance. Vrifiez les champs et ressayez.",D=H instanceof Error?H.message:typeof H=="string"?H:U;let G=D;const z=D.match(/HTTP \d+:\s*(\{.*\})/);if(z)try{G=JSON.parse(z[1])?.error||U}catch{G=U}a({title:"Erreur d'assignation",description:G})}finally{f(!1)}return}const I=v.trim();if(!I){a({title:"Nageur manquant",description:"Slectionnez un nageur."});return}const B=N.get(I),$=B?.id??(Number.isFinite(Number(I))&&Number(I)>0?Number(I):void 0);if(!Number.isFinite($)||Number($)<=0){a({title:"Nageur invalide",description:"Slectionnez un nageur avec un identifiant valide."});return}const F=B?.name??I.replace(/^name:/,"");C.mutate({assignment_type:o.session_type,session_id:k,target_athlete:F,target_user_id:$,scheduled_date:o.assigned_date,scheduled_slot:o.assigned_slot})},M=!o.session_id||(m==="group"?x.length===0:!v.trim())||C.isPending||d;return u.jsxs("div",{className:"space-y-6 pb-24",children:[u.jsx(yh,{title:"Assigner une sance",description:"Planifiez une sance pour un nageur ou un ou plusieurs groupes.",onBack:e}),u.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[u.jsxs(Pe,{className:"border-l-4 border-l-green-500",children:[u.jsxs(Ze,{children:[u.jsx(rt,{children:"Sance"}),u.jsx(Qt,{children:"Choisissez le type et la sance  envoyer."})]}),u.jsxs(Be,{className:"space-y-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(it,{children:"Type"}),u.jsxs(yn,{value:o.session_type,onValueChange:k=>l({...o,session_type:k,session_id:""}),children:[u.jsx(mn,{children:u.jsx(bn,{})}),u.jsxs(pn,{children:[u.jsx(ct,{value:"swim",children:"Natation"}),u.jsx(ct,{value:"strength",children:"Musculation"})]})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(it,{children:"Sance"}),u.jsxs(yn,{value:o.session_id,onValueChange:k=>l({...o,session_id:k}),children:[u.jsx(mn,{children:u.jsx(bn,{placeholder:"Choisir..."})}),u.jsx(pn,{children:o.session_type==="swim"?t?.map(k=>u.jsx(ct,{value:k.id.toString(),children:k.name},k.id)):n?.map(k=>u.jsx(ct,{value:k.id.toString(),children:k.title},k.id))})]})]})]})]}),u.jsxs(Pe,{children:[u.jsxs(Ze,{children:[u.jsx(rt,{children:"Cible & planification"}),u.jsx(Qt,{children:"Dfinissez le destinataire, la date et le crneau."})]}),u.jsxs(Be,{className:"space-y-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(it,{children:"Cible"}),u.jsxs(yn,{value:m,onValueChange:k=>{p(k),b(""),y([])},children:[u.jsx(mn,{children:u.jsx(bn,{})}),u.jsxs(pn,{children:[u.jsx(ct,{value:"user",children:"Nageur"}),u.jsx(ct,{value:"group",children:"Groupe(s)"})]})]})]}),m==="user"?u.jsxs("div",{className:"space-y-2",children:[u.jsx(it,{children:"Nageur"}),E.length>0?u.jsxs(yn,{value:v,onValueChange:b,children:[u.jsx(mn,{children:u.jsx(bn,{placeholder:"Choisir un nageur"})}),u.jsx(pn,{children:E.map(k=>u.jsx(ct,{value:k.value,children:k.label},k.value))})]}):u.jsx(xt,{value:v,onChange:k=>b(k.target.value),placeholder:"ex: Camille"})]}):u.jsxs("div",{className:"space-y-2",children:[u.jsx(it,{children:"Groupes"}),i.length>0?u.jsxs(BRe,{children:[u.jsx(qRe,{asChild:!0,children:u.jsxs(Ce,{type:"button",variant:"outline",className:"w-full justify-between","aria-label":"Slection des groupes",children:[u.jsx("span",{className:"truncate",children:T}),u.jsx(jA,{className:"ml-2 h-4 w-4 opacity-50"})]})}),u.jsxs(aW,{className:"w-[--radix-popover-trigger-width] p-2",align:"start",children:[u.jsx("div",{className:"max-h-64 overflow-auto",children:u.jsx("div",{className:"space-y-1",children:j.map(k=>{const I=x.includes(k.gid);return u.jsxs("label",{className:"flex cursor-pointer items-center gap-2 rounded-md px-2 py-1.5 hover:bg-muted",children:[u.jsx(Y0,{checked:I,onCheckedChange:B=>{const $=B===!0;y(F=>$?F.includes(k.gid)?F:[...F,k.gid]:F.filter(H=>H!==k.gid))}}),u.jsx("span",{className:"text-sm",children:k.name})]},k.gid)})})}),x.length>0?u.jsx(Ce,{type:"button",variant:"ghost",size:"sm",className:"mt-2 w-full",onClick:()=>y([]),children:"Tout dslectionner"}):null]})]}):u.jsx("div",{className:"text-xs text-muted-foreground",children:"Aucun groupe disponible."}),x.length>0?u.jsxs("div",{className:"text-xs text-muted-foreground",children:[x.length," groupe",x.length>1?"s":""," slectionn",x.length>1?"s":"","."]}):null]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(it,{children:"Date"}),u.jsx(xt,{type:"date",value:o.assigned_date,onChange:k=>l({...o,assigned_date:k.target.value})})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(it,{children:"Crneau"}),u.jsxs(yn,{value:o.assigned_slot,onValueChange:k=>l({...o,assigned_slot:k}),children:[u.jsx(mn,{children:u.jsx(bn,{placeholder:"Choisir..."})}),u.jsxs(pn,{children:[u.jsx(ct,{value:"morning",children:"Matin"}),u.jsx(ct,{value:"evening",children:"Soir"})]})]})]})]})]})]}),u.jsx("div",{className:"sticky bottom-0 z-10 -mx-4 border-t bg-background/95 p-4 backdrop-blur sm:static sm:mx-0 sm:border-0 sm:p-0",children:u.jsxs(Ce,{className:"w-full sm:w-auto",onClick:R,disabled:M,children:[u.jsx(wh,{className:"mr-2 h-4 w-4"}),C.isPending||d?"Assignation...":"Assigner & notifier"]})})]})},URe=({onBack:e,athletes:t,groups:n,athletesLoading:r})=>{const{toast:i}=pi(),[a,o]=_.useState(""),[l,d]=_.useState("Message Coach"),[f,m]=_.useState(""),p=_.useMemo(()=>t.filter(w=>w.id).map(w=>({value:`user:${w.id}`,label:w.group_label?`${w.display_name}  ${w.group_label}`:w.display_name,id:w.id})),[t]),v=_.useMemo(()=>n.map(w=>({value:`group:${w.id}`,label:w.name,id:w.id})),[n]),b=_.useMemo(()=>new Map([...p,...v].map(w=>[w.value,w])),[p,v]),x=Lt({mutationFn:w=>De.notifications_send({...w,type:"message"}),onSuccess:()=>{i({title:"Message envoy"}),o("")}}),y=()=>{if(!l.trim()||!a.trim()){i({title:"Message incomplet",description:"Ajoutez un titre et un contenu."});return}if(!f){i({title:"Destinataire manquant",description:"Slectionnez un nageur ou un groupe."});return}const w=b.get(f);if(!w?.id){i({title:"Destinataire invalide",description:"Slectionnez un destinataire valide."});return}if(f.startsWith("group:")){x.mutate({title:l,body:a,targets:[{target_group_id:w.id}]});return}x.mutate({title:l,body:a,targets:[{target_user_id:w.id}]})};return u.jsxs("div",{className:"space-y-6 pb-24",children:[u.jsx(yh,{title:"Messagerie rapide",description:"Envoyez un message cibl  vos nageurs.",onBack:e}),u.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[u.jsxs(Pe,{className:"border-l-4 border-l-primary",children:[u.jsxs(Ze,{children:[u.jsx(rt,{children:"Destinataire"}),u.jsx(Qt,{children:"Slectionnez un nageur ou un groupe  prvenir."})]}),u.jsx(Be,{className:"space-y-4",children:u.jsxs("div",{className:"space-y-2",children:[u.jsx(it,{children:"Destinataire"}),u.jsxs(yn,{value:f,onValueChange:m,children:[u.jsx(mn,{children:u.jsx(bn,{placeholder:r?"Chargement...":"Choisir un nageur ou un groupe"})}),u.jsxs(pn,{children:[v.length?u.jsxs(u.Fragment,{children:[u.jsx(ct,{value:"section-group",disabled:!0,children:"Groupes"}),v.map(w=>u.jsx(ct,{value:w.value,children:w.label},w.value))]}):null,p.length?u.jsxs(u.Fragment,{children:[u.jsx(ct,{value:"section-athlete",disabled:!0,children:"Nageurs"}),p.map(w=>u.jsx(ct,{value:w.value,children:w.label},w.value))]}):null]})]})]})})]}),u.jsxs(Pe,{children:[u.jsxs(Ze,{children:[u.jsx(rt,{children:"Contenu"}),u.jsx(Qt,{children:"Rdigez votre message en quelques lignes."})]}),u.jsxs(Be,{className:"space-y-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(it,{children:"Titre"}),u.jsx(xt,{value:l,onChange:w=>d(w.target.value)})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(it,{children:"Message"}),u.jsx(ql,{placeholder:"Message...",value:a,onChange:w=>o(w.target.value),rows:5})]})]})]})]}),u.jsx("div",{className:"sticky bottom-0 z-10 -mx-4 border-t bg-background/95 p-4 backdrop-blur sm:static sm:mx-0 sm:border-0 sm:p-0",children:u.jsxs(Ce,{className:"w-full sm:w-auto",onClick:y,disabled:x.isPending,children:[u.jsx(as,{className:"mr-2 h-4 w-4"}),x.isPending?"Envoi...":"Envoyer"]})})]})};function sW({title:e=" venir",description:t="Cette fonctionnalit arrive bientt. Merci pour votre patience."}){return u.jsx("div",{className:"flex items-center justify-center min-h-[60vh] animate-in fade-in",children:u.jsxs(Pe,{className:"w-full max-w-sm border-dashed text-center",children:[u.jsxs(Ze,{children:[u.jsx("div",{className:"mx-auto flex h-12 w-12 items-center justify-center rounded-full bg-primary/10 text-primary",children:u.jsx(PZ,{className:"h-6 w-6"})}),u.jsx(rt,{className:"mt-4 text-2xl font-display uppercase italic text-primary",children:e}),u.jsx(Qt,{children:t})]}),u.jsx(Be,{className:"text-sm text-muted-foreground",children:"Nous finalisons cette section pour une prochaine mise  jour."})]})})}const FRe=({onNavigate:e})=>u.jsxs(Pe,{className:"border-l-4 border-l-primary",children:[u.jsxs(Ze,{children:[u.jsx(rt,{children:"Actions rapides"}),u.jsx(Qt,{children:"Acclrez vos tches les plus frquentes."})]}),u.jsxs(Be,{className:"grid gap-3 sm:grid-cols-2",children:[u.jsxs(Ce,{className:"justify-start",variant:"outline",onClick:()=>e("assignments"),children:[u.jsx(wh,{className:"mr-2 h-4 w-4"}),"Assigner une sance"]}),u.jsxs(Ce,{className:"justify-start",variant:"outline",onClick:()=>e("messaging"),children:[u.jsx(as,{className:"mr-2 h-4 w-4"}),"Message rapide"]})]})]}),VRe=({onNavigate:e,onOpenRecordsAdmin:t,athletes:n,athletesLoading:r,upcomingBirthdays:i,birthdaysLoading:a,kpiLoading:o,kpiPeriod:l,onKpiPeriodChange:d,fatigueAlerts:f,mostLoadedAthlete:m})=>u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"space-y-1",children:[u.jsx("h1",{className:"text-3xl font-display font-bold uppercase italic text-primary",children:"Espace Coach"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Votre tableau de bord pour grer les sances, les nageurs et la communication."})]}),u.jsxs("div",{className:"space-y-3 sm:hidden",children:[u.jsx("div",{children:u.jsx("h2",{className:"text-sm font-semibold uppercase tracking-[0.2em] text-muted-foreground",children:"Par o commencer"})}),u.jsxs("div",{className:"grid gap-3",children:[u.jsx("button",{type:"button",onClick:()=>e("swim"),className:"rounded-xl border bg-white p-4 text-left shadow-sm transition hover:border-primary focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-semibold",children:"Crer une sance natation"}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Structurer un nouveau plan."})]}),u.jsx(hi,{className:"h-5 w-5 text-primary"})]})}),u.jsx("button",{type:"button",onClick:()=>e("assignments"),className:"rounded-xl border bg-white p-4 text-left shadow-sm transition hover:border-primary focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-semibold",children:"Assigner une sance"}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Envoyer une sance  un nageur."})]}),u.jsx(wh,{className:"h-5 w-5 text-primary"})]})}),u.jsx("button",{type:"button",onClick:()=>e("messaging"),className:"rounded-xl border bg-white p-4 text-left shadow-sm transition hover:border-primary focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-semibold",children:"Envoyer un message"}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Relancer ou fliciter un nageur."})]}),u.jsx(as,{className:"h-5 w-5 text-primary"})]})})]})]}),u.jsx("div",{className:"hidden sm:block",children:u.jsx(FRe,{onNavigate:e})}),u.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[u.jsxs(Pe,{className:"shadow-sm",children:[u.jsxs(Ze,{children:[u.jsxs(rt,{className:"flex items-center gap-2",children:[u.jsx(hi,{className:"h-5 w-5 text-primary"}),"Natation"]}),u.jsx(Qt,{children:"Consultez et crez des sances natation."})]}),u.jsx(Be,{children:u.jsx(Ce,{className:"w-full",onClick:()=>e("swim"),children:"Accder  la bibliothque"})})]}),u.jsxs(Pe,{className:"shadow-sm",children:[u.jsxs(Ze,{children:[u.jsxs(rt,{className:"flex items-center gap-2",children:[u.jsx(Mi,{className:"h-5 w-5 text-primary"}),"Musculation"]}),u.jsx(Qt,{children:"Prparez les plans muscu et les suivis."})]}),u.jsx(Be,{children:u.jsx(Ce,{className:"w-full",onClick:()=>e("strength"),children:"Accder  la bibliothque"})})]}),u.jsxs(Pe,{className:"shadow-sm",children:[u.jsxs(Ze,{children:[u.jsxs(rt,{className:"flex items-center gap-2",children:[u.jsx(hu,{className:"h-5 w-5 text-primary"}),"Mes nageurs"]}),u.jsx(Qt,{children:"Accdez aux fiches individuelles et aux groupes."})]}),u.jsx(Be,{children:u.jsx(Ce,{className:"w-full",onClick:()=>e("swimmers"),children:"Voir les nageurs"})})]}),u.jsxs(Pe,{className:"shadow-sm",children:[u.jsxs(Ze,{children:[u.jsxs(rt,{className:"flex items-center gap-2",children:[u.jsx(ro,{className:"h-5 w-5 text-primary"}),"Records club"]}),u.jsx(Qt,{children:"Importer les performances FFN et reconstruire les records."})]}),u.jsx(Be,{children:u.jsx(Ce,{className:"w-full",variant:"outline",onClick:t,children:"Administration des records"})})]})]}),u.jsxs("div",{className:"grid gap-4 lg:grid-cols-2",children:[u.jsxs(Pe,{className:"sm:hidden bg-slate-950 text-white",children:[u.jsxs(Ze,{className:"space-y-1",children:[u.jsx(rt,{className:"text-base",children:"Indicateurs cls"}),u.jsx(Qt,{className:"text-slate-200",children:"Synthse rapide pour aujourd'hui."})]}),u.jsxs(Be,{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-white/10 bg-white/5 p-3",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-xs uppercase tracking-[0.2em] text-slate-200",children:"Fatigue 5/5"}),u.jsx("p",{className:"text-2xl font-semibold",children:o?"":f.length}),u.jsx("p",{className:"text-xs text-slate-200",children:o?"Chargement...":f.length?f.slice(0,2).map(p=>p.athleteName).join(", "):"Aucune alerte"})]}),u.jsx(wk,{className:"h-5 w-5 text-slate-200"})]}),u.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-white/10 bg-white/5 p-3",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-xs uppercase tracking-[0.2em] text-slate-200",children:"Nageur le plus charg"}),u.jsx("p",{className:"text-lg font-semibold",children:o?"":m?.athleteName??"-"}),u.jsx("p",{className:"text-xs text-slate-200",children:o?"Calcul en cours":m?`Charge ${Math.round(m.loadScore)}`:"Pas de donnes rcentes"})]}),u.jsx(hu,{className:"h-5 w-5 text-slate-200"})]})]})]}),u.jsxs(Pe,{className:"hidden sm:block",children:[u.jsx(Ze,{className:"space-y-2",children:u.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[u.jsxs("div",{className:"space-y-1",children:[u.jsx(rt,{children:"Signaux cls"}),u.jsx(Qt,{children:"Vue d'ensemble rapide de votre groupe."})]}),u.jsxs(KK,{type:"single",size:"sm",variant:"outline",value:String(l),onValueChange:p=>{p&&d(Number(p))},children:[u.jsx(sv,{value:"7","aria-label":"Priode 7 jours",children:"7j"}),u.jsx(sv,{value:"30","aria-label":"Priode 30 jours",children:"30j"}),u.jsx(sv,{value:"365","aria-label":"Priode 365 jours",children:"365j"})]})]})}),u.jsxs(Be,{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-center justify-between rounded-lg border bg-muted/30 p-3",children:[u.jsxs("div",{children:[u.jsxs("p",{className:"text-sm text-muted-foreground",children:["Fatigue 5/5 (",l,"j)"]}),u.jsx("p",{className:"text-xl font-semibold",children:o?"":f.length}),u.jsx("p",{className:"text-xs text-muted-foreground",children:o?"Chargement...":f.length?f.slice(0,2).map(p=>p.athleteName).join(", "):"Aucune alerte"})]}),u.jsx(wk,{className:"h-5 w-5 text-muted-foreground"})]}),u.jsxs("div",{className:"flex items-center justify-between rounded-lg border bg-muted/30 p-3",children:[u.jsxs("div",{children:[u.jsxs("p",{className:"text-sm text-muted-foreground",children:["Nageur le plus charg (",l,"j)"]}),u.jsx("p",{className:"text-xl font-semibold",children:o?"":m?.athleteName??"-"}),u.jsx("p",{className:"text-xs text-muted-foreground",children:o?"Calcul en cours":m?`Charge ${Math.round(m.loadScore)}`:"Pas de donnes rcentes"})]}),u.jsx(hu,{className:"h-5 w-5 text-muted-foreground"})]})]})]}),u.jsxs(Pe,{children:[u.jsxs(Ze,{children:[u.jsx(rt,{children:"Anniversaires  venir"}),u.jsx(Qt,{children:"Les 30 prochains jours."})]}),u.jsxs(Be,{className:"space-y-3",children:[a?u.jsx("p",{className:"text-sm text-muted-foreground",children:"Chargement..."}):i&&i.length>0?i.slice(0,3).map(p=>u.jsxs("div",{className:"flex items-center justify-between rounded-lg border p-3",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium",children:p.display_name}),u.jsx("p",{className:"text-xs text-muted-foreground",children:HRe(p.next_birthday)})]}),u.jsxs("span",{className:"text-xs font-semibold text-primary",children:["J-",p.days_until]})]},p.id)):u.jsx("p",{className:"text-sm text-muted-foreground",children:"Aucun anniversaire dans les 30 prochains jours."}),u.jsx(Ce,{variant:"outline",className:"w-full",onClick:()=>e("swimmers"),children:"Voir tous les nageurs"})]})]})]})]}),HRe=e=>{if(!e)return"-";const t=new Date(e);return Number.isNaN(t.getTime())?e:t.toLocaleDateString("fr-FR")},h6=e=>e.toISOString().split("T")[0],GRe=e=>new Date(e.completed_at||e.started_at||e.date||e.created_at||0).getTime(),KRe=e=>{if(!e.length)return null;const t=e.reduce((r,i)=>r+i,0)/e.length,n=Math.min(5,Math.max(1,Math.round(t/10*5)));return{average:t,rating:n}};function WRe(){const e=sn(C=>C.role);sn(C=>C.selectedAthleteId);const t=sn(C=>C.setSelectedAthlete),[,n]=ad(),[r,i]=_.useState("home"),[a,o]=_.useState(7),l=e==="coach"||e==="admin",d=r==="assignments",f=r==="home"||r==="assignments"||r==="messaging"||r==="swimmers",m=r==="assignments"||r==="messaging",p=r==="home"||r==="swimmers",{data:v}=Pt({queryKey:["swim_catalog"],queryFn:()=>De.getSwimCatalog(),enabled:l&&d}),{data:b}=Pt({queryKey:["strength_catalog"],queryFn:()=>De.getStrengthSessions(),enabled:l&&d}),{data:x=[],isLoading:y}=Pt({queryKey:["athletes"],queryFn:()=>De.getAthletes(),enabled:l&&f}),w=_.useMemo(()=>x.slice(0,5),[x]),{data:E=[]}=Pt({queryKey:["groups"],queryFn:()=>De.getGroups(),enabled:l&&m}),N=Pt({queryKey:["upcoming-birthdays"],queryFn:()=>De.getUpcomingBirthdays({days:30}),enabled:l&&p}),j=N.data,O=Pt({queryKey:["coach-kpis",a,w.map(C=>C.id??C.display_name)],enabled:l&&r==="home"&&w.length>0,queryFn:async()=>{const C=a,R=new Date;R.setDate(R.getDate()-C);const M=h6(R),k=h6(new Date),I=await Promise.all(w.map(async F=>{const[H,U]=await Promise.all([De.getSessions(F.display_name,F.id),De.getStrengthHistory(F.display_name,{athleteId:F.id,limit:50,from:M,to:k})]),D=H.filter(oe=>new Date(oe.date).getTime()>=R.getTime()),G=D.map(oe=>oe.fatigue??oe.feeling).filter(oe=>Number.isFinite(oe)),z=D.reduce((oe,be)=>oe+(Number(be.duration)||0)*(Number(be.effort)||0),0),ue=(U?.runs??[]).filter(oe=>GRe(oe)>=R.getTime()),V=ue.map(oe=>oe.fatigue??oe.feeling??oe.rpe).filter(oe=>Number.isFinite(Number(oe))).map(oe=>Number(oe)),K=ue.reduce((oe,be)=>{const ae=Number(be.feeling??be.rpe??0),J=Number(be.duration??0);if(J>0&&ae>0)return oe+J*ae;const he=Array.isArray(be.logs)?be.logs.length:0;return oe+he*5},0),Z=KRe([...G,...V]);return{athleteName:F.display_name,loadScore:z+K,fatigueRating:Z}})),B=I.filter(F=>F.fatigueRating?.rating===5).map(F=>({athleteName:F.athleteName,rating:F.fatigueRating?.rating??0})),$=I.filter(F=>F.loadScore>0).sort((F,H)=>H.loadScore-F.loadScore)[0];return{fatigueAlerts:B,mostLoadedAthlete:$??null}}}),T=C=>{t({id:C.id??null,name:C.display_name}),n("/progress")};return l?u.jsxs("div",{className:"space-y-6",children:[r==="home"?u.jsx(VRe,{onNavigate:i,onOpenRecordsAdmin:()=>n("/records-admin"),athletes:x,athletesLoading:y,upcomingBirthdays:j,birthdaysLoading:N.isLoading,kpiLoading:O.isLoading,kpiPeriod:a,onKpiPeriodChange:o,fatigueAlerts:O.data?.fatigueAlerts??[],mostLoadedAthlete:O.data?.mostLoadedAthlete??null}):null,r==="assignments"?u.jsx(zRe,{onBack:()=>i("home"),swimSessions:v,strengthSessions:b,athletes:x,groups:E}):null,r==="swim"?u.jsxs("div",{className:"space-y-6",children:[u.jsx(yh,{title:"Bibliothque natation",description:"Accdez aux sances et aux templates natation.",onBack:()=>i("home"),actions:u.jsxs(Ce,{variant:"outline",onClick:()=>i("assignments"),children:[u.jsx(wh,{className:"mr-2 h-4 w-4"}),"Nouvelle assignation"]})}),u.jsx(nRe,{})]}):null,r==="strength"?u.jsxs("div",{className:"space-y-6",children:[u.jsx(yh,{title:"Bibliothque musculation",description:"Consultez et crez des sances musculation.",onBack:()=>i("home"),actions:u.jsxs(Ce,{variant:"outline",onClick:()=>i("assignments"),children:[u.jsx(wh,{className:"mr-2 h-4 w-4"}),"Nouvelle assignation"]})}),u.jsx(sW,{title:"Musculation coach",description:"Le builder musculation est en cours de finalisation."})]}):null,r==="swimmers"?u.jsxs("div",{className:"space-y-6",children:[u.jsx(yh,{title:"Nageurs",description:"Accdez aux fiches individuelles des nageurs.",onBack:()=>i("home"),actions:u.jsxs(Ce,{variant:"outline",onClick:()=>i("messaging"),children:[u.jsx(as,{className:"mr-2 h-4 w-4"}),"Message rapide"]})}),u.jsxs(Pe,{children:[u.jsxs(Ze,{children:[u.jsx(rt,{children:"Suivi des Nageurs"}),u.jsx(Qt,{children:"Accdez aux fiches individuelles des nageurs."})]}),u.jsx(Be,{children:y?u.jsx("p",{className:"text-sm text-muted-foreground",children:"Chargement des nageurs..."}):x.length?u.jsx("div",{className:"w-full overflow-x-auto",children:u.jsxs(Mm,{children:[u.jsx(km,{children:u.jsxs(ja,{children:[u.jsx(In,{children:"Nageur"}),u.jsx(In,{children:"Groupe"}),u.jsx(In,{className:"text-right",children:"Fiche"})]})}),u.jsx(Dm,{children:x.map(C=>u.jsxs(ja,{children:[u.jsx(Rn,{className:"font-medium",children:C.display_name}),u.jsx(Rn,{children:C.group_label?u.jsx(ln,{variant:"secondary",children:C.group_label}):u.jsx("span",{className:"text-xs text-muted-foreground",children:"Sans groupe"})}),u.jsx(Rn,{className:"text-right",children:u.jsx(Ce,{size:"sm",variant:"outline",onClick:()=>T(C),children:"Voir la fiche"})})]},C.id??C.display_name))})]})}):u.jsx("p",{className:"text-sm text-muted-foreground",children:"Aucun nageur disponible."})})]})]}):null,r==="messaging"?u.jsx(URe,{onBack:()=>i("home"),athletes:x,groups:E,athletesLoading:y}):null]}):u.jsx("div",{className:"flex items-center justify-center min-h-[60vh] animate-in fade-in",children:u.jsxs(Pe,{className:"w-full max-w-sm shadow-xl border-t-4 border-t-primary",children:[u.jsxs(Ze,{children:[u.jsxs(rt,{className:"flex items-center gap-2 uppercase italic",children:[u.jsx(hu,{className:"h-5 w-5 text-primary"}),"Accs Coach"]}),u.jsx(Qt,{children:"Cette section est rserve aux coachs et administrateurs."})]}),u.jsx(Be,{children:u.jsx("p",{className:"text-sm text-muted-foreground",children:"Connectez-vous avec un compte autoris pour accder aux outils de gestion."})})]})})}function YRe(e,t,{checkForDefaultPrevented:n=!0}={}){return function(i){if(e?.(i),n===!1||!i.defaultPrevented)return t?.(i)}}var XRe=Cr[" useInsertionEffect ".trim().toString()]||Ut;function QRe({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[i,a,o]=JRe({defaultProp:t,onChange:n}),l=e!==void 0,d=l?e:i;{const m=_.useRef(e!==void 0);_.useEffect(()=>{const p=m.current;p!==l&&console.warn(`${r} is changing from ${p?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),m.current=l},[l,r])}const f=_.useCallback(m=>{if(l){const p=ZRe(m)?m(e):m;p!==e&&o.current?.(p)}else a(m)},[l,e,a,o]);return[d,f]}function JRe({defaultProp:e,onChange:t}){const[n,r]=_.useState(e),i=_.useRef(n),a=_.useRef(t);return XRe(()=>{a.current=t},[t]),_.useEffect(()=>{i.current!==n&&(a.current?.(n),i.current=n)},[n,i]),[n,r,a]}function ZRe(e){return typeof e=="function"}var Q0="Switch",[ePe]=Rr(Q0),[tPe,nPe]=ePe(Q0),oW=_.forwardRef((e,t)=>{const{__scopeSwitch:n,name:r,checked:i,defaultChecked:a,required:o,disabled:l,value:d="on",onCheckedChange:f,form:m,...p}=e,[v,b]=_.useState(null),x=jt(t,j=>b(j)),y=_.useRef(!1),w=v?m||!!v.closest("form"):!0,[E,N]=QRe({prop:i,defaultProp:a??!1,onChange:f,caller:Q0});return u.jsxs(tPe,{scope:n,checked:E,disabled:l,children:[u.jsx(gt.button,{type:"button",role:"switch","aria-checked":E,"aria-required":o,"data-state":dW(E),"data-disabled":l?"":void 0,disabled:l,value:d,...p,ref:x,onClick:YRe(e.onClick,j=>{N(O=>!O),w&&(y.current=j.isPropagationStopped(),y.current||j.stopPropagation())})}),w&&u.jsx(uW,{control:v,bubbles:!y.current,name:r,value:d,checked:E,required:o,disabled:l,form:m,style:{transform:"translateX(-100%)"}})]})});oW.displayName=Q0;var lW="SwitchThumb",cW=_.forwardRef((e,t)=>{const{__scopeSwitch:n,...r}=e,i=nPe(lW,n);return u.jsx(gt.span,{"data-state":dW(i.checked),"data-disabled":i.disabled?"":void 0,...r,ref:t})});cW.displayName=lW;var rPe="SwitchBubbleInput",uW=_.forwardRef(({__scopeSwitch:e,control:t,checked:n,bubbles:r=!0,...i},a)=>{const o=_.useRef(null),l=jt(o,a),d=r0(n),f=Fy(t);return _.useEffect(()=>{const m=o.current;if(!m)return;const p=window.HTMLInputElement.prototype,b=Object.getOwnPropertyDescriptor(p,"checked").set;if(d!==n&&b){const x=new Event("click",{bubbles:r});b.call(m,n),m.dispatchEvent(x)}},[d,n,r]),u.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:l,style:{...i.style,...f,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});uW.displayName=rPe;function dW(e){return e?"checked":"unchecked"}var fW=oW,iPe=cW;const id=_.forwardRef(({className:e,...t},n)=>u.jsx(fW,{className:Ne("peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:n,children:u.jsx(iPe,{className:Ne("pointer-events-none block h-4 w-4 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0")})}));id.displayName=fW.displayName;const m6=["athlete","coach","comite","admin"],gj=e=>!(e===!1||e===0),aPe=(e,t,n)=>e.map(r=>r.id===t?{...r,role:n}:r),vj=(e,t)=>Mr(e,t).message;function sPe(){const{useMemo:e,useState:t}=Cr,n=typeof window>"u"?sn.getState().role:sn(U=>U.role),r=sn(U=>U.userId),{toast:i}=pi(),a=oa(),[o,l]=t(""),[d,f]=t("all"),[m,p]=t(!1),[v,b]=t(null),[x,y]=t(""),[w,E]=t(""),[N,j]=t(""),[O,T]=t(null),C=n==="admin",{data:R=[],isLoading:M}=Pt({queryKey:["admin-users",m],queryFn:()=>De.listUsers({includeInactive:m}),enabled:C}),k=Lt({mutationFn:U=>De.createCoach(U),onMutate:()=>{T(null)},onSuccess:U=>{a.invalidateQueries({queryKey:["admin-users"]}),y(""),E(""),j(""),T(U.initialPassword??null),i({title:"Coach cr"})},onError:U=>{i({title:"Erreur cration coach",description:vj(U,"Impossible de crer le coach.")})}}),I=Lt({mutationFn:U=>De.updateUserRole(U),onSuccess:(U,D)=>{a.setQueryData(["admin-users",m],G=>G&&aPe(G,D.userId,D.role)),a.invalidateQueries({queryKey:["admin-users"]}),i({title:"Rle mis  jour"})},onError:U=>{i({title:"Erreur mise  jour rle",description:vj(U,"Impossible de mettre  jour le rle.")})}}),B=Lt({mutationFn:U=>De.disableUser(U),onSuccess:()=>{a.invalidateQueries({queryKey:["admin-users"]}),i({title:"Compte dsactiv"})},onError:U=>{i({title:"Erreur dsactivation",description:vj(U,"Impossible de dsactiver le compte.")})}}),$=e(()=>R.find(D=>D.role==="admin")?.id??null,[R]),F=e(()=>{const U=o.trim().toLowerCase();return R.filter(D=>{if(d!=="all"&&D.role!==d)return!1;const G=D.display_name?.toLowerCase()??"",z=D.email?.toLowerCase()??"";return!(U&&!G.includes(U)&&!z.includes(U))})},[R,d,o]),H=e(()=>v?R.find(U=>U.id===v)??null:null,[v,R]);return C?u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("h1",{className:"text-3xl font-display font-bold uppercase italic text-primary",children:"Administration"}),u.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[u.jsx(bee,{className:"h-4 w-4 text-primary"}),u.jsx("span",{children:"Accs admin"})]})]}),u.jsxs(Pe,{children:[u.jsxs(Ze,{children:[u.jsx(rt,{children:"Crer un coach"}),u.jsx(Qt,{children:"Laissez le mot de passe vide pour en gnrer un automatiquement (affich une seule fois)."})]}),u.jsx(Be,{children:u.jsxs("form",{className:"space-y-4",onSubmit:U=>{U.preventDefault();const D=x.trim();D&&k.mutate({display_name:D,email:w.trim()||void 0,password:N||void 0})},children:[u.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(it,{htmlFor:"coach-create-name",children:"Nom affich"}),u.jsx(xt,{id:"coach-create-name",value:x,onChange:U=>y(U.target.value),placeholder:"Ex: Coach Martin",required:!0})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(it,{htmlFor:"coach-create-email",children:"Email"}),u.jsx(xt,{id:"coach-create-email",type:"email",value:w,onChange:U=>E(U.target.value),placeholder:"coach@email.com"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(it,{htmlFor:"coach-create-password",children:"Mot de passe (optionnel)"}),u.jsx(xt,{id:"coach-create-password",type:"text",value:N,onChange:U=>j(U.target.value),placeholder:"Laisser vide pour auto"})]})]}),u.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[u.jsx(Ce,{type:"submit",disabled:!x.trim()||k.isPending,children:k.isPending?"Cration...":"Crer le coach"}),O?u.jsxs("div",{className:"rounded-md border border-primary/30 bg-primary/5 px-4 py-2 text-sm",children:[u.jsx("p",{className:"font-medium text-primary",children:"Mot de passe initial ( copier)"}),u.jsx("p",{className:"font-mono",children:O})]}):null]})]})})]}),u.jsxs(Pe,{children:[u.jsxs(Ze,{children:[u.jsx(rt,{children:"Gestion des comptes"}),u.jsx(Qt,{children:"Mettre  jour les rles, filtrer et dsactiver les comptes."})]}),u.jsxs(Be,{className:"space-y-4",children:[u.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[u.jsxs("div",{className:"md:col-span-2 space-y-2",children:[u.jsx(it,{htmlFor:"admin-search",children:"Recherche"}),u.jsxs("div",{className:"relative",children:[u.jsx(EA,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),u.jsx(xt,{id:"admin-search",value:o,onChange:U=>l(U.target.value),placeholder:"Nom ou email",className:"pl-9"})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(it,{children:"Rle"}),u.jsxs(yn,{value:d,onValueChange:U=>f(U),children:[u.jsx(mn,{children:u.jsx(bn,{placeholder:"Tous"})}),u.jsxs(pn,{children:[u.jsx(ct,{value:"all",children:"Tous"}),u.jsx(ct,{value:"athlete",children:"Athlte"}),u.jsx(ct,{value:"coach",children:"Entraineur EAC"}),u.jsx(ct,{value:"comite",children:"Comit"}),u.jsx(ct,{value:"admin",children:"Admin"})]})]})]}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(id,{checked:m,onCheckedChange:p,id:"inactive-toggle"}),u.jsx(it,{htmlFor:"inactive-toggle",className:"text-sm",children:"Inclure dsactivs"})]})]}),M?u.jsx("p",{className:"text-sm text-muted-foreground",children:"Chargement des utilisateurs..."}):F.length?u.jsx("div",{className:"w-full overflow-x-auto",children:u.jsxs(Mm,{children:[u.jsx(km,{children:u.jsxs(ja,{children:[u.jsx(In,{children:"Utilisateur"}),u.jsx(In,{children:"Email"}),u.jsx(In,{children:"Rle"}),u.jsx(In,{children:"Statut"}),u.jsx(In,{className:"text-right",children:"Actions"})]})}),u.jsx(Dm,{children:F.map(U=>{const D=gj(U.is_active),G=r===U.id,z=$!==null&&$!==U.id;return u.jsxs(ja,{"data-selected":v===U.id,children:[u.jsx(Rn,{className:"font-medium",children:u.jsx(Ce,{variant:"ghost",size:"sm",className:"px-2",onClick:()=>b(U.id),children:U.display_name})}),u.jsx(Rn,{className:"text-sm text-muted-foreground",children:U.email||"-"}),u.jsx(Rn,{children:u.jsxs(yn,{value:U.role,onValueChange:X=>{m6.includes(X)&&U.id&&X!==U.role&&I.mutate({userId:U.id,role:X})},disabled:!D||I.isPending,children:[u.jsx(mn,{className:"w-[140px]",children:u.jsx(bn,{})}),u.jsxs(pn,{children:[u.jsx(ct,{value:"athlete",children:"Athlte"}),u.jsx(ct,{value:"coach",children:"Entraineur EAC"}),u.jsx(ct,{value:"comite",children:"Comit"}),u.jsx(ct,{value:"admin",disabled:z,children:"Admin"})]})]})}),u.jsx(Rn,{children:D?u.jsx(ln,{variant:"secondary",children:"Actif"}):u.jsx(ln,{variant:"outline",children:"Dsactiv"})}),u.jsx(Rn,{className:"text-right",children:u.jsxs(Ce,{variant:"destructive",size:"sm",onClick:()=>{if(!U.id)return;if(G){i({title:"Action impossible",description:"Vous ne pouvez pas dsactiver votre propre compte."});return}window.confirm(`Confirmer la dsactivation du compte "${U.display_name}" ?`)&&B.mutate({userId:U.id})},disabled:!D||B.isPending||G,children:[u.jsx(Ree,{className:"mr-2 h-4 w-4"}),"Dsactiver"]})})]},U.id)})})]})}):u.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[u.jsx(Mee,{className:"h-4 w-4"}),"Aucun utilisateur ne correspond  votre recherche."]})]})]}),u.jsxs(Pe,{children:[u.jsxs(Ze,{children:[u.jsx(rt,{children:"Fiche utilisateur"}),u.jsx(Qt,{children:"Slectionnez un compte pour afficher les dtails."})]}),u.jsx(Be,{children:H?u.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx("p",{className:"text-sm text-muted-foreground",children:"Nom affich"}),u.jsx("p",{className:"text-lg font-semibold",children:H.display_name}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Email"}),u.jsx("p",{children:H.email||"-"})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-muted-foreground",children:"Rle"}),u.jsxs(yn,{value:H.role,onValueChange:U=>{m6.includes(U)&&H.id&&U!==H.role&&I.mutate({userId:H.id,role:U})},disabled:!gj(H.is_active)||I.isPending,children:[u.jsx(mn,{className:"w-[180px]",children:u.jsx(bn,{})}),u.jsxs(pn,{children:[u.jsx(ct,{value:"athlete",children:"Athlte"}),u.jsx(ct,{value:"coach",children:"Entraineur EAC"}),u.jsx(ct,{value:"comite",children:"Comit"}),u.jsx(ct,{value:"admin",disabled:$!==null&&$!==H.id,children:"Admin"})]})]})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-muted-foreground",children:"Statut"}),gj(H.is_active)?u.jsx(ln,{variant:"secondary",children:"Actif"}):u.jsx(ln,{variant:"outline",children:"Dsactiv"})]}),H.group_label?u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-muted-foreground",children:"Groupe"}),u.jsx("p",{children:H.group_label})]}):null]})]}):u.jsx("p",{className:"text-sm text-muted-foreground",children:"Aucun utilisateur slectionn."})})]})]}):typeof window>"u"?null:u.jsx(Iy,{to:"/"})}function oPe({children:e,className:t,top:n=!1,bottom:r=!1,left:i=!1,right:a=!1}){return u.jsx("div",{className:Ne(t),style:{paddingTop:n?"env(safe-area-inset-top)":void 0,paddingBottom:r?"env(safe-area-inset-bottom)":void 0,paddingLeft:i?"env(safe-area-inset-left)":void 0,paddingRight:a?"env(safe-area-inset-right)":void 0},children:e})}const du=e=>String(e).padStart(2,"0"),uA=(e,t,n)=>Math.max(t,Math.min(n,e)),lPe=(e,t)=>{const n=Math.round(e/t)*t;return uA(n,0,60-t)},hW=(e,t=5)=>{const[n,r]=e.split(":"),i=Number(n),a=Number(r),o=uA(Number.isFinite(i)?i:0,0,23),l=uA(Number.isFinite(a)?a:0,0,59),d=lPe(l,t);return`${du(o)}:${du(d)}`},cPe=(e,t)=>{const n=hW(e,t),[r,i]=n.split(":").map(a=>Number(a));return{hours:r,minutes:i}};function p6({value:e,values:t,onChange:n,width:r=68,itemHeight:i=28,visibleCount:a=3,format:o,snapKey:l}){const d=q.useRef(null),f=Math.floor(a/2)*i,[m,p]=q.useState(e),v=q.useRef(e),b=q.useRef(e),x=q.useRef(null),y=q.useRef(null),w=q.useRef(!1);return q.useEffect(()=>{b.current=e,v.current=e,p(e);const E=d.current;if(!E||w.current)return;const N=Math.max(0,t.indexOf(e));E.scrollTo({top:N*i,behavior:"instant"})},[i,e,t]),q.useEffect(()=>{const E=d.current;if(!E)return;const N=Math.max(0,t.indexOf(e));E.scrollTo({top:N*i,behavior:"instant"})},[i,l,e,t]),q.useEffect(()=>{const E=d.current;if(!E)return;const N=()=>{const T=Math.round(E.scrollTop/i),C=t[Math.max(0,Math.min(t.length-1,T))];v.current=C,p(C)},j=()=>{const T=v.current;T!==b.current&&n(T),w.current=!1},O=()=>{w.current=!0,x.current&&cancelAnimationFrame(x.current),x.current=requestAnimationFrame(N),y.current&&window.clearTimeout(y.current),y.current=window.setTimeout(j,140)};return E.addEventListener("scroll",O,{passive:!0}),()=>{E.removeEventListener("scroll",O),x.current&&cancelAnimationFrame(x.current),y.current&&window.clearTimeout(y.current)}},[i,n,t]),u.jsx("div",{style:{width:r,minWidth:0,flex:`0 0 ${r}px`},children:u.jsxs("div",{className:"relative overflow-hidden rounded-xl border border-slate-200 bg-white",children:[u.jsx("div",{className:"pointer-events-none absolute left-0 right-0 top-0 z-[2]",style:{height:f,background:"linear-gradient(#fff, rgba(255,255,255,0))"}}),u.jsx("div",{className:"pointer-events-none absolute left-0 right-0 bottom-0 z-[2]",style:{height:f,background:"linear-gradient(rgba(255,255,255,0), #fff)"}}),u.jsx("div",{className:"pointer-events-none absolute left-1.5 right-1.5 z-[1] rounded-lg",style:{top:f,height:i,background:"rgba(17,17,17,0.14)",boxShadow:"inset 0 0 0 1px rgba(17,17,17,0.25)"}}),u.jsx("div",{ref:d,style:{height:i*a,overflowY:"auto",overflowX:"hidden",scrollSnapType:"y mandatory",scrollSnapStop:"always",WebkitOverflowScrolling:"touch",paddingTop:f,paddingBottom:f,touchAction:"pan-y",overscrollBehavior:"contain"},children:t.map(E=>{const N=E===m;return u.jsx("div",{className:`flex items-center justify-center text-[15px] font-bold ${N?"text-slate-900":"text-slate-400"}`,style:{height:i,scrollSnapAlign:"center",fontWeight:N?900:700,userSelect:"none"},children:o?o(E):String(E)},E)})})]})})}function g6({label:e,value:t,onChange:n,allowEmpty:r=!1,showEmptyButton:i=!0,snapKey:a}){const o=q.useMemo(()=>Array.from({length:24},(y,w)=>w),[]),l=q.useMemo(()=>Array.from({length:12},(y,w)=>w*5),[]),d=t||"00:00",f=q.useMemo(()=>cPe(d,5),[d]),[m,p]=q.useState(f.hours),[v,b]=q.useState(f.minutes);q.useEffect(()=>{p(f.hours),b(f.minutes)},[f.hours,f.minutes]),q.useEffect(()=>{if(!t)return;const y=hW(t,5),[w,E]=y.split(":");p(Number(w)),b(Number(E))},[t]);const x=q.useCallback((y,w)=>{n(`${du(y)}:${du(w)}`)},[n]);return u.jsxs("div",{className:"space-y-2",children:[u.jsx("div",{className:"text-xs font-black text-slate-900",children:e}),u.jsxs("div",{className:"flex flex-wrap items-end justify-center gap-2",children:[u.jsx(p6,{value:m,values:o,onChange:y=>{p(y),x(y,v)},format:y=>du(y),snapKey:a}),u.jsx(p6,{value:v,values:l,onChange:y=>{b(y),x(m,y)},format:y=>du(y),snapKey:a})]}),r&&i?u.jsx("button",{type:"button",onClick:()=>n(""),className:"mx-auto block h-8 min-w-[110px] rounded-full border border-slate-200 bg-white px-3 text-xs font-bold text-slate-900",children:"En cours"}):null]})}const Py=e=>String(e).padStart(2,"0"),yj=()=>{const e=new Date,t=Math.round(e.getMinutes()/5)*5,n=t===60?1:0,r=(e.getHours()+n)%24,i=t===60?0:t;return`${Py(r)}:${Py(i)}`},uPe=(e,t)=>{const[n,r]=e.split(":").map(f=>Number(f)),i=Number.isFinite(n)?n:0,a=Number.isFinite(r)?r:0,o=(i*60+a+t+1440)%1440,l=Math.floor(o/60),d=o%60;return`${Py(l)}:${Py(d)}`};function dPe({isOpen:e,isEditing:t,isSaving:n,date:r,startTime:i,endTime:a,location:o,isTravel:l,durationLabel:d,locations:f,onClose:m,onSubmit:p,onDateChange:v,onStartTimeChange:b,onEndTimeChange:x,onLocationChange:y,onTravelChange:w,onCreateLocation:E,onDeleteLocation:N}){const j=q.useMemo(()=>e?Date.now():0,[e]),[O,T]=q.useState(!1),[C,R]=q.useState("");return q.useEffect(()=>{if(!e||t||i)return;const M=yj();b(M),a||x(uPe(M,60))},[a,t,e,x,b,i]),e?u.jsx("div",{className:"fixed inset-0 z-50 flex items-end justify-center bg-black/35 px-3 pb-3",onClick:m,children:u.jsxs("div",{className:"w-full max-w-3xl overflow-hidden rounded-2xl bg-white shadow-[0_12px_40px_rgba(0,0,0,0.2)]",onClick:M=>M.stopPropagation(),children:[u.jsx("div",{className:"mx-auto mt-2 h-1.5 w-10 rounded-full bg-slate-200"}),u.jsxs("div",{className:"grid grid-cols-[1fr_auto] items-center gap-2 px-4 pb-2 pt-3 text-sm font-black",children:[u.jsx("div",{children:t?"Modifier shift":"Nouveau shift"}),u.jsx(Ce,{type:"button",variant:"outline",size:"sm",onClick:m,children:"Fermer"}),u.jsxs("div",{className:"col-span-2 text-center text-sm font-black text-slate-900",children:[i||"","  ",a||"En cours",d?`  Dure ${d}`:null]})]}),u.jsxs("form",{onSubmit:p,className:"max-h-[72vh] space-y-4 overflow-y-auto px-4 pb-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(it,{htmlFor:"shift-date",children:"Date"}),u.jsx(xt,{id:"shift-date",type:"date",value:r,onChange:M=>v(M.target.value)})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[u.jsxs("div",{className:"space-y-3",children:[u.jsx(g6,{label:"Heure darrive",value:i,onChange:b,snapKey:j}),u.jsx("button",{type:"button",className:"mx-auto block h-8 min-w-[110px] rounded-full border border-slate-200 bg-white px-3 text-xs font-bold text-slate-900",onClick:()=>{const M=yj();b(M)},children:"Maintenant"})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsx(g6,{label:"Heure de sortie",value:a,onChange:x,allowEmpty:!0,showEmptyButton:!1,snapKey:j}),u.jsx("button",{type:"button",className:"mx-auto block h-8 min-w-[110px] rounded-full border border-slate-200 bg-white px-3 text-xs font-bold text-slate-900",onClick:()=>{const M=yj();x(M)},children:"Maintenant"}),u.jsx("button",{type:"button",className:"mx-auto block h-8 min-w-[110px] rounded-full border border-slate-200 bg-white px-3 text-xs font-bold text-slate-900",onClick:()=>x(""),children:"En cours"})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(it,{htmlFor:"shift-location",children:"Lieu"}),u.jsxs(yn,{value:o||void 0,onValueChange:y,children:[u.jsx(mn,{id:"shift-location",children:u.jsx(bn,{placeholder:"Slectionner un lieu"})}),u.jsx(pn,{children:f.map(M=>u.jsx(ct,{value:M.name,children:M.name},M.id))})]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Y0,{id:"shift-travel",checked:l,onCheckedChange:M=>w(M===!0)}),u.jsx(it,{htmlFor:"shift-travel",children:"Temps de trajet"})]}),u.jsxs("div",{className:"flex gap-3 border-t border-slate-100 pt-3",children:[u.jsx(Ce,{type:"button",variant:"outline",className:"flex-1",onClick:m,children:"Annuler"}),u.jsx(Ce,{type:"submit",className:"flex-1",disabled:n,children:t?"Enregistrer":"Ajouter"})]})]})]})}):null}const My=e=>{if(!e)return null;const t=new Date(e);return Number.isNaN(t.getTime())?null:t},xl=e=>{if(!e.end_time)return null;const t=My(e.start_time),n=My(e.end_time);if(!t||!n)return null;const r=(n.getTime()-t.getTime())/6e4;return r<0?null:Math.round(r)},v6=e=>e.reduce((t,n)=>{const r=xl(n);return r===null||(n.is_travel?t.travelMinutes+=r:t.workMinutes+=r,t.totalMinutes=t.workMinutes+t.travelMinutes),t},{workMinutes:0,travelMinutes:0,totalMinutes:0}),fPe=(e,t=new Date)=>{const n=e.filter(i=>{const a=My(i.start_time);return a?IOe(a,t,{weekStartsOn:1}):!1}),r=e.filter(i=>{const a=My(i.start_time);return a?$Oe(a,t):!1});return{week:v6(n),month:v6(r)}},Hr=e=>{const t=Math.max(0,Math.round(e)),n=Math.floor(t/60),r=t%60;return`${n}h${String(r).padStart(2,"0")}`},y6=e=>{if(!e)return"";const t=new Date(e);return Number.isNaN(t.getTime())?"":Sn(t,"HH:mm")},hPe=e=>{const t=new Date(e);return Number.isNaN(t.getTime())?e:new Intl.DateTimeFormat("fr-FR",{weekday:"long",day:"numeric",month:"long",year:"numeric"}).format(t)};function mPe({groups:e,onEdit:t,onDelete:n}){return u.jsx("div",{className:"rounded-2xl border border-slate-200 bg-white shadow-[0_1px_6px_rgba(0,0,0,0.04)]",children:e.length===0?u.jsx("div",{className:"px-4 py-4 text-sm text-slate-500",children:"Aucun shift pour linstant."}):e.map(r=>u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center justify-between gap-3 border-b border-slate-200 bg-slate-50 px-3 py-2 text-xs font-black capitalize text-slate-900",children:[u.jsx("span",{children:hPe(r.date)}),u.jsx("span",{children:Hr(r.totalMinutes)})]}),u.jsx("div",{children:r.shifts.map(i=>{const a=xl(i),o=a===null;return u.jsxs("div",{className:"flex flex-wrap items-start gap-3 border-b border-slate-100 px-3 py-3",children:[u.jsx("span",{className:i.is_travel?"rounded-full border border-slate-200 bg-amber-50 px-2 py-1 text-[11px] font-semibold text-slate-900":"rounded-full border border-slate-200 bg-blue-50 px-2 py-1 text-[11px] font-semibold text-slate-900",children:i.is_travel?"Trajet":"Travail"}),u.jsxs("div",{className:"min-w-0 flex-1",children:[u.jsxs("div",{className:"flex flex-wrap items-baseline justify-between gap-2",children:[u.jsxs("div",{className:"text-sm font-black text-slate-900",children:[y6(i.start_time),"  ",i.end_time?y6(i.end_time):"En cours",a!==null?u.jsxs("span",{className:"ml-1 text-xs font-semibold text-slate-500",children:["(",Hr(a),")"]}):null]}),u.jsxs("div",{className:"flex flex-wrap justify-end gap-2",children:[u.jsx("button",{type:"button",className:"rounded-lg border border-slate-200 bg-white px-3 py-1.5 text-xs font-bold text-slate-900",onClick:()=>t(i),children:"Modifier"}),u.jsx("button",{type:"button",className:"rounded-lg border border-slate-200 bg-white px-3 py-1.5 text-xs font-bold text-slate-900",onClick:()=>n(i.id),children:"Suppr."})]})]}),u.jsx("div",{className:"mt-1 text-sm text-slate-700",children:i.location||"Lieu non prcis"}),o?u.jsx("div",{className:"mt-1 text-xs text-slate-500",children:"En cours"}):null]})]},i.id)})})]},r.date))})}const b6=e=>{if(!e)return"";const t=new Date(e);return Number.isNaN(t.getTime())?"":Sn(t,"HH:mm")},Yc=e=>e.shift_date||e.start_time.split("T")[0],x6=(e,t,n)=>{const r=new Date(e).getTime(),i=new Date(t).getTime(),a=new Date(n).getTime(),o=Math.min(i,a),l=Math.max(i,a);return r>=o&&r<=l},w6=e=>e.find(t=>t.name==="Piscine")?.name??e[0]?.name??"Piscine";function pPe({initialTab:e="POINTAGE"}){const{useMemo:t,useState:n}=Cr,{toast:r}=pi(),i=oa(),a=typeof window>"u"?sn.getState().role:sn(je=>je.role),o=typeof window>"u"?sn.getState().userId:sn(je=>je.userId),l=a==="coach"||a==="admin",[d,f]=n(e),[m,p]=n(()=>Sn(new Date,"yyyy-MM-dd")),[v,b]=n(""),[x,y]=n(""),[w,E]=n("Piscine"),[N,j]=n(!1),[O,T]=n(!0),[C,R]=n(null),[M,k]=n(!1),[I,B]=n(""),{data:$=[],error:F}=Pt({queryKey:["timesheet-shifts",o],queryFn:()=>De.listTimesheetShifts({coachId:o??void 0}),enabled:l}),{data:H=[],error:U}=Pt({queryKey:["timesheet-locations"],queryFn:()=>De.listTimesheetLocations(),enabled:l}),{data:D,error:G}=Pt({queryKey:["capabilities","timesheet"],queryFn:()=>De.getCapabilities(),enabled:wl.hasSupabase}),z=t(()=>w6(H),[H]),X=_.useCallback(()=>{p(Sn(new Date,"yyyy-MM-dd")),b(""),y(""),E(z),j(!1)},[z]),ue=Lt({mutationFn:je=>De.createTimesheetShift(je),onSuccess:()=>{i.invalidateQueries({queryKey:["timesheet-shifts"]}),X(),r({title:"Shift enregistr"})},onError:je=>{const Ge=Mr(je,"Impossible d'enregistrer le shift.");r({title:"Erreur",description:Ge.message})}}),V=Lt({mutationFn:je=>De.updateTimesheetShift(je),onSuccess:()=>{i.invalidateQueries({queryKey:["timesheet-shifts"]}),T(!1),R(null),X(),r({title:"Shift mis  jour"})},onError:je=>{const Ge=Mr(je,"Impossible de modifier le shift.");r({title:"Erreur",description:Ge.message})}}),K=Lt({mutationFn:je=>De.deleteTimesheetShift(je),onSuccess:()=>{i.invalidateQueries({queryKey:["timesheet-shifts"]})},onError:je=>{const Ge=Mr(je,"Impossible de supprimer le shift.");r({title:"Erreur",description:Ge.message})}}),Z=Lt({mutationFn:je=>De.createTimesheetLocation(je),onSuccess:()=>{i.invalidateQueries({queryKey:["timesheet-locations"]})},onError:je=>{const Ge=Mr(je,"Impossible d'ajouter le lieu.");r({title:"Erreur",description:Ge.message})}}),oe=Lt({mutationFn:je=>De.deleteTimesheetLocation(je),onSuccess:(je,Ge)=>{i.invalidateQueries({queryKey:["timesheet-locations"]});const pt=H.filter(yt=>yt.id!==Ge.id);w&&pt.every(yt=>yt.name!==w)&&E(w6(pt))},onError:je=>{const Ge=Mr(je,"Impossible de supprimer le lieu.");r({title:"Erreur",description:Ge.message})}}),be=Sn(new Date,"yyyy-MM-dd"),ae=t(()=>$.reduce((je,Ge)=>{if(Yc(Ge)!==be)return je;const yt=xl(Ge);return yt?je+yt:je},0),[$,be]),J=t(()=>{const je=[...$].sort((pt,yt)=>pt.start_time<yt.start_time?1:-1),Ge=new Map;return je.forEach(pt=>{const yt=Yc(pt);Ge.has(yt)||Ge.set(yt,[]),Ge.get(yt)?.push(pt)}),Array.from(Ge.entries()).map(([pt,yt])=>{const $t=yt.reduce((ir,ie)=>{const Y=xl(ie);return Y?ir+Y:ir},0);return{date:pt,shifts:yt,totalMinutes:$t}}).sort((pt,yt)=>pt.date<yt.date?1:-1)},[$]),he=t(()=>new Date,[]),[se,pe]=n(()=>Sn(new Date(he.getFullYear(),he.getMonth(),1),"yyyy-MM-dd")),[xe,ee]=n(()=>Sn(he,"yyyy-MM-dd")),$e=t(()=>{const je=$.filter(Ge=>x6(Yc(Ge),se,xe));return je.reduce((Ge,pt)=>{const $t=xl(pt)??0;return pt.is_travel?Ge.travel+=$t:Ge.work+=$t,Ge.total+=$t,Ge},{count:je.length,work:0,travel:0,total:0})},[se,xe,$]),ge=t(()=>{const je=$.filter(pt=>x6(Yc(pt),se,xe)),Ge=new Map;return je.forEach(pt=>{const yt=Yc(pt),$t=xl(pt)??0;Ge.set(yt,(Ge.get(yt)??0)+$t)}),Array.from(Ge.entries()).map(([pt,yt])=>({date:pt,label:Sn(new Date(pt),"dd/MM"),hours:Number((yt/60).toFixed(2))})).sort((pt,yt)=>pt.date<yt.date?-1:1)},[se,xe,$]),He=t(()=>new Intl.DateTimeFormat("fr-FR",{weekday:"long",day:"numeric",month:"long",year:"numeric"}),[]);if(!l)return typeof window>"u"?null:u.jsx(Iy,{to:"/"});const te=G?Mr(G,"Impossible de vrifier le module de pointage.").message:D?.mode==="supabase"&&!D.timesheet.available?"Pointage heures indisponible (tables manquantes ct D1).":null,re=F?Mr(F,"Impossible de charger les shifts.").message:null,Me=U?Mr(U,"Impossible de charger les lieux.").message:null,ut=ue.isPending||V.isPending,ke=Z.isPending||oe.isPending,Qe=t(()=>{if(!v||!x)return null;const je=new Date(`${m}T${v}`),Ge=new Date(`${m}T${x}`);if(Number.isNaN(je.getTime())||Number.isNaN(Ge.getTime()))return null;const pt=(Ge.getTime()-je.getTime())/6e4;return pt<=0?null:Hr(pt)},[m,v,x]),st=je=>{if(je.preventDefault(),!m||!v){r({title:"Champs requis",description:"Date et heure de dbut obligatoires."});return}const Ge=`${m}T${v}`,pt=x?`${m}T${x}`:null;if(pt&&new Date(pt)<new Date(Ge)){r({title:"Heures invalides",description:"La fin doit tre aprs le dbut."});return}if(!o){r({title:"Utilisateur manquant"});return}if(C){V.mutate({id:C,coach_id:o,shift_date:m,start_time:Ge,end_time:pt,location:w.trim()||null,is_travel:N});return}ue.mutate({coach_id:o,shift_date:m,start_time:Ge,end_time:pt,location:w.trim()||null,is_travel:N})},Bt=()=>{X(),R(null),T(!0)},It=je=>{R(je.id),p(Yc(je)),b(b6(je.start_time)),y(je.end_time?b6(je.end_time):""),E(je.location??""),j(je.is_travel),T(!0)},En=()=>{T(!1),R(null)};_.useEffect(()=>{d==="DASHBOARD"&&(T(!1),R(null))},[d]),_.useEffect(()=>{!O||C||(!w||H.every(je=>je.name!==w))&&E(z)},[z,C,O,w,H]);const Ot=()=>{const je=I.trim();je&&(Z.mutate({name:je}),B(""))};return u.jsxs(oPe,{top:!0,bottom:!0,className:"min-h-screen bg-slate-50",children:[u.jsxs("div",{className:"mx-auto flex w-full max-w-3xl flex-col gap-4 px-4 pb-24 pt-4 text-slate-900",children:[u.jsxs("div",{className:"flex items-center justify-between gap-3",children:[u.jsx("div",{className:"text-xs font-black tracking-[0.2px]",children:"ADMINISTRATIF"}),u.jsxs("div",{className:"flex items-center gap-1 rounded-full border border-slate-200 bg-white p-1 text-xs font-extrabold",children:[u.jsx("button",{type:"button",className:`rounded-full px-3 py-2 ${d==="POINTAGE"?"bg-slate-900 text-white":"text-slate-900"}`,"aria-current":d==="POINTAGE"?"page":void 0,onClick:()=>f("POINTAGE"),children:"Pointage"}),u.jsx("button",{type:"button",className:`rounded-full px-3 py-2 ${d==="DASHBOARD"?"bg-slate-900 text-white":"text-slate-900"}`,"aria-current":d==="DASHBOARD"?"page":void 0,onClick:()=>f("DASHBOARD"),children:"Dashboard"})]})]}),te?u.jsx("div",{className:"rounded-2xl border border-dashed border-slate-200 bg-white px-4 py-3 text-sm text-slate-500",children:te}):null,re?u.jsx("div",{className:"rounded-2xl border border-red-200 bg-red-50 px-4 py-3 text-sm text-red-600",children:re}):null,Me?u.jsx("div",{className:"rounded-2xl border border-red-200 bg-red-50 px-4 py-3 text-sm text-red-600",children:Me}):null,d==="POINTAGE"?u.jsxs(_.Fragment,{children:[u.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white px-4 py-3 shadow-[0_1px_6px_rgba(0,0,0,0.04)]",children:[u.jsx("div",{className:"text-xs text-slate-500",children:"Heures aujourd'hui"}),u.jsx("div",{className:"mt-1 text-2xl font-black text-slate-900",children:Hr(ae)})]}),u.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white px-4 py-3 shadow-[0_1px_6px_rgba(0,0,0,0.04)]",children:[u.jsxs("div",{className:"flex items-center justify-between gap-2",children:[u.jsx("div",{className:"text-sm font-black text-slate-900",children:"Lieux"}),u.jsx(Ce,{type:"button",variant:"outline",size:"sm",onClick:()=>k(je=>!je),children:"Grer les lieux"})]}),M?u.jsxs("div",{className:"mt-3 space-y-3 text-sm text-slate-700",children:[u.jsx("div",{className:"flex flex-wrap gap-2",children:H.length?H.map(je=>u.jsxs("div",{className:"flex items-center gap-2 rounded-full border border-slate-200 bg-white px-3 py-1 text-xs font-semibold text-slate-700",children:[u.jsx("span",{children:je.name}),u.jsx("button",{type:"button",className:"text-slate-400 transition hover:text-slate-900",onClick:()=>oe.mutate({id:je.id}),"aria-label":`Supprimer ${je.name}`,disabled:ke,children:""})]},je.id)):u.jsx("span",{className:"text-xs text-slate-500",children:"Aucun lieu enregistr."})}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx(xt,{value:I,onChange:je=>B(je.target.value),placeholder:"Nouveau lieu",className:"min-w-[160px] flex-1"}),u.jsx(Ce,{type:"button",size:"sm",onClick:Ot,disabled:!I.trim()||ke,children:"Ajouter"})]})]}):null]}),u.jsx(mPe,{groups:J,onEdit:It,onDelete:je=>K.mutate({id:je})}),u.jsx("button",{type:"button",className:"fixed bottom-4 right-4 z-40 flex h-14 w-14 items-center justify-center rounded-full bg-red-600 text-2xl font-black text-white shadow-[0_8px_20px_rgba(220,38,38,0.25)]",onClick:Bt,"aria-label":"Ajouter un shift",children:"+"})]}):u.jsxs(_.Fragment,{children:[u.jsxs("div",{className:"rounded-2xl border border-dashed border-slate-200 bg-white px-4 py-4 shadow-[0_1px_6px_rgba(0,0,0,0.04)]",children:[u.jsx("div",{className:"text-base font-black text-slate-900",children:"Dashboard KPI"}),u.jsxs("div",{className:"mt-3 flex flex-wrap gap-2",children:[u.jsxs("div",{className:"min-w-[180px] flex-1 space-y-2",children:[u.jsx(it,{htmlFor:"dashboard-from",children:"Du"}),u.jsx(xt,{id:"dashboard-from",type:"date",value:se,onChange:je=>pe(je.target.value)})]}),u.jsxs("div",{className:"min-w-[180px] flex-1 space-y-2",children:[u.jsx(it,{htmlFor:"dashboard-to",children:"Au"}),u.jsx(xt,{id:"dashboard-to",type:"date",value:xe,onChange:je=>ee(je.target.value)})]})]}),u.jsxs("div",{className:"mt-3 text-xs text-slate-500",children:["Priode slectionne : ",He.format(new Date(se))," "," ",He.format(new Date(xe))]})]}),u.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white px-4 py-4 shadow-[0_1px_6px_rgba(0,0,0,0.04)]",children:[u.jsx("div",{className:"mb-3 text-sm font-black text-slate-900",children:"Heures par jour"}),ge.length?u.jsx("div",{className:"h-56 w-full",children:u.jsx(eu,{width:"100%",height:"100%",children:u.jsxs(av,{data:ge,margin:{top:8,right:12,left:-10,bottom:8},children:[u.jsx(dl,{strokeDasharray:"3 3",vertical:!1}),u.jsx(na,{dataKey:"label",tickLine:!1,axisLine:!1}),u.jsx(yo,{tickLine:!1,axisLine:!1,tickFormatter:je=>`${je}h`}),u.jsx(kr,{formatter:je=>`${je} h`,labelFormatter:je=>`Jour ${je}`}),u.jsx(fi,{dataKey:"hours",fill:"#0f172a",radius:[6,6,0,0]})]})})}):u.jsx("div",{className:"text-sm text-slate-500",children:"Aucune donne sur la priode."})]}),u.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white px-4 py-4 shadow-[0_1px_6px_rgba(0,0,0,0.04)]",children:[u.jsx("div",{className:"mb-3 text-sm font-black text-slate-900",children:"Rsum priode"}),u.jsx("div",{className:"grid gap-3 sm:grid-cols-2",children:[{label:"Total",value:Hr($e.total),hint:"Travail + trajet"},{label:"Shifts",value:$e.count.toString(),hint:"Nombre sur la priode"},{label:"Travail",value:Hr($e.work),hint:"Heures de travail"},{label:"Trajet",value:Hr($e.travel),hint:"Heures de trajet"}].map(je=>u.jsxs("div",{className:"rounded-2xl border border-dashed border-slate-200 bg-white p-3 shadow-[0_1px_6px_rgba(0,0,0,0.04)]",children:[u.jsx("div",{className:"text-xs text-slate-500",children:je.label}),u.jsx("div",{className:"text-lg font-black text-slate-900",children:je.value}),u.jsx("div",{className:"text-xs text-slate-500",children:je.hint})]},je.label))})]}),u.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white px-4 py-4 shadow-[0_1px_6px_rgba(0,0,0,0.04)]",children:[u.jsx("div",{className:"mb-2 text-sm font-black text-slate-900",children:"Graphiques ( venir)"}),u.jsxs("div",{className:"text-sm text-slate-500",children:[" Bar chart : heures par jour (priode)",u.jsx("br",{})," Donut : % trajet vs travail",u.jsx("br",{})," Top lieux : heures cumules",u.jsx("br",{})," Variations : priode vs priode-1"]})]})]})]}),d==="POINTAGE"?u.jsx(dPe,{isOpen:O,isEditing:!!C,isSaving:ut,date:m,startTime:v,endTime:x,location:w,isTravel:N,durationLabel:Qe,locations:H,onClose:En,onSubmit:st,onDateChange:p,onStartTimeChange:b,onEndTimeChange:y,onLocationChange:E,onTravelChange:j,onCreateLocation:je=>Z.mutate({name:je}),onDeleteLocation:je=>oe.mutate({id:je})}):null]})}const _6=e=>{if(!e)return"";const t=new Date(e);return Number.isNaN(t.getTime())?"":Sn(t,"HH:mm")};function gPe(){const{useMemo:e,useState:t}=Cr,n=typeof window>"u"?sn.getState().role:sn(j=>j.role),r=n==="comite"||n==="admin",[i,a]=t("all"),[o,l]=t(!1),{data:d=[]}=Pt({queryKey:["timesheet-coaches"],queryFn:()=>De.listTimesheetCoaches(),enabled:r}),f=i==="all"?void 0:Number(i),{data:m=[],error:p}=Pt({queryKey:["timesheet-shifts",f??"all"],queryFn:()=>De.listTimesheetShifts({coachId:f}),enabled:r}),{data:v,error:b}=Pt({queryKey:["capabilities","timesheet"],queryFn:()=>De.getCapabilities(),enabled:wl.hasSupabase}),x=fPe(m),y=e(()=>o?m.filter(j=>j.is_travel):m,[m,o]),w=e(()=>{const j=new Map;return y.forEach(O=>{const T=O.shift_date||O.start_time.split("T")[0];j.has(T)||j.set(T,[]),j.get(T)?.push(O)}),Array.from(j.entries()).sort(([O],[T])=>O<T?1:-1)},[y]);if(!r)return typeof window>"u"?null:u.jsx(Iy,{to:"/"});const E=b?Mr(b,"Impossible de vrifier le module de pointage.").message:v?.mode==="supabase"&&!v.timesheet.available?"Pointage heures indisponible (tables manquantes ct D1).":null,N=p?Mr(p,"Impossible de charger les shifts.").message:null;return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("h1",{className:"text-3xl font-display font-bold uppercase italic text-primary",children:"Comit"}),u.jsx("div",{className:"text-sm text-muted-foreground",children:"Tableau de bord shifts"})]}),E?u.jsx(Pe,{className:"border-dashed",children:u.jsx(Be,{className:"py-4 text-sm text-muted-foreground",children:E})}):null,N?u.jsx(Pe,{className:"border-destructive/40",children:u.jsx(Be,{className:"py-4 text-sm text-destructive",children:N})}):null,u.jsxs(Pe,{children:[u.jsx(Ze,{children:u.jsx(rt,{children:"Filtrer par coach"})}),u.jsx(Be,{children:u.jsxs(yn,{value:i,onValueChange:a,children:[u.jsx(mn,{className:"w-full md:w-80",children:u.jsx(bn,{placeholder:"Tous les coachs"})}),u.jsxs(pn,{children:[u.jsx(ct,{value:"all",children:"Tous les coachs"}),d.map(j=>u.jsx(ct,{value:String(j.id),children:j.display_name},j.id))]})]})})]}),u.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[u.jsxs(Pe,{children:[u.jsx(Ze,{children:u.jsx(rt,{children:"Totals semaine"})}),u.jsxs(Be,{className:"space-y-1 text-sm text-muted-foreground",children:[u.jsxs("div",{children:["Travail: ",Hr(x.week.workMinutes)]}),u.jsxs("div",{children:["Trajet: ",Hr(x.week.travelMinutes)]}),u.jsxs("div",{className:"font-semibold text-foreground",children:["Total: ",Hr(x.week.totalMinutes)]}),u.jsx("div",{className:"text-xs text-muted-foreground",children:"Les shifts en cours ne sont pas comptabiliss."})]})]}),u.jsxs(Pe,{children:[u.jsx(Ze,{children:u.jsx(rt,{children:"Totals mois"})}),u.jsxs(Be,{className:"space-y-1 text-sm text-muted-foreground",children:[u.jsxs("div",{children:["Travail: ",Hr(x.month.workMinutes)]}),u.jsxs("div",{children:["Trajet: ",Hr(x.month.travelMinutes)]}),u.jsxs("div",{className:"font-semibold text-foreground",children:["Total: ",Hr(x.month.totalMinutes)]}),u.jsx("div",{className:"text-xs text-muted-foreground",children:"Les shifts en cours ne sont pas comptabiliss."})]})]})]}),u.jsxs(Pe,{children:[u.jsx(Ze,{children:u.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[u.jsx(rt,{children:"Shifts enregistrs"}),u.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[u.jsx(Y0,{id:"shift-travel-filter",checked:o,onCheckedChange:j=>l(j===!0)}),u.jsx(it,{htmlFor:"shift-travel-filter",children:"Trajet uniquement"})]})]})}),u.jsx(Be,{className:"space-y-4",children:w.length===0?u.jsx("p",{className:"text-sm text-muted-foreground",children:o?"Aucun trajet disponible.":"Aucun shift disponible."}):w.map(([j,O])=>u.jsxs("div",{className:"space-y-2",children:[u.jsx("div",{className:"text-sm font-semibold text-foreground",children:j}),u.jsx("div",{className:"space-y-2",children:O.map(T=>{const C=xl(T);return u.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2 rounded-lg border border-border/60 bg-muted/30 px-3 py-2 text-sm",children:[u.jsxs("div",{className:"space-y-1",children:[u.jsxs("div",{className:"font-medium text-foreground",children:[_6(T.start_time)," "," ",T.end_time?_6(T.end_time):"En cours  non comptabilis"]}),u.jsxs("div",{className:"text-xs text-muted-foreground",children:[T.coach_name||"Coach","  ",T.location||"Lieu non prcis"," "," ",T.is_travel?"Trajet":"Travail"]})]}),u.jsx("div",{className:"text-xs text-muted-foreground",children:C!==null?Hr(C):"En cours"})]},T.id)})})]},j))})]})]})}const VO=e0,vPe=DF,yPe=t0,mW=_.forwardRef(({className:e,...t},n)=>u.jsx(pd,{className:Ne("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:n}));mW.displayName=pd.displayName;const bPe=od("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500 data-[state=open]:animate-in data-[state=closed]:animate-out",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4 border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),J0=_.forwardRef(({side:e="right",className:t,children:n,...r},i)=>u.jsxs(yPe,{children:[u.jsx(mW,{}),u.jsxs(gd,{ref:i,className:Ne(bPe({side:e}),t),...r,children:[u.jsxs(n0,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[u.jsx(Ii,{className:"h-4 w-4"}),u.jsx("span",{className:"sr-only",children:"Close"})]}),n]})]}));J0.displayName=gd.displayName;const Z0=({className:e,...t})=>u.jsx("div",{className:Ne("flex flex-col space-y-2 text-center sm:text-left",e),...t});Z0.displayName="SheetHeader";const eb=_.forwardRef(({className:e,...t},n)=>u.jsx(vd,{ref:n,className:Ne("text-lg font-semibold text-foreground",e),...t}));eb.displayName=vd.displayName;const xPe=_.forwardRef(({className:e,...t},n)=>u.jsx(yd,{ref:n,className:Ne("text-sm text-muted-foreground",e),...t}));xPe.displayName=yd.displayName;const wPe={lessThanXSeconds:{one:"moins dune seconde",other:"moins de {{count}} secondes"},xSeconds:{one:"1 seconde",other:"{{count}} secondes"},halfAMinute:"30 secondes",lessThanXMinutes:{one:"moins dune minute",other:"moins de {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"environ 1 heure",other:"environ {{count}} heures"},xHours:{one:"1 heure",other:"{{count}} heures"},xDays:{one:"1 jour",other:"{{count}} jours"},aboutXWeeks:{one:"environ 1 semaine",other:"environ {{count}} semaines"},xWeeks:{one:"1 semaine",other:"{{count}} semaines"},aboutXMonths:{one:"environ 1 mois",other:"environ {{count}} mois"},xMonths:{one:"1 mois",other:"{{count}} mois"},aboutXYears:{one:"environ 1 an",other:"environ {{count}} ans"},xYears:{one:"1 an",other:"{{count}} ans"},overXYears:{one:"plus dun an",other:"plus de {{count}} ans"},almostXYears:{one:"presquun an",other:"presque {{count}} ans"}},_Pe=(e,t,n)=>{let r;const i=wPe[e];return typeof i=="string"?r=i:t===1?r=i.one:r=i.other.replace("{{count}}",String(t)),n?.addSuffix?n.comparison&&n.comparison>0?"dans "+r:"il y a "+r:r},SPe={full:"EEEE d MMMM y",long:"d MMMM y",medium:"d MMM y",short:"dd/MM/y"},jPe={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},EPe={full:"{{date}} '' {{time}}",long:"{{date}} '' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},NPe={date:ju({formats:SPe,defaultWidth:"full"}),time:ju({formats:jPe,defaultWidth:"full"}),dateTime:ju({formats:EPe,defaultWidth:"full"})},APe={lastWeek:"eeee 'dernier ' p",yesterday:"'hier ' p",today:"'aujourdhui ' p",tomorrow:"'demain ' p'",nextWeek:"eeee 'prochain ' p",other:"P"},TPe=(e,t,n,r)=>APe[e],OPe={narrow:["av. J.-C","ap. J.-C"],abbreviated:["av. J.-C","ap. J.-C"],wide:["avant Jsus-Christ","aprs Jsus-Christ"]},CPe={narrow:["T1","T2","T3","T4"],abbreviated:["1er trim.","2me trim.","3me trim.","4me trim."],wide:["1er trimestre","2me trimestre","3me trimestre","4me trimestre"]},RPe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["janv.","fvr.","mars","avr.","mai","juin","juil.","aot","sept.","oct.","nov.","dc."],wide:["janvier","fvrier","mars","avril","mai","juin","juillet","aot","septembre","octobre","novembre","dcembre"]},PPe={narrow:["D","L","M","M","J","V","S"],short:["di","lu","ma","me","je","ve","sa"],abbreviated:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],wide:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"]},MPe={narrow:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"mat.",afternoon:"ap.m.",evening:"soir",night:"mat."},abbreviated:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"matin",afternoon:"aprs-midi",evening:"soir",night:"matin"},wide:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"du matin",afternoon:"de laprs-midi",evening:"du soir",night:"du matin"}},kPe=(e,t)=>{const n=Number(e),r=t?.unit;if(n===0)return"0";const i=["year","week","hour","minute","second"];let a;return n===1?a=r&&i.includes(r)?"re":"er":a="me",n+a},DPe=["MMM","MMMM"],IPe={preprocessor:(e,t)=>e.getDate()===1||!t.some(r=>r.isToken&&DPe.includes(r.value))?t:t.map(r=>r.isToken&&r.value==="do"?{isToken:!0,value:"d"}:r),ordinalNumber:kPe,era:ga({values:OPe,defaultWidth:"wide"}),quarter:ga({values:CPe,defaultWidth:"wide",argumentCallback:e=>e-1}),month:ga({values:RPe,defaultWidth:"wide"}),day:ga({values:PPe,defaultWidth:"wide"}),dayPeriod:ga({values:MPe,defaultWidth:"wide"})},$Pe=/^(\d+)(ime|re|me|er|e)?/i,LPe=/\d+/i,BPe={narrow:/^(av\.J\.C|ap\.J\.C|ap\.J\.-C)/i,abbreviated:/^(av\.J\.-C|av\.J-C|apr\.J\.-C|apr\.J-C|ap\.J-C)/i,wide:/^(avant Jsus-Christ|aprs Jsus-Christ)/i},qPe={any:[/^av/i,/^ap/i]},zPe={narrow:/^T?[1234]/i,abbreviated:/^[1234](er|me|e)? trim\.?/i,wide:/^[1234](er|me|e)? trimestre/i},UPe={any:[/1/i,/2/i,/3/i,/4/i]},FPe={narrow:/^[jfmasond]/i,abbreviated:/^(janv|fvr|mars|avr|mai|juin|juill|juil|aot|sept|oct|nov|dc)\.?/i,wide:/^(janvier|fvrier|mars|avril|mai|juin|juillet|aot|septembre|octobre|novembre|dcembre)/i},VPe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^av/i,/^ma/i,/^juin/i,/^juil/i,/^ao/i,/^s/i,/^o/i,/^n/i,/^d/i]},HPe={narrow:/^[lmjvsd]/i,short:/^(di|lu|ma|me|je|ve|sa)/i,abbreviated:/^(dim|lun|mar|mer|jeu|ven|sam)\.?/i,wide:/^(dimanche|lundi|mardi|mercredi|jeudi|vendredi|samedi)/i},GPe={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^di/i,/^lu/i,/^ma/i,/^me/i,/^je/i,/^ve/i,/^sa/i]},KPe={narrow:/^(a|p|minuit|midi|mat\.?|ap\.?m\.?|soir|nuit)/i,any:/^([ap]\.?\s?m\.?|du matin|de l'aprs[-\s]midi|du soir|de la nuit)/i},WPe={any:{am:/^a/i,pm:/^p/i,midnight:/^min/i,noon:/^mid/i,morning:/mat/i,afternoon:/ap/i,evening:/soir/i,night:/nuit/i}},YPe={ordinalNumber:BG({matchPattern:$Pe,parsePattern:LPe,valueCallback:e=>parseInt(e)}),era:va({matchPatterns:BPe,defaultMatchWidth:"wide",parsePatterns:qPe,defaultParseWidth:"any"}),quarter:va({matchPatterns:zPe,defaultMatchWidth:"wide",parsePatterns:UPe,defaultParseWidth:"any",valueCallback:e=>e+1}),month:va({matchPatterns:FPe,defaultMatchWidth:"wide",parsePatterns:VPe,defaultParseWidth:"any"}),day:va({matchPatterns:HPe,defaultMatchWidth:"wide",parsePatterns:GPe,defaultParseWidth:"any"}),dayPeriod:va({matchPatterns:KPe,defaultMatchWidth:"any",parsePatterns:WPe,defaultParseWidth:"any"})},lo={code:"fr",formatDistance:_Pe,formatLong:NPe,formatRelative:TPe,localize:IPe,match:YPe,options:{weekStartsOn:1,firstWeekContainsDate:4}};function XPe(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}const pW=q.createContext({drawerRef:{current:null},overlayRef:{current:null},onPress:()=>{},onRelease:()=>{},onDrag:()=>{},onNestedDrag:()=>{},onNestedOpenChange:()=>{},onNestedRelease:()=>{},openProp:void 0,dismissible:!1,isOpen:!1,isDragging:!1,keyboardIsOpen:{current:!1},snapPointsOffset:null,snapPoints:null,handleOnly:!1,modal:!1,shouldFade:!1,activeSnapPoint:null,onOpenChange:()=>{},setActiveSnapPoint:()=>{},closeDrawer:()=>{},direction:"bottom",shouldAnimate:{current:!0},shouldScaleBackground:!1,setBackgroundColorOnScale:!0,noBodyStyles:!1,container:null,autoFocus:!1}),Hm=()=>{const e=q.useContext(pW);if(!e)throw new Error("useDrawerContext must be used within a Drawer.Root");return e};XPe(`[data-vaul-drawer]{touch-action:none;will-change:transform;transition:transform .5s cubic-bezier(.32, .72, 0, 1);animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=open]{animation-name:slideFromBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=closed]{animation-name:slideToBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=open]{animation-name:slideFromTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=closed]{animation-name:slideToTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=open]{animation-name:slideFromLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=closed]{animation-name:slideToLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=open]{animation-name:slideFromRight}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=closed]{animation-name:slideToRight}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--initial-transform,100%),0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--initial-transform,100%),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-overlay][data-vaul-snap-points=false]{animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-overlay][data-vaul-snap-points=false][data-state=open]{animation-name:fadeIn}[data-vaul-overlay][data-state=closed]{animation-name:fadeOut}[data-vaul-animate=false]{animation:none!important}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:0;transition:opacity .5s cubic-bezier(.32, .72, 0, 1)}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:1}[data-vaul-drawer]:not([data-vaul-custom-container=true])::after{content:'';position:absolute;background:inherit;background-color:inherit}[data-vaul-drawer][data-vaul-drawer-direction=top]::after{top:initial;bottom:100%;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=bottom]::after{top:100%;bottom:initial;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=left]::after{left:initial;right:100%;top:0;bottom:0;width:200%}[data-vaul-drawer][data-vaul-drawer-direction=right]::after{left:100%;right:initial;top:0;bottom:0;width:200%}[data-vaul-overlay][data-vaul-snap-points=true]:not([data-vaul-snap-points-overlay=true]):not(
[data-state=closed]
){opacity:0}[data-vaul-overlay][data-vaul-snap-points-overlay=true]{opacity:1}[data-vaul-handle]{display:block;position:relative;opacity:.7;background:#e2e2e4;margin-left:auto;margin-right:auto;height:5px;width:32px;border-radius:1rem;touch-action:pan-y}[data-vaul-handle]:active,[data-vaul-handle]:hover{opacity:1}[data-vaul-handle-hitarea]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:max(100%,2.75rem);height:max(100%,2.75rem);touch-action:inherit}@media (hover:hover) and (pointer:fine){[data-vaul-drawer]{user-select:none}}@media (pointer:fine){[data-vaul-handle-hitarea]:{width:100%;height:100%}}@keyframes fadeIn{from{opacity:0}to{opacity:1}}@keyframes fadeOut{to{opacity:0}}@keyframes slideFromBottom{from{transform:translate3d(0,var(--initial-transform,100%),0)}to{transform:translate3d(0,0,0)}}@keyframes slideToBottom{to{transform:translate3d(0,var(--initial-transform,100%),0)}}@keyframes slideFromTop{from{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}to{transform:translate3d(0,0,0)}}@keyframes slideToTop{to{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}}@keyframes slideFromLeft{from{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToLeft{to{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}}@keyframes slideFromRight{from{transform:translate3d(var(--initial-transform,100%),0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToRight{to{transform:translate3d(var(--initial-transform,100%),0,0)}}`);function QPe(){const e=navigator.userAgent;return typeof window<"u"&&(/Firefox/.test(e)&&/Mobile/.test(e)||/FxiOS/.test(e))}function JPe(){return HO(/^Mac/)}function ZPe(){return HO(/^iPhone/)}function S6(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}function eMe(){return HO(/^iPad/)||JPe()&&navigator.maxTouchPoints>1}function gW(){return ZPe()||eMe()}function HO(e){return typeof window<"u"&&window.navigator!=null?e.test(window.navigator.platform):void 0}const tMe=24,nMe=typeof window<"u"?_.useLayoutEffect:_.useEffect;function j6(...e){return(...t)=>{for(let n of e)typeof n=="function"&&n(...t)}}const bj=typeof document<"u"&&window.visualViewport;function E6(e){let t=window.getComputedStyle(e);return/(auto|scroll)/.test(t.overflow+t.overflowX+t.overflowY)}function vW(e){for(E6(e)&&(e=e.parentElement);e&&!E6(e);)e=e.parentElement;return e||document.scrollingElement||document.documentElement}const rMe=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);let Vg=0,xj;function iMe(e={}){let{isDisabled:t}=e;nMe(()=>{if(!t)return Vg++,Vg===1&&gW()&&(xj=aMe()),()=>{Vg--,Vg===0&&xj?.()}},[t])}function aMe(){let e,t=0,n=p=>{e=vW(p.target),!(e===document.documentElement&&e===document.body)&&(t=p.changedTouches[0].pageY)},r=p=>{if(!e||e===document.documentElement||e===document.body){p.preventDefault();return}let v=p.changedTouches[0].pageY,b=e.scrollTop,x=e.scrollHeight-e.clientHeight;x!==0&&((b<=0&&v>t||b>=x&&v<t)&&p.preventDefault(),t=v)},i=p=>{let v=p.target;dA(v)&&v!==document.activeElement&&(p.preventDefault(),v.style.transform="translateY(-2000px)",v.focus(),requestAnimationFrame(()=>{v.style.transform=""}))},a=p=>{let v=p.target;dA(v)&&(v.style.transform="translateY(-2000px)",requestAnimationFrame(()=>{v.style.transform="",bj&&(bj.height<window.innerHeight?requestAnimationFrame(()=>{N6(v)}):bj.addEventListener("resize",()=>N6(v),{once:!0}))}))},o=()=>{window.scrollTo(0,0)},l=window.pageXOffset,d=window.pageYOffset,f=j6(sMe(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`));window.scrollTo(0,0);let m=j6(Uf(document,"touchstart",n,{passive:!1,capture:!0}),Uf(document,"touchmove",r,{passive:!1,capture:!0}),Uf(document,"touchend",i,{passive:!1,capture:!0}),Uf(document,"focus",a,!0),Uf(window,"scroll",o));return()=>{f(),m(),window.scrollTo(l,d)}}function sMe(e,t,n){let r=e.style[t];return e.style[t]=n,()=>{e.style[t]=r}}function Uf(e,t,n,r){return e.addEventListener(t,n,r),()=>{e.removeEventListener(t,n,r)}}function N6(e){let t=document.scrollingElement||document.documentElement;for(;e&&e!==t;){let n=vW(e);if(n!==document.documentElement&&n!==document.body&&n!==e){let r=n.getBoundingClientRect().top,i=e.getBoundingClientRect().top,a=e.getBoundingClientRect().bottom;const o=n.getBoundingClientRect().bottom+tMe;a>o&&(n.scrollTop+=i-r)}e=n.parentElement}}function dA(e){return e instanceof HTMLInputElement&&!rMe.has(e.type)||e instanceof HTMLTextAreaElement||e instanceof HTMLElement&&e.isContentEditable}function oMe(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function lMe(...e){return t=>e.forEach(n=>oMe(n,t))}function yW(...e){return _.useCallback(lMe(...e),e)}const bW=new WeakMap;function Zn(e,t,n=!1){if(!e||!(e instanceof HTMLElement))return;let r={};Object.entries(t).forEach(([i,a])=>{if(i.startsWith("--")){e.style.setProperty(i,a);return}r[i]=e.style[i],e.style[i]=a}),!n&&bW.set(e,r)}function cMe(e,t){if(!e||!(e instanceof HTMLElement))return;let n=bW.get(e);n&&(e.style[t]=n[t])}const Hn=e=>{switch(e){case"top":case"bottom":return!0;case"left":case"right":return!1;default:return e}};function Hg(e,t){if(!e)return null;const n=window.getComputedStyle(e),r=n.transform||n.webkitTransform||n.mozTransform;let i=r.match(/^matrix3d\((.+)\)$/);return i?parseFloat(i[1].split(", ")[Hn(t)?13:12]):(i=r.match(/^matrix\((.+)\)$/),i?parseFloat(i[1].split(", ")[Hn(t)?5:4]):null)}function uMe(e){return 8*(Math.log(e+1)-2)}function wj(e,t){if(!e)return()=>{};const n=e.style.cssText;return Object.assign(e.style,t),()=>{e.style.cssText=n}}function dMe(...e){return(...t)=>{for(const n of e)typeof n=="function"&&n(...t)}}const _n={DURATION:.5,EASE:[.32,.72,0,1]},xW=.4,fMe=.25,hMe=100,wW=8,tl=16,fA=26,_j="vaul-dragging";function _W(e){const t=q.useRef(e);return q.useEffect(()=>{t.current=e}),q.useMemo(()=>(...n)=>t.current==null?void 0:t.current.call(t,...n),[])}function mMe({defaultProp:e,onChange:t}){const n=q.useState(e),[r]=n,i=q.useRef(r),a=_W(t);return q.useEffect(()=>{i.current!==r&&(a(r),i.current=r)},[r,i,a]),n}function SW({prop:e,defaultProp:t,onChange:n=()=>{}}){const[r,i]=mMe({defaultProp:t,onChange:n}),a=e!==void 0,o=a?e:r,l=_W(n),d=q.useCallback(f=>{if(a){const p=typeof f=="function"?f(e):f;p!==e&&l(p)}else i(f)},[a,e,i,l]);return[o,d]}function pMe({activeSnapPointProp:e,setActiveSnapPointProp:t,snapPoints:n,drawerRef:r,overlayRef:i,fadeFromIndex:a,onSnapPointChange:o,direction:l="bottom",container:d,snapToSequentialPoint:f}){const[m,p]=SW({prop:e,defaultProp:n?.[0],onChange:t}),[v,b]=q.useState(typeof window<"u"?{innerWidth:window.innerWidth,innerHeight:window.innerHeight}:void 0);q.useEffect(()=>{function R(){b({innerWidth:window.innerWidth,innerHeight:window.innerHeight})}return window.addEventListener("resize",R),()=>window.removeEventListener("resize",R)},[]);const x=q.useMemo(()=>m===n?.[n.length-1]||null,[n,m]),y=q.useMemo(()=>{var R;return(R=n?.findIndex(M=>M===m))!=null?R:null},[n,m]),w=n&&n.length>0&&(a||a===0)&&!Number.isNaN(a)&&n[a]===m||!n,E=q.useMemo(()=>{const R=d?{width:d.getBoundingClientRect().width,height:d.getBoundingClientRect().height}:typeof window<"u"?{width:window.innerWidth,height:window.innerHeight}:{width:0,height:0};var M;return(M=n?.map(k=>{const I=typeof k=="string";let B=0;if(I&&(B=parseInt(k,10)),Hn(l)){const F=I?B:v?k*R.height:0;return v?l==="bottom"?R.height-F:-R.height+F:F}const $=I?B:v?k*R.width:0;return v?l==="right"?R.width-$:-R.width+$:$}))!=null?M:[]},[n,v,d]),N=q.useMemo(()=>y!==null?E?.[y]:null,[E,y]),j=q.useCallback(R=>{var M;const k=(M=E?.findIndex(I=>I===R))!=null?M:null;o(k),Zn(r.current,{transition:`transform ${_n.DURATION}s cubic-bezier(${_n.EASE.join(",")})`,transform:Hn(l)?`translate3d(0, ${R}px, 0)`:`translate3d(${R}px, 0, 0)`}),E&&k!==E.length-1&&a!==void 0&&k!==a&&k<a?Zn(i.current,{transition:`opacity ${_n.DURATION}s cubic-bezier(${_n.EASE.join(",")})`,opacity:"0"}):Zn(i.current,{transition:`opacity ${_n.DURATION}s cubic-bezier(${_n.EASE.join(",")})`,opacity:"1"}),p(n?.[Math.max(k,0)])},[r.current,n,E,a,i,p]);q.useEffect(()=>{if(m||e){var R;const M=(R=n?.findIndex(k=>k===e||k===m))!=null?R:-1;E&&M!==-1&&typeof E[M]=="number"&&j(E[M])}},[m,e,n,E,j]);function O({draggedDistance:R,closeDrawer:M,velocity:k,dismissible:I}){if(a===void 0)return;const B=l==="bottom"||l==="right"?(N??0)-R:(N??0)+R,$=y===a-1,F=y===0,H=R>0;if($&&Zn(i.current,{transition:`opacity ${_n.DURATION}s cubic-bezier(${_n.EASE.join(",")})`}),!f&&k>2&&!H){I?M():j(E[0]);return}if(!f&&k>2&&H&&E&&n){j(E[n.length-1]);return}const U=E?.reduce((G,z)=>typeof G!="number"||typeof z!="number"?G:Math.abs(z-B)<Math.abs(G-B)?z:G),D=Hn(l)?window.innerHeight:window.innerWidth;if(k>xW&&Math.abs(R)<D*.4){const G=H?1:-1;if(G>0&&x&&n){j(E[n.length-1]);return}if(F&&G<0&&I&&M(),y===null)return;j(E[y+G]);return}j(U)}function T({draggedDistance:R}){if(N===null)return;const M=l==="bottom"||l==="right"?N-R:N+R;(l==="bottom"||l==="right")&&M<E[E.length-1]||(l==="top"||l==="left")&&M>E[E.length-1]||Zn(r.current,{transform:Hn(l)?`translate3d(0, ${M}px, 0)`:`translate3d(${M}px, 0, 0)`})}function C(R,M){if(!n||typeof y!="number"||!E||a===void 0)return null;const k=y===a-1;if(y>=a&&M)return 0;if(k&&!M)return 1;if(!w&&!k)return null;const B=k?y+1:y-1,$=k?E[B]-E[B-1]:E[B+1]-E[B],F=R/Math.abs($);return k?1-F:F}return{isLastSnapPoint:x,activeSnapPoint:m,shouldFade:w,getPercentageDragged:C,setActiveSnapPoint:p,activeSnapPointIndex:y,onRelease:O,onDrag:T,snapPointsOffset:E}}const gMe=()=>()=>{};function vMe(){const{direction:e,isOpen:t,shouldScaleBackground:n,setBackgroundColorOnScale:r,noBodyStyles:i}=Hm(),a=q.useRef(null),o=_.useMemo(()=>document.body.style.backgroundColor,[]);function l(){return(window.innerWidth-fA)/window.innerWidth}q.useEffect(()=>{if(t&&n){a.current&&clearTimeout(a.current);const d=document.querySelector("[data-vaul-drawer-wrapper]")||document.querySelector("[vaul-drawer-wrapper]");if(!d)return;dMe(r&&!i?wj(document.body,{background:"black"}):gMe,wj(d,{transformOrigin:Hn(e)?"top":"left",transitionProperty:"transform, border-radius",transitionDuration:`${_n.DURATION}s`,transitionTimingFunction:`cubic-bezier(${_n.EASE.join(",")})`}));const f=wj(d,{borderRadius:`${wW}px`,overflow:"hidden",...Hn(e)?{transform:`scale(${l()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`}:{transform:`scale(${l()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`}});return()=>{f(),a.current=window.setTimeout(()=>{o?document.body.style.background=o:document.body.style.removeProperty("background")},_n.DURATION*1e3)}}},[t,n,o])}let Ff=null;function yMe({isOpen:e,modal:t,nested:n,hasBeenOpened:r,preventScrollRestoration:i,noBodyStyles:a}){const[o,l]=q.useState(()=>typeof window<"u"?window.location.href:""),d=q.useRef(0),f=q.useCallback(()=>{if(S6()&&Ff===null&&e&&!a){Ff={position:document.body.style.position,top:document.body.style.top,left:document.body.style.left,height:document.body.style.height,right:"unset"};const{scrollX:p,innerHeight:v}=window;document.body.style.setProperty("position","fixed","important"),Object.assign(document.body.style,{top:`${-d.current}px`,left:`${-p}px`,right:"0px",height:"auto"}),window.setTimeout(()=>window.requestAnimationFrame(()=>{const b=v-window.innerHeight;b&&d.current>=v&&(document.body.style.top=`${-(d.current+b)}px`)}),300)}},[e]),m=q.useCallback(()=>{if(S6()&&Ff!==null&&!a){const p=-parseInt(document.body.style.top,10),v=-parseInt(document.body.style.left,10);Object.assign(document.body.style,Ff),window.requestAnimationFrame(()=>{if(i&&o!==window.location.href){l(window.location.href);return}window.scrollTo(v,p)}),Ff=null}},[o]);return q.useEffect(()=>{function p(){d.current=window.scrollY}return p(),window.addEventListener("scroll",p),()=>{window.removeEventListener("scroll",p)}},[]),q.useEffect(()=>{if(t)return()=>{typeof document>"u"||document.querySelector("[data-vaul-drawer]")||m()}},[t,m]),q.useEffect(()=>{n||!r||(e?(!window.matchMedia("(display-mode: standalone)").matches&&f(),t||window.setTimeout(()=>{m()},500)):m())},[e,r,o,t,n,f,m]),{restorePositionSetting:m}}function bMe({open:e,onOpenChange:t,children:n,onDrag:r,onRelease:i,snapPoints:a,shouldScaleBackground:o=!1,setBackgroundColorOnScale:l=!0,closeThreshold:d=fMe,scrollLockTimeout:f=hMe,dismissible:m=!0,handleOnly:p=!1,fadeFromIndex:v=a&&a.length-1,activeSnapPoint:b,setActiveSnapPoint:x,fixed:y,modal:w=!0,onClose:E,nested:N,noBodyStyles:j=!1,direction:O="bottom",defaultOpen:T=!1,disablePreventScroll:C=!0,snapToSequentialPoint:R=!1,preventScrollRestoration:M=!1,repositionInputs:k=!0,onAnimationEnd:I,container:B,autoFocus:$=!1}){var F,H;const[U=!1,D]=SW({defaultProp:T,prop:e,onChange:Re=>{t?.(Re),!Re&&!N&&je(),setTimeout(()=>{I?.(Re)},_n.DURATION*1e3),Re&&!w&&typeof window<"u"&&window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"}),Re||(document.body.style.pointerEvents="auto")}}),[G,z]=q.useState(!1),[X,ue]=q.useState(!1),[V,K]=q.useState(!1),Z=q.useRef(null),oe=q.useRef(null),be=q.useRef(null),ae=q.useRef(null),J=q.useRef(null),he=q.useRef(!1),se=q.useRef(null),pe=q.useRef(0),xe=q.useRef(!1),ee=q.useRef(!T),$e=q.useRef(0),ge=q.useRef(null),He=q.useRef(((F=ge.current)==null?void 0:F.getBoundingClientRect().height)||0),te=q.useRef(((H=ge.current)==null?void 0:H.getBoundingClientRect().width)||0),re=q.useRef(0),Me=q.useCallback(Re=>{a&&Re===Bt.length-1&&(oe.current=new Date)},[]),{activeSnapPoint:ut,activeSnapPointIndex:ke,setActiveSnapPoint:Qe,onRelease:st,snapPointsOffset:Bt,onDrag:It,shouldFade:En,getPercentageDragged:Ot}=pMe({snapPoints:a,activeSnapPointProp:b,setActiveSnapPointProp:x,drawerRef:ge,fadeFromIndex:v,overlayRef:Z,onSnapPointChange:Me,direction:O,container:B,snapToSequentialPoint:R});iMe({isDisabled:!U||X||!w||V||!G||!k||!C});const{restorePositionSetting:je}=yMe({isOpen:U,modal:w,nested:N??!1,hasBeenOpened:G,preventScrollRestoration:M,noBodyStyles:j});function Ge(){return(window.innerWidth-fA)/window.innerWidth}function pt(Re){var at,et;!m&&!a||ge.current&&!ge.current.contains(Re.target)||(He.current=((at=ge.current)==null?void 0:at.getBoundingClientRect().height)||0,te.current=((et=ge.current)==null?void 0:et.getBoundingClientRect().width)||0,ue(!0),be.current=new Date,gW()&&window.addEventListener("touchend",()=>he.current=!1,{once:!0}),Re.target.setPointerCapture(Re.pointerId),pe.current=Hn(O)?Re.pageY:Re.pageX)}function yt(Re,at){var et;let Le=Re;const fe=(et=window.getSelection())==null?void 0:et.toString(),Ie=ge.current?Hg(ge.current,O):null,Nt=new Date;if(Le.tagName==="SELECT"||Le.hasAttribute("data-vaul-no-drag")||Le.closest("[data-vaul-no-drag]"))return!1;if(O==="right"||O==="left")return!0;if(oe.current&&Nt.getTime()-oe.current.getTime()<500)return!1;if(Ie!==null&&(O==="bottom"?Ie>0:Ie<0))return!0;if(fe&&fe.length>0)return!1;if(J.current&&Nt.getTime()-J.current.getTime()<f&&Ie===0||at)return J.current=Nt,!1;for(;Le;){if(Le.scrollHeight>Le.clientHeight){if(Le.scrollTop!==0)return J.current=new Date,!1;if(Le.getAttribute("role")==="dialog")return!0}Le=Le.parentNode}return!0}function $t(Re){if(ge.current&&X){const at=O==="bottom"||O==="right"?1:-1,et=(pe.current-(Hn(O)?Re.pageY:Re.pageX))*at,Le=et>0,fe=a&&!m&&!Le;if(fe&&ke===0)return;const Ie=Math.abs(et),Nt=document.querySelector("[data-vaul-drawer-wrapper]"),tt=O==="bottom"||O==="top"?He.current:te.current;let gn=Ie/tt;const Pn=Ot(Ie,Le);if(Pn!==null&&(gn=Pn),fe&&gn>=1||!he.current&&!yt(Re.target,Le))return;if(ge.current.classList.add(_j),he.current=!0,Zn(ge.current,{transition:"none"}),Zn(Z.current,{transition:"none"}),a&&It({draggedDistance:et}),Le&&!a){const ur=uMe(et),zi=Math.min(ur*-1,0)*at;Zn(ge.current,{transform:Hn(O)?`translate3d(0, ${zi}px, 0)`:`translate3d(${zi}px, 0, 0)`});return}const Ln=1-gn;if((En||v&&ke===v-1)&&(r?.(Re,gn),Zn(Z.current,{opacity:`${Ln}`,transition:"none"},!0)),Nt&&Z.current&&o){const ur=Math.min(Ge()+gn*(1-Ge()),1),zi=8-gn*8,Po=Math.max(0,14-gn*14);Zn(Nt,{borderRadius:`${zi}px`,transform:Hn(O)?`scale(${ur}) translate3d(0, ${Po}px, 0)`:`scale(${ur}) translate3d(${Po}px, 0, 0)`,transition:"none"},!0)}if(!a){const ur=Ie*at;Zn(ge.current,{transform:Hn(O)?`translate3d(0, ${ur}px, 0)`:`translate3d(${ur}px, 0, 0)`})}}}q.useEffect(()=>{window.requestAnimationFrame(()=>{ee.current=!0})},[]),q.useEffect(()=>{var Re;function at(){if(!ge.current||!k)return;const et=document.activeElement;if(dA(et)||xe.current){var Le;const fe=((Le=window.visualViewport)==null?void 0:Le.height)||0,Ie=window.innerHeight;let Nt=Ie-fe;const tt=ge.current.getBoundingClientRect().height||0,gn=tt>Ie*.8;re.current||(re.current=tt);const Pn=ge.current.getBoundingClientRect().top;if(Math.abs($e.current-Nt)>60&&(xe.current=!xe.current),a&&a.length>0&&Bt&&ke){const Ln=Bt[ke]||0;Nt+=Ln}if($e.current=Nt,tt>fe||xe.current){const Ln=ge.current.getBoundingClientRect().height;let ur=Ln;Ln>fe&&(ur=fe-(gn?Pn:fA)),y?ge.current.style.height=`${Ln-Math.max(Nt,0)}px`:ge.current.style.height=`${Math.max(ur,fe-Pn)}px`}else QPe()||(ge.current.style.height=`${re.current}px`);a&&a.length>0&&!xe.current?ge.current.style.bottom="0px":ge.current.style.bottom=`${Math.max(Nt,0)}px`}}return(Re=window.visualViewport)==null||Re.addEventListener("resize",at),()=>{var et;return(et=window.visualViewport)==null?void 0:et.removeEventListener("resize",at)}},[ke,a,Bt]);function ir(Re){Y(),E?.(),Re||D(!1),setTimeout(()=>{a&&Qe(a[0])},_n.DURATION*1e3)}function ie(){if(!ge.current)return;const Re=document.querySelector("[data-vaul-drawer-wrapper]"),at=Hg(ge.current,O);Zn(ge.current,{transform:"translate3d(0, 0, 0)",transition:`transform ${_n.DURATION}s cubic-bezier(${_n.EASE.join(",")})`}),Zn(Z.current,{transition:`opacity ${_n.DURATION}s cubic-bezier(${_n.EASE.join(",")})`,opacity:"1"}),o&&at&&at>0&&U&&Zn(Re,{borderRadius:`${wW}px`,overflow:"hidden",...Hn(O)?{transform:`scale(${Ge()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`,transformOrigin:"top"}:{transform:`scale(${Ge()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`,transformOrigin:"left"},transitionProperty:"transform, border-radius",transitionDuration:`${_n.DURATION}s`,transitionTimingFunction:`cubic-bezier(${_n.EASE.join(",")})`},!0)}function Y(){!X||!ge.current||(ge.current.classList.remove(_j),he.current=!1,ue(!1),ae.current=new Date)}function we(Re){if(!X||!ge.current)return;ge.current.classList.remove(_j),he.current=!1,ue(!1),ae.current=new Date;const at=Hg(ge.current,O);if(!Re||!yt(Re.target,!1)||!at||Number.isNaN(at)||be.current===null)return;const et=ae.current.getTime()-be.current.getTime(),Le=pe.current-(Hn(O)?Re.pageY:Re.pageX),fe=Math.abs(Le)/et;if(fe>.05&&(K(!0),setTimeout(()=>{K(!1)},200)),a){st({draggedDistance:Le*(O==="bottom"||O==="right"?1:-1),closeDrawer:ir,velocity:fe,dismissible:m}),i?.(Re,!0);return}if(O==="bottom"||O==="right"?Le>0:Le<0){ie(),i?.(Re,!0);return}if(fe>xW){ir(),i?.(Re,!1);return}var Ie;const Nt=Math.min((Ie=ge.current.getBoundingClientRect().height)!=null?Ie:0,window.innerHeight);var tt;const gn=Math.min((tt=ge.current.getBoundingClientRect().width)!=null?tt:0,window.innerWidth),Pn=O==="left"||O==="right";if(Math.abs(at)>=(Pn?gn:Nt)*d){ir(),i?.(Re,!1);return}i?.(Re,!0),ie()}q.useEffect(()=>(U&&(Zn(document.documentElement,{scrollBehavior:"auto"}),oe.current=new Date),()=>{cMe(document.documentElement,"scrollBehavior")}),[U]);function Ee(Re){const at=Re?(window.innerWidth-tl)/window.innerWidth:1,et=Re?-tl:0;se.current&&window.clearTimeout(se.current),Zn(ge.current,{transition:`transform ${_n.DURATION}s cubic-bezier(${_n.EASE.join(",")})`,transform:Hn(O)?`scale(${at}) translate3d(0, ${et}px, 0)`:`scale(${at}) translate3d(${et}px, 0, 0)`}),!Re&&ge.current&&(se.current=setTimeout(()=>{const Le=Hg(ge.current,O);Zn(ge.current,{transition:"none",transform:Hn(O)?`translate3d(0, ${Le}px, 0)`:`translate3d(${Le}px, 0, 0)`})},500))}function Ye(Re,at){if(at<0)return;const et=(window.innerWidth-tl)/window.innerWidth,Le=et+at*(1-et),fe=-tl+at*tl;Zn(ge.current,{transform:Hn(O)?`scale(${Le}) translate3d(0, ${fe}px, 0)`:`scale(${Le}) translate3d(${fe}px, 0, 0)`,transition:"none"})}function ot(Re,at){const et=Hn(O)?window.innerHeight:window.innerWidth,Le=at?(et-tl)/et:1,fe=at?-tl:0;at&&Zn(ge.current,{transition:`transform ${_n.DURATION}s cubic-bezier(${_n.EASE.join(",")})`,transform:Hn(O)?`scale(${Le}) translate3d(0, ${fe}px, 0)`:`scale(${Le}) translate3d(${fe}px, 0, 0)`})}return q.useEffect(()=>{w||window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"})},[w]),q.createElement(e0,{defaultOpen:T,onOpenChange:Re=>{!m&&!Re||(Re?z(!0):ir(!0),D(Re))},open:U},q.createElement(pW.Provider,{value:{activeSnapPoint:ut,snapPoints:a,setActiveSnapPoint:Qe,drawerRef:ge,overlayRef:Z,onOpenChange:t,onPress:pt,onRelease:we,onDrag:$t,dismissible:m,shouldAnimate:ee,handleOnly:p,isOpen:U,isDragging:X,shouldFade:En,closeDrawer:ir,onNestedDrag:Ye,onNestedOpenChange:Ee,onNestedRelease:ot,keyboardIsOpen:xe,modal:w,snapPointsOffset:Bt,activeSnapPointIndex:ke,direction:O,shouldScaleBackground:o,setBackgroundColorOnScale:l,noBodyStyles:j,container:B,autoFocus:$}},n))}const jW=q.forwardRef(function({...e},t){const{overlayRef:n,snapPoints:r,onRelease:i,shouldFade:a,isOpen:o,modal:l,shouldAnimate:d}=Hm(),f=yW(t,n),m=r&&r.length>0;if(!l)return null;const p=q.useCallback(v=>i(v),[i]);return q.createElement(pd,{onMouseUp:p,ref:f,"data-vaul-overlay":"","data-vaul-snap-points":o&&m?"true":"false","data-vaul-snap-points-overlay":o&&a?"true":"false","data-vaul-animate":d?.current?"true":"false",...e})});jW.displayName="Drawer.Overlay";const EW=q.forwardRef(function({onPointerDownOutside:e,style:t,onOpenAutoFocus:n,...r},i){const{drawerRef:a,onPress:o,onRelease:l,onDrag:d,keyboardIsOpen:f,snapPointsOffset:m,activeSnapPointIndex:p,modal:v,isOpen:b,direction:x,snapPoints:y,container:w,handleOnly:E,shouldAnimate:N,autoFocus:j}=Hm(),[O,T]=q.useState(!1),C=yW(i,a),R=q.useRef(null),M=q.useRef(null),k=q.useRef(!1),I=y&&y.length>0;vMe();const B=(F,H,U=0)=>{if(k.current)return!0;const D=Math.abs(F.y),G=Math.abs(F.x),z=G>D,X=["bottom","right"].includes(H)?1:-1;if(H==="left"||H==="right"){if(!(F.x*X<0)&&G>=0&&G<=U)return z}else if(!(F.y*X<0)&&D>=0&&D<=U)return!z;return k.current=!0,!0};q.useEffect(()=>{I&&window.requestAnimationFrame(()=>{T(!0)})},[]);function $(F){R.current=null,k.current=!1,l(F)}return q.createElement(gd,{"data-vaul-drawer-direction":x,"data-vaul-drawer":"","data-vaul-delayed-snap-points":O?"true":"false","data-vaul-snap-points":b&&I?"true":"false","data-vaul-custom-container":w?"true":"false","data-vaul-animate":N?.current?"true":"false",...r,ref:C,style:m&&m.length>0?{"--snap-point-height":`${m[p??0]}px`,...t}:t,onPointerDown:F=>{E||(r.onPointerDown==null||r.onPointerDown.call(r,F),R.current={x:F.pageX,y:F.pageY},o(F))},onOpenAutoFocus:F=>{n?.(F),j||F.preventDefault()},onPointerDownOutside:F=>{if(e?.(F),!v||F.defaultPrevented){F.preventDefault();return}f.current&&(f.current=!1)},onFocusOutside:F=>{if(!v){F.preventDefault();return}},onPointerMove:F=>{if(M.current=F,E||(r.onPointerMove==null||r.onPointerMove.call(r,F),!R.current))return;const H=F.pageY-R.current.y,U=F.pageX-R.current.x,D=F.pointerType==="touch"?10:2;B({x:U,y:H},x,D)?d(F):(Math.abs(U)>D||Math.abs(H)>D)&&(R.current=null)},onPointerUp:F=>{r.onPointerUp==null||r.onPointerUp.call(r,F),R.current=null,k.current=!1,l(F)},onPointerOut:F=>{r.onPointerOut==null||r.onPointerOut.call(r,F),$(M.current)},onContextMenu:F=>{r.onContextMenu==null||r.onContextMenu.call(r,F),M.current&&$(M.current)}})});EW.displayName="Drawer.Content";const xMe=250,wMe=120,_Me=q.forwardRef(function({preventCycle:e=!1,children:t,...n},r){const{closeDrawer:i,isDragging:a,snapPoints:o,activeSnapPoint:l,setActiveSnapPoint:d,dismissible:f,handleOnly:m,isOpen:p,onPress:v,onDrag:b}=Hm(),x=q.useRef(null),y=q.useRef(!1);function w(){if(y.current){j();return}window.setTimeout(()=>{E()},wMe)}function E(){if(a||e||y.current){j();return}if(j(),!o||o.length===0){f||i();return}if(l===o[o.length-1]&&f){i();return}const T=o.findIndex(R=>R===l);if(T===-1)return;const C=o[T+1];d(C)}function N(){x.current=window.setTimeout(()=>{y.current=!0},xMe)}function j(){x.current&&window.clearTimeout(x.current),y.current=!1}return q.createElement("div",{onClick:w,onPointerCancel:j,onPointerDown:O=>{m&&v(O),N()},onPointerMove:O=>{m&&b(O)},ref:r,"data-vaul-drawer-visible":p?"true":"false","data-vaul-handle":"","aria-hidden":"true",...n},q.createElement("span",{"data-vaul-handle-hitarea":"","aria-hidden":"true"},t))});_Me.displayName="Drawer.Handle";function SMe(e){const t=Hm(),{container:n=t.container,...r}=e;return q.createElement(t0,{container:n,...r})}const Ss={Root:bMe,Content:EW,Overlay:jW,Portal:SMe,Title:vd,Description:yd},NW=({shouldScaleBackground:e=!0,...t})=>u.jsx(Ss.Root,{shouldScaleBackground:e,...t});NW.displayName="Drawer";const jMe=Ss.Portal,AW=_.forwardRef(({className:e,...t},n)=>u.jsx(Ss.Overlay,{ref:n,className:Ne("fixed inset-0 z-50 bg-black/80",e),...t}));AW.displayName=Ss.Overlay.displayName;const TW=_.forwardRef(({className:e,children:t,...n},r)=>u.jsxs(jMe,{children:[u.jsx(AW,{}),u.jsxs(Ss.Content,{ref:r,className:Ne("fixed inset-x-0 bottom-0 z-50 mt-24 flex h-auto flex-col rounded-t-[10px] border bg-background",e),...n,children:[u.jsx("div",{className:"mx-auto mt-4 h-2 w-[100px] rounded-full bg-muted"}),t]})]}));TW.displayName="DrawerContent";const OW=({className:e,...t})=>u.jsx("div",{className:Ne("grid gap-1.5 p-4 text-center sm:text-left",e),...t});OW.displayName="DrawerHeader";const CW=_.forwardRef(({className:e,...t},n)=>u.jsx(Ss.Title,{ref:n,className:Ne("text-lg font-semibold leading-none tracking-tight",e),...t}));CW.displayName=Ss.Title.displayName;const RW=_.forwardRef(({className:e,...t},n)=>u.jsx(Ss.Description,{ref:n,className:Ne("text-sm text-muted-foreground",e),...t}));RW.displayName=Ss.Description.displayName;function PW({children:e,className:t,containerClassName:n}){return u.jsx("div",{className:Ne("fixed bottom-16 left-0 right-0 z-[60] md:bottom-0 md:z-40",t),children:u.jsx("div",{className:Ne("mx-auto flex w-full max-w-md items-center justify-between gap-2 border-t bg-background px-4 py-3 shadow-[0_-2px_10px_rgba(0,0,0,0.1)]","md:supports-[padding:env(safe-area-inset-bottom)]:pb-[calc(env(safe-area-inset-bottom)+0.75rem)]",n),children:e})})}const EMe=[1,2,3,4,5];function A6({value:e,onChange:t,className:n,disabled:r=!1,size:i="md",ariaLabel:a="Slecteur d'chelle 1  5"}){const o=i==="sm"?"h-8 w-8 text-xs":"h-10 w-10 text-sm";return u.jsx("div",{className:Ne("flex items-center gap-2",n),role:"group","aria-label":a,children:EMe.map(l=>{const d=e===l;return u.jsx("button",{type:"button",className:Ne("flex items-center justify-center rounded-full border font-semibold transition",o,d?"border-primary bg-primary text-primary-foreground":"border-muted-foreground/30 bg-background text-foreground",r&&"opacity-60"),"aria-pressed":d,disabled:r,onClick:()=>{r||t?.(l)},children:l},l)})})}const ov=(e,t)=>{const n=Number(e?.set_index??e?.set_number??e?.setIndex??t);return!Number.isFinite(n)||n<=0?t:n},MW=(e=[],t,n)=>{if(!e.length)return 0;const r=Array.isArray(t)?t:[];if(r.length>0){const o=new Map;r.forEach((d,f)=>{if(!d?.exercise_id)return;const m=o.get(d.exercise_id)??[];m.push({...d,set_index:ov(d,f+1)}),o.set(d.exercise_id,m)});let l=e.length+1;for(let d=0;d<e.length;d+=1){const f=e[d];if((o.get(f.exercise_id)??[]).length<(f.sets??0)){l=d+1;break}}return l}const i=Number(n??0);if(!Number.isFinite(i)||i<=0)return 0;const a=Math.min(e.length,Math.max(0,Math.round(i/100*e.length)));return Math.min(e.length,a+1)},es=(e,t)=>{const n=Number(e);return!Number.isFinite(n)||n<=0?"":t?`${n}${t}`:String(n)};function NMe({session:e,exercises:t,oneRMs:n,onFinish:r,onStart:i,onLogSets:a,onProgress:o,initialLogs:l,isFinishing:d,initialStep:f,onStepChange:m,initialInputOpen:p,initialSeriesOpen:v,onExitFocus:b}){const[x,y]=_.useState(f??0),[w,E]=_.useState([]),[N,j]=_.useState(0),[O,T]=_.useState(!0),[C,R]=_.useState(0),[M,k]=_.useState(!1),[I,B]=_.useState(!1),[$,F]=_.useState(!0),[H,U]=_.useState(3),[D,G]=_.useState(3),[z,X]=_.useState(""),[ue,V]=_.useState(!1),[K,Z]=_.useState(1),[oe,be]=_.useState(v??!1),[ae,J]=_.useState(p??!1),[he,se]=_.useState("weight"),[pe,xe]=_.useState(""),[ee,$e]=_.useState(!1);_.useEffect(()=>{let fe=null;return O&&(fe=setInterval(()=>j(Ie=>Ie+1),1e3)),()=>clearInterval(fe)},[O]),_.useEffect(()=>{if(!ee)return;const fe=Ie=>{Ie.key==="Escape"&&$e(!1)};return window.addEventListener("keydown",fe),()=>window.removeEventListener("keydown",fe)},[ee]),_.useEffect(()=>{let fe=null;return M&&!I&&C>0?fe=setInterval(()=>R(Ie=>Ie-1),1e3):C===0&&M&&(k(!1),B(!1)),()=>clearInterval(fe)},[M,I,C]);const ge=e.items||[],He=x-1,te=x>0&&x<=ge.length?ge[He]:null,re=te?t.find(fe=>fe.id===te.exercise_id):null,Me=x<ge.length?ge[x]:null,ut=Me?t.find(fe=>fe.id===Me.exercise_id):null,ke=(()=>{const fe=re?.muscle_groups??re?.muscles??re?.muscleGroups??[];return Array.isArray(fe)?fe:[]})(),Qe=te?.rest_seconds??0,st=ge.length?Math.min(100,Math.max(0,Math.round((x-1)/ge.length*100))):0,Bt=Number(te?.percent_1rm),It=Number.isFinite(Bt)&&Bt>0,En=It&&n.find(fe=>fe.exercise_id===te?.exercise_id)?.weight||0,Ot=It?Math.round(En*(Bt/100)):0,[je,Ge]=_.useState({}),pt=_.useMemo(()=>{const fe=new Map;return w.forEach((Ie,Nt)=>{const tt=ov(Ie,Nt+1);Ie.exercise_id&&fe.set(`${Ie.exercise_id}-${tt}`,Ie)}),fe},[w]),yt=te?`${te.exercise_id}-${K}`:null,$t=yt?pt.get(yt):null,ir=$t?.weight??je[K-1]?.weight??Ot,ie=$t?.reps??je[K-1]?.reps??te?.reps??"",Y=()=>{if(typeof window>"u")return;const fe=["#22c55e","#3b82f6","#f97316","#e11d48","#a855f7"],Ie=120;for(let Nt=0;Nt<Ie;Nt+=1){const tt=document.createElement("div"),gn=Math.random()*6+6;tt.style.position="fixed",tt.style.top="-10px",tt.style.left=`${Math.random()*100}vw`,tt.style.width=`${gn}px`,tt.style.height=`${gn*.6}px`,tt.style.backgroundColor=fe[Nt%fe.length],tt.style.opacity="0.9",tt.style.pointerEvents="none",tt.style.zIndex="9999",tt.style.borderRadius="2px",document.body.appendChild(tt);const Pn=(Math.random()-.5)*200,Ln=1200+Math.random()*800,ur=Math.random()*360;tt.animate([{transform:"translate3d(0, 0, 0) rotate(0deg)",opacity:1},{transform:`translate3d(${Pn}px, ${window.innerHeight+200}px, 0) rotate(${ur}deg)`,opacity:0}],{duration:Ln,easing:"ease-out"}).onfinish=()=>tt.remove()}};_.useEffect(()=>{if(!l){E(tt=>tt.length?[]:tt),Ge(tt=>Object.keys(tt).length?{}:tt);return}if(E(l),!l.length){Ge(tt=>Object.keys(tt).length?{}:tt),y(tt=>tt===0?tt:0);return}const fe=e.items||[];if(!fe.length)return;const Ie=new Map;l.forEach((tt,gn)=>{if(!tt.exercise_id)return;const Pn=Ie.get(tt.exercise_id)??[];Pn.push({...tt,set_index:ov(tt,gn+1)}),Ie.set(tt.exercise_id,Pn)});const Nt=MW(fe,l);if(Nt>0&&Nt<=fe.length){const tt=fe[Nt-1],gn=Ie.get(tt.exercise_id)??[],Pn=gn.reduce((ur,zi,Po)=>{const Gm=ov(zi,Po+1);return ur[Gm-1]={reps:zi.reps??void 0,weight:zi.weight??void 0},ur},{});Ge(Pn);const Ln=Math.min(tt.sets??1,gn.length+1);Z(Ln)}else Ge({}),Z(1);y(tt=>tt===Nt?tt:Nt)},[l,e.items]),_.useEffect(()=>{x<=ge.length||ue||(Y(),V(!0))},[x,ge.length,ue]);const we=fe=>{y(fe),m?.(fe)},Ee=fe=>{fe<=0||(R(fe),k(!0),B(!1))},Ye=async()=>{const fe=x+1;Z(1),Ge({}),we(fe);const Ie=Math.round(Math.min(fe-1,ge.length)/ge.length*100);try{await o?.(Ie)}catch{}},ot=async()=>{if(!te)return;if($t){K>=te.sets?await Ye():Z(Ie=>Math.min(te.sets,Ie+1));return}const fe={exercise_id:te.exercise_id,set_number:K,reps:je[K-1]?.reps||te.reps,weight:je[K-1]?.weight||Ot};E(Ie=>[...Ie,fe]);try{await a?.([fe])}catch{}if($&&te.rest_seconds>0&&Ee(te.rest_seconds),K>=te.sets){await Ye();return}Z(Ie=>Math.min(te.sets,Ie+1))},Re=fe=>{se(fe);const Ie=fe==="weight"?je[K-1]?.weight??Ot??"":je[K-1]?.reps??te?.reps??"";xe(Ie?String(Ie):""),J(!0)},at=()=>{if(!te)return;const fe=Number(he==="weight"?pe.replace(",","."):pe);Number.isFinite(fe)&&(Ge(Ie=>({...Ie,[K-1]:{...Ie[K-1],[he]:fe}})),J(!1))},et=fe=>{xe(Ie=>fe==="."&&Ie.includes(".")?Ie:Ie+fe)},Le=fe=>{if(!te)return;se(fe);const Ie=fe==="weight"?je[K-1]?.weight??Ot??"":je[K-1]?.reps??te?.reps??"";xe(Ie?String(Ie):"")};return x===0?u.jsxs("div",{className:"space-y-6 text-center py-8 animate-in zoom-in duration-300",children:[u.jsx("div",{className:"h-24 w-24 bg-primary/10 rounded-full flex items-center justify-center mx-auto animate-pulse",children:u.jsx(Mi,{className:"h-10 w-10 text-primary ml-1"})}),u.jsxs("div",{children:[u.jsx("h2",{className:"text-3xl font-bold font-display uppercase",children:e.title}),u.jsx("p",{className:"text-muted-foreground text-lg",children:e.description}),u.jsxs("div",{className:"flex gap-2 justify-center mt-4",children:[u.jsx(ln,{variant:"outline",className:"text-sm px-3 py-1",children:e.cycle}),u.jsxs(ln,{variant:"secondary",className:"text-sm px-3 py-1",children:[ge.length," Exercices"]})]})]}),u.jsx(Ce,{size:"lg",className:"w-full text-xl h-14 font-bold uppercase tracking-wider shadow-lg hover:scale-[1.02] transition-transform",onClick:async()=>{await i?.(),we(1)},children:"COMMENCER SANCE"})]}):x>ge.length?u.jsx("div",{className:"space-y-6 animate-in fade-in",children:u.jsxs(Pe,{className:"border-t-8 border-t-primary shadow-xl",children:[u.jsxs(Ze,{className:"text-center pb-2",children:[u.jsx("div",{className:"mx-auto bg-primary/10 p-4 rounded-full w-fit mb-4",children:u.jsx(OZ,{className:"h-12 w-12 text-primary"})}),u.jsx(rt,{className:"text-3xl uppercase font-display italic",children:"Sance Termine !"}),u.jsxs(Qt,{className:"text-lg",children:["Dure totale: ",Math.floor(N/60),"m ",N%60,"s"]})]}),u.jsxs(Be,{className:"space-y-6 pt-4",children:[u.jsxs("div",{className:"grid grid-cols-2 gap-4 text-center",children:[u.jsxs("div",{className:"bg-muted p-4 rounded-lg",children:[u.jsx("div",{className:"text-xs uppercase font-bold text-muted-foreground",children:"Volume"}),u.jsxs("div",{className:"text-2xl font-mono font-bold",children:[w.reduce((fe,Ie)=>fe+(Number(Ie.weight)||0)*(Number(Ie.reps)||0),0)," kg"]})]}),u.jsxs("div",{className:"bg-muted p-4 rounded-lg",children:[u.jsx("div",{className:"text-xs uppercase font-bold text-muted-foreground",children:"Sries"}),u.jsx("div",{className:"text-2xl font-mono font-bold",children:w.length})]})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsx(it,{className:"uppercase font-bold text-xs text-muted-foreground",children:"Difficult de la sance"}),u.jsxs("div",{className:"flex items-center justify-between text-[11px] font-semibold text-muted-foreground",children:[u.jsx("span",{children:"Facile"}),u.jsx("span",{children:"Trs dur"})]}),u.jsx(A6,{value:H,onChange:U})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsx(it,{className:"uppercase font-bold text-xs text-muted-foreground",children:"Fatigue fin de sance"}),u.jsxs("div",{className:"flex items-center justify-between text-[11px] font-semibold text-muted-foreground",children:[u.jsx("span",{children:"Frais"}),u.jsx("span",{children:"puis"})]}),u.jsx(A6,{value:D,onChange:G})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(it,{className:"uppercase font-bold text-xs text-muted-foreground",children:"Notes"}),u.jsx("textarea",{placeholder:"Sensations, douleurs...",value:z,onChange:fe=>X(fe.target.value),rows:3,className:"flex w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 resize-none"})]})]}),u.jsx(UA,{children:u.jsx(Ce,{className:"w-full h-14 text-lg font-bold uppercase",disabled:d,onClick:()=>{d||r({duration:Math.floor(N/60),feeling:H,fatigue:D,comments:z,logs:w})},children:d?"ENREGISTREMENT...":"ENREGISTRER & FERMER"})})]})}):u.jsxs("div",{className:"space-y-6 pb-32",children:[u.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("button",{type:"button","aria-label":"Voir lanimation de lexercice",onClick:()=>{re?.illustration_gif&&$e(!0)},className:"flex h-12 w-12 items-center justify-center overflow-hidden rounded-full border bg-card shadow-sm",children:re?.illustration_gif?u.jsx("img",{src:re.illustration_gif,alt:"",className:"h-full w-full object-cover"}):u.jsx(Mi,{className:"h-5 w-5 text-muted-foreground"})}),u.jsxs("div",{className:"flex flex-wrap gap-2",children:[u.jsxs("span",{className:"rounded-full bg-muted px-3 py-1 text-xs font-semibold",children:["Ex ",x,"/",ge.length]}),u.jsxs("span",{className:"rounded-full bg-muted px-3 py-1 text-xs font-semibold",children:["S ",K,"/",es(te?.sets)]})]})]}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"text-xs font-semibold text-muted-foreground",children:"Sance"}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"h-2 w-28 overflow-hidden rounded-full bg-muted",children:u.jsx("div",{className:"h-full rounded-full bg-primary",style:{width:`${st}%`}})}),u.jsxs("div",{className:"text-sm font-semibold",children:[st,"%"]})]}),b?u.jsx(Ce,{variant:"ghost",size:"icon","aria-label":"Quitter le focus",onClick:b,children:u.jsx(Ii,{className:"h-4 w-4"})}):null]})]}),u.jsxs("div",{children:[u.jsx("h2",{className:"text-2xl font-semibold tracking-tight",children:re?.nom_exercice??"Exercice"}),ke.length>0&&u.jsx("div",{className:"mt-3 flex flex-wrap gap-2",children:ke.map(fe=>u.jsx("span",{className:"rounded-full bg-muted px-3 py-1 text-xs font-semibold text-muted-foreground",children:fe},fe))})]}),u.jsxs(Pe,{className:"rounded-3xl border bg-card p-4 shadow-sm",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("div",{className:"text-base font-semibold",children:"Srie en cours"}),u.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[u.jsx(id,{checked:$,onCheckedChange:F}),"Auto repos"]})]}),u.jsxs("div",{className:"mt-4 rounded-2xl border bg-muted/20 p-4",children:[u.jsx("div",{className:"text-sm font-semibold",children:"En cours"}),u.jsxs("div",{className:"mt-2 text-lg font-semibold",children:["Srie ",K,"/",es(te?.sets),"  Objectif"," ",es(te?.reps)," reps"]}),u.jsx("div",{className:"mt-2 text-sm text-muted-foreground",children:"Appuie sur une tuile pour saisir."})]}),u.jsxs("div",{className:"mt-4 grid grid-cols-2 gap-3",children:[u.jsxs("button",{type:"button",className:"group relative rounded-2xl border-2 border-primary/20 bg-gradient-to-br from-card to-muted/30 p-4 text-left shadow-sm transition-all active:scale-[0.98] hover:border-primary/40 hover:shadow-md",onClick:()=>Re("weight"),children:[u.jsx("div",{className:"text-[10px] font-bold uppercase tracking-wide text-muted-foreground",children:"Charge"}),u.jsxs("div",{className:"mt-1 flex items-baseline gap-0.5",children:[u.jsx("span",{className:"text-3xl font-bold tabular-nums tracking-tight",children:ir||""}),u.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"kg"})]})]}),u.jsxs("button",{type:"button",className:"group relative rounded-2xl border-2 border-primary/20 bg-gradient-to-br from-card to-muted/30 p-4 text-left shadow-sm transition-all active:scale-[0.98] hover:border-primary/40 hover:shadow-md",onClick:()=>Re("reps"),children:[u.jsx("div",{className:"text-[10px] font-bold uppercase tracking-wide text-muted-foreground",children:"Reps"}),u.jsxs("div",{className:"mt-1 flex items-baseline gap-0.5",children:[u.jsx("span",{className:"text-3xl font-bold tabular-nums tracking-tight",children:ie||""}),u.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"reps"})]})]})]}),u.jsxs("div",{className:"mt-4 rounded-2xl border bg-muted/10 p-4",children:[u.jsx("div",{className:"text-sm font-semibold",children:"Notes"}),u.jsx("div",{className:"mt-2 text-sm text-muted-foreground",children:te?.notes||re?.description||"Aucune note spcifique."})]}),u.jsx(Ce,{type:"button",variant:"outline",className:"mt-4 w-full rounded-2xl",onClick:()=>be(!0),children:"Voir les sries"})]}),!ae&&!M?u.jsxs(PW,{className:"bottom-0 z-[60]",containerClassName:"gap-3 py-4",children:[u.jsxs(Ce,{className:"flex-1 min-w-0 h-12 rounded-xl text-sm font-bold shadow-lg active:scale-95 transition-transform",onClick:ot,children:[u.jsx(ho,{className:"mr-2 h-5 w-5"})," Valider srie"]}),u.jsx(Ce,{type:"button",variant:"outline",className:"h-12 w-12 rounded-xl p-0 active:scale-95 transition-transform",onClick:()=>{Qe<=0||Ee(Qe)},"aria-label":"Dmarrer le repos",children:u.jsx(mv,{className:"h-5 w-5"})}),u.jsx(Ce,{type:"button",variant:"outline",className:"h-12 w-12 rounded-xl p-0 active:scale-95 transition-transform",onClick:()=>Ye(),"aria-label":"Exercice suivant",children:u.jsx(fv,{className:"h-5 w-5"})})]}):null,M&&u.jsxs("div",{className:"fixed inset-0 z-50 flex flex-col bg-background/95 pb-[env(safe-area-inset-bottom)]",children:[u.jsxs("div",{className:"flex items-start justify-between border-b px-6 py-4",children:[u.jsxs("div",{children:[u.jsx("div",{className:"text-xs font-semibold text-muted-foreground",children:"Timer"}),u.jsx("div",{className:"text-lg font-semibold",children:"Transition inter-exercice"}),u.jsxs("div",{className:"text-sm text-muted-foreground",children:["Prochain exercice : ",ut?.nom_exercice??" venir"]})]}),u.jsx(Ce,{variant:"ghost",size:"icon",onClick:()=>{k(!1),B(!1)},"aria-label":"Fermer le timer de repos",children:u.jsx(Ii,{className:"h-4 w-4"})})]}),u.jsxs("div",{className:"flex flex-1 flex-col items-center justify-center gap-6 px-6 py-8",children:[u.jsxs(Pe,{className:"w-full max-w-sm rounded-3xl border p-6 shadow-sm",children:[u.jsx("div",{className:"text-sm text-muted-foreground",children:"Temps restant"}),u.jsxs("div",{className:"mt-2 text-5xl font-semibold tracking-tight",children:[Math.floor(C/60),":",String(C%60).padStart(2,"0")]}),u.jsx("div",{className:"mt-6 h-3 w-full overflow-hidden rounded-full bg-muted",children:u.jsx("div",{className:"h-full rounded-full bg-primary",style:{width:Qe?`${C/Qe*100}%`:"0%"}})}),u.jsxs("div",{className:"mt-6 flex flex-wrap gap-3",children:[u.jsx(Ce,{variant:"outline",className:"rounded-full",onClick:()=>R(fe=>fe+15),children:"+15s"}),u.jsx(Ce,{variant:"outline",className:"rounded-full",onClick:()=>R(fe=>fe+30),children:"+30s"}),u.jsx(Ce,{variant:"outline",className:"rounded-full",onClick:()=>R(fe=>Math.max(0,fe-15)),children:"-15s"}),u.jsxs(Ce,{variant:"outline",className:"ml-auto rounded-full",onClick:()=>R(Qe),children:[u.jsx(lee,{className:"mr-2 h-4 w-4"}),"Reset"]})]})]}),u.jsxs("div",{className:"flex w-full max-w-sm flex-wrap gap-3",children:[u.jsxs(Ce,{className:"flex-1 rounded-full py-6 text-base font-semibold",onClick:()=>B(fe=>!fe),children:[u.jsx(JZ,{className:"mr-2 h-4 w-4"})," ",I?"Reprendre":"Pause"]}),u.jsxs(Ce,{variant:"outline",className:"rounded-full px-6 py-6 text-base font-semibold",onClick:()=>{k(!1),R(0),B(!1)},children:["Passer ",u.jsx(fv,{className:"ml-2 h-4 w-4"})]})]})]})]}),ee&&re?.illustration_gif&&u.jsx("div",{className:"fixed inset-0 z-50 bg-black/50",onClick:()=>$e(!1),children:u.jsx("div",{className:"fixed inset-0 flex items-center justify-center p-4",onClick:fe=>fe.stopPropagation(),children:u.jsxs("div",{className:"relative",children:[u.jsx("button",{type:"button","aria-label":"Fermer",className:"absolute -right-3 -top-3 rounded-full bg-background p-2 shadow",onClick:()=>$e(!1),children:u.jsx(Ii,{className:"h-4 w-4"})}),u.jsx("img",{src:re.illustration_gif,alt:"",className:"max-h-[80vh] w-auto max-w-[92vw] rounded-2xl"})]})})}),u.jsx(VO,{open:oe,onOpenChange:be,children:u.jsxs(J0,{side:"bottom",className:"max-h-[80vh] overflow-y-auto",children:[u.jsx(Z0,{children:u.jsx(eb,{children:"Aperu sance"})}),u.jsx("div",{className:"mt-4 space-y-4",children:ge.map((fe,Ie)=>{const Nt=t.find(Pn=>Pn.id===fe.exercise_id),tt=Array.from({length:fe.sets}).filter((Pn,Ln)=>pt.get(`${fe.exercise_id}-${Ln+1}`)).length,gn=fe.sets?Math.round(tt/fe.sets*100):0;return u.jsxs(Pe,{className:"rounded-3xl border bg-muted/10 p-4 shadow-sm",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("div",{className:"text-base font-semibold",children:Nt?.nom_exercice??fe.exercise_name}),u.jsxs("div",{className:"mt-1 text-sm text-muted-foreground",children:[es(fe.sets),"x",es(fe.reps)," "," ",fe.percent_1rm?`${es(fe.percent_1rm)} 1RM`:""]})]}),u.jsxs("div",{className:"rounded-full bg-muted px-3 py-1 text-sm font-semibold",children:[tt,"/",es(fe.sets)]})]}),u.jsx("div",{className:"mt-4 h-3 w-full overflow-hidden rounded-full bg-muted",children:u.jsx("div",{className:"h-full rounded-full bg-primary",style:{width:`${gn}%`}})})]},`${fe.exercise_id}-${Ie}`)})})]})}),u.jsx(NW,{open:ae,onOpenChange:J,children:u.jsx(TW,{className:"max-h-[90vh]",children:u.jsxs("div",{className:"mx-auto w-full max-w-md px-4 pb-8",children:[u.jsxs(OW,{className:"pb-2",children:[u.jsx(CW,{className:"text-center",children:he==="weight"?"Charge":"Rptitions"}),u.jsxs(RW,{className:"text-center",children:["Srie ",K,"/",es(te?.sets),"  Objectif"," ",es(te?.reps)," reps"]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[u.jsxs("button",{type:"button",className:Ne("rounded-xl border-2 p-4 text-center transition-all",he==="weight"?"border-primary bg-primary/10 shadow-sm":"border-muted bg-card hover:border-muted-foreground/30"),onClick:()=>Le("weight"),children:[u.jsx("div",{className:"text-xs font-semibold uppercase text-muted-foreground",children:"Charge"}),u.jsxs("div",{className:"mt-1 text-2xl font-bold tabular-nums",children:[he==="weight"?pe||"":String(je[K-1]?.weight??Ot??""),u.jsx("span",{className:"ml-1 text-base font-normal text-muted-foreground",children:"kg"})]})]}),u.jsxs("button",{type:"button",className:Ne("rounded-xl border-2 p-4 text-center transition-all",he==="reps"?"border-primary bg-primary/10 shadow-sm":"border-muted bg-card hover:border-muted-foreground/30"),onClick:()=>Le("reps"),children:[u.jsx("div",{className:"text-xs font-semibold uppercase text-muted-foreground",children:"Reps"}),u.jsxs("div",{className:"mt-1 text-2xl font-bold tabular-nums",children:[he==="reps"?pe||"":String(je[K-1]?.reps??te?.reps??""),u.jsx("span",{className:"ml-1 text-base font-normal text-muted-foreground",children:"reps"})]})]})]}),he==="weight"&&Ot>0&&u.jsxs("div",{className:"mb-4",children:[u.jsx("div",{className:"text-xs font-semibold text-muted-foreground mb-2",children:"Suggestions"}),u.jsx("div",{className:"flex flex-wrap gap-2",children:[Ot-10,Ot-5,Ot,Ot+5,Ot+10].filter(fe=>fe>0).map(fe=>u.jsxs(Ce,{variant:Number(pe)===fe?"default":"outline",size:"sm",className:"rounded-full px-4 h-10 text-sm font-semibold",onClick:()=>xe(String(fe)),children:[fe," kg"]},fe))})]}),he==="reps"&&u.jsxs("div",{className:"mb-4",children:[u.jsx("div",{className:"text-xs font-semibold text-muted-foreground mb-2",children:"Suggestions"}),u.jsx("div",{className:"flex flex-wrap gap-2",children:[6,8,10,12,15,20].map(fe=>u.jsx(Ce,{variant:Number(pe)===fe?"default":"outline",size:"sm",className:"rounded-full px-4 h-10 text-sm font-semibold",onClick:()=>xe(String(fe)),children:fe},fe))})]}),u.jsxs("div",{className:"grid grid-cols-3 gap-2 mb-4",children:[[1,2,3,4,5,6,7,8,9].map(fe=>u.jsx(Ce,{variant:"outline",className:"h-14 text-xl font-semibold rounded-xl active:scale-95 transition-transform",onClick:()=>et(String(fe)),children:fe},fe)),u.jsx(Ce,{variant:"outline",className:"h-14 text-xl font-semibold rounded-xl active:scale-95 transition-transform",onClick:()=>et("."),children:","}),u.jsx(Ce,{variant:"outline",className:"h-14 text-xl font-semibold rounded-xl active:scale-95 transition-transform",onClick:()=>et("0"),children:"0"}),u.jsx(Ce,{variant:"outline",className:"h-14 text-xl font-semibold rounded-xl active:scale-95 transition-transform",onClick:()=>xe(fe=>fe.slice(0,-1)),children:""})]}),u.jsxs("div",{className:"flex gap-3",children:[u.jsx(Ce,{variant:"outline",className:"flex-1 h-14 text-base font-semibold rounded-xl",onClick:()=>xe(""),children:"Effacer"}),u.jsxs(Ce,{className:"flex-1 h-14 text-base font-semibold rounded-xl",onClick:at,children:[u.jsx(ho,{className:"mr-2 h-5 w-5"}),"Valider"]})]})]})})})]})}const nl=e=>e==="endurance"||e==="hypertrophie"||e==="force"?e:"endurance",Vf=e=>{const t=Number(e);return!Number.isFinite(t)||t<=0?null:t},AMe=(e,t)=>{if(!e)return{sets:null,reps:null,percent1rm:null,restSeries:null,restExercise:null};const n={endurance:{sets:e.Nb_series_endurance,reps:e.Nb_reps_endurance,percent1rm:e.pct_1rm_endurance,restSeries:e.recup_endurance,restExercise:e.recup_exercices_endurance},hypertrophie:{sets:e.Nb_series_hypertrophie,reps:e.Nb_reps_hypertrophie,percent1rm:e.pct_1rm_hypertrophie,restSeries:e.recup_hypertrophie,restExercise:e.recup_exercices_hypertrophie},force:{sets:e.Nb_series_force,reps:e.Nb_reps_force,percent1rm:e.pct_1rm_force,restSeries:e.recup_force,restExercise:e.recup_exercices_force}}[t];return{sets:Vf(n.sets),reps:Vf(n.reps),percent1rm:Vf(n.percent1rm),restSeries:Vf(n.restSeries),restExercise:Vf(n.restExercise)}},Hf=(e=[],t,n)=>OMe(e,t).map(r=>{const i=AMe(n.get(r.exercise_id),t);return{...r,sets:i.sets??0,reps:i.reps??0,rest_seconds:i.restSeries??0,percent_1rm:i.percent1rm??0}}),T6=e=>{const t=Number(e);return!Number.isFinite(t)||t<=0?"":String(t)},TMe=e=>{const t=Number(e);return!Number.isFinite(t)||t<=0?"":`${t}s`},kW=(e=[])=>{if(!e.length)return e;const t=e.map((r,i)=>{const a=Number(r.order_index);return{item:r,index:i,order:Number.isFinite(a)?a:null}});return t.some(r=>r.order!==null)?t.sort((r,i)=>r.order===null&&i.order===null?r.index-i.index:r.order===null?1:i.order===null?-1:r.order===i.order?r.index-i.index:r.order-i.order).map(r=>r.item):e},OMe=(e=[],t)=>{const n=e.filter(i=>i.cycle_type===t),r=n.length?n:e;return kW(r)},CMe=e=>{e.setActiveSession(null),e.setActiveAssignment(null),e.setActiveRunId(null),e.setActiveRunLogs(null),e.setActiveRunnerStep(0),e.setScreenMode("list")},RMe=({runId:e,assignmentId:t,startedAt:n})=>({id:e,assignment_id:t??null,started_at:n,progress_pct:0,status:"in_progress",logs:[]}),Sj=e=>({runs:e?[e]:[],pagination:{limit:1,offset:0,total:e?1:0},exercise_summary:[]});function PMe(){const{user:e,userId:t,role:n,selectedAthleteId:r,selectedAthleteName:i}=sn(),{toast:a}=pi(),o=oa(),l="strength-preferences",[d,f]=_.useState(null),[m,p]=_.useState(null),[v,b]=_.useState(null),[x,y]=_.useState(null),[w,E]=_.useState(0),[N,j]=_.useState("list"),[O,T]=_.useState({poolMode:!1,largeText:!1}),[C,R]=_.useState(""),[M,k]=_.useState("endurance"),[I,B]=_.useState("all"),[$,F]=_.useState(""),[H,U]=_.useState(""),D=(n==="coach"||n==="admin")&&(r!==null||!!i),G=D?i:e,z=D?r:t,X=z??G,ue=_.useMemo(()=>`strength-focus-state-${X??"anonymous"}`,[X]),{poolMode:V,largeText:K}=O;_.useEffect(()=>{if(typeof window>"u")return;const ie=window.localStorage.getItem(l);if(ie)try{const Y=JSON.parse(ie);T(we=>({...we,...Y??{}}))}catch{return}},[]),_.useEffect(()=>{typeof window>"u"||window.localStorage.setItem(l,JSON.stringify(O))},[l,O]),_.useEffect(()=>{if(!(typeof document>"u")){if(N==="focus")return document.body.dataset.focusMode="strength",()=>{document.body.dataset.focusMode==="strength"&&delete document.body.dataset.focusMode};document.body.dataset.focusMode==="strength"&&delete document.body.dataset.focusMode}},[N]),_.useEffect(()=>{if(typeof window>"u"||d)return;const ie=window.localStorage.getItem(ue);if(ie)try{const Y=JSON.parse(ie),we=Y?.screenMode==="focus"?"focus":Y?.screenMode==="reader"?"reader":null;if(!we||!Y?.session)return;f(Y.session),p(Y.assignment??null),b(typeof Y.runId=="number"?Y.runId:null),y(Array.isArray(Y.runLogs)?Y.runLogs:null),E(Number.isFinite(Y.runnerStep)?Y.runnerStep:0),Y.cycleType&&k(nl(Y.cycleType)),j(we)}catch{return}},[d,ue]),_.useEffect(()=>{if(typeof window>"u")return;if(!(N==="focus"||N==="reader")||!d){window.localStorage.removeItem(ue);return}const Y={screenMode:N,session:d,assignment:m,runId:v,runLogs:x,runnerStep:w,cycleType:M};window.localStorage.setItem(ue,JSON.stringify(Y))},[m,v,x,w,d,M,ue,N]);const{data:Z}=Pt({queryKey:["assignments",e,"strength"],queryFn:()=>De.getAssignments(e,t,{assignmentType:"strength"}),enabled:!!e}),{data:oe}=Pt({queryKey:["strength_catalog"],queryFn:()=>De.getStrengthSessions()}),{data:be}=Pt({queryKey:["exercises"],queryFn:()=>De.getExercises()}),{data:ae}=Pt({queryKey:["1rm",e,t],queryFn:()=>De.get1RM({athleteName:e,athleteId:t}),enabled:!!e}),J=oz({queryKey:["strength_history",X,I,$,H],queryFn:({pageParam:ie=0})=>De.getStrengthHistory(G,{athleteId:z,limit:10,offset:ie,order:"desc",status:I==="all"?void 0:I,from:$||void 0,to:H||void 0}),enabled:!!G,getNextPageParam:ie=>{const Y=ie.pagination.offset+ie.pagination.limit;return Y<ie.pagination.total?Y:void 0},initialPageParam:0}),he=J.data?.pages.flatMap(ie=>ie.runs)??[],pe=Pt({queryKey:["strength_run_in_progress",X],queryFn:()=>De.getStrengthHistory(G,{limit:1,offset:0,order:"desc",status:"in_progress",athleteId:z}),enabled:!!G}).data?.runs?.[0]??null,xe=pe?.status==="completed"||(pe?.progress_pct??0)>=100,ee=Lt({mutationFn:ie=>De.startStrengthRun(ie),onSuccess:ie=>{if(ie?.run_id&&(b(ie.run_id),y(Y=>Y??[]),X)){const Y=RMe({runId:ie.run_id,assignmentId:m?.id??null,startedAt:new Date().toISOString()});o.setQueryData(["strength_run_in_progress",X],Sj(Y))}o.invalidateQueries({queryKey:["assignments",e,"strength"]}),o.invalidateQueries({queryKey:["strength_run_in_progress",X]}),o.invalidateQueries({queryKey:["strength_history"]})},onError:()=>{a({title:"Erreur",description:"Impossible de dmarrer la sance.",variant:"destructive"})}}),$e=Lt({mutationFn:ie=>De.logStrengthSet(ie),onSuccess:ie=>{ie?.one_rm_updated&&(o.invalidateQueries({queryKey:["1rm",e,t]}),a({title:"Nouveau 1RM dtect",description:"Ton record vient d'tre mis  jour."}))},onError:()=>{a({title:"Erreur",description:"Impossible d'enregistrer une srie.",variant:"destructive"})}}),ge=Lt({mutationFn:ie=>De.updateStrengthRun(ie),onSuccess:(ie,Y)=>{o.invalidateQueries({queryKey:["strength_history"]}),Y?.status==="completed"&&(X&&o.setQueryData(["strength_run_in_progress",X],Sj(null)),o.invalidateQueries({queryKey:["assignments",e]}),o.invalidateQueries({queryKey:["assignments",e,"strength"]}),o.invalidateQueries({queryKey:["1rm",e,t]}),p(null),b(null),f(null),y(null),j("list"),a({title:"Sance sauvegarde",description:"Bravo pour l'effort !"}))}});Lt({mutationFn:ie=>De.startStrengthRun(ie),onError:()=>{a({title:"Erreur",description:"Impossible de mettre  jour la sance.",variant:"destructive"})}});const He=(ie,Y)=>{const we=ie.items??[],Ee=nl(Y??ie.cycle??we.find(ot=>ot.cycle_type)?.cycle_type),Ye=Hf(we,Ee,st);p(ie),f({...ie,title:ie.title,description:ie.description,cycle:Ee,items:Ye}),b(null),y(null),E(0),j("reader")},re=(Z?.filter(ie=>ie.session_type==="strength")||[]).filter(ie=>ie.status!=="completed"),Me=pe?re.find(ie=>ie.id===pe.assignment_id):null,ut=!!Me?.items?.length&&!xe,ke=re.map(ie=>({...ie,session:{id:ie.session_id,title:ie.title,description:ie.description,cycle:nl(ie.cycle),items:ie.items??[]}})),Qe=[{value:"endurance",label:"Endurance"},{value:"hypertrophie",label:"Hypertrophie"},{value:"force",label:"Force"}],st=_.useMemo(()=>be?new Map(be.map(ie=>[ie.id,ie])):new Map,[be]),Bt=ke.map(ie=>{const Y=Hf(ie.items??[],M,st);return{key:`assignment-${ie.id}`,title:ie.title,description:ie.description,type:"assignment",assignedDate:ie.assigned_date,session:{id:ie.session_id,title:ie.title,description:ie.description,cycle:nl(ie.cycle),items:Y},assignment:ie,exerciseCount:Y.length}}),It=(oe??[]).map(ie=>{const Y=Hf(ie.items??[],M,st);return{key:`catalog-${ie.id}`,title:ie.title,description:ie.description,type:"catalog",session:{...ie,items:Y,cycle:M},exerciseCount:Y.length}}),En=C.trim().toLowerCase(),Ot=[...Bt,...It].filter(ie=>En?`${ie.title} ${ie.description}`.toLowerCase().includes(En):!0),je=_.useMemo(()=>d?Hf(d.items??[],M,st):[],[d,M,st]),Ge=ie=>{if((ie.items??[]).length===0){a({title:"Sance vide",description:"Aucun exercice n'est disponible pour cette sance."});return}He(ie,M),b(null),y(null)},pt=ie=>{const Y=ie.items??[],Ee=Y.filter(ot=>ot.cycle_type===M).length>0?M:nl(ie.cycle??Y.find(ot=>ot.cycle_type)?.cycle_type),Ye=Hf(Y,Ee,st);if(Ye.length===0){a({title:"Sance vide",description:"Aucun exercice n'est disponible pour cette sance."});return}f({...ie,cycle:Ee,items:Ye}),p(null),b(null),y(null),E(0),j("reader")},yt=()=>{if(d){if(je.length===0){a({title:"Sance vide",description:"Aucun exercice n'est disponible pour cette sance."});return}f({...d,cycle:M,items:je}),E(0),j("focus")}},$t=()=>{CMe({setActiveSession:f,setActiveAssignment:p,setActiveRunId:b,setActiveRunLogs:y,setActiveRunnerStep:E,setScreenMode:j})},ir=Lt({mutationFn:ie=>De.deleteStrengthRun(ie),onSuccess:ie=>{$t(),X&&o.setQueryData(["strength_run_in_progress",X],Sj(null)),o.invalidateQueries({queryKey:["strength_run_in_progress",X]}),o.invalidateQueries({queryKey:["strength_history"]}),o.invalidateQueries({queryKey:["assignments",e,"strength"]});const Y=ie?.source==="local"?"Suppression locale : le serveur n'est pas disponible.":void 0;a({title:"Sance supprime",description:Y})},onError:()=>{a({title:"Erreur",description:"Impossible de supprimer la sance en cours.",variant:"destructive"})}});return u.jsx("div",{className:Ne("space-y-4 md:space-y-6",V&&"dark bg-background text-foreground contrast-125",K&&"text-lg leading-relaxed [&_.text-xs]:text-sm [&_.text-sm]:text-base"),children:N==="focus"&&d?be?u.jsx("div",{className:"animate-in fade-in",children:u.jsx(NMe,{session:d,exercises:be,oneRMs:ae||[],initialLogs:x,initialStep:w,isFinishing:ge.isPending,onStepChange:ie=>E(ie),onExitFocus:()=>j("reader"),onStart:async()=>{if(v)return;const ie=m?.session_id??d?.id??null;if(!ie){a({title:"Session manquante",description:"Impossible de dmarrer sans session associe.",variant:"destructive"});return}const Y={assignment_id:m?.id??null,athlete_id:t??null,athleteName:e??null,progress_pct:0,session_id:ie,cycle_type:d?.cycle};try{const we=await ee.mutateAsync(Y);we?.run_id&&b(we.run_id)}catch{return}},onLogSets:async ie=>{v&&(y(Y=>[...Y??[],...ie]),await Promise.all(ie.map((Y,we)=>$e.mutateAsync({run_id:v,exercise_id:Y.exercise_id,set_index:Y.set_number??we+1,reps:Y.reps??null,weight:Y.weight??null,athlete_id:t??null,athlete_name:e??null}))))},onProgress:async ie=>{v&&await ge.mutateAsync({run_id:v,progress_pct:ie,status:"in_progress"})},onFinish:ie=>{v&&ge.mutate({assignment_id:m?.id??null,run_id:v,session_id:m?.session_id??d?.id??null,athlete_id:t??null,date:new Date().toISOString(),progress_pct:100,status:"completed",...ie})}})}):u.jsx("div",{className:"py-10 text-center text-muted-foreground",children:"Chargement du focus..."}):u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("h1",{className:"text-3xl font-display font-bold uppercase italic text-primary",children:"Musculation"}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs(Ce,{variant:"ghost",size:"sm",onClick:()=>a({title:"Info",description:"Le 1RM est calcul automatiquement."}),className:"text-muted-foreground",children:[u.jsx(Mi,{className:"mr-2 h-4 w-4"})," Info 1RM"]}),u.jsx(Ce,{variant:"ghost",size:"icon",onClick:()=>j("settings"),className:"rounded-full border border-muted/50 text-muted-foreground","aria-label":"Paramtres",children:u.jsx(wee,{className:"h-4 w-4"})})]})]}),u.jsxs($m,{defaultValue:"start",className:"w-full",children:[u.jsxs(jd,{className:"grid w-full grid-cols-2",children:[u.jsx(Oa,{value:"start",children:"S'entraner"}),u.jsx(Oa,{value:"history",children:"Historique"})]}),u.jsxs(ms,{value:"start",className:"space-y-5 pt-4",children:[N==="list"&&u.jsxs("div",{className:"space-y-5 animate-in fade-in",children:[u.jsxs("p",{className:"text-center text-sm text-muted-foreground py-1",children:[Ot.length," sance",Ot.length>1?"s":""," disponible",Ot.length>1?"s":""]}),u.jsx("div",{className:"flex justify-center gap-2",children:Qe.map(ie=>u.jsx("button",{type:"button",onClick:()=>k(nl(ie.value)),className:Ne("px-5 py-2.5 rounded-full text-sm font-semibold transition-all active:scale-95",M===ie.value?"bg-primary text-primary-foreground shadow-md":"bg-muted/50 text-muted-foreground hover:bg-muted"),children:ie.label},ie.value))}),u.jsxs("div",{className:"relative",children:[u.jsx(EA,{className:"absolute left-4 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground pointer-events-none"}),u.jsx(xt,{placeholder:"Rechercher une sance...",className:"h-12 rounded-2xl bg-muted/30 pl-11 pr-4 border-0 shadow-sm focus-visible:ring-2",value:C,onChange:ie=>R(ie.target.value),"aria-label":"Rechercher une sance"})]}),pe&&u.jsxs("div",{className:"relative overflow-hidden rounded-2xl bg-gradient-to-br from-primary/10 via-primary/5 to-transparent border-2 border-primary/30 p-5",children:[u.jsx("div",{className:"absolute top-0 right-0 w-24 h-24 bg-primary/10 rounded-full blur-2xl -mr-8 -mt-8"}),u.jsxs("div",{className:"relative",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[u.jsxs("span",{className:"relative flex h-3 w-3",children:[u.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-primary opacity-75"}),u.jsx("span",{className:"relative inline-flex rounded-full h-3 w-3 bg-primary"})]}),u.jsx("span",{className:"text-xs font-bold uppercase tracking-wider text-primary",children:xe?"Complte":"En cours"})]}),u.jsx("h3",{className:"text-xl font-bold tracking-tight mb-1",children:Me?.title??"Sance en cours"}),u.jsxs("p",{className:"text-sm text-muted-foreground mb-4",children:["Dmarre le ",Sn(new Date(pe.started_at||new Date),"dd MMMM",{locale:lo})]}),u.jsxs("div",{className:"mb-4",children:[u.jsxs("div",{className:"flex justify-between text-xs font-semibold mb-1.5",children:[u.jsx("span",{className:"text-muted-foreground",children:"Progression"}),u.jsxs("span",{className:"text-primary",children:[Math.round(pe.progress_pct??0),"%"]})]}),u.jsx("div",{className:"h-2 rounded-full bg-muted overflow-hidden",children:u.jsx("div",{className:"h-full rounded-full bg-primary transition-all duration-500",style:{width:`${pe.progress_pct??0}%`}})})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx(Ce,{className:"flex-1 h-12 rounded-xl font-semibold",disabled:!ut,onClick:()=>{if(!Me)return;const ie=Me.items??[],Y=nl(Me.cycle??ie.find(Ye=>Ye.cycle_type)?.cycle_type),we=ie.filter(Ye=>Ye.cycle_type===Y),Ee=kW(we.length?we:ie);p(Me),f({...Me,title:Me.title,description:Me.description,cycle:Y,items:Ee}),b(pe.id),y(pe.logs??[]),E(MW(Ee,pe.logs??[],pe.progress_pct)),j("focus")},children:xe?"Voir le rsum":"Reprendre"}),!xe&&u.jsx(Ce,{variant:"outline",className:"h-12 w-12 rounded-xl p-0",disabled:ir.isPending,onClick:()=>{!pe||!window.confirm("Supprimer la sance en cours ?")||ir.mutate(pe.id)},"aria-label":"Supprimer la sance",children:u.jsx(Ii,{className:"h-5 w-5"})})]})]})]}),!pe&&Ot.length>0&&u.jsxs("div",{className:"flex items-center gap-2 pt-2",children:[u.jsx(Mi,{className:"h-4 w-4 text-muted-foreground"}),u.jsx("span",{className:"text-xs font-semibold uppercase tracking-wider text-muted-foreground",children:"Choisir une sance"})]}),Ot.length>0?u.jsx("div",{className:"space-y-3",children:Ot.map(ie=>u.jsx("button",{type:"button",className:"group w-full rounded-2xl border bg-card p-4 text-left shadow-sm transition-all active:scale-[0.98] hover:shadow-md hover:border-primary/30",onClick:()=>{if(ie.type==="assignment"){Ge(ie.assignment);return}pt(ie.session)},children:u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:Ne("flex h-12 w-12 shrink-0 items-center justify-center rounded-xl",ie.type==="assignment"?"bg-primary/10 text-primary":"bg-muted text-muted-foreground"),children:u.jsx(Mi,{className:"h-5 w-5"})}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-0.5",children:[ie.type==="assignment"&&u.jsx("span",{className:"inline-flex items-center rounded-full bg-primary/10 px-2 py-0.5 text-[10px] font-bold uppercase text-primary",children:"Assigne"}),ie.type==="assignment"&&ie.assignedDate&&u.jsx("span",{className:"text-xs text-muted-foreground",children:Sn(new Date(ie.assignedDate),"dd MMM",{locale:lo})})]}),u.jsx("h3",{className:"font-semibold tracking-tight truncate",children:ie.title}),u.jsxs("p",{className:"text-sm text-muted-foreground truncate",children:[ie.exerciseCount," exercice",ie.exerciseCount>1?"s":"",ie.description?`  ${ie.description}`:""]})]}),u.jsx("div",{className:"flex h-10 w-10 shrink-0 items-center justify-center rounded-full bg-muted/50 text-muted-foreground transition-colors group-hover:bg-primary group-hover:text-primary-foreground",children:u.jsx(hv,{className:"h-4 w-4 ml-0.5"})})]})},ie.key))}):u.jsxs("div",{className:"py-12 text-center",children:[u.jsx("div",{className:"mx-auto mb-4 flex h-16 w-16 items-center justify-center rounded-full bg-muted",children:u.jsx(Mi,{className:"h-7 w-7 text-muted-foreground"})}),u.jsx("h3",{className:"font-semibold",children:"Aucune sance"}),u.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Essayez un autre mot-cl ou changez de cycle."})]})]}),N==="settings"&&u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[u.jsxs(Ce,{variant:"ghost",size:"sm",onClick:()=>j("list"),className:"gap-2",children:[u.jsx(_h,{className:"h-4 w-4"}),"Retour"]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-muted-foreground",children:"Prfrences"}),u.jsx("h2",{className:"text-2xl font-display font-bold uppercase text-primary",children:"Paramtres"})]})]}),u.jsxs(Pe,{className:"border border-muted/60 shadow-sm",children:[u.jsxs(Ze,{children:[u.jsx(rt,{className:"text-lg uppercase",children:"Lisibilit & contrastes"}),u.jsx(Qt,{children:"Ajuste l'cran pour rester lisible en bassin comme en extrieur."})]}),u.jsxs(Be,{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-center justify-between gap-4 rounded-lg border bg-muted/30 p-4",children:[u.jsxs("div",{className:"space-y-1",children:[u.jsx("p",{className:"text-sm font-semibold uppercase",children:"Mode piscine"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Contraste renforc et lisibilit optimise."})]}),u.jsx(id,{checked:V,onCheckedChange:ie=>T(Y=>({...Y,poolMode:ie}))})]}),u.jsxs("div",{className:"flex items-center justify-between gap-4 rounded-lg border bg-muted/30 p-4",children:[u.jsxs("div",{className:"space-y-1",children:[u.jsx("p",{className:"text-sm font-semibold uppercase",children:"Texte grand"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Police plus large pour lire pendant l'effort."})]}),u.jsx(id,{checked:K,onCheckedChange:ie=>T(Y=>({...Y,largeText:ie}))})]})]})]}),u.jsx(Pe,{className:"border border-muted/60 shadow-sm",children:u.jsxs(Be,{className:"space-y-3 pt-6",children:[u.jsxs("div",{className:"flex items-center gap-3 text-sm text-muted-foreground",children:[u.jsx($j,{className:"h-4 w-4"}),u.jsx("span",{children:"Les prfrences sont enregistres sur cet appareil."})]}),u.jsxs("div",{className:"flex flex-wrap gap-2 text-xs font-semibold uppercase text-muted-foreground",children:[V&&u.jsx(ln,{variant:"secondary",children:"Mode piscine activ"}),K&&u.jsx(ln,{variant:"secondary",children:"Texte grand activ"}),!V&&!K&&u.jsx(ln,{variant:"outline",children:"Rglages par dfaut"})]})]})})]}),N==="reader"&&d&&u.jsxs("div",{className:"space-y-5 animate-in fade-in pb-40",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("button",{type:"button",onClick:()=>j("list"),className:"flex h-10 w-10 items-center justify-center rounded-full bg-muted/50 text-muted-foreground transition-colors hover:bg-muted active:scale-95","aria-label":"Retour",children:u.jsx(_h,{className:"h-5 w-5"})}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("p",{className:"text-xs font-semibold uppercase tracking-wider text-muted-foreground truncate",children:Qe.find(ie=>ie.value===M)?.label}),u.jsx("h1",{className:"text-xl font-bold tracking-tight truncate",children:d.title})]})]}),u.jsxs("div",{className:"relative overflow-hidden rounded-2xl bg-gradient-to-br from-primary/10 via-primary/5 to-transparent border border-primary/20 p-5",children:[u.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-primary/10 rounded-full blur-3xl -mr-12 -mt-12"}),u.jsxs("div",{className:"relative space-y-4",children:[u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[m&&u.jsxs("span",{className:"inline-flex items-center gap-1.5 rounded-full bg-primary/20 px-3 py-1 text-xs font-bold uppercase text-primary",children:[u.jsx("span",{className:"h-1.5 w-1.5 rounded-full bg-primary"}),"Assigne"]}),!m&&u.jsx("span",{className:"inline-flex items-center rounded-full bg-muted px-3 py-1 text-xs font-semibold text-muted-foreground",children:"Catalogue"}),m?.assigned_date&&u.jsxs("span",{className:"text-xs text-muted-foreground",children:["Prvue le ",Sn(new Date(m.assigned_date),"dd MMM",{locale:lo})]})]}),d.description&&u.jsx("p",{className:"text-sm text-muted-foreground leading-relaxed",children:d.description}),u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"flex h-9 w-9 items-center justify-center rounded-xl bg-background/80",children:u.jsx(Mi,{className:"h-4 w-4 text-primary"})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-lg font-bold leading-none",children:je.length}),u.jsx("p",{className:"text-[10px] uppercase text-muted-foreground font-semibold",children:"Exercices"})]})]}),u.jsx("div",{className:"h-8 w-px bg-border"}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"flex h-9 w-9 items-center justify-center rounded-xl bg-background/80",children:u.jsx(bZ,{className:"h-4 w-4 text-muted-foreground"})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-lg font-bold leading-none",children:Qe.find(ie=>ie.value===M)?.label}),u.jsx("p",{className:"text-[10px] uppercase text-muted-foreground font-semibold",children:"Cycle"})]})]})]})]})]}),u.jsxs("div",{className:"flex items-center justify-between gap-2 pt-1",children:[u.jsxs("span",{className:"text-xs font-semibold uppercase tracking-wider text-muted-foreground",children:[je.length," exercice",je.length>1?"s":""]}),u.jsx("div",{className:"flex-1 h-px bg-border"})]}),u.jsxs("div",{className:"space-y-2",children:[je.map((ie,Y)=>{const we=st.get(ie.exercise_id),Ee=Number(ie.percent_1rm),Ye=Number.isFinite(Ee)&&Ee>0,ot=Ye?ae?.find(Nt=>Nt.exercise_id===ie.exercise_id)?.weight??0:0,Re=Ye?Math.round(ot*(Ee/100)):0,at=Ye?Re>0?`${Re} kg (${Ee}% 1RM)`:`${Ee}% 1RM`:null,et=ie.notes?.trim(),Le=T6(ie.sets),fe=T6(ie.reps),Ie=TMe(ie.rest_seconds);return u.jsxs(VO,{children:[u.jsx(vPe,{asChild:!0,children:u.jsxs("button",{type:"button",className:"w-full flex items-center gap-3 rounded-xl border bg-card px-3 py-3 text-left transition-all active:scale-[0.98] hover:border-primary/50 hover:shadow-sm",children:[u.jsx("div",{className:"flex h-7 w-7 shrink-0 items-center justify-center rounded-full bg-primary text-xs font-bold text-primary-foreground",children:Y+1}),u.jsx("div",{className:"flex-1 min-w-0",children:u.jsx("p",{className:"font-semibold text-sm truncate",children:we?.nom_exercice??ie.exercise_name??"Exercice"})}),u.jsxs("div",{className:"flex items-center gap-2 shrink-0 text-xs font-medium text-muted-foreground",children:[u.jsxs("span",{className:"font-mono",children:[Le,"",fe]}),u.jsx("span",{className:"text-border",children:"|"}),u.jsx("span",{className:"font-mono",children:Ie}),u.jsx(fv,{className:"h-4 w-4 text-muted-foreground/50"})]})]})}),u.jsxs(J0,{side:"bottom",className:"max-h-[90vh] overflow-y-auto rounded-t-3xl pb-8",children:[u.jsx(Z0,{className:"text-left pb-4",children:u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx("div",{className:"flex h-10 w-10 shrink-0 items-center justify-center rounded-full bg-primary text-sm font-bold text-primary-foreground",children:Y+1}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx(eb,{className:"text-xl leading-tight",children:we?.nom_exercice??ie.exercise_name??"Exercice"}),we?.exercise_type&&u.jsx("p",{className:"text-sm text-muted-foreground mt-0.5",children:we.exercise_type})]})]})}),u.jsxs("div",{className:"space-y-4",children:[we?.illustration_gif&&u.jsx("div",{className:"rounded-xl overflow-hidden bg-muted/20 border aspect-video flex items-center justify-center",children:u.jsx("img",{src:we.illustration_gif,alt:we.nom_exercice??"Exercice",className:"w-full h-full max-h-36 object-contain",loading:"lazy",decoding:"async"})}),we?.description&&u.jsx("div",{className:"text-sm text-muted-foreground leading-relaxed",children:we.description}),u.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[u.jsxs("div",{className:"rounded-xl bg-muted/40 p-3 text-center",children:[u.jsx("p",{className:"text-2xl font-bold leading-none",children:Le}),u.jsx("p",{className:"text-[10px] uppercase text-muted-foreground font-semibold mt-1",children:"Sries"})]}),u.jsxs("div",{className:"rounded-xl bg-muted/40 p-3 text-center",children:[u.jsx("p",{className:"text-2xl font-bold leading-none",children:fe}),u.jsx("p",{className:"text-[10px] uppercase text-muted-foreground font-semibold mt-1",children:"Reps"})]}),u.jsxs("div",{className:"rounded-xl bg-muted/40 p-3 text-center",children:[u.jsx("p",{className:"text-lg font-bold leading-none",children:at??""}),u.jsx("p",{className:"text-[10px] uppercase text-muted-foreground font-semibold mt-1",children:"Charge"})]}),u.jsxs("div",{className:"rounded-xl bg-muted/40 p-3 text-center",children:[u.jsx("p",{className:"text-lg font-bold leading-none",children:Ie}),u.jsx("p",{className:"text-[10px] uppercase text-muted-foreground font-semibold mt-1",children:"Repos"})]})]}),et&&u.jsxs("div",{className:"rounded-xl bg-primary/5 border border-primary/20 p-4",children:[u.jsx("div",{className:"text-[10px] uppercase text-primary font-semibold mb-1",children:"Notes coach"}),u.jsx("div",{className:"text-sm text-foreground",children:et})]})]})]})]},`${ie.exercise_id}-${Y}`)}),je.length===0&&u.jsx("div",{className:"p-6 border-2 border-dashed rounded-xl text-center text-muted-foreground",children:"Aucun exercice disponible pour cette sance."})]}),u.jsx(PW,{children:u.jsxs(Ce,{className:"flex-1 h-14 rounded-xl font-bold text-base bg-primary hover:bg-primary/90 shadow-lg",onClick:yt,children:[u.jsx(hv,{className:"h-5 w-5 mr-2"}),"Lancer la sance"]})})]})]}),u.jsxs(ms,{value:"history",className:"space-y-4 pt-4",children:[u.jsxs("div",{className:"grid gap-3 md:grid-cols-3",children:[u.jsxs("div",{className:"space-y-1",children:[u.jsx(it,{htmlFor:"strength-history-status",children:"Statut"}),u.jsxs(yn,{value:I,onValueChange:B,children:[u.jsx(mn,{id:"strength-history-status",children:u.jsx(bn,{placeholder:"Tous"})}),u.jsxs(pn,{children:[u.jsx(ct,{value:"all",children:"Tous"}),u.jsx(ct,{value:"in_progress",children:"En cours"}),u.jsx(ct,{value:"completed",children:"Termin"}),u.jsx(ct,{value:"abandoned",children:"Abandonn"})]})]})]}),u.jsxs("div",{className:"space-y-1",children:[u.jsx(it,{htmlFor:"strength-history-from",children:"Du"}),u.jsx(xt,{id:"strength-history-from",type:"date",value:$,onChange:ie=>F(ie.target.value)})]}),u.jsxs("div",{className:"space-y-1",children:[u.jsx(it,{htmlFor:"strength-history-to",children:"Au"}),u.jsx(xt,{id:"strength-history-to",type:"date",value:H,onChange:ie=>U(ie.target.value)})]})]}),he.map(ie=>u.jsx(Pe,{className:"group hover:border-primary/50 transition-colors",children:u.jsxs(Ze,{className:"pb-2",children:[u.jsxs("div",{className:"flex justify-between",children:[u.jsx(rt,{className:"text-base font-bold uppercase",children:Sn(new Date(ie.started_at||ie.date||ie.created_at||new Date),"dd MMM yyyy",{locale:lo})}),u.jsxs("div",{className:"text-sm font-mono font-bold text-muted-foreground group-hover:text-primary",children:[ie.duration??0," min"]})]}),u.jsxs("div",{className:"flex gap-2 text-xs font-bold text-muted-foreground",children:[u.jsxs("span",{children:["Difficult ",ie.feeling??ie.rpe??0,"/5"]}),u.jsx("span",{children:""}),u.jsxs("span",{children:[ie.logs?.length||0," Sries"]})]})]})},ie.id)),he.length===0&&u.jsx("div",{className:"text-center text-muted-foreground py-10",children:"Aucun historique."}),J.hasNextPage&&u.jsx(Ce,{variant:"outline",size:"sm",className:"w-full",onClick:()=>J.fetchNextPage(),disabled:J.isFetchingNextPage,children:J.isFetchingNextPage?"Chargement...":"Charger plus"})]})]})]})})}function MMe(e,t=[]){let n=[];function r(a,o){const l=_.createContext(o);l.displayName=a+"Context";const d=n.length;n=[...n,o];const f=p=>{const{scope:v,children:b,...x}=p,y=v?.[e]?.[d]||l,w=_.useMemo(()=>x,Object.values(x));return u.jsx(y.Provider,{value:w,children:b})};f.displayName=a+"Provider";function m(p,v){const b=v?.[e]?.[d]||l,x=_.useContext(b);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${p}\` must be used within \`${a}\``)}return[f,m]}const i=()=>{const a=n.map(o=>_.createContext(o));return function(l){const d=l?.[e]||a;return _.useMemo(()=>({[`__scope${e}`]:{...l,[e]:d}}),[l,d])}};return i.scopeName=e,[r,kMe(i,...t)]}function kMe(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const o=r.reduce((l,{useScope:d,scopeName:f})=>{const p=d(a)[`__scope${f}`];return{...l,...p}},{});return _.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}var DMe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],GO=DMe.reduce((e,t)=>{const n=Yy(`Primitive.${t}`),r=_.forwardRef((i,a)=>{const{asChild:o,...l}=i,d=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),u.jsx(d,{...l,ref:a})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function IMe(){return D6.useSyncExternalStore($Me,()=>!0,()=>!1)}function $Me(){return()=>{}}var KO="Avatar",[LMe]=MMe(KO),[BMe,DW]=LMe(KO),IW=_.forwardRef((e,t)=>{const{__scopeAvatar:n,...r}=e,[i,a]=_.useState("idle");return u.jsx(BMe,{scope:n,imageLoadingStatus:i,onImageLoadingStatusChange:a,children:u.jsx(GO.span,{...r,ref:t})})});IW.displayName=KO;var $W="AvatarImage",LW=_.forwardRef((e,t)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:i=()=>{},...a}=e,o=DW($W,n),l=qMe(r,a),d=Sr(f=>{i(f),o.onImageLoadingStatusChange(f)});return Ut(()=>{l!=="idle"&&d(l)},[l,d]),l==="loaded"?u.jsx(GO.img,{...a,ref:t,src:r}):null});LW.displayName=$W;var BW="AvatarFallback",qW=_.forwardRef((e,t)=>{const{__scopeAvatar:n,delayMs:r,...i}=e,a=DW(BW,n),[o,l]=_.useState(r===void 0);return _.useEffect(()=>{if(r!==void 0){const d=window.setTimeout(()=>l(!0),r);return()=>window.clearTimeout(d)}},[r]),o&&a.imageLoadingStatus!=="loaded"?u.jsx(GO.span,{...i,ref:t}):null});qW.displayName=BW;function O6(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function qMe(e,{referrerPolicy:t,crossOrigin:n}){const r=IMe(),i=_.useRef(null),a=r?(i.current||(i.current=new window.Image),i.current):null,[o,l]=_.useState(()=>O6(a,e));return Ut(()=>{l(O6(a,e))},[a,e]),Ut(()=>{const d=p=>()=>{l(p)};if(!a)return;const f=d("loaded"),m=d("error");return a.addEventListener("load",f),a.addEventListener("error",m),t&&(a.referrerPolicy=t),typeof n=="string"&&(a.crossOrigin=n),()=>{a.removeEventListener("load",f),a.removeEventListener("error",m)}},[a,n,t]),o}var zW=IW,UW=LW,FW=qW;const VW=_.forwardRef(({className:e,...t},n)=>u.jsx(zW,{ref:n,className:Ne("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));VW.displayName=zW.displayName;const HW=_.forwardRef(({className:e,...t},n)=>u.jsx(UW,{ref:n,className:Ne("aspect-square h-full w-full",e),...t}));HW.displayName=UW.displayName;const GW=_.forwardRef(({className:e,...t},n)=>u.jsx(FW,{ref:n,className:Ne("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));GW.displayName=FW.displayName;const KW=e=>e!=="coach"&&e!=="admin"&&e!=="comite",zMe=e=>{switch(e){case"coach":return"Entraineur EAC";case"admin":return"Admin";case"comite":return"Comit";default:return"Nageur"}};function UMe(e){if(!e)return"-";const t=new Date(e);return Number.isNaN(t.getTime())?e:t.toLocaleDateString("fr-FR")}function FMe(){const{user:e,userId:t,logout:n,role:r}=sn(),{toast:i}=pi(),a=oa(),o=KW(r),l=r==="athlete"||r==="coach"||r==="admin",d=zMe(r),[f,m]=_.useState(!1),[p,v]=_.useState(""),[b,x]=_.useState(""),[y,w]=_.useState({group_id:"",objectives:"",bio:"",avatar_url:"",birthdate:"",ffn_iuf:""}),{data:E}=Pt({queryKey:["profile",e,t],queryFn:()=>De.getProfile({displayName:e,userId:t}),enabled:!!e}),{data:N=[],isLoading:j}=Pt({queryKey:["profile-groups"],queryFn:()=>De.getGroups(),enabled:!!e}),O=_.useMemo(()=>{const $=E?.avatar_url;return $||(e?`https://api.dicebear.com/7.x/initials/svg?seed=${encodeURIComponent(e)}`:"")},[E,e]),T=Lt({mutationFn:$=>De.updateProfile({userId:t,profile:{group_id:$.group_id?Number($.group_id):null,birthdate:$.birthdate||null,objectives:$.objectives,bio:$.bio,avatar_url:$.avatar_url,ffn_iuf:($.ffn_iuf||"").trim()||null}}),onSuccess:()=>{a.invalidateQueries({queryKey:["profile"]}),m(!1),i({title:"Profil mis  jour"})},onError:$=>{i({title:"Mise  jour impossible",description:String($?.message||$),variant:"destructive"})}}),C=Lt({mutationFn:$=>De.authPasswordUpdate($),onSuccess:()=>{v(""),x(""),i({title:"Mot de passe mis  jour"})},onError:$=>{i({title:"Mise  jour impossible",description:String($?.message||$),variant:"destructive"})}}),R=Lt({mutationFn:async()=>{const $=String(E?.ffn_iuf??"").trim();if(!$)throw new Error("IUF FFN manquant. Ajoutez-le dans votre profil.");return De.syncFfnSwimRecords({athleteId:t??void 0,athleteName:e??void 0,iuf:$})},onSuccess:$=>{a.invalidateQueries({queryKey:["swim-records"]}),i({title:"Records FFN imports",description:`${$?.inserted??0} ajout(s), ${$?.updated??0} mis  jour, ${$?.skipped??0} inchang(s)`})},onError:$=>{i({title:"Import FFN impossible",description:String($?.message||$),variant:"destructive"})}}),M=()=>{w({group_id:E?.group_id?String(E.group_id):"",objectives:E?.objectives||"",bio:E?.bio||"",avatar_url:E?.avatar_url||"",birthdate:E?.birthdate?String(E.birthdate).split("T")[0]:"",ffn_iuf:E?.ffn_iuf?String(E.ffn_iuf):""}),m(!0)},k=()=>T.mutate(y),I=()=>{if(!p||p.length<6){i({title:"Mot de passe invalide",description:"Minimum 6 caractres.",variant:"destructive"});return}if(p!==b){i({title:"Mot de passe invalide",description:"Les mots de passe ne correspondent pas.",variant:"destructive"});return}C.mutate({password:p})},B=N.find($=>$.id===E?.group_id)?.name||E?.group_label||"Non dfini";return u.jsxs("div",{className:"space-y-6",children:[u.jsx("h1",{className:"text-3xl font-display font-bold uppercase italic text-primary",children:"Profil"}),u.jsxs(Pe,{children:[u.jsxs(Ze,{className:"relative",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs(VW,{className:"h-16 w-16",children:[u.jsx(HW,{src:O,alt:e||"Profil"}),u.jsx(GW,{children:(e||"?").slice(0,2).toUpperCase()})]}),u.jsxs("div",{className:"min-w-0",children:[u.jsx("p",{className:"text-xl font-semibold truncate",children:e}),u.jsx("p",{className:"text-sm text-muted-foreground uppercase font-bold tracking-wider",children:d})]})]}),!f&&u.jsx(Ce,{variant:"ghost",size:"icon",className:"absolute top-4 right-4",onClick:M,"aria-label":"Modifier le profil",children:u.jsx(Lj,{className:"h-4 w-4"})})]}),u.jsx(Be,{className:"space-y-4",children:f?u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"grid gap-2",children:[u.jsx(it,{children:"Groupe"}),u.jsxs(yn,{value:y.group_id,onValueChange:$=>w({...y,group_id:$}),disabled:j,children:[u.jsx(mn,{children:u.jsx(bn,{placeholder:j?"Chargement...":"Choisir un groupe"})}),u.jsx(pn,{children:N.map($=>u.jsx(ct,{value:String($.id),children:$.name},$.id))})]})]}),o?u.jsxs("div",{className:"grid gap-2",children:[u.jsx(it,{children:"IUF FFN"}),u.jsx(xt,{value:y.ffn_iuf,onChange:$=>w({...y,ffn_iuf:$.target.value}),placeholder:"879576",inputMode:"numeric"}),u.jsx("div",{className:"text-xs text-muted-foreground",children:"Identifiant unique FFN (utilis pour importer vos records comptition)."})]}):null,u.jsxs("div",{className:"grid gap-2",children:[u.jsx(it,{children:"Objectifs"}),u.jsx(xt,{value:y.objectives,onChange:$=>w({...y,objectives:$.target.value})})]}),u.jsxs("div",{className:"grid gap-2",children:[u.jsx(it,{children:"Bio"}),u.jsx(ql,{value:y.bio,onChange:$=>w({...y,bio:$.target.value})})]}),u.jsxs("div",{className:"grid gap-2",children:[u.jsx(it,{children:"Avatar (URL)"}),u.jsx(xt,{value:y.avatar_url,onChange:$=>w({...y,avatar_url:$.target.value}),placeholder:"https://..."})]}),u.jsxs("div",{className:"grid gap-2",children:[u.jsx(it,{children:"Date de naissance"}),u.jsx(xt,{type:"date",value:y.birthdate,onChange:$=>w({...y,birthdate:$.target.value})})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs(Ce,{onClick:k,disabled:T.isPending,className:"w-full",children:[u.jsx(Fz,{className:"mr-2 h-4 w-4"}),"Enregistrer"]}),u.jsx(Ce,{variant:"outline",onClick:()=>m(!1),disabled:T.isPending,children:"Annuler"})]})]}):u.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[u.jsxs("div",{children:[u.jsx(it,{className:"text-xs text-muted-foreground uppercase",children:"Groupe"}),u.jsx("div",{className:"font-medium",children:B})]}),u.jsxs("div",{children:[u.jsx(it,{className:"text-xs text-muted-foreground uppercase",children:"Date de naissance"}),u.jsx("div",{className:"font-medium",children:UMe(E?.birthdate??null)})]}),o?u.jsxs("div",{children:[u.jsx(it,{className:"text-xs text-muted-foreground uppercase",children:"IUF FFN"}),u.jsx("div",{className:"font-medium",children:String(E?.ffn_iuf??"")||"Non renseign"})]}):null,u.jsxs("div",{className:o?"":"col-span-2",children:[u.jsx(it,{className:"text-xs text-muted-foreground uppercase",children:"Objectifs"}),u.jsx("div",{className:"font-medium",children:E?.objectives||"Aucun objectif dfini."})]}),u.jsxs("div",{className:"col-span-2",children:[u.jsx(it,{className:"text-xs text-muted-foreground uppercase",children:"Bio"}),u.jsx("div",{className:"font-medium",children:E?.bio||"Non renseigne."})]})]})}),u.jsx(UA,{className:"flex justify-end",children:u.jsxs(Ce,{variant:"outline",onClick:n,className:"gap-2",children:[u.jsx(HZ,{className:"h-4 w-4"}),"Se dconnecter"]})})]}),o?u.jsxs(Pe,{children:[u.jsxs(Ze,{children:[u.jsx(rt,{children:"FFN"}),u.jsx(Qt,{children:"Importer vos records comptition depuis Extranat."})]}),u.jsxs(Be,{className:"space-y-3",children:[u.jsxs("div",{className:"text-sm text-muted-foreground",children:["IUF enregistr : ",u.jsx("span",{className:"font-medium text-foreground",children:String(E?.ffn_iuf??"")||""})]}),u.jsxs(Ce,{className:"w-full gap-2",onClick:()=>R.mutate(),disabled:R.isPending||!String(E?.ffn_iuf??"").trim(),children:[u.jsx(zz,{className:["h-4 w-4",R.isPending?"animate-spin":""].join(" ")}),R.isPending?"Import en cours...":"Rcuprer records depuis FFN"]}),String(E?.ffn_iuf??"").trim()?null:u.jsx("div",{className:"text-xs text-muted-foreground",children:"Ajoutez votre IUF FFN dans le profil (bouton crayon) pour activer limport."})]})]}):null,l?u.jsxs(Pe,{children:[u.jsxs(Ze,{children:[u.jsx(rt,{children:"Mot de passe"}),u.jsx(Qt,{children:"Modifiez votre mot de passe."})]}),u.jsxs(Be,{className:"space-y-3",children:[u.jsxs("div",{className:"grid gap-2",children:[u.jsx(it,{children:"Nouveau mot de passe"}),u.jsx(xt,{type:"password",value:p,onChange:$=>v($.target.value),placeholder:""})]}),u.jsxs("div",{className:"grid gap-2",children:[u.jsx(it,{children:"Confirmer"}),u.jsx(xt,{type:"password",value:b,onChange:$=>x($.target.value),placeholder:""})]}),u.jsx(Ce,{className:"w-full",onClick:I,disabled:C.isPending,children:"Mettre  jour le mot de passe"})]})]}):null,o?u.jsxs(Pe,{children:[u.jsxs(Ze,{children:[u.jsx(rt,{children:"Records"}),u.jsx(Qt,{children:"Consultez vos records de natation et musculation."})]}),u.jsx(Be,{children:u.jsx(lv,{href:"/records",children:u.jsx(Ce,{asChild:!0,children:u.jsx("a",{children:"Voir mes records"})})})})]}):null]})}const Gg=(...e)=>e.filter(Boolean).join(" ");function C6(e){if(!e)return"";const t=new Date(e);return Number.isNaN(t.getTime())?e:t.toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit",year:"2-digit"})}function R6(e){if(e==null)return"";const t=Math.round(Math.max(0,e*1e3)),n=Math.floor(t/6e4),r=Math.floor(t%6e4/1e3),i=Math.floor(t%1e3/10);return n>0?`${n}:${String(r).padStart(2,"0")}.${String(i).padStart(2,"0")}`:`${r}.${String(i).padStart(2,"0")}`}function VMe(e){const t=e.trim();if(!t)return null;if(t.includes(":")){const[r,i]=t.split(":"),a=Number(r);if(!Number.isFinite(a)||a<0)return null;const o=i.replace(",","."),l=Number(o);return!Number.isFinite(l)||l<0?null:a*60+l}const n=Number(t.replace(",","."));return!Number.isFinite(n)||n<0?null:n}function HMe(e){if(!e)return null;const t=e.match(/FFN\s*\((\d+)\s*pts\)/i);if(!t)return null;const n=Number(t[1]);return Number.isFinite(n)?n:null}function GMe({value:e,placeholder:t,onSave:n,onCancel:r,inputMode:i="decimal",hint:a}){const[o,l]=_.useState(e);return _.useEffect(()=>{l(e)},[e]),u.jsx("div",{className:"w-full",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("div",{className:"flex-1",children:[u.jsx(xt,{value:o,onChange:d=>l(d.target.value),placeholder:t,inputMode:i,className:"h-10 rounded-xl",autoFocus:!0}),a?u.jsx("div",{className:"mt-1 text-xs text-muted-foreground",children:a}):null]}),u.jsx(Ce,{type:"button",onClick:()=>n(o),className:"h-10 w-10 p-0 rounded-xl","aria-label":"Valider",children:u.jsx(ho,{className:"h-5 w-5"})}),u.jsx(Ce,{type:"button",variant:"outline",onClick:r,className:"h-10 w-10 p-0 rounded-xl","aria-label":"Annuler",children:u.jsx(Ii,{className:"h-5 w-5"})})]})})}const Xc=()=>u.jsx("div",{className:"h-10 rounded-xl bg-muted animate-pulse"});function KMe(){const{user:e,userId:t,role:n}=sn(),{toast:r}=pi(),i=oa(),a={id:null,event_name:"",pool_length:"",time_seconds:"",record_date:"",notes:""},[o,l]=_.useState("swim"),[d,f]=_.useState(a),[m,p]=_.useState("training"),[v,b]=_.useState(25),[x,y]=_.useState(null),[w,E]=_.useState(null),[N,j]=_.useState(""),O=KW(n);_.useEffect(()=>{window.scrollTo({top:0,left:0,behavior:"auto"})},[]);const T=re=>{const Me=re?.pool_length??re?.poolLength??re?.poolLen??re?.pool;if(Me==null)return null;if(typeof Me=="number")return Me===25||Me===50?Me:null;const ke=String(Me).match(/\b(25|50)\b/);if(!ke)return null;const Qe=Number(ke[1]);return Qe===25||Qe===50?Qe:null},C=Pt({queryKey:["1rm",e,t],queryFn:()=>De.get1RM({athleteName:e,athleteId:t}),enabled:!!e&&O}),R=Pt({queryKey:["exercises"],queryFn:()=>De.getExercises(),enabled:O}),M=Pt({queryKey:["swim-records",t,e],queryFn:()=>De.getSwimRecords({athleteId:t??void 0,athleteName:e??void 0}),enabled:!!e&&O}),{data:k,isLoading:I,isError:B}=C,{data:$,isLoading:F,isError:H}=R,{data:U,isLoading:D,isFetching:G,isError:z,refetch:X}=M,ue=()=>{X()};_.useEffect(()=>{m==="comp"&&ue()},[m]);const V=Lt({mutationFn:re=>De.update1RM({...re,athlete_id:t,athlete_name:e}),onSuccess:()=>{i.invalidateQueries({queryKey:["1rm"]}),r({title:"1RM mis  jour"})}}),K=Lt({mutationFn:re=>De.upsertSwimRecord(re),onSuccess:()=>{i.invalidateQueries({queryKey:["swim-records"]}),f(a),y(null),r({title:"Record mis  jour"})}});Lt({mutationFn:re=>De.syncFfnSwimRecords({athleteId:t??void 0,athleteName:e??void 0,iuf:re}),onSuccess:re=>{i.invalidateQueries({queryKey:["swim-records"]}),r({title:"Synchro FFN termine",description:`${re?.inserted??0} ajout(s), ${re?.updated??0} mis  jour, ${re?.skipped??0} inchang(s)`})},onError:re=>{r({title:"Synchro FFN impossible",description:String(re?.message||re),variant:"destructive"})}});const Z=()=>{f(a),y(null)},oe=re=>{const Me=T(re);f({id:re.id,event_name:re.event_name??"",pool_length:Me?String(Me):"",time_seconds:re.time_seconds!=null?R6(Number(re.time_seconds)):"",record_date:re.record_date?String(re.record_date).split("T")[0]:"",notes:re.notes??""}),y(re.id)},be=()=>{if(!d.event_name.trim()){r({title:"Nom d'preuve requis",variant:"destructive"});return}if(!d.pool_length){r({title:"Bassin requis",variant:"destructive"});return}const re=VMe(d.time_seconds);if(re===null){r({title:"Temps invalide",description:"Ex: 1:02.34 ou 62.34",variant:"destructive"});return}K.mutate({id:d.id||null,athlete_id:t,athleteName:e,athlete_name:e,event_name:d.event_name,pool_length:parseInt(d.pool_length,10),time_seconds:re,record_date:d.record_date||null,notes:d.notes||null,record_type:m})},ae=re=>{re.preventDefault(),be()},J=_.useMemo(()=>(U?.records??[]).filter(ut=>{const ke=T(ut);if(!ke||ke!==v)return!1;const Qe=String(ut.record_type??"training");return m==="comp"?Qe==="comp":Qe==="training"}).sort((ut,ke)=>{const Qe=String(ut.event_name??""),st=String(ke.event_name??""),Bt=yt=>String(yt??"").toLowerCase().replace(/\./g,"").replace(/\s+/g," ").trim(),It=yt=>{const $t=Bt(yt);return $t.includes("nl")||$t.includes("nage libre")?0:$t.includes("dos")?1:$t.includes("bra")||$t.includes("brasse")?2:$t.includes("pap")||$t.includes("papillon")?3:$t.includes("4n")||$t.includes("4 n")||$t.includes("4 nages")?4:99},En=yt=>{const $t=String(yt??"").match(/^(\d+)/);return $t?Number($t[1]):Number.POSITIVE_INFINITY},Ot=It(Qe),je=It(st);if(Ot!==je)return Ot-je;const Ge=En(Qe),pt=En(st);return Ge!==pt?Ge-pt:Bt(Qe).localeCompare(Bt(st),"fr")}),[U,v,m]),he=()=>{f({...a,pool_length:String(v)}),y("add")},se=re=>{p(re),Z()},pe=()=>{b(re=>re===25?50:25),Z()},xe=(re,Me)=>{E(re),j(Me!=null&&Number(Me)>0?String(Me):"")},ee=()=>{E(null),j("")},$e=(re,Me)=>{const ut=Number(String(Me??"").replace(",","."));if(!Number.isFinite(ut)||ut<=0){r({title:"Valeur invalide",description:"Entrez un nombre > 0",variant:"destructive"});return}V.mutate({exercise_id:re,one_rm:ut}),ee()},te=m==="training"?"grid-cols-[minmax(0,1fr)_4.75rem_4.75rem_2.5rem]":"grid-cols-[minmax(0,1fr)_4.75rem_3.75rem_4.75rem]";return O?u.jsx("div",{className:"min-h-[100dvh]",children:u.jsxs("div",{className:"mx-auto max-w-lg",children:[u.jsx("div",{className:"sticky top-0 z-20 backdrop-blur bg-background/80 border-b border-border",children:u.jsxs("div",{className:"px-4 pt-4 pb-3",children:[u.jsx("div",{className:"text-xl font-semibold tracking-tight",children:"Records"}),u.jsx("div",{className:"mt-0.5 text-sm text-muted-foreground",children:"Natation & 1RM musculation"})]})}),u.jsx("div",{className:"px-2 sm:px-4 pt-3",children:u.jsxs($m,{value:o,onValueChange:re=>l(re),children:[u.jsxs(jd,{className:"w-full rounded-3xl bg-muted/60 border border-border shadow-sm p-1.5 flex",children:[u.jsxs(Oa,{value:"swim",className:`flex-1 rounded-2xl px-4 py-2.5 text-sm font-semibold uppercase tracking-wide gap-2
                  data-[state=active]:bg-background data-[state=active]:text-foreground
                  data-[state=inactive]:text-muted-foreground`,children:[u.jsx(hi,{className:"h-4 w-4"}),"Natation"]}),u.jsxs(Oa,{value:"1rm",className:`flex-1 rounded-2xl px-4 py-2.5 text-sm font-semibold uppercase tracking-wide gap-2
                  data-[state=active]:bg-background data-[state=active]:text-foreground
                  data-[state=inactive]:text-muted-foreground`,children:[u.jsx(Mi,{className:"h-4 w-4"}),"Musculation"]})]}),o==="swim"?u.jsx("div",{className:"mt-3",children:u.jsxs("div",{className:"w-full rounded-2xl bg-muted/25 border border-border/60 p-1 flex",children:[u.jsxs("button",{type:"button",onClick:()=>se("training"),className:Gg("flex-1 rounded-2xl px-3 py-2 text-sm max-[360px]:text-xs font-semibold transition inline-flex items-center justify-center gap-2 whitespace-nowrap",m==="training"?"bg-background text-foreground shadow-sm":"text-muted-foreground hover:text-foreground"),"aria-pressed":m==="training",children:[u.jsx(ro,{className:"h-4 w-4 max-[360px]:hidden"}),"Entranement"]}),u.jsxs("button",{type:"button",onClick:()=>se("comp"),className:Gg("flex-1 rounded-2xl px-3 py-2 text-sm max-[360px]:text-xs font-semibold transition inline-flex items-center justify-center gap-2 whitespace-nowrap",m==="comp"?"bg-background text-foreground shadow-sm":"text-muted-foreground hover:text-foreground"),"aria-pressed":m==="comp",children:[u.jsx(hi,{className:"h-4 w-4 max-[360px]:hidden"}),"Comptition"]})]})}):null,u.jsxs(ms,{value:"swim",className:"mt-0",children:[u.jsxs("div",{className:"mt-5 mb-2 flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"h-9 w-9 rounded-2xl bg-muted/50 border border-border flex items-center justify-center",children:m==="training"?u.jsx(ro,{className:"h-5 w-5"}):u.jsx(hi,{className:"h-5 w-5"})}),u.jsxs("div",{className:"text-sm font-semibold",children:[m==="training"?"Records entranement":"Records comptition"," "]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("button",{type:"button",onClick:pe,className:"inline-flex items-center gap-2 whitespace-nowrap rounded-2xl bg-muted/25 border border-border/60 px-3 py-2 text-sm font-semibold active:scale-[0.99] transition","aria-label":"Changer le bassin",title:"Appuie pour basculer 25m / 50m",children:[u.jsx("span",{className:"inline-flex items-center justify-center h-6 w-6 rounded-xl bg-background/60 border border-border",children:u.jsx(hi,{className:"h-4 w-4"})}),u.jsxs("span",{className:"tabular-nums",children:[v,"m"]})]}),m!=="comp"?u.jsx(Ce,{type:"button",size:"sm",onClick:he,className:"rounded-2xl",children:"Ajouter"}):null]})]}),m==="comp"?u.jsx("div",{className:"-mt-1 mb-2 text-xs text-muted-foreground",children:"Records fdration (lecture seule)."}):null,u.jsx(Pe,{className:"w-full overflow-hidden rounded-2xl",children:u.jsx(Be,{className:"p-0",children:D?u.jsxs("div",{className:"p-4 grid gap-3",children:[u.jsx(Xc,{}),u.jsx(Xc,{}),u.jsx(Xc,{})]}):z?u.jsx("div",{className:"p-4 text-sm text-muted-foreground",children:"Impossible de charger les records natation."}):J.length===0?u.jsxs("div",{className:"px-4 py-6 text-sm text-muted-foreground",children:["Aucun record en bassin ",v,"m."]}):u.jsxs("div",{className:"w-full",children:[u.jsx("div",{className:"px-3 sm:px-4 py-2 text-[11px] text-muted-foreground border-b border-border",children:u.jsxs("div",{className:Gg("grid items-center gap-2",te),children:[u.jsx("div",{className:"truncate justify-self-start",children:"preuve"}),u.jsx("div",{className:"whitespace-nowrap justify-self-end",children:"Temps"}),m==="comp"?u.jsx("div",{className:"whitespace-nowrap justify-self-end",children:"Pts"}):u.jsx("div",{className:"whitespace-nowrap justify-self-end",children:"Date"}),m==="comp"?u.jsx("div",{className:"whitespace-nowrap justify-self-end",children:"Date"}):u.jsx("div",{className:"sr-only",children:"Actions"})]})}),u.jsx("div",{className:"divide-y divide-border",children:J.map(re=>{const Me=x===re.id,ut=R6(re.time_seconds),ke=C6(re.record_date),Qe=(re.notes??"").trim(),st=re?.ffn_points??re?.ffnPoints??re?.points??re?.pts??null,Bt=st==null||st===""?NaN:Number(st),It=Number.isFinite(Bt)?Bt:HMe(re?.notes),En=(re?.meet??re?.meet_name??re?.meetName??re?.competition??"").trim?.()??"";return u.jsxs("div",{className:"px-3 sm:px-4 py-3",children:[u.jsxs("div",{className:Gg("grid items-center gap-2",te),children:[u.jsx("div",{className:"min-w-0 justify-self-start",children:u.jsx("div",{className:"text-sm font-semibold truncate",children:re.event_name})}),u.jsx("div",{className:"justify-self-end text-sm font-semibold tabular-nums whitespace-nowrap overflow-hidden font-mono",children:ut}),m==="comp"?u.jsx("div",{className:"justify-self-end text-sm tabular-nums text-muted-foreground whitespace-nowrap overflow-hidden",children:It==null?"":String(It)}):u.jsx("div",{className:"justify-self-end text-sm tabular-nums text-muted-foreground whitespace-nowrap overflow-hidden",children:ke}),m==="comp"?u.jsx("div",{className:"justify-self-end text-sm tabular-nums text-muted-foreground whitespace-nowrap overflow-hidden",children:ke}):u.jsx("button",{type:"button",onClick:()=>oe(re),className:"justify-self-end inline-flex items-center justify-center h-9 w-9 rounded-xl bg-transparent text-muted-foreground hover:text-foreground hover:bg-muted/60 focus:outline-none focus:ring-2 focus:ring-ring/20","aria-label":`Modifier ${re.event_name}`,title:"Modifier",children:u.jsx(Lj,{className:"h-4 w-4"})})]}),m==="comp"&&En?u.jsx("div",{className:"mt-1 text-xs text-muted-foreground truncate",children:En}):null,m==="training"&&Qe?u.jsx("div",{className:"mt-1 text-xs text-muted-foreground truncate",children:Qe}):null,m==="training"&&Me?u.jsx("div",{className:"mt-3",children:u.jsxs("div",{className:"rounded-2xl bg-muted/30 border border-border p-4 space-y-4",children:[u.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[u.jsxs("div",{className:"grid gap-2",children:[u.jsx(it,{children:"Temps"}),u.jsx(xt,{value:d.time_seconds,inputMode:"decimal",placeholder:"1:02.34",onChange:Ot=>f({...d,time_seconds:Ot.target.value}),className:"rounded-xl"}),u.jsx("div",{className:"text-xs text-muted-foreground",children:"Format: mm:ss.cc ou secondes"})]}),u.jsxs("div",{className:"grid gap-2",children:[u.jsx(it,{children:"Date"}),u.jsx(xt,{type:"date",value:d.record_date,onChange:Ot=>f({...d,record_date:Ot.target.value}),className:"rounded-xl"})]})]}),u.jsxs("div",{className:"grid gap-2",children:[u.jsx(it,{children:"Notes"}),u.jsx(ql,{value:d.notes,onChange:Ot=>f({...d,notes:Ot.target.value}),rows:2,className:"rounded-xl"})]}),u.jsxs("div",{className:"flex items-center justify-end gap-2",children:[u.jsxs(Ce,{type:"button",size:"sm",variant:"outline",onClick:Z,className:"rounded-2xl gap-2",children:[u.jsx(Ii,{className:"h-4 w-4"}),"Annuler"]}),u.jsxs(Ce,{type:"button",size:"sm",onClick:be,disabled:K.isPending,className:"rounded-2xl gap-2",children:[u.jsx(ho,{className:"h-4 w-4"}),"Enregistrer"]})]})]})}):null]},re.id)})})]})})}),m==="training"&&x==="add"?u.jsx("div",{className:"px-4 mt-4",children:u.jsx("form",{onSubmit:ae,children:u.jsxs("div",{className:"rounded-2xl border border-border p-4 space-y-4",children:[u.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[u.jsxs("div",{className:"grid gap-2",children:[u.jsx(it,{children:"preuve"}),u.jsx(xt,{value:d.event_name,onChange:re=>f({...d,event_name:re.target.value}),placeholder:"Ex: 100 NL, 200 Dos",className:"rounded-xl"})]}),u.jsxs("div",{className:"grid gap-2",children:[u.jsx(it,{children:"Bassin (m)"}),u.jsxs(yn,{value:d.pool_length,onValueChange:re=>f({...d,pool_length:re}),children:[u.jsx(mn,{className:"rounded-xl",children:u.jsx(bn,{placeholder:"Choisir"})}),u.jsxs(pn,{children:[u.jsx(ct,{value:"25",children:"25"}),u.jsx(ct,{value:"50",children:"50"})]})]})]}),u.jsxs("div",{className:"grid gap-2",children:[u.jsx(it,{children:"Temps"}),u.jsx(xt,{value:d.time_seconds,inputMode:"decimal",placeholder:"1:02.34",onChange:re=>f({...d,time_seconds:re.target.value}),className:"rounded-xl"})]}),u.jsxs("div",{className:"grid gap-2",children:[u.jsx(it,{children:"Date"}),u.jsx(xt,{type:"date",value:d.record_date,onChange:re=>f({...d,record_date:re.target.value}),className:"rounded-xl"})]})]}),u.jsxs("div",{className:"grid gap-2",children:[u.jsx(it,{children:"Notes"}),u.jsx(ql,{value:d.notes,onChange:re=>f({...d,notes:re.target.value}),rows:3,className:"rounded-xl"})]}),u.jsxs("div",{className:"flex items-center justify-end gap-2",children:[u.jsx(Ce,{type:"button",variant:"outline",onClick:Z,className:"rounded-2xl",children:"Annuler"}),u.jsx(Ce,{type:"submit",disabled:K.isPending,className:"rounded-2xl",children:"Ajouter"})]})]})})}):null,u.jsx("div",{className:"h-10"})]}),u.jsxs(ms,{value:"1rm",className:"mt-0",children:[u.jsx("div",{className:"mt-5 mb-2 flex items-center justify-between",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"h-9 w-9 rounded-2xl bg-muted/50 border border-border flex items-center justify-center",children:u.jsx(Mi,{className:"h-5 w-5"})}),u.jsx("div",{className:"text-sm font-semibold",children:"1RM musculation"})]})}),u.jsx(Pe,{className:"w-full overflow-hidden rounded-2xl",children:u.jsxs(Be,{className:"p-0",children:[I||F?u.jsxs("div",{className:"p-4 grid gap-3",children:[u.jsx(Xc,{}),u.jsx(Xc,{}),u.jsx(Xc,{})]}):B||H?u.jsx("div",{className:"p-4 text-sm text-muted-foreground",children:"Impossible de charger les records musculation."}):u.jsx("div",{className:"divide-y divide-border",children:$?.filter(re=>re.exercise_type!=="warmup").map(re=>{const Me=k?.find(Bt=>Bt.exercise_id===re.id),ut=Number(Me?.weight??0),ke=ut>0?`${ut} kg`:"",Qe=Me?.recorded_at??Me?.date??null,st=w===re.id;return u.jsxs("div",{className:"px-3 sm:px-4 py-3",children:[u.jsxs("div",{className:"flex items-start justify-between gap-4",children:[u.jsxs("div",{className:"min-w-0",children:[u.jsx("div",{className:"text-sm font-semibold truncate",children:re.nom_exercice}),u.jsx("div",{className:"mt-0.5 text-xs text-muted-foreground tabular-nums",children:C6(Qe)})]}),u.jsxs("div",{className:"text-right shrink-0",children:[u.jsx("div",{className:"text-base font-semibold tabular-nums whitespace-nowrap font-mono",children:ke}),st?null:u.jsxs("button",{type:"button",onClick:()=>xe(re.id,Me?.weight??null),className:"mt-1 inline-flex items-center gap-1 text-xs text-muted-foreground hover:text-foreground",children:[u.jsx(Lj,{className:"h-3.5 w-3.5"}),"Modifier"]})]})]}),st?u.jsx("div",{className:"mt-3",children:u.jsx(GMe,{value:N,placeholder:"Ex: 100",inputMode:"decimal",hint:"Charge max (kg).",onCancel:ee,onSave:Bt=>$e(re.id,Bt)})}):null]},re.id)})}),V.isPending?u.jsxs("div",{className:"px-4 pb-4 text-xs text-muted-foreground flex items-center gap-2",children:[u.jsx(zz,{className:"h-3 w-3 animate-spin"})," Mise  jour..."]}):null]})}),u.jsx("div",{className:"h-10"})]})]})}),u.jsx("div",{className:"pb-10"})]})}):u.jsx("div",{className:"min-h-[100dvh]",children:u.jsxs("div",{className:"mx-auto max-w-lg",children:[u.jsx("div",{className:"sticky top-0 z-20 backdrop-blur bg-background/80 border-b border-border",children:u.jsxs("div",{className:"px-4 pt-4 pb-3",children:[u.jsx("div",{className:"text-xl font-semibold tracking-tight",children:"Records"}),u.jsx("div",{className:"mt-0.5 text-sm text-muted-foreground",children:"Natation & 1RM musculation"})]})}),u.jsx("div",{className:"px-4 pt-4 pb-10",children:u.jsx(Pe,{className:"rounded-2xl",children:u.jsx(Be,{className:"pt-6 text-sm text-muted-foreground",children:"Cette page est rserve aux nageurs."})})})]})})}const P6=[{value:"M",label:"Garon"},{value:"F",label:"Fille"}],WMe=e=>e==="user"?"Compte":"Ancien";function YMe(){const e=sn(N=>N.role),{toast:t}=pi(),[n,r]=_.useState({display_name:"",iuf:"",sex:"",birthdate:""}),[i,a]=_.useState([]),[o,l]=_.useState(!1),[d,f]=_.useState(null),m=e==="coach"||e==="admin",p=_.useCallback(async()=>{if(m){l(!0),f(null);try{const N=await De.getClubRecordSwimmers();a(N)}catch(N){const j=Mr(N,"Impossible de charger la liste.");f(j.message),a([])}finally{l(!1)}}},[m]);_.useEffect(()=>{p()},[p]);const v=Lt({mutationFn:()=>De.createClubRecordSwimmer({display_name:n.display_name.trim(),iuf:n.iuf.trim()||null,sex:n.sex?n.sex:null,birthdate:n.birthdate||null,is_active:!0}),onSuccess:()=>{t({title:"Nageur ajout"}),r({display_name:"",iuf:"",sex:"",birthdate:""}),p()},onError:()=>{t({title:"Impossible d'ajouter le nageur",variant:"destructive"})}}),b=Lt({mutationFn:({id:N,payload:j})=>De.updateClubRecordSwimmer(N,j),onSuccess:()=>{p()},onError:()=>{t({title:"Mise  jour impossible",variant:"destructive"})}}),x=Lt({mutationFn:({userId:N,payload:j})=>De.updateClubRecordSwimmerForUser(N,j),onSuccess:()=>{p()},onError:()=>{t({title:"Mise  jour impossible",variant:"destructive"})}}),y=(N,j)=>{if(N.source_type==="user"&&N.user_id){x.mutate({userId:N.user_id,payload:j});return}N.id&&b.mutate({id:N.id,payload:j})},w=Lt({mutationFn:()=>De.importClubRecords(),onSuccess:N=>{t({title:"Import termin",description:N?`Performances importes: ${N.imported??0}. Erreurs: ${N.errors?.length??0}.`:""}),p()},onError:()=>{t({title:"Import impossible",variant:"destructive"})}}),E=_.useMemo(()=>[...i].sort((N,j)=>N.source_type!==j.source_type?N.source_type.localeCompare(j.source_type):N.display_name.localeCompare(j.display_name)),[i]);return m?u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-3xl font-display font-bold uppercase italic text-primary",children:"Administration des records"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Grez les nageurs pris en compte pour les records et lancez l'import FFN."})]}),u.jsx(Ce,{onClick:()=>w.mutate(),disabled:w.isPending,children:w.isPending?"Import en cours...":"Mettre  jour les records"})]}),u.jsxs(Pe,{children:[u.jsxs(Ze,{children:[u.jsx(rt,{children:"Ajouter un ancien nageur"}),u.jsx(Qt,{children:"Ajoutez un nageur sans compte pour l'import des performances FFN."})]}),u.jsxs(Be,{className:"grid gap-4 md:grid-cols-[2fr_1fr_1fr_1fr_auto]",children:[u.jsx(xt,{placeholder:"Nom du nageur",value:n.display_name,onChange:N=>r(j=>({...j,display_name:N.target.value}))}),u.jsx(xt,{placeholder:"IUF",value:n.iuf,onChange:N=>r(j=>({...j,iuf:N.target.value}))}),u.jsxs(yn,{value:n.sex,onValueChange:N=>r(j=>({...j,sex:N})),children:[u.jsx(mn,{children:u.jsx(bn,{placeholder:"Sexe"})}),u.jsx(pn,{children:P6.map(N=>u.jsx(ct,{value:N.value,children:N.label},N.value))})]}),u.jsx(xt,{type:"date",value:n.birthdate,onChange:N=>r(j=>({...j,birthdate:N.target.value}))}),u.jsx(Ce,{onClick:()=>v.mutate(),disabled:!n.display_name.trim()||v.isPending,children:"Ajouter"})]})]}),u.jsxs(Pe,{children:[u.jsxs(Ze,{children:[u.jsx(rt,{children:"Liste des nageurs suivis"}),u.jsx(Qt,{children:"Mettre  jour l'IUF, le sexe ou l'activation pour l'import FFN."})]}),u.jsxs(Be,{children:[o&&u.jsx("p",{className:"text-sm text-muted-foreground",children:"Chargement..."}),d&&u.jsx("p",{className:"text-sm text-destructive",children:d}),!o&&!d&&i.length===0&&u.jsx("p",{className:"text-sm text-muted-foreground",children:"Aucun nageur disponible."}),!o&&!d&&i.length>0&&u.jsxs(Mm,{children:[u.jsx(km,{children:u.jsxs(ja,{children:[u.jsx(In,{children:"Nageur"}),u.jsx(In,{children:"Source"}),u.jsx(In,{children:"IUF"}),u.jsx(In,{children:"Sexe"}),u.jsx(In,{children:"Naissance"}),u.jsx(In,{children:"Actif"})]})}),u.jsx(Dm,{children:E.map(N=>{const j=N.id??`user-${N.user_id??"unknown"}`;return u.jsxs(ja,{children:[u.jsx(Rn,{className:"font-medium",children:N.display_name}),u.jsx(Rn,{children:u.jsx(ln,{variant:N.source_type==="manual"?"secondary":"outline",children:WMe(N.source_type)})}),u.jsx(Rn,{children:u.jsx(xt,{defaultValue:N.iuf??"",onBlur:O=>y(N,{iuf:O.target.value.trim()||null})},`${j}-${N.iuf??""}`)}),u.jsx(Rn,{children:u.jsxs(yn,{value:N.sex??"",onValueChange:O=>y(N,{sex:O||null}),children:[u.jsx(mn,{children:u.jsx(bn,{placeholder:"Sexe"})}),u.jsx(pn,{children:P6.map(O=>u.jsx(ct,{value:O.value,children:O.label},O.value))})]})}),u.jsx(Rn,{children:u.jsx(xt,{type:"date",defaultValue:N.birthdate??"",onBlur:O=>y(N,{birthdate:O.target.value||null})},`${j}-${N.birthdate??""}`)}),u.jsx(Rn,{children:u.jsx(id,{checked:!!N.is_active,onCheckedChange:O=>y(N,{is_active:O})})})]},j)})})]})]})]})]}):u.jsxs("div",{className:"space-y-4",children:[u.jsx("h1",{className:"text-3xl font-display font-bold uppercase italic text-primary",children:"Administration des records"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Accs rserv aux coachs."})]})}const XMe=[{key:"M",label:"Garons"},{key:"F",label:"Filles"}],QMe=[{key:"25",label:"25 m"},{key:"50",label:"50 m"}],JMe=[{key:"8",label:"8 ans et -"},{key:"9",label:"9 ans"},{key:"10",label:"10 ans"},{key:"11",label:"11 ans"},{key:"12",label:"12 ans"},{key:"13",label:"13 ans"},{key:"14",label:"14 ans"},{key:"15",label:"15 ans"},{key:"16",label:"16 ans"},{key:"17",label:"17 ans et +"}],ZMe=[{key:"ALL",label:"Toutes catgories"},...JMe],eke=[{key:"ALL",label:"Toutes"},{key:"FREE",label:"Nage libre"},{key:"BACK",label:"Dos"},{key:"BREAST",label:"Brasse"},{key:"FLY",label:"Papillon"},{key:"IM",label:"4 nages"}],M6=[{id:"50_FREE",label:"50 m NL",stroke:"FREE"},{id:"100_FREE",label:"100 m NL",stroke:"FREE"},{id:"200_FREE",label:"200 m NL",stroke:"FREE"},{id:"400_FREE",label:"400 m NL",stroke:"FREE"},{id:"800_FREE",label:"800 m NL",stroke:"FREE"},{id:"1500_FREE",label:"1500 m NL",stroke:"FREE"},{id:"50_BACK",label:"50 m Dos",stroke:"BACK"},{id:"100_BACK",label:"100 m Dos",stroke:"BACK"},{id:"200_BACK",label:"200 m Dos",stroke:"BACK"},{id:"50_BREAST",label:"50 m Brasse",stroke:"BREAST"},{id:"100_BREAST",label:"100 m Brasse",stroke:"BREAST"},{id:"200_BREAST",label:"200 m Brasse",stroke:"BREAST"},{id:"50_FLY",label:"50 m Pap",stroke:"FLY"},{id:"100_FLY",label:"100 m Pap",stroke:"FLY"},{id:"200_FLY",label:"200 m Pap",stroke:"FLY"},{id:"200_IM",label:"200 m 4N",stroke:"IM"},{id:"400_IM",label:"400 m 4N",stroke:"IM"}],tke=e=>{if(!e&&e!==0)return"-";const t=Math.round(e/10),n=t%100,r=Math.floor(t/100),i=r%60,a=Math.floor(r/60),o=l=>String(l).padStart(2,"0");return a>0?`${a}:${o(i)}.${o(n)}`:`${i}.${o(n)}`},nke=e=>{if(!e)return"-";const t=new Date(e);return Number.isNaN(t.getTime())?e:t.toLocaleDateString("fr-FR")},rke=e=>e.replace(/^\d+_/,""),ike=(e,t)=>e.event_label||t.get(e.event_code)||e.event_code;function ake(){const[e,t]=_.useState("25"),[n,r]=_.useState("M"),[i,a]=_.useState("ALL"),[o,l]=_.useState("ALL"),d=i==="ALL"?null:Number(i),{data:f=[],isLoading:m,error:p}=Pt({queryKey:["club-records",e,n,i],queryFn:()=>De.getClubRecords({pool_m:Number(e),sex:n,age:d})}),v=_.useMemo(()=>new Map(M6.map(y=>[y.id,y.label])),[]),b=_.useMemo(()=>new Map(M6.map((y,w)=>[y.id,w])),[]),x=_.useMemo(()=>[...o==="ALL"?f:f.filter(w=>rke(w.event_code)===o)].sort((w,E)=>{const N=b.get(w.event_code)??999,j=b.get(E.event_code)??999;return N!==j?N-j:w.age!==E.age?w.age-E.age:w.time_ms-E.time_ms}),[f,o,b]);return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx("h1",{className:"text-3xl font-display font-bold uppercase italic text-primary",children:"Records du club"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Retrouvez les meilleures performances par preuve, sexe, bassin et catgorie dge."})]}),u.jsxs(Pe,{children:[u.jsx(Ze,{children:u.jsx(rt,{className:"text-base",children:"Filtres rapides"})}),u.jsxs(Be,{className:"space-y-4",children:[u.jsxs("div",{className:"grid gap-3 sm:grid-cols-3",children:[u.jsxs(yn,{value:e,onValueChange:t,children:[u.jsx(mn,{children:u.jsx(bn,{placeholder:"Bassin"})}),u.jsx(pn,{children:QMe.map(y=>u.jsx(ct,{value:y.key,children:y.label},y.key))})]}),u.jsxs(yn,{value:n,onValueChange:r,children:[u.jsx(mn,{children:u.jsx(bn,{placeholder:"Sexe"})}),u.jsx(pn,{children:XMe.map(y=>u.jsx(ct,{value:y.key,children:y.label},y.key))})]}),u.jsxs(yn,{value:i,onValueChange:a,children:[u.jsx(mn,{children:u.jsx(bn,{placeholder:"Catgorie d'ge"})}),u.jsx(pn,{children:ZMe.map(y=>u.jsx(ct,{value:y.key,children:y.label},y.key))})]})]}),u.jsx($m,{value:o,onValueChange:l,children:u.jsx(jd,{className:"flex w-full justify-start gap-2 overflow-x-auto",children:eke.map(y=>u.jsx(Oa,{value:y.key,className:"shrink-0",children:y.label},y.key))})})]})]}),u.jsxs("div",{className:"space-y-3",children:[m&&u.jsx("div",{className:"text-sm text-muted-foreground",children:"Chargement des records..."}),p&&u.jsx("div",{className:"rounded-md border border-destructive/40 bg-destructive/10 p-3 text-sm text-destructive",children:"Impossible de charger les records. Ressayez plus tard."}),!m&&!p&&x.length===0&&u.jsx("div",{className:"text-sm text-muted-foreground",children:"Aucun record disponible pour ces filtres."}),x.map(y=>u.jsx(Pe,{className:"shadow-sm",children:u.jsxs(Be,{className:"flex flex-col gap-3 py-4",children:[u.jsxs("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-start sm:justify-between",children:[u.jsxs("div",{children:[u.jsx("div",{className:"text-xs uppercase tracking-wide text-muted-foreground",children:ike(y,v)}),u.jsx("div",{className:"text-2xl font-semibold text-primary",children:tke(y.time_ms)})]}),u.jsxs("div",{className:"text-sm text-muted-foreground sm:text-right",children:[u.jsx("div",{className:"font-semibold text-foreground",children:y.athlete_name}),u.jsx("div",{children:nke(y.record_date)})]})]}),u.jsxs("div",{className:"flex flex-wrap gap-2",children:[u.jsx(ln,{variant:"secondary",children:y.sex==="M"?"Garons":"Filles"}),u.jsxs(ln,{variant:"outline",children:[y.pool_m," m"]}),u.jsxs(ln,{variant:"outline",children:[y.age," ans"]})]})]})},`${y.event_code}-${y.age}-${y.sex}-${y.pool_m}`))]})]})}const ske=(e,t)=>e.target_group_id?`group:${e.target_group_id}`:t&&e.sender_id!==null&&e.sender_id!==void 0&&e.sender_id!==t?`user:${e.sender_id}`:t&&e.counterparty_id!==null&&e.counterparty_id!==void 0?`user:${e.counterparty_id}`:t&&e.target_user_id?`user:${e.target_user_id}`:e.counterparty_id!==null&&e.counterparty_id!==void 0?`user:${e.counterparty_id}`:e.sender_id!==null&&e.sender_id!==void 0?`user:${e.sender_id}`:e.sender_email?`email:${e.sender_email}`:`sender:${e.sender}`,oke=e=>[...e].sort((t,n)=>new Date(t.date).getTime()-new Date(n.date).getTime()),lke=e=>e.filter(t=>!t.read).map(t=>t.target_id??t.id).filter(t=>Number.isFinite(t)),cke=({message:e,senderId:t,senderLabel:n,targetUserId:r,targetGroupId:i,title:a="Message"})=>({id:Date.now(),sender:n||"Coach",sender_name:n||null,sender_id:t??null,sender_email:null,target_user_id:r??null,target_group_id:i??null,title:a,message:e,type:"message",read:!0,date:new Date().toISOString()}),uke=(e,t)=>{const n=new Map;return e.forEach(r=>{const i=ske(r,t);n.has(i)||n.set(i,[]),n.get(i)?.push(r)}),Array.from(n.entries()).map(([r,i])=>{const a=oke(i),o=a[a.length-1],l=i.some(x=>!x.read),d=r.startsWith("user:")?Number(r.split(":")[1]):null,f=r.startsWith("group:")?Number(r.split(":")[1]):null,m=t?i.find(x=>x.sender_id&&x.sender_id!==t)??o:o,p=i.find(x=>x.counterparty_name)?.counterparty_name,v=i.find(x=>x.target_group_name)?.target_group_name??null,b=t?i.find(x=>x.target_id)?.target_id??null:i.find(x=>x.target_id)?.target_id??null;return{key:r,senderId:o.sender_id??null,senderLabel:v??p??m.sender,messages:a,lastMessage:o,lastTimestamp:new Date(o.date).getTime(),hasUnread:l,counterpartyId:Number.isFinite(d)?d:null,targetGroupId:Number.isFinite(f)?f:null,targetGroupName:v,replyTargetId:b}})};function dke(){const{user:e,userId:t,role:n}=sn(),{toast:r}=pi(),i=oa(),[a,o]=_.useState(null),[l,d]=_.useState(""),{data:f,isLoading:m,error:p}=Pt({queryKey:["notifications",t,e,"threads"],queryFn:()=>De.notifications_list({targetUserId:t,targetAthleteName:e,limit:200,offset:0,type:"message",order:"desc"}),enabled:!!e,refetchInterval:1e4}),{data:v,error:b}=Pt({queryKey:["capabilities","messaging"],queryFn:()=>De.getCapabilities(),enabled:wl.hasSupabase}),x=Lt({mutationFn:I=>De.notifications_mark_read({targetId:I}),onMutate:async I=>{await i.cancelQueries({queryKey:["notifications"]});const B=i.getQueryData(["notifications",t,e,"threads"]);return i.setQueryData(["notifications",t,e,"threads"],$=>$?.notifications?{...$,notifications:$.notifications.map(F=>(F.target_id??F.id)===I?{...F,read:!0}:F)}:$),{previous:B}},onError:(I,B,$)=>{$?.previous&&i.setQueryData(["notifications",t,e,"threads"],$.previous)},onSettled:()=>{i.invalidateQueries({queryKey:["notifications"]})}}),y=Lt({mutationFn:I=>De.notifications_send({title:"Message",body:I.message,type:"message",targets:[I.targetGroupId?{target_group_id:I.targetGroupId}:{target_user_id:I.targetUserId||null}],reply_to_target_id:I.replyTargetId??void 0}),onMutate:async I=>{if(!I.message.trim())return;await i.cancelQueries({queryKey:["notifications",t,e,"threads"]});const B=i.getQueryData(["notifications",t,e,"threads"]),$=cke({message:I.message,senderId:t,senderLabel:e??"Coach",targetUserId:I.targetUserId,targetGroupId:I.targetGroupId??null});return i.setQueryData(["notifications",t,e,"threads"],F=>F?.notifications?{...F,notifications:[$,...F.notifications]}:F),{previous:B}},onSuccess:()=>{d(""),i.invalidateQueries({queryKey:["notifications"]})},onError:(I,B,$)=>{$?.previous&&i.setQueryData(["notifications",t,e,"threads"],$.previous);const F=Mr(I,"Le message n'a pas pu tre envoy.");r({title:"Envoi impossible",description:F.message,variant:"destructive"})}}),w=f?.notifications??[],E=w.filter(I=>!I.read).length,N=_.useMemo(()=>uke(w,t).sort((I,B)=>B.lastTimestamp-I.lastTimestamp),[w,t]),j=N.filter(I=>!I.targetGroupId),O=N.filter(I=>I.targetGroupId),T=a?N.find(I=>I.key===a):null,C=!!(T?.counterpartyId||T?.targetGroupId)&&(n!=="athlete"||!wl.hasSupabase||!!T?.replyTargetId),R=I=>{o(I.key),lke(I.messages).forEach($=>x.mutate($))};if(m)return u.jsx("div",{className:"p-8 text-center animate-pulse",children:"Chargement..."});const M=b?Mr(b,"Impossible de vrifier la messagerie.").message:v?.mode==="supabase"&&!v.messaging.available?"Messagerie indisponible (tables manquantes ct D1).":null,k=p?Mr(p,"Impossible de charger les messages.").message:null;return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("h1",{className:"text-3xl font-display font-bold uppercase italic text-primary",children:"Messagerie"}),E>0&&u.jsxs(ln,{variant:"destructive",children:[E," non lus"]})]}),M?u.jsx(Pe,{className:"border-dashed",children:u.jsx(Be,{className:"py-4 text-sm text-muted-foreground",children:M})}):null,k?u.jsx(Pe,{className:"border-destructive/40",children:u.jsx(Be,{className:"py-4 text-sm text-destructive",children:k})}):null,T?u.jsxs("div",{className:"space-y-4",children:[u.jsxs("button",{type:"button",className:"inline-flex items-center gap-2 text-sm text-muted-foreground",onClick:()=>o(null),children:[u.jsx(Lz,{className:"h-4 w-4"}),"Retour"]}),u.jsxs(Pe,{children:[u.jsxs(Ze,{children:[u.jsx(rt,{children:T.senderLabel}),u.jsx(Qt,{children:"Conversation"})]}),u.jsx(Be,{className:"space-y-3",children:T.messages.map(I=>{const B=I.sender_id===t;return u.jsx("div",{className:`flex ${B?"justify-end":"justify-start"}`,children:u.jsxs("div",{className:`flex items-end gap-2 ${B?"flex-row-reverse":"flex-row"}`,children:[u.jsxs("div",{className:`max-w-[80%] rounded-2xl border px-4 py-3 text-sm shadow-sm ${B?"border-primary/40 bg-primary text-primary-foreground":"border-border bg-muted/50 text-foreground"}`,children:[u.jsx("div",{className:`text-xs ${B?"text-primary-foreground/80":"text-muted-foreground"}`,children:I.sender}),u.jsx("div",{className:"mt-1",children:I.message})]}),u.jsx("span",{className:"text-xs text-muted-foreground",children:Sn(new Date(I.date),"HH:mm",{locale:lo})})]})},I.id)})})]}),u.jsxs(Pe,{children:[u.jsxs(Ze,{children:[u.jsx(rt,{children:C?"Rpondre":"Rponse indisponible"}),u.jsx(Qt,{children:"Rpondez  ce fil."})]}),u.jsx(Be,{className:"space-y-3",children:C?u.jsxs(u.Fragment,{children:[u.jsx(ql,{value:l,onChange:I=>d(I.target.value),placeholder:"Votre message...",rows:3}),u.jsxs(Ce,{onClick:()=>{const I=T.counterpartyId,B=T.targetGroupId;if(!I&&!B){r({title:"Envoi impossible",description:"Destinataire introuvable pour ce fil.",variant:"destructive"});return}y.mutate({targetUserId:I??0,targetGroupId:B,message:l,replyTargetId:n==="athlete"&&wl.hasSupabase?T.replyTargetId:null})},disabled:!l.trim()||y.isPending,children:[u.jsx(mee,{className:"mr-2 h-4 w-4"}),"Envoyer"]})]}):u.jsx("div",{className:"text-sm text-muted-foreground",children:n==="athlete"?"Rponse possible uniquement sur un fil existant.":"Aucun destinataire disponible pour ce fil."})})]})]}):u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"space-y-3",children:[u.jsx("div",{className:"text-sm font-bold uppercase text-muted-foreground tracking-wider ml-1",children:"Discussions"}),u.jsxs("div",{className:"space-y-3",children:[j.map(I=>u.jsx("button",{type:"button",onClick:()=>R(I),className:"w-full text-left",children:u.jsx(Pe,{className:"group hover:bg-muted/50 transition-colors border-l-4 border-l-transparent hover:border-l-primary",children:u.jsxs(Be,{className:"p-4 flex items-start gap-4",children:[u.jsx("div",{className:`p-2 rounded-full ${I.hasUnread?"bg-primary/20":"bg-muted"}`,children:u.jsx(as,{className:"h-4 w-4 text-primary"})}),u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("div",{className:"font-bold",children:I.senderLabel}),u.jsx("div",{className:"text-xs text-muted-foreground",children:Sn(new Date(I.lastMessage.date),"dd MMM",{locale:lo})})]}),u.jsx("p",{className:"text-sm text-muted-foreground line-clamp-1",children:I.lastMessage.message})]}),I.hasUnread?u.jsx(ln,{variant:"secondary",children:"Non lu"}):null]})})},I.key)),j.length===0?u.jsx(Pe,{className:"border-dashed",children:u.jsx(Be,{className:"py-10 text-center text-sm text-muted-foreground",children:"Aucune discussion directe pour le moment."})}):null]})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsx("div",{className:"text-sm font-bold uppercase text-muted-foreground tracking-wider ml-1",children:"Groupes"}),u.jsxs("div",{className:"space-y-3",children:[O.map(I=>u.jsx("button",{type:"button",onClick:()=>R(I),className:"w-full text-left",children:u.jsx(Pe,{className:"group hover:bg-muted/50 transition-colors border-l-4 border-l-transparent hover:border-l-primary",children:u.jsxs(Be,{className:"p-4 flex items-start gap-4",children:[u.jsx("div",{className:`p-2 rounded-full ${I.hasUnread?"bg-primary/20":"bg-muted"}`,children:u.jsx(as,{className:"h-4 w-4 text-primary"})}),u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("div",{className:"font-bold",children:I.senderLabel}),u.jsx("div",{className:"text-xs text-muted-foreground",children:Sn(new Date(I.lastMessage.date),"dd MMM",{locale:lo})})]}),u.jsx("p",{className:"text-sm text-muted-foreground line-clamp-1",children:I.lastMessage.message})]}),I.hasUnread?u.jsx(ln,{variant:"secondary",children:"Non lu"}):null]})})},I.key)),O.length===0?u.jsx(Pe,{className:"border-dashed",children:u.jsx(Be,{className:"py-10 text-center text-sm text-muted-foreground",children:"Aucun message de groupe pour le moment."})}):null]})]})]})]})}const fke={assigned:"Assigne",pending:"Assigne",in_progress:"En cours",completed:"Termine",cancelled:"Annule"},hke=e=>{if(!e)return"-";const t=new Date(e);return Number.isNaN(t.getTime())?e:Sn(t,"dd MMM",{locale:lo})};function mke(){const{user:e,userId:t}=sn(),[n,r]=ad(),[i,a]=_.useState(!0),[o,l]=_.useState(null),{toast:d}=pi(),f=oa(),m=_.useMemo(()=>{const[,N]=n.split("?");if(!N)return null;const O=new URLSearchParams(N).get("assignmentId"),T=O?Number(O):NaN;return Number.isFinite(T)?T:null},[n]),{data:p,isLoading:v}=Pt({queryKey:["assignments",e],queryFn:()=>De.getAssignments(e,t),enabled:!!e}),b=p?.filter(N=>N.session_type==="swim")||[],x=m?b.find(N=>N.id===m):b[0],y=qO(x?.items??[]),w=_.useMemo(()=>{if(!x?.items)return 0;const N=new Set;return x.items.forEach(j=>{const O=j.raw_payload??{},T=O.block_title||O.section||"Bloc",C=O.block_order??0;N.add(`${C}-${T}`)}),N.size},[x?.items]),E=Lt({mutationFn:N=>De.assignments_delete(N),onSuccess:()=>{f.invalidateQueries({queryKey:["assignments"]}),d({title:"Sance retire",description:"La sance a t retire de votre feed."}),r("/")},onError:()=>{d({title:"Erreur",description:"Impossible de retirer la sance.",variant:"destructive"})}});return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(Ce,{variant:"ghost",size:"icon",onClick:()=>r("/"),"aria-label":"Retour  l'accueil",children:u.jsx(_h,{className:"h-5 w-5"})}),u.jsxs("div",{children:[u.jsx("div",{className:"text-xs uppercase tracking-[0.2em] text-muted-foreground",children:"Sance natation"}),u.jsx("h1",{className:"text-2xl font-display font-bold uppercase",children:"Lecture"})]})]}),x?u.jsx(ln,{variant:"secondary",className:"text-xs",children:fke[x.status]??"Assigne"}):null]}),u.jsx(Pe,{className:"border border-slate-200 shadow-sm",children:u.jsxs(Be,{className:"space-y-4 p-5",children:[u.jsxs("div",{className:"space-y-1",children:[u.jsx("div",{className:"text-lg font-semibold tracking-tight",children:x?.title??"Sance natation"}),x?.description?u.jsx("p",{className:"text-sm text-muted-foreground",children:x.description}):null]}),u.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[u.jsxs("div",{className:"flex flex-wrap gap-2",children:[u.jsx(ln,{variant:"outline",className:"text-xs",children:hke(x?.assigned_date)}),u.jsxs(ln,{variant:"secondary",className:"text-xs",children:[u.jsx(Uz,{className:"mr-1 h-3.5 w-3.5"})," ",y,"m"]}),u.jsxs(ln,{variant:"secondary",className:"text-xs",children:[u.jsx(Bz,{className:"mr-1 h-3.5 w-3.5"})," ",w," blocs"]})]}),x?u.jsx(Ce,{variant:"ghost",size:"sm",onClick:()=>{window.confirm("Retirer cette sance de votre feed ?")&&E.mutate(x.id)},className:"text-xs text-muted-foreground hover:text-foreground",children:"Retirer de mon feed"}):null,u.jsxs("div",{className:"flex items-center rounded-full border border-slate-200 bg-slate-50 p-1 text-xs font-semibold",children:[u.jsx("button",{type:"button","aria-pressed":i,onClick:()=>a(!0),className:`rounded-full px-3 py-1 transition ${i?"bg-slate-900 text-white shadow-sm":"text-muted-foreground"}`,children:"Condens"}),u.jsx("button",{type:"button","aria-pressed":!i,onClick:()=>a(!1),className:`rounded-full px-3 py-1 transition ${i?"text-muted-foreground":"bg-slate-900 text-white shadow-sm"}`,children:"Dtail"})]})]}),u.jsx(BO,{}),v?u.jsx("div",{className:"text-sm text-muted-foreground",children:"Chargement de la sance..."}):x?u.jsx(cA,{title:x.title,description:x.description,items:x.items,showHeader:!1,compactMode:i,onExerciseSelect:N=>{l(N)}}):u.jsx("div",{className:"rounded-2xl border border-dashed border-muted/70 bg-muted/30 p-6 text-sm text-muted-foreground",children:"Aucune sance de natation assigne pour le moment."})]})}),u.jsx(VO,{open:!!o,onOpenChange:N=>{N||l(null)},children:u.jsxs(J0,{side:"bottom",className:"max-h-[80vh] overflow-y-auto",children:[u.jsx(Z0,{children:u.jsx(eb,{children:"Dtails de l'exercice"})}),o?u.jsxs("div",{className:"mt-4 space-y-3",children:[u.jsxs("div",{className:"space-y-1",children:[u.jsx("p",{className:"text-xs uppercase tracking-[0.2em] text-muted-foreground",children:o.blockTitle&&o.blockIndex!==void 0?`Bloc ${o.blockIndex+1}`:"Bloc"}),u.jsx("p",{className:"text-lg font-semibold",children:o.label})]}),u.jsxs("div",{className:"flex flex-wrap gap-2 text-xs text-muted-foreground",children:[o.repetitions?u.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-muted/40 px-2 py-1",children:[o.repetitions,"x"]}):null,o.distance?u.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-muted/40 px-2 py-1",children:[o.distance,"m"]}):null,o.rest?u.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-muted/40 px-2 py-1",children:["Rcup ",o.rest,"s"]}):null,o.stroke?u.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-muted/40 px-2 py-1",children:["Nage : ",o.stroke]}):null,o.strokeType?u.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-muted/40 px-2 py-1",children:["Type : ",o.strokeType]}):null,o.intensity?u.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-muted/40 px-2 py-1",children:["Intensit : ",o.intensity]}):null]}),o.modalities?u.jsx("div",{className:"rounded-2xl border bg-muted/10 p-3 text-sm text-muted-foreground",children:o.modalities}):null,o.equipment?.length?u.jsx("div",{className:"flex flex-wrap gap-2 text-xs text-muted-foreground",children:o.equipment.map(N=>u.jsx("span",{className:"rounded-full border px-2 py-1",children:N},N))}):null]}):null]})})]})}function pke(){return u.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:u.jsx(Pe,{className:"w-full max-w-md mx-4",children:u.jsxs(Be,{className:"pt-6",children:[u.jsxs("div",{className:"flex mb-4 gap-2",children:[u.jsx(AZ,{className:"h-8 w-8 text-red-500"}),u.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),u.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}const gke=()=>{const e=()=>(window.location.hash||"#/").replace(/^#/,"")||"/",[t,n]=q.useState(e);q.useEffect(()=>{const i=()=>n(e());return window.addEventListener("hashchange",i),()=>window.removeEventListener("hashchange",i)},[]);const r=q.useCallback((i,a)=>{const o=i.startsWith("/")?`#${i}`:`#/${i}`;a?.replace?window.location.replace(o):window.location.hash=o},[]);return[t,r]};function vke(){const{user:e}=sn();return e?u.jsx(Sse,{children:u.jsxs(rk,{children:[u.jsx(or,{path:"/",component:Lhe}),u.jsx(or,{path:"/progress",component:qOe}),u.jsx(or,{path:"/hall-of-fame",component:FOe}),u.jsx(or,{path:"/coach",component:WRe}),u.jsx(or,{path:"/admin",component:sPe}),u.jsx(or,{path:"/administratif",component:pPe}),u.jsx(or,{path:"/comite",component:gPe}),u.jsx(or,{path:"/strength",component:PMe}),u.jsx(or,{path:"/records",component:KMe}),u.jsx(or,{path:"/records-admin",component:YMe}),u.jsx(or,{path:"/records-club",component:ake}),u.jsx(or,{path:"/swim-session",component:mke}),u.jsx(or,{path:"/profile",component:FMe}),u.jsx(or,{path:"/notifications",component:dke}),u.jsx(or,{path:"/coming-soon",component:sW}),u.jsx(or,{component:pke})]})}):u.jsxs(rk,{children:[u.jsx(or,{path:"/",component:zle}),u.jsx(or,{path:"/:rest*",component:()=>u.jsx(Iy,{to:"/"})})]})}function yke(){const{loadUser:e}=sn();return q.useEffect(()=>{e()},[e]),u.jsx(eJ,{client:hJ,children:u.jsxs(Cre,{children:[u.jsx(_te,{}),u.jsx(V6,{hook:gke,children:u.jsx(vke,{})})]})})}mQ.createRoot(document.getElementById("root")).render(u.jsx(yke,{}));
