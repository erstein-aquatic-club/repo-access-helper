import{r as s,R as O,j as l}from"./vendor-query-BiSH4r2z.js";import{n as U,p as H,r as z,P,q as S,N as G,a as N}from"./index-CsyVpfGC.js";import{u as K}from"./select-8OcbGTbE.js";import{C as X}from"./check-DzJbN7Hc.js";function j(e,r,{checkForDefaultPrevented:o=!0}={}){return function(n){if(e?.(n),o===!1||!n.defaultPrevented)return r?.(n)}}var J=O[" useInsertionEffect ".trim().toString()]||U;function Q({prop:e,defaultProp:r,onChange:o=()=>{},caller:i}){const[n,t,h]=V({defaultProp:r,onChange:o}),c=e!==void 0,f=c?e:n;{const d=s.useRef(e!==void 0);s.useEffect(()=>{const a=d.current;a!==c&&console.warn(`${i} is changing from ${a?"controlled":"uncontrolled"} to ${c?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=c},[c,i])}const m=s.useCallback(d=>{if(c){const a=W(d)?d(e):d;a!==e&&h.current?.(a)}else t(d)},[c,e,t,h]);return[f,m]}function V({defaultProp:e,onChange:r}){const[o,i]=s.useState(e),n=s.useRef(o),t=s.useRef(r);return J(()=>{t.current=r},[r]),s.useEffect(()=>{n.current!==o&&(t.current?.(o),n.current=o)},[o,n]),[o,i,t]}function W(e){return typeof e=="function"}var g="Checkbox",[Y]=H(g),[Z,I]=Y(g);function ee(e){const{__scopeCheckbox:r,checked:o,children:i,defaultChecked:n,disabled:t,form:h,name:c,onCheckedChange:f,required:m,value:d="on",internal_do_not_use_render:a}=e,[b,v]=Q({prop:o,defaultProp:n??!1,onChange:f,caller:g}),[k,x]=s.useState(null),[R,u]=s.useState(null),p=s.useRef(!1),E=k?!!h||!!k.closest("form"):!0,y={checked:b,disabled:t,setChecked:v,control:k,setControl:x,name:c,form:h,value:d,hasConsumerStoppedPropagationRef:p,required:m,defaultChecked:C(n)?!1:n,isFormControl:E,bubbleInput:R,setBubbleInput:u};return l.jsx(Z,{scope:r,...y,children:te(a)?a(y):i})}var B="CheckboxTrigger",q=s.forwardRef(({__scopeCheckbox:e,onKeyDown:r,onClick:o,...i},n)=>{const{control:t,value:h,disabled:c,checked:f,required:m,setControl:d,setChecked:a,hasConsumerStoppedPropagationRef:b,isFormControl:v,bubbleInput:k}=I(B,e),x=S(n,d),R=s.useRef(f);return s.useEffect(()=>{const u=t?.form;if(u){const p=()=>a(R.current);return u.addEventListener("reset",p),()=>u.removeEventListener("reset",p)}},[t,a]),l.jsx(P.button,{type:"button",role:"checkbox","aria-checked":C(f)?"mixed":f,"aria-required":m,"data-state":F(f),"data-disabled":c?"":void 0,disabled:c,value:h,...i,ref:x,onKeyDown:j(r,u=>{u.key==="Enter"&&u.preventDefault()}),onClick:j(o,u=>{a(p=>C(p)?!0:!p),k&&v&&(b.current=u.isPropagationStopped(),b.current||u.stopPropagation())})})});q.displayName=B;var _=s.forwardRef((e,r)=>{const{__scopeCheckbox:o,name:i,checked:n,defaultChecked:t,required:h,disabled:c,value:f,onCheckedChange:m,form:d,...a}=e;return l.jsx(ee,{__scopeCheckbox:o,checked:n,defaultChecked:t,disabled:c,required:h,onCheckedChange:m,name:i,form:d,value:f,internal_do_not_use_render:({isFormControl:b})=>l.jsxs(l.Fragment,{children:[l.jsx(q,{...a,ref:r,__scopeCheckbox:o}),b&&l.jsx(D,{__scopeCheckbox:o})]})})});_.displayName=g;var M="CheckboxIndicator",T=s.forwardRef((e,r)=>{const{__scopeCheckbox:o,forceMount:i,...n}=e,t=I(M,o);return l.jsx(z,{present:i||C(t.checked)||t.checked===!0,children:l.jsx(P.span,{"data-state":F(t.checked),"data-disabled":t.disabled?"":void 0,...n,ref:r,style:{pointerEvents:"none",...e.style}})})});T.displayName=M;var A="CheckboxBubbleInput",D=s.forwardRef(({__scopeCheckbox:e,...r},o)=>{const{control:i,hasConsumerStoppedPropagationRef:n,checked:t,defaultChecked:h,required:c,disabled:f,name:m,value:d,form:a,bubbleInput:b,setBubbleInput:v}=I(A,e),k=S(o,v),x=K(t),R=G(i);s.useEffect(()=>{const p=b;if(!p)return;const E=window.HTMLInputElement.prototype,w=Object.getOwnPropertyDescriptor(E,"checked").set,L=!n.current;if(x!==t&&w){const $=new Event("click",{bubbles:L});p.indeterminate=C(t),w.call(p,C(t)?!1:t),p.dispatchEvent($)}},[b,x,t,n]);const u=s.useRef(C(t)?!1:t);return l.jsx(P.input,{type:"checkbox","aria-hidden":!0,defaultChecked:h??u.current,required:c,disabled:f,name:m,value:d,form:a,...r,tabIndex:-1,ref:k,style:{...r.style,...R,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});D.displayName=A;function te(e){return typeof e=="function"}function C(e){return e==="indeterminate"}function F(e){return C(e)?"indeterminate":e?"checked":"unchecked"}const oe=s.forwardRef(({className:e,...r},o)=>l.jsx(_,{ref:o,className:N("grid place-content-center peer h-4 w-4 shrink-0 rounded-sm border border-primary shadow focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...r,children:l.jsx(T,{className:N("grid place-content-center text-current"),children:l.jsx(X,{className:"h-4 w-4"})})}));oe.displayName=_.displayName;export{oe as C};
